const _0x18e37e=_0x3266;function _0x30af(){const _0x42252c=['restore','2254hmrljc','exit','93eNYmDc','versions',',\x20but\x20version\x20','776064mbCvwX','error','slice','yargs/yargs','Balance\x20Bot\x20>\x20','558365fYXIGO','log','keys','inherit','existsSync','1443032XKIzuu','apply','83922vruEjc','reinstall',',\x20must\x20be\x20a\x204\x20digit\x20number','--port','constructor','search','SIGTERM','user','test','terminate','update','child_process','(((.+)+)+)+$','push','50010zxKWSA','install.js','Automatically\x20restarting\x20BM','kill','\x20or\x20above\x20is\x20required','126vNcRJz','Error:\x20Invalid\x20argument\x20','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','port','bb/','bm.js','ipc','1022580SfmOAF','The\x20installed\x20Node.js\x20version\x20is\x20','fork','values','argv'];_0x30af=function(){return _0x42252c;};return _0x30af();}(function(_0x1702c9,_0x4eb1f8){const _0x1efb08=_0x3266,_0x1e48fe=_0x1702c9();while(!![]){try{const _0x5ac20d=parseInt(_0x1efb08(0xe1))/0x1+parseInt(_0x1efb08(0xd0))/0x2*(-parseInt(_0x1efb08(0xd2))/0x3)+-parseInt(_0x1efb08(0xd5))/0x4+parseInt(_0x1efb08(0xda))/0x5+parseInt(_0x1efb08(0xbe))/0x6*(-parseInt(_0x1efb08(0xc3))/0x7)+parseInt(_0x1efb08(0xdf))/0x8+parseInt(_0x1efb08(0xca))/0x9;if(_0x5ac20d===_0x4eb1f8)break;else _0x1e48fe['push'](_0x1e48fe['shift']());}catch(_0x590e00){_0x1e48fe['push'](_0x1e48fe['shift']());}}}(_0x30af,0x1b013));const _0x32020f=function(){let _0x3e6947=!![];return function(_0x22e8e8,_0x231f96){const _0x5ad6ee=_0x3e6947?function(){const _0x4315f1=_0x3266;if(_0x231f96){const _0x30388b=_0x231f96[_0x4315f1(0xe0)](_0x22e8e8,arguments);return _0x231f96=null,_0x30388b;}}:function(){};return _0x3e6947=![],_0x5ad6ee;};}(),_0x260cf4=_0x32020f(this,function(){const _0x3db496=_0x3266;return _0x260cf4['toString']()[_0x3db496(0xb5)](_0x3db496(0xbc))['toString']()[_0x3db496(0xb4)](_0x260cf4)[_0x3db496(0xb5)](_0x3db496(0xbc));});_0x260cf4();const fs=require('fs'),argv=require(_0x18e37e(0xd8))(process[_0x18e37e(0xce)][_0x18e37e(0xd7)](0x2))[_0x18e37e(0xce)],childProcess=require(_0x18e37e(0xbb)),nodeversion=process[_0x18e37e(0xd3)]['node'],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x18e37e(0xdb)](),console['log']('-----------------------------------------------------------------------------------'),console[_0x18e37e(0xdb)](_0x18e37e(0xcb)+nodeversion+_0x18e37e(0xd4)+minversion+_0x18e37e(0xc2)),console['log'](_0x18e37e(0xc5)),console[_0x18e37e(0xdb)]('-----------------------------------------------------------------------------------'),console[_0x18e37e(0xdb)](),process['exit'](0x1));if(argv[_0x18e37e(0xc6)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x18e37e(0xb8)](argv[_0x18e37e(0xc6)])&&(console[_0x18e37e(0xdb)](_0x18e37e(0xc4)+argv[_0x18e37e(0xc6)]+_0x18e37e(0xb2)),process['exit'](0x1));}let args=[];argv[_0x18e37e(0xc6)]&&(args[_0x18e37e(0xbd)](_0x18e37e(0xb3)),args[_0x18e37e(0xbd)](argv['port']));argv['host']&&(args['push']('--host'),args[_0x18e37e(0xbd)](argv['host']));function _0x3266(_0x596b65,_0x99fd){const _0x14cc5e=_0x30af();return _0x3266=function(_0x260cf4,_0x32020f){_0x260cf4=_0x260cf4-0xb2;let _0x30affc=_0x14cc5e[_0x260cf4];return _0x30affc;},_0x3266(_0x596b65,_0x99fd);}argv['user']&&(args[_0x18e37e(0xbd)]('--user'),args[_0x18e37e(0xbd)](argv[_0x18e37e(0xb7)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args[_0x18e37e(0xbd)]('-d');if(recreate)args[_0x18e37e(0xbd)]('-r');let bmpath=_0x18e37e(0xc7);const bmfile=_0x18e37e(0xc8),updatefile=_0x18e37e(0xbf);!fs[_0x18e37e(0xde)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x18e37e(0xd1),async()=>{handleTerminate();}),process['on'](_0x18e37e(0xb6),async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function startBM(){const _0x56949f=_0x18e37e;let _0x3e4cae=![];const _0x1fbdab={'cwd':'','stdio':[_0x56949f(0xdd),_0x56949f(0xdd),_0x56949f(0xdd),_0x56949f(0xc9)]};pid1=childProcess[_0x56949f(0xcc)](bmpath+bmfile,args,_0x1fbdab),pid1['on']('message',_0x3c903d=>{const _0x2c133e=_0x56949f,_0x2f40c8=Object[_0x2c133e(0xcd)](_0x3c903d)[0x1]=='staging';switch(Object[_0x2c133e(0xdc)](_0x3c903d)[0x0]){case _0x2c133e(0xba):if(_0x2f40c8)startUpdate('2s');else startUpdate('2');break;case _0x2c133e(0xe2):if(_0x2f40c8)startUpdate('3s');else startUpdate('3');break;case _0x2c133e(0xcf):handleRestore();break;case _0x2c133e(0xb9):handleTerminate();break;}}),pid1['on'](_0x56949f(0xd6),function(_0x1fbe7c){if(_0x3e4cae)return;_0x3e4cae=!![],logging('Unexpected\x20error:',_0x1fbe7c);}),pid1['on'](_0x56949f(0xd1),function(_0x1e0a45){const _0x14ad0a=_0x56949f;if(terminating)return;if(updating)return;if(_0x3e4cae)return;_0x3e4cae=!![],console[_0x14ad0a(0xdb)](_0x14ad0a(0xc0)),startBM();});}async function handleTerminate(){const _0x25d7c2=_0x18e37e;stopBM(),await sleep(0x3e8),process[_0x25d7c2(0xd1)](0x0);}function stopBM(){const _0x177b58=_0x18e37e;terminating=!![];if(pid1)pid1[_0x177b58(0xc1)]();pid1=null;}function startUpdate(_0x522a4e){const _0x84c6fb=_0x18e37e;updating=!![],stopBM();let _0x43af4c=![];const _0x19046a={'cwd':'','stdio':[_0x84c6fb(0xdd),_0x84c6fb(0xdd),_0x84c6fb(0xdd),_0x84c6fb(0xc9)]};let _0x9871bf=[];if(staging)_0x9871bf[_0x84c6fb(0xbd)](_0x522a4e+'s');else _0x9871bf[_0x84c6fb(0xbd)](_0x522a4e);pid2=childProcess[_0x84c6fb(0xcc)](updatefile,_0x9871bf,_0x19046a),pid2['on'](_0x84c6fb(0xd6),function(_0x4c9160){updating=![];if(_0x43af4c)return;_0x43af4c=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x4c9160);}),pid2['on'](_0x84c6fb(0xd1),function(_0x5dd40f){updating=![];if(_0x43af4c)return;_0x43af4c=!![],terminating=![],startBM();});}function handleRestore(){const _0x5dba4a=_0x18e37e;if(pid1)pid1[_0x5dba4a(0xc1)]();}function logging(_0x35aac9){const _0x2e197f=_0x18e37e;console[_0x2e197f(0xdb)](_0x2e197f(0xd9)+_0x35aac9);}function sleep(_0x24f514){return new Promise(_0x13efc0=>setTimeout(_0x13efc0,_0x24f514));}