const _0x13c32e=_0x445b;(function(_0x52be4c,_0xae2371){const _0x143678=_0x445b,_0x2355c9=_0x52be4c();while(!![]){try{const _0x1326ba=parseInt(_0x143678(0xae))/0x1+parseInt(_0x143678(0xcf))/0x2*(-parseInt(_0x143678(0xa7))/0x3)+parseInt(_0x143678(0xc8))/0x4+parseInt(_0x143678(0xba))/0x5+parseInt(_0x143678(0xb9))/0x6*(-parseInt(_0x143678(0xaf))/0x7)+-parseInt(_0x143678(0xbf))/0x8*(-parseInt(_0x143678(0xc1))/0x9)+parseInt(_0x143678(0xb8))/0xa*(parseInt(_0x143678(0xb2))/0xb);if(_0x1326ba===_0xae2371)break;else _0x2355c9['push'](_0x2355c9['shift']());}catch(_0x50c0e8){_0x2355c9['push'](_0x2355c9['shift']());}}}(_0x2a5e,0x96445));function _0x2a5e(){const _0x1d7960=['update','--user','inherit','message','650Hihgxz','3289590GJqqrO','2690090HlSISw','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','bm.js','fork','versions','602712MhQGXP','toString','135NbxmxB','error','-----------------------------------------------------------------------------------','staging','test','SIGINT','Automatically\x20restarting\x20BM','49352WFYfSn','Error:\x20Invalid\x20argument\x20','The\x20installed\x20Node.js\x20version\x20is\x20','install.js','argv','port','search','8igMXXW','restore','Error\x20while\x20updating\x20Balance\x20Bot:','user','split','reinstall','ipc','apply','bb/','exit','--host','Balance\x20Bot\x20>\x20','(((.+)+)+)+$','461562bwAXtf','--port','log','Unexpected\x20error:','push','host','SIGTERM','69418VXzpyD','7HBfYrZ','node','existsSync','4961uMBsaB','kill'];_0x2a5e=function(){return _0x1d7960;};return _0x2a5e();}const _0x43348b=function(){let _0x1bebb8=!![];return function(_0x42591f,_0x2f67e7){const _0x549482=_0x1bebb8?function(){const _0x35080d=_0x445b;if(_0x2f67e7){const _0x3218f1=_0x2f67e7[_0x35080d(0xa1)](_0x42591f,arguments);return _0x2f67e7=null,_0x3218f1;}}:function(){};return _0x1bebb8=![],_0x549482;};}(),_0x108e39=_0x43348b(this,function(){const _0x39ca2f=_0x445b;return _0x108e39[_0x39ca2f(0xc0)]()[_0x39ca2f(0xce)](_0x39ca2f(0xa6))['toString']()['constructor'](_0x108e39)[_0x39ca2f(0xce)](_0x39ca2f(0xa6));});_0x108e39();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x13c32e(0xcc)]['slice'](0x2))[_0x13c32e(0xcc)],childProcess=require('child_process'),nodeversion=process[_0x13c32e(0xbe)][_0x13c32e(0xb0)],minversion=0x10;nodeversion[_0x13c32e(0x9e)]('.')[0x0]<minversion&&(console[_0x13c32e(0xa9)](),console[_0x13c32e(0xa9)]('-----------------------------------------------------------------------------------'),console[_0x13c32e(0xa9)](_0x13c32e(0xca)+nodeversion+',\x20but\x20version\x20'+minversion+'\x20or\x20above\x20is\x20required'),console[_0x13c32e(0xa9)](_0x13c32e(0xbb)),console['log'](_0x13c32e(0xc3)),console[_0x13c32e(0xa9)](),process[_0x13c32e(0xa3)](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern[_0x13c32e(0xc5)](argv[_0x13c32e(0xcd)])&&(console['log'](_0x13c32e(0xc9)+argv['port']+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x13c32e(0xa3)](0x1));}let args=[];argv[_0x13c32e(0xcd)]&&(args['push'](_0x13c32e(0xa8)),args['push'](argv[_0x13c32e(0xcd)]));argv[_0x13c32e(0xac)]&&(args['push'](_0x13c32e(0xa4)),args[_0x13c32e(0xab)](argv[_0x13c32e(0xac)]));function _0x445b(_0xf46c4,_0x23ecb3){const _0x21f69f=_0x2a5e();return _0x445b=function(_0x108e39,_0x43348b){_0x108e39=_0x108e39-0x9d;let _0x2a5e5b=_0x21f69f[_0x108e39];return _0x2a5e5b;},_0x445b(_0xf46c4,_0x23ecb3);}argv[_0x13c32e(0x9d)]&&(args[_0x13c32e(0xab)](_0x13c32e(0xb5)),args[_0x13c32e(0xab)](argv[_0x13c32e(0x9d)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x13c32e(0xab)]('-d');let bmpath=_0x13c32e(0xa2);const bmfile=_0x13c32e(0xbc),updatefile=_0x13c32e(0xcb);!fs[_0x13c32e(0xb1)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x13c32e(0xa3),async()=>{handleTerminate();}),process['on'](_0x13c32e(0xad),async()=>{handleTerminate();}),process['on'](_0x13c32e(0xc6),async()=>{handleTerminate();}),startBM();function startBM(){const _0x3e0d76=_0x13c32e;let _0x419614=![];const _0x10865f={'cwd':'','stdio':[_0x3e0d76(0xb6),_0x3e0d76(0xb6),_0x3e0d76(0xb6),_0x3e0d76(0xa0)]};pid1=childProcess[_0x3e0d76(0xbd)](bmpath+bmfile,args,_0x10865f),pid1['on'](_0x3e0d76(0xb7),_0x2cbeff=>{const _0x58b7c8=_0x3e0d76,_0x18a143=Object['values'](_0x2cbeff)[0x1]==_0x58b7c8(0xc4);switch(Object['keys'](_0x2cbeff)[0x0]){case _0x58b7c8(0xb4):if(_0x18a143)startUpdate('2s');else startUpdate('2');break;case _0x58b7c8(0x9f):if(_0x18a143)startUpdate('3s');else startUpdate('3');break;case _0x58b7c8(0xd0):handleRestore();break;case'terminate':handleTerminate();break;}}),pid1['on'](_0x3e0d76(0xc2),function(_0x4a9038){const _0x832510=_0x3e0d76;if(_0x419614)return;_0x419614=!![],logging(_0x832510(0xaa),_0x4a9038);}),pid1['on'](_0x3e0d76(0xa3),function(_0x106229){const _0x184046=_0x3e0d76;if(terminating)return;if(updating)return;if(_0x419614)return;_0x419614=!![],console[_0x184046(0xa9)](_0x184046(0xc7)),startBM();});}async function handleTerminate(){const _0x29fdf6=_0x13c32e;stopBM(),await sleep(0x3e8),process[_0x29fdf6(0xa3)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x54bc09){const _0x5d0494=_0x13c32e;updating=!![],stopBM();let _0xf25d9=![];const _0x3d672c={'cwd':'','stdio':[_0x5d0494(0xb6),_0x5d0494(0xb6),_0x5d0494(0xb6),_0x5d0494(0xa0)]};let _0x284238=[];if(staging)_0x284238['push'](_0x54bc09+'s');else _0x284238[_0x5d0494(0xab)](_0x54bc09);pid2=childProcess[_0x5d0494(0xbd)](updatefile,_0x284238,_0x3d672c),pid2['on'](_0x5d0494(0xc2),function(_0x32d9d2){const _0xe6f2a0=_0x5d0494;updating=![];if(_0xf25d9)return;_0xf25d9=!![],logging(_0xe6f2a0(0xd1),_0x32d9d2);}),pid2['on'](_0x5d0494(0xa3),function(_0x2a66cd){updating=![];if(_0xf25d9)return;_0xf25d9=!![],terminating=![],startBM();});}function handleRestore(){const _0x5e0b4=_0x13c32e;if(pid1)pid1[_0x5e0b4(0xb3)]();}function logging(_0x53ab95){const _0x20872a=_0x13c32e;console[_0x20872a(0xa9)](_0x20872a(0xa5)+_0x53ab95);}function sleep(_0x4215d7){return new Promise(_0x5818b2=>setTimeout(_0x5818b2,_0x4215d7));}