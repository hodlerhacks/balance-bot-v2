const _0x281134=_0x2326;(function(_0xfc36e5,_0x480ba1){const _0x1b7841=_0x2326,_0x286662=_0xfc36e5();while(!![]){try{const _0x2a33f4=-parseInt(_0x1b7841(0x1a7))/0x1*(-parseInt(_0x1b7841(0x183))/0x2)+-parseInt(_0x1b7841(0x1ae))/0x3*(-parseInt(_0x1b7841(0x1b3))/0x4)+parseInt(_0x1b7841(0x19b))/0x5*(-parseInt(_0x1b7841(0x19d))/0x6)+-parseInt(_0x1b7841(0x1a9))/0x7+-parseInt(_0x1b7841(0x189))/0x8+-parseInt(_0x1b7841(0x197))/0x9*(parseInt(_0x1b7841(0x1a6))/0xa)+-parseInt(_0x1b7841(0x19c))/0xb*(-parseInt(_0x1b7841(0x1aa))/0xc);if(_0x2a33f4===_0x480ba1)break;else _0x286662['push'](_0x286662['shift']());}catch(_0x2bfafd){_0x286662['push'](_0x286662['shift']());}}}(_0xcd5d,0xe666b));const _0xf8dffd=function(){let _0x390cfb=!![];return function(_0x69b37d,_0x466bfc){const _0x597501=_0x390cfb?function(){const _0x2efbb8=_0x2326;if(_0x466bfc){const _0x3fb03c=_0x466bfc[_0x2efbb8(0x1ab)](_0x69b37d,arguments);return _0x466bfc=null,_0x3fb03c;}}:function(){};return _0x390cfb=![],_0x597501;};}(),_0x43c9c4=_0xf8dffd(this,function(){const _0x14821a=_0x2326;return _0x43c9c4[_0x14821a(0x1ac)]()[_0x14821a(0x1b6)](_0x14821a(0x1a2))[_0x14821a(0x1ac)]()[_0x14821a(0x198)](_0x43c9c4)[_0x14821a(0x1b6)](_0x14821a(0x1a2));});_0x43c9c4();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x281134(0x188)][_0x281134(0x19a)](0x2))[_0x281134(0x188)],childProcess=require(_0x281134(0x1b0)),nodeversion=process[_0x281134(0x192)][_0x281134(0x1ad)],minversion=0x10;nodeversion[_0x281134(0x18f)]('.')[0x0]<minversion&&(console[_0x281134(0x18d)](),console[_0x281134(0x18d)](_0x281134(0x196)),console[_0x281134(0x18d)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x281134(0x1a1)+minversion+_0x281134(0x1a8)),console[_0x281134(0x18d)](_0x281134(0x187)),console[_0x281134(0x18d)]('-----------------------------------------------------------------------------------'),console[_0x281134(0x18d)](),process[_0x281134(0x190)](0x1));if(argv[_0x281134(0x1af)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x281134(0x186)](argv[_0x281134(0x1af)])&&(console[_0x281134(0x18d)](_0x281134(0x19f)+argv['port']+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x281134(0x190)](0x1));}let args=[];argv[_0x281134(0x1af)]&&(args['push']('--port'),args['push'](argv[_0x281134(0x1af)]));argv['host']&&(args[_0x281134(0x18b)](_0x281134(0x191)),args[_0x281134(0x18b)](argv['host']));argv[_0x281134(0x194)]&&(args['push'](_0x281134(0x195)),args[_0x281134(0x18b)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args[_0x281134(0x18b)]('-d');function _0xcd5d(){const _0x1e953d=['--host','versions','update','user','--user','-----------------------------------------------------------------------------------','12747897oOviGQ','constructor','bm.js','slice','15NLLLnf','11KaiPaD','1210194bjispG','SIGINT','Error:\x20Invalid\x20argument\x20','values',',\x20but\x20version\x20','(((.+)+)+)+$','fork','inherit','bb/','10suunIT','1565dwtxbL','\x20or\x20above\x20is\x20required','4151091oXmrWQ','33093876LcKsxb','apply','toString','node','3308478hiZjYF','port','child_process','restore','Balance\x20Bot\x20>\x20','4RepHxA','message','ipc','search','Automatically\x20restarting\x20BM','1996fwVfNe','staging','terminate','test','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','argv','14914024ZfJPhq','existsSync','push','kill','log','Error\x20while\x20updating\x20Balance\x20Bot:','split','exit'];_0xcd5d=function(){return _0x1e953d;};return _0xcd5d();}if(recreate)args['push']('-r');let bmpath=_0x281134(0x1a5);const bmfile=_0x281134(0x199),updatefile='install.js';!fs[_0x281134(0x18a)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x281134(0x190),async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on'](_0x281134(0x19e),async()=>{handleTerminate();}),startBM();function _0x2326(_0x593fc6,_0x207d25){const _0x58641c=_0xcd5d();return _0x2326=function(_0x43c9c4,_0xf8dffd){_0x43c9c4=_0x43c9c4-0x183;let _0xcd5d04=_0x58641c[_0x43c9c4];return _0xcd5d04;},_0x2326(_0x593fc6,_0x207d25);}function startBM(){const _0xf77b64=_0x281134;let _0x426a52=![];const _0x21c89a={'cwd':'','stdio':[_0xf77b64(0x1a4),_0xf77b64(0x1a4),_0xf77b64(0x1a4),_0xf77b64(0x1b5)]};pid1=childProcess[_0xf77b64(0x1a3)](bmpath+bmfile,args,_0x21c89a),pid1['on'](_0xf77b64(0x1b4),_0x382b3d=>{const _0x13be95=_0xf77b64,_0x576c86=Object[_0x13be95(0x1a0)](_0x382b3d)[0x1]==_0x13be95(0x184);switch(Object['keys'](_0x382b3d)[0x0]){case _0x13be95(0x193):if(_0x576c86)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x576c86)startUpdate('3s');else startUpdate('3');break;case _0x13be95(0x1b1):handleRestore();break;case _0x13be95(0x185):handleTerminate();break;}}),pid1['on']('error',function(_0x243cca){if(_0x426a52)return;_0x426a52=!![],logging('Unexpected\x20error:',_0x243cca);}),pid1['on'](_0xf77b64(0x190),function(_0x4dfd21){const _0xa349bc=_0xf77b64;if(terminating)return;if(updating)return;if(_0x426a52)return;_0x426a52=!![],console[_0xa349bc(0x18d)](_0xa349bc(0x1b7)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){const _0x226366=_0x281134;terminating=!![];if(pid1)pid1[_0x226366(0x18c)]();pid1=null;}function startUpdate(_0x17ebca){const _0x4a8203=_0x281134;updating=!![],stopBM();let _0x19596a=![];const _0x55c317={'cwd':'','stdio':[_0x4a8203(0x1a4),'inherit',_0x4a8203(0x1a4),_0x4a8203(0x1b5)]};let _0x47cce0=[];if(staging)_0x47cce0[_0x4a8203(0x18b)](_0x17ebca+'s');else _0x47cce0[_0x4a8203(0x18b)](_0x17ebca);pid2=childProcess[_0x4a8203(0x1a3)](updatefile,_0x47cce0,_0x55c317),pid2['on']('error',function(_0x270efc){const _0xde5d1d=_0x4a8203;updating=![];if(_0x19596a)return;_0x19596a=!![],logging(_0xde5d1d(0x18e),_0x270efc);}),pid2['on']('exit',function(_0x5b38e1){updating=![];if(_0x19596a)return;_0x19596a=!![],terminating=![],startBM();});}function handleRestore(){const _0x8df27f=_0x281134;if(pid1)pid1[_0x8df27f(0x18c)]();}function logging(_0x36aaad){const _0x1581c5=_0x281134;console[_0x1581c5(0x18d)](_0x1581c5(0x1b2)+_0x36aaad);}function sleep(_0x454ce5){return new Promise(_0x306b71=>setTimeout(_0x306b71,_0x454ce5));}