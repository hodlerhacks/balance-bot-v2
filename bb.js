const _0x260c1e=_0xca3a;(function(_0x5b4426,_0x5af11d){const _0xe00bcd=_0xca3a,_0x419f32=_0x5b4426();while(!![]){try{const _0x5289cf=parseInt(_0xe00bcd(0xe4))/0x1*(parseInt(_0xe00bcd(0xf3))/0x2)+parseInt(_0xe00bcd(0xfb))/0x3*(parseInt(_0xe00bcd(0x10f))/0x4)+parseInt(_0xe00bcd(0x115))/0x5*(parseInt(_0xe00bcd(0x10e))/0x6)+-parseInt(_0xe00bcd(0xeb))/0x7*(-parseInt(_0xe00bcd(0x100))/0x8)+parseInt(_0xe00bcd(0x103))/0x9*(-parseInt(_0xe00bcd(0xfa))/0xa)+parseInt(_0xe00bcd(0xf9))/0xb*(parseInt(_0xe00bcd(0xf0))/0xc)+parseInt(_0xe00bcd(0xed))/0xd*(-parseInt(_0xe00bcd(0x104))/0xe);if(_0x5289cf===_0x5af11d)break;else _0x419f32['push'](_0x419f32['shift']());}catch(_0x1e869c){_0x419f32['push'](_0x419f32['shift']());}}}(_0x3c75,0x48887));const _0x2b1856=function(){let _0x3b8483=!![];return function(_0x35f3ac,_0xa45276){const _0x18b819=_0x3b8483?function(){const _0x557e84=_0xca3a;if(_0xa45276){const _0x2c9a0e=_0xa45276[_0x557e84(0xf7)](_0x35f3ac,arguments);return _0xa45276=null,_0x2c9a0e;}}:function(){};return _0x3b8483=![],_0x18b819;};}(),_0x565fcf=_0x2b1856(this,function(){const _0xc17c6b=_0xca3a;return _0x565fcf[_0xc17c6b(0xf5)]()['search'](_0xc17c6b(0x105))[_0xc17c6b(0xf5)]()[_0xc17c6b(0xe0)](_0x565fcf)[_0xc17c6b(0x10a)]('(((.+)+)+)+$');});_0x565fcf();function _0xca3a(_0x3b1a6a,_0x4f0169){const _0xb29763=_0x3c75();return _0xca3a=function(_0x565fcf,_0x2b1856){_0x565fcf=_0x565fcf-0xe0;let _0x3c755d=_0xb29763[_0x565fcf];return _0x3c755d;},_0xca3a(_0x3b1a6a,_0x4f0169);}const fs=require('fs'),yargs=require(_0x260c1e(0xe6)),childProcess=require(_0x260c1e(0x110)),nodeversion=process['versions'][_0x260c1e(0xe5)],minversion=0x10;nodeversion[_0x260c1e(0xe3)]('.')[0x0]<minversion&&(console[_0x260c1e(0x108)](),console[_0x260c1e(0x108)](_0x260c1e(0xf2)),console[_0x260c1e(0x108)](_0x260c1e(0xea)+nodeversion+_0x260c1e(0xee)+minversion+'\x20or\x20above\x20is\x20required'),console[_0x260c1e(0x108)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console['log'](_0x260c1e(0xf2)),console[_0x260c1e(0x108)](),process['exit'](0x1));const argv=yargs(process[_0x260c1e(0xf8)][_0x260c1e(0x113)](0x2))[_0x260c1e(0xf8)];if(argv[_0x260c1e(0xfc)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x260c1e(0xf6)](argv['port'])&&(console['log']('Error:\x20Invalid\x20argument\x20'+argv['port']+_0x260c1e(0xe1)),process[_0x260c1e(0xf4)](0x1));}let args=[];argv[_0x260c1e(0xfc)]&&(args[_0x260c1e(0x102)](_0x260c1e(0x10d)),args[_0x260c1e(0x102)](argv[_0x260c1e(0xfc)]));argv[_0x260c1e(0xfe)]&&(args[_0x260c1e(0x102)]('--host'),args[_0x260c1e(0x102)](argv[_0x260c1e(0xfe)]));argv['user']&&(args['push']('--user'),args[_0x260c1e(0x102)](argv[_0x260c1e(0xec)]));function _0x3c75(){const _0x1f27d8=['The\x20installed\x20Node.js\x20version\x20is\x20','7aVbSRE','user','5536414mBHQoa',',\x20but\x20version\x20','restore','372WLDEMM','Unexpected\x20error:','-----------------------------------------------------------------------------------','2cuXESQ','exit','toString','test','apply','argv','63569LaTGtX','2740ACHgdE','3BnORPE','port','kill','host','values','1563208rQIFwx','SIGTERM','push','16425KfwEqV','14JnYqKI','(((.+)+)+)+$','reinstall','install.js','log','message','search','SIGINT','Automatically\x20restarting\x20BM','--port','938796SlITnK','1074676XCLinL','child_process','inherit','bb/','slice','terminate','5TXswFB','Balance\x20Bot\x20>\x20','fork','constructor',',\x20must\x20be\x20a\x204\x20digit\x20number','Error\x20while\x20updating\x20Balance\x20Bot:','split','423338GEQLUU','node','yargs','ipc','existsSync','keys'];_0x3c75=function(){return _0x1f27d8;};return _0x3c75();}const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];if(debugging)args[_0x260c1e(0x102)]('-d');if(recreate)args[_0x260c1e(0x102)]('-r');if(openBrowser)args[_0x260c1e(0x102)]('-o');let bmpath=_0x260c1e(0x112);const bmfile='bm.js',updatefile=_0x260c1e(0x107);!fs[_0x260c1e(0xe8)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x260c1e(0xf4),async()=>{handleTerminate();}),process['on'](_0x260c1e(0x101),async()=>{handleTerminate();}),process['on'](_0x260c1e(0x10b),async()=>{handleTerminate();}),startBM();function startBM(){const _0x5edc19=_0x260c1e;let _0x356a9d=![];const _0x15ed74={'cwd':'','stdio':['inherit','inherit',_0x5edc19(0x111),_0x5edc19(0xe7)]};pid1=childProcess[_0x5edc19(0x117)](bmpath+bmfile,args,_0x15ed74),pid1['on'](_0x5edc19(0x109),_0xe57b9c=>{const _0x513274=_0x5edc19,_0x42c940=Object[_0x513274(0xff)](_0xe57b9c)[0x1]=='staging';switch(Object[_0x513274(0xe9)](_0xe57b9c)[0x0]){case'update':if(_0x42c940)startUpdate('2s');else startUpdate('2');break;case _0x513274(0x106):if(_0x42c940)startUpdate('3s');else startUpdate('3');break;case _0x513274(0xef):handleRestore();break;case _0x513274(0x114):handleTerminate();break;}}),pid1['on']('error',function(_0x563574){const _0x11d625=_0x5edc19;if(_0x356a9d)return;_0x356a9d=!![],logging(_0x11d625(0xf1),_0x563574);}),pid1['on'](_0x5edc19(0xf4),function(_0x4ae575){const _0x7ba8f2=_0x5edc19;if(terminating)return;if(updating)return;if(_0x356a9d)return;_0x356a9d=!![],console['log'](_0x7ba8f2(0x10c)),startBM();});}async function handleTerminate(){const _0x1747cd=_0x260c1e;stopBM(),await sleep(0x3e8),process[_0x1747cd(0xf4)](0x0);}function stopBM(){const _0x4fdcb8=_0x260c1e;terminating=!![];if(pid1)pid1[_0x4fdcb8(0xfd)]();pid1=null;}function startUpdate(_0x38a0e4){const _0x2202e3=_0x260c1e;updating=!![],stopBM();let _0x38bf82=![];const _0x55de3c={'cwd':'','stdio':[_0x2202e3(0x111),_0x2202e3(0x111),'inherit',_0x2202e3(0xe7)]};let _0x228828=[];if(staging)_0x228828[_0x2202e3(0x102)](_0x38a0e4+'s');else _0x228828[_0x2202e3(0x102)](_0x38a0e4);pid2=childProcess[_0x2202e3(0x117)](updatefile,_0x228828,_0x55de3c),pid2['on']('error',function(_0x531fc6){const _0x51e5e4=_0x2202e3;updating=![];if(_0x38bf82)return;_0x38bf82=!![],logging(_0x51e5e4(0xe2),_0x531fc6);}),pid2['on']('exit',function(_0x6270b9){updating=![];if(_0x38bf82)return;_0x38bf82=!![],terminating=![],startBM();});}function handleRestore(){const _0x3d1354=_0x260c1e;if(pid1)pid1[_0x3d1354(0xfd)]();}function logging(_0x15a3fd){const _0x1cd647=_0x260c1e;console[_0x1cd647(0x108)](_0x1cd647(0x116)+_0x15a3fd);}function sleep(_0x2cee6a){return new Promise(_0x3a9cfd=>setTimeout(_0x3a9cfd,_0x2cee6a));}