const _0x15c9e3=_0x47b9;(function(_0x4f8850,_0x515a82){const _0x406da7=_0x47b9,_0x5e20f9=_0x4f8850();while(!![]){try{const _0x28ecdb=-parseInt(_0x406da7(0x12f))/0x1*(-parseInt(_0x406da7(0x123))/0x2)+parseInt(_0x406da7(0x122))/0x3*(-parseInt(_0x406da7(0x134))/0x4)+-parseInt(_0x406da7(0x11c))/0x5*(parseInt(_0x406da7(0x12d))/0x6)+-parseInt(_0x406da7(0x14a))/0x7+parseInt(_0x406da7(0x147))/0x8*(parseInt(_0x406da7(0x13d))/0x9)+parseInt(_0x406da7(0x142))/0xa*(-parseInt(_0x406da7(0x14c))/0xb)+parseInt(_0x406da7(0x146))/0xc;if(_0x28ecdb===_0x515a82)break;else _0x5e20f9['push'](_0x5e20f9['shift']());}catch(_0x41ab8c){_0x5e20f9['push'](_0x5e20f9['shift']());}}}(_0xfd63,0xe83c7));function _0x47b9(_0x45343e,_0x343b17){const _0x2fa0e7=_0xfd63();return _0x47b9=function(_0x2ed2f3,_0x4115c9){_0x2ed2f3=_0x2ed2f3-0x11c;let _0xfd636d=_0x2fa0e7[_0x2ed2f3];return _0xfd636d;},_0x47b9(_0x45343e,_0x343b17);}const _0x4115c9=function(){let _0x268c69=!![];return function(_0x7bfd93,_0x232a3a){const _0x34f671=_0x268c69?function(){const _0x3a4466=_0x47b9;if(_0x232a3a){const _0x1fb819=_0x232a3a[_0x3a4466(0x148)](_0x7bfd93,arguments);return _0x232a3a=null,_0x1fb819;}}:function(){};return _0x268c69=![],_0x34f671;};}(),_0x2ed2f3=_0x4115c9(this,function(){const _0x5f1c25=_0x47b9;return _0x2ed2f3[_0x5f1c25(0x12a)]()[_0x5f1c25(0x14f)](_0x5f1c25(0x13a))[_0x5f1c25(0x12a)]()['constructor'](_0x2ed2f3)['search'](_0x5f1c25(0x13a));});_0x2ed2f3();const fs=require('fs'),argv=require(_0x15c9e3(0x11d))(process[_0x15c9e3(0x145)][_0x15c9e3(0x12e)](0x2))['argv'],childProcess=require('child_process'),nodeversion=process[_0x15c9e3(0x125)]['node'],minversion=0x10;nodeversion[_0x15c9e3(0x129)]('.')[0x0]<minversion&&(console['log'](),console[_0x15c9e3(0x141)](_0x15c9e3(0x143)),console[_0x15c9e3(0x141)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x15c9e3(0x144)+minversion+_0x15c9e3(0x136)),console[_0x15c9e3(0x141)](_0x15c9e3(0x13b)),console[_0x15c9e3(0x141)](_0x15c9e3(0x143)),console[_0x15c9e3(0x141)](),process[_0x15c9e3(0x11e)](0x1));if(argv[_0x15c9e3(0x133)]){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv['port'])&&(console[_0x15c9e3(0x141)](_0x15c9e3(0x131)+argv[_0x15c9e3(0x133)]+_0x15c9e3(0x132)),process[_0x15c9e3(0x11e)](0x1));}let args=[];argv[_0x15c9e3(0x133)]&&(args[_0x15c9e3(0x153)](_0x15c9e3(0x121)),args['push'](argv[_0x15c9e3(0x133)]));argv[_0x15c9e3(0x150)]&&(args[_0x15c9e3(0x153)](_0x15c9e3(0x135)),args[_0x15c9e3(0x153)](argv[_0x15c9e3(0x150)]));argv[_0x15c9e3(0x124)]&&(args[_0x15c9e3(0x153)](_0x15c9e3(0x14e)),args[_0x15c9e3(0x153)](argv[_0x15c9e3(0x124)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args[_0x15c9e3(0x153)]('-d');if(recreate)args[_0x15c9e3(0x153)]('-r');let bmpath='bb/';const bmfile=_0x15c9e3(0x152),updatefile=_0x15c9e3(0x13e);!fs[_0x15c9e3(0x130)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x15c9e3(0x11e),async()=>{handleTerminate();}),process['on'](_0x15c9e3(0x13f),async()=>{handleTerminate();}),process['on'](_0x15c9e3(0x12c),async()=>{handleTerminate();}),startBM();function startBM(){const _0xc45fcc=_0x15c9e3;let _0xac79f6=![];const _0x4cadda={'cwd':'','stdio':[_0xc45fcc(0x14d),_0xc45fcc(0x14d),'inherit',_0xc45fcc(0x13c)]};pid1=childProcess['fork'](bmpath+bmfile,args,_0x4cadda),pid1['on'](_0xc45fcc(0x149),_0x325728=>{const _0x49eea1=_0xc45fcc,_0x4602bc=Object[_0x49eea1(0x137)](_0x325728)[0x1]=='staging';switch(Object[_0x49eea1(0x126)](_0x325728)[0x0]){case _0x49eea1(0x138):if(_0x4602bc)startUpdate('2s');else startUpdate('2');break;case _0x49eea1(0x12b):if(_0x4602bc)startUpdate('3s');else startUpdate('3');break;case _0x49eea1(0x14b):handleRestore();break;case _0x49eea1(0x151):handleTerminate();break;}}),pid1['on']('error',function(_0x621cd){const _0xf8b9f1=_0xc45fcc;if(_0xac79f6)return;_0xac79f6=!![],logging(_0xf8b9f1(0x139),_0x621cd);}),pid1['on'](_0xc45fcc(0x11e),function(_0x4d589b){const _0x568bce=_0xc45fcc;if(terminating)return;if(updating)return;if(_0xac79f6)return;_0xac79f6=!![],console[_0x568bce(0x141)]('Automatically\x20restarting\x20BM'),startBM();});}async function handleTerminate(){const _0x538d57=_0x15c9e3;stopBM(),await sleep(0x3e8),process[_0x538d57(0x11e)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function _0xfd63(){const _0x26964d=['4umRRSL','--host','\x20or\x20above\x20is\x20required','values','update','Unexpected\x20error:','(((.+)+)+)+$','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','ipc','9RsVOrK','install.js','SIGTERM','Balance\x20Bot\x20>\x20','log','3073550lZtFcn','-----------------------------------------------------------------------------------',',\x20but\x20version\x20','argv','14213628QsgbGk','13886216kKWyuV','apply','message','3484565oZkddG','restore','55btnyzo','inherit','--user','search','host','terminate','bm.js','push','5PtHcfp','yargs/yargs','exit','Error\x20while\x20updating\x20Balance\x20Bot:','error','--port','3429654AWuAgh','5394HceqWD','user','versions','keys','fork','kill','split','toString','reinstall','SIGINT','2359422zeWHJs','slice','594MXPQOH','existsSync','Error:\x20Invalid\x20argument\x20',',\x20must\x20be\x20a\x204\x20digit\x20number','port'];_0xfd63=function(){return _0x26964d;};return _0xfd63();}function startUpdate(_0x2c215d){const _0x38e941=_0x15c9e3;updating=!![],stopBM();let _0x2bdd63=![];const _0xa6d02c={'cwd':'','stdio':['inherit','inherit',_0x38e941(0x14d),'ipc']};let _0x5e40ba=[];if(staging)_0x5e40ba[_0x38e941(0x153)](_0x2c215d+'s');else _0x5e40ba[_0x38e941(0x153)](_0x2c215d);pid2=childProcess[_0x38e941(0x127)](updatefile,_0x5e40ba,_0xa6d02c),pid2['on'](_0x38e941(0x120),function(_0x25319b){const _0x4ffd6d=_0x38e941;updating=![];if(_0x2bdd63)return;_0x2bdd63=!![],logging(_0x4ffd6d(0x11f),_0x25319b);}),pid2['on'](_0x38e941(0x11e),function(_0x5bba60){updating=![];if(_0x2bdd63)return;_0x2bdd63=!![],terminating=![],startBM();});}function handleRestore(){const _0x2c99ce=_0x15c9e3;if(pid1)pid1[_0x2c99ce(0x128)]();}function logging(_0x3fe0ee){const _0x25884b=_0x15c9e3;console[_0x25884b(0x141)](_0x25884b(0x140)+_0x3fe0ee);}function sleep(_0x105067){return new Promise(_0xc2b389=>setTimeout(_0xc2b389,_0x105067));}