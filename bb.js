const _0x361eaf=_0x404f;(function(_0x5b73bd,_0x459674){const _0x5f5a45=_0x404f,_0x3efea9=_0x5b73bd();while(!![]){try{const _0x432057=-parseInt(_0x5f5a45(0x10c))/0x1*(-parseInt(_0x5f5a45(0x10a))/0x2)+-parseInt(_0x5f5a45(0xe8))/0x3+-parseInt(_0x5f5a45(0xed))/0x4+-parseInt(_0x5f5a45(0xf3))/0x5*(parseInt(_0x5f5a45(0xdd))/0x6)+parseInt(_0x5f5a45(0xfc))/0x7*(-parseInt(_0x5f5a45(0xee))/0x8)+parseInt(_0x5f5a45(0xdf))/0x9*(-parseInt(_0x5f5a45(0x100))/0xa)+parseInt(_0x5f5a45(0xe4))/0xb;if(_0x432057===_0x459674)break;else _0x3efea9['push'](_0x3efea9['shift']());}catch(_0x250429){_0x3efea9['push'](_0x3efea9['shift']());}}}(_0x13af,0x2421c));const _0x164bac=function(){let _0x4a720b=!![];return function(_0x4ee75c,_0x42eac6){const _0x133277=_0x4a720b?function(){if(_0x42eac6){const _0x5b0130=_0x42eac6['apply'](_0x4ee75c,arguments);return _0x42eac6=null,_0x5b0130;}}:function(){};return _0x4a720b=![],_0x133277;};}(),_0x28abf0=_0x164bac(this,function(){const _0x539a4c=_0x404f;return _0x28abf0['toString']()['search']('(((.+)+)+)+$')[_0x539a4c(0xf4)]()[_0x539a4c(0xf5)](_0x28abf0)[_0x539a4c(0xe6)](_0x539a4c(0xe0));});_0x28abf0();function _0x404f(_0x49233e,_0x5239a3){const _0x389a6c=_0x13af();return _0x404f=function(_0x28abf0,_0x164bac){_0x28abf0=_0x28abf0-0xda;let _0x13af98=_0x389a6c[_0x28abf0];return _0x13af98;},_0x404f(_0x49233e,_0x5239a3);}function _0x13af(){const _0x213322=['split','fork','590538nOqYRX','slice','1xeMkBE','Balance\x20Bot\x20>\x20','Automatically\x20restarting\x20BM','SIGINT','child_process','install.js','staging','71238HKfnOO','message','1359ciGwPL','(((.+)+)+)+$','ipc','kill','port','7266875mbMryS','bm.js','search','Error\x20while\x20updating\x20Balance\x20Bot:','62949gBMLWA','argv','values',',\x20but\x20version\x20','error','650124lHqeTV','3032gWOUHw','SIGTERM','terminate','-----------------------------------------------------------------------------------','--port','55VgAIQg','toString','constructor','The\x20installed\x20Node.js\x20version\x20is\x20','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','--user','log','exit','Unexpected\x20error:','4984zeYtar','reinstall','node','existsSync','14830lIMMbJ','yargs/yargs','Error:\x20Invalid\x20argument\x20','inherit','bb/','--host','push','host'];_0x13af=function(){return _0x213322;};return _0x13af();}const fs=require('fs'),argv=require(_0x361eaf(0x101))(process[_0x361eaf(0xe9)][_0x361eaf(0x10b)](0x2))[_0x361eaf(0xe9)],childProcess=require(_0x361eaf(0xda)),nodeversion=process['versions'][_0x361eaf(0xfe)],minversion=0x10;nodeversion[_0x361eaf(0x108)]('.')[0x0]<minversion&&(console[_0x361eaf(0xf9)](),console['log'](_0x361eaf(0xf1)),console[_0x361eaf(0xf9)](_0x361eaf(0xf6)+nodeversion+_0x361eaf(0xeb)+minversion+'\x20or\x20above\x20is\x20required'),console[_0x361eaf(0xf9)](_0x361eaf(0xf7)),console[_0x361eaf(0xf9)](_0x361eaf(0xf1)),console[_0x361eaf(0xf9)](),process[_0x361eaf(0xfa)](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv['port'])&&(console[_0x361eaf(0xf9)](_0x361eaf(0x102)+argv[_0x361eaf(0xe3)]+',\x20must\x20be\x20a\x204\x20digit\x20number'),process['exit'](0x1));}let args=[];argv[_0x361eaf(0xe3)]&&(args[_0x361eaf(0x106)](_0x361eaf(0xf2)),args[_0x361eaf(0x106)](argv['port']));argv[_0x361eaf(0x107)]&&(args[_0x361eaf(0x106)](_0x361eaf(0x105)),args[_0x361eaf(0x106)](argv['host']));argv['user']&&(args[_0x361eaf(0x106)](_0x361eaf(0xf8)),args[_0x361eaf(0x106)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x361eaf(0x106)]('-d');let bmpath=_0x361eaf(0x104);const bmfile=_0x361eaf(0xe5),updatefile=_0x361eaf(0xdb);!fs[_0x361eaf(0xff)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x361eaf(0xfa),async()=>{handleTerminate();}),process['on'](_0x361eaf(0xef),async()=>{handleTerminate();}),process['on'](_0x361eaf(0x10f),async()=>{handleTerminate();}),startBM();function startBM(){const _0x166666=_0x361eaf;let _0x2967ab=![];const _0x2e3fe5={'cwd':'','stdio':[_0x166666(0x103),'inherit',_0x166666(0x103),_0x166666(0xe1)]};pid1=childProcess[_0x166666(0x109)](bmpath+bmfile,args,_0x2e3fe5),pid1['on'](_0x166666(0xde),_0x51fb96=>{const _0x4e1168=_0x166666,_0x5d88e5=Object[_0x4e1168(0xea)](_0x51fb96)[0x1]==_0x4e1168(0xdc);switch(Object['keys'](_0x51fb96)[0x0]){case'update':if(_0x5d88e5)startUpdate('2s');else startUpdate('2');break;case _0x4e1168(0xfd):if(_0x5d88e5)startUpdate('3s');else startUpdate('3');break;case'restore':handleRestore();break;case _0x4e1168(0xf0):handleTerminate();break;}}),pid1['on'](_0x166666(0xec),function(_0x2de187){const _0x545de1=_0x166666;if(_0x2967ab)return;_0x2967ab=!![],logging(_0x545de1(0xfb),_0x2de187);}),pid1['on'](_0x166666(0xfa),function(_0x735582){const _0x2a8f73=_0x166666;if(terminating)return;if(updating)return;if(_0x2967ab)return;_0x2967ab=!![],console[_0x2a8f73(0xf9)](_0x2a8f73(0x10e)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){const _0x235ddc=_0x361eaf;terminating=!![];if(pid1)pid1[_0x235ddc(0xe2)]();pid1=null;}function startUpdate(_0x127faa){const _0x5c71fe=_0x361eaf;updating=!![],stopBM();let _0x5935c2=![];const _0x5adcea={'cwd':'','stdio':['inherit','inherit',_0x5c71fe(0x103),_0x5c71fe(0xe1)]};let _0x477dc1=[];if(staging)_0x477dc1['push'](_0x127faa+'s');else _0x477dc1[_0x5c71fe(0x106)](_0x127faa);pid2=childProcess['fork'](updatefile,_0x477dc1,_0x5adcea),pid2['on'](_0x5c71fe(0xec),function(_0x1062dc){const _0x221647=_0x5c71fe;updating=![];if(_0x5935c2)return;_0x5935c2=!![],logging(_0x221647(0xe7),_0x1062dc);}),pid2['on'](_0x5c71fe(0xfa),function(_0x1c9359){updating=![];if(_0x5935c2)return;_0x5935c2=!![],terminating=![],startBM();});}function handleRestore(){const _0x1fc5e8=_0x361eaf;if(pid1)pid1[_0x1fc5e8(0xe2)]();}function logging(_0x530ef9){const _0x3f4e8f=_0x361eaf;console[_0x3f4e8f(0xf9)](_0x3f4e8f(0x10d)+_0x530ef9);}function sleep(_0x233968){return new Promise(_0x395aba=>setTimeout(_0x395aba,_0x233968));}