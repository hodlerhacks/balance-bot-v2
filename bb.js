const _0x8ca0a1=_0x3f53;function _0x4f0f(){const _0x523ea8=['install.js','toString','bb/','keys','user','split','625945klEyoK','error','3yzsDuR','port','slice','28183200xUveOe','test','kill',',\x20must\x20be\x20a\x204\x20digit\x20number','SIGTERM','restore','fork','120pjQmLC',',\x20but\x20version\x20','apply','(((.+)+)+)+$','inherit','Unexpected\x20error:','\x20or\x20above\x20is\x20required','exit','1247460GdPqsv','update','reinstall','48218dbOfBt','--port','Automatically\x20restarting\x20BM','push','ipc','search','values','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','terminate','argv','log','Balance\x20Bot\x20>\x20','constructor','363681MIyBVz','existsSync','host','851634KengmJ','1190636OwQNyX','-----------------------------------------------------------------------------------','bm.js','child_process','21rBpqze'];_0x4f0f=function(){return _0x523ea8;};return _0x4f0f();}(function(_0x46892d,_0xa365a6){const _0x5dd2cf=_0x3f53,_0x32d7ba=_0x46892d();while(!![]){try{const _0x518a8e=-parseInt(_0x5dd2cf(0x17f))/0x1+-parseInt(_0x5dd2cf(0x16f))/0x2*(parseInt(_0x5dd2cf(0x18d))/0x3)+-parseInt(_0x5dd2cf(0x180))/0x4+parseInt(_0x5dd2cf(0x18b))/0x5+parseInt(_0x5dd2cf(0x16c))/0x6*(-parseInt(_0x5dd2cf(0x184))/0x7)+parseInt(_0x5dd2cf(0x197))/0x8*(-parseInt(_0x5dd2cf(0x17c))/0x9)+parseInt(_0x5dd2cf(0x190))/0xa;if(_0x518a8e===_0xa365a6)break;else _0x32d7ba['push'](_0x32d7ba['shift']());}catch(_0x155759){_0x32d7ba['push'](_0x32d7ba['shift']());}}}(_0x4f0f,0x83e52));const _0x126957=function(){let _0x59c940=!![];return function(_0x241723,_0x2ae699){const _0x46eac9=_0x59c940?function(){const _0x2e9408=_0x3f53;if(_0x2ae699){const _0x58d5d6=_0x2ae699[_0x2e9408(0x199)](_0x241723,arguments);return _0x2ae699=null,_0x58d5d6;}}:function(){};return _0x59c940=![],_0x46eac9;};}(),_0x42c9d6=_0x126957(this,function(){const _0x106b6b=_0x3f53;return _0x42c9d6['toString']()['search']('(((.+)+)+)+$')[_0x106b6b(0x186)]()[_0x106b6b(0x17b)](_0x42c9d6)[_0x106b6b(0x174)](_0x106b6b(0x19a));});_0x42c9d6();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x8ca0a1(0x178)][_0x8ca0a1(0x18f)](0x2))[_0x8ca0a1(0x178)],childProcess=require(_0x8ca0a1(0x183)),nodeversion=process['versions']['node'],minversion=0x10;nodeversion[_0x8ca0a1(0x18a)]('.')[0x0]<minversion&&(console['log'](),console['log'](_0x8ca0a1(0x181)),console[_0x8ca0a1(0x179)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x8ca0a1(0x198)+minversion+_0x8ca0a1(0x16a)),console[_0x8ca0a1(0x179)](_0x8ca0a1(0x176)),console[_0x8ca0a1(0x179)](_0x8ca0a1(0x181)),console[_0x8ca0a1(0x179)](),process[_0x8ca0a1(0x16b)](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern[_0x8ca0a1(0x191)](argv[_0x8ca0a1(0x18e)])&&(console[_0x8ca0a1(0x179)]('Error:\x20Invalid\x20argument\x20'+argv[_0x8ca0a1(0x18e)]+_0x8ca0a1(0x193)),process[_0x8ca0a1(0x16b)](0x1));}let args=[];argv[_0x8ca0a1(0x18e)]&&(args[_0x8ca0a1(0x172)](_0x8ca0a1(0x170)),args[_0x8ca0a1(0x172)](argv[_0x8ca0a1(0x18e)]));argv[_0x8ca0a1(0x17e)]&&(args[_0x8ca0a1(0x172)]('--host'),args[_0x8ca0a1(0x172)](argv[_0x8ca0a1(0x17e)]));argv[_0x8ca0a1(0x189)]&&(args['push']('--user'),args[_0x8ca0a1(0x172)](argv[_0x8ca0a1(0x189)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args[_0x8ca0a1(0x172)]('-d');if(recreate)args[_0x8ca0a1(0x172)]('-r');let bmpath=_0x8ca0a1(0x187);const bmfile=_0x8ca0a1(0x182),updatefile=_0x8ca0a1(0x185);function _0x3f53(_0x14f84f,_0x1ba717){const _0x4d04e9=_0x4f0f();return _0x3f53=function(_0x42c9d6,_0x126957){_0x42c9d6=_0x42c9d6-0x16a;let _0x4f0f02=_0x4d04e9[_0x42c9d6];return _0x4f0f02;},_0x3f53(_0x14f84f,_0x1ba717);}!fs[_0x8ca0a1(0x17d)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x8ca0a1(0x16b),async()=>{handleTerminate();}),process['on'](_0x8ca0a1(0x194),async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function startBM(){const _0x5002bf=_0x8ca0a1;let _0x3088a3=![];const _0x5ea1a2={'cwd':'','stdio':[_0x5002bf(0x19b),_0x5002bf(0x19b),'inherit',_0x5002bf(0x173)]};pid1=childProcess[_0x5002bf(0x196)](bmpath+bmfile,args,_0x5ea1a2),pid1['on']('message',_0x3be4c5=>{const _0xad6adc=_0x5002bf,_0x38f084=Object[_0xad6adc(0x175)](_0x3be4c5)[0x1]=='staging';switch(Object[_0xad6adc(0x188)](_0x3be4c5)[0x0]){case _0xad6adc(0x16d):if(_0x38f084)startUpdate('2s');else startUpdate('2');break;case _0xad6adc(0x16e):if(_0x38f084)startUpdate('3s');else startUpdate('3');break;case _0xad6adc(0x195):handleRestore();break;case _0xad6adc(0x177):handleTerminate();break;}}),pid1['on'](_0x5002bf(0x18c),function(_0x2f9fe2){const _0x1d56a8=_0x5002bf;if(_0x3088a3)return;_0x3088a3=!![],logging(_0x1d56a8(0x19c),_0x2f9fe2);}),pid1['on']('exit',function(_0x25a844){const _0x1b9287=_0x5002bf;if(terminating)return;if(updating)return;if(_0x3088a3)return;_0x3088a3=!![],console[_0x1b9287(0x179)](_0x1b9287(0x171)),startBM();});}async function handleTerminate(){const _0x3d445c=_0x8ca0a1;stopBM(),await sleep(0x3e8),process[_0x3d445c(0x16b)](0x0);}function stopBM(){const _0x2b9a81=_0x8ca0a1;terminating=!![];if(pid1)pid1[_0x2b9a81(0x192)]();pid1=null;}function startUpdate(_0x2402f2){const _0x4a954d=_0x8ca0a1;updating=!![],stopBM();let _0x34680=![];const _0xa9ef97={'cwd':'','stdio':[_0x4a954d(0x19b),_0x4a954d(0x19b),_0x4a954d(0x19b),_0x4a954d(0x173)]};let _0x10a0ac=[];if(staging)_0x10a0ac[_0x4a954d(0x172)](_0x2402f2+'s');else _0x10a0ac[_0x4a954d(0x172)](_0x2402f2);pid2=childProcess[_0x4a954d(0x196)](updatefile,_0x10a0ac,_0xa9ef97),pid2['on']('error',function(_0x13f021){updating=![];if(_0x34680)return;_0x34680=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x13f021);}),pid2['on'](_0x4a954d(0x16b),function(_0x1bcbb9){updating=![];if(_0x34680)return;_0x34680=!![],terminating=![],startBM();});}function handleRestore(){const _0x4adb00=_0x8ca0a1;if(pid1)pid1[_0x4adb00(0x192)]();}function logging(_0x370c3a){const _0x3e522f=_0x8ca0a1;console[_0x3e522f(0x179)](_0x3e522f(0x17a)+_0x370c3a);}function sleep(_0x16f563){return new Promise(_0x2bdf6d=>setTimeout(_0x2bdf6d,_0x16f563));}