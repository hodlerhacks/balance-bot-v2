const _0x4dccbc=_0x5994;(function(_0x51574b,_0x443c2d){const _0x350499=_0x5994,_0x21bb3f=_0x51574b();while(!![]){try{const _0x446547=-parseInt(_0x350499(0xaa))/0x1+-parseInt(_0x350499(0x84))/0x2*(-parseInt(_0x350499(0x83))/0x3)+-parseInt(_0x350499(0xa2))/0x4+-parseInt(_0x350499(0xab))/0x5+parseInt(_0x350499(0x98))/0x6*(parseInt(_0x350499(0x87))/0x7)+-parseInt(_0x350499(0x94))/0x8+parseInt(_0x350499(0x81))/0x9;if(_0x446547===_0x443c2d)break;else _0x21bb3f['push'](_0x21bb3f['shift']());}catch(_0x40bfeb){_0x21bb3f['push'](_0x21bb3f['shift']());}}}(_0x55c1,0xe8dd6));const _0x1e28b5=function(){let _0x5e724c=!![];return function(_0x3fcb00,_0x449ec4){const _0x24cc2c=_0x5e724c?function(){const _0x27051f=_0x5994;if(_0x449ec4){const _0x5b68de=_0x449ec4[_0x27051f(0xa6)](_0x3fcb00,arguments);return _0x449ec4=null,_0x5b68de;}}:function(){};return _0x5e724c=![],_0x24cc2c;};}(),_0x3a676b=_0x1e28b5(this,function(){const _0x105cef=_0x5994;return _0x3a676b[_0x105cef(0x9e)]()[_0x105cef(0x7f)]('(((.+)+)+)+$')[_0x105cef(0x9e)]()[_0x105cef(0x9f)](_0x3a676b)[_0x105cef(0x7f)](_0x105cef(0x96));});_0x3a676b();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x4dccbc(0xa8)][_0x4dccbc(0x8b)](0x2))['argv'],childProcess=require(_0x4dccbc(0x89)),nodeversion=process[_0x4dccbc(0x7a)]['node'],minversion=0x10;nodeversion[_0x4dccbc(0x8c)]('.')[0x0]<minversion&&(console[_0x4dccbc(0x9c)](),console[_0x4dccbc(0x9c)](_0x4dccbc(0xa5)),console[_0x4dccbc(0x9c)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x4dccbc(0x7e)+minversion+_0x4dccbc(0x9d)),console[_0x4dccbc(0x9c)](_0x4dccbc(0x92)),console[_0x4dccbc(0x9c)](_0x4dccbc(0xa5)),console[_0x4dccbc(0x9c)](),process[_0x4dccbc(0x8a)](0x1));if(argv[_0x4dccbc(0xa0)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x4dccbc(0xa7)](argv['port'])&&(console[_0x4dccbc(0x9c)](_0x4dccbc(0x8e)+argv[_0x4dccbc(0xa0)]+_0x4dccbc(0xa3)),process['exit'](0x1));}let args=[];argv[_0x4dccbc(0xa0)]&&(args[_0x4dccbc(0xa4)]('--port'),args['push'](argv[_0x4dccbc(0xa0)]));argv[_0x4dccbc(0x95)]&&(args['push']('--host'),args[_0x4dccbc(0xa4)](argv[_0x4dccbc(0x95)]));argv['user']&&(args[_0x4dccbc(0xa4)](_0x4dccbc(0x82)),args[_0x4dccbc(0xa4)](argv[_0x4dccbc(0x7d)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args[_0x4dccbc(0xa4)]('-d');if(recreate)args[_0x4dccbc(0xa4)]('-r');let bmpath=_0x4dccbc(0x9b);const bmfile=_0x4dccbc(0x88),updatefile=_0x4dccbc(0x8d);!fs[_0x4dccbc(0xa1)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x4dccbc(0x8a),async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on'](_0x4dccbc(0x7c),async()=>{handleTerminate();}),startBM();function startBM(){const _0x52d8ed=_0x4dccbc;let _0x208669=![];const _0x32f79e={'cwd':'','stdio':[_0x52d8ed(0x90),_0x52d8ed(0x90),'inherit',_0x52d8ed(0x7b)]};pid1=childProcess[_0x52d8ed(0x91)](bmpath+bmfile,args,_0x32f79e),pid1['on'](_0x52d8ed(0x9a),_0x1c0752=>{const _0x4f4c74=_0x52d8ed,_0x41e80b=Object[_0x4f4c74(0x80)](_0x1c0752)[0x1]=='staging';switch(Object[_0x4f4c74(0x99)](_0x1c0752)[0x0]){case'update':if(_0x41e80b)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x41e80b)startUpdate('3s');else startUpdate('3');break;case _0x4f4c74(0x79):handleRestore();break;case _0x4f4c74(0x93):handleTerminate();break;}}),pid1['on'](_0x52d8ed(0x85),function(_0x1950c3){const _0x3e94df=_0x52d8ed;if(_0x208669)return;_0x208669=!![],logging(_0x3e94df(0x97),_0x1950c3);}),pid1['on'](_0x52d8ed(0x8a),function(_0x481238){const _0x2869fd=_0x52d8ed;if(terminating)return;if(updating)return;if(_0x208669)return;_0x208669=!![],console['log'](_0x2869fd(0x8f)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){const _0x105d6d=_0x4dccbc;terminating=!![];if(pid1)pid1[_0x105d6d(0x86)]();pid1=null;}function startUpdate(_0x3b2f47){const _0x57d33f=_0x4dccbc;updating=!![],stopBM();let _0x3c96d9=![];const _0x4f0886={'cwd':'','stdio':['inherit',_0x57d33f(0x90),'inherit',_0x57d33f(0x7b)]};let _0x51ed4e=[];if(staging)_0x51ed4e['push'](_0x3b2f47+'s');else _0x51ed4e[_0x57d33f(0xa4)](_0x3b2f47);pid2=childProcess[_0x57d33f(0x91)](updatefile,_0x51ed4e,_0x4f0886),pid2['on']('error',function(_0x357736){updating=![];if(_0x3c96d9)return;_0x3c96d9=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x357736);}),pid2['on'](_0x57d33f(0x8a),function(_0x585545){updating=![];if(_0x3c96d9)return;_0x3c96d9=!![],terminating=![],startBM();});}function _0x5994(_0x5aafa8,_0x5ad4bf){const _0x276f87=_0x55c1();return _0x5994=function(_0x3a676b,_0x1e28b5){_0x3a676b=_0x3a676b-0x79;let _0x55c1bf=_0x276f87[_0x3a676b];return _0x55c1bf;},_0x5994(_0x5aafa8,_0x5ad4bf);}function handleRestore(){const _0x5be94d=_0x4dccbc;if(pid1)pid1[_0x5be94d(0x86)]();}function logging(_0x413c0a){const _0x1e2773=_0x4dccbc;console[_0x1e2773(0x9c)](_0x1e2773(0xa9)+_0x413c0a);}function _0x55c1(){const _0x1d18cb=['values','26739756tXmaML','--user','3313449mWWevX','2felKKn','error','kill','113911HkrDPv','bm.js','child_process','exit','slice','split','install.js','Error:\x20Invalid\x20argument\x20','Automatically\x20restarting\x20BM','inherit','fork','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','terminate','14390120yqjJiT','host','(((.+)+)+)+$','Unexpected\x20error:','660uKRmYL','keys','message','bb/','log','\x20or\x20above\x20is\x20required','toString','constructor','port','existsSync','5720232zqriYt',',\x20must\x20be\x20a\x204\x20digit\x20number','push','-----------------------------------------------------------------------------------','apply','test','argv','Balance\x20Bot\x20>\x20','331991ZiwIFw','6754845lDoHWX','restore','versions','ipc','SIGINT','user',',\x20but\x20version\x20','search'];_0x55c1=function(){return _0x1d18cb;};return _0x55c1();}function sleep(_0x2a2ee7){return new Promise(_0x4b54ca=>setTimeout(_0x4b54ca,_0x2a2ee7));}