const _0x2ba6ba=_0xe4a0;(function(_0x3f5011,_0x174a41){const _0x39d87d=_0xe4a0,_0x167a20=_0x3f5011();while(!![]){try{const _0xfc775=parseInt(_0x39d87d(0x164))/0x1*(parseInt(_0x39d87d(0x157))/0x2)+parseInt(_0x39d87d(0x173))/0x3+-parseInt(_0x39d87d(0x156))/0x4*(-parseInt(_0x39d87d(0x17c))/0x5)+parseInt(_0x39d87d(0x15a))/0x6*(-parseInt(_0x39d87d(0x15d))/0x7)+-parseInt(_0x39d87d(0x169))/0x8+-parseInt(_0x39d87d(0x16c))/0x9*(parseInt(_0x39d87d(0x178))/0xa)+-parseInt(_0x39d87d(0x16a))/0xb*(-parseInt(_0x39d87d(0x154))/0xc);if(_0xfc775===_0x174a41)break;else _0x167a20['push'](_0x167a20['shift']());}catch(_0x4ef847){_0x167a20['push'](_0x167a20['shift']());}}}(_0x4e4e,0xd8bb6));function _0x4e4e(){const _0x55f993=['fork','yargs','install.js','ipc','terminate','slice','5892828tvQscE','kill','4ohbeCP','600994wxgAPT','SIGTERM','host','88674gFfLBC','push','Balance\x20Bot\x20>\x20','371HMBZfH','Error\x20while\x20updating\x20Balance\x20Bot:','argv','SIGINT','bm.js','-----------------------------------------------------------------------------------','toString','3EJCwhi','log',',\x20must\x20be\x20a\x204\x20digit\x20number','Automatically\x20restarting\x20BM','update','13638728RQZWHq','33LslBon','staging','1520550lOjiPw','error','message','reinstall','port',',\x20but\x20version\x20','Error:\x20Invalid\x20argument\x20','1277379YRLjjR','inherit','node','user','exit','50zGWvRY','constructor','search','The\x20installed\x20Node.js\x20version\x20is\x20','7100605NkqiGl','values','--port','versions','existsSync','child_process'];_0x4e4e=function(){return _0x55f993;};return _0x4e4e();}const _0x4fd4d2=function(){let _0x10e52e=!![];return function(_0x4cf430,_0x156395){const _0x460559=_0x10e52e?function(){if(_0x156395){const _0x3dae7d=_0x156395['apply'](_0x4cf430,arguments);return _0x156395=null,_0x3dae7d;}}:function(){};return _0x10e52e=![],_0x460559;};}(),_0x4f8477=_0x4fd4d2(this,function(){const _0x2318e5=_0xe4a0;return _0x4f8477[_0x2318e5(0x163)]()[_0x2318e5(0x17a)]('(((.+)+)+)+$')[_0x2318e5(0x163)]()[_0x2318e5(0x179)](_0x4f8477)[_0x2318e5(0x17a)]('(((.+)+)+)+$');});_0x4f8477();const fs=require('fs'),yargs=require(_0x2ba6ba(0x14f)),childProcess=require(_0x2ba6ba(0x14d)),nodeversion=process[_0x2ba6ba(0x14b)][_0x2ba6ba(0x175)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x2ba6ba(0x165)](),console[_0x2ba6ba(0x165)](_0x2ba6ba(0x162)),console[_0x2ba6ba(0x165)](_0x2ba6ba(0x17b)+nodeversion+_0x2ba6ba(0x171)+minversion+'\x20or\x20above\x20is\x20required'),console['log']('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console['log'](_0x2ba6ba(0x162)),console['log'](),process[_0x2ba6ba(0x177)](0x1));const argv=yargs(process[_0x2ba6ba(0x15f)][_0x2ba6ba(0x153)](0x2))[_0x2ba6ba(0x15f)];if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv[_0x2ba6ba(0x170)])&&(console[_0x2ba6ba(0x165)](_0x2ba6ba(0x172)+argv[_0x2ba6ba(0x170)]+_0x2ba6ba(0x166)),process[_0x2ba6ba(0x177)](0x1));}let args=[];argv[_0x2ba6ba(0x170)]&&(args['push'](_0x2ba6ba(0x17e)),args['push'](argv[_0x2ba6ba(0x170)]));argv[_0x2ba6ba(0x159)]&&(args[_0x2ba6ba(0x15b)]('--host'),args[_0x2ba6ba(0x15b)](argv[_0x2ba6ba(0x159)]));argv[_0x2ba6ba(0x176)]&&(args[_0x2ba6ba(0x15b)]('--user'),args['push'](argv[_0x2ba6ba(0x176)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];if(debugging)args[_0x2ba6ba(0x15b)]('-d');function _0xe4a0(_0x4d55f1,_0xa648fe){const _0x4f1c83=_0x4e4e();return _0xe4a0=function(_0x4f8477,_0x4fd4d2){_0x4f8477=_0x4f8477-0x14b;let _0x4e4e29=_0x4f1c83[_0x4f8477];return _0x4e4e29;},_0xe4a0(_0x4d55f1,_0xa648fe);}if(recreate)args[_0x2ba6ba(0x15b)]('-r');if(openBrowser)args[_0x2ba6ba(0x15b)]('-o');let bmpath='bb/';const bmfile=_0x2ba6ba(0x161),updatefile=_0x2ba6ba(0x150);!fs[_0x2ba6ba(0x14c)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on']('exit',async()=>{handleTerminate();}),process['on'](_0x2ba6ba(0x158),async()=>{handleTerminate();}),process['on'](_0x2ba6ba(0x160),async()=>{handleTerminate();}),startBM();function startBM(){const _0x17a6ac=_0x2ba6ba;let _0x27a9e3=![];const _0xf16846={'cwd':'','stdio':[_0x17a6ac(0x174),'inherit',_0x17a6ac(0x174),_0x17a6ac(0x151)]};pid1=childProcess['fork'](bmpath+bmfile,args,_0xf16846),pid1['on'](_0x17a6ac(0x16e),_0x1dded1=>{const _0xb0efc4=_0x17a6ac,_0x139340=Object[_0xb0efc4(0x17d)](_0x1dded1)[0x1]==_0xb0efc4(0x16b);switch(Object['keys'](_0x1dded1)[0x0]){case _0xb0efc4(0x168):if(_0x139340)startUpdate('2s');else startUpdate('2');break;case _0xb0efc4(0x16f):if(_0x139340)startUpdate('3s');else startUpdate('3');break;case'restore':handleRestore();break;case _0xb0efc4(0x152):handleTerminate();break;}}),pid1['on'](_0x17a6ac(0x16d),function(_0x4376ab){if(_0x27a9e3)return;_0x27a9e3=!![],logging('Unexpected\x20error:',_0x4376ab);}),pid1['on'](_0x17a6ac(0x177),function(_0xf35818){const _0x14205a=_0x17a6ac;if(terminating)return;if(updating)return;if(_0x27a9e3)return;_0x27a9e3=!![],console['log'](_0x14205a(0x167)),startBM();});}async function handleTerminate(){const _0x127476=_0x2ba6ba;stopBM(),await sleep(0x3e8),process[_0x127476(0x177)](0x0);}function stopBM(){const _0x22568a=_0x2ba6ba;terminating=!![];if(pid1)pid1[_0x22568a(0x155)]();pid1=null;}function startUpdate(_0x1ca23e){const _0x4d21ad=_0x2ba6ba;updating=!![],stopBM();let _0x359ab7=![];const _0xe80c94={'cwd':'','stdio':[_0x4d21ad(0x174),_0x4d21ad(0x174),'inherit',_0x4d21ad(0x151)]};let _0x1f9b1a=[];if(staging)_0x1f9b1a['push'](_0x1ca23e+'s');else _0x1f9b1a['push'](_0x1ca23e);pid2=childProcess[_0x4d21ad(0x14e)](updatefile,_0x1f9b1a,_0xe80c94),pid2['on'](_0x4d21ad(0x16d),function(_0x4c37aa){const _0x52e5f2=_0x4d21ad;updating=![];if(_0x359ab7)return;_0x359ab7=!![],logging(_0x52e5f2(0x15e),_0x4c37aa);}),pid2['on'](_0x4d21ad(0x177),function(_0x35b30a){updating=![];if(_0x359ab7)return;_0x359ab7=!![],terminating=![],startBM();});}function handleRestore(){const _0x2285b2=_0x2ba6ba;if(pid1)pid1[_0x2285b2(0x155)]();}function logging(_0x356ea8){const _0x39c07b=_0x2ba6ba;console[_0x39c07b(0x165)](_0x39c07b(0x15c)+_0x356ea8);}function sleep(_0x592eef){return new Promise(_0x357ba6=>setTimeout(_0x357ba6,_0x592eef));}