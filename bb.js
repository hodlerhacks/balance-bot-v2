const _0x2a0e59=_0x4795;(function(_0x21573c,_0x33dc51){const _0x4215eb=_0x4795,_0x36544e=_0x21573c();while(!![]){try{const _0x586f9f=-parseInt(_0x4215eb(0xa7))/0x1*(-parseInt(_0x4215eb(0xae))/0x2)+parseInt(_0x4215eb(0xab))/0x3+-parseInt(_0x4215eb(0xc0))/0x4+-parseInt(_0x4215eb(0x9d))/0x5+-parseInt(_0x4215eb(0xb6))/0x6*(-parseInt(_0x4215eb(0xa2))/0x7)+-parseInt(_0x4215eb(0x92))/0x8*(-parseInt(_0x4215eb(0x95))/0x9)+parseInt(_0x4215eb(0xb0))/0xa*(-parseInt(_0x4215eb(0x94))/0xb);if(_0x586f9f===_0x33dc51)break;else _0x36544e['push'](_0x36544e['shift']());}catch(_0x5ea75a){_0x36544e['push'](_0x36544e['shift']());}}}(_0x4c10,0x4dc99));const _0x328df5=function(){let _0x3e8573=!![];return function(_0x55e526,_0x5bfbff){const _0x128276=_0x3e8573?function(){const _0x5bb65c=_0x4795;if(_0x5bfbff){const _0x19d9bc=_0x5bfbff[_0x5bb65c(0xac)](_0x55e526,arguments);return _0x5bfbff=null,_0x19d9bc;}}:function(){};return _0x3e8573=![],_0x128276;};}(),_0x5c1de2=_0x328df5(this,function(){const _0x1e421e=_0x4795;return _0x5c1de2[_0x1e421e(0xbc)]()[_0x1e421e(0xa3)]('(((.+)+)+)+$')['toString']()['constructor'](_0x5c1de2)[_0x1e421e(0xa3)]('(((.+)+)+)+$');});_0x5c1de2();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x2a0e59(0xb9)][_0x2a0e59(0x97)](0x2))[_0x2a0e59(0xb9)],childProcess=require(_0x2a0e59(0x93)),nodeversion=process[_0x2a0e59(0x8f)][_0x2a0e59(0xa5)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x2a0e59(0x9c)](),console['log'](_0x2a0e59(0xa1)),console['log'](_0x2a0e59(0x9e)+nodeversion+_0x2a0e59(0x99)+minversion+_0x2a0e59(0x96)),console[_0x2a0e59(0x9c)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console['log'](_0x2a0e59(0xa1)),console[_0x2a0e59(0x9c)](),process['exit'](0x1));if(argv[_0x2a0e59(0xb5)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x2a0e59(0xb3)](argv[_0x2a0e59(0xb5)])&&(console['log'](_0x2a0e59(0xaf)+argv[_0x2a0e59(0xb5)]+_0x2a0e59(0x9b)),process[_0x2a0e59(0x98)](0x1));}let args=[];argv[_0x2a0e59(0xb5)]&&(args[_0x2a0e59(0xb4)](_0x2a0e59(0xaa)),args[_0x2a0e59(0xb4)](argv[_0x2a0e59(0xb5)]));argv[_0x2a0e59(0x8e)]&&(args['push'](_0x2a0e59(0x91)),args[_0x2a0e59(0xb4)](argv[_0x2a0e59(0x8e)]));argv[_0x2a0e59(0xb7)]&&(args[_0x2a0e59(0xb4)](_0x2a0e59(0xbb)),args[_0x2a0e59(0xb4)](argv[_0x2a0e59(0xb7)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args['push']('-d');function _0x4c10(){const _0x4ce077=['1161170rawTyo','Error:\x20Invalid\x20argument\x20','5247510UrFDww','inherit','SIGINT','test','push','port','1205898lMrOse','user','Automatically\x20restarting\x20BM','argv','Unexpected\x20error:','--user','toString','Error\x20while\x20updating\x20Balance\x20Bot:','SIGTERM','ipc','1881748bNIKBV','host','versions','error','--host','6296tZEToc','child_process','22FgHohP','6237zLTmdR','\x20or\x20above\x20is\x20required','slice','exit',',\x20but\x20version\x20','bb/',',\x20must\x20be\x20a\x204\x20digit\x20number','log','583895KmivLc','The\x20installed\x20Node.js\x20version\x20is\x20','values','fork','-----------------------------------------------------------------------------------','7btuUrl','search','restore','node','kill','1QYACjS','reinstall','bm.js','--port','1885128eoiUJS','apply','Balance\x20Bot\x20>\x20'];_0x4c10=function(){return _0x4ce077;};return _0x4c10();}if(recreate)args[_0x2a0e59(0xb4)]('-r');function _0x4795(_0x3d365b,_0x2510da){const _0x30fb62=_0x4c10();return _0x4795=function(_0x5c1de2,_0x328df5){_0x5c1de2=_0x5c1de2-0x8e;let _0x4c10b3=_0x30fb62[_0x5c1de2];return _0x4c10b3;},_0x4795(_0x3d365b,_0x2510da);}let bmpath=_0x2a0e59(0x9a);const bmfile=_0x2a0e59(0xa9),updatefile='install.js';!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x2a0e59(0x98),async()=>{handleTerminate();}),process['on'](_0x2a0e59(0xbe),async()=>{handleTerminate();}),process['on'](_0x2a0e59(0xb2),async()=>{handleTerminate();}),startBM();function startBM(){const _0x2eacc2=_0x2a0e59;let _0x65d571=![];const _0x47c2e3={'cwd':'','stdio':['inherit',_0x2eacc2(0xb1),_0x2eacc2(0xb1),_0x2eacc2(0xbf)]};pid1=childProcess[_0x2eacc2(0xa0)](bmpath+bmfile,args,_0x47c2e3),pid1['on']('message',_0x42c85b=>{const _0x3fe38d=_0x2eacc2,_0x413783=Object[_0x3fe38d(0x9f)](_0x42c85b)[0x1]=='staging';switch(Object['keys'](_0x42c85b)[0x0]){case'update':if(_0x413783)startUpdate('2s');else startUpdate('2');break;case _0x3fe38d(0xa8):if(_0x413783)startUpdate('3s');else startUpdate('3');break;case _0x3fe38d(0xa4):handleRestore();break;case'terminate':handleTerminate();break;}}),pid1['on'](_0x2eacc2(0x90),function(_0x5f8792){const _0x39f5f0=_0x2eacc2;if(_0x65d571)return;_0x65d571=!![],logging(_0x39f5f0(0xba),_0x5f8792);}),pid1['on']('exit',function(_0xc1669c){const _0x10accb=_0x2eacc2;if(terminating)return;if(updating)return;if(_0x65d571)return;_0x65d571=!![],console['log'](_0x10accb(0xb8)),startBM();});}async function handleTerminate(){const _0x23d0fa=_0x2a0e59;stopBM(),await sleep(0x3e8),process[_0x23d0fa(0x98)](0x0);}function stopBM(){const _0x3f18a4=_0x2a0e59;terminating=!![];if(pid1)pid1[_0x3f18a4(0xa6)]();pid1=null;}function startUpdate(_0x548e52){const _0xab1cd8=_0x2a0e59;updating=!![],stopBM();let _0x42fc2c=![];const _0x33de99={'cwd':'','stdio':[_0xab1cd8(0xb1),_0xab1cd8(0xb1),_0xab1cd8(0xb1),_0xab1cd8(0xbf)]};let _0x291250=[];if(staging)_0x291250[_0xab1cd8(0xb4)](_0x548e52+'s');else _0x291250[_0xab1cd8(0xb4)](_0x548e52);pid2=childProcess[_0xab1cd8(0xa0)](updatefile,_0x291250,_0x33de99),pid2['on'](_0xab1cd8(0x90),function(_0x4a61be){const _0x4fdc01=_0xab1cd8;updating=![];if(_0x42fc2c)return;_0x42fc2c=!![],logging(_0x4fdc01(0xbd),_0x4a61be);}),pid2['on'](_0xab1cd8(0x98),function(_0x306880){updating=![];if(_0x42fc2c)return;_0x42fc2c=!![],terminating=![],startBM();});}function handleRestore(){const _0x202622=_0x2a0e59;if(pid1)pid1[_0x202622(0xa6)]();}function logging(_0x2c7227){const _0xd8293d=_0x2a0e59;console[_0xd8293d(0x9c)](_0xd8293d(0xad)+_0x2c7227);}function sleep(_0x1cad13){return new Promise(_0x2d88b2=>setTimeout(_0x2d88b2,_0x1cad13));}