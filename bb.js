const _0x41868b=_0x56f5;(function(_0x3d6a21,_0x35672b){const _0x28c27b=_0x56f5,_0x50bba3=_0x3d6a21();while(!![]){try{const _0x219baf=-parseInt(_0x28c27b(0x167))/0x1*(-parseInt(_0x28c27b(0x162))/0x2)+-parseInt(_0x28c27b(0x13c))/0x3+-parseInt(_0x28c27b(0x156))/0x4*(parseInt(_0x28c27b(0x163))/0x5)+parseInt(_0x28c27b(0x165))/0x6*(-parseInt(_0x28c27b(0x160))/0x7)+parseInt(_0x28c27b(0x158))/0x8*(parseInt(_0x28c27b(0x14f))/0x9)+-parseInt(_0x28c27b(0x15e))/0xa*(-parseInt(_0x28c27b(0x161))/0xb)+-parseInt(_0x28c27b(0x169))/0xc*(-parseInt(_0x28c27b(0x164))/0xd);if(_0x219baf===_0x35672b)break;else _0x50bba3['push'](_0x50bba3['shift']());}catch(_0xe20cad){_0x50bba3['push'](_0x50bba3['shift']());}}}(_0x11c9,0x789c3));function _0x11c9(){const _0x8347d4=['1799sLujBt','11oXykTd','2xwSjQP','685455aWkWnU','611kyMWCY','17022EopFfw','fork','475733QMdfHa','error','59580WTEGfZ',',\x20must\x20be\x20a\x204\x20digit\x20number','-----------------------------------------------------------------------------------','host','split','slice','38985Fejswh','SIGINT',',\x20but\x20version\x20','log','--port','message','toString','\x20or\x20above\x20is\x20required','user','argv','node','bb/','inherit','port','restore','Balance\x20Bot\x20>\x20','values','yargs','SIGTERM','45XVDzwj','exit','constructor','Automatically\x20restarting\x20BM','ipc','push','keys','28gcEoag','The\x20installed\x20Node.js\x20version\x20is\x20','858408sdhMqK','update','--user','existsSync','Error\x20while\x20updating\x20Balance\x20Bot:','(((.+)+)+)+$','9501670NmRufB','versions'];_0x11c9=function(){return _0x8347d4;};return _0x11c9();}const _0x1eb0ac=function(){let _0x5ef815=!![];return function(_0x3a103e,_0x1a01b2){const _0x58d6a3=_0x5ef815?function(){if(_0x1a01b2){const _0x4a264b=_0x1a01b2['apply'](_0x3a103e,arguments);return _0x1a01b2=null,_0x4a264b;}}:function(){};return _0x5ef815=![],_0x58d6a3;};}(),_0xbc6a=_0x1eb0ac(this,function(){const _0x234e26=_0x56f5;return _0xbc6a[_0x234e26(0x142)]()['search'](_0x234e26(0x15d))['toString']()[_0x234e26(0x151)](_0xbc6a)['search'](_0x234e26(0x15d));});_0xbc6a();const fs=require('fs'),yargs=require(_0x41868b(0x14d)),childProcess=require('child_process'),nodeversion=process[_0x41868b(0x15f)][_0x41868b(0x146)],minversion=0x10;nodeversion[_0x41868b(0x13a)]('.')[0x0]<minversion&&(console['log'](),console[_0x41868b(0x13f)](_0x41868b(0x138)),console[_0x41868b(0x13f)](_0x41868b(0x157)+nodeversion+_0x41868b(0x13e)+minversion+_0x41868b(0x143)),console[_0x41868b(0x13f)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console['log'](_0x41868b(0x138)),console['log'](),process[_0x41868b(0x150)](0x1));const argv=yargs(process['argv'][_0x41868b(0x13b)](0x2))[_0x41868b(0x145)];function _0x56f5(_0x334f66,_0x50ce69){const _0x1861ed=_0x11c9();return _0x56f5=function(_0xbc6a,_0x1eb0ac){_0xbc6a=_0xbc6a-0x138;let _0x11c9b4=_0x1861ed[_0xbc6a];return _0x11c9b4;},_0x56f5(_0x334f66,_0x50ce69);}if(argv[_0x41868b(0x149)]){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv['port'])&&(console[_0x41868b(0x13f)]('Error:\x20Invalid\x20argument\x20'+argv[_0x41868b(0x149)]+_0x41868b(0x16a)),process['exit'](0x1));}let args=[];argv[_0x41868b(0x149)]&&(args[_0x41868b(0x154)](_0x41868b(0x140)),args[_0x41868b(0x154)](argv['port']));argv[_0x41868b(0x139)]&&(args[_0x41868b(0x154)]('--host'),args['push'](argv[_0x41868b(0x139)]));argv['user']&&(args[_0x41868b(0x154)](_0x41868b(0x15a)),args['push'](argv[_0x41868b(0x144)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];if(debugging)args[_0x41868b(0x154)]('-d');if(recreate)args[_0x41868b(0x154)]('-r');if(openBrowser)args[_0x41868b(0x154)]('-o');let bmpath=_0x41868b(0x147);const bmfile='bm.js',updatefile='install.js';!fs[_0x41868b(0x15b)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x41868b(0x150),async()=>{handleTerminate();}),process['on'](_0x41868b(0x14e),async()=>{handleTerminate();}),process['on'](_0x41868b(0x13d),async()=>{handleTerminate();}),startBM();function startBM(){const _0x3c79e5=_0x41868b;let _0x502bb6=![];const _0xc3c69f={'cwd':'','stdio':[_0x3c79e5(0x148),'inherit',_0x3c79e5(0x148),_0x3c79e5(0x153)]};pid1=childProcess[_0x3c79e5(0x166)](bmpath+bmfile,args,_0xc3c69f),pid1['on'](_0x3c79e5(0x141),_0x582eff=>{const _0x31e42a=_0x3c79e5,_0xaaa0b6=Object[_0x31e42a(0x14c)](_0x582eff)[0x1]=='staging';switch(Object[_0x31e42a(0x155)](_0x582eff)[0x0]){case _0x31e42a(0x159):if(_0xaaa0b6)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0xaaa0b6)startUpdate('3s');else startUpdate('3');break;case _0x31e42a(0x14a):handleRestore();break;case'terminate':handleTerminate();break;}}),pid1['on'](_0x3c79e5(0x168),function(_0x68584c){if(_0x502bb6)return;_0x502bb6=!![],logging('Unexpected\x20error:',_0x68584c);}),pid1['on'](_0x3c79e5(0x150),function(_0x14a45e){const _0x5ea1e6=_0x3c79e5;if(terminating)return;if(updating)return;if(_0x502bb6)return;_0x502bb6=!![],console[_0x5ea1e6(0x13f)](_0x5ea1e6(0x152)),startBM();});}async function handleTerminate(){const _0x3b275e=_0x41868b;stopBM(),await sleep(0x3e8),process[_0x3b275e(0x150)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x504fff){const _0x472d2d=_0x41868b;updating=!![],stopBM();let _0x285f92=![];const _0x421357={'cwd':'','stdio':['inherit',_0x472d2d(0x148),_0x472d2d(0x148),'ipc']};let _0x3fde62=[];if(staging)_0x3fde62['push'](_0x504fff+'s');else _0x3fde62[_0x472d2d(0x154)](_0x504fff);pid2=childProcess[_0x472d2d(0x166)](updatefile,_0x3fde62,_0x421357),pid2['on'](_0x472d2d(0x168),function(_0x24c88c){const _0x4425a3=_0x472d2d;updating=![];if(_0x285f92)return;_0x285f92=!![],logging(_0x4425a3(0x15c),_0x24c88c);}),pid2['on'](_0x472d2d(0x150),function(_0x4fbd62){updating=![];if(_0x285f92)return;_0x285f92=!![],terminating=![],startBM();});}function handleRestore(){if(pid1)pid1['kill']();}function logging(_0x1c9679){const _0x44db9=_0x41868b;console[_0x44db9(0x13f)](_0x44db9(0x14b)+_0x1c9679);}function sleep(_0x31c715){return new Promise(_0x1a941e=>setTimeout(_0x1a941e,_0x31c715));}