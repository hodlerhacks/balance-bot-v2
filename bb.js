const _0x4c2ee7=_0x59e1;(function(_0x3c2e67,_0x206742){const _0x3bed76=_0x59e1,_0x338fbd=_0x3c2e67();while(!![]){try{const _0x52ca6e=-parseInt(_0x3bed76(0xfc))/0x1*(-parseInt(_0x3bed76(0xe7))/0x2)+parseInt(_0x3bed76(0xd8))/0x3+-parseInt(_0x3bed76(0xe2))/0x4+-parseInt(_0x3bed76(0xe5))/0x5+-parseInt(_0x3bed76(0xfa))/0x6+-parseInt(_0x3bed76(0x102))/0x7*(parseInt(_0x3bed76(0xe9))/0x8)+parseInt(_0x3bed76(0xd7))/0x9;if(_0x52ca6e===_0x206742)break;else _0x338fbd['push'](_0x338fbd['shift']());}catch(_0x45479d){_0x338fbd['push'](_0x338fbd['shift']());}}}(_0x3eb2,0x19de6));const _0x34334f=function(){let _0x2dd9c2=!![];return function(_0x341c69,_0x29e0d0){const _0x273e5e=_0x2dd9c2?function(){const _0x5d06ec=_0x59e1;if(_0x29e0d0){const _0x4a2d49=_0x29e0d0[_0x5d06ec(0xda)](_0x341c69,arguments);return _0x29e0d0=null,_0x4a2d49;}}:function(){};return _0x2dd9c2=![],_0x273e5e;};}(),_0x336779=_0x34334f(this,function(){const _0x2b628a=_0x59e1;return _0x336779['toString']()[_0x2b628a(0xd0)]('(((.+)+)+)+$')[_0x2b628a(0xd4)]()['constructor'](_0x336779)['search']('(((.+)+)+)+$');});_0x336779();const fs=require('fs'),yargs=require('yargs'),childProcess=require(_0x4c2ee7(0xd1)),nodeversion=process[_0x4c2ee7(0xfb)][_0x4c2ee7(0xf9)],minversion=0x10;nodeversion[_0x4c2ee7(0xf0)]('.')[0x0]<minversion&&(console[_0x4c2ee7(0xe1)](),console[_0x4c2ee7(0xe1)](_0x4c2ee7(0xf5)),console[_0x4c2ee7(0xe1)](_0x4c2ee7(0xf2)+nodeversion+_0x4c2ee7(0xdf)+minversion+'\x20or\x20above\x20is\x20required'),console[_0x4c2ee7(0xe1)](_0x4c2ee7(0xdb)),console[_0x4c2ee7(0xe1)](_0x4c2ee7(0xf5)),console['log'](),process[_0x4c2ee7(0xfe)](0x1));const argv=yargs(process['argv'][_0x4c2ee7(0xee)](0x2))[_0x4c2ee7(0xf4)];function _0x59e1(_0x2aee3c,_0x5b8522){const _0x4beba2=_0x3eb2();return _0x59e1=function(_0x336779,_0x34334f){_0x336779=_0x336779-0xcf;let _0x3eb2c7=_0x4beba2[_0x336779];return _0x3eb2c7;},_0x59e1(_0x2aee3c,_0x5b8522);}if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv[_0x4c2ee7(0xfd)])&&(console[_0x4c2ee7(0xe1)](_0x4c2ee7(0xe0)+argv[_0x4c2ee7(0xfd)]+_0x4c2ee7(0xdc)),process[_0x4c2ee7(0xfe)](0x1));}let args=[];argv[_0x4c2ee7(0xfd)]&&(args[_0x4c2ee7(0xe3)](_0x4c2ee7(0xe4)),args[_0x4c2ee7(0xe3)](argv[_0x4c2ee7(0xfd)]));argv[_0x4c2ee7(0x100)]&&(args[_0x4c2ee7(0xe3)]('--host'),args['push'](argv[_0x4c2ee7(0x100)]));argv[_0x4c2ee7(0xd6)]&&(args[_0x4c2ee7(0xe3)](_0x4c2ee7(0xcf)),args[_0x4c2ee7(0xe3)](argv[_0x4c2ee7(0xd6)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];if(debugging)args[_0x4c2ee7(0xe3)]('-d');if(recreate)args[_0x4c2ee7(0xe3)]('-r');if(openBrowser)args[_0x4c2ee7(0xe3)]('-o');let bmpath=_0x4c2ee7(0xec);const bmfile=_0x4c2ee7(0xe8),updatefile='install.js';!fs[_0x4c2ee7(0xf8)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x4c2ee7(0xfe),async()=>{handleTerminate();}),process['on'](_0x4c2ee7(0xef),async()=>{handleTerminate();}),process['on'](_0x4c2ee7(0xf6),async()=>{handleTerminate();}),startBM();function _0x3eb2(){const _0x48e886=['toString','Automatically\x20restarting\x20BM','user','2515779JdkkgZ','29061pZfQCD','Balance\x20Bot\x20>\x20','apply','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again',',\x20must\x20be\x20a\x204\x20digit\x20number','error','terminate',',\x20but\x20version\x20','Error:\x20Invalid\x20argument\x20','log','435988EqPuCN','push','--port','128820IvFWOk','Unexpected\x20error:','68018BuwrFl','bm.js','98328LsPySQ','staging','restore','bb/','fork','slice','SIGTERM','split','ipc','The\x20installed\x20Node.js\x20version\x20is\x20','inherit','argv','-----------------------------------------------------------------------------------','SIGINT','kill','existsSync','node','273810SCCqRB','versions','1EhSLet','port','exit','keys','host','values','21VvxHLh','--user','search','child_process','Error\x20while\x20updating\x20Balance\x20Bot:','update'];_0x3eb2=function(){return _0x48e886;};return _0x3eb2();}function startBM(){const _0x511fc6=_0x4c2ee7;let _0x13dc4c=![];const _0x22474c={'cwd':'','stdio':[_0x511fc6(0xf3),_0x511fc6(0xf3),'inherit','ipc']};pid1=childProcess[_0x511fc6(0xed)](bmpath+bmfile,args,_0x22474c),pid1['on']('message',_0x4b175a=>{const _0x3f0214=_0x511fc6,_0x4b34c8=Object[_0x3f0214(0x101)](_0x4b175a)[0x1]==_0x3f0214(0xea);switch(Object[_0x3f0214(0xff)](_0x4b175a)[0x0]){case _0x3f0214(0xd3):if(_0x4b34c8)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x4b34c8)startUpdate('3s');else startUpdate('3');break;case _0x3f0214(0xeb):handleRestore();break;case _0x3f0214(0xde):handleTerminate();break;}}),pid1['on'](_0x511fc6(0xdd),function(_0x24b199){const _0x3d69e7=_0x511fc6;if(_0x13dc4c)return;_0x13dc4c=!![],logging(_0x3d69e7(0xe6),_0x24b199);}),pid1['on'](_0x511fc6(0xfe),function(_0x2c5491){const _0x19e928=_0x511fc6;if(terminating)return;if(updating)return;if(_0x13dc4c)return;_0x13dc4c=!![],console[_0x19e928(0xe1)](_0x19e928(0xd5)),startBM();});}async function handleTerminate(){const _0x3b3391=_0x4c2ee7;stopBM(),await sleep(0x3e8),process[_0x3b3391(0xfe)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x15e15a){const _0x3998bd=_0x4c2ee7;updating=!![],stopBM();let _0xaf5434=![];const _0x20d95e={'cwd':'','stdio':[_0x3998bd(0xf3),_0x3998bd(0xf3),_0x3998bd(0xf3),_0x3998bd(0xf1)]};let _0x2ab1ae=[];if(staging)_0x2ab1ae[_0x3998bd(0xe3)](_0x15e15a+'s');else _0x2ab1ae[_0x3998bd(0xe3)](_0x15e15a);pid2=childProcess[_0x3998bd(0xed)](updatefile,_0x2ab1ae,_0x20d95e),pid2['on']('error',function(_0x1c676f){const _0x412f74=_0x3998bd;updating=![];if(_0xaf5434)return;_0xaf5434=!![],logging(_0x412f74(0xd2),_0x1c676f);}),pid2['on']('exit',function(_0x21b67b){updating=![];if(_0xaf5434)return;_0xaf5434=!![],terminating=![],startBM();});}function handleRestore(){const _0x359318=_0x4c2ee7;if(pid1)pid1[_0x359318(0xf7)]();}function logging(_0x203478){const _0x58ab00=_0x4c2ee7;console[_0x58ab00(0xe1)](_0x58ab00(0xd9)+_0x203478);}function sleep(_0x4b0bcd){return new Promise(_0x25951c=>setTimeout(_0x25951c,_0x4b0bcd));}