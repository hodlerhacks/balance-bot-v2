const _0x40cd20=_0x5787;function _0x5787(_0x2afa53,_0x27fd26){const _0x309b45=_0x3292();return _0x5787=function(_0x5637d2,_0x37afb1){_0x5637d2=_0x5637d2-0x1a5;let _0x32929c=_0x309b45[_0x5637d2];return _0x32929c;},_0x5787(_0x2afa53,_0x27fd26);}(function(_0x4a6d41,_0x52660b){const _0x2dd520=_0x5787,_0x38226c=_0x4a6d41();while(!![]){try{const _0x4ea29d=parseInt(_0x2dd520(0x1d7))/0x1+-parseInt(_0x2dd520(0x1d4))/0x2+-parseInt(_0x2dd520(0x1b2))/0x3+-parseInt(_0x2dd520(0x1c9))/0x4*(parseInt(_0x2dd520(0x1d3))/0x5)+parseInt(_0x2dd520(0x1d5))/0x6+parseInt(_0x2dd520(0x1ad))/0x7*(-parseInt(_0x2dd520(0x1b3))/0x8)+parseInt(_0x2dd520(0x1a8))/0x9;if(_0x4ea29d===_0x52660b)break;else _0x38226c['push'](_0x38226c['shift']());}catch(_0x1fc742){_0x38226c['push'](_0x38226c['shift']());}}}(_0x3292,0x565b8));const _0x37afb1=function(){let _0x3a8632=!![];return function(_0x263eab,_0x3462ff){const _0x348a2f=_0x3a8632?function(){const _0x3b7b4e=_0x5787;if(_0x3462ff){const _0x54c62a=_0x3462ff[_0x3b7b4e(0x1b4)](_0x263eab,arguments);return _0x3462ff=null,_0x54c62a;}}:function(){};return _0x3a8632=![],_0x348a2f;};}(),_0x5637d2=_0x37afb1(this,function(){const _0xa08d6f=_0x5787;return _0x5637d2[_0xa08d6f(0x1b1)]()[_0xa08d6f(0x1ac)]('(((.+)+)+)+$')[_0xa08d6f(0x1b1)]()[_0xa08d6f(0x1be)](_0x5637d2)[_0xa08d6f(0x1ac)](_0xa08d6f(0x1c6));});_0x5637d2();const fs=require('fs'),argv=require(_0x40cd20(0x1b5))(process[_0x40cd20(0x1a6)][_0x40cd20(0x1a7)](0x2))[_0x40cd20(0x1a6)],childProcess=require(_0x40cd20(0x1b9)),nodeversion=process[_0x40cd20(0x1c7)][_0x40cd20(0x1d9)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x40cd20(0x1ba)](),console[_0x40cd20(0x1ba)]('-----------------------------------------------------------------------------------'),console[_0x40cd20(0x1ba)](_0x40cd20(0x1d8)+nodeversion+_0x40cd20(0x1bc)+minversion+_0x40cd20(0x1b6)),console[_0x40cd20(0x1ba)](_0x40cd20(0x1ab)),console[_0x40cd20(0x1ba)](_0x40cd20(0x1c5)),console['log'](),process[_0x40cd20(0x1da)](0x1));if(argv[_0x40cd20(0x1cc)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x40cd20(0x1bb)](argv['port'])&&(console[_0x40cd20(0x1ba)](_0x40cd20(0x1bf)+argv[_0x40cd20(0x1cc)]+_0x40cd20(0x1c0)),process[_0x40cd20(0x1da)](0x1));}let args=[];argv[_0x40cd20(0x1cc)]&&(args[_0x40cd20(0x1c2)](_0x40cd20(0x1ce)),args[_0x40cd20(0x1c2)](argv[_0x40cd20(0x1cc)]));argv[_0x40cd20(0x1aa)]&&(args[_0x40cd20(0x1c2)]('--host'),args[_0x40cd20(0x1c2)](argv[_0x40cd20(0x1aa)]));argv[_0x40cd20(0x1cf)]&&(args[_0x40cd20(0x1c2)](_0x40cd20(0x1c4)),args['push'](argv[_0x40cd20(0x1cf)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x40cd20(0x1c2)]('-d');let bmpath=_0x40cd20(0x1ca);const bmfile=_0x40cd20(0x1a5),updatefile=_0x40cd20(0x1d2);!fs[_0x40cd20(0x1c8)](bmpath+bmfile)&&(bmpath='');function _0x3292(){const _0x59c931=['node','exit','bm.js','argv','slice','13820337eRIdpc','staging','host','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','search','371XZXSFX','SIGTERM','message','kill','toString','793896mtcTCT','9272MIbbDn','apply','yargs/yargs','\x20or\x20above\x20is\x20required','reinstall','Error\x20while\x20updating\x20Balance\x20Bot:','child_process','log','test',',\x20but\x20version\x20','keys','constructor','Error:\x20Invalid\x20argument\x20',',\x20must\x20be\x20a\x204\x20digit\x20number','SIGINT','push','fork','--user','-----------------------------------------------------------------------------------','(((.+)+)+)+$','versions','existsSync','4kFSLry','bb/','ipc','port','restore','--port','user','error','inherit','install.js','2240135ljtWhn','1053656YhqTQd','582714bXjOpy','terminate','21922vGarIj','The\x20installed\x20Node.js\x20version\x20is\x20'];_0x3292=function(){return _0x59c931;};return _0x3292();}let pid1,pid2,updating=![],terminating=![];process['on']('exit',async()=>{handleTerminate();}),process['on'](_0x40cd20(0x1ae),async()=>{handleTerminate();}),process['on'](_0x40cd20(0x1c1),async()=>{handleTerminate();}),startBM();function startBM(){const _0x560940=_0x40cd20;let _0x2db286=![];const _0x240477={'cwd':'','stdio':[_0x560940(0x1d1),_0x560940(0x1d1),_0x560940(0x1d1),_0x560940(0x1cb)]};pid1=childProcess[_0x560940(0x1c3)](bmpath+bmfile,args,_0x240477),pid1['on'](_0x560940(0x1af),_0x4a230c=>{const _0x411919=_0x560940,_0x3038cd=Object['values'](_0x4a230c)[0x1]==_0x411919(0x1a9);switch(Object[_0x411919(0x1bd)](_0x4a230c)[0x0]){case'update':if(_0x3038cd)startUpdate('2s');else startUpdate('2');break;case _0x411919(0x1b7):if(_0x3038cd)startUpdate('3s');else startUpdate('3');break;case _0x411919(0x1cd):handleRestore();break;case _0x411919(0x1d6):handleTerminate();break;}}),pid1['on'](_0x560940(0x1d0),function(_0x36d20e){if(_0x2db286)return;_0x2db286=!![],logging('Unexpected\x20error:',_0x36d20e);}),pid1['on'](_0x560940(0x1da),function(_0x76c6bb){const _0x1722ce=_0x560940;if(terminating)return;if(updating)return;if(_0x2db286)return;_0x2db286=!![],console[_0x1722ce(0x1ba)]('Automatically\x20restarting\x20BM'),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x14f399){const _0x30ba8c=_0x40cd20;updating=!![],stopBM();let _0x1198a4=![];const _0x4020e5={'cwd':'','stdio':['inherit','inherit','inherit',_0x30ba8c(0x1cb)]};let _0x30b8f5=[];if(staging)_0x30b8f5[_0x30ba8c(0x1c2)](_0x14f399+'s');else _0x30b8f5[_0x30ba8c(0x1c2)](_0x14f399);pid2=childProcess[_0x30ba8c(0x1c3)](updatefile,_0x30b8f5,_0x4020e5),pid2['on'](_0x30ba8c(0x1d0),function(_0x4945b0){const _0x2a9662=_0x30ba8c;updating=![];if(_0x1198a4)return;_0x1198a4=!![],logging(_0x2a9662(0x1b8),_0x4945b0);}),pid2['on']('exit',function(_0x239049){updating=![];if(_0x1198a4)return;_0x1198a4=!![],terminating=![],startBM();});}function handleRestore(){const _0x24051c=_0x40cd20;if(pid1)pid1[_0x24051c(0x1b0)]();}function logging(_0x201d0a){console['log']('Balance\x20Bot\x20>\x20'+_0x201d0a);}function sleep(_0x397cee){return new Promise(_0x3aa305=>setTimeout(_0x3aa305,_0x397cee));}