const _0xc849bb=_0x137b;function _0x41f2(){const _0x59cc83=['Error\x20while\x20updating\x20Balance\x20Bot:','Balance\x20Bot\x20>\x20','160abJutB','argv','(((.+)+)+)+$','1395153XOZMny','existsSync','161920RenHaG','restore','--host','host','10sUSeYg','60zOxKuh','--port','message','Error:\x20Invalid\x20argument\x20','4074854PjTAfp','Automatically\x20restarting\x20BM','error','3771880goSqHY','ipc','child_process','3fsWjTx','test','yargs/yargs','node','fork','user','The\x20installed\x20Node.js\x20version\x20is\x20','\x20or\x20above\x20is\x20required','Unexpected\x20error:','update','toString','inherit','bm.js','install.js','kill','push',',\x20but\x20version\x20','versions','bb/','port','50rqPJjY','split','apply','log','8227256VsgSPt','exit',',\x20must\x20be\x20a\x204\x20digit\x20number','2558578aWIKmr','terminate','reinstall','-----------------------------------------------------------------------------------'];_0x41f2=function(){return _0x59cc83;};return _0x41f2();}(function(_0x1b444f,_0x521719){const _0x66118f=_0x137b,_0x4121a5=_0x1b444f();while(!![]){try{const _0x1f38e0=-parseInt(_0x66118f(0x1fb))/0x1*(parseInt(_0x66118f(0x1ca))/0x2)+-parseInt(_0x66118f(0x1d5))/0x3*(-parseInt(_0x66118f(0x1d2))/0x4)+-parseInt(_0x66118f(0x1f6))/0x5*(-parseInt(_0x66118f(0x1cb))/0x6)+parseInt(_0x66118f(0x1cf))/0x7+-parseInt(_0x66118f(0x1ed))/0x8+-parseInt(_0x66118f(0x1f9))/0x9+parseInt(_0x66118f(0x1e9))/0xa*(parseInt(_0x66118f(0x1f0))/0xb);if(_0x1f38e0===_0x521719)break;else _0x4121a5['push'](_0x4121a5['shift']());}catch(_0x270678){_0x4121a5['push'](_0x4121a5['shift']());}}}(_0x41f2,0xa9c52));const _0x365138=function(){let _0x27e5ad=!![];return function(_0x2688c8,_0x5ddda){const _0x5c47d1=_0x27e5ad?function(){const _0x28a096=_0x137b;if(_0x5ddda){const _0x389b60=_0x5ddda[_0x28a096(0x1eb)](_0x2688c8,arguments);return _0x5ddda=null,_0x389b60;}}:function(){};return _0x27e5ad=![],_0x5c47d1;};}(),_0x250f58=_0x365138(this,function(){const _0x23d3f7=_0x137b;return _0x250f58[_0x23d3f7(0x1df)]()['search'](_0x23d3f7(0x1f8))[_0x23d3f7(0x1df)]()['constructor'](_0x250f58)['search'](_0x23d3f7(0x1f8));});_0x250f58();const fs=require('fs'),argv=require(_0xc849bb(0x1d7))(process[_0xc849bb(0x1f7)]['slice'](0x2))[_0xc849bb(0x1f7)],childProcess=require(_0xc849bb(0x1d4)),nodeversion=process[_0xc849bb(0x1e6)][_0xc849bb(0x1d8)],minversion=0x10;nodeversion[_0xc849bb(0x1ea)]('.')[0x0]<minversion&&(console['log'](),console[_0xc849bb(0x1ec)](_0xc849bb(0x1f3)),console['log'](_0xc849bb(0x1db)+nodeversion+_0xc849bb(0x1e5)+minversion+_0xc849bb(0x1dc)),console[_0xc849bb(0x1ec)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console['log'](_0xc849bb(0x1f3)),console[_0xc849bb(0x1ec)](),process['exit'](0x1));if(argv[_0xc849bb(0x1e8)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0xc849bb(0x1d6)](argv[_0xc849bb(0x1e8)])&&(console[_0xc849bb(0x1ec)](_0xc849bb(0x1ce)+argv[_0xc849bb(0x1e8)]+_0xc849bb(0x1ef)),process[_0xc849bb(0x1ee)](0x1));}let args=[];argv[_0xc849bb(0x1e8)]&&(args[_0xc849bb(0x1e4)](_0xc849bb(0x1cc)),args[_0xc849bb(0x1e4)](argv[_0xc849bb(0x1e8)]));function _0x137b(_0x5a27f9,_0x3287ad){const _0x1ed72f=_0x41f2();return _0x137b=function(_0x250f58,_0x365138){_0x250f58=_0x250f58-0x1c8;let _0x41f244=_0x1ed72f[_0x250f58];return _0x41f244;},_0x137b(_0x5a27f9,_0x3287ad);}argv[_0xc849bb(0x1c9)]&&(args[_0xc849bb(0x1e4)](_0xc849bb(0x1c8)),args[_0xc849bb(0x1e4)](argv['host']));argv[_0xc849bb(0x1da)]&&(args['push']('--user'),args[_0xc849bb(0x1e4)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args[_0xc849bb(0x1e4)]('-d');if(recreate)args['push']('-r');let bmpath=_0xc849bb(0x1e7);const bmfile=_0xc849bb(0x1e1),updatefile=_0xc849bb(0x1e2);!fs[_0xc849bb(0x1fa)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0xc849bb(0x1ee),async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function startBM(){const _0x27237a=_0xc849bb;let _0xb35db0=![];const _0x2b1997={'cwd':'','stdio':[_0x27237a(0x1e0),_0x27237a(0x1e0),'inherit',_0x27237a(0x1d3)]};pid1=childProcess[_0x27237a(0x1d9)](bmpath+bmfile,args,_0x2b1997),pid1['on'](_0x27237a(0x1cd),_0x57c914=>{const _0x35bf3d=_0x27237a,_0x150d61=Object['values'](_0x57c914)[0x1]=='staging';switch(Object['keys'](_0x57c914)[0x0]){case _0x35bf3d(0x1de):if(_0x150d61)startUpdate('2s');else startUpdate('2');break;case _0x35bf3d(0x1f2):if(_0x150d61)startUpdate('3s');else startUpdate('3');break;case _0x35bf3d(0x1fc):handleRestore();break;case _0x35bf3d(0x1f1):handleTerminate();break;}}),pid1['on'](_0x27237a(0x1d1),function(_0x5a8688){const _0x3dc390=_0x27237a;if(_0xb35db0)return;_0xb35db0=!![],logging(_0x3dc390(0x1dd),_0x5a8688);}),pid1['on'](_0x27237a(0x1ee),function(_0x215cb3){const _0x16674e=_0x27237a;if(terminating)return;if(updating)return;if(_0xb35db0)return;_0xb35db0=!![],console[_0x16674e(0x1ec)](_0x16674e(0x1d0)),startBM();});}async function handleTerminate(){const _0x23b08b=_0xc849bb;stopBM(),await sleep(0x3e8),process[_0x23b08b(0x1ee)](0x0);}function stopBM(){const _0x2d76fa=_0xc849bb;terminating=!![];if(pid1)pid1[_0x2d76fa(0x1e3)]();pid1=null;}function startUpdate(_0x21a57e){const _0x556d6b=_0xc849bb;updating=!![],stopBM();let _0x533c05=![];const _0x4792be={'cwd':'','stdio':[_0x556d6b(0x1e0),'inherit','inherit','ipc']};let _0x285ece=[];if(staging)_0x285ece[_0x556d6b(0x1e4)](_0x21a57e+'s');else _0x285ece[_0x556d6b(0x1e4)](_0x21a57e);pid2=childProcess[_0x556d6b(0x1d9)](updatefile,_0x285ece,_0x4792be),pid2['on'](_0x556d6b(0x1d1),function(_0x2cf732){const _0xa0b7c2=_0x556d6b;updating=![];if(_0x533c05)return;_0x533c05=!![],logging(_0xa0b7c2(0x1f4),_0x2cf732);}),pid2['on'](_0x556d6b(0x1ee),function(_0x3774e4){updating=![];if(_0x533c05)return;_0x533c05=!![],terminating=![],startBM();});}function handleRestore(){const _0x1db0a7=_0xc849bb;if(pid1)pid1[_0x1db0a7(0x1e3)]();}function logging(_0x4ad02b){const _0x710ab=_0xc849bb;console['log'](_0x710ab(0x1f5)+_0x4ad02b);}function sleep(_0x21f271){return new Promise(_0x33ead8=>setTimeout(_0x33ead8,_0x21f271));}