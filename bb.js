const _0x5e6b06=_0x3881;(function(_0x3df980,_0x41119a){const _0x42b762=_0x3881,_0x309a7a=_0x3df980();while(!![]){try{const _0x503d69=-parseInt(_0x42b762(0x174))/0x1+-parseInt(_0x42b762(0x14c))/0x2*(-parseInt(_0x42b762(0x157))/0x3)+parseInt(_0x42b762(0x16b))/0x4+parseInt(_0x42b762(0x177))/0x5*(-parseInt(_0x42b762(0x15e))/0x6)+parseInt(_0x42b762(0x17f))/0x7+parseInt(_0x42b762(0x175))/0x8+-parseInt(_0x42b762(0x15f))/0x9;if(_0x503d69===_0x41119a)break;else _0x309a7a['push'](_0x309a7a['shift']());}catch(_0x4dbac6){_0x309a7a['push'](_0x309a7a['shift']());}}}(_0x310c,0xb6694));function _0x310c(){const _0x1eda48=['14064IJDXSz','7759818KhzoPh','inherit',',\x20but\x20version\x20','install.js','The\x20installed\x20Node.js\x20version\x20is\x20','toString','Error\x20while\x20updating\x20Balance\x20Bot:','(((.+)+)+)+$','log','--host','-----------------------------------------------------------------------------------','restore','1944440llFOfd','error','kill','keys','reinstall','test','Automatically\x20restarting\x20BM','--user','argv','398315KsTgff','9879192RBBqwV','fork','3000YTIagT','node','user','versions','exit','apply','push','split','1950578FWKpeA','188588fpZsIm','values','bb/','host','\x20or\x20above\x20is\x20required','Balance\x20Bot\x20>\x20','existsSync','bm.js','SIGINT',',\x20must\x20be\x20a\x204\x20digit\x20number','message','45aQvqxF','Error:\x20Invalid\x20argument\x20','SIGTERM','ipc','yargs/yargs','port','constructor'];_0x310c=function(){return _0x1eda48;};return _0x310c();}const _0x525867=function(){let _0x2a640b=!![];return function(_0x43e644,_0xccfb69){const _0x1c4d3d=_0x2a640b?function(){const _0x8ff6cb=_0x3881;if(_0xccfb69){const _0x2be1d5=_0xccfb69[_0x8ff6cb(0x17c)](_0x43e644,arguments);return _0xccfb69=null,_0x2be1d5;}}:function(){};return _0x2a640b=![],_0x1c4d3d;};}(),_0x3a77c4=_0x525867(this,function(){const _0x23db3f=_0x3881;return _0x3a77c4[_0x23db3f(0x164)]()['search'](_0x23db3f(0x166))['toString']()[_0x23db3f(0x15d)](_0x3a77c4)['search']('(((.+)+)+)+$');});function _0x3881(_0xbf83dc,_0x3605f4){const _0x128efa=_0x310c();return _0x3881=function(_0x3a77c4,_0x525867){_0x3a77c4=_0x3a77c4-0x14c;let _0x310c3e=_0x128efa[_0x3a77c4];return _0x310c3e;},_0x3881(_0xbf83dc,_0x3605f4);}_0x3a77c4();const fs=require('fs'),argv=require(_0x5e6b06(0x15b))(process['argv']['slice'](0x2))[_0x5e6b06(0x173)],childProcess=require('child_process'),nodeversion=process[_0x5e6b06(0x17a)][_0x5e6b06(0x178)],minversion=0x10;nodeversion[_0x5e6b06(0x17e)]('.')[0x0]<minversion&&(console[_0x5e6b06(0x167)](),console[_0x5e6b06(0x167)](_0x5e6b06(0x169)),console[_0x5e6b06(0x167)](_0x5e6b06(0x163)+nodeversion+_0x5e6b06(0x161)+minversion+_0x5e6b06(0x150)),console[_0x5e6b06(0x167)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x5e6b06(0x167)](_0x5e6b06(0x169)),console[_0x5e6b06(0x167)](),process['exit'](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern[_0x5e6b06(0x170)](argv[_0x5e6b06(0x15c)])&&(console[_0x5e6b06(0x167)](_0x5e6b06(0x158)+argv['port']+_0x5e6b06(0x155)),process[_0x5e6b06(0x17b)](0x1));}let args=[];argv[_0x5e6b06(0x15c)]&&(args[_0x5e6b06(0x17d)]('--port'),args[_0x5e6b06(0x17d)](argv['port']));argv[_0x5e6b06(0x14f)]&&(args['push'](_0x5e6b06(0x168)),args[_0x5e6b06(0x17d)](argv['host']));argv[_0x5e6b06(0x179)]&&(args['push'](_0x5e6b06(0x172)),args['push'](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args['push']('-d');if(recreate)args['push']('-r');let bmpath=_0x5e6b06(0x14e);const bmfile=_0x5e6b06(0x153),updatefile=_0x5e6b06(0x162);!fs[_0x5e6b06(0x152)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on']('exit',async()=>{handleTerminate();}),process['on'](_0x5e6b06(0x159),async()=>{handleTerminate();}),process['on'](_0x5e6b06(0x154),async()=>{handleTerminate();}),startBM();function startBM(){const _0x2e78c9=_0x5e6b06;let _0x39944b=![];const _0x22b399={'cwd':'','stdio':['inherit','inherit','inherit',_0x2e78c9(0x15a)]};pid1=childProcess[_0x2e78c9(0x176)](bmpath+bmfile,args,_0x22b399),pid1['on'](_0x2e78c9(0x156),_0x1a5364=>{const _0x5c1f69=_0x2e78c9,_0x28d14c=Object[_0x5c1f69(0x14d)](_0x1a5364)[0x1]=='staging';switch(Object[_0x5c1f69(0x16e)](_0x1a5364)[0x0]){case'update':if(_0x28d14c)startUpdate('2s');else startUpdate('2');break;case _0x5c1f69(0x16f):if(_0x28d14c)startUpdate('3s');else startUpdate('3');break;case _0x5c1f69(0x16a):handleRestore();break;case'terminate':handleTerminate();break;}}),pid1['on'](_0x2e78c9(0x16c),function(_0x4a846e){if(_0x39944b)return;_0x39944b=!![],logging('Unexpected\x20error:',_0x4a846e);}),pid1['on'](_0x2e78c9(0x17b),function(_0x52e8de){const _0x2b20b5=_0x2e78c9;if(terminating)return;if(updating)return;if(_0x39944b)return;_0x39944b=!![],console[_0x2b20b5(0x167)](_0x2b20b5(0x171)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x4f6239){const _0x1919a6=_0x5e6b06;updating=!![],stopBM();let _0x21f3c9=![];const _0x4dc528={'cwd':'','stdio':[_0x1919a6(0x160),'inherit',_0x1919a6(0x160),'ipc']};let _0x3dc38f=[];if(staging)_0x3dc38f[_0x1919a6(0x17d)](_0x4f6239+'s');else _0x3dc38f[_0x1919a6(0x17d)](_0x4f6239);pid2=childProcess[_0x1919a6(0x176)](updatefile,_0x3dc38f,_0x4dc528),pid2['on'](_0x1919a6(0x16c),function(_0x202192){const _0x37ca86=_0x1919a6;updating=![];if(_0x21f3c9)return;_0x21f3c9=!![],logging(_0x37ca86(0x165),_0x202192);}),pid2['on'](_0x1919a6(0x17b),function(_0x6420ad){updating=![];if(_0x21f3c9)return;_0x21f3c9=!![],terminating=![],startBM();});}function handleRestore(){const _0x596d46=_0x5e6b06;if(pid1)pid1[_0x596d46(0x16d)]();}function logging(_0x5f39f6){const _0x2b57e1=_0x5e6b06;console[_0x2b57e1(0x167)](_0x2b57e1(0x151)+_0x5f39f6);}function sleep(_0x2dd399){return new Promise(_0x10d14a=>setTimeout(_0x10d14a,_0x2dd399));}