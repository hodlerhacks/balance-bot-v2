const _0x562750=_0x2249;(function(_0x282adf,_0x5b1014){const _0x5e4f5b=_0x2249,_0x29610c=_0x282adf();while(!![]){try{const _0x277741=-parseInt(_0x5e4f5b(0xb8))/0x1*(-parseInt(_0x5e4f5b(0xa2))/0x2)+parseInt(_0x5e4f5b(0x9a))/0x3+-parseInt(_0x5e4f5b(0x8a))/0x4*(-parseInt(_0x5e4f5b(0x8f))/0x5)+parseInt(_0x5e4f5b(0x89))/0x6*(-parseInt(_0x5e4f5b(0xa4))/0x7)+parseInt(_0x5e4f5b(0xab))/0x8*(-parseInt(_0x5e4f5b(0x98))/0x9)+-parseInt(_0x5e4f5b(0xa9))/0xa*(parseInt(_0x5e4f5b(0xbd))/0xb)+-parseInt(_0x5e4f5b(0xa7))/0xc;if(_0x277741===_0x5b1014)break;else _0x29610c['push'](_0x29610c['shift']());}catch(_0x40f7f8){_0x29610c['push'](_0x29610c['shift']());}}}(_0x4bc5,0x58756));const _0xf6b7ba=function(){let _0x3c38f2=!![];return function(_0x29a835,_0x527616){const _0x28a203=_0x3c38f2?function(){const _0x5c4331=_0x2249;if(_0x527616){const _0x4b576b=_0x527616[_0x5c4331(0xae)](_0x29a835,arguments);return _0x527616=null,_0x4b576b;}}:function(){};return _0x3c38f2=![],_0x28a203;};}(),_0x17e12e=_0xf6b7ba(this,function(){const _0x5e83d5=_0x2249;return _0x17e12e[_0x5e83d5(0xbb)]()[_0x5e83d5(0x97)]('(((.+)+)+)+$')[_0x5e83d5(0xbb)]()[_0x5e83d5(0xbe)](_0x17e12e)[_0x5e83d5(0x97)](_0x5e83d5(0xbc));});_0x17e12e();const fs=require('fs'),yargs=require(_0x562750(0x9b)),childProcess=require(_0x562750(0x8d)),nodeversion=process[_0x562750(0x94)][_0x562750(0xb0)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x562750(0xa8)](),console[_0x562750(0xa8)](_0x562750(0x90)),console[_0x562750(0xa8)](_0x562750(0x9e)+nodeversion+_0x562750(0xb3)+minversion+_0x562750(0x96)),console['log'](_0x562750(0xaf)),console[_0x562750(0xa8)](_0x562750(0x90)),console['log'](),process[_0x562750(0xb7)](0x1));const argv=yargs(process[_0x562750(0xa1)][_0x562750(0x9c)](0x2))[_0x562750(0xa1)];if(argv[_0x562750(0x93)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x562750(0xb2)](argv[_0x562750(0x93)])&&(console[_0x562750(0xa8)](_0x562750(0xb5)+argv[_0x562750(0x93)]+_0x562750(0x91)),process['exit'](0x1));}let args=[];function _0x2249(_0x58cb9f,_0x3429aa){const _0x439c22=_0x4bc5();return _0x2249=function(_0x17e12e,_0xf6b7ba){_0x17e12e=_0x17e12e-0x89;let _0x4bc55e=_0x439c22[_0x17e12e];return _0x4bc55e;},_0x2249(_0x58cb9f,_0x3429aa);}argv[_0x562750(0x93)]&&(args[_0x562750(0x8c)](_0x562750(0xbf)),args[_0x562750(0x8c)](argv[_0x562750(0x93)]));argv[_0x562750(0x9f)]&&(args[_0x562750(0x8c)](_0x562750(0xa6)),args[_0x562750(0x8c)](argv[_0x562750(0x9f)]));argv['user']&&(args['push'](_0x562750(0x95)),args[_0x562750(0x8c)](argv[_0x562750(0x92)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];if(debugging)args[_0x562750(0x8c)]('-d');if(recreate)args[_0x562750(0x8c)]('-r');if(openBrowser)args['push']('-o');let bmpath=_0x562750(0x99);const bmfile=_0x562750(0xb9),updatefile=_0x562750(0xad);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on']('exit',async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on'](_0x562750(0x9d),async()=>{handleTerminate();}),startBM();function startBM(){const _0x2d8a82=_0x562750;let _0x3a142b=![];const _0x3d5eec={'cwd':'','stdio':[_0x2d8a82(0xac),'inherit','inherit',_0x2d8a82(0xa3)]};pid1=childProcess[_0x2d8a82(0xa5)](bmpath+bmfile,args,_0x3d5eec),pid1['on'](_0x2d8a82(0x8e),_0x139f68=>{const _0x338946=_0x2d8a82,_0x20234d=Object['values'](_0x139f68)[0x1]=='staging';switch(Object[_0x338946(0xa0)](_0x139f68)[0x0]){case'update':if(_0x20234d)startUpdate('2s');else startUpdate('2');break;case _0x338946(0xba):if(_0x20234d)startUpdate('3s');else startUpdate('3');break;case'restore':handleRestore();break;case _0x338946(0xaa):handleTerminate();break;}}),pid1['on']('error',function(_0x21dd95){const _0x1f39f9=_0x2d8a82;if(_0x3a142b)return;_0x3a142b=!![],logging(_0x1f39f9(0xb1),_0x21dd95);}),pid1['on'](_0x2d8a82(0xb7),function(_0x248013){const _0x57c4d2=_0x2d8a82;if(terminating)return;if(updating)return;if(_0x3a142b)return;_0x3a142b=!![],console['log'](_0x57c4d2(0xb6)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function _0x4bc5(){const _0x49783f=['apply','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','node','Unexpected\x20error:','test',',\x20but\x20version\x20','Balance\x20Bot\x20>\x20','Error:\x20Invalid\x20argument\x20','Automatically\x20restarting\x20BM','exit','377981DlnuDs','bm.js','reinstall','toString','(((.+)+)+)+$','11cwRAqm','constructor','--port','6lcvXKu','19680PZxeXU','kill','push','child_process','message','400dwioVP','-----------------------------------------------------------------------------------',',\x20must\x20be\x20a\x204\x20digit\x20number','user','port','versions','--user','\x20or\x20above\x20is\x20required','search','1442160dQjRzU','bb/','2110104KqsDeJ','yargs','slice','SIGINT','The\x20installed\x20Node.js\x20version\x20is\x20','host','keys','argv','2CxqJrA','ipc','3811871LuIDsc','fork','--host','802116XfYKDM','log','3409870TtJWyX','terminate','8MHpfHS','inherit','install.js'];_0x4bc5=function(){return _0x49783f;};return _0x4bc5();}function stopBM(){const _0x1b56ab=_0x562750;terminating=!![];if(pid1)pid1[_0x1b56ab(0x8b)]();pid1=null;}function startUpdate(_0xde5065){const _0x520a0b=_0x562750;updating=!![],stopBM();let _0x31d408=![];const _0x432be7={'cwd':'','stdio':[_0x520a0b(0xac),_0x520a0b(0xac),'inherit',_0x520a0b(0xa3)]};let _0x21b987=[];if(staging)_0x21b987['push'](_0xde5065+'s');else _0x21b987['push'](_0xde5065);pid2=childProcess[_0x520a0b(0xa5)](updatefile,_0x21b987,_0x432be7),pid2['on']('error',function(_0x5b81bb){updating=![];if(_0x31d408)return;_0x31d408=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x5b81bb);}),pid2['on'](_0x520a0b(0xb7),function(_0x44b3ef){updating=![];if(_0x31d408)return;_0x31d408=!![],terminating=![],startBM();});}function handleRestore(){if(pid1)pid1['kill']();}function logging(_0xdf4188){const _0x6e4e99=_0x562750;console[_0x6e4e99(0xa8)](_0x6e4e99(0xb4)+_0xdf4188);}function sleep(_0x35f54e){return new Promise(_0x2f93cb=>setTimeout(_0x2f93cb,_0x35f54e));}