const _0x337f64=_0x4bb6;(function(_0x2143d4,_0x43efd5){const _0x4ca2dc=_0x4bb6,_0xb1d042=_0x2143d4();while(!![]){try{const _0x5d0555=parseInt(_0x4ca2dc(0xbe))/0x1+-parseInt(_0x4ca2dc(0xcb))/0x2+parseInt(_0x4ca2dc(0xa2))/0x3+-parseInt(_0x4ca2dc(0xc8))/0x4+parseInt(_0x4ca2dc(0xb3))/0x5+-parseInt(_0x4ca2dc(0xa4))/0x6+parseInt(_0x4ca2dc(0xca))/0x7*(parseInt(_0x4ca2dc(0xc6))/0x8);if(_0x5d0555===_0x43efd5)break;else _0xb1d042['push'](_0xb1d042['shift']());}catch(_0x1ff62a){_0xb1d042['push'](_0xb1d042['shift']());}}}(_0x52b7,0x4a04a));const _0x40704c=function(){let _0x5888d3=!![];return function(_0x1e8743,_0x3cd2b5){const _0x35ba36=_0x5888d3?function(){const _0x599f51=_0x4bb6;if(_0x3cd2b5){const _0x3b4ef5=_0x3cd2b5[_0x599f51(0xa3)](_0x1e8743,arguments);return _0x3cd2b5=null,_0x3b4ef5;}}:function(){};return _0x5888d3=![],_0x35ba36;};}(),_0x266230=_0x40704c(this,function(){const _0x225872=_0x4bb6;return _0x266230[_0x225872(0xb6)]()[_0x225872(0x9e)](_0x225872(0xc2))[_0x225872(0xb6)]()[_0x225872(0xb2)](_0x266230)[_0x225872(0x9e)]('(((.+)+)+)+$');});_0x266230();function _0x52b7(){const _0x47d35e=['update',',\x20but\x20version\x20','user','-----------------------------------------------------------------------------------','test','Error:\x20Invalid\x20argument\x20','254809qcfoab','Balance\x20Bot\x20>\x20','bb/','log','(((.+)+)+)+$','message','reinstall','fork','3536tevshx','--host','677196cXQnzr','values','287GHKPjI','470400byyBAR','Unexpected\x20error:','keys','SIGINT','search','inherit','exit','port','1489887rgVmSl','apply','2212230sLjYpa','host','bm.js','restore','error','\x20or\x20above\x20is\x20required','--port','child_process','ipc','--user','SIGTERM','existsSync','staging',',\x20must\x20be\x20a\x204\x20digit\x20number','constructor','1534110idijAI','kill','terminate','toString','push'];_0x52b7=function(){return _0x47d35e;};return _0x52b7();}const fs=require('fs'),yargs=require('yargs'),childProcess=require(_0x337f64(0xab)),nodeversion=process['versions']['node'],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console['log'](),console['log'](_0x337f64(0xbb)),console[_0x337f64(0xc1)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x337f64(0xb9)+minversion+_0x337f64(0xa9)),console[_0x337f64(0xc1)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x337f64(0xc1)](_0x337f64(0xbb)),console[_0x337f64(0xc1)](),process[_0x337f64(0xa0)](0x1));const argv=yargs(process['argv']['slice'](0x2))['argv'];if(argv[_0x337f64(0xa1)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x337f64(0xbc)](argv[_0x337f64(0xa1)])&&(console['log'](_0x337f64(0xbd)+argv['port']+_0x337f64(0xb1)),process[_0x337f64(0xa0)](0x1));}let args=[];argv[_0x337f64(0xa1)]&&(args[_0x337f64(0xb7)](_0x337f64(0xaa)),args[_0x337f64(0xb7)](argv['port']));argv[_0x337f64(0xa5)]&&(args[_0x337f64(0xb7)](_0x337f64(0xc7)),args[_0x337f64(0xb7)](argv['host']));argv['user']&&(args['push'](_0x337f64(0xad)),args['push'](argv[_0x337f64(0xba)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];if(debugging)args[_0x337f64(0xb7)]('-d');if(recreate)args['push']('-r');if(openBrowser)args[_0x337f64(0xb7)]('-o');let bmpath=_0x337f64(0xc0);const bmfile=_0x337f64(0xa6),updatefile='install.js';!fs[_0x337f64(0xaf)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x337f64(0xa0),async()=>{handleTerminate();}),process['on'](_0x337f64(0xae),async()=>{handleTerminate();}),process['on'](_0x337f64(0x9d),async()=>{handleTerminate();}),startBM();function startBM(){const _0x8667e=_0x337f64;let _0x3191bc=![];const _0x2928a2={'cwd':'','stdio':['inherit','inherit',_0x8667e(0x9f),_0x8667e(0xac)]};pid1=childProcess[_0x8667e(0xc5)](bmpath+bmfile,args,_0x2928a2),pid1['on'](_0x8667e(0xc3),_0x3c7b10=>{const _0xd6b876=_0x8667e,_0x1426d7=Object[_0xd6b876(0xc9)](_0x3c7b10)[0x1]==_0xd6b876(0xb0);switch(Object[_0xd6b876(0xcd)](_0x3c7b10)[0x0]){case _0xd6b876(0xb8):if(_0x1426d7)startUpdate('2s');else startUpdate('2');break;case _0xd6b876(0xc4):if(_0x1426d7)startUpdate('3s');else startUpdate('3');break;case _0xd6b876(0xa7):handleRestore();break;case _0xd6b876(0xb5):handleTerminate();break;}}),pid1['on'](_0x8667e(0xa8),function(_0xf6b586){const _0xc90204=_0x8667e;if(_0x3191bc)return;_0x3191bc=!![],logging(_0xc90204(0xcc),_0xf6b586);}),pid1['on'](_0x8667e(0xa0),function(_0x195476){const _0x2263e3=_0x8667e;if(terminating)return;if(updating)return;if(_0x3191bc)return;_0x3191bc=!![],console[_0x2263e3(0xc1)]('Automatically\x20restarting\x20BM'),startBM();});}function _0x4bb6(_0x4e5ef4,_0x2514e4){const _0x295724=_0x52b7();return _0x4bb6=function(_0x266230,_0x40704c){_0x266230=_0x266230-0x9d;let _0x52b798=_0x295724[_0x266230];return _0x52b798;},_0x4bb6(_0x4e5ef4,_0x2514e4);}async function handleTerminate(){const _0x2e8ec6=_0x337f64;stopBM(),await sleep(0x3e8),process[_0x2e8ec6(0xa0)](0x0);}function stopBM(){const _0x4fe28f=_0x337f64;terminating=!![];if(pid1)pid1[_0x4fe28f(0xb4)]();pid1=null;}function startUpdate(_0x473e16){const _0xf8d047=_0x337f64;updating=!![],stopBM();let _0x5660f1=![];const _0x150f7d={'cwd':'','stdio':[_0xf8d047(0x9f),'inherit',_0xf8d047(0x9f),'ipc']};let _0x2eeec4=[];if(staging)_0x2eeec4[_0xf8d047(0xb7)](_0x473e16+'s');else _0x2eeec4[_0xf8d047(0xb7)](_0x473e16);pid2=childProcess['fork'](updatefile,_0x2eeec4,_0x150f7d),pid2['on'](_0xf8d047(0xa8),function(_0x3c4c64){updating=![];if(_0x5660f1)return;_0x5660f1=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x3c4c64);}),pid2['on'](_0xf8d047(0xa0),function(_0xe2fb10){updating=![];if(_0x5660f1)return;_0x5660f1=!![],terminating=![],startBM();});}function handleRestore(){const _0x574390=_0x337f64;if(pid1)pid1[_0x574390(0xb4)]();}function logging(_0x298208){const _0x527634=_0x337f64;console[_0x527634(0xc1)](_0x527634(0xbf)+_0x298208);}function sleep(_0x5dd6aa){return new Promise(_0x131e4a=>setTimeout(_0x131e4a,_0x5dd6aa));}