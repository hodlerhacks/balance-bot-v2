const _0x153931=_0x4ad2;(function(_0x135335,_0x245b1c){const _0x7bf2ec=_0x4ad2,_0x43e710=_0x135335();while(!![]){try{const _0x17cb0b=-parseInt(_0x7bf2ec(0x88))/0x1+parseInt(_0x7bf2ec(0xa1))/0x2+parseInt(_0x7bf2ec(0x89))/0x3*(parseInt(_0x7bf2ec(0x9d))/0x4)+parseInt(_0x7bf2ec(0x8b))/0x5*(parseInt(_0x7bf2ec(0x95))/0x6)+-parseInt(_0x7bf2ec(0x8e))/0x7*(parseInt(_0x7bf2ec(0x82))/0x8)+-parseInt(_0x7bf2ec(0x80))/0x9+parseInt(_0x7bf2ec(0x84))/0xa*(parseInt(_0x7bf2ec(0x8a))/0xb);if(_0x17cb0b===_0x245b1c)break;else _0x43e710['push'](_0x43e710['shift']());}catch(_0x476bcb){_0x43e710['push'](_0x43e710['shift']());}}}(_0x2bd3,0x6c5d5));const _0x257c24=function(){let _0x139d4b=!![];return function(_0x3e31f7,_0x3f9213){const _0x2d6366=_0x139d4b?function(){const _0x467d9c=_0x4ad2;if(_0x3f9213){const _0x3311c7=_0x3f9213[_0x467d9c(0xa0)](_0x3e31f7,arguments);return _0x3f9213=null,_0x3311c7;}}:function(){};return _0x139d4b=![],_0x2d6366;};}(),_0xd02c0b=_0x257c24(this,function(){const _0x27595e=_0x4ad2;return _0xd02c0b[_0x27595e(0x90)]()[_0x27595e(0x9c)]('(((.+)+)+)+$')[_0x27595e(0x90)]()[_0x27595e(0xaf)](_0xd02c0b)[_0x27595e(0x9c)](_0x27595e(0x7f));});_0xd02c0b();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x153931(0x81)][_0x153931(0x85)](0x2))[_0x153931(0x81)],childProcess=require(_0x153931(0x9b)),nodeversion=process[_0x153931(0x83)]['node'],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x153931(0xa6)](),console[_0x153931(0xa6)](_0x153931(0xac)),console[_0x153931(0xa6)](_0x153931(0x93)+nodeversion+',\x20but\x20version\x20'+minversion+'\x20or\x20above\x20is\x20required'),console[_0x153931(0xa6)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x153931(0xa6)](_0x153931(0xac)),console[_0x153931(0xa6)](),process[_0x153931(0x8c)](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern[_0x153931(0xa7)](argv[_0x153931(0x94)])&&(console[_0x153931(0xa6)](_0x153931(0x92)+argv[_0x153931(0x94)]+_0x153931(0x9e)),process[_0x153931(0x8c)](0x1));}function _0x2bd3(){const _0x27ac61=['fork','--host','--port','Error\x20while\x20updating\x20Balance\x20Bot:','Balance\x20Bot\x20>\x20','child_process','search','2252fIURzf',',\x20must\x20be\x20a\x204\x20digit\x20number','kill','apply','1497890YTqAtO','SIGTERM','--user','message','SIGINT','log','test','push','ipc','bb/','staging','-----------------------------------------------------------------------------------','error','Automatically\x20restarting\x20BM','constructor','terminate','host','Unexpected\x20error:','install.js','(((.+)+)+)+$','7734798bswuIN','argv','7069376EEqTce','versions','20fmGDRf','slice','existsSync','reinstall','290159oEcvSr','2277CPbSvJ','7060042drQjEf','40tDxzgH','exit','update','7MNMfRj','user','toString','inherit','Error:\x20Invalid\x20argument\x20','The\x20installed\x20Node.js\x20version\x20is\x20','port','12906YawEzp'];_0x2bd3=function(){return _0x27ac61;};return _0x2bd3();}let args=[];argv[_0x153931(0x94)]&&(args[_0x153931(0xa8)](_0x153931(0x98)),args[_0x153931(0xa8)](argv['port']));function _0x4ad2(_0x3a2936,_0x46a92b){const _0x216458=_0x2bd3();return _0x4ad2=function(_0xd02c0b,_0x257c24){_0xd02c0b=_0xd02c0b-0x7c;let _0x2bd308=_0x216458[_0xd02c0b];return _0x2bd308;},_0x4ad2(_0x3a2936,_0x46a92b);}argv[_0x153931(0x7c)]&&(args[_0x153931(0xa8)](_0x153931(0x97)),args[_0x153931(0xa8)](argv['host']));argv[_0x153931(0x8f)]&&(args[_0x153931(0xa8)](_0x153931(0xa3)),args[_0x153931(0xa8)](argv[_0x153931(0x8f)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args[_0x153931(0xa8)]('-d');if(recreate)args[_0x153931(0xa8)]('-r');let bmpath=_0x153931(0xaa);const bmfile='bm.js',updatefile=_0x153931(0x7e);!fs[_0x153931(0x86)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on']('exit',async()=>{handleTerminate();}),process['on'](_0x153931(0xa2),async()=>{handleTerminate();}),process['on'](_0x153931(0xa5),async()=>{handleTerminate();}),startBM();function startBM(){const _0x2043fc=_0x153931;let _0x143e0b=![];const _0x4bde07={'cwd':'','stdio':['inherit',_0x2043fc(0x91),_0x2043fc(0x91),'ipc']};pid1=childProcess[_0x2043fc(0x96)](bmpath+bmfile,args,_0x4bde07),pid1['on'](_0x2043fc(0xa4),_0x131f7a=>{const _0x444613=_0x2043fc,_0x126e87=Object['values'](_0x131f7a)[0x1]==_0x444613(0xab);switch(Object['keys'](_0x131f7a)[0x0]){case _0x444613(0x8d):if(_0x126e87)startUpdate('2s');else startUpdate('2');break;case _0x444613(0x87):if(_0x126e87)startUpdate('3s');else startUpdate('3');break;case'restore':handleRestore();break;case _0x444613(0xb0):handleTerminate();break;}}),pid1['on'](_0x2043fc(0xad),function(_0x522f4d){const _0x4dedf0=_0x2043fc;if(_0x143e0b)return;_0x143e0b=!![],logging(_0x4dedf0(0x7d),_0x522f4d);}),pid1['on']('exit',function(_0x1ff6d8){const _0x295953=_0x2043fc;if(terminating)return;if(updating)return;if(_0x143e0b)return;_0x143e0b=!![],console[_0x295953(0xa6)](_0x295953(0xae)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){const _0xedc352=_0x153931;terminating=!![];if(pid1)pid1[_0xedc352(0x9f)]();pid1=null;}function startUpdate(_0x541ac0){const _0x4b5bb8=_0x153931;updating=!![],stopBM();let _0x4cf60c=![];const _0x31bc2d={'cwd':'','stdio':[_0x4b5bb8(0x91),_0x4b5bb8(0x91),_0x4b5bb8(0x91),_0x4b5bb8(0xa9)]};let _0x409d4a=[];if(staging)_0x409d4a['push'](_0x541ac0+'s');else _0x409d4a[_0x4b5bb8(0xa8)](_0x541ac0);pid2=childProcess[_0x4b5bb8(0x96)](updatefile,_0x409d4a,_0x31bc2d),pid2['on']('error',function(_0xc62a0c){const _0x5c6985=_0x4b5bb8;updating=![];if(_0x4cf60c)return;_0x4cf60c=!![],logging(_0x5c6985(0x99),_0xc62a0c);}),pid2['on']('exit',function(_0x47df01){updating=![];if(_0x4cf60c)return;_0x4cf60c=!![],terminating=![],startBM();});}function handleRestore(){const _0x565881=_0x153931;if(pid1)pid1[_0x565881(0x9f)]();}function logging(_0x5a057e){const _0x2f8c49=_0x153931;console['log'](_0x2f8c49(0x9a)+_0x5a057e);}function sleep(_0x11181b){return new Promise(_0x3d2b75=>setTimeout(_0x3d2b75,_0x11181b));}