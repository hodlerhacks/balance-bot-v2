const _0x51d47f=_0x32ba;(function(_0x33199e,_0x47723f){const _0x36fe30=_0x32ba,_0x342f29=_0x33199e();while(!![]){try{const _0x1945b9=parseInt(_0x36fe30(0xf4))/0x1+-parseInt(_0x36fe30(0xdd))/0x2+-parseInt(_0x36fe30(0xe0))/0x3*(parseInt(_0x36fe30(0xf9))/0x4)+parseInt(_0x36fe30(0xdf))/0x5*(-parseInt(_0x36fe30(0xf3))/0x6)+parseInt(_0x36fe30(0xd7))/0x7+-parseInt(_0x36fe30(0xe9))/0x8+-parseInt(_0x36fe30(0xfc))/0x9*(-parseInt(_0x36fe30(0xcf))/0xa);if(_0x1945b9===_0x47723f)break;else _0x342f29['push'](_0x342f29['shift']());}catch(_0x499210){_0x342f29['push'](_0x342f29['shift']());}}}(_0x1992,0x6bfd0));const _0x4c7aeb=function(){let _0x7805de=!![];return function(_0x322124,_0x41b607){const _0x890a4c=_0x7805de?function(){if(_0x41b607){const _0x426051=_0x41b607['apply'](_0x322124,arguments);return _0x41b607=null,_0x426051;}}:function(){};return _0x7805de=![],_0x890a4c;};}(),_0x1fe3f5=_0x4c7aeb(this,function(){const _0x1a0418=_0x32ba;return _0x1fe3f5['toString']()[_0x1a0418(0xf1)]('(((.+)+)+)+$')['toString']()[_0x1a0418(0xef)](_0x1fe3f5)[_0x1a0418(0xf1)](_0x1a0418(0xde));});_0x1fe3f5();const fs=require('fs'),argv=require(_0x51d47f(0xd1))(process[_0x51d47f(0xca)][_0x51d47f(0xce)](0x2))[_0x51d47f(0xca)],childProcess=require(_0x51d47f(0xfb)),nodeversion=process[_0x51d47f(0xf0)][_0x51d47f(0xea)],minversion=0x10;nodeversion[_0x51d47f(0xe6)]('.')[0x0]<minversion&&(console['log'](),console['log'](_0x51d47f(0xcd)),console[_0x51d47f(0xe8)](_0x51d47f(0xec)+nodeversion+_0x51d47f(0xd5)+minversion+_0x51d47f(0xe4)),console[_0x51d47f(0xe8)](_0x51d47f(0xe1)),console[_0x51d47f(0xe8)](_0x51d47f(0xcd)),console[_0x51d47f(0xe8)](),process[_0x51d47f(0xee)](0x1));if(argv[_0x51d47f(0xeb)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x51d47f(0xc6)](argv['port'])&&(console[_0x51d47f(0xe8)](_0x51d47f(0xc5)+argv[_0x51d47f(0xeb)]+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x51d47f(0xee)](0x1));}let args=[];argv[_0x51d47f(0xeb)]&&(args['push'](_0x51d47f(0xd2)),args[_0x51d47f(0xd3)](argv['port']));function _0x32ba(_0x453586,_0xf627e8){const _0x419b98=_0x1992();return _0x32ba=function(_0x1fe3f5,_0x4c7aeb){_0x1fe3f5=_0x1fe3f5-0xc5;let _0x19929b=_0x419b98[_0x1fe3f5];return _0x19929b;},_0x32ba(_0x453586,_0xf627e8);}argv['host']&&(args['push'](_0x51d47f(0xc9)),args[_0x51d47f(0xd3)](argv[_0x51d47f(0xc8)]));argv[_0x51d47f(0xdb)]&&(args[_0x51d47f(0xd3)](_0x51d47f(0xdc)),args[_0x51d47f(0xd3)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![];if(debugging)args['push']('-d');if(recreate)args[_0x51d47f(0xd3)]('-r');let bmpath=_0x51d47f(0xd9);const bmfile=_0x51d47f(0xe2),updatefile=_0x51d47f(0xc7);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];function _0x1992(){const _0x3da745=['argv','restore','Balance\x20Bot\x20>\x20','-----------------------------------------------------------------------------------','slice','862360PcVkOu','SIGTERM','yargs/yargs','--port','push','keys',',\x20but\x20version\x20','Unexpected\x20error:','34804KRVyPJ','inherit','bb/','terminate','user','--user','32958xkkvOY','(((.+)+)+)+$','1725hsNZSa','1851UwIYIw','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','bm.js','message','\x20or\x20above\x20is\x20required','Error\x20while\x20updating\x20Balance\x20Bot:','split','update','log','3077560KhboGE','node','port','The\x20installed\x20Node.js\x20version\x20is\x20','reinstall','exit','constructor','versions','search','values','11010ekLJeN','783334UleZqd','error','fork','kill','Automatically\x20restarting\x20BM','3924ulWtlp','ipc','child_process','135szqtPs','Error:\x20Invalid\x20argument\x20','test','install.js','host','--host'];_0x1992=function(){return _0x3da745;};return _0x1992();}process['on']('exit',async()=>{handleTerminate();}),process['on'](_0x51d47f(0xd0),async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function startBM(){const _0x13b4d5=_0x51d47f;let _0x40f1b9=![];const _0x3584b3={'cwd':'','stdio':[_0x13b4d5(0xd8),_0x13b4d5(0xd8),_0x13b4d5(0xd8),_0x13b4d5(0xfa)]};pid1=childProcess[_0x13b4d5(0xf6)](bmpath+bmfile,args,_0x3584b3),pid1['on'](_0x13b4d5(0xe3),_0x9547f3=>{const _0x48cd1c=_0x13b4d5,_0xcf7b56=Object[_0x48cd1c(0xf2)](_0x9547f3)[0x1]=='staging';switch(Object[_0x48cd1c(0xd4)](_0x9547f3)[0x0]){case _0x48cd1c(0xe7):if(_0xcf7b56)startUpdate('2s');else startUpdate('2');break;case _0x48cd1c(0xed):if(_0xcf7b56)startUpdate('3s');else startUpdate('3');break;case _0x48cd1c(0xcb):handleRestore();break;case _0x48cd1c(0xda):handleTerminate();break;}}),pid1['on'](_0x13b4d5(0xf5),function(_0x2e9958){const _0x5942da=_0x13b4d5;if(_0x40f1b9)return;_0x40f1b9=!![],logging(_0x5942da(0xd6),_0x2e9958);}),pid1['on'](_0x13b4d5(0xee),function(_0x117cb8){const _0x2de222=_0x13b4d5;if(terminating)return;if(updating)return;if(_0x40f1b9)return;_0x40f1b9=!![],console[_0x2de222(0xe8)](_0x2de222(0xf8)),startBM();});}async function handleTerminate(){const _0x3023ce=_0x51d47f;stopBM(),await sleep(0x3e8),process[_0x3023ce(0xee)](0x0);}function stopBM(){const _0x49db11=_0x51d47f;terminating=!![];if(pid1)pid1[_0x49db11(0xf7)]();pid1=null;}function startUpdate(_0x3e5bbe){const _0x1a1e22=_0x51d47f;updating=!![],stopBM();let _0x1ac296=![];const _0x2ae529={'cwd':'','stdio':[_0x1a1e22(0xd8),_0x1a1e22(0xd8),_0x1a1e22(0xd8),'ipc']};let _0x1f02dc=[];if(staging)_0x1f02dc[_0x1a1e22(0xd3)](_0x3e5bbe+'s');else _0x1f02dc['push'](_0x3e5bbe);pid2=childProcess[_0x1a1e22(0xf6)](updatefile,_0x1f02dc,_0x2ae529),pid2['on'](_0x1a1e22(0xf5),function(_0x4638ed){const _0xd6c7ec=_0x1a1e22;updating=![];if(_0x1ac296)return;_0x1ac296=!![],logging(_0xd6c7ec(0xe5),_0x4638ed);}),pid2['on']('exit',function(_0x40c3d9){updating=![];if(_0x1ac296)return;_0x1ac296=!![],terminating=![],startBM();});}function handleRestore(){const _0x39c145=_0x51d47f;if(pid1)pid1[_0x39c145(0xf7)]();}function logging(_0x2d1d7c){const _0x1e6c57=_0x51d47f;console[_0x1e6c57(0xe8)](_0x1e6c57(0xcc)+_0x2d1d7c);}function sleep(_0x2c40c9){return new Promise(_0x130183=>setTimeout(_0x130183,_0x2c40c9));}