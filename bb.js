const _0x34574b=_0x1ab5;(function(_0x3b43d8,_0x429253){const _0x4d599b=_0x1ab5,_0x1668be=_0x3b43d8();while(!![]){try{const _0x49b4e2=parseInt(_0x4d599b(0xb9))/0x1*(-parseInt(_0x4d599b(0xcd))/0x2)+-parseInt(_0x4d599b(0xe7))/0x3*(-parseInt(_0x4d599b(0xc5))/0x4)+parseInt(_0x4d599b(0xd9))/0x5+parseInt(_0x4d599b(0xd5))/0x6+parseInt(_0x4d599b(0xbc))/0x7*(parseInt(_0x4d599b(0xd0))/0x8)+parseInt(_0x4d599b(0xce))/0x9*(-parseInt(_0x4d599b(0xc3))/0xa)+parseInt(_0x4d599b(0xd1))/0xb;if(_0x49b4e2===_0x429253)break;else _0x1668be['push'](_0x1668be['shift']());}catch(_0x2d3647){_0x1668be['push'](_0x1668be['shift']());}}}(_0x409e,0xe0d69));const _0x583c6d=function(){let _0x103d72=!![];return function(_0x15319c,_0x4a8a06){const _0x2e7b34=_0x103d72?function(){const _0x21a56e=_0x1ab5;if(_0x4a8a06){const _0x1c1659=_0x4a8a06[_0x21a56e(0xca)](_0x15319c,arguments);return _0x4a8a06=null,_0x1c1659;}}:function(){};return _0x103d72=![],_0x2e7b34;};}(),_0x1a386f=_0x583c6d(this,function(){const _0x25b3e2=_0x1ab5;return _0x1a386f[_0x25b3e2(0xc9)]()[_0x25b3e2(0xba)](_0x25b3e2(0xd7))[_0x25b3e2(0xc9)]()[_0x25b3e2(0xe8)](_0x1a386f)['search'](_0x25b3e2(0xd7));});_0x1a386f();function _0x1ab5(_0x3d4b3b,_0x17ed10){const _0x69ada5=_0x409e();return _0x1ab5=function(_0x1a386f,_0x583c6d){_0x1a386f=_0x1a386f-0xb4;let _0x409e95=_0x69ada5[_0x1a386f];return _0x409e95;},_0x1ab5(_0x3d4b3b,_0x17ed10);}const fs=require('fs'),yargs=require(_0x34574b(0xbd)),childProcess=require(_0x34574b(0xc1)),nodeversion=process['versions'][_0x34574b(0xcf)],minversion=0x10;nodeversion[_0x34574b(0xd2)]('.')[0x0]<minversion&&(console[_0x34574b(0xd6)](),console[_0x34574b(0xd6)](_0x34574b(0xd4)),console['log']('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x34574b(0xbf)+minversion+_0x34574b(0xbe)),console[_0x34574b(0xd6)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x34574b(0xd6)](_0x34574b(0xd4)),console[_0x34574b(0xd6)](),process[_0x34574b(0xc8)](0x1));const argv=yargs(process[_0x34574b(0xb4)]['slice'](0x2))['argv'];if(argv[_0x34574b(0xdc)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x34574b(0xe2)](argv['port'])&&(console[_0x34574b(0xd6)](_0x34574b(0xda)+argv['port']+_0x34574b(0xdb)),process['exit'](0x1));}let args=[];argv[_0x34574b(0xdc)]&&(args['push'](_0x34574b(0xe9)),args[_0x34574b(0xb5)](argv[_0x34574b(0xdc)]));argv[_0x34574b(0xe3)]&&(args[_0x34574b(0xb5)]('--host'),args['push'](argv[_0x34574b(0xe3)]));argv[_0x34574b(0xe1)]&&(args['push'](_0x34574b(0xb8)),args[_0x34574b(0xb5)](argv[_0x34574b(0xe1)]));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];if(debugging)args[_0x34574b(0xb5)]('-d');if(recreate)args[_0x34574b(0xb5)]('-r');if(openBrowser)args['push']('-o');let bmpath=_0x34574b(0xd3);const bmfile=_0x34574b(0xc2),updatefile='install.js';function _0x409e(){const _0x2c70ea=['test','host','message','fork','SIGTERM','153714ImFuWl','constructor','--port','kill','ipc','argv','push','Balance\x20Bot\x20>\x20','existsSync','--user','1XJdwUV','search','reinstall','7NiOYbQ','yargs','\x20or\x20above\x20is\x20required',',\x20but\x20version\x20','update','child_process','bm.js','43270sgkmwL','staging','12FyhDeH','terminate','Unexpected\x20error:','exit','toString','apply','restore','keys','2860864PgzXUB','3771pRPSdX','node','6336952SNjJcb','10554742ncfWiz','split','bb/','-----------------------------------------------------------------------------------','9360984vVvSbY','log','(((.+)+)+)+$','SIGINT','3494315liFPuF','Error:\x20Invalid\x20argument\x20',',\x20must\x20be\x20a\x204\x20digit\x20number','port','values','Error\x20while\x20updating\x20Balance\x20Bot:','inherit','error','user'];_0x409e=function(){return _0x2c70ea;};return _0x409e();}!fs[_0x34574b(0xb7)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x34574b(0xc8),async()=>{handleTerminate();}),process['on'](_0x34574b(0xe6),async()=>{handleTerminate();}),process['on'](_0x34574b(0xd8),async()=>{handleTerminate();}),startBM();function startBM(){const _0x2ddff4=_0x34574b;let _0x12604a=![];const _0x367c81={'cwd':'','stdio':[_0x2ddff4(0xdf),'inherit',_0x2ddff4(0xdf),'ipc']};pid1=childProcess[_0x2ddff4(0xe5)](bmpath+bmfile,args,_0x367c81),pid1['on'](_0x2ddff4(0xe4),_0x16f807=>{const _0x295010=_0x2ddff4,_0x9d42ee=Object[_0x295010(0xdd)](_0x16f807)[0x1]==_0x295010(0xc4);switch(Object[_0x295010(0xcc)](_0x16f807)[0x0]){case _0x295010(0xc0):if(_0x9d42ee)startUpdate('2s');else startUpdate('2');break;case _0x295010(0xbb):if(_0x9d42ee)startUpdate('3s');else startUpdate('3');break;case _0x295010(0xcb):handleRestore();break;case _0x295010(0xc6):handleTerminate();break;}}),pid1['on'](_0x2ddff4(0xe0),function(_0x4d3f2f){const _0x43322c=_0x2ddff4;if(_0x12604a)return;_0x12604a=!![],logging(_0x43322c(0xc7),_0x4d3f2f);}),pid1['on'](_0x2ddff4(0xc8),function(_0x448dd1){const _0x17c612=_0x2ddff4;if(terminating)return;if(updating)return;if(_0x12604a)return;_0x12604a=!![],console[_0x17c612(0xd6)]('Automatically\x20restarting\x20BM'),startBM();});}async function handleTerminate(){const _0x1eef5c=_0x34574b;stopBM(),await sleep(0x3e8),process[_0x1eef5c(0xc8)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x49145a){const _0x378018=_0x34574b;updating=!![],stopBM();let _0x1d312a=![];const _0x1e8694={'cwd':'','stdio':[_0x378018(0xdf),_0x378018(0xdf),_0x378018(0xdf),_0x378018(0xeb)]};let _0x1b7bbd=[];if(staging)_0x1b7bbd[_0x378018(0xb5)](_0x49145a+'s');else _0x1b7bbd['push'](_0x49145a);pid2=childProcess[_0x378018(0xe5)](updatefile,_0x1b7bbd,_0x1e8694),pid2['on'](_0x378018(0xe0),function(_0x5dacff){const _0x5bce44=_0x378018;updating=![];if(_0x1d312a)return;_0x1d312a=!![],logging(_0x5bce44(0xde),_0x5dacff);}),pid2['on'](_0x378018(0xc8),function(_0x30ae59){updating=![];if(_0x1d312a)return;_0x1d312a=!![],terminating=![],startBM();});}function handleRestore(){const _0x525fe7=_0x34574b;if(pid1)pid1[_0x525fe7(0xea)]();}function logging(_0x438c23){const _0x436bf3=_0x34574b;console['log'](_0x436bf3(0xb6)+_0x438c23);}function sleep(_0x2e1bb3){return new Promise(_0x2792e5=>setTimeout(_0x2792e5,_0x2e1bb3));}