const _0x7bd7fc=_0x1325;(function(_0x5cd3ff,_0x878827){const _0x30cd74=_0x1325,_0x1bf8e3=_0x5cd3ff();while(!![]){try{const _0x25602a=-parseInt(_0x30cd74(0x2b9))/0x1+-parseInt(_0x30cd74(0x28a))/0x2+parseInt(_0x30cd74(0x225))/0x3+-parseInt(_0x30cd74(0x377))/0x4+parseInt(_0x30cd74(0x321))/0x5+parseInt(_0x30cd74(0x2c3))/0x6+parseInt(_0x30cd74(0x338))/0x7*(parseInt(_0x30cd74(0x310))/0x8);if(_0x25602a===_0x878827)break;else _0x1bf8e3['push'](_0x1bf8e3['shift']());}catch(_0x1723cb){_0x1bf8e3['push'](_0x1bf8e3['shift']());}}}(_0x28ef,0xdcd56));const _0x19d603=function(){let _0xce52d8=!![];return function(_0x4e7e21,_0x2d5240){const _0x2367a3=_0xce52d8?function(){const _0x19fbc8=_0x1325;if(_0x2d5240){const _0x58ccf6=_0x2d5240[_0x19fbc8(0x354)](_0x4e7e21,arguments);return _0x2d5240=null,_0x58ccf6;}}:function(){};return _0xce52d8=![],_0x2367a3;};}(),_0x1f9d84=_0x19d603(this,function(){const _0x222c77=_0x1325;return _0x1f9d84[_0x222c77(0x32f)]()[_0x222c77(0x253)](_0x222c77(0x201))['toString']()[_0x222c77(0x248)](_0x1f9d84)[_0x222c77(0x253)](_0x222c77(0x201));});_0x1f9d84();'use strict';const ccxt=require(_0x7bd7fc(0x2dd)),low=require(_0x7bd7fc(0x1e8)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),forge=require('node-forge'),util=require(_0x7bd7fc(0x25e)),argv=require(_0x7bd7fc(0x1fe))(process[_0x7bd7fc(0x31d)]['slice'](0x2))[_0x7bd7fc(0x31d)],path=require('path'),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x7bd7fc(0x36b),_0x7bd7fc(0x300),_0x7bd7fc(0x1bb),_0x7bd7fc(0x34a),_0x7bd7fc(0x265),'USDP'],excludedExchanges=['bitmex'],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x7bd7fc(0x329)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x7bd7fc(0x23d)+pauseBotInterval/0xea60+_0x7bd7fc(0x30d),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require('./version.json')[_0x7bd7fc(0x2ee)],environment=require(_0x7bd7fc(0x2e5))[_0x7bd7fc(0x31a)]||_0x7bd7fc(0x255),botID=process[_0x7bd7fc(0x31d)][0x2]||_0x7bd7fc(0x286),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x7bd7fc(0x20b)](_0x7bd7fc(0x277)+botID+_0x7bd7fc(0x2e7)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x7bd7fc(0x280)+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0x7bd7fc(0x35b),loggerfile=fs[_0x7bd7fc(0x1f8)](logspath+_0x7bd7fc(0x276),{'flags':'a'});!fs[_0x7bd7fc(0x27e)](configpath)&&fs[_0x7bd7fc(0x2eb)](configpath);!fs[_0x7bd7fc(0x27e)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x7bd7fc(0x1fb)+botID+'-config.json',logfile=configpath+_0x7bd7fc(0x1fb)+botID+_0x7bd7fc(0x341),performancefile=configpath+'bot-'+botID+_0x7bd7fc(0x2cc),coinresultsfile=configpath+_0x7bd7fc(0x1fb)+botID+_0x7bd7fc(0x298),settingsfile=configpath+_0x7bd7fc(0x2ef),securefile=configpath+_0x7bd7fc(0x320),configbackuppath=configpath+_0x7bd7fc(0x222),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x7bd7fc(0x1f7)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x7bd7fc(0x1f7)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x7bd7fc(0x1f7)]({'bot':[],'version':serverversion})[_0x7bd7fc(0x2d9)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x7bd7fc(0x1f7)]({'coins':{},'version':serverversion})[_0x7bd7fc(0x2d9)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x569fde=>{const _0x2fb743=_0x7bd7fc;console[_0x2fb743(0x20b)](_0x569fde);},'simple':_0x64f9d=>{const _0x144570=_0x7bd7fc;console[_0x144570(0x20b)](_0x64f9d),loggerfile[_0x144570(0x2d9)](util[_0x144570(0x23f)](_0x64f9d)+'\x0a');},'full':async(_0x4b30ad,_0x42906e='')=>{const _0x41d87a=_0x7bd7fc;let _0x23c74a;if(config['showname'])_0x23c74a=getTimeStamp()+':\x20'+config[_0x41d87a(0x246)]+_0x41d87a(0x282)+_0x4b30ad;else _0x23c74a=getTimeStamp()+_0x41d87a(0x2c8)+botID+_0x41d87a(0x282)+_0x4b30ad;console[_0x41d87a(0x20b)](_0x23c74a),loggerfile[_0x41d87a(0x2d9)](util[_0x41d87a(0x23f)](_0x23c74a)+'\x0a'),_0x42906e&&(console[_0x41d87a(0x20b)](_0x42906e),loggerfile[_0x41d87a(0x2d9)](util[_0x41d87a(0x23f)](_0x42906e)+'\x0a'));},'debug':async(_0x264095,_0x4ba03d='')=>{const _0x3cec61=_0x7bd7fc;let _0x56ff76;if(config[_0x3cec61(0x36e)])_0x56ff76=getTimeStamp()+':\x20'+config[_0x3cec61(0x246)]+_0x3cec61(0x21f)+_0x264095;else _0x56ff76=getTimeStamp()+_0x3cec61(0x2c8)+botID+_0x3cec61(0x21f)+_0x264095;if(debugging)console['log'](_0x56ff76);loggerfile[_0x3cec61(0x2d9)](util[_0x3cec61(0x23f)](_0x56ff76)+'\x0a');if(_0x4ba03d){if(debugging)console[_0x3cec61(0x20b)](_0x4ba03d);loggerfile[_0x3cec61(0x2d9)](util[_0x3cec61(0x23f)](_0x4ba03d)+'\x0a');}}};process['on'](_0x7bd7fc(0x369),function(_0x4aa8ee){const _0x2fc2e4=_0x7bd7fc;handleError(_0x4aa8ee[_0x2fc2e4(0x361)],_0x2fc2e4(0x369));});settings[_0x7bd7fc(0x1f6)]!=config[_0x7bd7fc(0x1f6)]&&updateTimeshift(settings[_0x7bd7fc(0x1f6)]);settings[_0x7bd7fc(0x1d6)]!=config['onepagemode']&&updateOnepagemode(settings[_0x7bd7fc(0x1d6)]);(settings[_0x7bd7fc(0x347)]&&!config[_0x7bd7fc(0x347)]||!settings[_0x7bd7fc(0x347)]&&config[_0x7bd7fc(0x347)])&&updateMarketcapApi(settings[_0x7bd7fc(0x347)]);process['send']({'started':_0x7bd7fc(0x1e0)},_0x5a821c=>{}),initializeProcessListeners();function proxyEmit(_0x121c95,_0x355750=null){const _0x44a6fd=_0x7bd7fc;process[_0x44a6fd(0x309)]({'function':_0x121c95,'args':_0x355750},_0x16f10f=>{});}function initializeProcessListeners(){const _0x5048e6=_0x7bd7fc;process['on'](_0x5048e6(0x2fb),_0x13016e=>{const _0x5a63ad=_0x5048e6;switch(Object[_0x5a63ad(0x2ca)](_0x13016e)[0x0]){case'timeshift':_0x13016e[_0x5a63ad(0x1f6)]!=undefined&&(settings['timeshift']=_0x13016e[_0x5a63ad(0x1f6)],updateTimeshift(settings[_0x5a63ad(0x1f6)]));break;case _0x5a63ad(0x1d6):_0x13016e[_0x5a63ad(0x1d6)]!=undefined&&(settings[_0x5a63ad(0x1d6)]=_0x13016e['onepagemode'],updateOnepagemode(settings['onepagemode']));break;case _0x5a63ad(0x347):_0x13016e['marketcapApi']!=undefined&&(settings[_0x5a63ad(0x347)]=_0x13016e[_0x5a63ad(0x347)],updateMarketcapApi(settings[_0x5a63ad(0x347)]));break;case _0x5a63ad(0x2fe):_0x13016e['bots']!=undefined&&(bots=JSON[_0x5a63ad(0x2c1)](_0x13016e[_0x5a63ad(0x2fe)]),proxyEmit('bots',bots));break;case'function':switch(_0x13016e[_0x5a63ad(0x1d8)]){case _0x5a63ad(0x1cf):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x5a63ad(0x21e):emitHistory(_0x13016e[_0x5a63ad(0x215)]);break;case _0x5a63ad(0x30e):deleteHistoryAlerts(_0x13016e['args']);break;case _0x5a63ad(0x2ff):getPortfolio(_0x13016e[_0x5a63ad(0x215)]);break;case _0x5a63ad(0x366):storeConfiguration(_0x13016e[_0x5a63ad(0x215)]);break;case _0x5a63ad(0x2ad):storeHeadless(_0x13016e['args']);break;case _0x5a63ad(0x34f):storeFiat(_0x13016e[_0x5a63ad(0x215)]);break;case'resetHistory':resetHistory();break;case _0x5a63ad(0x228):getStartingBalances(getNormalizedPerformance());break;case _0x5a63ad(0x2d3):placeOrder(_0x13016e[_0x5a63ad(0x215)]);break;case _0x5a63ad(0x356):cancelLoading();break;case'showConfig':showConfig();break;case _0x5a63ad(0x252):sendMetricsTelegram();break;case _0x5a63ad(0x267):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0xa6a053=![]){const _0x33426b=_0x7bd7fc;logger[_0x33426b(0x27a)]('Reset\x20|\x20'+(_0xa6a053?'exchange\x20reload':_0x33426b(0x34c))+'\x20|\x20exchange:\x20'+config[_0x33426b(0x2f8)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x33426b(0x2c2)]!=''&&config[_0x33426b(0x2c2)]!='***'){loadingProgress=0x0;if(_0xa6a053){await initExchange();const _0x7a30e9=await testAPI();if(!_0x7a30e9)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x33426b(0x2d6),emittedConfiguration()),initialPerformanceStored=![];}const _0x153459=await getCoins();[currentCoins,currentCoinsAll]=_0x153459,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x33426b(0x27a)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x33426b(0x1c3)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x40dd35=![]){const _0x163f78=_0x7bd7fc;logger[_0x163f78(0x27a)](_0x163f78(0x364)+(_0x40dd35?_0x163f78(0x2a3):_0x163f78(0x353))+_0x163f78(0x326)+config[_0x163f78(0x2f8)]);if(pidBalances)clearTimeout(pidBalances);if(_0x40dd35){getBalances();return;}coinsLoaded=![];if(config[_0x163f78(0x2c2)]!=''&&config[_0x163f78(0x2c2)]!=_0x163f78(0x324)){loadingProgress=0x1;const _0xe8c1ea=await getCoins();[currentCoins,currentCoinsAll]=_0xe8c1ea,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x163f78(0x26e)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x163f78(0x1c3)]==0x0&&allOpenOrders[_0x163f78(0x1c3)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x4fa243){const _0xab609=_0x7bd7fc;let _0x112652=![];if(_0x4fa243)_0x112652=!![];const _0x870c6d=_0x112652?_0x4fa243:currentCoins,_0xd33309=_0x870c6d[_0xab609(0x1b7)](_0x32ed2c=>_0x32ed2c[_0xab609(0x334)]);if(!config[_0xab609(0x347)]||!_0x112652&&!config['marketcapEnabled']||_0xd33309['length']==0x0)return;let _0x13f87e=null;try{_0x13f87e=await axios[_0xab609(0x379)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0xab609(0x347)]},'params':{'symbol':_0xd33309['toString']()}});}catch(_0x10db03){_0x13f87e=null,_0x10db03[_0xab609(0x32f)]()[_0xab609(0x25b)]('status\x20code\x20401')?(config[_0xab609(0x347)]=![],updateConfig(),proxyEmit(_0xab609(0x2d6),emittedConfiguration()),logHistory(_0xab609(0x1c5),_0xab609(0x2d0))):(logHistory(_0xab609(0x1c5),_0xab609(0x2c4)+schedulerInterval/(0x3c*0x3e8)+_0xab609(0x30d)),logger['debug'](_0xab609(0x360),_0x10db03['toString']()+_0xab609(0x232)+_0x10db03[_0xab609(0x2cb)]));}const _0x43168e=new Map();let _0x35995f=!![];if(_0x13f87e){let _0x37ce09=0x0;const _0x332f4d=_0x13f87e[_0xab609(0x20a)];_0xd33309[_0xab609(0x1f1)](_0x1580e0=>{const _0x136982=_0xab609;if(_0x332f4d[_0x136982(0x20a)][_0x1580e0][0x0]&&_0x332f4d['data'][_0x1580e0][0x0][_0x136982(0x1e7)][_0x136982(0x36b)][_0x136982(0x233)])_0x43168e[_0x136982(0x29b)](_0x1580e0,_0x332f4d[_0x136982(0x20a)][_0x1580e0][0x0][_0x136982(0x1e7)][_0x136982(0x36b)]['market_cap']),_0x37ce09+=_0x332f4d[_0x136982(0x20a)][_0x1580e0][0x0]['quote'][_0x136982(0x36b)]['market_cap'];else{if(_0x332f4d[_0x136982(0x20a)][_0x1580e0][0x0]&&_0x332f4d[_0x136982(0x20a)][_0x1580e0][0x0]['self_reported_market_cap'])_0x43168e[_0x136982(0x29b)](_0x1580e0,_0x332f4d[_0x136982(0x20a)][_0x1580e0][0x0][_0x136982(0x283)]),_0x37ce09+=_0x332f4d[_0x136982(0x20a)][_0x1580e0][0x0][_0x136982(0x283)];else{if(!['EUR',_0x136982(0x36b)][_0x136982(0x25b)](_0x1580e0)){if(_0x112652)logHistory(_0x136982(0x1c5),_0x136982(0x333)+_0x1580e0+_0x136982(0x1b3));else{const _0x2ee4ae=config[_0x136982(0x284)][_0x136982(0x29a)](_0x3ddab4=>_0x3ddab4[_0x136982(0x334)]==_0x1580e0);_0x2ee4ae&&!_0x2ee4ae[_0x136982(0x1d1)]&&_0x2ee4ae[_0x136982(0x203)]==-0x1&&(_0x35995f=![],logHistory(_0x136982(0x1c5),_0x136982(0x1b4)),logger[_0x136982(0x27a)]('CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x1580e0));}}}}});if(!_0x35995f)return;_0xd33309[_0xab609(0x1f1)](_0x22b1ea=>{const _0x4e4822=_0xab609,_0x26d28f=_0x43168e[_0x4e4822(0x379)](_0x22b1ea)?_0x43168e[_0x4e4822(0x379)](_0x22b1ea):0x0;if(_0x112652){const _0x5e369f=_0x4fa243['find'](_0x14b8f7=>_0x14b8f7[_0x4e4822(0x334)]==_0x22b1ea);_0x5e369f&&(_0x5e369f['marketcap']=_0x26d28f);}else{const _0x380d96=currentCoins['find'](_0x57bf9f=>_0x57bf9f[_0x4e4822(0x334)]==_0x22b1ea);_0x380d96&&(_0x380d96[_0x4e4822(0x2a9)]=_0x26d28f);const _0x4e778b=currentCoinsAll['find'](_0xe02245=>_0xe02245[_0x4e4822(0x334)]==_0x22b1ea);_0x4e778b&&(_0x4e778b[_0x4e4822(0x2a9)]=_0x26d28f);}}),!_0x112652&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1cbcd8=_0x7bd7fc,_0x19d152=0x2;let _0x1889f8=0x0,_0x2bca79=0x0,_0xc47428=0x0,_0x238c4f=0x0,_0x5014ec=0x0;config['portfolio']['forEach'](_0x7e879a=>{const _0x460c37=_0x1325;if(!_0x7e879a['excluded']){_0xc47428++,_0x1889f8+=_0x7e879a[_0x460c37(0x203)];if(_0x7e879a[_0x460c37(0x203)]===-0x1){_0x1889f8++;const _0x2f4569=currentCoinsAll[_0x460c37(0x29a)](_0x5dfb35=>_0x5dfb35[_0x460c37(0x334)]==_0x7e879a['coin']);_0x2f4569&&(_0x238c4f+=_0x2f4569[_0x460c37(0x2a9)],_0x5014ec+=Math[_0x460c37(0x247)](_0x2f4569[_0x460c37(0x2a9)]));}if(_0x7e879a[_0x460c37(0x203)]!==-0x1)_0x2bca79++;}});let _0x25a9fb;const _0x8c34bc=0x64-_0x1889f8,_0x53beaf=_0xc47428-_0x2bca79;_0x25a9fb=_0x53beaf===0x0?_0x1889f8:Math[_0x1cbcd8(0x1ce)](0x64,_0x1889f8),config[_0x1cbcd8(0x284)]['forEach'](_0x27ce64=>{const _0x36deaf=_0x1cbcd8,_0x44ee96=currentCoinsAll[_0x36deaf(0x29a)](_0x1f062a=>_0x1f062a[_0x36deaf(0x334)]==_0x27ce64['coin']);_0x44ee96&&(_0x27ce64['marketcap']=_0x44ee96[_0x36deaf(0x2a9)]);if(!_0x27ce64['excluded']){if(_0x25a9fb<=0x64){if(_0x27ce64[_0x36deaf(0x203)]===-0x1){if(_0x238c4f!==0x0&&config[_0x36deaf(0x35c)]){if(_0x44ee96){if(config[_0x36deaf(0x35c)]==_0x36deaf(0x2a9))_0x27ce64['distribution']=(_0x8c34bc/(_0x238c4f/_0x44ee96[_0x36deaf(0x2a9)]))[_0x36deaf(0x202)](_0x19d152);else config[_0x36deaf(0x35c)]==_0x36deaf(0x305)&&(_0x27ce64[_0x36deaf(0x1b0)]=(_0x8c34bc/(_0x5014ec/Math['sqrt'](_0x44ee96[_0x36deaf(0x2a9)])))[_0x36deaf(0x202)](_0x19d152));}}}}}}),updateConfig();}function updateConfig(){const _0x447c37=_0x7bd7fc;let _0x1f932c=dbConfig['get'](_0x447c37(0x1cc))[_0x447c37(0x29a)]({'botID':botID})['value']();_0x1f932c&&dbConfig[_0x447c37(0x379)](_0x447c37(0x1cc))[_0x447c37(0x29a)]({'botID':botID})[_0x447c37(0x1f3)](config)[_0x447c37(0x2d9)]();}function logMemory(){const _0x226a1b=_0x7bd7fc;if(environment!=_0x226a1b(0x327))return;const _0x32be19=process[_0x226a1b(0x22f)]()[_0x226a1b(0x287)]/0x400/0x400;logger[_0x226a1b(0x27a)]('process\x20'+process['pid']+_0x226a1b(0x1b8)+formatResult(_0x32be19,0x1)+_0x226a1b(0x336));}async function startScheduler(){const _0x34b3f3=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0x34b3f3==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x477669=![]){const _0xa0af4a=_0x7bd7fc;logger[_0xa0af4a(0x27a)](_0xa0af4a(0x218));if(!_0x477669)while(lockOrders!=ORDERS[_0xa0af4a(0x329)]||coolingDown){await sleep(0x3e8);}process[_0xa0af4a(0x309)]({'stop':'restart'},_0x4b5d96=>{});}async function initExchange(_0x4e53c0=config[_0x7bd7fc(0x2f8)],_0x11b9f0=config[_0x7bd7fc(0x2c2)],_0x3a801a=config[_0x7bd7fc(0x2fc)],_0x1181af=config['apiPassword'],_0x357638=config['sandbox']){const _0x20eab2=_0x7bd7fc;if(exchange){logger[_0x20eab2(0x27a)](_0x20eab2(0x227));return;}logger[_0x20eab2(0x27a)](_0x20eab2(0x2a5));!supportedExchanges()['includes'](_0x4e53c0)&&(logHistory(_0x20eab2(0x1c5),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x4e53c0+_0x20eab2(0x231)),killBot());const _0x4f5f56=ccxt[_0x20eab2(0x213)][_0x4e53c0['toLowerCase']()];exchange=new _0x4f5f56({'apiKey':_0x11b9f0,'secret':_0x3a801a,'options':{'defaultType':_0x20eab2(0x1ba)}});if(_0x1181af)exchange[_0x20eab2(0x2ab)]=_0x1181af;if(exchange[_0x20eab2(0x26d)]['sandbox'])exchange[_0x20eab2(0x23a)](_0x357638);if(_0x4e53c0[_0x20eab2(0x2ac)]()==_0x20eab2(0x2ea))exchange[_0x20eab2(0x376)][_0x20eab2(0x242)]=operatorId;}function updateExchange(_0x2703f2,_0x2c0e26,_0x584473=null){const _0x18a561=_0x7bd7fc;exchange[_0x18a561(0x2c2)]=_0x2703f2,exchange[_0x18a561(0x30b)]=_0x2c0e26,exchange[_0x18a561(0x2ab)]=_0x584473,logger[_0x18a561(0x27a)](_0x18a561(0x2f7));}function setStableCoins(){const _0x158606=_0x7bd7fc;let _0x47d69a=config[_0x158606(0x290)]==_0x158606(0x30c)?_0x158606(0x30c):config[_0x158606(0x290)]=='PAXG'?_0x158606(0x2d5):_0x158606(0x262),_0x6aa185=allSymbols[_0x158606(0x25b)](_0x47d69a+_0x158606(0x2e2))?_0x158606(0x36b):allSymbols[_0x158606(0x25b)](_0x47d69a+_0x158606(0x1f4))?_0x158606(0x34a):_0x158606(0x2f5),_0x240ffd=allSymbols[_0x158606(0x25b)](_0x47d69a+_0x158606(0x328))?_0x158606(0x2f5):_0x6aa185;enableFiatToggle=!![],_0x6aa185==_0x158606(0x2f5)&&(enableFiatToggle=![],storeFiat(_0x158606(0x2f5))),_0x240ffd!=_0x158606(0x2f5)&&(enableFiatToggle=![],storeFiat(_0x158606(0x36b))),stablecoins={'eur':{'coin':''+_0x47d69a+_0x240ffd,'symbol':_0x47d69a+'/'+_0x240ffd},'usd':{'coin':''+_0x47d69a+_0x6aa185,'symbol':_0x47d69a+'/'+_0x6aa185}};}async function initwsCcxt(){const _0x1c1619=_0x7bd7fc;initCycle++;const _0x52868=initCycle;let _0x5abb42=[];config[_0x1c1619(0x284)]['forEach'](_0x5140c2=>{const _0x22caaa=_0x1c1619;if(!_0x5140c2['excluded']&&_0x5140c2[_0x22caaa(0x334)]!=config[_0x22caaa(0x290)])_0x5abb42[_0x22caaa(0x31c)](_0x5140c2['symbol']);});if(!_0x5abb42['includes'](stablecoins[_0x1c1619(0x2da)][_0x1c1619(0x1d9)]))_0x5abb42[_0x1c1619(0x31c)](stablecoins[_0x1c1619(0x2da)]['symbol']);if(!_0x5abb42['includes'](stablecoins[_0x1c1619(0x378)]['symbol']))_0x5abb42[_0x1c1619(0x31c)](stablecoins[_0x1c1619(0x378)][_0x1c1619(0x1d9)]);loadCoins(_0x5abb42),_0x5abb42=validateSymbols(_0x5abb42);const _0x1ff935=async _0x364cbf=>{const _0xadedb0=_0x1c1619;let _0x6780bb;try{const _0x50c360=await getTickers(_0x364cbf);Object[_0xadedb0(0x288)](_0x50c360)[_0xadedb0(0x1f1)](_0x1cfdc3=>{const _0x460f99=_0xadedb0;_0x6780bb=_0x1cfdc3[0x1][_0x460f99(0x1d9)],gTicker[noslash(_0x6780bb)]=_0x1cfdc3[0x1]['last'],gChange[_0x6780bb]=_0x1cfdc3[0x1][_0x460f99(0x365)];});}catch(_0x4689f1){await handleError(_0x4689f1,_0xadedb0(0x269),_0x6780bb);}},_0x476ab5=async _0x4aa632=>{const _0x3a0b80=_0x1c1619;while(initCycle==_0x52868){if(!botPaused)try{const _0x174e71=await exchange[_0x3a0b80(0x1da)](_0x4aa632);gTicker[noslash(_0x174e71[0x0][_0x3a0b80(0x1d9)])]=_0x174e71[0x0][_0x3a0b80(0x2cd)];}catch(_0x596cfc){if(!exchangeStopped)await handleError(_0x596cfc,_0x3a0b80(0x244),_0x4aa632);}else await sleep(0x64);}},_0x17614d=async _0x26962c=>{const _0x3569d1=_0x1c1619;while(initCycle==_0x52868){if(!botPaused)try{const _0x1afd6b=await exchange[_0x3569d1(0x292)](_0x26962c),_0x5d6114=_0x1afd6b[_0x3569d1(0x2b1)]();gTicker[noslash(_0x5d6114[_0x3569d1(0x1d9)])]=_0x5d6114[_0x3569d1(0x2cd)];}catch(_0x392428){if(!exchangeStopped)await handleError(_0x392428,_0x3569d1(0x1df),_0x26962c[_0x3569d1(0x32f)]());}else await sleep(0x64);}},_0x263ef3=async _0x440f9b=>{const _0x59e0d0=_0x1c1619;while(initCycle==_0x52868){if(!botPaused){let _0x39619a;try{await sleep(0x3c*0x3e8);const _0xc24b18=await getTickers(_0x440f9b);Object[_0x59e0d0(0x288)](_0xc24b18)[_0x59e0d0(0x1f1)](_0x3f31c0=>{const _0x44dce7=_0x59e0d0;_0x39619a=_0x3f31c0[0x1]['symbol'],gChange[_0x39619a]=_0x3f31c0[0x1][_0x44dce7(0x365)];});}catch(_0x5f102c){if(!exchangeStopped)await handleError(_0x5f102c,'fetchTickers()',_0x39619a);}}else await sleep(0x64);}},_0x3fee96=async _0xd67839=>{const _0xddfbce=_0x1c1619;while(initCycle==_0x52868){if(!botPaused)try{const _0x5727db=await exchange[_0xddfbce(0x261)](_0xd67839);initCycle==_0x52868&&_0x5727db[_0xddfbce(0x1f1)](_0x516ba2=>{updateNumberCoinsCcxt(_0x516ba2);});}catch(_0x12d84d){if(!exchangeStopped)await handleError(_0x12d84d,_0xddfbce(0x21d));}else await sleep(0x64);}};_0x1ff935(_0x5abb42),_0x263ef3(_0x5abb42),exchange[_0x1c1619(0x26d)][_0x1c1619(0x292)]&&!(config[_0x1c1619(0x2f8)]=='Bybit'&&_0x5abb42['length']>0xa)?_0x17614d(_0x5abb42):_0x5abb42[_0x1c1619(0x1f1)](_0x24955d=>{_0x476ab5(_0x24955d);}),_0x5abb42[_0x1c1619(0x1f1)](_0x546564=>{_0x3fee96(_0x546564);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x22b920){const _0x46e23b=_0x7bd7fc;let _0x44a902={};try{if(config[_0x46e23b(0x2f8)]!=_0x46e23b(0x2f6))_0x44a902=await exchange[_0x46e23b(0x301)](_0x22b920);else for(const _0x3732ce of _0x22b920){const _0x531df3=await exchange[_0x46e23b(0x36a)](_0x3732ce);_0x44a902[_0x3732ce]=_0x531df3;}return _0x44a902;}catch(_0x17876d){throw _0x17876d;}}function setBlockTransactionDetection(_0x192062){blockTransactionDetection=_0x192062,logger['debug']('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}function _0x28ef(){const _0x3ca3dc=['memoryUsage','timestamp-issue','\x20exchange','\x20-\x20','market_cap','success','fromCodePoint','min','floor','no\x20open\x20orders','2.7.1','setSandboxMode','RETRY\x20-\x20Error\x20in\x20','-------------------------------\x0a','\x20>\x20pausing\x20bot\x20for\x20','Error\x20in\x20testNewAPI():\x20','format','\x0aSymbol(s):\x20','getHours','operatorId','filled','watchTrades()','padStart','botname','sqrt','constructor','Market\x20order','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','\x20|\x20Custom\x20ID:\x20','remove','bid','<b>','Unfilled\x20order(s)\x20canceled\x20after\x20','full','\x20|\x20lock\x20orders:\x20','sendMetricsTelegram','search','1\x20-\x20FILLED\x20unknown\x20order:\x20','production','reverse','added','number','Order\x20filled','Resetting\x20coin\x20results:\x20','includes','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','must\x20be\x20greater\x20than\x20minimum\x20amount','util','fee','UNLOCKING','watchOrders','BTC','colorscheme','final','USDC','\x20(see:\x20hodlerhacks.com/fix/1)','sendPortfolioTelegram','configstate','initTickers()','Failed\x20to\x20load\x20coin\x20data\x20for\x20','split','time','has','Loading\x20completed','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','emojisell','shift','autoliquidity','ongoing','target','exchanges','/output-000.log','Error:\x20Invalid\x20argument\x20','botID','placeOrder()','debug','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','Order(s)\x20not\x20validated\x20after\x20','apiPassword','existsSync','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','./config/','API-key\x20format\x20invalid','\x20>\x20','self_reported_market_cap','portfolio','trade','001','heapUsed','entries','************','482166BzNewH','getMonth','cloneDeep','\x20portfolio:</b>\x20\x0a\x0a','configuration-stored','\x20|\x20','basecoin','order','watchTradesForSymbols','toUpperCase','Insufficient\x20funds\x20to\x20execute\x20order:\x20','headless','change','realizedPnL','-results.json','timeout','find','set','Pausing\x20for\x20',':\x20timer\x20>','recent20','Portfolio\x20change\x20detected:\x20','loadSymbols()','Stopped\x20fetching\x20balance\x20after\x20','\x20hour','quick','changes','Initializing\x20exchange','fiat','remainingSymbols','%\x20(','marketcap','cooldown','password','toLowerCase','storeHeadless','1\x20-\x20Handle\x20open\x20orders','LOCKED','2.6.0','pop','<b>Bot\x20','Exchange','Valid\x20balance\x20for\x20','writeFile','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Huobi','Error\x20while\x20deleting\x20files:\x20','929975OmaJhP','2\x20-\x20Handled\x20open\x20orders','sortBy','net-fiat','2.3.5','isBefore','loadMarkets','%)\x0a','parse','apiKey','1579656Fvpbaf','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','basecoinvalue','Huobipro','sells',':\x20Bot\x20','limit-high','keys','code','-performance.json','price','offset','Value\x20','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','Bitget','stringify','placeOrder','RETRY\x20-\x20Problem\x20resolved\x20after\x20','PAXG','configuration','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','Initializing\x20coin\x20results','write','eur','Bybit','orderstatus','ccxt','customId','performance','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','getSeconds','/USD','orderId','settings','./version.json','average',',\x20must\x20be\x20a\x203\x20digit\x20number','logs','cancel','bitvavo','mkdirSync','switch-manual','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','version','bb-settings.json','\x20API\x20secret\x20is\x20invalid','\x20network\x20error:\x20','\x20exchange\x20error:\x20','net','cancelOrder','EUR','Cryptocom','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','exchange','\x20metrics:</b>\x20\x0a\x0a','isEqual','message','apiSecret','0\x20-\x20EXECUTION:\x20','bots','getPortfolio','BUSD','fetchTickers','buy','getDate','event-history','marketcapsqrt','Generating\x20PnL\x20data','getMinutes','pnl','send','sandbox','secret','ETH','\x20minutes','deleteHistoryAlerts','Exception\x20thrown\x20in\x20','24oqPEic','breakeven','emojibuy','coins','limit','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','Cooldown\x20ended\x20-\x20balancing\x20resumed','secure','limit-low','environment','market','push','argv','total',')\x20unknown\x20order:\x20','bb-secure.json','3578435cWowVl','ordertype','startdate','***','fetchBalance()',')\x20|\x20exchange:\x20','staging','/EUR','UNLOCKED','string','\x20minutes\x20-\x20','replace','MIN_NOTIONAL','PnL\x20','toString','recovery','timestamp','join','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','coin','Headless:\x20','\x20MB','enableFiatToggle','719334TeNphK','page','getFullYear','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','event','Error\x20in\x20loadSymbols():\x20','Generated\x20PnL\x20data','highest','-events.json','InvalidOrder','Net\x20','No\x20more\x20open\x20orders\x20-\x20','unlinkSync','padEnd','marketcapApi','fetchOpenOrders','substring','USDT','2\x20-\x20handling\x20FILLED\x20order:\x20','no\x20exchange\x20reloaded','Set\x20lock\x20orders\x20to:\x20','coin-loading-progress','storeFiat','threshold','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','add','complete','apply','portfolio2','cancelLoading','open','testAPI()','valid','1\x20-\x20partially\x20FILLED\x20(','./logs/','marketcapEnabled','Manual\x20balancing\x20required','addDays','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','Error\x20details:','stack','Binance','removed','Resuming\x20(','percentage','storeConfiguration','\x20due\x20to\x20offset','RateLimitExceeded','uncaughtException','fetchTicker','USD','PermissionDenied','net-basecoin','showname','round','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','.json','Market','Invalid\x20balance\x20for\x20','initial','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','options','3907840EUFKAC','usd','get','cost','date','fetchBalance','portfolio1','closed','prevnumber','Invalid\x20symbol:\x20','filter','none','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','distribution','\x20has\x20a\x2024h\x20drop\x20of\x20','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','\x20-\x20go\x20back\x20and\x20try\x20again','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','InvalidNonce','1\x20-\x20Validate\x20orders:\x20','map','\x20uses\x20','ExchangeError','spot','TUSD','2.6.23','testApi','amountToPrecision','Cex','balances','kill','last','length','privateKey','error','request-time','sha256','Gateio','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','AuthenticationError','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','bot','Bot\x20','max','initclient','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','excluded','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','type','canceled','active','onepagemode','getTime','function','symbol','watchTrades','Order\x20filled:\x20','Network\x20error\x20details:','RSA-OAEP','progress','watchTradesForSymbols()','running','Placing\x20order\x20for:\x20','\x20API\x20key\x20is\x20invalid','\x20-\x20bot\x20not\x20started','update-liquidity','NetworkError','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','quote','lowdb','openOrders','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','\x20|\x20highest\x20fee:\x20','indexOf','sell','RequestTimeout','amount','privateKeyFromPem','forEach','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','assign','/USDT','findIndex','timeshift','defaults','createWriteStream','limits','abs','bot-','delta','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','yargs/yargs','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','splice','(((.+)+)+)+$','toFixed','slider','sort','match','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','createOrder','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','buys','data','log','liquidity','Resetting\x20bot\x20history','change24h','yyyy/MM/dd','slice','Error\x20details:\x20','\x20order:\x20','pro','create','args','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','value','Initiating\x20bot\x20restart','<pre>','side','getOpenOrders()','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','watchOrders()','emitHistory','\x20>\x20[DEBUG]\x20','Error\x20occurred:\x20','DDoSProtection','/backup/','warning','netoffset','5295909DoTorI','starting-balance-','Initializing\x20exchange:\x20already\x20done','getStartingBalances','Trigger:\x20','Order\x20is\x20invalid:\x20','balancing\x20resumes\x20when\x20cooldown\x20ends','startprice','</pre>','Unknown\x20error\x20-\x20check\x20logs'];_0x28ef=function(){return _0x3ca3dc;};return _0x28ef();}async function detectLiquidityChange(_0x3c68e5=0x0){const _0x13bcce=_0x7bd7fc;transactionDetectionOngoing=!![];try{const _0x1a2fb3=await getCoins(_0x3c68e5),[_0x24cd51,_0x28f9ba]=_0x1a2fb3;let _0x28ae4b=[];currentCoins[_0x13bcce(0x1f1)](_0x180f9b=>{const _0xc5a69d=_0x13bcce,_0x2b6b85=_0x24cd51[_0xc5a69d(0x29a)](_0x399843=>_0x399843[_0xc5a69d(0x334)]==_0x180f9b[_0xc5a69d(0x334)]);if(_0x2b6b85){if(_0x180f9b[_0xc5a69d(0x258)]!=_0x2b6b85['number']){let _0xad50b8;if(_0x180f9b['coin']!=config[_0xc5a69d(0x290)]){const _0x5610fb=gTicker[noslash(_0x180f9b[_0xc5a69d(0x1d9)])];_0xad50b8=_0x180f9b['reverse']?0x1/_0x5610fb:_0x5610fb;}else _0xad50b8=0x1;_0x28ae4b[_0xc5a69d(0x31c)]({'coin':_0x180f9b[_0xc5a69d(0x334)],'symbol':_0x180f9b[_0xc5a69d(0x1d9)],'price':_0xad50b8,'number':Number(formatResult(_0x2b6b85['number']-_0x180f9b[_0xc5a69d(0x258)],0x8)),'basecoinvalue':_0xad50b8*(_0x2b6b85['number']-_0x180f9b[_0xc5a69d(0x258)])});}}});if(_0x28ae4b[_0x13bcce(0x1c3)]>0x0&&!blockTransactionDetection){for(const _0xf02eab of _0x28ae4b){if(config[_0x13bcce(0x272)]){logger[_0x13bcce(0x27a)](_0x13bcce(0x206)+_0xf02eab[_0x13bcce(0x2c5)]+_0x13bcce(0x1eb)+lastFees['highest']);if(lastFees[_0x13bcce(0x340)]==0x0||Math[_0x13bcce(0x1fa)](_0xf02eab['basecoinvalue'])>lastFees[_0x13bcce(0x340)]*0x3){if(config[_0x13bcce(0x272)]=='update-liquidity'){delete _0xf02eab['symbol'],delete _0xf02eab[_0x13bcce(0x2c5)];let _0x3588db=[],_0x1d9c33=[...config[_0x13bcce(0x20c)]]||[],_0x17664c=config[_0x13bcce(0x20c)];_0x1d9c33[_0x13bcce(0x204)]((_0x2fb1b0,_0x49da25)=>_0x2fb1b0['date']>_0x49da25[_0x13bcce(0x37b)]?-0x1:_0x49da25[_0x13bcce(0x37b)]>_0x2fb1b0[_0x13bcce(0x37b)]?0x1:0x0);const _0x30fbff=getDate();if(_0x1d9c33[0x0]){const _0x2910c2=fns['parse'](_0x1d9c33[0x0][_0x13bcce(0x37b)],_0x13bcce(0x20f),new Date()),_0x27f299=fns[_0x13bcce(0x2c1)](_0x30fbff,_0x13bcce(0x20f),new Date());if(fns[_0x13bcce(0x2fa)](_0x2910c2,_0x27f299)){_0x3588db=_0x1d9c33[0x0]['changes'];const _0x179693=_0x3588db[_0x13bcce(0x29a)](_0x21c0cf=>_0x21c0cf[_0x13bcce(0x334)]==_0xf02eab[_0x13bcce(0x334)]);_0x179693?(_0x179693[_0x13bcce(0x258)]+=_0xf02eab[_0x13bcce(0x258)],_0x179693[_0x13bcce(0x258)]==0x0&&(_0x3588db=_0x3588db[_0x13bcce(0x1ad)](_0x4a97c0=>{const _0x44988f=_0x13bcce;return _0x4a97c0[_0x44988f(0x334)]!=_0xf02eab[_0x44988f(0x334)];}))):_0x3588db['push'](_0xf02eab);const _0x39703a=_0x17664c[_0x13bcce(0x29a)](_0x2892c8=>_0x2892c8[_0x13bcce(0x37b)]==_0x30fbff);_0x39703a[_0x13bcce(0x2a4)]=_0x3588db;}else _0x17664c[_0x13bcce(0x31c)]({'date':_0x30fbff,'changes':[_0xf02eab]});}const _0x2fcbfd=_0x17664c[_0x13bcce(0x29a)](_0x2dba64=>_0x2dba64[_0x13bcce(0x37b)]==_0x30fbff);if(_0x2fcbfd){let _0x12da72=!![];_0x2fcbfd['changes'][_0x13bcce(0x1f1)](_0x307f62=>{const _0x22b33f=_0x13bcce;if(_0x307f62[_0x22b33f(0x258)]!=0x0)_0x12da72=![];}),_0x12da72&&(_0x17664c=_0x17664c[_0x13bcce(0x1ad)](_0x29c5b4=>{return _0x29c5b4['date']!=_0x30fbff;}));}let _0xb6f553=dbConfig['get']('bot')['find']({'botID':botID})['value']();_0xb6f553&&(dbConfig['get']('bot')[_0x13bcce(0x29a)]({'botID':botID})[_0x13bcce(0x1f3)]({'liquidity':_0x17664c})[_0x13bcce(0x2d9)](),config[_0x13bcce(0x20c)]=_0x17664c);logHistory(_0x13bcce(0x234),'Portfolio\x20change\x20detected:\x20'+Math['abs'](_0xf02eab['number'])+'\x20'+_0xf02eab['coin']+'\x20'+(_0xf02eab[_0x13bcce(0x258)]>0x0?_0x13bcce(0x257):'removed')+_0x13bcce(0x375)),proxyEmit(_0x13bcce(0x2d6),emittedConfiguration());const _0x51538b=getNormalizedPerformance();emitPerformance(_0x51538b),getStartingBalances(_0x51538b),logger[_0x13bcce(0x27a)]('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x13bcce(0x272)]==_0x13bcce(0x2ec)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x13bcce(0x234),_0x13bcce(0x29f)+Math[_0x13bcce(0x1fa)](_0xf02eab[_0x13bcce(0x258)])+'\x20'+_0xf02eab[_0x13bcce(0x334)]+'\x20'+(_0xf02eab[_0x13bcce(0x258)]>0x0?_0x13bcce(0x257):_0x13bcce(0x363))+_0x13bcce(0x27b))):logger[_0x13bcce(0x27a)](_0x13bcce(0x29f)+Math[_0x13bcce(0x1fa)](_0xf02eab[_0x13bcce(0x258)])+'\x20'+_0xf02eab[_0x13bcce(0x334)]+'\x20'+(_0xf02eab[_0x13bcce(0x258)]>0x0?_0x13bcce(0x257):_0x13bcce(0x363))+_0x13bcce(0x1ea)));}else logger[_0x13bcce(0x27a)]('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0x13bcce(0x1fa)](_0xf02eab[_0x13bcce(0x258)])+'\x20'+_0xf02eab['coin']+'\x20'+(_0xf02eab[_0x13bcce(0x258)]>0x0?_0x13bcce(0x257):_0x13bcce(0x363)));}else logger['debug'](_0x13bcce(0x29f)+Math[_0x13bcce(0x1fa)](_0xf02eab['number'])+'\x20'+_0xf02eab[_0x13bcce(0x334)]+'\x20'+(_0xf02eab['number']>0x0?_0x13bcce(0x257):_0x13bcce(0x363))+_0x13bcce(0x1c9));}currentCoins=_0x24cd51,currentCoinsAll=_0x28f9ba;}}catch(_0x22e8dd){if(!exchangeStopped)await handleError(_0x22e8dd,'detectLiquidityChange()');}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x210811=_0x7bd7fc;try{markets=await exchange[_0x210811(0x2bf)](!![]),allSymbols=[],Object[_0x210811(0x288)](markets)[_0x210811(0x1f1)](_0x18b590=>{const _0x346ab4=_0x210811;_0x18b590[0x1][_0x346ab4(0x1d5)]&&_0x18b590[0x1][_0x346ab4(0x1ba)]&&allSymbols[_0x346ab4(0x31c)](_0x18b590[0x0]);});}catch(_0x56e716){markets?logger[_0x210811(0x27a)](_0x210811(0x33e)+_0x56e716[_0x210811(0x32f)]()):(loading['cancel']=!![],_0x56e716[_0x210811(0x32f)]()[_0x210811(0x2ac)]()[_0x210811(0x25b)](_0x210811(0x331))||_0x56e716['toString']()[_0x210811(0x2ac)]()[_0x210811(0x25b)](_0x210811(0x1c6))?(logHistory(_0x210811(0x1c5),_0x210811(0x35f)),loading[_0x210811(0x1c5)]=_0x210811(0x230)):handleErrorNoStop(_0x56e716,_0x210811(0x2a0),!![]),logHistory(_0x210811(0x1c5),_0x210811(0x316)),logHistory(_0x210811(0x1c5),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x210811(0x1ff)),logger[_0x210811(0x27a)](_0x210811(0x360),_0x56e716),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x5d4185){const _0x3be573=_0x7bd7fc;let _0x22529f=[];return _0x5d4185[_0x3be573(0x1f1)](_0x253109=>{const _0x5a4d71=_0x3be573;!allSymbols[_0x5a4d71(0x25b)](_0x253109)?(logHistory(_0x5a4d71(0x1c5),_0x5a4d71(0x1ac)+_0x253109+_0x5a4d71(0x216)),loading[_0x5a4d71(0x299)]=!![],emitLoadingProgress()):_0x22529f[_0x5a4d71(0x31c)](_0x253109);}),_0x22529f;}async function initclient(){const _0xbc7079=_0x7bd7fc;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0xbc7079(0x275),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xbc7079(0x1c0),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x109ac4=getNormalizedPerformance();emitPerformance(_0x109ac4),getStartingBalances(_0x109ac4);}async function toggleBotMode(){const _0x4be316=_0x7bd7fc;let _0x435323=dbConfig[_0x4be316(0x379)]('bot')['find']({'botID':botID})['value']();if(_0x435323){const _0x990ffa=!_0x435323['headless'];dbConfig[_0x4be316(0x379)](_0x4be316(0x1cc))['find']({'botID':botID})[_0x4be316(0x1f3)]({'headless':_0x990ffa})['write'](),config['headless']=_0x990ffa,proxyEmit(_0x4be316(0x2d6),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x54737d=_0x7bd7fc;process['send']({'updatebotmanager':!![]},_0x2df9f6=>{}),logger[_0x54737d(0x27a)](_0x54737d(0x335)+config['headless']);}async function loadCoins(_0x22304f){const _0x141e59=_0x7bd7fc;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0xd8408f,_0x399501=0x0,_0x23f5bc=0x0;_0x22304f[_0x141e59(0x1f1)](_0x296dda=>{const _0x16ead6=_0x141e59;loading[_0x16ead6(0x2a7)][_0x16ead6(0x31c)](_0x296dda);}),loadingCanceled=![];let _0x3cdb89=![];while(_0xd8408f!=_0x22304f[_0x141e59(0x1c3)]+maxLoadingProgress){_0xd8408f=loadingProgress,_0x22304f[_0x141e59(0x1f1)](_0x2c728b=>{const _0xcff0f3=_0x141e59;if(gTicker[noslash(_0x2c728b)]){loading[_0xcff0f3(0x2a7)]=loading[_0xcff0f3(0x2a7)][_0xcff0f3(0x1ad)](_0x3939c5=>_0x3939c5!=_0x2c728b);if(!watchedSymbols[_0xcff0f3(0x25b)](_0x2c728b))watchedSymbols[_0xcff0f3(0x31c)](_0x2c728b);_0xd8408f++;}}),loading[_0x141e59(0x1de)]=Math[_0x141e59(0x36f)](_0xd8408f/(_0x22304f[_0x141e59(0x1c3)]+maxLoadingProgress)*0x64);loading[_0x141e59(0x1de)]!=0x64&&(_0x23f5bc>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x23f5bc>0x78*0x5&&!_0x3cdb89&&(_0x3cdb89=!![],logHistory(_0x141e59(0x1c5),_0x141e59(0x26a)+loading[_0x141e59(0x2a7)][_0x141e59(0x332)](',\x20')+_0x141e59(0x1e3)),logHistory(_0x141e59(0x1c5),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x141e59(0x1ff)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x141e59(0x2e9)]=!![],emitLoadingProgress();break;}else _0x399501!=loading[_0x141e59(0x1de)]&&(_0x399501=loading['progress'],emitLoadingProgress()),_0x23f5bc++,await sleep(0xc8);}_0xd8408f==_0x22304f[_0x141e59(0x1c3)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':'enabled','live':'running'},_0x55647f=>{}),_0x3cdb89&&logHistory(_0x141e59(0x234),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x300bd3=_0x7bd7fc;proxyEmit(_0x300bd3(0x2d6),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x4c6e89=_0x7bd7fc;proxyEmit(_0x4c6e89(0x34e),loading);}async function getFiat(){const _0x59ce28=_0x7bd7fc;let _0x4837e4=gTicker[stablecoins['eur'][_0x59ce28(0x334)]],_0x3e502f=gTicker[stablecoins[_0x59ce28(0x378)][_0x59ce28(0x334)]];return{'eur':Number(_0x4837e4),'usd':Number(_0x3e502f)};}function capitalize(_0x4b579c){const _0x24ac6b=_0x7bd7fc;return _0x4b579c[_0x24ac6b(0x349)](0x0,0x1)[_0x24ac6b(0x293)]()+_0x4b579c['substring'](0x1);}function supportedExchanges(){const _0x4e6966=_0x7bd7fc,_0x5e63f7=['ws','fetchTickers','fetchTicker',_0x4e6966(0x1da),'watchOrders',_0x4e6966(0x2f4),_0x4e6966(0x207),_0x4e6966(0x348),_0x4e6966(0x37c)];let _0x12ed12=[],_0x3c3773=[],_0x1a3554=ccxt['pro'][_0x4e6966(0x275)];_0x1a3554['forEach'](_0x4c0b32=>{const _0x47fbf1=_0x4e6966;try{const _0x3b9bf9=new ccxt[(_0x47fbf1(0x213))][_0x4c0b32]();_0x3c3773[_0x47fbf1(0x31c)](_0x3b9bf9);}catch(_0x1e0502){}}),_0x3c3773[_0x4e6966(0x1f1)](_0x6395c4=>{const _0x540003=_0x4e6966;let _0x2160da=0x0;_0x5e63f7[_0x540003(0x1f1)](_0x361de4=>{const _0x25745c=_0x540003;_0x361de4 in _0x6395c4['has']&&_0x6395c4[_0x25745c(0x26d)][_0x361de4]&&_0x2160da++;}),_0x2160da==_0x5e63f7[_0x540003(0x1c3)]&&(!excludedExchanges[_0x540003(0x25b)](_0x6395c4['id'])&&_0x12ed12[_0x540003(0x31c)](capitalize(_0x6395c4['id'])));});let _0x8983a2=[];return _0x1a3554[_0x4e6966(0x1f1)](_0x5ce3b5=>{const _0x1ed0fe=_0x4e6966;_0x5ce3b5=capitalize(_0x5ce3b5);if(!_0x12ed12['includes'](_0x5ce3b5))_0x8983a2[_0x1ed0fe(0x31c)](_0x5ce3b5);}),_0x12ed12;}function setStartDatePerformance(){const _0xa0f7e4=_0x7bd7fc;if(config&&config[_0xa0f7e4(0x20c)][0x0][_0xa0f7e4(0x2a4)]['length']!=0x0){const _0x149022=config[_0xa0f7e4(0x20c)][0x0][_0xa0f7e4(0x2a4)];dbPerformance['get'](_0xa0f7e4(0x20a))[_0xa0f7e4(0x29a)]({'date':config[_0xa0f7e4(0x323)]})[_0xa0f7e4(0x1f3)]({'coins':_0x149022})[_0xa0f7e4(0x2d9)]();}}function calculatePnL(_0x1f84b5,_0x15c123,_0x68c745,_0x27f879,_0x275617,_0x2d6430){const _0x5f02fc=_0x7bd7fc;!_0x1f84b5['includes']('/'+config[_0x5f02fc(0x290)])&&(_0x68c745=_0x68c745==_0x5f02fc(0x302)?_0x5f02fc(0x1ed):_0x5f02fc(0x302));!_0x2d6430[_0x15c123]&&(_0x2d6430[_0x15c123]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x2e51d0=0x0,_0x274260,_0x28dece;if(_0x68c745==_0x5f02fc(0x302))_0x28dece=_0x2d6430[_0x15c123][_0x5f02fc(0x258)]*_0x2d6430[_0x15c123][_0x5f02fc(0x311)]+_0x275617*_0x27f879,_0x2d6430[_0x15c123][_0x5f02fc(0x258)]+=_0x27f879,_0x2d6430[_0x15c123]['breakeven']=_0x2d6430[_0x15c123][_0x5f02fc(0x258)]!=0x0?_0x28dece/_0x2d6430[_0x15c123]['number']:0x0,_0x2d6430[_0x15c123][_0x5f02fc(0x209)]++;else _0x68c745==_0x5f02fc(0x1ed)&&(_0x274260=Math[_0x5f02fc(0x236)](_0x2d6430[_0x15c123][_0x5f02fc(0x258)],_0x27f879),_0x2e51d0=(_0x275617-_0x2d6430[_0x15c123]['breakeven'])*_0x274260,_0x28dece=Math[_0x5f02fc(0x1ce)](_0x2d6430[_0x15c123][_0x5f02fc(0x258)]*_0x2d6430[_0x15c123][_0x5f02fc(0x311)]-_0x274260*_0x2d6430[_0x15c123]['breakeven'],0x0),_0x2d6430[_0x15c123][_0x5f02fc(0x258)]-=_0x274260,_0x2d6430[_0x15c123][_0x5f02fc(0x311)]=_0x2d6430[_0x15c123][_0x5f02fc(0x258)]!=0x0?_0x28dece/_0x2d6430[_0x15c123][_0x5f02fc(0x258)]:0x0,_0x2d6430[_0x15c123][_0x5f02fc(0x297)]+=_0x2e51d0,_0x2d6430[_0x15c123][_0x5f02fc(0x2c7)]++);return _0x2e51d0;}async function generatePnL(){const _0x49ab9b=_0x7bd7fc;pnlGenerationNeeded=![],logger[_0x49ab9b(0x27a)](_0x49ab9b(0x306));const _0x538055=dbLogs['get'](_0x49ab9b(0x2e8))['value']();let _0x36b780={},_0x2a8caa=0x0,_0x55ec4b=0x0,_0x5eaab9=config[_0x49ab9b(0x323)];const _0x2bcc19=fns[_0x49ab9b(0x2c1)](_0x5eaab9,_0x49ab9b(0x20f),new Date()),_0x5e117b=new Date();let _0x52d6ff=0x0;for(let _0x28e2b9=_0x2bcc19;!fns['isBefore'](_0x5e117b,_0x28e2b9);_0x28e2b9=fns[_0x49ab9b(0x35e)](_0x28e2b9,0x1)){const _0x2315ee=fns[_0x49ab9b(0x23f)](_0x28e2b9,_0x49ab9b(0x20f));while(_0x2a8caa<_0x538055[_0x49ab9b(0x1c3)]){const _0x29a5af=new Date(_0x538055[_0x2a8caa][_0x49ab9b(0x26c)]);if(fns[_0x49ab9b(0x2be)](_0x29a5af,_0x28e2b9))_0x2a8caa++;else{if(_0x538055[_0x2a8caa][_0x49ab9b(0x26c)][_0x49ab9b(0x25b)](_0x2315ee)){const _0x107a1e=_0x538055[_0x2a8caa];if(_0x107a1e['type']===_0x49ab9b(0x291)&&(_0x107a1e[_0x49ab9b(0x33d)][_0x49ab9b(0x25b)](_0x49ab9b(0x259))||_0x107a1e[_0x49ab9b(0x33d)]['includes'](_0x49ab9b(0x249)))){const _0x43c63a=_0x107a1e[_0x49ab9b(0x33d)][_0x49ab9b(0x205)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x43c63a){const [,_0x24cc80,_0x250949,_0x152f09,_0x28dd3d]=_0x43c63a,_0x739bcc=_0x24cc80[_0x49ab9b(0x25b)]('/'+config['basecoin'])?_0x24cc80['split']('/')[0x0]:_0x24cc80['split']('/')[0x1],_0x3d9034=calculatePnL(_0x24cc80,_0x739bcc,_0x250949,parseFloat(_0x152f09),parseFloat(_0x28dd3d),_0x36b780);_0x55ec4b+=_0x3d9034;}}_0x2a8caa++;}else break;}}dbPerformance[_0x49ab9b(0x379)]('data')[_0x49ab9b(0x29a)]({'date':_0x2315ee})[_0x49ab9b(0x1f3)]({'pnl':_0x55ec4b})[_0x49ab9b(0x2d9)]();}dbCoinResults['set'](_0x49ab9b(0x313),_0x36b780)[_0x49ab9b(0x2d9)](),logger['debug'](_0x49ab9b(0x33f));const _0xc9dae5=getNormalizedPerformance();emitPerformance(_0xc9dae5);}async function updatePnL(_0xf6ada2){const _0x570f1f=_0x7bd7fc,{symbol:_0x147c27,coin:_0x57d54e,amount:_0x133d2a,price:_0xa2e9e1,side:_0x270229,reverse:_0x231aeb}=_0xf6ada2;let _0x96b949=dbCoinResults[_0x570f1f(0x379)]('coins')[_0x570f1f(0x217)]();const _0x170636=calculatePnL(_0x147c27,_0x57d54e,_0x270229,_0x133d2a,_0xa2e9e1,_0x96b949);dbCoinResults[_0x570f1f(0x29b)](_0x570f1f(0x313),_0x96b949)[_0x570f1f(0x2d9)]();const _0x33b938=getTimeStamp()['split']('\x20')[0x0];let _0x3e59ba=dbPerformance[_0x570f1f(0x379)](_0x570f1f(0x20a))[_0x570f1f(0x29a)]({'date':_0x33b938})['value']();_0x3e59ba?(_0x3e59ba['pnl']+=_0x170636,dbPerformance[_0x570f1f(0x379)](_0x570f1f(0x20a))[_0x570f1f(0x29a)]({'date':_0x33b938})[_0x570f1f(0x1f3)](_0x3e59ba)[_0x570f1f(0x2d9)]()):await storePerformance();const _0xd980e7=getNormalizedPerformance();emitPerformance(_0xd980e7);}async function validate24hChanges(){const _0x3b18a8=_0x7bd7fc;for(const _0x708bda of currentCoins){if(_0x708bda[_0x3b18a8(0x334)]!=config[_0x3b18a8(0x290)]){let _0x446eb4;_0x708bda[_0x3b18a8(0x256)]?_0x446eb4=formatResult((0x1/(gChange[_0x708bda[_0x3b18a8(0x1d9)]]/0x64+0x1)-0x1)*0x64,0x3):_0x446eb4=gChange[_0x708bda['symbol']],_0x446eb4<config[_0x3b18a8(0x20e)]&&(logHistory(_0x3b18a8(0x1c5),_0x708bda[_0x3b18a8(0x334)]+_0x3b18a8(0x1b1)+_0x446eb4+'%'),logHistory(_0x3b18a8(0x1c5),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x3b18a8(0x33b)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x440125,_0x2f03a7){const _0xe87a44=_0x7bd7fc;if(!_0x440125)return!![];const _0x581f20=_0x2f03a7[_0xe87a44(0x26b)]('.'),_0x2a8276=_0x440125[_0xe87a44(0x26b)]('.');for(var _0x4e7067=0x0;_0x4e7067<_0x2a8276[_0xe87a44(0x1c3)];_0x4e7067++){const _0x38a466=~~_0x2a8276[_0x4e7067],_0x145200=~~_0x581f20[_0x4e7067];if(_0x38a466<_0x145200)return!![];if(_0x38a466>_0x145200)return![];}return![];}async function oneTimeMigration(){const _0x13fac5=_0x7bd7fc;let _0x262a72=dbLogs[_0x13fac5(0x379)]('version')[_0x13fac5(0x217)]();if(isOlderVersion(_0x262a72,'2.3.5')){let _0x1ce828=[];const _0x89c02c=dbLogs[_0x13fac5(0x379)](_0x13fac5(0x2e8))[_0x13fac5(0x217)]();_0x89c02c[_0x13fac5(0x1f1)](_0x4dd579=>{const _0x551592=_0x13fac5;_0x1ce828[_0x551592(0x31c)]({'time':_0x4dd579[_0x551592(0x26c)],'type':_0x4dd579[_0x551592(0x1d3)],'event':_0x4dd579[_0x551592(0x33d)]});}),dbLogs['get']('logs')[_0x13fac5(0x1f3)](_0x1ce828)[_0x13fac5(0x2d9)]();}let _0x4816c9=dbConfig[_0x13fac5(0x379)](_0x13fac5(0x2ee))[_0x13fac5(0x217)]();if(isOlderVersion(_0x4816c9,_0x13fac5(0x2bd))){let _0x497c35=dbConfig['get']('bot')['find']({'botID':botID})[_0x13fac5(0x217)]();if(_0x497c35){let _0x1176bf=[];_0x497c35[_0x13fac5(0x284)][_0x13fac5(0x1f1)](_0xc08484=>{const _0xf70b26=_0x13fac5;_0x1176bf[_0xf70b26(0x31c)]({'coin':_0xc08484[_0xf70b26(0x334)],'number':_0xc08484['startnumber'],'price':_0xc08484[_0xf70b26(0x22c)]}),delete _0xc08484['startnumber'],delete _0xc08484[_0xf70b26(0x22c)];});if(_0x1176bf['length']!==0x0)fs[_0x13fac5(0x2b5)](configbackuppath+(_0x13fac5(0x226)+botID+_0x13fac5(0x371)),JSON[_0x13fac5(0x2d2)](_0x1176bf,null,0x4),function(_0x3c2821){if(_0x3c2821){}});const _0x34f7ca=(_0x1e6d5f,_0x35a5c0)=>{const _0xefde2d=_0x13fac5;let _0x59b979=[];_0x35a5c0[_0xefde2d(0x1f1)](_0x1d55e3=>{const _0x3f1585=_0xefde2d,_0x17a7db=_0x1e6d5f[_0x3f1585(0x29a)](_0x4ec1e3=>_0x4ec1e3['coin']==_0x1d55e3['coin']);if(!_0x17a7db)_0x59b979[_0x3f1585(0x31c)](_0x1d55e3);});let _0x17e0bb=[];return _0x1e6d5f['forEach'](_0x332029=>{const _0x275000=_0xefde2d,_0x49f694=_0x35a5c0[_0x275000(0x29a)](_0x5c9dd8=>_0x5c9dd8['coin']==_0x332029[_0x275000(0x334)]);if(!_0x49f694||_0x49f694[_0x275000(0x258)]==0x0&&_0x332029[_0x275000(0x258)]!=0x0)_0x17e0bb[_0x275000(0x31c)](_0x332029);}),{'missingDay1':_0x59b979,'notInDay2':_0x17e0bb};},_0x13032f=dbPerformance[_0x13fac5(0x379)](_0x13fac5(0x20a))[_0x13fac5(0x28c)]()['value']();if(_0x13032f[_0x13fac5(0x1c3)]>0x1){const {missingDay1:_0x152e93,notInDay2:_0x281eac}=_0x34f7ca(_0x1176bf,_0x13032f[0x1][_0x13fac5(0x313)]);_0x1176bf=[..._0x1176bf,..._0x152e93],_0x281eac['forEach'](_0x20efb1=>{const _0x27a32b=_0x13fac5;let _0x383244=_0x1176bf[_0x27a32b(0x1f5)](_0x4b5251=>_0x4b5251[_0x27a32b(0x334)]==_0x20efb1[_0x27a32b(0x334)]);_0x383244!=-0x1&&_0x1176bf[_0x27a32b(0x200)](_0x383244,0x1);});}_0x1176bf['sort']((_0x96c0c3,_0x566e38)=>_0x96c0c3[_0x13fac5(0x334)]>_0x566e38[_0x13fac5(0x334)]?0x1:_0x566e38[_0x13fac5(0x334)]>_0x96c0c3[_0x13fac5(0x334)]?-0x1:0x0);let _0xcd3d9b=[{'date':_0x497c35[_0x13fac5(0x323)],'changes':_0x1176bf}];_0x13032f[_0x13fac5(0x1c3)]>0x2&&_0x13032f['forEach']((_0x54b9b3,_0x701163)=>{const _0x5892ab=_0x13fac5;if(_0x701163>0x0&&_0x701163<_0x13032f['length']-0x1){const {missingDay1:_0x59819a,notInDay2:_0x55bf35}=_0x34f7ca(_0x13032f[_0x701163][_0x5892ab(0x313)],_0x13032f[_0x701163+0x1]['coins']);_0x1176bf=[],(_0x59819a[_0x5892ab(0x1c3)]!=0x0||_0x55bf35[_0x5892ab(0x1c3)]!=0x0)&&(_0x59819a['length']!=0x0&&_0x1176bf['push'](..._0x59819a),_0x55bf35[_0x5892ab(0x1c3)]!=0x0&&(_0x55bf35[_0x5892ab(0x1f1)](_0x5bcac0=>{const _0x2656a5=_0x5892ab;_0x5bcac0['number']=-_0x5bcac0[_0x2656a5(0x258)];}),_0x1176bf[_0x5892ab(0x31c)](..._0x55bf35)),_0x1176bf[_0x5892ab(0x204)]((_0xf947d0,_0xbef8f7)=>_0xf947d0[_0x5892ab(0x334)]>_0xbef8f7[_0x5892ab(0x334)]?0x1:_0xbef8f7[_0x5892ab(0x334)]>_0xf947d0[_0x5892ab(0x334)]?-0x1:0x0),_0xcd3d9b[_0x5892ab(0x31c)]({'date':_0x13032f[_0x701163+0x1][_0x5892ab(0x37b)],'changes':_0x1176bf}));}}),dbConfig[_0x13fac5(0x379)](_0x13fac5(0x1cc))[_0x13fac5(0x29a)]({'botID':botID})[_0x13fac5(0x1f3)]({..._0x497c35,'liquidity':_0xcd3d9b})[_0x13fac5(0x2d9)]();}}if(isOlderVersion(_0x4816c9,_0x13fac5(0x2b0))){let _0x4c912e=dbConfig[_0x13fac5(0x379)](_0x13fac5(0x1cc))['find']({'botID':botID})[_0x13fac5(0x217)]();if(_0x4c912e){const _0x2f45bf=_0x4c912e[_0x13fac5(0x2f8)],_0x360ae5=_0x2f45bf?capitalize(_0x2f45bf):_0x13fac5(0x362);dbConfig[_0x13fac5(0x379)](_0x13fac5(0x1cc))[_0x13fac5(0x29a)]({'botID':botID})[_0x13fac5(0x1f3)]({'exchange':_0x360ae5})[_0x13fac5(0x2d9)]();}}if(isOlderVersion(_0x4816c9,'2.6.22')){let _0x1a6ab1=dbConfig[_0x13fac5(0x379)](_0x13fac5(0x1cc))[_0x13fac5(0x29a)]({'botID':botID})[_0x13fac5(0x217)]();if(_0x1a6ab1){const _0x48ba83=_0x1a6ab1[_0x13fac5(0x35c)],_0x232ee2=_0x48ba83?_0x13fac5(0x2a9):![];dbConfig['get'](_0x13fac5(0x1cc))[_0x13fac5(0x29a)]({'botID':botID})['assign']({'marketcapEnabled':_0x232ee2})[_0x13fac5(0x2d9)]();}}if(isOlderVersion(_0x4816c9,_0x13fac5(0x1bc))){let _0x2f8e37=dbConfig['get'](_0x13fac5(0x1cc))[_0x13fac5(0x29a)]({'botID':botID})['value']();if(_0x2f8e37){const _0x26da12=_0x2f8e37[_0x13fac5(0x272)],_0x45e580=_0x26da12?_0x13fac5(0x1e4):![];dbConfig[_0x13fac5(0x379)](_0x13fac5(0x1cc))[_0x13fac5(0x29a)]({'botID':botID})[_0x13fac5(0x1f3)]({'autoliquidity':_0x45e580})[_0x13fac5(0x2d9)]();}}let _0x5670f1=dbPerformance[_0x13fac5(0x379)](_0x13fac5(0x2ee))['value']();isOlderVersion(_0x5670f1,'2.3.5')&&setStartDatePerformance();let _0x52f3ad=dbCoinResults[_0x13fac5(0x379)](_0x13fac5(0x2ee))[_0x13fac5(0x217)]();if(isOlderVersion(_0x52f3ad,_0x13fac5(0x239))){let _0x36f51e=dbCoinResults[_0x13fac5(0x379)]('coins')[_0x13fac5(0x217)]();if(_0x36f51e[_0x13fac5(0x1c3)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x4e0d5d=_0x7bd7fc;dbConfig['set'](_0x4e0d5d(0x2ee),serverversion)[_0x4e0d5d(0x2d9)](),dbPerformance[_0x4e0d5d(0x29b)]('version',serverversion)[_0x4e0d5d(0x2d9)](),dbLogs[_0x4e0d5d(0x29b)](_0x4e0d5d(0x2ee),serverversion)[_0x4e0d5d(0x2d9)](),dbCoinResults['set'](_0x4e0d5d(0x2ee),serverversion)[_0x4e0d5d(0x2d9)]();}function getConfiguration(_0x25c48c){const _0x476a29=_0x7bd7fc;let _0xcb94ab=dbConfig['get'](_0x476a29(0x1cc))[_0x476a29(0x29a)]({'botID':_0x25c48c})['value']();if(_0xcb94ab){let _0x5c7926=![];typeof _0xcb94ab[_0x476a29(0x350)]==_0x476a29(0x32a)&&(_0xcb94ab={..._0xcb94ab,'threshold':Number(_0xcb94ab[_0x476a29(0x350)])},_0x5c7926=!![]),_0xcb94ab['change24h']==undefined&&(_0xcb94ab={..._0xcb94ab,'change24h':-0x14},_0x5c7926=!![]),_0xcb94ab[_0x476a29(0x2a6)]==undefined&&(_0xcb94ab={..._0xcb94ab,'fiat':_0x476a29(0x36b)},_0x5c7926=!![]),_0xcb94ab[_0x476a29(0x1d6)]==undefined&&(_0xcb94ab={..._0xcb94ab,'onepagemode':settings[_0x476a29(0x1d6)]},_0x5c7926=!![]),_0xcb94ab[_0x476a29(0x263)]==undefined&&(_0xcb94ab={..._0xcb94ab,'colorscheme':'red_yellow_blue'},_0x5c7926=!![]),_0xcb94ab[_0x476a29(0x272)]==undefined&&(_0xcb94ab={..._0xcb94ab,'autoliquidity':_0x476a29(0x1e4)},_0x5c7926=!![]),_0xcb94ab[_0x476a29(0x347)]==undefined&&(_0xcb94ab={..._0xcb94ab,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x5c7926=!![]),_0xcb94ab[_0x476a29(0x35c)]==undefined&&(_0xcb94ab={..._0xcb94ab,'marketcapEnabled':![]},_0x5c7926=!![]),_0xcb94ab['sandbox']==undefined&&(_0xcb94ab={..._0xcb94ab,'sandbox':![]},_0x5c7926=!![]),_0x5c7926&&(_0xcb94ab={'botID':_0xcb94ab[_0x476a29(0x278)],'exchange':_0xcb94ab['exchange'],'apiKey':_0xcb94ab['apiKey'],'apiSecret':_0xcb94ab[_0x476a29(0x2fc)],'apiPassword':_0xcb94ab[_0x476a29(0x27d)],'basecoin':_0xcb94ab[_0x476a29(0x290)],'botname':_0xcb94ab[_0x476a29(0x246)],'showname':_0xcb94ab['showname'],'threshold':_0xcb94ab[_0x476a29(0x350)],'ordertype':_0xcb94ab[_0x476a29(0x322)],'timeout':_0xcb94ab[_0x476a29(0x299)],'fiat':_0xcb94ab[_0x476a29(0x2a6)],'startdate':_0xcb94ab[_0x476a29(0x323)],'recreate':_0xcb94ab['recreate'],'timeshift':_0xcb94ab[_0x476a29(0x1f6)],'onepagemode':_0xcb94ab['onepagemode'],'headless':_0xcb94ab[_0x476a29(0x295)],'cooldown':_0xcb94ab['cooldown'],'change24h':_0xcb94ab[_0x476a29(0x20e)],'emojibuy':_0xcb94ab[_0x476a29(0x312)],'emojisell':_0xcb94ab[_0x476a29(0x270)],'colorscheme':_0xcb94ab[_0x476a29(0x263)],'marketcapApi':_0xcb94ab[_0x476a29(0x347)],'marketcapEnabled':_0xcb94ab['marketcapEnabled'],'sandbox':_0xcb94ab[_0x476a29(0x30a)],'portfolio':_0xcb94ab['portfolio'],'autoliquidity':_0xcb94ab[_0x476a29(0x272)],'liquidity':_0xcb94ab[_0x476a29(0x20c)],'openOrders':_0xcb94ab['openOrders']},dbConfig[_0x476a29(0x379)](_0x476a29(0x1cc))['remove']()[_0x476a29(0x2d9)](),dbConfig['get'](_0x476a29(0x1cc))['push'](_0xcb94ab)[_0x476a29(0x2d9)]());}else _0xcb94ab={'botID':_0x25c48c,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x476a29(0x1cd)+_0x25c48c,'showname':![],'threshold':0x3,'ordertype':_0x476a29(0x31b),'timeout':0x14,'fiat':_0x476a29(0x36b),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x476a29(0x1f6)],'onepagemode':settings[_0x476a29(0x1d6)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x476a29(0x347)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x476a29(0x1e4),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xcb94ab;}function emittedConfiguration(){const _0x5b093e=_0x7bd7fc;let _0x2bcb50;if(config[_0x5b093e(0x2c2)]=='')_0x2bcb50={...config,'configstate':'initial'};else config[_0x5b093e(0x2c2)]==_0x5b093e(0x324)?_0x2bcb50={...config,'configstate':_0x5b093e(0x330)}:(_0x2bcb50={...config,'apiKey':_0x5b093e(0x289),'apiSecret':_0x5b093e(0x289)},config[_0x5b093e(0x27d)]&&(_0x2bcb50[_0x5b093e(0x27d)]=_0x5b093e(0x289)));return _0x2bcb50[_0x5b093e(0x337)]=enableFiatToggle,_0x2bcb50;}function getSettings(){const _0x245e67=_0x7bd7fc;return dbSettings[_0x245e67(0x379)](_0x245e67(0x2e4))[_0x245e67(0x217)]();}function getSecure(){const _0x2bef94=_0x7bd7fc;return dbSecure[_0x2bef94(0x379)](_0x2bef94(0x318))[_0x2bef94(0x217)]()||{};}function updateTimeshift(_0x579de1){const _0x21b472=_0x7bd7fc;let _0xd417b3=dbConfig[_0x21b472(0x379)](_0x21b472(0x1cc))[_0x21b472(0x29a)]({'botID':botID})[_0x21b472(0x217)]();_0xd417b3&&dbConfig[_0x21b472(0x379)](_0x21b472(0x1cc))[_0x21b472(0x29a)]({'botID':botID})[_0x21b472(0x1f3)]({'timeshift':_0x579de1})['write'](),config['timeshift']=_0x579de1,proxyEmit(_0x21b472(0x2d6),emittedConfiguration());}function updateOnepagemode(_0x43cb19){const _0x5482fb=_0x7bd7fc;let _0x3a8ec8=dbConfig[_0x5482fb(0x379)](_0x5482fb(0x1cc))[_0x5482fb(0x29a)]({'botID':botID})[_0x5482fb(0x217)]();_0x3a8ec8&&dbConfig[_0x5482fb(0x379)](_0x5482fb(0x1cc))[_0x5482fb(0x29a)]({'botID':botID})[_0x5482fb(0x1f3)]({'onepagemode':_0x43cb19})[_0x5482fb(0x2d9)](),config[_0x5482fb(0x1d6)]=_0x43cb19,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x1b3a02){const _0x308e2c=_0x7bd7fc,_0x344b88=_0x1b3a02?!![]:![];let _0x3e6a63=dbConfig[_0x308e2c(0x379)](_0x308e2c(0x1cc))[_0x308e2c(0x29a)]({'botID':botID})['value']();_0x3e6a63&&dbConfig[_0x308e2c(0x379)](_0x308e2c(0x1cc))[_0x308e2c(0x29a)]({'botID':botID})[_0x308e2c(0x1f3)]({'marketcapApi':_0x344b88})[_0x308e2c(0x2d9)](),config[_0x308e2c(0x347)]=_0x344b88,getMarketCap(),proxyEmit(_0x308e2c(0x2d6),emittedConfiguration());}async function storeConfiguration(_0xabe8a4){const _0x35f470=_0x7bd7fc;logger[_0x35f470(0x27a)]('Saving\x20configuration');_0xabe8a4[_0x35f470(0x268)]&&delete _0xabe8a4[_0x35f470(0x268)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x52ef0c=![],_0x260854=![],_0xcaa1a2=[];_0xabe8a4[_0x35f470(0x284)]['forEach'](_0xa19423=>{const _0x32ccd3=_0x35f470;if(!_0xa19423['excluded']&&_0xa19423['coin']!=_0xabe8a4[_0x32ccd3(0x290)])_0xcaa1a2[_0x32ccd3(0x31c)](_0xa19423[_0x32ccd3(0x1d9)]);}),_0xcaa1a2['forEach'](_0x57ab93=>{const _0x10363e=_0x35f470,_0x4fcdb5=currentCoins[_0x10363e(0x29a)](_0x4466eb=>_0x4466eb['symbol']==_0x57ab93);!_0x4fcdb5&&(_0x52ef0c=!![]);}),currentCoins[_0x35f470(0x1f1)](_0x48ec15=>{const _0xa9c76a=_0x35f470;if(_0x48ec15[_0xa9c76a(0x334)]!=config['basecoin']){const _0x24a251=_0xcaa1a2[_0xa9c76a(0x29a)](_0xa0105f=>_0xa0105f==_0x48ec15[_0xa9c76a(0x1d9)]);!_0x24a251&&(_0x52ef0c=!![]);}}),_0xabe8a4[_0x35f470(0x284)][_0x35f470(0x1f1)](_0x4164e7=>{const _0x351d6c=_0x35f470,_0x4dbe75=config[_0x351d6c(0x284)][_0x351d6c(0x29a)](_0x27bbed=>_0x27bbed['coin']==_0x4164e7[_0x351d6c(0x334)]);if(_0x4dbe75&&_0x4164e7[_0x351d6c(0x2ce)]!=_0x4dbe75['offset'])_0x260854=!![];});let _0x14f229=dbConfig['get'](_0x35f470(0x1cc))[_0x35f470(0x29a)]({'botID':botID})[_0x35f470(0x217)]();_0xabe8a4={..._0xabe8a4,'apiKey':decryptRSA(secure['privateKey'],_0xabe8a4[_0x35f470(0x2c2)]),'apiSecret':decryptRSA(secure['privateKey'],_0xabe8a4[_0x35f470(0x2fc)])};_0xabe8a4[_0x35f470(0x27d)]&&(_0xabe8a4[_0x35f470(0x27d)]=decryptRSA(secure[_0x35f470(0x1c4)],_0xabe8a4[_0x35f470(0x27d)]));let _0x378b52=![];if(_0x14f229){_0xabe8a4[_0x35f470(0x2c2)]==_0x35f470(0x289)?_0xabe8a4[_0x35f470(0x2c2)]=config[_0x35f470(0x2c2)]:_0x378b52=!![];_0xabe8a4[_0x35f470(0x2fc)]==_0x35f470(0x289)?_0xabe8a4[_0x35f470(0x2fc)]=config[_0x35f470(0x2fc)]:_0x378b52=!![];if(_0xabe8a4['apiPassword']==_0x35f470(0x289))_0xabe8a4[_0x35f470(0x27d)]=config[_0x35f470(0x27d)];else{if(_0xabe8a4[_0x35f470(0x27d)])_0x378b52=!![];}dbConfig[_0x35f470(0x379)](_0x35f470(0x1cc))[_0x35f470(0x29a)]({'botID':botID})[_0x35f470(0x1f3)](_0xabe8a4)['write']();}else dbConfig[_0x35f470(0x379)](_0x35f470(0x1cc))[_0x35f470(0x31c)](_0xabe8a4)[_0x35f470(0x2d9)](),_0x378b52=!![],process[_0x35f470(0x309)]({'status':'enabled','live':_0x35f470(0x1e0)},_0xf9ed91=>{});process['send']({'botname':_0xabe8a4[_0x35f470(0x246)]},_0x157ea7=>{}),config={..._0xabe8a4},updateBotManager(),proxyEmit(_0x35f470(0x28e)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x378b52)await reset(!![]);else _0x52ef0c||_0x260854?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x587421){const _0x2ad032=_0x7bd7fc,_0x533f37={...config,'headless':_0x587421[_0x2ad032(0x295)]};let _0x3b16fa=dbConfig['get'](_0x2ad032(0x1cc))[_0x2ad032(0x29a)]({'botID':botID})[_0x2ad032(0x217)]();_0x3b16fa&&dbConfig[_0x2ad032(0x379)](_0x2ad032(0x1cc))['find']({'botID':botID})[_0x2ad032(0x1f3)](_0x533f37)['write'](),config={..._0x533f37},updateBotManager(),proxyEmit(_0x2ad032(0x2d6),emittedConfiguration());}async function storeFiat(_0x3ced12){const _0x34eefd=_0x7bd7fc,_0x41f02f={...config,'fiat':_0x3ced12};let _0x25abbe=dbConfig[_0x34eefd(0x379)](_0x34eefd(0x1cc))[_0x34eefd(0x29a)]({'botID':botID})[_0x34eefd(0x217)]();_0x25abbe&&dbConfig[_0x34eefd(0x379)](_0x34eefd(0x1cc))[_0x34eefd(0x29a)]({'botID':botID})[_0x34eefd(0x1f3)](_0x41f02f)[_0x34eefd(0x2d9)](),config={..._0x41f02f},proxyEmit(_0x34eefd(0x2d6),emittedConfiguration());}function resetHistory(){const _0x57b4c=_0x7bd7fc;logger[_0x57b4c(0x250)](_0x57b4c(0x20d));try{if(fs[_0x57b4c(0x27e)](path[_0x57b4c(0x332)](configpath,'bot-'+botID+'-events.json')))fs['unlinkSync'](path['join'](configpath,_0x57b4c(0x1fb)+botID+_0x57b4c(0x341)));if(fs[_0x57b4c(0x27e)](path[_0x57b4c(0x332)](configpath,'bot-'+botID+'-performance.json')))fs[_0x57b4c(0x345)](path[_0x57b4c(0x332)](configpath,_0x57b4c(0x1fb)+botID+_0x57b4c(0x2cc)));if(fs[_0x57b4c(0x27e)](path[_0x57b4c(0x332)](configpath,_0x57b4c(0x1fb)+botID+_0x57b4c(0x298))))fs[_0x57b4c(0x345)](path[_0x57b4c(0x332)](configpath,_0x57b4c(0x1fb)+botID+_0x57b4c(0x298)));}catch(_0x3e5914){if(_0x3e5914)logger['full'](_0x57b4c(0x2b8),_0x3e5914);}const _0x526d99=getDate();let _0x2fdbce=[];currentCoins[_0x57b4c(0x1f1)](_0x49a327=>{const _0x11c57d=_0x57b4c;_0x2fdbce[_0x11c57d(0x31c)]({'coin':_0x49a327[_0x11c57d(0x334)],'number':_0x49a327[_0x11c57d(0x258)],'price':_0x49a327['last']});});let _0x10ff42=dbConfig[_0x57b4c(0x379)](_0x57b4c(0x1cc))[_0x57b4c(0x29a)]({'botID':botID})[_0x57b4c(0x217)]();_0x10ff42&&(dbConfig['get'](_0x57b4c(0x1cc))[_0x57b4c(0x29a)]({'botID':botID})[_0x57b4c(0x1f3)]({'liquidity':[{'date':_0x526d99,'changes':_0x2fdbce}]})[_0x57b4c(0x2d9)](),config[_0x57b4c(0x20c)]=[]),restartBot(!![]);}function noslash(_0x39ddaf){const _0x37141b=_0x7bd7fc;return _0x39ddaf[_0x37141b(0x32c)]('/','');}function updateHighestFee(_0x3aaa15){const _0x24ae08=_0x7bd7fc;if(_0x3aaa15[_0x24ae08(0x256)]){let _0x93629={'filled':_0x3aaa15[_0x24ae08(0x243)]*_0x3aaa15[_0x24ae08(0x2cd)],'amount':_0x3aaa15[_0x24ae08(0x243)]*_0x3aaa15[_0x24ae08(0x2cd)],'side':_0x3aaa15[_0x24ae08(0x21a)]==_0x24ae08(0x1ed)?_0x24ae08(0x302):_0x24ae08(0x1ed),'price':0x1/_0x3aaa15['price']};_0x3aaa15={..._0x3aaa15,..._0x93629};}const _0x15af34=defaultFee*_0x3aaa15[_0x24ae08(0x243)]*_0x3aaa15[_0x24ae08(0x2cd)];lastFees[_0x24ae08(0x29e)][_0x24ae08(0x1c3)]===0x14&&lastFees['recent20'][_0x24ae08(0x271)](),lastFees[_0x24ae08(0x29e)][_0x24ae08(0x31c)](_0x15af34),lastFees[_0x24ae08(0x340)]=Math[_0x24ae08(0x1ce)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x3bd1b8){const _0x5dc86f=_0x7bd7fc;logger['debug'](_0x5dc86f(0x2fd)+_0x3bd1b8[_0x5dc86f(0x1d9)]+_0x5dc86f(0x28f)+_0x3bd1b8['status']+'\x20|\x20'+_0x3bd1b8['filled']+'\x20/\x20'+_0x3bd1b8[_0x5dc86f(0x1ef)]+_0x5dc86f(0x28f)+_0x3bd1b8['id']);let _0x533c7e=_0x3bd1b8['status'],_0x44a15f=![];currentCoins['forEach'](_0x5a8d05=>{const _0x3f8c91=_0x5dc86f;_0x5a8d05[_0x3f8c91(0x1d9)]==_0x3bd1b8[_0x3f8c91(0x1d9)]&&(_0x44a15f=!![]);});if(!_0x44a15f)return;const _0x2b8bbe=currentCoins[_0x5dc86f(0x29a)](_0x3d4bab=>_0x3d4bab['symbol']==_0x3bd1b8[_0x5dc86f(0x1d9)]),_0x4aa21b=_0x2b8bbe[_0x5dc86f(0x334)],_0x5aaa6e=_0x57136b=>{const _0x3aa040=_0x5dc86f,_0x39e0f0=currentCoins[_0x3aa040(0x29a)](_0x4f4db4=>_0x4f4db4['symbol']==_0x3bd1b8['symbol']);if(_0x39e0f0)_0x39e0f0[_0x3aa040(0x2dc)]=_0x57136b;};let _0x420c31=![];for(const _0x38692c of lastOrders){const _0x5a05d3=0x64,_0x1ceb4f=0x1388;let _0x270eb7=0x0;while(!_0x38692c[_0x5dc86f(0x2e3)]&&_0x270eb7*_0x5a05d3<_0x1ceb4f){_0x270eb7++,await sleep(_0x5a05d3);}if(_0x270eb7>0x0)logger[_0x5dc86f(0x27a)]('Waited\x20'+_0x270eb7*_0x5a05d3/0x3e8+_0x5dc86f(0x2e0));_0x38692c[_0x5dc86f(0x2e3)]==_0x3bd1b8['id']&&(_0x420c31=!![]);}if(_0x533c7e==_0x5dc86f(0x357)){_0x5aaa6e(_0x5dc86f(0x357));if(_0x3bd1b8[_0x5dc86f(0x243)]>0x0&&_0x3bd1b8[_0x5dc86f(0x243)]<_0x3bd1b8[_0x5dc86f(0x1ef)]){if(_0x420c31){setBlockTransactionDetection(!![]),logger[_0x5dc86f(0x27a)](_0x5dc86f(0x35a)+_0x3bd1b8[_0x5dc86f(0x243)]+')\x20known\x20order:\x20'+_0x3bd1b8['id']);const _0x194cfd=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4aa21b);[currentCoins,currentCoinsAll]=_0x194cfd,setBlockTransactionDetection(![]);}else logger['debug'](_0x5dc86f(0x35a)+_0x3bd1b8['filled']+_0x5dc86f(0x31f)+_0x3bd1b8['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x533c7e==_0x5dc86f(0x1d4)){_0x5aaa6e(_0x5dc86f(0x1d4)),lastOrders=lastOrders[_0x5dc86f(0x1ad)](_0x9954f6=>_0x9954f6[_0x5dc86f(0x1d9)]!=_0x3bd1b8[_0x5dc86f(0x1d9)]);const _0x2ffd3b=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2ffd3b,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x533c7e==_0x5dc86f(0x37e)){if(lastOrders)for(const _0x58e8e4 of lastOrders){if(_0x58e8e4[_0x5dc86f(0x2e3)]==_0x3bd1b8['id']){logger['debug']('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x3bd1b8['id']),_0x420c31=!![];if(_0x58e8e4[_0x5dc86f(0x243)]==0x0){setBlockTransactionDetection(!![]),logger[_0x5dc86f(0x27a)](_0x5dc86f(0x34b)+_0x3bd1b8['id']);if(_0x3bd1b8[_0x5dc86f(0x2e6)])_0x58e8e4[_0x5dc86f(0x2cd)]=_0x3bd1b8[_0x5dc86f(0x2e6)];else{if(_0x3bd1b8[_0x5dc86f(0x2cd)])_0x58e8e4[_0x5dc86f(0x2cd)]=_0x3bd1b8['price'];else{}}_0x58e8e4['filled']=_0x3bd1b8[_0x5dc86f(0x243)],updateHighestFee(_0x58e8e4);const _0x2bb7e1=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4aa21b);[currentCoins,currentCoinsAll]=_0x2bb7e1,setBlockTransactionDetection(![]),await validateOrders(),_0x5aaa6e(_0x5dc86f(0x243)),_0x58e8e4['fee']={'currency':_0x3bd1b8['fee']?_0x3bd1b8[_0x5dc86f(0x25f)]['currency']:null,'cost':_0x3bd1b8[_0x5dc86f(0x25f)]?_0x3bd1b8[_0x5dc86f(0x25f)][_0x5dc86f(0x37a)]:0x0},await updatePnL(_0x58e8e4);}}}!_0x420c31&&(logger[_0x5dc86f(0x27a)](_0x5dc86f(0x254)+_0x3bd1b8['id']),_0x5aaa6e(_0x5dc86f(0x243)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0xe06017=JSON[_0x5dc86f(0x2c1)](lastBalances['portfolio']);const _0x390fbf=_0xe06017[_0x5dc86f(0x29a)](_0x5f5af7=>_0x5f5af7['symbol']==_0x3bd1b8[_0x5dc86f(0x1d9)]);if(_0x390fbf){if(_0x533c7e==_0x5dc86f(0x357))_0x390fbf['orderstatus']=_0x390fbf['orderstatus']=='filled'?'filled':_0x5dc86f(0x357);else{if(_0x533c7e=='canceled')_0x390fbf[_0x5dc86f(0x2dc)]=_0x390fbf['orderstatus']=='filled'?'filled':'canceled';else _0x533c7e==_0x5dc86f(0x37e)&&(_0x390fbf[_0x5dc86f(0x2dc)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x5dc86f(0x2d2)](_0xe06017)},proxyEmit(_0x5dc86f(0x1c0),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x29944f=_0x7bd7fc;await getOpenOrders();let _0x13e84a=![];currentCoins[_0x29944f(0x1f1)](_0x58b24b=>{const _0x23957f=_0x29944f;_0x13e84a=allOpenOrders[_0x23957f(0x29a)](_0x340f6f=>_0x340f6f[_0x23957f(0x1d9)]==_0x58b24b[_0x23957f(0x1d9)]),_0x58b24b[_0x23957f(0x2dc)]=_0x13e84a?'open':_0x23957f(0x1ae);});}async function fetchBalance(_0x4cf41c=!![]){const _0x50c8ee=_0x7bd7fc;let _0x3e3770,_0x45aa7d,_0x3a33e7,_0x22a1bb=0x0;while(!_0x45aa7d&&_0x22a1bb<maxRetries){try{return _0x3e3770=await exchange[_0x50c8ee(0x37c)](),_0x45aa7d=_0x3e3770[_0x50c8ee(0x31e)],_0x45aa7d;}catch(_0x259e58){_0x3a33e7=_0x259e58,_0x22a1bb++,await sleep(retryInterval);}}return!_0x4cf41c?handleErrorNoStop(_0x3a33e7,_0x50c8ee(0x325)):await handleError(_0x3a33e7,_0x50c8ee(0x325)),![];}async function getCoins(_0x318448=0x0,_0x23dc3c=!![],_0x4c227c=config[_0x7bd7fc(0x290)],_0x39aebb){const _0x4867a3=_0x7bd7fc;let _0x32d6c9=[],_0x16b9c9=[],_0x741929=[],_0x306b9d;if(_0x318448)await sleep(_0x318448);if(botPaused)return[currentCoins,currentCoinsAll];let _0x1d5a28=![],_0x20367b=0x0,_0x5e6991,_0x9874db;_0x39aebb&&(_0x5e6991=currentCoins[_0x4867a3(0x29a)](_0x35158b=>_0x35158b[_0x4867a3(0x334)]==_0x39aebb),_0x5e6991&&(_0x9874db=_0x5e6991['prevnumber'],delete _0x5e6991[_0x4867a3(0x1ab)]));while(!_0x1d5a28){_0x306b9d=await fetchBalance(_0x23dc3c);if(_0x306b9d){if(_0x39aebb){if(_0x306b9d[_0x39aebb]!=_0x9874db)logger[_0x4867a3(0x27a)](_0x4867a3(0x2b4)+_0x39aebb+':\x20'+_0x306b9d[_0x39aebb]+'\x20('+_0x9874db+')'),_0x1d5a28=!![];else{logger[_0x4867a3(0x27a)](_0x4867a3(0x373)+_0x39aebb+':\x20'+_0x306b9d[_0x39aebb]+'\x20('+_0x9874db+')'),_0x20367b++;if(_0x20367b<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x4867a3(0x27a)](_0x4867a3(0x2a1)+_0x20367b+'\x20attempts');break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x58e01d,_0xdf3b43]of Object['entries'](_0x306b9d)){_0x741929['push'](_0x58e01d);}config[_0x4867a3(0x284)]['forEach'](_0x2c5e7a=>{const _0x32e96a=_0x4867a3;!_0x741929[_0x32e96a(0x25b)](_0x2c5e7a[_0x32e96a(0x334)])&&(_0x306b9d[_0x2c5e7a['coin']]=0x0);});if(_0x4c227c=='')for(const [_0x28cfb0,_0xd1274d]of Object[_0x4867a3(0x288)](_0x306b9d)){_0xd1274d!=0x0&&_0x32d6c9['push']({'coin':_0x28cfb0});}else for(const [_0x39344e,_0x44732c]of Object[_0x4867a3(0x288)](_0x306b9d)){const _0x3b0fe8=config['portfolio'][_0x4867a3(0x29a)](_0x5ea6a2=>_0x5ea6a2[_0x4867a3(0x334)]==_0x39344e),_0x4bae91=_0x39344e+'/'+_0x4c227c,_0x21678e=_0x4c227c+'/'+_0x39344e,_0x17c554=currentCoins[_0x4867a3(0x29a)](_0xba6dff=>_0xba6dff[_0x4867a3(0x334)]==_0x39344e);if((_0x44732c!=0x0||_0x3b0fe8)&&(allSymbols['includes'](_0x4bae91)||_0x39344e==_0x4c227c))_0x17c554?_0x32d6c9['push']({..._0x17c554,'number':Math[_0x4867a3(0x1ce)](_0x44732c+(_0x3b0fe8&&_0x3b0fe8['offset']||0x0),0x0)}):_0x32d6c9[_0x4867a3(0x31c)]({'coin':_0x39344e,'symbol':_0x4bae91,'reverse':![],'number':Math['max'](_0x44732c+(_0x3b0fe8&&_0x3b0fe8[_0x4867a3(0x2ce)]||0x0),0x0),'orderstatus':_0x4867a3(0x1ae)});else{if((_0x44732c!=0x0||_0x3b0fe8)&&allSymbols[_0x4867a3(0x25b)](_0x21678e))_0x17c554?_0x32d6c9[_0x4867a3(0x31c)]({..._0x17c554,'number':Math[_0x4867a3(0x1ce)](_0x44732c+(_0x3b0fe8&&_0x3b0fe8[_0x4867a3(0x2ce)]||0x0),0x0)}):_0x32d6c9[_0x4867a3(0x31c)]({'coin':_0x39344e,'symbol':_0x21678e,'reverse':!![],'number':Math[_0x4867a3(0x1ce)](_0x44732c+(_0x3b0fe8&&_0x3b0fe8[_0x4867a3(0x2ce)]||0x0),0x0),'orderstatus':_0x4867a3(0x1ae)});else _0x3b0fe8&&_0x32d6c9[_0x4867a3(0x31c)]({'coin':_0x3b0fe8[_0x4867a3(0x334)],'symbol':_0x3b0fe8[_0x4867a3(0x1d9)],'reverse':_0x3b0fe8[_0x4867a3(0x256)],'number':0x0,'orderstatus':'none'});}}return _0x32d6c9['sort']((_0xdeec74,_0x181460)=>_0xdeec74[_0x4867a3(0x1fc)]<_0x181460[_0x4867a3(0x1fc)]?0x1:_0x181460[_0x4867a3(0x1fc)]<_0xdeec74[_0x4867a3(0x1fc)]?-0x1:0x0),_0x16b9c9=cloneDeep(_0x32d6c9),_0x32d6c9=_0x32d6c9[_0x4867a3(0x1ad)](_0x364f97=>{const _0x117818=_0x4867a3,_0x4f2c3e=config[_0x117818(0x284)][_0x117818(0x29a)](_0x3d8fa5=>_0x3d8fa5[_0x117818(0x334)]==_0x364f97['coin']);return _0x4f2c3e&&!_0x4f2c3e['excluded'];}),[_0x32d6c9,_0x16b9c9];}async function getOpenOrders(){const _0xf2bc53=_0x7bd7fc;let _0x5decff;allOpenOrders=[];try{for(const _0x23b5ac of config[_0xf2bc53(0x284)]){!_0x23b5ac[_0xf2bc53(0x1d1)]&&_0x23b5ac[_0xf2bc53(0x334)]!=config[_0xf2bc53(0x290)]&&(_0x5decff=await exchange[_0xf2bc53(0x348)](_0x23b5ac[_0xf2bc53(0x1d9)]),_0x5decff[_0xf2bc53(0x1c3)]>0x0&&allOpenOrders[_0xf2bc53(0x31c)](_0x5decff[0x0]));}}catch(_0x2b0cd4){await handleError(_0x2b0cd4,_0xf2bc53(0x21b));}}async function handleOpenOrders(_0x4f3fe5=0x0){const _0x15f377=_0x7bd7fc;allOpenOrders[_0x15f377(0x1c3)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x4f3fe5==0x0?(logger[_0x15f377(0x27a)](_0x15f377(0x2ae)),_0x4f3fe5++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x15f377(0x27a)](_0x15f377(0x2ba)),validateOrders(_0x15f377(0x238))));}async function testAPI(){const _0x3a85f0=_0x7bd7fc;try{return await exchange[_0x3a85f0(0x37c)](),!![];}catch(_0xb52862){loading[_0x3a85f0(0x2e9)]=!![],_0xb52862[_0x3a85f0(0x32f)]()['toLowerCase']()[_0x3a85f0(0x25b)](_0x3a85f0(0x331))||_0xb52862['toString']()[_0x3a85f0(0x2ac)]()[_0x3a85f0(0x25b)]('request-time')?(logHistory(_0x3a85f0(0x1c5),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading[_0x3a85f0(0x1c5)]=_0x3a85f0(0x230)):handleErrorNoStop(_0xb52862,_0x3a85f0(0x358),!![]),logHistory(_0x3a85f0(0x1c5),_0x3a85f0(0x1fd)),logHistory(_0x3a85f0(0x1c5),_0x3a85f0(0x29c)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger['debug']('Error\x20details:',_0xb52862),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x29e2ac){const _0x4f4e93=_0x7bd7fc;logger[_0x4f4e93(0x27a)]('Test\x20new\x20API');const _0x968551=ccxt[_0x4f4e93(0x213)][_0x29e2ac['exchange'][_0x4f4e93(0x2ac)]()],_0x513250=new _0x968551({'apiKey':_0x29e2ac[_0x4f4e93(0x2c2)],'secret':_0x29e2ac['apiSecret'],'options':{'defaultType':_0x4f4e93(0x1ba)}});if(_0x29e2ac['apiPassword'])_0x513250[_0x4f4e93(0x2ab)]=_0x29e2ac['apiPassword'];if(_0x513250['has']['sandbox'])_0x513250[_0x4f4e93(0x23a)](_0x29e2ac[_0x4f4e93(0x30a)]);if(_0x29e2ac['exchange'][_0x4f4e93(0x2ac)]()==_0x4f4e93(0x2ea))_0x513250['options'][_0x4f4e93(0x242)]=operatorId;try{await _0x513250[_0x4f4e93(0x37c)](),botPaused=![];}catch(_0x5697de){logger[_0x4f4e93(0x27a)](_0x4f4e93(0x23e)+_0x5697de['toString']());throw _0x5697de;}}function cloneDeep(_0x222506){const _0x54d290=_0x7bd7fc;return JSON[_0x54d290(0x2c1)](JSON[_0x54d290(0x2d2)](_0x222506));}async function getPortfolio(_0x2d1030){const _0x1ecac6=_0x7bd7fc;let _0x43e333=[],_0x5d5f4e=[],_0x367c39=[],_0x52755a;_0x2d1030[_0x1ecac6(0x2c2)]=decryptRSA(secure[_0x1ecac6(0x1c4)],_0x2d1030['apiKey']),_0x2d1030['apiSecret']=decryptRSA(secure[_0x1ecac6(0x1c4)],_0x2d1030[_0x1ecac6(0x2fc)]);if(_0x2d1030[_0x1ecac6(0x27d)])_0x2d1030['apiPassword']=decryptRSA(secure['privateKey'],_0x2d1030[_0x1ecac6(0x27d)]);if(_0x2d1030['apiKey']!==_0x1ecac6(0x289)||_0x2d1030['apiSecret']!==_0x1ecac6(0x289)||_0x2d1030['apiPassword']&&_0x2d1030[_0x1ecac6(0x27d)]!==_0x1ecac6(0x289)){if(config[_0x1ecac6(0x2f8)]){if(_0x2d1030['apiKey']==_0x1ecac6(0x289))_0x2d1030[_0x1ecac6(0x2c2)]=config[_0x1ecac6(0x2c2)];if(_0x2d1030[_0x1ecac6(0x2fc)]==_0x1ecac6(0x289))_0x2d1030['apiSecret']=config[_0x1ecac6(0x2fc)];if(_0x2d1030[_0x1ecac6(0x27d)]=='************')_0x2d1030[_0x1ecac6(0x27d)]=config[_0x1ecac6(0x27d)];}try{if(_0x2d1030[_0x1ecac6(0x1bd)])await testNewAPI(_0x2d1030);}catch(_0x3526b6){if(_0x3526b6[_0x1ecac6(0x32f)]()['includes'](_0x1ecac6(0x1ca))){logHistory(_0x1ecac6(0x1c5),'Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error',_0x1ecac6(0x211)+_0x3526b6[_0x1ecac6(0x32f)]()),proxyEmit(_0x1ecac6(0x37d),![]);return;}else{if(_0x3526b6['toString']()['includes']('PermissionDenied')){logHistory('error',_0x1ecac6(0x1d2)),logHistory(_0x1ecac6(0x1c5),_0x1ecac6(0x211)+_0x3526b6[_0x1ecac6(0x32f)]()),proxyEmit('portfolio1',![]);return;}else{logHistory(_0x1ecac6(0x1c5),_0x1ecac6(0x220)+_0x3526b6[_0x1ecac6(0x32f)]()),logger[_0x1ecac6(0x27a)](_0x1ecac6(0x360),_0x3526b6),proxyEmit(_0x1ecac6(0x37d),![]);return;}}}exchange?updateExchange(_0x2d1030[_0x1ecac6(0x2c2)],_0x2d1030[_0x1ecac6(0x2fc)],_0x2d1030[_0x1ecac6(0x27d)]):await initExchange(_0x2d1030[_0x1ecac6(0x2f8)],_0x2d1030['apiKey'],_0x2d1030['apiSecret'],_0x2d1030['apiPassword'],_0x2d1030[_0x1ecac6(0x30a)]);await loadSymbols();const _0x22f90c=await getCoins(0x0,![],_0x2d1030[_0x1ecac6(0x290)]);_0x367c39=cloneDeep(_0x22f90c[0x1]);}else{const _0x249685=await getCoins();_0x367c39=cloneDeep(_0x249685[0x1]);}if(_0x2d1030[_0x1ecac6(0x290)]=='')proxyEmit(_0x1ecac6(0x37d),!![]),proxyEmit(_0x1ecac6(0x355),_0x367c39);else{_0x367c39[_0x1ecac6(0x1f1)](_0x44f2c7=>{const _0x2e1c4a=_0x1ecac6;if(_0x44f2c7['coin']!=_0x2d1030[_0x2e1c4a(0x290)]&&allSymbols[_0x2e1c4a(0x25b)](_0x44f2c7[_0x2e1c4a(0x1d9)]))_0x43e333[_0x2e1c4a(0x31c)](_0x44f2c7['symbol']);});if(_0x43e333[_0x1ecac6(0x1c3)]==0x0)logHistory(_0x1ecac6(0x1c5),_0x1ecac6(0x1b2));else{try{_0x5d5f4e=await getTickers(_0x43e333);}catch(_0x3e7108){logHistory('error',_0x1ecac6(0x22e)),logger[_0x1ecac6(0x27a)](_0x1ecac6(0x360),_0x3e7108),proxyEmit('portfolio1',![]);return;}_0x367c39[_0x1ecac6(0x1f1)](_0x23caca=>{const _0x4db886=_0x1ecac6;_0x23caca['coin']!=_0x2d1030[_0x4db886(0x290)]?_0x5d5f4e[_0x23caca['symbol']]?_0x5d5f4e[_0x23caca[_0x4db886(0x1d9)]]['last']?_0x52755a=_0x23caca['reverse']?0x1/_0x5d5f4e[_0x23caca[_0x4db886(0x1d9)]][_0x4db886(0x1c2)]:_0x5d5f4e[_0x23caca[_0x4db886(0x1d9)]]['last']:_0x52755a=0x0:_0x52755a=0x0:_0x52755a=0x1,_0x23caca['price']=formatResult(_0x52755a,0x8);}),await getMarketCap(_0x367c39),proxyEmit('portfolio1',!![]),proxyEmit(_0x1ecac6(0x355),_0x367c39);}}}function truncateTradeAmount(_0xe019cd,_0x4ead1b){const _0xb13540=_0x7bd7fc;let _0x55d70f=0x0;try{_0x55d70f=exchange[_0xb13540(0x1be)](_0xe019cd,_0x4ead1b);}catch(_0x383751){}return _0x55d70f;}function checkMinimums(_0x298b07){const _0x3e0fd0=_0x7bd7fc;let _0x34c8bd=!![];const _0x4dd649=!_0x298b07[_0x3e0fd0(0x256)]?markets[_0x298b07[_0x3e0fd0(0x1d9)]][_0x3e0fd0(0x1f9)][_0x3e0fd0(0x1ef)][_0x3e0fd0(0x236)]:markets[_0x298b07[_0x3e0fd0(0x1d9)]][_0x3e0fd0(0x1f9)][_0x3e0fd0(0x37a)]['min'],_0x2a18f9=!_0x298b07[_0x3e0fd0(0x256)]?markets[_0x298b07[_0x3e0fd0(0x1d9)]][_0x3e0fd0(0x1f9)][_0x3e0fd0(0x37a)][_0x3e0fd0(0x236)]:markets[_0x298b07[_0x3e0fd0(0x1d9)]][_0x3e0fd0(0x1f9)][_0x3e0fd0(0x1ef)][_0x3e0fd0(0x236)],_0x396959=truncateTradeAmount(_0x298b07['symbol'],_0x298b07['trade']);_0x298b07[_0x3e0fd0(0x285)]=_0x396959;if(Math[_0x3e0fd0(0x1fa)](_0x396959)<_0x4dd649)_0x34c8bd=![];if(Math[_0x3e0fd0(0x1fa)](_0x396959)*_0x298b07[_0x3e0fd0(0x1c2)]<_0x2a18f9)_0x34c8bd=![];let _0x4bdb95='';if(_0x298b07[_0x3e0fd0(0x21a)]==_0x3e0fd0(0x1ed)){let _0x1f9548=config['portfolio']['find'](_0x559120=>_0x559120[_0x3e0fd0(0x334)]==_0x298b07[_0x3e0fd0(0x334)]);_0x1f9548[_0x3e0fd0(0x2ce)]>0x0?Math[_0x3e0fd0(0x1fa)](_0x396959)>_0x298b07[_0x3e0fd0(0x258)]-_0x1f9548[_0x3e0fd0(0x2ce)]&&(_0x34c8bd=![],_0x4bdb95=_0x3e0fd0(0x2d7)+_0x1f9548[_0x3e0fd0(0x334)]+_0x3e0fd0(0x367)):Math[_0x3e0fd0(0x1fa)](_0x396959)>_0x298b07[_0x3e0fd0(0x258)]&&(_0x34c8bd=![]);}if(_0x298b07[_0x3e0fd0(0x21a)]=='buy'){let _0x129ee4=config[_0x3e0fd0(0x284)][_0x3e0fd0(0x29a)](_0x524964=>_0x524964[_0x3e0fd0(0x334)]==config[_0x3e0fd0(0x290)]),_0x184b83=currentCoins[_0x3e0fd0(0x29a)](_0x175b08=>_0x175b08[_0x3e0fd0(0x334)]==config[_0x3e0fd0(0x290)]);_0x129ee4[_0x3e0fd0(0x2ce)]>0x0?Math[_0x3e0fd0(0x1fa)](_0x396959)*_0x298b07[_0x3e0fd0(0x1c2)]>_0x184b83[_0x3e0fd0(0x258)]-_0x129ee4[_0x3e0fd0(0x2ce)]&&(_0x34c8bd=![],_0x4bdb95='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config[_0x3e0fd0(0x290)]+'\x20due\x20to\x20offset'):Math[_0x3e0fd0(0x1fa)](_0x396959)*_0x298b07[_0x3e0fd0(0x1c2)]>_0x184b83[_0x3e0fd0(0x258)]&&(_0x34c8bd=![]);}return!_0x34c8bd&&_0x4bdb95&&!insufficientFundsWarningSent[_0x3e0fd0(0x25b)](_0x298b07[_0x3e0fd0(0x334)])&&(logHistory(_0x3e0fd0(0x223),_0x4bdb95),insufficientFundsWarningSent[_0x3e0fd0(0x31c)](_0x298b07['coin'])),_0x34c8bd;}async function getBalances(_0x555258=!![]){const _0x36babd=_0x7bd7fc;if(botPaused)return;let _0x4dd913=0x0,_0x492d39;const _0x4017a2=config[_0x36babd(0x350)];if(config[_0x36babd(0x295)]&&config[_0x36babd(0x20e)]<0x0)await validate24hChanges();currentCoins[_0x36babd(0x1f1)](_0x56b2d6=>{const _0x2fb426=_0x36babd;if(_0x56b2d6[_0x2fb426(0x334)]!=config['basecoin']){let _0x17a036=gTicker[noslash(_0x56b2d6['symbol'])];_0x492d39=_0x56b2d6[_0x2fb426(0x256)]?0x1/_0x17a036:_0x17a036;}else _0x492d39=0x1;let _0x391df3=_0x56b2d6[_0x2fb426(0x258)]*_0x492d39;_0x4dd913+=_0x391df3,_0x56b2d6[_0x2fb426(0x1c2)]=formatResult(Number(_0x492d39),0x8),_0x56b2d6['value']=_0x391df3;}),currentCoins[_0x36babd(0x1f1)](_0x64b9de=>{const _0x4a1d3e=_0x36babd;let _0x21bd85=config['portfolio'][_0x4a1d3e(0x29a)](_0x3fe607=>_0x3fe607['coin']==_0x64b9de[_0x4a1d3e(0x334)]),_0x51abf4=Number(_0x21bd85[_0x4a1d3e(0x1b0)]),_0x4d9b6c=_0x64b9de[_0x4a1d3e(0x217)]/_0x4dd913*0x64,_0x5c9693=_0x51abf4*_0x4dd913/0x64/_0x64b9de[_0x4a1d3e(0x1c2)]-_0x64b9de[_0x4a1d3e(0x258)];_0x64b9de['distribution']=formatResult(_0x4d9b6c,0x3),_0x64b9de[_0x4a1d3e(0x274)]=formatResult(_0x51abf4,0x3),_0x64b9de[_0x4a1d3e(0x285)]=formatResult(_0x5c9693,0x8),_0x64b9de[_0x4a1d3e(0x21a)]='',_0x64b9de[_0x4a1d3e(0x359)]=![];if(_0x64b9de[_0x4a1d3e(0x334)]!=config[_0x4a1d3e(0x290)]){if(_0x64b9de[_0x4a1d3e(0x1b0)]>_0x51abf4)_0x64b9de[_0x4a1d3e(0x21a)]=_0x4a1d3e(0x1ed),_0x64b9de[_0x4a1d3e(0x359)]=checkMinimums(_0x64b9de);else _0x64b9de[_0x4a1d3e(0x1b0)]<_0x51abf4&&(_0x64b9de[_0x4a1d3e(0x21a)]=_0x4a1d3e(0x302),_0x64b9de[_0x4a1d3e(0x359)]=checkMinimums(_0x64b9de));}_0x64b9de['delta']=_0x64b9de[_0x4a1d3e(0x274)]==0x0?0x270f:_0x64b9de[_0x4a1d3e(0x1b0)]/_0x64b9de[_0x4a1d3e(0x274)]-0x1;if(_0x64b9de[_0x4a1d3e(0x2dc)]=='filled'||_0x64b9de[_0x4a1d3e(0x2dc)]==_0x4a1d3e(0x1d4))_0x64b9de[_0x4a1d3e(0x2dc)]=_0x4a1d3e(0x1ae);}),currentCoins[_0x36babd(0x204)]((_0x15c4f1,_0x52679b)=>_0x15c4f1[_0x36babd(0x1fc)]<_0x52679b[_0x36babd(0x1fc)]?0x1:_0x52679b['delta']<_0x15c4f1['delta']?-0x1:0x0);const _0x3df4e1=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3df4e1[_0x36babd(0x2da)],'usd':_0x3df4e1[_0x36babd(0x378)],'portfolio':JSON[_0x36babd(0x2d2)](currentCoins),'threshold':_0x4017a2},proxyEmit(_0x36babd(0x1c0),{'serverversion':serverversion,'balances':lastBalances});if(_0x555258){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x4017a2});else lockOrders==ORDERS[_0x36babd(0x329)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x4017a2});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x579ada=getNormalizedPerformance();getStartingBalances(_0x579ada),emitPerformance(_0x579ada);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x11a5ca=_0x7bd7fc;let _0x10209a=dbCoinResults[_0x11a5ca(0x379)](_0x11a5ca(0x313))[_0x11a5ca(0x217)](),_0x2c23fd=0x0;return Object[_0x11a5ca(0x288)](_0x10209a)[_0x11a5ca(0x1f1)](([_0x13dae0,_0x2df1a9])=>{_0x2c23fd+=_0x2df1a9['realizedPnL'];}),_0x2c23fd;}async function storePerformance(){const _0x275eb7=_0x7bd7fc;if(!lastBalances)return;let _0x2e10eb=[],_0x1427a8;const _0x35e2a4=getPnL();let _0x1d3b9d=JSON[_0x275eb7(0x2c1)](lastBalances[_0x275eb7(0x284)]);_0x1d3b9d[_0x275eb7(0x204)]((_0x32ecc2,_0x4b708c)=>_0x32ecc2[_0x275eb7(0x334)]>_0x4b708c[_0x275eb7(0x334)]?0x1:_0x4b708c['coin']>_0x32ecc2[_0x275eb7(0x334)]?-0x1:0x0),_0x1d3b9d[_0x275eb7(0x1f1)](_0x99ed83=>{const _0x4b291d=_0x275eb7;let _0x398104={'coin':_0x99ed83[_0x4b291d(0x334)],'number':_0x99ed83[_0x4b291d(0x258)],'price':_0x99ed83[_0x4b291d(0x1c2)]};_0x2e10eb['push'](_0x398104);});const _0x2e9922=await getFiat(),_0x2a6834=getTimeStamp()[_0x275eb7(0x26b)]('\x20')[0x0],_0xf03a37=dbPerformance['get'](_0x275eb7(0x20a))[_0x275eb7(0x29a)]({'date':_0x2a6834})['value']();_0x1427a8={'date':_0x2a6834,'eur':_0x2e9922[_0x275eb7(0x2da)],'usd':_0x2e9922['usd'],'coins':_0x2e10eb,'pnl':_0x35e2a4},_0xf03a37?_0x1427a8['date']!=config['startdate']&&dbPerformance['get'](_0x275eb7(0x20a))['find']({'date':_0x2a6834})[_0x275eb7(0x1f3)](_0x1427a8)[_0x275eb7(0x2d9)]():dbPerformance['get'](_0x275eb7(0x20a))['push'](_0x1427a8)[_0x275eb7(0x2d9)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5e570a=_0x7bd7fc;let _0x324e2b=[];if(dbPerformance[_0x5e570a(0x26d)](_0x5e570a(0x20a))['value']()){let _0x2d8860=dbPerformance[_0x5e570a(0x379)]('data')[_0x5e570a(0x28c)]()[_0x5e570a(0x1ad)](_0x194916=>{const _0x169507=_0x5e570a;if(_0x194916[_0x169507(0x313)]['length']==0x0)return![];else return!![];})['sortBy'](_0x5e570a(0x37b))[_0x5e570a(0x217)](),_0x5a41b6=[...config[_0x5e570a(0x20c)]];_0x5a41b6[_0x5e570a(0x204)]((_0x3e2a45,_0x29ed48)=>_0x3e2a45[_0x5e570a(0x37b)]>_0x29ed48['date']?-0x1:_0x29ed48[_0x5e570a(0x37b)]>_0x3e2a45['date']?0x1:0x0);let _0x4381b4=0x1,_0x14ad44=[],_0x435d95=0x0;_0x2d8860['slice']()['reverse']()['forEach']((_0x5a9531,_0x4a6433)=>{const _0x404464=_0x5e570a;if(_0x5a41b6[_0x435d95]){if(_0x2d8860[_0x2d8860['length']-_0x4a6433]&&_0x5a41b6[_0x435d95][_0x404464(0x37b)]==_0x2d8860[_0x2d8860[_0x404464(0x1c3)]-_0x4a6433][_0x404464(0x37b)]){if(_0x4a6433<_0x2d8860[_0x404464(0x1c3)]){let _0x500ace=0x0,_0x3b33a5=0x0;_0x2d8860[_0x2d8860[_0x404464(0x1c3)]-_0x4a6433][_0x404464(0x313)][_0x404464(0x1f1)](_0x46bc94=>{const _0x4be748=_0x404464;_0x3b33a5+=_0x46bc94[_0x4be748(0x258)]*_0x46bc94['price'];}),_0x5a41b6[_0x435d95]['changes'][_0x404464(0x1f1)](_0xb7a641=>{const _0x8ed9b3=_0x404464;_0x500ace+=_0xb7a641[_0x8ed9b3(0x258)]*_0xb7a641[_0x8ed9b3(0x2cd)];}),_0x4381b4*=_0x500ace/(_0x3b33a5-_0x500ace)+0x1;}_0x435d95++;}}let _0x360516=0x0;_0x5a9531[_0x404464(0x313)]['forEach'](_0x233df5=>{const _0x35d174=_0x404464;_0x360516+=_0x233df5[_0x35d174(0x258)]*_0x233df5[_0x35d174(0x2cd)];}),_0x14ad44[_0x2d8860[_0x404464(0x1c3)]-_0x4a6433-0x1]=_0x360516*(_0x4381b4-0x1);});let _0x235dc4=[];_0x5a41b6=[...config['liquidity']]||[];let _0x46329d=0x0;_0x435d95=0x0,_0x2d8860['forEach']((_0x59802f,_0x3f1764)=>{const _0x149cff=_0x5e570a;if(_0x5a41b6[_0x435d95]){const _0x37126f=fns[_0x149cff(0x2c1)](_0x5a41b6[_0x435d95][_0x149cff(0x37b)],'yyyy/MM/dd',new Date()),_0x387f0f=fns[_0x149cff(0x2c1)](_0x59802f[_0x149cff(0x37b)],_0x149cff(0x20f),new Date());if(fns[_0x149cff(0x2fa)](_0x37126f,_0x387f0f)){let _0x37564d=0x0;_0x5a41b6[_0x435d95][_0x149cff(0x2a4)][_0x149cff(0x1f1)](_0x306c17=>{const _0x3a473e=_0x149cff;!_0x235dc4[_0x306c17[_0x3a473e(0x334)]]?_0x235dc4[_0x306c17[_0x3a473e(0x334)]]=_0x306c17[_0x3a473e(0x258)]:(_0x37564d=_0x235dc4[_0x306c17[_0x3a473e(0x334)]],_0x235dc4[_0x306c17[_0x3a473e(0x334)]]+=_0x306c17[_0x3a473e(0x258)]);const _0x13e4d4=_0x59802f['coins'][_0x3a473e(0x29a)](_0xab7813=>_0xab7813[_0x3a473e(0x334)]==_0x306c17[_0x3a473e(0x334)]);(!_0x13e4d4||_0x13e4d4[_0x3a473e(0x258)]==0x0)&&(_0x46329d+=(-_0x306c17['number']-_0x37564d)*_0x306c17['price']);}),_0x435d95++;}}_0x59802f[_0x149cff(0x313)][_0x149cff(0x1f1)]((_0x4c5a71,_0x4003cd)=>{const _0x2a0dc1=_0x149cff;_0x235dc4[_0x4c5a71[_0x2a0dc1(0x334)]]&&(_0x4c5a71['initial']=_0x235dc4[_0x4c5a71['coin']]);}),_0x324e2b[_0x149cff(0x31c)]({'date':_0x59802f['date'],'eur':_0x59802f[_0x149cff(0x2da)],'usd':_0x59802f[_0x149cff(0x378)],'offset':_0x14ad44[_0x3f1764],'netoffset':_0x46329d,'coins':_0x59802f[_0x149cff(0x313)],'pnl':_0x59802f[_0x149cff(0x308)]});});}return _0x324e2b;}function _0x1325(_0x434ee6,_0x3cf9aa){const _0xe81aa1=_0x28ef();return _0x1325=function(_0x1f9d84,_0x19d603){_0x1f9d84=_0x1f9d84-0x1ab;let _0x28eff9=_0xe81aa1[_0x1f9d84];return _0x28eff9;},_0x1325(_0x434ee6,_0x3cf9aa);}function emitPerformance(_0xf2f578){const _0x3cd04a=_0x7bd7fc;_0xf2f578[_0x3cd04a(0x1c3)]!==0x0?(proxyEmit(_0x3cd04a(0x2df),_0xf2f578),lastPerformanceEmitted=getDate()):proxyEmit(_0x3cd04a(0x2df),[]);}function getPerf(_0x83394a,_0x460437){const _0x4b670a=_0x7bd7fc;let _0x1d5eb3=0x0,_0x1ec9fa=0x0,_0x541295=0x0;_0x83394a[_0x4b670a(0x313)][_0x4b670a(0x1f1)](_0x3e2090=>{const _0x5bbfc3=_0x4b670a;_0x1d5eb3+=_0x3e2090['number']*_0x3e2090[_0x5bbfc3(0x2cd)];});_0x460437&&(_0x1d5eb3+=_0x83394a[_0x4b670a(0x2ce)]);if(config[_0x4b670a(0x290)]===_0x4b670a(0x262)||config[_0x4b670a(0x290)]===_0x4b670a(0x30c)||config[_0x4b670a(0x290)]===_0x4b670a(0x2d5))_0x1ec9fa=_0x1d5eb3*_0x83394a[_0x4b670a(0x2da)],_0x541295=_0x1d5eb3*_0x83394a['usd'];else{if(usdBasecoins[_0x4b670a(0x25b)](config[_0x4b670a(0x290)]))_0x1ec9fa=_0x1d5eb3*_0x83394a[_0x4b670a(0x2da)]/_0x83394a[_0x4b670a(0x378)],_0x541295=_0x1d5eb3;else config['basecoin']===_0x4b670a(0x2f5)&&(_0x1ec9fa=_0x1d5eb3,_0x541295=_0x1d5eb3*_0x83394a['usd']/_0x83394a['eur']);}return[_0x1d5eb3,_0x1ec9fa,_0x541295];}function CurrencyFactor(_0x321e5e,_0x96fed5,_0x5348a1){const _0x5e5111=_0x7bd7fc;let _0x514937;if(_0x96fed5===_0x5e5111(0x262)||_0x96fed5===_0x5e5111(0x30c)||_0x96fed5===_0x5e5111(0x2d5))_0x514937=_0x5348a1===_0x5e5111(0x2f5)?_0x321e5e[_0x5e5111(0x2da)]:_0x321e5e[_0x5e5111(0x378)];else{if(usdBasecoins[_0x5e5111(0x25b)](_0x96fed5))_0x514937=_0x5348a1===_0x5e5111(0x2f5)?_0x321e5e[_0x5e5111(0x2da)]/_0x321e5e['usd']:0x1;else _0x96fed5===_0x5e5111(0x2f5)&&(_0x514937=_0x5348a1==='EUR'?0x1:_0x321e5e[_0x5e5111(0x378)]/_0x321e5e['eur']);}return _0x514937;}function getKPIs(_0x4a19c1,_0xa53322=_0x7bd7fc(0x2f5)){const _0x39775d=_0x7bd7fc,_0x12b2fd=config[_0x39775d(0x290)],_0x15d70f=lastBalances,_0x11b163=currentCoins,_0x3f07ce=getNormalizedPerformance(),_0x403ec5=CurrencyFactor(_0x15d70f,config[_0x39775d(0x290)],_0xa53322);let _0x3efa3a=0x0;_0x11b163[_0x39775d(0x1f1)](_0x6d619c=>{const _0x466778=_0x39775d;_0x3efa3a+=_0x6d619c[_0x466778(0x258)]*_0x6d619c['last'];});_0x4a19c1['includes'](_0x39775d(0x2a6))&&(_0x3efa3a*=_0x403ec5);let _0x20eeaa;if(_0x3efa3a!==0x0){if(_0x4a19c1===_0x39775d(0x290)||_0x4a19c1===_0x39775d(0x2a6)){if(_0x4a19c1==='basecoin')_0x20eeaa=(_0x3efa3a/startingBalances[_0x39775d(0x290)]-0x1)*0x64;else{if(_0xa53322===_0x39775d(0x2f5))_0x20eeaa=(_0x3efa3a/startingBalances[_0x39775d(0x2da)]-0x1)*0x64;else _0x20eeaa=(_0x3efa3a/startingBalances[_0x39775d(0x378)]-0x1)*0x64;}}if(_0x4a19c1[_0x39775d(0x25b)](_0x39775d(0x2f3))){let _0x485cd6=0x0;if(startingBalances[_0x39775d(0x313)])_0x11b163[_0x39775d(0x1f1)](_0x3f2f2b=>{const _0x30f92f=_0x39775d;let _0x4c117f=startingBalances[_0x30f92f(0x313)][_0x30f92f(0x29a)](_0xa81135=>_0xa81135[_0x30f92f(0x334)]===_0x3f2f2b[_0x30f92f(0x334)]);if(_0x4c117f&&_0x4c117f[_0x30f92f(0x334)]&&_0x3f2f2b['number']!==0x0)_0x485cd6+=_0x4c117f[_0x30f92f(0x258)]*_0x3f2f2b[_0x30f92f(0x1c2)];});let _0x5597f1=0x0;if(_0x3f07ce[_0x39775d(0x1c3)]!==0x0){let _0x2ed3fe=_0x3f07ce[_0x3f07ce[_0x39775d(0x1c3)]-0x1];_0x5597f1=_0x2ed3fe[_0x39775d(0x224)];}_0x485cd6-=_0x5597f1;let _0x5445de;_0x4a19c1===_0x39775d(0x36d)&&(_0x5445de=startingBalances[_0x39775d(0x290)]),_0x4a19c1===_0x39775d(0x2bc)&&(_0x5445de=_0xa53322===_0x39775d(0x2f5)?startingBalances['eur']:startingBalances[_0x39775d(0x378)],_0x485cd6*=_0x403ec5),_0x20eeaa=(_0x3efa3a-_0x485cd6)/_0x5445de*0x64,_0x3efa3a=_0x3efa3a-_0x485cd6;}if(_0x4a19c1[_0x39775d(0x25b)](_0x39775d(0x308))){if(_0x3f07ce[_0x39775d(0x1c3)]!==0x0&&_0x11b163[_0x39775d(0x1c3)]!==0x0){let _0x391909,_0x1cf4c8=_0x3f07ce[_0x3f07ce['length']-0x1][_0x39775d(0x308)];_0x4a19c1['includes'](_0x39775d(0x2a6))?(_0x391909=_0xa53322==='EUR'?startingBalances[_0x39775d(0x2da)]:startingBalances[_0x39775d(0x378)],_0x1cf4c8*=CurrencyFactor(_0x15d70f,_0x12b2fd,_0xa53322)):_0x391909=startingBalances['basecoin'],_0x20eeaa=_0x1cf4c8/_0x391909*0x64,_0x3efa3a=_0x1cf4c8;}}if(_0x20eeaa){if(_0x20eeaa<0x64)_0x20eeaa=_0x20eeaa[_0x39775d(0x202)](0x2);else{if(_0x20eeaa<0x3e8)_0x20eeaa=_0x20eeaa[_0x39775d(0x202)](0x1);else _0x20eeaa=_0x20eeaa[_0x39775d(0x202)](0x0);}}else _0x20eeaa=Number('0')[_0x39775d(0x202)](0x2);if(_0x3efa3a){if(Math[_0x39775d(0x1fa)](_0x3efa3a)<0.000001)_0x3efa3a=_0x3efa3a[_0x39775d(0x202)](0x2);else{if(Math[_0x39775d(0x1fa)](_0x3efa3a)<0.1)_0x3efa3a=_0x3efa3a[_0x39775d(0x202)](0x6);else{if(Math[_0x39775d(0x1fa)](_0x3efa3a)<0x1)_0x3efa3a=_0x3efa3a[_0x39775d(0x202)](0x5);else{if(Math[_0x39775d(0x1fa)](_0x3efa3a)<0xa)_0x3efa3a=_0x3efa3a['toFixed'](0x4);else{if(Math[_0x39775d(0x1fa)](_0x3efa3a)<0x64)_0x3efa3a=_0x3efa3a[_0x39775d(0x202)](0x3);else{if(Math[_0x39775d(0x1fa)](_0x3efa3a)<0x3e8)_0x3efa3a=_0x3efa3a['toFixed'](0x2);else _0x3efa3a=_0x3efa3a[_0x39775d(0x202)](0x2);}}}}}}else _0x3efa3a=Number('0')[_0x39775d(0x202)](0x2);}else _0x20eeaa=Number('0')[_0x39775d(0x202)](0x2);if(_0x20eeaa>=0x0)_0x20eeaa='+'+_0x20eeaa;return{'value':_0x3efa3a,'change':_0x20eeaa};}async function getStartingBalances(_0x1e3e7d,_0x2e3fb7=!![]){const _0x5277c8=_0x7bd7fc;if(_0x1e3e7d[_0x5277c8(0x1c3)]!==0x0){const [_0x1f4abc,_0x36d5b5,_0x5573c7]=getPerf(_0x1e3e7d[0x0],!![]);let _0x477fe2=[];config[_0x5277c8(0x284)][_0x5277c8(0x1f1)](_0x4496a4=>{const _0x11c443=_0x5277c8;let _0x291f26=0x0,_0x20332b;config['liquidity'][_0x11c443(0x1f1)](_0x21c8fc=>{const _0x3de034=_0x11c443;let _0x29b45c=_0x21c8fc[_0x3de034(0x2a4)][_0x3de034(0x29a)](_0x167c0d=>_0x167c0d[_0x3de034(0x334)]==_0x4496a4[_0x3de034(0x334)]);if(_0x29b45c){_0x291f26+=_0x29b45c['number'];if(!_0x20332b)_0x20332b=_0x29b45c[_0x3de034(0x2cd)];}}),_0x477fe2[_0x11c443(0x31c)]({'coin':_0x4496a4[_0x11c443(0x334)],'number':_0x291f26,'initialprice':_0x20332b});});const _0x4b7fec={'basecoin':_0x1f4abc,'eur':_0x36d5b5,'usd':_0x5573c7,'coins':_0x477fe2};if(_0x2e3fb7)proxyEmit('starting-balances',_0x4b7fec);startingBalances=_0x4b7fec;}}function headlessMode(_0x2470df){const _0xfb5e9e=_0x7bd7fc;let _0x23d237=_0x2470df['portfolio'],_0x2ff0c5=_0x2470df[_0xfb5e9e(0x350)],_0x519cef=[];for(let _0x4d8e7f of _0x23d237){if(_0x4d8e7f[_0xfb5e9e(0x334)]!=config['basecoin']){if(_0x4d8e7f[_0xfb5e9e(0x1fc)]>=_0x2ff0c5/0x64){if(_0x4d8e7f[_0xfb5e9e(0x359)])_0x519cef['push'](_0x4d8e7f);}else{if(_0x4d8e7f[_0xfb5e9e(0x1fc)]<=-_0x2ff0c5/0x64){if(_0x4d8e7f['valid'])_0x519cef[_0xfb5e9e(0x31c)](_0x4d8e7f);}}}}_0x519cef[_0xfb5e9e(0x1c3)]>0x0&&placeOrder(_0x519cef);}function notifyBalance(_0x5e2c7b){const _0x28d781=_0x7bd7fc;let _0x74de25=_0x5e2c7b[_0x28d781(0x284)],_0x20e4f7=_0x5e2c7b['threshold'],_0x1a4622=[];for(let _0x3a9961 of _0x74de25){if(_0x3a9961[_0x28d781(0x334)]!=config['basecoin']){if(_0x3a9961['delta']>=_0x20e4f7/0x64){if(_0x3a9961[_0x28d781(0x359)])_0x1a4622[_0x28d781(0x31c)](_0x3a9961);}else{if(_0x3a9961[_0x28d781(0x1fc)]<=-_0x20e4f7/0x64){if(_0x3a9961['valid'])_0x1a4622['push'](_0x3a9961);}}}}if(_0x1a4622[_0x28d781(0x1c3)]>0x0){let _0x595043=_0x1a4622[_0x28d781(0x1b7)](_0x1509b4=>_0x1509b4[_0x28d781(0x334)]);_0x595043[_0x28d781(0x204)]();let _0x34554f=_0x595043[_0x28d781(0x332)](',\x20');if(!lastCoinsToBalance)logHistory(_0x28d781(0x223),_0x28d781(0x35d));lastCoinsToBalance=_0x34554f;}}function symbolToCoin(_0x3ea31a){const _0x52ace2=_0x7bd7fc;let _0x1d5710;if(_0x3ea31a[_0x52ace2(0x25b)]('/'+config[_0x52ace2(0x290)]))_0x1d5710=_0x3ea31a[_0x52ace2(0x32c)]('/'+config[_0x52ace2(0x290)],'');if(_0x3ea31a[_0x52ace2(0x25b)](config[_0x52ace2(0x290)]+'/'))_0x1d5710=_0x3ea31a[_0x52ace2(0x32c)](config[_0x52ace2(0x290)]+'/','');return _0x1d5710;}function setLockOrders(_0xfd0fe9){const _0x5600f4=_0x7bd7fc;lockOrders=_0xfd0fe9,logger['debug'](_0x5600f4(0x34d)+Object[_0x5600f4(0x2ca)](ORDERS)[lockOrders]);}async function unlockOrders(_0x4ea9e2=![]){const _0x169a32=_0x7bd7fc;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){setLockOrders(ORDERS[_0x169a32(0x260)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x4ea9e2){const _0x1c2afd=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1c2afd,setBlockTransactionDetection(![]);}validateOrdersState=_0x169a32(0x374),persistOpenOrders([]),setLockOrders(ORDERS[_0x169a32(0x329)]);}}async function validateOrders(_0x232f77){const _0x1d20af=_0x7bd7fc;if(_0x232f77)validateOrdersState=_0x232f77;logger[_0x1d20af(0x27a)](_0x1d20af(0x1b6)+validateOrdersState+_0x1d20af(0x251)+Object[_0x1d20af(0x2ca)](ORDERS)[lockOrders]);let _0x24a13d=[],_0x203258=config[_0x1d20af(0x322)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1d20af(0x2af)])return;logger[_0x1d20af(0x27a)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState);for(let _0x517e8a=lastOrders[_0x1d20af(0x1c3)]-0x1;_0x517e8a>=0x0;_0x517e8a--){let _0xa26ea8=lastOrders[_0x517e8a],_0x264e24=![];_0xa26ea8[_0x1d20af(0x243)]>0x0&&(_0x264e24=!![]),_0x24a13d[_0x1d20af(0x31c)](_0x264e24),_0x264e24&&config[_0x1d20af(0x322)]!=_0x1d20af(0x31b)&&logHistory(_0x1d20af(0x291),_0x1d20af(0x1db)+_0xa26ea8[_0x1d20af(0x1d9)]+'\x20'+_0xa26ea8[_0x1d20af(0x21a)]+'\x20#'+formatResult(_0xa26ea8['filled'],0x8)+'\x20@'+formatResult(_0xa26ea8['price'],0x8)),_0x264e24&&lastOrders[_0x1d20af(0x200)](_0x517e8a,0x1);}persistOpenOrders(lastOrders);const _0x2f56f5=coolingDown?_0x1d20af(0x22b):'balancing\x20resumed';if(validateOrdersState==_0x1d20af(0x374)){validateOrdersState=_0x1d20af(0x273);if(_0x24a13d[_0x1d20af(0x25b)](![])){}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x24a13d['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x1d20af(0x264)){let _0x2ee147=!![];if(_0x24a13d[_0x1d20af(0x25b)](![])){if(config[_0x1d20af(0x322)]==_0x1d20af(0x31b))logHistory(_0x1d20af(0x234),_0x1d20af(0x27c)+Math[_0x1d20af(0x36f)](_0x203258*validateOrderInterval/0xea60)+_0x1d20af(0x32b)+_0x2f56f5),await unlockOrders(!![]);else{_0x2ee147=await cancelOrders();if(_0x2ee147)logHistory(_0x1d20af(0x234),_0x1d20af(0x24f)+Math[_0x1d20af(0x36f)](_0x203258*validateOrderInterval/0xea60)+_0x1d20af(0x32b)+_0x2f56f5),await unlockOrders(!![]);else{validateOrdersState=_0x1d20af(0x273),logHistory(_0x1d20af(0x1c5),_0x1d20af(0x315)+Math[_0x1d20af(0x36f)](_0x203258*validateOrderInterval/0xea60)+_0x1d20af(0x32b)+_0x2f56f5),logHistory('error',_0x1d20af(0x208));const _0x472555=config[_0x1d20af(0x322)]==_0x1d20af(0x31b)?validateOrderTimeout*0x3c*0x3e8:config[_0x1d20af(0x299)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x37dbbc=_0x1d20af;validateOrders(_0x37dbbc(0x264));},_0x472555);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x1d20af(0x238)){if(config[_0x1d20af(0x322)]!=_0x1d20af(0x31b))logHistory(_0x1d20af(0x234),_0x1d20af(0x344)+_0x2f56f5);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x54b974=_0x7bd7fc;let _0x32a253=!![],_0x4dbbb1;for(const _0x4eb72a of lastOrders){let _0x35ccda=![],_0x36fca9=0x0;while(!_0x35ccda&&_0x36fca9<maxRetries){try{const _0x425494=await exchange[_0x54b974(0x2f4)](_0x4eb72a[_0x54b974(0x2e3)],_0x4eb72a[_0x54b974(0x1d9)]);_0x35ccda=!![];}catch(_0x46f9af){_0x46f9af[_0x54b974(0x32f)]()[_0x54b974(0x25b)]('OrderNotFound')||_0x46f9af[_0x54b974(0x32f)]()[_0x54b974(0x25b)](_0x54b974(0x342))?_0x35ccda=!![]:(_0x4dbbb1=_0x46f9af,_0x35ccda=![]);}!_0x35ccda&&(_0x36fca9++,await sleep(retryInterval));}_0x32a253=_0x32a253&&_0x35ccda;}return!_0x32a253&&await handleError(_0x4dbbb1,'cancelOrders()'),_0x32a253;}async function initCoinResults(_0x455f07){const _0x438d21=_0x7bd7fc;_0x455f07?logger[_0x438d21(0x27a)](_0x438d21(0x25a)+_0x455f07):logger['debug'](_0x438d21(0x2d8)),config[_0x438d21(0x284)][_0x438d21(0x1f1)](_0x133243=>{const _0x41ec7d=_0x438d21;if(!_0x133243[_0x41ec7d(0x1d1)]&&_0x133243[_0x41ec7d(0x334)]!=config['basecoin']){const _0x3cce4b=currentCoins[_0x41ec7d(0x29a)](_0x1539b7=>_0x1539b7[_0x41ec7d(0x334)]==_0x133243[_0x41ec7d(0x334)]),_0x398d2f=gTicker[noslash(_0x133243[_0x41ec7d(0x1d9)])];let _0x460c65=_0x3cce4b?_0x3cce4b[_0x41ec7d(0x258)]:null,_0x1f3209=_0x133243['reverse']?0x1/_0x398d2f:_0x398d2f,_0x3af1df;config[_0x41ec7d(0x20c)][_0x41ec7d(0x1f1)](_0x199b6b=>{const _0x59ffc4=_0x41ec7d;!_0x3af1df&&(_0x3af1df=_0x199b6b[_0x59ffc4(0x2a4)][_0x59ffc4(0x29a)](_0x8e18d1=>_0x8e18d1[_0x59ffc4(0x334)]==_0x133243[_0x59ffc4(0x334)]),_0x3af1df&&(_0x460c65=_0x3af1df[_0x59ffc4(0x258)],_0x1f3209=_0x3af1df[_0x59ffc4(0x2cd)]));});let _0x389a31=dbCoinResults[_0x41ec7d(0x379)](_0x41ec7d(0x313))[_0x41ec7d(0x29a)]({'coin':_0x133243['coin']})[_0x41ec7d(0x217)]();if(!_0x389a31){const _0x432fdc={'coin':_0x133243[_0x41ec7d(0x334)],'number':_0x460c65,'breakeven':_0x1f3209,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x41ec7d(0x379)](_0x41ec7d(0x313))[_0x41ec7d(0x31c)](_0x432fdc)[_0x41ec7d(0x2d9)]();}else{if(_0x455f07&&_0x133243[_0x41ec7d(0x334)]==_0x455f07){const _0x36d163={'coin':_0x133243[_0x41ec7d(0x334)],'number':_0x460c65,'breakeven':_0x1f3209,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x41ec7d(0x379)](_0x41ec7d(0x313))[_0x41ec7d(0x29a)]({'coin':_0x133243['coin']})[_0x41ec7d(0x1f3)](_0x36d163)[_0x41ec7d(0x2d9)]();}}}});}async function placeOrder(_0x26258d){const _0xbfaa6c=_0x7bd7fc,_0xecf7c3=config[_0xbfaa6c(0x322)]=='market'?_0xbfaa6c(0x31b):_0xbfaa6c(0x314);if(lockOrders==ORDERS[_0xbfaa6c(0x329)]&&!coolingDown){setLockOrders(ORDERS[_0xbfaa6c(0x2af)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0xbfaa6c(0x27a)](_0xbfaa6c(0x1e1)+_0x26258d['map'](_0x24eb60=>_0x24eb60[_0xbfaa6c(0x334)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0xbfaa6c(0x374);let _0x2f4750=![];lastOrders=[];const _0x2ec62f=config[_0xbfaa6c(0x350)];for(const _0x4dda3f of _0x26258d){let _0x3e4e97,_0x148ec3,_0x28dda3,_0x3844a3,_0x1795f4,_0x428301=_0x4dda3f['symbol'];logger['debug'](_0xbfaa6c(0x229)+_0x4dda3f[_0xbfaa6c(0x334)]+'\x20'+_0x4dda3f[_0xbfaa6c(0x258)]+'\x20'+_0x4dda3f['last']+'\x20'+_0x4dda3f[_0xbfaa6c(0x1b0)]+'%\x20'+_0x4dda3f[_0xbfaa6c(0x274)]+'%\x20'+(0x64*_0x4dda3f[_0xbfaa6c(0x1fc)])[_0xbfaa6c(0x202)](0x2)+_0xbfaa6c(0x2a8)+_0x2ec62f[_0xbfaa6c(0x202)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0xbfaa6c(0x1ad)](_0x2a1ec4=>_0x2a1ec4!==_0x4dda3f[_0xbfaa6c(0x334)]);const _0x59738f=currentCoins[_0xbfaa6c(0x29a)](_0x1af24d=>_0x1af24d[_0xbfaa6c(0x334)]==_0x4dda3f[_0xbfaa6c(0x334)]);_0x59738f&&(_0x59738f['prevnumber']=_0x4dda3f[_0xbfaa6c(0x258)]);try{const _0x2453d6=await exchange[_0xbfaa6c(0x36a)](_0x428301);_0x3e4e97=_0x4dda3f['reverse']?0x1/_0x4dda3f['last']:_0x4dda3f['last'],_0x148ec3=_0x2453d6[_0xbfaa6c(0x24d)],_0x28dda3=_0x2453d6['ask'];_0x4dda3f[_0xbfaa6c(0x256)]?(_0x3844a3=_0x4dda3f[_0xbfaa6c(0x21a)]==_0xbfaa6c(0x302)?_0xbfaa6c(0x1ed):_0xbfaa6c(0x302),_0x1795f4=Math['abs'](_0x4dda3f[_0xbfaa6c(0x285)])/_0x3e4e97):(_0x3844a3=_0x4dda3f['side'],_0x1795f4=Math[_0xbfaa6c(0x1fa)](_0x4dda3f['trade']));_0xecf7c3=='limit'&&(config[_0xbfaa6c(0x322)]==_0xbfaa6c(0x2c9)&&(_0x3e4e97=_0x3844a3==_0xbfaa6c(0x302)?_0x148ec3:_0x28dda3),config[_0xbfaa6c(0x322)]==_0xbfaa6c(0x319)&&(_0x3e4e97=_0x3844a3=='buy'?_0x28dda3:_0x148ec3));_0x1795f4=formatResult(_0x1795f4,0x8),_0x3e4e97=formatResult(_0x3e4e97,0x8);const _0x13aae5=_0x3844a3==_0xbfaa6c(0x1ed)?config[_0xbfaa6c(0x270)]?String['fromCodePoint']('0x'+config[_0xbfaa6c(0x270)])+'\x20':'':config[_0xbfaa6c(0x312)]?String[_0xbfaa6c(0x235)]('0x'+config[_0xbfaa6c(0x312)])+'\x20':'',_0x19cd8d=_0xecf7c3==_0xbfaa6c(0x31b)?_0xbfaa6c(0x372):config['ordertype']==_0xbfaa6c(0x2c9)?'Limit\x20(high-margin)':'Limit\x20(low-margin)',_0x4fc2b0=(Math[_0xbfaa6c(0x237)](Math['random']()*0x35a4e900)+0x5f5e100)[_0xbfaa6c(0x32f)]();lastOrders['push']({'customId':_0x4fc2b0,'symbol':_0x428301,'coin':_0x4dda3f[_0xbfaa6c(0x334)],'amount':_0x1795f4,'price':_0x3e4e97,'side':_0x3844a3,'reverse':_0x4dda3f['reverse'],'filled':0x0});let _0xdcec05;_0xecf7c3=='market'?_0x3844a3==_0xbfaa6c(0x302)&&[_0xbfaa6c(0x2db),_0xbfaa6c(0x2d1),_0xbfaa6c(0x1bf),_0xbfaa6c(0x1c8),_0xbfaa6c(0x2b7),_0xbfaa6c(0x2c6)][_0xbfaa6c(0x25b)](config['exchange'])?_0xdcec05=await exchange['createOrder'](_0x428301,_0xecf7c3,_0x3844a3,_0x1795f4,_0x3e4e97):_0xdcec05=await exchange[_0xbfaa6c(0x207)](_0x428301,_0xecf7c3,_0x3844a3,_0x1795f4,undefined):_0xdcec05=await exchange[_0xbfaa6c(0x207)](_0x428301,_0xecf7c3,_0x3844a3,_0x1795f4,_0x3e4e97);const _0x39f79a=lastOrders[_0xbfaa6c(0x1c3)]-0x1;if(_0x39f79a>=0x0&&lastOrders[_0x39f79a][_0xbfaa6c(0x2de)]==_0x4fc2b0){lastOrders[_0x39f79a][_0xbfaa6c(0x2e3)]=_0xdcec05['id'];if(_0xdcec05[_0xbfaa6c(0x1ef)])lastOrders[_0x39f79a]['amount']=_0xdcec05[_0xbfaa6c(0x1ef)];if(_0xdcec05['price'])lastOrders[_0x39f79a][_0xbfaa6c(0x2cd)]=_0xdcec05[_0xbfaa6c(0x2cd)];lastOrders[_0x39f79a][_0xbfaa6c(0x25f)]=_0xdcec05[_0xbfaa6c(0x25f)];}if(_0xdcec05[_0xbfaa6c(0x1ef)])_0x1795f4=_0xdcec05['amount'];if(_0xdcec05[_0xbfaa6c(0x2cd)])_0x3e4e97=_0xdcec05[_0xbfaa6c(0x2cd)];if(_0xecf7c3=='market')logHistory(_0xbfaa6c(0x291),''+_0x13aae5+_0x19cd8d+_0xbfaa6c(0x212)+_0x428301+'\x20'+_0x3844a3+'\x20#'+formatResult(_0x1795f4,0x8)+'\x20@'+formatResult(_0x3e4e97,0x8));else logHistory('order',''+_0x13aae5+_0x19cd8d+'\x20order:\x20'+_0x428301+'\x20'+_0x3844a3+'\x20#'+formatResult(_0x1795f4,0x8)+'\x20@'+formatResult(_0x3e4e97,0x8));logger[_0xbfaa6c(0x27a)]('ID:\x20'+_0xdcec05['id']+_0xbfaa6c(0x24b)+_0x4fc2b0);if(config[_0xbfaa6c(0x2aa)]!=0x0){let _0x489752=null;if(cooldownTracker[_0xbfaa6c(0x1c3)]==config[_0xbfaa6c(0x2aa)]-0x1)_0x489752=cooldownTracker[_0xbfaa6c(0x271)]();const _0x3cb842=getTimeStamp();cooldownTracker[_0xbfaa6c(0x31c)](_0x3cb842);if(_0x489752){const _0x24c383=fns['differenceInSeconds'](new Date(_0x3cb842),new Date(_0x489752));if(_0x24c383<cooldownInterval){logHistory(_0xbfaa6c(0x1c5),'Executed\x20'+config[_0xbfaa6c(0x2aa)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0xbfaa6c(0x2a2)),coolingDown=!![];break;}}}}catch(_0x476ae2){if(_0x476ae2['toString']()[_0xbfaa6c(0x25b)](_0xbfaa6c(0x32d)))lastOrders=lastOrders['filter'](_0x1d188f=>_0x1d188f['symbol']!=_0x428301),logHistory(_0xbfaa6c(0x1c5),_0xbfaa6c(0x370)+_0x428301),_0x2f4750=!![];else{if(_0x476ae2['toString']()[_0xbfaa6c(0x25b)]('Invalid\x20quantity'))lastOrders=lastOrders[_0xbfaa6c(0x1ad)](_0x35cb98=>_0x35cb98[_0xbfaa6c(0x1d9)]!=_0x428301),logHistory(_0xbfaa6c(0x1c5),'Order\x20amount\x20is\x20invalid:\x20'+_0x428301),_0x2f4750=!![];else{if(_0x476ae2[_0xbfaa6c(0x32f)]()[_0xbfaa6c(0x25b)]('InvalidOrder'))lastOrders=lastOrders[_0xbfaa6c(0x1ad)](_0x3e560b=>_0x3e560b[_0xbfaa6c(0x1d9)]!=_0x428301),logHistory(_0xbfaa6c(0x1c5),_0xbfaa6c(0x22a)+_0x428301),logger[_0xbfaa6c(0x27a)](_0x476ae2),_0x2f4750=!![];else _0x476ae2[_0xbfaa6c(0x32f)]()[_0xbfaa6c(0x25b)](_0xbfaa6c(0x25d))?(lastOrders=lastOrders['filter'](_0xee8f94=>_0xee8f94[_0xbfaa6c(0x1d9)]!=_0x428301),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x428301),_0x2f4750=!![]):(lastOrders=lastOrders[_0xbfaa6c(0x1ad)](_0x2b92db=>_0x2b92db[_0xbfaa6c(0x1d9)]!=_0x428301),await handleError(_0x476ae2,_0xbfaa6c(0x279),_0x428301));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0x322a14=config[_0xbfaa6c(0x322)]==_0xbfaa6c(0x31b)?validateOrderTimeout*0x3c*0x3e8:config[_0xbfaa6c(0x299)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1db5c3=_0xbfaa6c;validateOrders(_0x1db5c3(0x264));},_0x322a14);}else unlockOrders();_0x2f4750&&config[_0xbfaa6c(0x295)]&&(logHistory(_0xbfaa6c(0x1c5),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0xbfaa6c(0x234),_0xbfaa6c(0x317)));}else{if(coolingDown)!config[_0xbfaa6c(0x295)]&&logHistory(_0xbfaa6c(0x1c5),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0xbfaa6c(0x329)]&&(!config[_0xbfaa6c(0x295)]&&(config[_0xbfaa6c(0x322)]==_0xbfaa6c(0x31b)?logHistory(_0xbfaa6c(0x1c5),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error',_0xbfaa6c(0x21c))));}}function persistOpenOrders(_0x325c5b){const _0x5efe50=_0x7bd7fc,_0xc3b45f={...config,'openOrders':_0x325c5b};let _0x419349=dbConfig[_0x5efe50(0x379)](_0x5efe50(0x1cc))['find']({'botID':botID})['value']();_0x419349&&dbConfig[_0x5efe50(0x379)](_0x5efe50(0x1cc))[_0x5efe50(0x29a)]({'botID':botID})['assign'](_0xc3b45f)['write']();}function restoreOrders(){const _0x12c0c4=_0x7bd7fc;let _0x5a61f2;config['openOrders']&&allOpenOrders[_0x12c0c4(0x1f1)](_0x49fc31=>{const _0x12ee1e=_0x12c0c4,_0x10bbc6=config[_0x12ee1e(0x1e9)]['find'](_0x504c8e=>_0x504c8e['orderId']==_0x49fc31['id']);_0x10bbc6&&(lastOrders[_0x12ee1e(0x31c)](_0x10bbc6),_0x5a61f2=_0x49fc31[_0x12ee1e(0x331)]);});if(lastOrders['length']>0x0){setLockOrders(ORDERS['LOCKED']),validateOrdersState=_0x12c0c4(0x273),allOrdersPlaced=!![];const _0x399009=new Date()[_0x12c0c4(0x1d7)](),_0x156c0a=config[_0x12c0c4(0x322)]==_0x12c0c4(0x31b)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x5a61f2+_0x156c0a>_0x399009){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x44a562=_0x12c0c4;validateOrders(_0x44a562(0x264));},_0x5a61f2+_0x156c0a-_0x399009);}else validateOrders(_0x12c0c4(0x264));}}async function sendMetricsTelegram(){const _0x5dc91f=_0x7bd7fc;if(!coinsLoaded){process['send']({'telegrammsg':_0x5dc91f(0x24a)},_0x111858=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x4502ed='';if(config[_0x5dc91f(0x36e)])_0x4502ed='<b>'+config[_0x5dc91f(0x246)]+_0x5dc91f(0x2f9);else _0x4502ed=_0x5dc91f(0x2b2)+botID+_0x5dc91f(0x2f9);const _0xef27e1=config[_0x5dc91f(0x290)],_0x2e5488=config[_0x5dc91f(0x2a6)],_0x287f69=getKPIs(_0x5dc91f(0x290)),_0x26f9be=getKPIs(_0x5dc91f(0x2a6),_0x2e5488),_0x2b8ede=getKPIs(_0x5dc91f(0x36d)),_0x3d0d7d=getKPIs(_0x5dc91f(0x2bc),_0x2e5488),_0x30cbd8=getKPIs('pnl-basecoin'),_0x772704=getKPIs('pnl-fiat',_0x2e5488);_0xef27e1[_0x5dc91f(0x25b)](_0x2e5488)?(_0x4502ed+=_0x5dc91f(0x219),_0x4502ed+=_0x5dc91f(0x2cf)+_0xef27e1+':\x20'+_0x287f69[_0x5dc91f(0x217)]+'\x20('+_0x287f69[_0x5dc91f(0x296)]+'%)\x0a',_0x4502ed+=_0x5dc91f(0x343)+_0xef27e1+':\x20'+_0x2b8ede[_0x5dc91f(0x217)]+'\x20('+_0x2b8ede['change']+_0x5dc91f(0x2c0),_0x4502ed+=_0x5dc91f(0x32e)+_0xef27e1+':\x20'+_0x30cbd8[_0x5dc91f(0x217)]+'\x20('+_0x30cbd8[_0x5dc91f(0x296)]+_0x5dc91f(0x2c0),_0x4502ed+=_0x5dc91f(0x22d)):(_0x4502ed+=_0x5dc91f(0x219),_0x4502ed+='Value\x20'+_0xef27e1+':\x20'+_0x287f69[_0x5dc91f(0x217)]+'\x20('+_0x287f69[_0x5dc91f(0x296)]+_0x5dc91f(0x2c0),_0x4502ed+='Value\x20'+_0x2e5488+':\x20'+_0x26f9be[_0x5dc91f(0x217)]+'\x20('+_0x26f9be[_0x5dc91f(0x296)]+'%)\x0a',_0x4502ed+=_0x5dc91f(0x343)+_0xef27e1+':\x20'+_0x2b8ede[_0x5dc91f(0x217)]+'\x20('+_0x2b8ede[_0x5dc91f(0x296)]+'%)\x0a',_0x4502ed+=_0x5dc91f(0x343)+_0x2e5488+':\x20'+_0x3d0d7d[_0x5dc91f(0x217)]+'\x20('+_0x3d0d7d[_0x5dc91f(0x296)]+'%)\x0a',_0x4502ed+=_0x5dc91f(0x32e)+_0xef27e1+':\x20'+_0x30cbd8[_0x5dc91f(0x217)]+'\x20('+_0x30cbd8['change']+_0x5dc91f(0x2c0),_0x4502ed+=_0x5dc91f(0x32e)+_0x2e5488+':\x20'+_0x772704['value']+'\x20('+_0x772704[_0x5dc91f(0x296)]+_0x5dc91f(0x2c0),_0x4502ed+=_0x5dc91f(0x22d)),process[_0x5dc91f(0x309)]({'telegrammsg':_0x4502ed},_0x6a4275=>{});}async function sendPortfolioTelegram(){const _0x3b9ae2=_0x7bd7fc;if(!coinsLoaded||!currentCoins[0x0][_0x3b9ae2(0x1b0)]){process[_0x3b9ae2(0x309)]({'telegrammsg':_0x3b9ae2(0x24a)},_0x4ba1d2=>{});return;}let _0x140e3c='';if(config[_0x3b9ae2(0x36e)])_0x140e3c=_0x3b9ae2(0x24e)+config[_0x3b9ae2(0x246)]+_0x3b9ae2(0x28d);else _0x140e3c=_0x3b9ae2(0x2b2)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x140e3c+=_0x3b9ae2(0x219),_0x140e3c+='-------------------------------\x0a',_0x140e3c+=_0x3b9ae2(0x27f),_0x140e3c+=_0x3b9ae2(0x23c),currentCoins[_0x3b9ae2(0x1f1)](_0x1106ef=>{const _0x3e9e81=_0x3b9ae2;_0x140e3c+=_0x1106ef[_0x3e9e81(0x334)][_0x3e9e81(0x346)](0x7)+'|\x20'+formatPad(_0x1106ef['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x1106ef['target'],0x2,0x6)+'|\x20'+(_0x1106ef['target']==0x0?'∞'[_0x3e9e81(0x245)](0x6):formatPad(_0x1106ef[_0x3e9e81(0x1fc)]*0x64,0x2,0x6))+'\x0a';}),_0x140e3c+=_0x3b9ae2(0x22d),process[_0x3b9ae2(0x309)]({'telegrammsg':_0x140e3c},_0x43985b=>{});}function formatPad(_0x4564bd,_0x994284,_0x27db2c){const _0x16f00b=_0x7bd7fc,_0x3bbf2=formatResultString(_0x4564bd,_0x994284);return _0x3bbf2?_0x3bbf2[_0x16f00b(0x245)](_0x27db2c):''['padStart'](_0x27db2c);}function logHistory(_0x2315ea,_0x172bea,_0x13c216=''){const _0x447a81=_0x7bd7fc;logger[_0x447a81(0x250)](''+_0x172bea);let _0x28872a={'time':getTimeStamp(),'type':_0x2315ea,'event':_0x172bea};dbLogs['get'](_0x447a81(0x2e8))['push'](_0x28872a)[_0x447a81(0x2d9)]();if(_0x13c216=='')_0x13c216=_0x172bea;proxyEmit('event',{'log':_0x28872a,'summary':_0x13c216}),process[_0x447a81(0x309)]({'telegram':{..._0x28872a,'botname':config[_0x447a81(0x246)],'showname':config[_0x447a81(0x36e)]}},_0x50b0a7=>{});}function emitHistory(_0x4d89b2={}){const _0x499637=_0x7bd7fc;Object[_0x499637(0x2ca)](_0x4d89b2)[_0x499637(0x1c3)]==0x0&&(_0x4d89b2={'type':[_0x499637(0x291),_0x499637(0x33d)],'event':'','page':0x1});if(_0x4d89b2[_0x499637(0x1d3)]['includes']('event'))_0x4d89b2[_0x499637(0x1d3)][_0x499637(0x200)](_0x4d89b2['type'][_0x499637(0x1ec)]('event'),0x1,_0x499637(0x1c5),_0x499637(0x223),_0x499637(0x234));if(dbLogs[_0x499637(0x26d)](_0x499637(0x2e8))[_0x499637(0x217)]()){let _0x185fe7=dbLogs[_0x499637(0x379)](_0x499637(0x2e8))[_0x499637(0x1ad)](_0x1001fa=>{const _0x25c8f7=_0x499637;if(_0x4d89b2[_0x25c8f7(0x1d3)][_0x25c8f7(0x1c3)]==0x0)return![];else return _0x4d89b2[_0x25c8f7(0x1d3)][_0x25c8f7(0x25b)](_0x1001fa[_0x25c8f7(0x1d3)]);})[_0x499637(0x1ad)](_0x55ee33=>{const _0x46ae75=_0x499637;if(_0x4d89b2[_0x46ae75(0x33d)]=='')return!![];else return _0x55ee33[_0x46ae75(0x33d)][_0x46ae75(0x2ac)]()[_0x46ae75(0x25b)](_0x4d89b2[_0x46ae75(0x33d)][_0x46ae75(0x2ac)]());})[_0x499637(0x2bb)](_0x499637(0x26c)),_0x400b9a=_0x185fe7[_0x499637(0x217)]()[_0x499637(0x1c3)];_0x185fe7=_0x185fe7[_0x499637(0x256)]()[_0x499637(0x210)]((_0x4d89b2[_0x499637(0x339)]-0x1)*logPageSize,_0x4d89b2[_0x499637(0x339)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit('event-history',{'logs':_0x185fe7,'total':_0x400b9a});}else proxyEmit(_0x499637(0x304),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x564f0d){const _0x386d0e=_0x7bd7fc;if(dbLogs['has'](_0x386d0e(0x2e8))['value']()){const _0x2515f6=dbLogs[_0x386d0e(0x379)](_0x386d0e(0x2e8))['sortBy'](_0x386d0e(0x26c))[_0x386d0e(0x1ad)](_0x1ef97a=>{const _0x27a9b5=_0x386d0e;return _0x1ef97a[_0x27a9b5(0x1d3)]=='order';})[_0x386d0e(0x217)]();dbLogs['get'](_0x386d0e(0x2e8))[_0x386d0e(0x24c)]()[_0x386d0e(0x2d9)](),dbLogs[_0x386d0e(0x379)](_0x386d0e(0x2e8))[_0x386d0e(0x1f3)](_0x2515f6)[_0x386d0e(0x2d9)](),emitHistory(_0x564f0d);}}async function pauseBot(_0x1c7aab=pauseBotIntervalShort,_0x463c19,_0x1fb179,_0x5bdcaf=![]){const _0x226932=_0x7bd7fc,_0x381482=new Date()[_0x226932(0x1d7)]();if(!lastErrorShown||_0x381482-lastErrorShown>=_0x1c7aab){lastErrorShown=_0x381482;if(!lastBotPause)lastBotPause=_0x381482,consecutivePauses=0x1;else{if(_0x381482-lastBotPause-_0x1c7aab<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x5bdcaf){logHistory(_0x226932(0x1c5),_0x463c19+_0x226932(0x1d0)),await killBot();return;}else logHistory(_0x226932(0x1c5),_0x463c19+pauseBotMsg),_0x1c7aab=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x381482;}_0x1fb179?logger[_0x226932(0x27a)]('('+consecutivePauses+')\x20'+_0x463c19+'\x20>\x20details:',_0x1fb179):logger['debug']('('+consecutivePauses+')\x20'+_0x463c19);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x1c7aab),botPaused=![],_0x1c7aab==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x5ad38a=_0x7bd7fc;botPaused=!![],await sleep(0x3e8),process[_0x5ad38a(0x309)]({'stop':_0x5ad38a(0x1c1)},_0xe05680=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x48edc1,_0x3c2379,_0x2d9463=![]){const _0x1906da=_0x7bd7fc;if(botPaused)return;let _0x66fb03;const _0x190c98=config[_0x1906da(0x2f8)]||_0x1906da(0x2b3);if(_0x3c2379)logger[_0x1906da(0x27a)](_0x1906da(0x30f)+_0x3c2379);const _0x5bfc5d=()=>{const _0xd9c94b=_0x1906da;loading[_0xd9c94b(0x1c5)]='api-issue',emitLoadingProgress();};if(_0x48edc1['toString']()['includes'](_0x1906da(0x281)))logHistory('error',_0x190c98+_0x1906da(0x1af)),_0x5bfc5d();else{if(_0x48edc1['toString']()[_0x1906da(0x25b)](_0x1906da(0x1f2)))logHistory('error',_0x190c98+_0x1906da(0x26f)),_0x5bfc5d();else{if(_0x48edc1[_0x1906da(0x32f)]()['includes'](_0x1906da(0x1ca)))config['apiPassword']?_0x66fb03=_0x190c98+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x66fb03=_0x190c98+_0x1906da(0x2ed),logHistory(_0x1906da(0x1c5),_0x66fb03+_0x1906da(0x266)),_0x5bfc5d();else{if(_0x48edc1[_0x1906da(0x32f)]()[_0x1906da(0x25b)](_0x1906da(0x36c)))logHistory(_0x1906da(0x1c5),_0x190c98+_0x1906da(0x351)),_0x5bfc5d();else{if(!_0x2d9463)await handleError(_0x48edc1,null);}}}}}async function handleError(_0x8bcf86,_0x2b7f74,_0x42fbd7=''){const _0x2fad4a=_0x7bd7fc;if(botPaused)return;let _0x584ce3;const _0x5609bf=config['exchange']||_0x2fad4a(0x2b3);if(_0x2b7f74)logger[_0x2fad4a(0x27a)](_0x2fad4a(0x30f)+_0x2b7f74);if(_0x8bcf86[_0x2fad4a(0x32f)]()['includes'](_0x2fad4a(0x221)))_0x584ce3=_0x5609bf+'\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x584ce3,_0x8bcf86);else{if(_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x25b)](_0x2fad4a(0x368)))_0x584ce3=_0x5609bf+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x584ce3,_0x8bcf86);else{if(_0x8bcf86[_0x2fad4a(0x32f)]()['includes']('ExchangeNotAvailable')||_0x8bcf86['toString']()[_0x2fad4a(0x25b)]('OnMaintenance'))_0x584ce3=_0x5609bf+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x584ce3,_0x8bcf86['toString']());else{if(_0x8bcf86['toString']()[_0x2fad4a(0x25b)](_0x2fad4a(0x1ee)))_0x584ce3=_0x5609bf+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x584ce3,_0x8bcf86[_0x2fad4a(0x32f)]());else{if(_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x25b)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x584ce3=_0x5609bf+_0x2fad4a(0x33c),await pauseBot(undefined,_0x584ce3,_0x8bcf86[_0x2fad4a(0x32f)]());else{if(_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x2ac)]()['includes'](_0x2fad4a(0x331))||_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x2ac)]()[_0x2fad4a(0x25b)]('request-time'))_0x584ce3='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',await pauseBot(undefined,_0x584ce3,_0x8bcf86[_0x2fad4a(0x32f)]());else{if(_0x8bcf86[_0x2fad4a(0x32f)]()['includes'](_0x2fad4a(0x1b5)))_0x584ce3=_0x5609bf+_0x2fad4a(0x1e6),await pauseBot(undefined,_0x584ce3,_0x8bcf86[_0x2fad4a(0x32f)]());else{if(_0x8bcf86 instanceof ccxt[_0x2fad4a(0x1e5)])_0x584ce3=_0x5609bf+_0x2fad4a(0x2f1)+_0x8bcf86[_0x2fad4a(0x32f)](),logger[_0x2fad4a(0x27a)](_0x2fad4a(0x1dc),_0x8bcf86),await pauseBot(undefined,_0x584ce3,_0x8bcf86);else{if(_0x8bcf86[_0x2fad4a(0x32f)]()['includes'](_0x2fad4a(0x281)))logHistory(_0x2fad4a(0x1c5),_0x5609bf+_0x2fad4a(0x1e2)),logHistory(_0x2fad4a(0x1c5),_0x2fad4a(0x25c)),await killBot();else{if(_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x25b)](_0x2fad4a(0x1f2)))logHistory(_0x2fad4a(0x1c5),_0x5609bf+_0x2fad4a(0x2f0)),logHistory(_0x2fad4a(0x1c5),_0x2fad4a(0x25c)),await killBot();else{if(_0x8bcf86['toString']()[_0x2fad4a(0x25b)](_0x2fad4a(0x1ca))&&_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x25b)]('token\x20is\x20expired'))_0x584ce3=_0x5609bf+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)',await pauseBot(undefined,_0x584ce3,_0x8bcf86,!![]);else{if(_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x25b)](_0x2fad4a(0x1ca)))config[_0x2fad4a(0x27d)]?_0x584ce3=_0x5609bf+_0x2fad4a(0x2b6):_0x584ce3=_0x5609bf+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x2fad4a(0x1c5),_0x584ce3),logHistory(_0x2fad4a(0x1c5),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x8bcf86[_0x2fad4a(0x32f)]()['includes'](_0x2fad4a(0x36c)))logHistory('error',_0x5609bf+_0x2fad4a(0x1cb)),logHistory(_0x2fad4a(0x1c5),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x8bcf86[_0x2fad4a(0x32f)]()[_0x2fad4a(0x25b)]('InsufficientFunds'))logHistory(_0x2fad4a(0x1c5),_0x2fad4a(0x294)+_0x42fbd7),logger[_0x2fad4a(0x27a)]('Error\x20details:',_0x8bcf86);else{if(_0x8bcf86 instanceof ccxt[_0x2fad4a(0x1b9)]){_0x584ce3=_0x5609bf+_0x2fad4a(0x2f2)+_0x8bcf86[_0x2fad4a(0x32f)]();if(_0x42fbd7)_0x584ce3+=_0x2fad4a(0x240)+_0x42fbd7;await pauseBot(undefined,_0x584ce3,_0x8bcf86);}else{_0x584ce3='Unknown\x20error:\x20'+_0x8bcf86[_0x2fad4a(0x32f)]();if(_0x42fbd7)_0x584ce3+=_0x2fad4a(0x240)+_0x42fbd7;await pauseBot(undefined,_0x584ce3);}}}}}}}}}}}}}}}}function decryptRSA(_0x2e9986,_0x493a49){const _0x420c91=_0x7bd7fc,_0x45f2f1=forge['pki'][_0x420c91(0x1f0)](_0x2e9986),_0x195334=_0x45f2f1['decrypt'](forge[_0x420c91(0x25e)]['decode64'](_0x493a49),_0x420c91(0x1dd),{'md':forge['md'][_0x420c91(0x1c7)][_0x420c91(0x214)](),'mgf1':{'md':forge['md']['sha256'][_0x420c91(0x214)]()}});return _0x195334;}async function withRetry(_0x255e74,_0x5b481d){const _0x32b46f=_0x7bd7fc;let _0x30abe0=![],_0x34e3cc=0x0,_0xb4f5a5,_0x559dc5;while(_0x34e3cc<maxRetries){try{_0xb4f5a5=await _0x5b481d();break;}catch(_0x28c3c5){_0x559dc5=_0x28c3c5,!_0x30abe0?(_0x30abe0=!![],logger[_0x32b46f(0x27a)](_0x32b46f(0x23b)+_0x255e74+':',_0x28c3c5[_0x32b46f(0x32f)]())):await sleep(retryInterval);}_0x34e3cc++;}if(_0x34e3cc==0x0)return _0xb4f5a5;if(_0x34e3cc>=maxRetries)throw _0x559dc5;else return logger[_0x32b46f(0x27a)](_0x32b46f(0x2d4)+_0x34e3cc+'\x20attempts'),_0xb4f5a5;}function formatResult(_0x179d2d,_0x31c346){return parseFloat(_0x179d2d['toFixed'](_0x31c346));}function formatResultTruncate(_0x208849,_0x20b2f7){const _0x51dd47=_0x7bd7fc;let _0x211054=formatResultString(_0x208849,0xa),_0x433702=_0x211054['indexOf']('.');return _0x433702!=-0x1&&(_0x211054=_0x211054[_0x51dd47(0x210)](0x0,_0x433702+_0x20b2f7+0x1)),Number(_0x211054);}function formatResultString(_0x5ed3b5,_0x2b8856){const _0x5d108f=_0x7bd7fc;let _0x15274a;if(!(''+_0x5ed3b5)['includes']('e'))_0x15274a=+(Math[_0x5d108f(0x36f)](_0x5ed3b5+'e+'+_0x2b8856)+'e-'+_0x2b8856);else{let _0x476920=(''+_0x5ed3b5)[_0x5d108f(0x26b)]('e'),_0x31ec67='';+_0x476920[0x1]+_0x2b8856>0x0&&(_0x31ec67='+'),_0x15274a=+(Math['round'](+_0x476920[0x0]+'e'+_0x31ec67+(+_0x476920[0x1]+_0x2b8856))+'e-'+_0x2b8856);}return Number(_0x15274a)[_0x5d108f(0x202)](_0x2b8856);}function getServerTime(){const _0x317e12=_0x7bd7fc,_0xf32714=new Date();return _0xf32714[_0x317e12(0x33a)]()+'/'+(_0xf32714['getMonth']()+0x1)[_0x317e12(0x32f)]()['padStart'](0x2,'0')+'/'+_0xf32714[_0x317e12(0x303)]()[_0x317e12(0x32f)]()[_0x317e12(0x245)](0x2,'0')+'\x20'+_0xf32714[_0x317e12(0x241)]()['toString']()[_0x317e12(0x245)](0x2,'0')+':'+_0xf32714['getMinutes']()[_0x317e12(0x32f)]()[_0x317e12(0x245)](0x2,'0')+':'+_0xf32714['getSeconds']()[_0x317e12(0x32f)]()[_0x317e12(0x245)](0x2,'0');}function getTimeStamp(){const _0x48bc4b=_0x7bd7fc,_0xa8de5c=shiftedTime();return _0xa8de5c[_0x48bc4b(0x33a)]()+'/'+(_0xa8de5c[_0x48bc4b(0x28b)]()+0x1)[_0x48bc4b(0x32f)]()[_0x48bc4b(0x245)](0x2,'0')+'/'+_0xa8de5c[_0x48bc4b(0x303)]()['toString']()[_0x48bc4b(0x245)](0x2,'0')+'\x20'+_0xa8de5c[_0x48bc4b(0x241)]()[_0x48bc4b(0x32f)]()['padStart'](0x2,'0')+':'+_0xa8de5c[_0x48bc4b(0x307)]()[_0x48bc4b(0x32f)]()[_0x48bc4b(0x245)](0x2,'0')+':'+_0xa8de5c[_0x48bc4b(0x2e1)]()[_0x48bc4b(0x32f)]()[_0x48bc4b(0x245)](0x2,'0');}function getDate(){const _0x33a265=_0x7bd7fc,_0x3a61fa=shiftedTime();return _0x3a61fa[_0x33a265(0x33a)]()+'/'+(_0x3a61fa['getMonth']()+0x1)['toString']()[_0x33a265(0x245)](0x2,'0')+'/'+_0x3a61fa['getDate']()[_0x33a265(0x32f)]()[_0x33a265(0x245)](0x2,'0');}function getHour(){const _0x2b5d65=_0x7bd7fc,_0x3a5e14=shiftedTime();return _0x3a5e14[_0x2b5d65(0x241)]()[_0x2b5d65(0x32f)]()['padStart'](0x2,'0');}function sleep(_0x46f6df){return new Promise(_0x27c180=>setTimeout(_0x27c180,_0x46f6df));}function shiftedTime(){const _0x1596b9=_0x7bd7fc,_0x808981=new Date();let _0x39f358=_0x808981;if(config&&config[_0x1596b9(0x1f6)]!==0x0)_0x39f358=fns[_0x1596b9(0x352)](_0x808981,{'hours':config[_0x1596b9(0x1f6)]});return _0x39f358;}function timer(_0xc66b28){const _0x1b4bb5=_0x7bd7fc,_0x3e0752=new Date();!lasttime?console[_0x1b4bb5(0x20b)](getTimeStamp()+_0x1b4bb5(0x29d),_0xc66b28,_0x3e0752):console[_0x1b4bb5(0x20b)](getTimeStamp()+_0x1b4bb5(0x29d),_0xc66b28,(_0x3e0752-lasttime)/0x3e8),lasttime=_0x3e0752;}