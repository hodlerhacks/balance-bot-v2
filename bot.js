const _0x2f78fe=_0x5920;(function(_0x21e9a8,_0x10f765){const _0xe65028=_0x5920,_0x4d40c3=_0x21e9a8();while(!![]){try{const _0x3d3359=-parseInt(_0xe65028(0x19f))/0x1+parseInt(_0xe65028(0xb3))/0x2+-parseInt(_0xe65028(0x181))/0x3*(-parseInt(_0xe65028(0x289))/0x4)+parseInt(_0xe65028(0x217))/0x5+parseInt(_0xe65028(0x13d))/0x6*(parseInt(_0xe65028(0x1bc))/0x7)+-parseInt(_0xe65028(0x202))/0x8+-parseInt(_0xe65028(0xe4))/0x9*(parseInt(_0xe65028(0x258))/0xa);if(_0x3d3359===_0x10f765)break;else _0x4d40c3['push'](_0x4d40c3['shift']());}catch(_0x516129){_0x4d40c3['push'](_0x4d40c3['shift']());}}}(_0x1c1d,0x93696));const _0x43953a=function(){let _0x2857e0=!![];return function(_0x5f10f7,_0x4166b6){const _0x463469=_0x2857e0?function(){if(_0x4166b6){const _0x46aacc=_0x4166b6['apply'](_0x5f10f7,arguments);return _0x4166b6=null,_0x46aacc;}}:function(){};return _0x2857e0=![],_0x463469;};}(),_0x1863c4=_0x43953a(this,function(){const _0x4adfb7=_0x5920;return _0x1863c4[_0x4adfb7(0x277)]()[_0x4adfb7(0x188)](_0x4adfb7(0x116))[_0x4adfb7(0x277)]()[_0x4adfb7(0x237)](_0x1863c4)[_0x4adfb7(0x188)]('(((.+)+)+)+$');});_0x1863c4();'use strict';const ccxt=require(_0x2f78fe(0x203)),low=require(_0x2f78fe(0xf3)),FileSync=require(_0x2f78fe(0xc1)),fs=require('fs'),fns=require(_0x2f78fe(0x109)),forge=require('node-forge'),util=require(_0x2f78fe(0x259)),argv=require(_0x2f78fe(0x18b))(process[_0x2f78fe(0x19e)][_0x2f78fe(0x1f9)](0x2))[_0x2f78fe(0x19e)],path=require('path'),axios=require(_0x2f78fe(0xd9));let exchange,gTicker={},gChange={};const usdBasecoins=['USD',_0x2f78fe(0x157),_0x2f78fe(0x24f),_0x2f78fe(0xcb),'USDC',_0x2f78fe(0x16f)],excludedExchanges=[_0x2f78fe(0x25a)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2f78fe(0xda)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x2f78fe(0xbb)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x2f78fe(0x20f))['version'],environment=require(_0x2f78fe(0x20f))[_0x2f78fe(0xf4)]||_0x2f78fe(0x142),botID=process[_0x2f78fe(0x19e)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x2f78fe(0x220)](botID)&&(console[_0x2f78fe(0xb8)](_0x2f78fe(0x23b)+botID+_0x2f78fe(0x1e7)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x2f78fe(0x212)+userID+'/':_0x2f78fe(0x212),logspath=userID?'./logs/'+userID+'/':_0x2f78fe(0x193),loggerfile=fs['createWriteStream'](logspath+_0x2f78fe(0xba),{'flags':'a'});!fs[_0x2f78fe(0x22c)](configpath)&&fs[_0x2f78fe(0x1cb)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+_0x2f78fe(0x153),logfile=configpath+_0x2f78fe(0x288)+botID+_0x2f78fe(0x1bb),performancefile=configpath+_0x2f78fe(0x288)+botID+_0x2f78fe(0x100),coinresultsfile=configpath+_0x2f78fe(0x288)+botID+_0x2f78fe(0x160),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x2f78fe(0x147),configbackuppath=configpath+_0x2f78fe(0xe9),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2f78fe(0x246)]({'logs':[],'version':serverversion})[_0x2f78fe(0xfa)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2f78fe(0x246)]({'data':[],'version':serverversion})[_0x2f78fe(0xfa)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2f78fe(0x246)]({'bot':[],'version':serverversion})[_0x2f78fe(0xfa)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':{},'version':serverversion})[_0x2f78fe(0xfa)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4c53a7=>{console['log'](_0x4c53a7);},'simple':_0x41b8a8=>{const _0x272773=_0x2f78fe;console['log'](_0x41b8a8),loggerfile['write'](util[_0x272773(0x1f3)](_0x41b8a8)+'\x0a');},'full':async(_0x15e536,_0x576cad='')=>{const _0x46e0b6=_0x2f78fe;let _0x241ff1;if(config[_0x46e0b6(0xe2)])_0x241ff1=getTimeStamp()+':\x20'+config[_0x46e0b6(0x19c)]+_0x46e0b6(0x224)+_0x15e536;else _0x241ff1=getTimeStamp()+_0x46e0b6(0x136)+botID+'\x20>\x20'+_0x15e536;console[_0x46e0b6(0xb8)](_0x241ff1),loggerfile[_0x46e0b6(0xfa)](util['format'](_0x241ff1)+'\x0a'),_0x576cad&&(console[_0x46e0b6(0xb8)](_0x576cad),loggerfile[_0x46e0b6(0xfa)](util['format'](_0x576cad)+'\x0a'));},'debug':async(_0x15e724,_0x5d47b4='')=>{const _0x401f94=_0x2f78fe;let _0x120a9a;if(config[_0x401f94(0xe2)])_0x120a9a=getTimeStamp()+':\x20'+config[_0x401f94(0x19c)]+_0x401f94(0x106)+_0x15e724;else _0x120a9a=getTimeStamp()+_0x401f94(0x136)+botID+_0x401f94(0x106)+_0x15e724;if(debugging)console[_0x401f94(0xb8)](_0x120a9a);loggerfile['write'](util['format'](_0x120a9a)+'\x0a');if(_0x5d47b4){if(debugging)console[_0x401f94(0xb8)](_0x5d47b4);loggerfile[_0x401f94(0xfa)](util['format'](_0x5d47b4)+'\x0a');}}};process['on'](_0x2f78fe(0x18f),function(_0x3925ce){handleError(_0x3925ce['stack'],'uncaughtException');});settings[_0x2f78fe(0x27b)]!=config[_0x2f78fe(0x27b)]&&updateTimeshift(settings[_0x2f78fe(0x27b)]);settings[_0x2f78fe(0x228)]!=config['onepagemode']&&updateOnepagemode(settings['onepagemode']);(settings[_0x2f78fe(0x1c4)]&&!config[_0x2f78fe(0x1c4)]||!settings['marketcapApi']&&config[_0x2f78fe(0x1c4)])&&updateMarketcapApi(settings[_0x2f78fe(0x1c4)]);process['send']({'started':'running'},_0x18382d=>{}),initializeProcessListeners();function proxyEmit(_0x449d87,_0x4a7c25=null){const _0x527c14=_0x2f78fe;process[_0x527c14(0x240)]({'function':_0x449d87,'args':_0x4a7c25},_0x500138=>{});}function initializeProcessListeners(){const _0x1d563b=_0x2f78fe;process['on'](_0x1d563b(0x17a),_0x1401a2=>{const _0x383b95=_0x1d563b;switch(Object[_0x383b95(0x26d)](_0x1401a2)[0x0]){case _0x383b95(0x27b):_0x1401a2['timeshift']!=undefined&&(settings[_0x383b95(0x27b)]=_0x1401a2[_0x383b95(0x27b)],updateTimeshift(settings[_0x383b95(0x27b)]));break;case _0x383b95(0x228):_0x1401a2[_0x383b95(0x228)]!=undefined&&(settings[_0x383b95(0x228)]=_0x1401a2[_0x383b95(0x228)],updateOnepagemode(settings[_0x383b95(0x228)]));break;case _0x383b95(0x1c4):_0x1401a2[_0x383b95(0x1c4)]!=undefined&&(settings[_0x383b95(0x1c4)]=_0x1401a2[_0x383b95(0x1c4)],updateMarketcapApi(settings['marketcapApi']));break;case _0x383b95(0x1bf):_0x1401a2[_0x383b95(0x1bf)]!=undefined&&(bots=JSON[_0x383b95(0x178)](_0x1401a2[_0x383b95(0x1bf)]),proxyEmit(_0x383b95(0x1bf),bots));break;case _0x383b95(0x225):switch(_0x1401a2[_0x383b95(0x225)]){case _0x383b95(0xde):initclient();break;case _0x383b95(0x1fe):toggleBotMode();break;case _0x383b95(0x25f):emitHistory(_0x1401a2[_0x383b95(0x1b0)]);break;case _0x383b95(0x1fd):deleteHistoryAlerts(_0x1401a2[_0x383b95(0x1b0)]);break;case _0x383b95(0x1a5):getPortfolio(_0x1401a2['args']);break;case _0x383b95(0x215):storeConfiguration(_0x1401a2[_0x383b95(0x1b0)]);break;case _0x383b95(0x1be):storeHeadless(_0x1401a2['args']);break;case _0x383b95(0x143):storeFiat(_0x1401a2[_0x383b95(0x1b0)]);break;case _0x383b95(0xeb):resetHistory();break;case _0x383b95(0x24c):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x1401a2[_0x383b95(0x1b0)]);break;case _0x383b95(0x25d):cancelLoading();break;case _0x383b95(0xc7):showConfig();break;case _0x383b95(0x216):sendMetricsTelegram();break;case _0x383b95(0x23f):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x1aa4c4=![]){const _0x51de68=_0x2f78fe;logger[_0x51de68(0x12e)]('Reset\x20|\x20'+(_0x1aa4c4?_0x51de68(0x14b):_0x51de68(0x18d))+'\x20|\x20exchange:\x20'+config[_0x51de68(0xe8)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config['apiKey']!=''&&config[_0x51de68(0x1f5)]!=_0x51de68(0x234)){loadingProgress=0x0;if(_0x1aa4c4){await initExchange();const _0x99f832=await testAPI();if(!_0x99f832)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit('configuration',emittedConfiguration()),initialPerformanceStored=![];}const _0x4f332f=await getCoins();[currentCoins,currentCoinsAll]=_0x4f332f,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x51de68(0x12e)](_0x51de68(0xd5)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x51de68(0x132)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x518c6d=![]){const _0x311b52=_0x2f78fe;logger[_0x311b52(0x12e)]('Resuming\x20('+(_0x518c6d?_0x311b52(0x10e):_0x311b52(0x177))+_0x311b52(0x1d6)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x518c6d){getBalances();return;}coinsLoaded=![];if(config[_0x311b52(0x1f5)]!=''&&config['apiKey']!=_0x311b52(0x234)){loadingProgress=0x1;const _0x5ca110=await getCoins();[currentCoins,currentCoinsAll]=_0x5ca110,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x311b52(0x12e)](_0x311b52(0xd5)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x311b52(0x132)]==0x0&&allOpenOrders[_0x311b52(0x132)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x481dc4){const _0x424401=_0x2f78fe;let _0x3adb14=![];if(_0x481dc4)_0x3adb14=!![];const _0x25b823=_0x3adb14?_0x481dc4:currentCoins,_0x297c2d=_0x25b823['map'](_0x6394cd=>_0x6394cd[_0x424401(0xf2)]);if(!config[_0x424401(0x1c4)]||!_0x3adb14&&!config['marketcapEnabled']||_0x297c2d[_0x424401(0x132)]==0x0)return;let _0x50b588=null;try{_0x50b588=await axios[_0x424401(0x12f)](_0x424401(0xec),{'headers':{'X-CMC_PRO_API_KEY':settings['marketcapApi']}});}catch(_0x43f56e){_0x50b588=null,_0x43f56e[_0x424401(0x277)]()[_0x424401(0x252)](_0x424401(0x161))?(config[_0x424401(0x1c4)]=![],updateConfig(),proxyEmit(_0x424401(0x134),emittedConfiguration()),logHistory(_0x424401(0x236),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x424401(0x236),'CoinMarketCap\x20ID\x20Map\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0x424401(0x280)),logger[_0x424401(0x12e)](_0x424401(0x1e3),_0x43f56e[_0x424401(0x277)]()+_0x424401(0x1d4)+_0x43f56e[_0x424401(0x231)]));}if(!_0x50b588||!_0x50b588['data'])return;const _0x4ec91d=new Map();let _0x3382e0=[];_0x297c2d['forEach'](_0x1e3e96=>{const _0x3fd247=_0x424401,_0x20bf0a=_0x50b588[_0x3fd247(0xd0)][_0x3fd247(0xd0)][_0x3fd247(0x18c)](_0x582331=>_0x582331[_0x3fd247(0x204)]==_0x1e3e96);_0x20bf0a&&(_0x4ec91d['set'](_0x1e3e96,_0x20bf0a['id']),_0x3382e0[_0x3fd247(0x1df)](_0x20bf0a['id']));});let _0x4f5a49=null;try{_0x4f5a49=await axios['get']('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x424401(0x1c4)]},'params':{'id':_0x3382e0[_0x424401(0x277)]()}});}catch(_0x376831){_0x4f5a49=null,_0x376831[_0x424401(0x277)]()[_0x424401(0x252)](_0x424401(0x161))?(config[_0x424401(0x1c4)]=![],updateConfig(),proxyEmit(_0x424401(0x134),emittedConfiguration()),logHistory(_0x424401(0x236),_0x424401(0x11e))):(logHistory(_0x424401(0x236),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger['debug'](_0x424401(0x1e3),_0x376831[_0x424401(0x277)]()+_0x424401(0x1d4)+_0x376831['code']));}const _0x4b6889=new Map();let _0x62936d=!![];if(_0x4f5a49){let _0x5b64e3=0x0;const _0x88302d=_0x4f5a49['data'];_0x297c2d['forEach'](_0x39df18=>{const _0x53e6cb=_0x424401,_0x369df4=_0x4ec91d[_0x53e6cb(0x12f)](_0x39df18);if(_0x88302d[_0x53e6cb(0xd0)][_0x369df4]&&_0x88302d['data'][_0x369df4]['quote']['USD']['market_cap'])_0x4b6889[_0x53e6cb(0x175)](_0x39df18,_0x88302d['data'][_0x369df4]['quote'][_0x53e6cb(0x245)][_0x53e6cb(0x122)]),_0x5b64e3+=_0x88302d[_0x53e6cb(0xd0)][_0x369df4][_0x53e6cb(0x11c)][_0x53e6cb(0x245)][_0x53e6cb(0x122)];else{if(_0x88302d[_0x53e6cb(0xd0)][_0x369df4]&&_0x88302d[_0x53e6cb(0xd0)][_0x369df4]['self_reported_market_cap'])_0x4b6889[_0x53e6cb(0x175)](_0x39df18,_0x88302d[_0x53e6cb(0xd0)][_0x369df4][_0x53e6cb(0x167)]),_0x5b64e3+=_0x88302d[_0x53e6cb(0xd0)][_0x369df4][_0x53e6cb(0x167)];else{if(![_0x53e6cb(0xce),_0x53e6cb(0x245)][_0x53e6cb(0x252)](_0x39df18)){if(_0x3adb14)logHistory(_0x53e6cb(0x236),_0x53e6cb(0x26b)+_0x39df18+_0x53e6cb(0xbf));else{const _0x265606=config[_0x53e6cb(0xf9)]['find'](_0x1f4254=>_0x1f4254[_0x53e6cb(0xf2)]==_0x39df18);_0x265606&&!_0x265606[_0x53e6cb(0x15e)]&&_0x265606['slider']==-0x1&&(_0x62936d=![],logHistory(_0x53e6cb(0x236),'CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour'),logger[_0x53e6cb(0x12e)](_0x53e6cb(0x26b)+_0x39df18));}}}}});if(!_0x62936d)return;_0x297c2d[_0x424401(0x1ae)](_0x1f2a93=>{const _0x5d0979=_0x424401,_0x84de96=_0x4b6889[_0x5d0979(0x12f)](_0x1f2a93)?_0x4b6889[_0x5d0979(0x12f)](_0x1f2a93):0x0;if(_0x3adb14){const _0x516ce9=_0x481dc4[_0x5d0979(0x18c)](_0xa66852=>_0xa66852[_0x5d0979(0xf2)]==_0x1f2a93);_0x516ce9&&(_0x516ce9[_0x5d0979(0x1ec)]=_0x84de96);}else{const _0x54e8a9=currentCoins[_0x5d0979(0x18c)](_0x30c134=>_0x30c134[_0x5d0979(0xf2)]==_0x1f2a93);_0x54e8a9&&(_0x54e8a9[_0x5d0979(0x1ec)]=_0x84de96);const _0x43baa0=currentCoinsAll['find'](_0x2675c2=>_0x2675c2[_0x5d0979(0xf2)]==_0x1f2a93);_0x43baa0&&(_0x43baa0[_0x5d0979(0x1ec)]=_0x84de96);}}),!_0x3adb14&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1981cc=_0x2f78fe,_0x450e3e=0x2;let _0x3f4270=0x0,_0x5eb3c5=0x0,_0x3cab83=0x0,_0x201190=0x0,_0xb11f47=0x0;config[_0x1981cc(0xf9)][_0x1981cc(0x1ae)](_0x52c391=>{const _0x3af4ea=_0x1981cc;if(!_0x52c391[_0x3af4ea(0x15e)]){_0x3cab83++,_0x3f4270+=_0x52c391[_0x3af4ea(0x263)];if(_0x52c391['slider']===-0x1){_0x3f4270++;const _0x4165de=currentCoinsAll['find'](_0x55c44a=>_0x55c44a[_0x3af4ea(0xf2)]==_0x52c391['coin']);_0x4165de&&(_0x201190+=_0x4165de[_0x3af4ea(0x1ec)],_0xb11f47+=Math['sqrt'](_0x4165de[_0x3af4ea(0x1ec)]));}if(_0x52c391[_0x3af4ea(0x263)]!==-0x1)_0x5eb3c5++;}});let _0x554792;const _0x39a7ae=0x64-_0x3f4270,_0x63033e=_0x3cab83-_0x5eb3c5;_0x554792=_0x63033e===0x0?_0x3f4270:Math[_0x1981cc(0x1dd)](0x64,_0x3f4270),config[_0x1981cc(0xf9)][_0x1981cc(0x1ae)](_0x28cea2=>{const _0x34f7b1=_0x1981cc,_0xae465=currentCoinsAll[_0x34f7b1(0x18c)](_0x582a99=>_0x582a99['coin']==_0x28cea2[_0x34f7b1(0xf2)]);_0xae465&&(_0x28cea2[_0x34f7b1(0x1ec)]=_0xae465['marketcap']);if(!_0x28cea2[_0x34f7b1(0x15e)]){if(_0x554792<=0x64){if(_0x28cea2[_0x34f7b1(0x263)]===-0x1){if(_0x201190!==0x0&&config[_0x34f7b1(0xc9)]){if(_0xae465){if(config[_0x34f7b1(0xc9)]=='marketcap')_0x28cea2[_0x34f7b1(0x139)]=(_0x39a7ae/(_0x201190/_0xae465[_0x34f7b1(0x1ec)]))[_0x34f7b1(0x278)](_0x450e3e);else config['marketcapEnabled']==_0x34f7b1(0x148)&&(_0x28cea2[_0x34f7b1(0x139)]=(_0x39a7ae/(_0xb11f47/Math[_0x34f7b1(0x113)](_0xae465['marketcap'])))[_0x34f7b1(0x278)](_0x450e3e));}}}}}}),updateConfig();}function updateConfig(){const _0x3b2ced=_0x2f78fe;let _0x192e4c=dbConfig[_0x3b2ced(0x12f)]('bot')[_0x3b2ced(0x18c)]({'botID':botID})[_0x3b2ced(0x230)]();_0x192e4c&&dbConfig[_0x3b2ced(0x12f)](_0x3b2ced(0xe1))[_0x3b2ced(0x18c)]({'botID':botID})['assign'](config)[_0x3b2ced(0xfa)]();}function logMemory(){const _0x1f225d=_0x2f78fe;if(environment!='staging')return;const _0x1197af=process[_0x1f225d(0x1ea)]()['heapUsed']/0x400/0x400;logger[_0x1f225d(0x12e)](_0x1f225d(0x275)+process[_0x1f225d(0x15d)]+'\x20uses\x20'+formatResult(_0x1197af,0x1)+_0x1f225d(0x244));}async function startScheduler(){const _0x18f91d=_0x2f78fe,_0x1a485e=shiftedTime()[_0x18f91d(0x117)]();getMarketCap(),loadSymbols(),_0x1a485e==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x492c3f=![]){const _0x2c71ad=_0x2f78fe;logger[_0x2c71ad(0x12e)](_0x2c71ad(0x104));if(!_0x492c3f)while(lockOrders!=ORDERS[_0x2c71ad(0xbb)]||coolingDown){await sleep(0x3e8);}process[_0x2c71ad(0x240)]({'stop':'restart'},_0x2c5663=>{});}async function initExchange(_0xda1660=config[_0x2f78fe(0xe8)],_0x32d0df=config['apiKey'],_0x35ddc5=config['apiSecret'],_0x91614=config[_0x2f78fe(0xb9)],_0x17a37f=config[_0x2f78fe(0x1f7)]){const _0x1e801c=_0x2f78fe;if(exchange){logger[_0x1e801c(0x12e)](_0x1e801c(0x108));return;}logger[_0x1e801c(0x12e)]('Initializing\x20exchange');!supportedExchanges()[_0x1e801c(0x252)](_0xda1660)&&(logHistory('error','Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0xda1660+_0x1e801c(0x130)),killBot());const _0x2547ca=ccxt[_0x1e801c(0x102)][_0xda1660[_0x1e801c(0xfc)]()];exchange=new _0x2547ca({'apiKey':_0x32d0df,'secret':_0x35ddc5,'options':{'defaultType':'spot'}});if(_0x91614)exchange[_0x1e801c(0x1a9)]=_0x91614;if(exchange[_0x1e801c(0xb7)][_0x1e801c(0x1f7)])exchange['setSandboxMode'](_0x17a37f);}function updateExchange(_0x1faca8,_0x51079c,_0x2ff337=null){const _0x17e59b=_0x2f78fe;exchange[_0x17e59b(0x1f5)]=_0x1faca8,exchange[_0x17e59b(0x155)]=_0x51079c,exchange[_0x17e59b(0x1a9)]=_0x2ff337,logger[_0x17e59b(0x12e)](_0x17e59b(0x1ab));}function setStableCoins(){const _0x3331ff=_0x2f78fe;let _0x459102=config[_0x3331ff(0x12a)]==_0x3331ff(0x1cf)?_0x3331ff(0x1cf):config[_0x3331ff(0x12a)]==_0x3331ff(0x271)?'PAXG':_0x3331ff(0x10d),_0x2b1af7=allSymbols['includes'](_0x459102+_0x3331ff(0x170))?_0x3331ff(0x245):allSymbols[_0x3331ff(0x252)](_0x459102+_0x3331ff(0x1d2))?_0x3331ff(0xcb):_0x3331ff(0xce),_0x1306b4=allSymbols[_0x3331ff(0x252)](_0x459102+_0x3331ff(0xea))?_0x3331ff(0xce):_0x2b1af7;enableFiatToggle=!![],_0x2b1af7=='EUR'&&(enableFiatToggle=![],storeFiat(_0x3331ff(0xce))),_0x1306b4!=_0x3331ff(0xce)&&(enableFiatToggle=![],storeFiat(_0x3331ff(0x245))),stablecoins={'eur':{'coin':''+_0x459102+_0x1306b4,'symbol':_0x459102+'/'+_0x1306b4},'usd':{'coin':''+_0x459102+_0x2b1af7,'symbol':_0x459102+'/'+_0x2b1af7}};}async function initwsCcxt(){const _0xaa6afa=_0x2f78fe;initCycle++;const _0x309d25=initCycle;let _0x10ab77=[];config[_0xaa6afa(0xf9)][_0xaa6afa(0x1ae)](_0x55d0b3=>{const _0x457b4c=_0xaa6afa;if(!_0x55d0b3[_0x457b4c(0x15e)]&&_0x55d0b3[_0x457b4c(0xf2)]!=config[_0x457b4c(0x12a)])_0x10ab77[_0x457b4c(0x1df)](_0x55d0b3[_0x457b4c(0x204)]);});if(!_0x10ab77[_0xaa6afa(0x252)](stablecoins['eur'][_0xaa6afa(0x204)]))_0x10ab77[_0xaa6afa(0x1df)](stablecoins['eur'][_0xaa6afa(0x204)]);if(!_0x10ab77['includes'](stablecoins[_0xaa6afa(0x13a)][_0xaa6afa(0x204)]))_0x10ab77['push'](stablecoins[_0xaa6afa(0x13a)][_0xaa6afa(0x204)]);loadCoins(_0x10ab77),_0x10ab77=validateSymbols(_0x10ab77);const _0x242a26=async _0x4b1db2=>{const _0x41ea92=_0xaa6afa;let _0x19a712;try{const _0x262804=await getTickers(_0x4b1db2);Object[_0x41ea92(0x270)](_0x262804)[_0x41ea92(0x1ae)](_0x19aad8=>{const _0x15586b=_0x41ea92;_0x19a712=_0x19aad8[0x1][_0x15586b(0x204)],gTicker[noslash(_0x19a712)]=_0x19aad8[0x1]['last'],gChange[_0x19a712]=_0x19aad8[0x1][_0x15586b(0x1ca)];});}catch(_0x247e9c){await handleError(_0x247e9c,_0x41ea92(0x1d3),_0x19a712);}},_0x456e44=async _0x21361d=>{const _0x392628=_0xaa6afa;while(initCycle==_0x309d25){if(!botPaused)try{const _0x1bb65e=await exchange[_0x392628(0xbe)](_0x21361d);gTicker[noslash(_0x1bb65e[0x0][_0x392628(0x204)])]=_0x1bb65e[0x0]['price'];}catch(_0x508177){if(!exchangeStopped)await handleError(_0x508177,_0x392628(0x183),_0x21361d);}else await sleep(0x64);}},_0x243dc1=async _0x5bbcab=>{const _0x58ac74=_0xaa6afa;while(initCycle==_0x309d25){if(!botPaused)try{const _0x1810da=await exchange[_0x58ac74(0xbd)](_0x5bbcab),_0x4afac=_0x1810da['pop']();gTicker[noslash(_0x4afac[_0x58ac74(0x204)])]=_0x4afac[_0x58ac74(0xc4)];}catch(_0x590ae2){if(!exchangeStopped)await handleError(_0x590ae2,_0x58ac74(0x1c2),_0x5bbcab[_0x58ac74(0x277)]());}else await sleep(0x64);}},_0x185aae=async _0x505efc=>{const _0x554bf7=_0xaa6afa;while(initCycle==_0x309d25){if(!botPaused){let _0x4b25d7;try{await sleep(0x3c*0x3e8);const _0x221d79=await getTickers(_0x505efc);Object[_0x554bf7(0x270)](_0x221d79)['forEach'](_0x231340=>{const _0x4c4cb6=_0x554bf7;_0x4b25d7=_0x231340[0x1][_0x4c4cb6(0x204)],gChange[_0x4b25d7]=_0x231340[0x1]['percentage'];});}catch(_0x26c2e0){if(!exchangeStopped)await handleError(_0x26c2e0,_0x554bf7(0x146),_0x4b25d7);}}else await sleep(0x64);}},_0x282c06=async _0x38c220=>{const _0x4f3083=_0xaa6afa;while(initCycle==_0x309d25){if(!botPaused)try{const _0x332cc8=await exchange[_0x4f3083(0x20c)](_0x38c220);initCycle==_0x309d25&&_0x332cc8[_0x4f3083(0x1ae)](_0x36d38d=>{updateNumberCoinsCcxt(_0x36d38d);});}catch(_0x1f0e3c){if(!exchangeStopped)await handleError(_0x1f0e3c,_0x4f3083(0x11f));}else await sleep(0x64);}};_0x242a26(_0x10ab77),_0x185aae(_0x10ab77),exchange[_0xaa6afa(0xb7)][_0xaa6afa(0xbd)]&&!(config[_0xaa6afa(0xe8)]==_0xaa6afa(0xd2)&&_0x10ab77[_0xaa6afa(0x132)]>0xa)?_0x243dc1(_0x10ab77):_0x10ab77[_0xaa6afa(0x1ae)](_0x209077=>{_0x456e44(_0x209077);}),_0x10ab77[_0xaa6afa(0x1ae)](_0x1cafe0=>{_0x282c06(_0x1cafe0);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x528e2e){const _0xfdd9b9=_0x2f78fe;let _0x3199de={};try{if(config[_0xfdd9b9(0xe8)]!=_0xfdd9b9(0x197))_0x3199de=await exchange[_0xfdd9b9(0x15c)](_0x528e2e);else for(const _0x41b05e of _0x528e2e){const _0xcfdfee=await exchange[_0xfdd9b9(0x261)](_0x41b05e);_0x3199de[_0x41b05e]=_0xcfdfee;}return _0x3199de;}catch(_0x558da6){throw _0x558da6;}}function setBlockTransactionDetection(_0x536505){const _0x1dd4fa=_0x2f78fe;blockTransactionDetection=_0x536505,logger[_0x1dd4fa(0x12e)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x3706fd=0x0){const _0x534efc=_0x2f78fe;transactionDetectionOngoing=!![];try{const _0x1baaa4=await getCoins(_0x3706fd),[_0x39384e,_0x569341]=_0x1baaa4;let _0x48f064=[];currentCoins['forEach'](_0x9b5455=>{const _0x4534f3=_0x5920,_0x20e29c=_0x39384e[_0x4534f3(0x18c)](_0x22fbed=>_0x22fbed[_0x4534f3(0xf2)]==_0x9b5455[_0x4534f3(0xf2)]);if(_0x20e29c){if(_0x9b5455['number']!=_0x20e29c[_0x4534f3(0x101)]){let _0x3b3ad8;if(_0x9b5455[_0x4534f3(0xf2)]!=config['basecoin']){const _0xb162c5=gTicker[noslash(_0x9b5455[_0x4534f3(0x204)])];_0x3b3ad8=_0x9b5455['reverse']?0x1/_0xb162c5:_0xb162c5;}else _0x3b3ad8=0x1;_0x48f064['push']({'coin':_0x9b5455[_0x4534f3(0xf2)],'symbol':_0x9b5455[_0x4534f3(0x204)],'price':_0x3b3ad8,'number':Number(formatResult(_0x20e29c[_0x4534f3(0x101)]-_0x9b5455['number'],0x8)),'basecoinvalue':_0x3b3ad8*(_0x20e29c[_0x4534f3(0x101)]-_0x9b5455['number'])});}}});if(_0x48f064[_0x534efc(0x132)]>0x0&&!blockTransactionDetection){for(const _0xccad00 of _0x48f064){if(config[_0x534efc(0x198)]){logger[_0x534efc(0x12e)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0xccad00[_0x534efc(0x17c)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x534efc(0x207)]);if(lastFees['highest']==0x0||Math['abs'](_0xccad00[_0x534efc(0x17c)])>lastFees[_0x534efc(0x207)]*0x3){if(config[_0x534efc(0x198)]==_0x534efc(0x221)){delete _0xccad00[_0x534efc(0x204)],delete _0xccad00[_0x534efc(0x17c)];let _0x410160=[],_0x4f931a=[...config['liquidity']]||[],_0x557323=config[_0x534efc(0x274)];_0x4f931a[_0x534efc(0x1e9)]((_0x2ef73b,_0x5f02f7)=>_0x2ef73b[_0x534efc(0xc5)]>_0x5f02f7[_0x534efc(0xc5)]?-0x1:_0x5f02f7['date']>_0x2ef73b[_0x534efc(0xc5)]?0x1:0x0);const _0x2aff8b=getDate();if(_0x4f931a[0x0]){const _0x38efd0=fns['parse'](_0x4f931a[0x0][_0x534efc(0xc5)],_0x534efc(0x15b),new Date()),_0x21755e=fns[_0x534efc(0x178)](_0x2aff8b,_0x534efc(0x15b),new Date());if(fns[_0x534efc(0x124)](_0x38efd0,_0x21755e)){_0x410160=_0x4f931a[0x0][_0x534efc(0x12b)];const _0x5e4af8=_0x410160[_0x534efc(0x18c)](_0x58abc1=>_0x58abc1[_0x534efc(0xf2)]==_0xccad00[_0x534efc(0xf2)]);_0x5e4af8?(_0x5e4af8['number']+=_0xccad00[_0x534efc(0x101)],_0x5e4af8[_0x534efc(0x101)]==0x0&&(_0x410160=_0x410160['filter'](_0x5e5375=>{const _0x17828f=_0x534efc;return _0x5e5375[_0x17828f(0xf2)]!=_0xccad00[_0x17828f(0xf2)];}))):_0x410160[_0x534efc(0x1df)](_0xccad00);const _0x4e1c72=_0x557323[_0x534efc(0x18c)](_0x4d413c=>_0x4d413c[_0x534efc(0xc5)]==_0x2aff8b);_0x4e1c72[_0x534efc(0x12b)]=_0x410160;}else _0x557323[_0x534efc(0x1df)]({'date':_0x2aff8b,'changes':[_0xccad00]});}const _0x148a47=_0x557323['find'](_0x556f30=>_0x556f30[_0x534efc(0xc5)]==_0x2aff8b);if(_0x148a47){let _0x41720c=!![];_0x148a47[_0x534efc(0x12b)][_0x534efc(0x1ae)](_0x38e46b=>{const _0x259461=_0x534efc;if(_0x38e46b[_0x259461(0x101)]!=0x0)_0x41720c=![];}),_0x41720c&&(_0x557323=_0x557323[_0x534efc(0x19b)](_0x1b5cf2=>{return _0x1b5cf2['date']!=_0x2aff8b;}));}let _0x4526d3=dbConfig['get'](_0x534efc(0xe1))[_0x534efc(0x18c)]({'botID':botID})[_0x534efc(0x230)]();_0x4526d3&&(dbConfig['get'](_0x534efc(0xe1))[_0x534efc(0x18c)]({'botID':botID})['assign']({'liquidity':_0x557323})['write'](),config[_0x534efc(0x274)]=_0x557323);logHistory(_0x534efc(0x27d),_0x534efc(0x267)+Math[_0x534efc(0x1c0)](_0xccad00['number'])+'\x20'+_0xccad00[_0x534efc(0xf2)]+'\x20'+(_0xccad00['number']>0x0?_0x534efc(0x1a2):_0x534efc(0x179))+_0x534efc(0xc2)),proxyEmit('configuration',emittedConfiguration());const _0x2d8a95=getNormalizedPerformance();emitPerformance(_0x2d8a95),getStartingBalances(_0x2d8a95),logger[_0x534efc(0x12e)]('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x534efc(0x198)]==_0x534efc(0xb5)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x534efc(0x27d),'Portfolio\x20change\x20detected:\x20'+Math['abs'](_0xccad00[_0x534efc(0x101)])+'\x20'+_0xccad00[_0x534efc(0xf2)]+'\x20'+(_0xccad00['number']>0x0?'added':_0x534efc(0x179))+_0x534efc(0x154))):logger[_0x534efc(0x12e)](_0x534efc(0x267)+Math[_0x534efc(0x1c0)](_0xccad00[_0x534efc(0x101)])+'\x20'+_0xccad00[_0x534efc(0xf2)]+'\x20'+(_0xccad00[_0x534efc(0x101)]>0x0?'added':_0x534efc(0x179))+_0x534efc(0x28b)));}else logger[_0x534efc(0x12e)](_0x534efc(0x1fc)+Math[_0x534efc(0x1c0)](_0xccad00[_0x534efc(0x101)])+'\x20'+_0xccad00[_0x534efc(0xf2)]+'\x20'+(_0xccad00[_0x534efc(0x101)]>0x0?_0x534efc(0x1a2):_0x534efc(0x179)));}else logger[_0x534efc(0x12e)](_0x534efc(0x267)+Math[_0x534efc(0x1c0)](_0xccad00[_0x534efc(0x101)])+'\x20'+_0xccad00['coin']+'\x20'+(_0xccad00[_0x534efc(0x101)]>0x0?_0x534efc(0x1a2):_0x534efc(0x179))+'\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x39384e,currentCoinsAll=_0x569341;}}catch(_0x55c183){if(!exchangeStopped)await handleError(_0x55c183,_0x534efc(0x173));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x11d734=_0x2f78fe;try{markets=await exchange['loadMarkets'](!![]),allSymbols=[],Object[_0x11d734(0x270)](markets)[_0x11d734(0x1ae)](_0x13dd5b=>{const _0x355432=_0x11d734;_0x13dd5b[0x1][_0x355432(0x14d)]&&_0x13dd5b[0x1][_0x355432(0x1d5)]&&allSymbols[_0x355432(0x1df)](_0x13dd5b[0x0]);});}catch(_0x11f2ec){markets?logger[_0x11d734(0x12e)]('Error\x20in\x20loadSymbols():\x20'+_0x11f2ec[_0x11d734(0x277)]()):(loading[_0x11d734(0x24d)]=!![],_0x11f2ec[_0x11d734(0x277)]()['toLowerCase']()[_0x11d734(0x252)](_0x11d734(0x17d))||_0x11f2ec[_0x11d734(0x277)]()[_0x11d734(0xfc)]()['includes']('request-time')?(logHistory(_0x11d734(0x236),_0x11d734(0xd6)),loading['error']=_0x11d734(0x1c7)):handleErrorNoStop(_0x11f2ec,_0x11d734(0x1a3),!![]),logHistory('error',_0x11d734(0x137)),logHistory(_0x11d734(0x236),_0x11d734(0x282)+loadCoinsRetryInterval/0xea60+_0x11d734(0x1c5)),logger[_0x11d734(0x12e)]('Error\x20details:',_0x11f2ec),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x418f67){const _0x57b206=_0x2f78fe;let _0x549ec8=[];return _0x418f67[_0x57b206(0x1ae)](_0x1f0924=>{const _0x51e608=_0x57b206;!allSymbols['includes'](_0x1f0924)?(logHistory('error','Invalid\x20symbol:\x20'+_0x1f0924+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'),loading[_0x51e608(0x287)]=!![],emitLoadingProgress()):_0x549ec8['push'](_0x1f0924);}),_0x549ec8;}function _0x5920(_0x1902c1,_0x2074f3){const _0x40943a=_0x1c1d();return _0x5920=function(_0x1863c4,_0x43953a){_0x1863c4=_0x1863c4-0xb3;let _0x1c1d4a=_0x40943a[_0x1863c4];return _0x1c1d4a;},_0x5920(_0x1902c1,_0x2074f3);}async function initclient(){const _0x88467e=_0x2f78fe;proxyEmit(_0x88467e(0x134),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x88467e(0x158),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xd7e06=getNormalizedPerformance();emitPerformance(_0xd7e06),getStartingBalances(_0xd7e06);}async function toggleBotMode(){const _0xe84cbd=_0x2f78fe;let _0x349333=dbConfig['get'](_0xe84cbd(0xe1))[_0xe84cbd(0x18c)]({'botID':botID})[_0xe84cbd(0x230)]();if(_0x349333){const _0x5b6f6b=!_0x349333['headless'];dbConfig[_0xe84cbd(0x12f)](_0xe84cbd(0xe1))[_0xe84cbd(0x18c)]({'botID':botID})[_0xe84cbd(0x213)]({'headless':_0x5b6f6b})[_0xe84cbd(0xfa)](),config[_0xe84cbd(0x268)]=_0x5b6f6b,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2373a9=_0x2f78fe;process['send']({'updatebotmanager':!![]},_0x128d74=>{}),logger[_0x2373a9(0x12e)](_0x2373a9(0x1b1)+config['headless']);}async function loadCoins(_0x4e563a){const _0x69df37=_0x2f78fe;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x5d67f0,_0x40dabd=0x0,_0x1cd1ee=0x0;_0x4e563a[_0x69df37(0x1ae)](_0x29b6c0=>{const _0x3bffef=_0x69df37;loading[_0x3bffef(0x1da)][_0x3bffef(0x1df)](_0x29b6c0);}),loadingCanceled=![];let _0x224314=![];while(_0x5d67f0!=_0x4e563a[_0x69df37(0x132)]+maxLoadingProgress){_0x5d67f0=loadingProgress,_0x4e563a[_0x69df37(0x1ae)](_0x49e026=>{const _0x272006=_0x69df37;if(gTicker[noslash(_0x49e026)]){loading[_0x272006(0x1da)]=loading[_0x272006(0x1da)][_0x272006(0x19b)](_0x386f1f=>_0x386f1f!=_0x49e026);if(!watchedSymbols[_0x272006(0x252)](_0x49e026))watchedSymbols[_0x272006(0x1df)](_0x49e026);_0x5d67f0++;}}),loading[_0x69df37(0xb4)]=Math[_0x69df37(0x112)](_0x5d67f0/(_0x4e563a[_0x69df37(0x132)]+maxLoadingProgress)*0x64);loading[_0x69df37(0xb4)]!=0x64&&(_0x1cd1ee>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x1cd1ee>0x78*0x5&&!_0x224314&&(_0x224314=!![],logHistory(_0x69df37(0x236),_0x69df37(0x10a)+loading[_0x69df37(0x1da)][_0x69df37(0x1e6)](',\x20')+_0x69df37(0xd7)),logHistory(_0x69df37(0x236),_0x69df37(0x282)+loadCoinsRetryInterval/0xea60+_0x69df37(0x1c5)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x69df37(0x24d)]=!![],emitLoadingProgress();break;}else _0x40dabd!=loading[_0x69df37(0xb4)]&&(_0x40dabd=loading[_0x69df37(0xb4)],emitLoadingProgress()),_0x1cd1ee++,await sleep(0xc8);}_0x5d67f0==_0x4e563a[_0x69df37(0x132)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x69df37(0x240)]({'status':'enabled','live':_0x69df37(0x1a6)},_0x1979bf=>{}),_0x224314&&logHistory(_0x69df37(0x27d),_0x69df37(0x135)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x91cc41=_0x2f78fe;proxyEmit(_0x91cc41(0x134),{...emittedConfiguration(),'configstate':_0x91cc41(0x1d0)});}function emitLoadingProgress(){const _0x21aff0=_0x2f78fe;proxyEmit(_0x21aff0(0xef),loading);}async function getFiat(){const _0x1503eb=_0x2f78fe;let _0x125f46=gTicker[stablecoins[_0x1503eb(0x23d)]['coin']],_0x2003ff=gTicker[stablecoins[_0x1503eb(0x13a)]['coin']];return{'eur':Number(_0x125f46),'usd':Number(_0x2003ff)};}function capitalize(_0x553808){const _0x24a93e=_0x2f78fe;return _0x553808[_0x24a93e(0x20d)](0x0,0x1)[_0x24a93e(0x118)]()+_0x553808[_0x24a93e(0x20d)](0x1);}function supportedExchanges(){const _0x4449e6=_0x2f78fe,_0x9da0b9=['ws',_0x4449e6(0x15c),_0x4449e6(0x261),'watchTrades','watchOrders',_0x4449e6(0xc8),_0x4449e6(0x1c3),_0x4449e6(0x1ee),_0x4449e6(0x151)];let _0x1f32d3=[],_0x2d4d61=[],_0x11e46e=ccxt[_0x4449e6(0x102)][_0x4449e6(0xf5)];_0x11e46e['forEach'](_0x6486ac=>{const _0x30c45d=_0x4449e6;try{const _0x514816=new ccxt[(_0x30c45d(0x102))][_0x6486ac]();_0x2d4d61[_0x30c45d(0x1df)](_0x514816);}catch(_0x513009){}}),_0x2d4d61[_0x4449e6(0x1ae)](_0x3f4a7a=>{const _0x2c9d99=_0x4449e6;let _0xcc6ce=0x0;_0x9da0b9[_0x2c9d99(0x1ae)](_0x198a40=>{const _0x307fd5=_0x2c9d99;_0x198a40 in _0x3f4a7a[_0x307fd5(0xb7)]&&_0x3f4a7a[_0x307fd5(0xb7)][_0x198a40]&&_0xcc6ce++;}),_0xcc6ce==_0x9da0b9['length']&&(!excludedExchanges[_0x2c9d99(0x252)](_0x3f4a7a['id'])&&_0x1f32d3[_0x2c9d99(0x1df)](capitalize(_0x3f4a7a['id'])));});let _0x404d02=[];return _0x11e46e[_0x4449e6(0x1ae)](_0x3cc72c=>{const _0x47178d=_0x4449e6;_0x3cc72c=capitalize(_0x3cc72c);if(!_0x1f32d3[_0x47178d(0x252)](_0x3cc72c))_0x404d02[_0x47178d(0x1df)](_0x3cc72c);}),_0x1f32d3;}function setStartDatePerformance(){const _0x446eb0=_0x2f78fe;if(config&&config[_0x446eb0(0x274)][0x0][_0x446eb0(0x12b)][_0x446eb0(0x132)]!=0x0){const _0x669b55=config[_0x446eb0(0x274)][0x0][_0x446eb0(0x12b)];dbPerformance[_0x446eb0(0x12f)]('data')['find']({'date':config[_0x446eb0(0x1eb)]})['assign']({'coins':_0x669b55})[_0x446eb0(0xfa)]();}}function calculatePnL(_0xcadfd1,_0x4de580,_0x16f66f,_0x25165d,_0x35ae8e,_0x32d73e){const _0x3914cd=_0x2f78fe;!_0xcadfd1[_0x3914cd(0x252)]('/'+config[_0x3914cd(0x12a)])&&(_0x16f66f=_0x16f66f==_0x3914cd(0x24e)?_0x3914cd(0xbc):_0x3914cd(0x24e));!_0x32d73e[_0x4de580]&&(_0x32d73e[_0x4de580]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x53ec4a=0x0,_0x5524bf,_0xdd7eb8;if(_0x16f66f=='buy')_0xdd7eb8=_0x32d73e[_0x4de580][_0x3914cd(0x101)]*_0x32d73e[_0x4de580][_0x3914cd(0x25b)]+_0x35ae8e*_0x25165d,_0x32d73e[_0x4de580]['number']+=_0x25165d,_0x32d73e[_0x4de580]['breakeven']=_0x32d73e[_0x4de580][_0x3914cd(0x101)]!=0x0?_0xdd7eb8/_0x32d73e[_0x4de580][_0x3914cd(0x101)]:0x0,_0x32d73e[_0x4de580][_0x3914cd(0xb6)]++;else _0x16f66f==_0x3914cd(0xbc)&&(_0x5524bf=Math[_0x3914cd(0x171)](_0x32d73e[_0x4de580][_0x3914cd(0x101)],_0x25165d),_0x53ec4a=(_0x35ae8e-_0x32d73e[_0x4de580][_0x3914cd(0x25b)])*_0x5524bf,_0xdd7eb8=Math[_0x3914cd(0x1dd)](_0x32d73e[_0x4de580]['number']*_0x32d73e[_0x4de580][_0x3914cd(0x25b)]-_0x5524bf*_0x32d73e[_0x4de580][_0x3914cd(0x25b)],0x0),_0x32d73e[_0x4de580][_0x3914cd(0x101)]-=_0x5524bf,_0x32d73e[_0x4de580][_0x3914cd(0x25b)]=_0x32d73e[_0x4de580][_0x3914cd(0x101)]!=0x0?_0xdd7eb8/_0x32d73e[_0x4de580][_0x3914cd(0x101)]:0x0,_0x32d73e[_0x4de580]['realizedPnL']+=_0x53ec4a,_0x32d73e[_0x4de580][_0x3914cd(0x232)]++);return _0x53ec4a;}async function generatePnL(){const _0x477de4=_0x2f78fe;pnlGenerationNeeded=![],logger[_0x477de4(0x12e)](_0x477de4(0x27a));const _0x1a8ea0=dbLogs['get'](_0x477de4(0x209))[_0x477de4(0x230)]();let _0x3cf49d={},_0x8e75f5=0x0,_0x24ebf3=0x0,_0x12d1f3=config['startdate'];const _0xb1a11a=fns[_0x477de4(0x178)](_0x12d1f3,'yyyy/MM/dd',new Date()),_0x216d82=new Date();let _0x1954f2=0x0;for(let _0x351c80=_0xb1a11a;!fns[_0x477de4(0x18e)](_0x216d82,_0x351c80);_0x351c80=fns['addDays'](_0x351c80,0x1)){const _0x2b601c=fns[_0x477de4(0x1f3)](_0x351c80,_0x477de4(0x15b));while(_0x8e75f5<_0x1a8ea0['length']){const _0x30b838=new Date(_0x1a8ea0[_0x8e75f5][_0x477de4(0xf6)]);if(fns[_0x477de4(0x18e)](_0x30b838,_0x351c80))_0x8e75f5++;else{if(_0x1a8ea0[_0x8e75f5][_0x477de4(0xf6)][_0x477de4(0x252)](_0x2b601c)){const _0x21923b=_0x1a8ea0[_0x8e75f5];if(_0x21923b[_0x477de4(0x253)]===_0x477de4(0x13e)&&(_0x21923b[_0x477de4(0x1a7)][_0x477de4(0x252)](_0x477de4(0x1c8))||_0x21923b[_0x477de4(0x1a7)][_0x477de4(0x252)](_0x477de4(0x1e8)))){const _0x40b989=_0x21923b[_0x477de4(0x1a7)][_0x477de4(0x250)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x40b989){const [,_0x20fc5e,_0x3fe2a7,_0x445872,_0x43dbd4]=_0x40b989,_0x346778=_0x20fc5e[_0x477de4(0x252)]('/'+config[_0x477de4(0x12a)])?_0x20fc5e[_0x477de4(0x110)]('/')[0x0]:_0x20fc5e[_0x477de4(0x110)]('/')[0x1],_0x5876b1=calculatePnL(_0x20fc5e,_0x346778,_0x3fe2a7,parseFloat(_0x445872),parseFloat(_0x43dbd4),_0x3cf49d);_0x24ebf3+=_0x5876b1;}}_0x8e75f5++;}else break;}}dbPerformance[_0x477de4(0x12f)](_0x477de4(0xd0))[_0x477de4(0x18c)]({'date':_0x2b601c})[_0x477de4(0x213)]({'pnl':_0x24ebf3})[_0x477de4(0xfa)]();}dbCoinResults['set'](_0x477de4(0x17b),_0x3cf49d)[_0x477de4(0xfa)](),logger[_0x477de4(0x12e)]('Generated\x20PnL\x20data');const _0x5010ca=getNormalizedPerformance();emitPerformance(_0x5010ca);}async function updatePnL(_0x5793de){const _0x15d2c5=_0x2f78fe,{symbol:_0x6e45e9,coin:_0x37928b,amount:_0x8663c5,price:_0x535cdd,side:_0xf952e3,reverse:_0xee2a1e}=_0x5793de;let _0x49d1ea=dbCoinResults['get']('coins')[_0x15d2c5(0x230)]();const _0x3adbbf=calculatePnL(_0x6e45e9,_0x37928b,_0xf952e3,_0x8663c5,_0x535cdd,_0x49d1ea);dbCoinResults[_0x15d2c5(0x175)](_0x15d2c5(0x17b),_0x49d1ea)[_0x15d2c5(0xfa)]();const _0x375b66=getTimeStamp()[_0x15d2c5(0x110)]('\x20')[0x0];let _0x355166=dbPerformance[_0x15d2c5(0x12f)](_0x15d2c5(0xd0))[_0x15d2c5(0x18c)]({'date':_0x375b66})['value']();_0x355166?(_0x355166[_0x15d2c5(0x16a)]+=_0x3adbbf,dbPerformance[_0x15d2c5(0x12f)](_0x15d2c5(0xd0))[_0x15d2c5(0x18c)]({'date':_0x375b66})[_0x15d2c5(0x213)](_0x355166)[_0x15d2c5(0xfa)]()):await storePerformance();const _0x27a1fc=getNormalizedPerformance();emitPerformance(_0x27a1fc);}async function validate24hChanges(){const _0x27206=_0x2f78fe;for(const _0x567300 of currentCoins){if(_0x567300['coin']!=config[_0x27206(0x12a)]){let _0x13eada;_0x567300[_0x27206(0x247)]?_0x13eada=formatResult((0x1/(gChange[_0x567300[_0x27206(0x204)]]/0x64+0x1)-0x1)*0x64,0x3):_0x13eada=gChange[_0x567300['symbol']],_0x13eada<config[_0x27206(0x276)]&&(logHistory(_0x27206(0x236),_0x567300[_0x27206(0xf2)]+_0x27206(0xdf)+_0x13eada+'%'),logHistory(_0x27206(0x236),_0x27206(0x1ed)),logHistory(_0x27206(0x236),_0x27206(0x254)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x31fc41,_0x671c03){const _0x44b452=_0x2f78fe;if(!_0x31fc41)return!![];const _0x12c653=_0x671c03[_0x44b452(0x110)]('.'),_0x2d929e=_0x31fc41[_0x44b452(0x110)]('.');for(var _0x306e78=0x0;_0x306e78<_0x2d929e[_0x44b452(0x132)];_0x306e78++){const _0x1a3cae=~~_0x2d929e[_0x306e78],_0x451581=~~_0x12c653[_0x306e78];if(_0x1a3cae<_0x451581)return!![];if(_0x1a3cae>_0x451581)return![];}return![];}async function oneTimeMigration(){const _0x58db58=_0x2f78fe;let _0x449da7=dbLogs['get']('version')[_0x58db58(0x230)]();if(isOlderVersion(_0x449da7,_0x58db58(0x26c))){let _0x44f2b0=[];const _0x523cbd=dbLogs[_0x58db58(0x12f)](_0x58db58(0x209))[_0x58db58(0x230)]();_0x523cbd['forEach'](_0x303357=>{const _0x168d82=_0x58db58;_0x44f2b0[_0x168d82(0x1df)]({'time':_0x303357[_0x168d82(0xf6)],'type':_0x303357[_0x168d82(0x253)],'event':_0x303357[_0x168d82(0x1a7)]});}),dbLogs['get'](_0x58db58(0x209))[_0x58db58(0x213)](_0x44f2b0)[_0x58db58(0xfa)]();}let _0x50b8f4=dbConfig[_0x58db58(0x12f)](_0x58db58(0x1f0))['value']();if(isOlderVersion(_0x50b8f4,_0x58db58(0x26c))){let _0x31ca07=dbConfig['get'](_0x58db58(0xe1))[_0x58db58(0x18c)]({'botID':botID})[_0x58db58(0x230)]();if(_0x31ca07){let _0x306f8d=[];_0x31ca07['portfolio'][_0x58db58(0x1ae)](_0xe2e897=>{const _0x4053ba=_0x58db58;_0x306f8d[_0x4053ba(0x1df)]({'coin':_0xe2e897['coin'],'number':_0xe2e897['startnumber'],'price':_0xe2e897[_0x4053ba(0x26f)]}),delete _0xe2e897[_0x4053ba(0xf7)],delete _0xe2e897['startprice'];});if(_0x306f8d[_0x58db58(0x132)]!==0x0)fs[_0x58db58(0xdd)](configbackuppath+(_0x58db58(0x283)+botID+'.json'),JSON[_0x58db58(0x176)](_0x306f8d,null,0x4),function(_0x2b55b2){if(_0x2b55b2){}});const _0x30d879=(_0x166f28,_0x219492)=>{const _0x46eb9e=_0x58db58;let _0x1f0d3d=[];_0x219492['forEach'](_0x232993=>{const _0x3f209c=_0x5920,_0x2c9ba5=_0x166f28['find'](_0x3b9d69=>_0x3b9d69['coin']==_0x232993['coin']);if(!_0x2c9ba5)_0x1f0d3d[_0x3f209c(0x1df)](_0x232993);});let _0x521764=[];return _0x166f28[_0x46eb9e(0x1ae)](_0x153d26=>{const _0x57a13d=_0x46eb9e,_0x49bcce=_0x219492[_0x57a13d(0x18c)](_0x5ad8da=>_0x5ad8da[_0x57a13d(0xf2)]==_0x153d26['coin']);if(!_0x49bcce||_0x49bcce['number']==0x0&&_0x153d26['number']!=0x0)_0x521764[_0x57a13d(0x1df)](_0x153d26);}),{'missingDay1':_0x1f0d3d,'notInDay2':_0x521764};},_0x3df78f=dbPerformance['get'](_0x58db58(0xd0))[_0x58db58(0x1ef)]()[_0x58db58(0x230)]();if(_0x3df78f[_0x58db58(0x132)]>0x1){const {missingDay1:_0x3a73d3,notInDay2:_0x11ed6d}=_0x30d879(_0x306f8d,_0x3df78f[0x1]['coins']);_0x306f8d=[..._0x306f8d,..._0x3a73d3],_0x11ed6d[_0x58db58(0x1ae)](_0x579e34=>{const _0x5296c9=_0x58db58;let _0x152eaf=_0x306f8d[_0x5296c9(0x24b)](_0x591565=>_0x591565[_0x5296c9(0xf2)]==_0x579e34['coin']);_0x152eaf!=-0x1&&_0x306f8d['splice'](_0x152eaf,0x1);});}_0x306f8d[_0x58db58(0x1e9)]((_0x3a4fd3,_0x455533)=>_0x3a4fd3[_0x58db58(0xf2)]>_0x455533[_0x58db58(0xf2)]?0x1:_0x455533[_0x58db58(0xf2)]>_0x3a4fd3[_0x58db58(0xf2)]?-0x1:0x0);let _0x3a87d4=[{'date':_0x31ca07['startdate'],'changes':_0x306f8d}];_0x3df78f[_0x58db58(0x132)]>0x2&&_0x3df78f[_0x58db58(0x1ae)]((_0x47bb90,_0x4ce463)=>{const _0x1e7d3f=_0x58db58;if(_0x4ce463>0x0&&_0x4ce463<_0x3df78f[_0x1e7d3f(0x132)]-0x1){const {missingDay1:_0x3198a3,notInDay2:_0x4341f1}=_0x30d879(_0x3df78f[_0x4ce463][_0x1e7d3f(0x17b)],_0x3df78f[_0x4ce463+0x1][_0x1e7d3f(0x17b)]);_0x306f8d=[],(_0x3198a3[_0x1e7d3f(0x132)]!=0x0||_0x4341f1[_0x1e7d3f(0x132)]!=0x0)&&(_0x3198a3[_0x1e7d3f(0x132)]!=0x0&&_0x306f8d['push'](..._0x3198a3),_0x4341f1[_0x1e7d3f(0x132)]!=0x0&&(_0x4341f1[_0x1e7d3f(0x1ae)](_0x5c6186=>{const _0x578338=_0x1e7d3f;_0x5c6186['number']=-_0x5c6186[_0x578338(0x101)];}),_0x306f8d[_0x1e7d3f(0x1df)](..._0x4341f1)),_0x306f8d[_0x1e7d3f(0x1e9)]((_0x1e7163,_0x57fb15)=>_0x1e7163[_0x1e7d3f(0xf2)]>_0x57fb15[_0x1e7d3f(0xf2)]?0x1:_0x57fb15['coin']>_0x1e7163[_0x1e7d3f(0xf2)]?-0x1:0x0),_0x3a87d4['push']({'date':_0x3df78f[_0x4ce463+0x1][_0x1e7d3f(0xc5)],'changes':_0x306f8d}));}}),dbConfig[_0x58db58(0x12f)](_0x58db58(0xe1))[_0x58db58(0x18c)]({'botID':botID})[_0x58db58(0x213)]({..._0x31ca07,'liquidity':_0x3a87d4})[_0x58db58(0xfa)]();}}if(isOlderVersion(_0x50b8f4,_0x58db58(0x194))){let _0x3b37df=dbConfig[_0x58db58(0x12f)](_0x58db58(0xe1))[_0x58db58(0x18c)]({'botID':botID})[_0x58db58(0x230)]();if(_0x3b37df){const _0x3fd37e=_0x3b37df[_0x58db58(0xe8)],_0x43de2e=_0x3fd37e?capitalize(_0x3fd37e):_0x58db58(0x21f);dbConfig[_0x58db58(0x12f)]('bot')[_0x58db58(0x18c)]({'botID':botID})[_0x58db58(0x213)]({'exchange':_0x43de2e})[_0x58db58(0xfa)]();}}if(isOlderVersion(_0x50b8f4,'2.6.22')){let _0x4ad9cf=dbConfig[_0x58db58(0x12f)]('bot')[_0x58db58(0x18c)]({'botID':botID})['value']();if(_0x4ad9cf){const _0x20014c=_0x4ad9cf[_0x58db58(0xc9)],_0x366991=_0x20014c?_0x58db58(0x1ec):![];dbConfig[_0x58db58(0x12f)](_0x58db58(0xe1))[_0x58db58(0x18c)]({'botID':botID})[_0x58db58(0x213)]({'marketcapEnabled':_0x366991})[_0x58db58(0xfa)]();}}if(isOlderVersion(_0x50b8f4,_0x58db58(0x17f))){let _0x56062b=dbConfig[_0x58db58(0x12f)](_0x58db58(0xe1))[_0x58db58(0x18c)]({'botID':botID})[_0x58db58(0x230)]();if(_0x56062b){const _0x590192=_0x56062b[_0x58db58(0x198)],_0x3c4c51=_0x590192?_0x58db58(0x221):![];dbConfig[_0x58db58(0x12f)](_0x58db58(0xe1))['find']({'botID':botID})['assign']({'autoliquidity':_0x3c4c51})[_0x58db58(0xfa)]();}}let _0x12cb87=dbPerformance[_0x58db58(0x12f)](_0x58db58(0x1f0))[_0x58db58(0x230)]();isOlderVersion(_0x12cb87,'2.3.5')&&setStartDatePerformance();let _0x2f2f8e=dbCoinResults[_0x58db58(0x12f)]('version')[_0x58db58(0x230)]();if(isOlderVersion(_0x2f2f8e,_0x58db58(0x15f))){let _0x21f476=dbCoinResults[_0x58db58(0x12f)]('coins')[_0x58db58(0x230)]();if(_0x21f476[_0x58db58(0x132)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x43de27=_0x2f78fe;dbConfig['set'](_0x43de27(0x1f0),serverversion)['write'](),dbPerformance[_0x43de27(0x175)](_0x43de27(0x1f0),serverversion)[_0x43de27(0xfa)](),dbLogs[_0x43de27(0x175)](_0x43de27(0x1f0),serverversion)[_0x43de27(0xfa)](),dbCoinResults[_0x43de27(0x175)](_0x43de27(0x1f0),serverversion)['write']();}function getConfiguration(_0x1c779a){const _0x1d1fbc=_0x2f78fe;let _0xfcbd22=dbConfig[_0x1d1fbc(0x12f)](_0x1d1fbc(0xe1))[_0x1d1fbc(0x18c)]({'botID':_0x1c779a})[_0x1d1fbc(0x230)]();if(_0xfcbd22){let _0x25fd25=![];typeof _0xfcbd22[_0x1d1fbc(0x27e)]=='string'&&(_0xfcbd22={..._0xfcbd22,'threshold':Number(_0xfcbd22[_0x1d1fbc(0x27e)])},_0x25fd25=!![]),_0xfcbd22[_0x1d1fbc(0x276)]==undefined&&(_0xfcbd22={..._0xfcbd22,'change24h':-0x14},_0x25fd25=!![]),_0xfcbd22[_0x1d1fbc(0x152)]==undefined&&(_0xfcbd22={..._0xfcbd22,'fiat':'USD'},_0x25fd25=!![]),_0xfcbd22['onepagemode']==undefined&&(_0xfcbd22={..._0xfcbd22,'onepagemode':settings[_0x1d1fbc(0x228)]},_0x25fd25=!![]),_0xfcbd22[_0x1d1fbc(0x284)]==undefined&&(_0xfcbd22={..._0xfcbd22,'colorscheme':'red_yellow_blue'},_0x25fd25=!![]),_0xfcbd22[_0x1d1fbc(0x198)]==undefined&&(_0xfcbd22={..._0xfcbd22,'autoliquidity':_0x1d1fbc(0x221)},_0x25fd25=!![]),_0xfcbd22[_0x1d1fbc(0x1c4)]==undefined&&(_0xfcbd22={..._0xfcbd22,'marketcapApi':settings[_0x1d1fbc(0x1c4)]?!![]:![]},_0x25fd25=!![]),_0xfcbd22[_0x1d1fbc(0xc9)]==undefined&&(_0xfcbd22={..._0xfcbd22,'marketcapEnabled':![]},_0x25fd25=!![]),_0xfcbd22[_0x1d1fbc(0x1f7)]==undefined&&(_0xfcbd22={..._0xfcbd22,'sandbox':![]},_0x25fd25=!![]),_0x25fd25&&(_0xfcbd22={'botID':_0xfcbd22[_0x1d1fbc(0x10c)],'exchange':_0xfcbd22['exchange'],'apiKey':_0xfcbd22['apiKey'],'apiSecret':_0xfcbd22[_0x1d1fbc(0x1e5)],'apiPassword':_0xfcbd22['apiPassword'],'basecoin':_0xfcbd22[_0x1d1fbc(0x12a)],'botname':_0xfcbd22[_0x1d1fbc(0x19c)],'showname':_0xfcbd22[_0x1d1fbc(0xe2)],'threshold':_0xfcbd22[_0x1d1fbc(0x27e)],'ordertype':_0xfcbd22[_0x1d1fbc(0x1ba)],'timeout':_0xfcbd22[_0x1d1fbc(0x287)],'fiat':_0xfcbd22[_0x1d1fbc(0x152)],'startdate':_0xfcbd22[_0x1d1fbc(0x1eb)],'recreate':_0xfcbd22[_0x1d1fbc(0x26e)],'timeshift':_0xfcbd22[_0x1d1fbc(0x27b)],'onepagemode':_0xfcbd22[_0x1d1fbc(0x228)],'headless':_0xfcbd22[_0x1d1fbc(0x268)],'cooldown':_0xfcbd22['cooldown'],'change24h':_0xfcbd22[_0x1d1fbc(0x276)],'emojibuy':_0xfcbd22['emojibuy'],'emojisell':_0xfcbd22[_0x1d1fbc(0x200)],'colorscheme':_0xfcbd22[_0x1d1fbc(0x284)],'marketcapApi':_0xfcbd22[_0x1d1fbc(0x1c4)],'marketcapEnabled':_0xfcbd22[_0x1d1fbc(0xc9)],'sandbox':_0xfcbd22[_0x1d1fbc(0x1f7)],'portfolio':_0xfcbd22[_0x1d1fbc(0xf9)],'autoliquidity':_0xfcbd22['autoliquidity'],'liquidity':_0xfcbd22[_0x1d1fbc(0x274)],'openOrders':_0xfcbd22[_0x1d1fbc(0x192)]},dbConfig[_0x1d1fbc(0x12f)]('bot')[_0x1d1fbc(0x27f)]()[_0x1d1fbc(0xfa)](),dbConfig[_0x1d1fbc(0x12f)](_0x1d1fbc(0xe1))[_0x1d1fbc(0x1df)](_0xfcbd22)[_0x1d1fbc(0xfa)]());}else _0xfcbd22={'botID':_0x1c779a,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x1d1fbc(0x180)+_0x1c779a,'showname':![],'threshold':0x3,'ordertype':_0x1d1fbc(0x199),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x1d1fbc(0x27b)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x1d1fbc(0x1ce),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x1d1fbc(0x221),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xfcbd22;}function emittedConfiguration(){const _0x5381c8=_0x2f78fe;let _0x4f5c38;if(config['apiKey']=='')_0x4f5c38={...config,'configstate':_0x5381c8(0x11d)};else config[_0x5381c8(0x1f5)]==_0x5381c8(0x234)?_0x4f5c38={...config,'configstate':_0x5381c8(0x22d)}:(_0x4f5c38={...config,'apiKey':_0x5381c8(0x121),'apiSecret':_0x5381c8(0x121)},config[_0x5381c8(0xb9)]&&(_0x4f5c38[_0x5381c8(0xb9)]=_0x5381c8(0x121)));return _0x4f5c38['enableFiatToggle']=enableFiatToggle,_0x4f5c38;}function getSettings(){const _0x493651=_0x2f78fe;return dbSettings['get'](_0x493651(0x114))['value']();}function getSecure(){const _0x246e23=_0x2f78fe;return dbSecure[_0x246e23(0x12f)](_0x246e23(0x21a))[_0x246e23(0x230)]()||{};}function updateTimeshift(_0x44b56a){const _0x33bb49=_0x2f78fe;let _0x477b88=dbConfig[_0x33bb49(0x12f)](_0x33bb49(0xe1))[_0x33bb49(0x18c)]({'botID':botID})[_0x33bb49(0x230)]();_0x477b88&&dbConfig[_0x33bb49(0x12f)](_0x33bb49(0xe1))[_0x33bb49(0x18c)]({'botID':botID})[_0x33bb49(0x213)]({'timeshift':_0x44b56a})[_0x33bb49(0xfa)](),config[_0x33bb49(0x27b)]=_0x44b56a,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x1097fc){const _0x8c9153=_0x2f78fe;let _0x2aef55=dbConfig[_0x8c9153(0x12f)]('bot')[_0x8c9153(0x18c)]({'botID':botID})[_0x8c9153(0x230)]();_0x2aef55&&dbConfig[_0x8c9153(0x12f)]('bot')[_0x8c9153(0x18c)]({'botID':botID})[_0x8c9153(0x213)]({'onepagemode':_0x1097fc})[_0x8c9153(0xfa)](),config[_0x8c9153(0x228)]=_0x1097fc,proxyEmit(_0x8c9153(0x134),emittedConfiguration());}function updateMarketcapApi(_0x3278eb){const _0x5093a8=_0x2f78fe,_0x34b584=_0x3278eb?!![]:![];let _0x2a8275=dbConfig[_0x5093a8(0x12f)]('bot')['find']({'botID':botID})[_0x5093a8(0x230)]();_0x2a8275&&dbConfig['get'](_0x5093a8(0xe1))['find']({'botID':botID})[_0x5093a8(0x213)]({'marketcapApi':_0x34b584})[_0x5093a8(0xfa)](),config[_0x5093a8(0x1c4)]=_0x34b584,getMarketCap(),proxyEmit(_0x5093a8(0x134),emittedConfiguration());}async function storeConfiguration(_0x4826e1){const _0x4e8be3=_0x2f78fe;logger[_0x4e8be3(0x12e)]('Saving\x20configuration');_0x4826e1['configstate']&&delete _0x4826e1[_0x4e8be3(0x23c)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x2d5088=![],_0x51b792=![],_0xa1c3b1=[];_0x4826e1[_0x4e8be3(0xf9)][_0x4e8be3(0x1ae)](_0x2dd47c=>{const _0x26474f=_0x4e8be3;if(!_0x2dd47c[_0x26474f(0x15e)]&&_0x2dd47c[_0x26474f(0xf2)]!=_0x4826e1[_0x26474f(0x12a)])_0xa1c3b1[_0x26474f(0x1df)](_0x2dd47c[_0x26474f(0x204)]);}),_0xa1c3b1['forEach'](_0x5e7d89=>{const _0x2f54d9=_0x4e8be3,_0x5b19ef=currentCoins[_0x2f54d9(0x18c)](_0x7196d3=>_0x7196d3[_0x2f54d9(0x204)]==_0x5e7d89);!_0x5b19ef&&(_0x2d5088=!![]);}),currentCoins[_0x4e8be3(0x1ae)](_0x513d8=>{const _0x5160f6=_0x4e8be3;if(_0x513d8[_0x5160f6(0xf2)]!=config[_0x5160f6(0x12a)]){const _0x3a40a1=_0xa1c3b1['find'](_0x40a75f=>_0x40a75f==_0x513d8['symbol']);!_0x3a40a1&&(_0x2d5088=!![]);}}),_0x4826e1[_0x4e8be3(0xf9)]['forEach'](_0x4a86d8=>{const _0x540db8=_0x4e8be3,_0x270bf3=config['portfolio'][_0x540db8(0x18c)](_0x4cadf0=>_0x4cadf0['coin']==_0x4a86d8[_0x540db8(0xf2)]);if(_0x270bf3&&_0x4a86d8[_0x540db8(0xe6)]!=_0x270bf3[_0x540db8(0xe6)])_0x51b792=!![];});let _0x3b92de=dbConfig[_0x4e8be3(0x12f)](_0x4e8be3(0xe1))[_0x4e8be3(0x18c)]({'botID':botID})[_0x4e8be3(0x230)]();_0x4826e1={..._0x4826e1,'apiKey':decryptRSA(secure['privateKey'],_0x4826e1[_0x4e8be3(0x1f5)]),'apiSecret':decryptRSA(secure[_0x4e8be3(0xd4)],_0x4826e1[_0x4e8be3(0x1e5)])};_0x4826e1[_0x4e8be3(0xb9)]&&(_0x4826e1[_0x4e8be3(0xb9)]=decryptRSA(secure[_0x4e8be3(0xd4)],_0x4826e1[_0x4e8be3(0xb9)]));let _0xf32506=![];if(_0x3b92de){_0x4826e1[_0x4e8be3(0x1f5)]==_0x4e8be3(0x121)?_0x4826e1[_0x4e8be3(0x1f5)]=config['apiKey']:_0xf32506=!![];_0x4826e1[_0x4e8be3(0x1e5)]==_0x4e8be3(0x121)?_0x4826e1[_0x4e8be3(0x1e5)]=config['apiSecret']:_0xf32506=!![];if(_0x4826e1['apiPassword']==_0x4e8be3(0x121))_0x4826e1[_0x4e8be3(0xb9)]=config['apiPassword'];else{if(_0x4826e1[_0x4e8be3(0xb9)])_0xf32506=!![];}dbConfig[_0x4e8be3(0x12f)](_0x4e8be3(0xe1))[_0x4e8be3(0x18c)]({'botID':botID})[_0x4e8be3(0x213)](_0x4826e1)[_0x4e8be3(0xfa)]();}else dbConfig[_0x4e8be3(0x12f)](_0x4e8be3(0xe1))[_0x4e8be3(0x1df)](_0x4826e1)[_0x4e8be3(0xfa)](),_0xf32506=!![],process[_0x4e8be3(0x240)]({'status':'enabled','live':'running'},_0x3700f2=>{});process[_0x4e8be3(0x240)]({'botname':_0x4826e1[_0x4e8be3(0x19c)]},_0x94fb2b=>{}),config={..._0x4826e1},updateBotManager(),proxyEmit(_0x4e8be3(0x241)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0xf32506)await reset(!![]);else _0x2d5088||_0x51b792?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x3a305f){const _0x4428b3=_0x2f78fe,_0x2e9e6d={...config,'headless':_0x3a305f[_0x4428b3(0x268)]};let _0x5e6672=dbConfig[_0x4428b3(0x12f)](_0x4428b3(0xe1))[_0x4428b3(0x18c)]({'botID':botID})[_0x4428b3(0x230)]();_0x5e6672&&dbConfig[_0x4428b3(0x12f)](_0x4428b3(0xe1))[_0x4428b3(0x18c)]({'botID':botID})[_0x4428b3(0x213)](_0x2e9e6d)[_0x4428b3(0xfa)](),config={..._0x2e9e6d},updateBotManager(),proxyEmit(_0x4428b3(0x134),emittedConfiguration());}async function storeFiat(_0x54020c){const _0x3ebb92=_0x2f78fe,_0x55b2bd={...config,'fiat':_0x54020c};let _0x466cd3=dbConfig[_0x3ebb92(0x12f)](_0x3ebb92(0xe1))['find']({'botID':botID})['value']();_0x466cd3&&dbConfig['get'](_0x3ebb92(0xe1))['find']({'botID':botID})['assign'](_0x55b2bd)[_0x3ebb92(0xfa)](),config={..._0x55b2bd},proxyEmit(_0x3ebb92(0x134),emittedConfiguration());}function resetHistory(){const _0x45202f=_0x2f78fe;logger[_0x45202f(0x219)](_0x45202f(0x22a));try{if(fs[_0x45202f(0x22c)](path[_0x45202f(0x1e6)](configpath,_0x45202f(0x288)+botID+_0x45202f(0x1bb))))fs[_0x45202f(0x208)](path['join'](configpath,'bot-'+botID+_0x45202f(0x1bb)));if(fs[_0x45202f(0x22c)](path[_0x45202f(0x1e6)](configpath,_0x45202f(0x288)+botID+'-performance.json')))fs['unlinkSync'](path[_0x45202f(0x1e6)](configpath,'bot-'+botID+_0x45202f(0x100)));if(fs[_0x45202f(0x22c)](path[_0x45202f(0x1e6)](configpath,_0x45202f(0x288)+botID+_0x45202f(0x160))))fs[_0x45202f(0x208)](path['join'](configpath,_0x45202f(0x288)+botID+_0x45202f(0x160)));}catch(_0x41bf0d){if(_0x41bf0d)logger[_0x45202f(0x219)](_0x45202f(0x185),_0x41bf0d);}const _0xf64831=getDate();let _0x4e7e34=[];currentCoins['forEach'](_0x592dae=>{const _0x1651ac=_0x45202f;_0x4e7e34[_0x1651ac(0x1df)]({'coin':_0x592dae[_0x1651ac(0xf2)],'number':_0x592dae[_0x1651ac(0x101)],'price':_0x592dae['last']});});let _0xd368aa=dbConfig['get'](_0x45202f(0xe1))['find']({'botID':botID})['value']();_0xd368aa&&(dbConfig[_0x45202f(0x12f)](_0x45202f(0xe1))[_0x45202f(0x18c)]({'botID':botID})[_0x45202f(0x213)]({'liquidity':[{'date':_0xf64831,'changes':_0x4e7e34}]})[_0x45202f(0xfa)](),config[_0x45202f(0x274)]=[]),restartBot(!![]);}function noslash(_0x7110de){const _0x47a1ea=_0x2f78fe;return _0x7110de[_0x47a1ea(0x255)]('/','');}function updateHighestFee(_0x22a94b){const _0x172a36=_0x2f78fe;if(_0x22a94b['reverse']){let _0x5e3633={'filled':_0x22a94b[_0x172a36(0xfd)]*_0x22a94b[_0x172a36(0xc4)],'amount':_0x22a94b['filled']*_0x22a94b[_0x172a36(0xc4)],'side':_0x22a94b[_0x172a36(0xcf)]==_0x172a36(0xbc)?_0x172a36(0x24e):_0x172a36(0xbc),'price':0x1/_0x22a94b[_0x172a36(0xc4)]};_0x22a94b={..._0x22a94b,..._0x5e3633};}const _0x23c877=defaultFee*_0x22a94b[_0x172a36(0xfd)]*_0x22a94b[_0x172a36(0xc4)];lastFees['recent20'][_0x172a36(0x132)]===0x14&&lastFees[_0x172a36(0xc6)][_0x172a36(0x127)](),lastFees['recent20'][_0x172a36(0x1df)](_0x23c877),lastFees[_0x172a36(0x207)]=Math[_0x172a36(0x1dd)](...lastFees[_0x172a36(0xc6)]);}async function updateNumberCoinsCcxt(_0x12434e){const _0x5a1e54=_0x2f78fe;logger[_0x5a1e54(0x12e)](_0x5a1e54(0x21e)+_0x12434e[_0x5a1e54(0x204)]+'\x20|\x20'+_0x12434e[_0x5a1e54(0x1d1)]+_0x5a1e54(0x182)+_0x12434e['filled']+_0x5a1e54(0x21c)+_0x12434e['amount']+_0x5a1e54(0x182)+_0x12434e['id']);let _0x2b4e2=_0x12434e[_0x5a1e54(0x1d1)],_0x1070f9=![];currentCoins['forEach'](_0x2d2540=>{const _0x376c39=_0x5a1e54;_0x2d2540[_0x376c39(0x204)]==_0x12434e[_0x376c39(0x204)]&&(_0x1070f9=!![]);});if(!_0x1070f9)return;const _0x1410b4=currentCoins[_0x5a1e54(0x18c)](_0x570e05=>_0x570e05[_0x5a1e54(0x204)]==_0x12434e['symbol']),_0x38168b=_0x1410b4[_0x5a1e54(0xf2)],_0x3dbaf9=_0x162619=>{const _0x3abff0=_0x5a1e54,_0x417741=currentCoins[_0x3abff0(0x18c)](_0x5be90c=>_0x5be90c[_0x3abff0(0x204)]==_0x12434e[_0x3abff0(0x204)]);if(_0x417741)_0x417741[_0x3abff0(0x1a0)]=_0x162619;};let _0x8617b1=![];for(const _0x1ba84c of lastOrders){const _0x36a715=0x64,_0x323e9d=0x1388;let _0x43230d=0x0;while(!_0x1ba84c[_0x5a1e54(0x1af)]&&_0x43230d*_0x36a715<_0x323e9d){_0x43230d++,await sleep(_0x36a715);}if(_0x43230d>0x0)logger[_0x5a1e54(0x12e)](_0x5a1e54(0x1e0)+_0x43230d*_0x36a715/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x1ba84c['orderId']==_0x12434e['id']&&(_0x8617b1=!![]);}if(_0x2b4e2==_0x5a1e54(0x12c)){_0x3dbaf9('open');if(_0x12434e[_0x5a1e54(0xfd)]>0x0&&_0x12434e[_0x5a1e54(0xfd)]<_0x12434e['amount']){if(_0x8617b1){setBlockTransactionDetection(!![]),logger['debug']('1\x20-\x20partially\x20FILLED\x20('+_0x12434e[_0x5a1e54(0xfd)]+_0x5a1e54(0x172)+_0x12434e['id']);const _0x3767d0=await getCoins(balanceUpdateDelay,undefined,undefined,_0x38168b);[currentCoins,currentCoinsAll]=_0x3767d0,setBlockTransactionDetection(![]);}else logger[_0x5a1e54(0x12e)]('1\x20-\x20partially\x20FILLED\x20('+_0x12434e[_0x5a1e54(0xfd)]+')\x20unknown\x20order:\x20'+_0x12434e['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x2b4e2==_0x5a1e54(0x14a)){_0x3dbaf9(_0x5a1e54(0x14a)),lastOrders=lastOrders[_0x5a1e54(0x19b)](_0x52e11e=>_0x52e11e[_0x5a1e54(0x204)]!=_0x12434e[_0x5a1e54(0x204)]);const _0x418aef=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x418aef,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x2b4e2==_0x5a1e54(0x17e)){if(lastOrders)for(const _0x2734d2 of lastOrders){if(_0x2734d2[_0x5a1e54(0x1af)]==_0x12434e['id']){logger[_0x5a1e54(0x12e)](_0x5a1e54(0x156)+_0x12434e['id']),_0x8617b1=!![];if(_0x2734d2[_0x5a1e54(0xfd)]==0x0){setBlockTransactionDetection(!![]),logger['debug'](_0x5a1e54(0x272)+_0x12434e['id']);if(_0x12434e[_0x5a1e54(0x27c)])_0x2734d2[_0x5a1e54(0xc4)]=_0x12434e[_0x5a1e54(0x27c)];else{if(_0x12434e[_0x5a1e54(0xc4)])_0x2734d2[_0x5a1e54(0xc4)]=_0x12434e[_0x5a1e54(0xc4)];else{}}_0x2734d2[_0x5a1e54(0xfd)]=_0x12434e['filled'],updateHighestFee(_0x2734d2);const _0x17a7dd=await getCoins(balanceUpdateDelay,undefined,undefined,_0x38168b);[currentCoins,currentCoinsAll]=_0x17a7dd,setBlockTransactionDetection(![]),await validateOrders(),_0x3dbaf9('filled'),_0x2734d2['fee']={'currency':_0x12434e['fee']?_0x12434e[_0x5a1e54(0x1ac)][_0x5a1e54(0x159)]:null,'cost':_0x12434e['fee']?_0x12434e[_0x5a1e54(0x1ac)][_0x5a1e54(0xcc)]:0x0},await updatePnL(_0x2734d2);}}}!_0x8617b1&&(logger[_0x5a1e54(0x12e)](_0x5a1e54(0x26a)+_0x12434e['id']),_0x3dbaf9('filled'),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x38488e=JSON[_0x5a1e54(0x178)](lastBalances['portfolio']);const _0x118062=_0x38488e[_0x5a1e54(0x18c)](_0x5d4bc9=>_0x5d4bc9[_0x5a1e54(0x204)]==_0x12434e[_0x5a1e54(0x204)]);if(_0x118062){if(_0x2b4e2=='open')_0x118062[_0x5a1e54(0x1a0)]=_0x118062[_0x5a1e54(0x1a0)]=='filled'?'filled':'open';else{if(_0x2b4e2==_0x5a1e54(0x14a))_0x118062[_0x5a1e54(0x1a0)]=_0x118062[_0x5a1e54(0x1a0)]==_0x5a1e54(0xfd)?_0x5a1e54(0xfd):_0x5a1e54(0x14a);else _0x2b4e2==_0x5a1e54(0x17e)&&(_0x118062['orderstatus']='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x5a1e54(0x176)](_0x38488e)},proxyEmit(_0x5a1e54(0x158),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x50882f=_0x2f78fe;await getOpenOrders();let _0xbbc810=![];currentCoins[_0x50882f(0x1ae)](_0x44ceff=>{const _0x33be04=_0x50882f;_0xbbc810=allOpenOrders[_0x33be04(0x18c)](_0x4bcc9c=>_0x4bcc9c[_0x33be04(0x204)]==_0x44ceff[_0x33be04(0x204)]),_0x44ceff[_0x33be04(0x1a0)]=_0xbbc810?'open':_0x33be04(0x1b9);});}async function fetchBalance(_0xadda9d=!![]){const _0x54e9b1=_0x2f78fe;let _0x367471,_0x3bcdd4,_0xfc70b1,_0x4e24e4=0x0;while(!_0x3bcdd4&&_0x4e24e4<maxRetries){try{return _0x367471=await exchange['fetchBalance'](),_0x3bcdd4=_0x367471[_0x54e9b1(0x265)],_0x3bcdd4;}catch(_0x647984){_0xfc70b1=_0x647984,_0x4e24e4++,await sleep(retryInterval);}}return!_0xadda9d?handleErrorNoStop(_0xfc70b1,_0x54e9b1(0xe3)):await handleError(_0xfc70b1,_0x54e9b1(0xe3)),![];}async function getCoins(_0x489275=0x0,_0x23e5a4=!![],_0x2b6966=config[_0x2f78fe(0x12a)],_0x8d8bda){const _0x3d92d5=_0x2f78fe;let _0x41dc60=[],_0x20ab98=[],_0x143b05=[],_0x4a1429;if(_0x489275)await sleep(_0x489275);if(botPaused)return[currentCoins,currentCoinsAll];let _0x346999=![],_0x1d0532=0x0,_0x223825,_0x50f6a1;_0x8d8bda&&(_0x223825=currentCoins[_0x3d92d5(0x18c)](_0x21aae5=>_0x21aae5[_0x3d92d5(0xf2)]==_0x8d8bda),_0x223825&&(_0x50f6a1=_0x223825[_0x3d92d5(0x1db)],delete _0x223825[_0x3d92d5(0x1db)]));while(!_0x346999){_0x4a1429=await fetchBalance(_0x23e5a4);if(_0x4a1429){if(_0x8d8bda){if(_0x4a1429[_0x8d8bda]!=_0x50f6a1)logger['debug'](_0x3d92d5(0xfe)+_0x8d8bda+':\x20'+_0x4a1429[_0x8d8bda]+'\x20('+_0x50f6a1+')'),_0x346999=!![];else{logger[_0x3d92d5(0x12e)](_0x3d92d5(0x248)+_0x8d8bda+':\x20'+_0x4a1429[_0x8d8bda]+'\x20('+_0x50f6a1+')'),_0x1d0532++;if(_0x1d0532<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x3d92d5(0x12e)](_0x3d92d5(0x103)+_0x1d0532+'\x20attempts');break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x4bbf0,_0x4d5fcd]of Object[_0x3d92d5(0x270)](_0x4a1429)){_0x143b05[_0x3d92d5(0x1df)](_0x4bbf0);}config[_0x3d92d5(0xf9)][_0x3d92d5(0x1ae)](_0x216ce8=>{const _0x437edc=_0x3d92d5;!_0x143b05[_0x437edc(0x252)](_0x216ce8['coin'])&&(_0x4a1429[_0x216ce8[_0x437edc(0xf2)]]=0x0);});if(_0x2b6966=='')for(const [_0x320abd,_0x34d9a7]of Object['entries'](_0x4a1429)){_0x34d9a7!=0x0&&_0x41dc60[_0x3d92d5(0x1df)]({'coin':_0x320abd});}else for(const [_0x30e9f5,_0x393137]of Object[_0x3d92d5(0x270)](_0x4a1429)){const _0x169429=config[_0x3d92d5(0xf9)][_0x3d92d5(0x18c)](_0x2cc775=>_0x2cc775[_0x3d92d5(0xf2)]==_0x30e9f5),_0x4700a1=_0x30e9f5+'/'+_0x2b6966,_0x12f3b8=_0x2b6966+'/'+_0x30e9f5,_0x5c1dd8=currentCoins['find'](_0x4f85a9=>_0x4f85a9[_0x3d92d5(0xf2)]==_0x30e9f5);if((_0x393137!=0x0||_0x169429)&&(allSymbols[_0x3d92d5(0x252)](_0x4700a1)||_0x30e9f5==_0x2b6966))_0x5c1dd8?_0x41dc60['push']({..._0x5c1dd8,'number':Math[_0x3d92d5(0x1dd)](_0x393137+(_0x169429&&_0x169429[_0x3d92d5(0xe6)]||0x0),0x0)}):_0x41dc60['push']({'coin':_0x30e9f5,'symbol':_0x4700a1,'reverse':![],'number':Math[_0x3d92d5(0x1dd)](_0x393137+(_0x169429&&_0x169429[_0x3d92d5(0xe6)]||0x0),0x0),'orderstatus':_0x3d92d5(0x1b9)});else{if((_0x393137!=0x0||_0x169429)&&allSymbols[_0x3d92d5(0x252)](_0x12f3b8))_0x5c1dd8?_0x41dc60[_0x3d92d5(0x1df)]({..._0x5c1dd8,'number':Math['max'](_0x393137+(_0x169429&&_0x169429[_0x3d92d5(0xe6)]||0x0),0x0)}):_0x41dc60[_0x3d92d5(0x1df)]({'coin':_0x30e9f5,'symbol':_0x12f3b8,'reverse':!![],'number':Math[_0x3d92d5(0x1dd)](_0x393137+(_0x169429&&_0x169429[_0x3d92d5(0xe6)]||0x0),0x0),'orderstatus':_0x3d92d5(0x1b9)});else _0x169429&&_0x41dc60['push']({'coin':_0x169429['coin'],'symbol':_0x169429['symbol'],'reverse':_0x169429[_0x3d92d5(0x247)],'number':0x0,'orderstatus':_0x3d92d5(0x1b9)});}}return _0x41dc60[_0x3d92d5(0x1e9)]((_0x1b954a,_0x85668f)=>_0x1b954a[_0x3d92d5(0x205)]<_0x85668f['delta']?0x1:_0x85668f[_0x3d92d5(0x205)]<_0x1b954a[_0x3d92d5(0x205)]?-0x1:0x0),_0x20ab98=cloneDeep(_0x41dc60),_0x41dc60=_0x41dc60['filter'](_0x8eaba0=>{const _0xf380d4=_0x3d92d5,_0x130fa7=config[_0xf380d4(0xf9)][_0xf380d4(0x18c)](_0x2198da=>_0x2198da['coin']==_0x8eaba0[_0xf380d4(0xf2)]);return _0x130fa7&&!_0x130fa7[_0xf380d4(0x15e)];}),[_0x41dc60,_0x20ab98];}async function getOpenOrders(){const _0x10cbbe=_0x2f78fe;let _0x248a0f;allOpenOrders=[];try{for(const _0x27f9e4 of config[_0x10cbbe(0xf9)]){!_0x27f9e4[_0x10cbbe(0x15e)]&&_0x27f9e4[_0x10cbbe(0xf2)]!=config[_0x10cbbe(0x12a)]&&(_0x248a0f=await exchange[_0x10cbbe(0x1ee)](_0x27f9e4[_0x10cbbe(0x204)]),_0x248a0f[_0x10cbbe(0x132)]>0x0&&allOpenOrders['push'](_0x248a0f[0x0]));}}catch(_0x618acf){await handleError(_0x618acf,_0x10cbbe(0x195));}}async function handleOpenOrders(_0x5375db=0x0){const _0x4d760f=_0x2f78fe;allOpenOrders[_0x4d760f(0x132)]==0x0&&lockOrders==ORDERS[_0x4d760f(0x239)]&&allOrdersPlaced&&(_0x5375db==0x0?(logger[_0x4d760f(0x12e)](_0x4d760f(0xf8)),_0x5375db++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x4d760f(0x12e)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x4d760f(0x138))));}async function testAPI(){const _0x3ea442=_0x2f78fe;try{return await exchange['fetchBalance'](),!![];}catch(_0xebfdb0){loading[_0x3ea442(0x24d)]=!![],_0xebfdb0[_0x3ea442(0x277)]()[_0x3ea442(0xfc)]()[_0x3ea442(0x252)]('timestamp')||_0xebfdb0[_0x3ea442(0x277)]()['toLowerCase']()[_0x3ea442(0x252)]('request-time')?(logHistory(_0x3ea442(0x236),_0x3ea442(0xd6)),loading[_0x3ea442(0x236)]=_0x3ea442(0x1c7)):handleErrorNoStop(_0xebfdb0,_0x3ea442(0x242),!![]),logHistory(_0x3ea442(0x236),_0x3ea442(0xfb)),logHistory(_0x3ea442(0x236),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x3ea442(0x1c5)),logger[_0x3ea442(0x12e)]('Error\x20details:',_0xebfdb0),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x117f22){const _0xe4bcab=_0x2f78fe;logger[_0xe4bcab(0x12e)](_0xe4bcab(0xd8));const _0x260933=ccxt[_0xe4bcab(0x102)][_0x117f22['exchange'][_0xe4bcab(0xfc)]()],_0x1e026c=new _0x260933({'apiKey':_0x117f22[_0xe4bcab(0x1f5)],'secret':_0x117f22[_0xe4bcab(0x1e5)],'options':{'defaultType':_0xe4bcab(0x1d5)}});if(_0x117f22['apiPassword'])_0x1e026c[_0xe4bcab(0x1a9)]=_0x117f22['apiPassword'];if(_0x1e026c[_0xe4bcab(0xb7)][_0xe4bcab(0x1f7)])_0x1e026c[_0xe4bcab(0xd3)](_0x117f22[_0xe4bcab(0x1f7)]);try{await _0x1e026c[_0xe4bcab(0x151)](),botPaused=![];}catch(_0x42a18d){logger['debug'](_0xe4bcab(0x1c9)+_0x42a18d['toString']());throw _0x42a18d;}}function cloneDeep(_0x7d1cf2){const _0x4765f9=_0x2f78fe;return JSON[_0x4765f9(0x178)](JSON[_0x4765f9(0x176)](_0x7d1cf2));}async function getPortfolio(_0x12dc23){const _0x3b834d=_0x2f78fe;let _0x14b1ec=[],_0x34960b=[],_0x3e7496=[],_0x1ac6a0;_0x12dc23['apiKey']=decryptRSA(secure[_0x3b834d(0xd4)],_0x12dc23['apiKey']),_0x12dc23['apiSecret']=decryptRSA(secure['privateKey'],_0x12dc23[_0x3b834d(0x1e5)]);if(_0x12dc23['apiPassword'])_0x12dc23[_0x3b834d(0xb9)]=decryptRSA(secure['privateKey'],_0x12dc23[_0x3b834d(0xb9)]);if(_0x12dc23[_0x3b834d(0x1f5)]!==_0x3b834d(0x121)||_0x12dc23['apiSecret']!=='************'||_0x12dc23[_0x3b834d(0xb9)]&&_0x12dc23[_0x3b834d(0xb9)]!==_0x3b834d(0x121)){if(config[_0x3b834d(0xe8)]){if(_0x12dc23[_0x3b834d(0x1f5)]==_0x3b834d(0x121))_0x12dc23[_0x3b834d(0x1f5)]=config[_0x3b834d(0x1f5)];if(_0x12dc23[_0x3b834d(0x1e5)]==_0x3b834d(0x121))_0x12dc23['apiSecret']=config[_0x3b834d(0x1e5)];if(_0x12dc23['apiPassword']==_0x3b834d(0x121))_0x12dc23[_0x3b834d(0xb9)]=config['apiPassword'];}try{if(_0x12dc23[_0x3b834d(0x123)])await testNewAPI(_0x12dc23);}catch(_0x558352){if(_0x558352[_0x3b834d(0x277)]()[_0x3b834d(0x252)](_0x3b834d(0x128))){logHistory(_0x3b834d(0x236),_0x3b834d(0x23e)),logHistory(_0x3b834d(0x236),_0x3b834d(0xd1)+_0x558352[_0x3b834d(0x277)]()),proxyEmit('portfolio1',![]);return;}else{if(_0x558352[_0x3b834d(0x277)]()[_0x3b834d(0x252)]('PermissionDenied')){logHistory('error',_0x3b834d(0x1f1)),logHistory(_0x3b834d(0x236),_0x3b834d(0xd1)+_0x558352[_0x3b834d(0x277)]()),proxyEmit(_0x3b834d(0x196),![]);return;}else{logHistory('error','Error\x20occurred:\x20'+_0x558352[_0x3b834d(0x277)]()),logger[_0x3b834d(0x12e)](_0x3b834d(0x1e3),_0x558352),proxyEmit(_0x3b834d(0x196),![]);return;}}}exchange?updateExchange(_0x12dc23['apiKey'],_0x12dc23[_0x3b834d(0x1e5)],_0x12dc23[_0x3b834d(0xb9)]):await initExchange(_0x12dc23[_0x3b834d(0xe8)],_0x12dc23[_0x3b834d(0x1f5)],_0x12dc23[_0x3b834d(0x1e5)],_0x12dc23[_0x3b834d(0xb9)],_0x12dc23[_0x3b834d(0x1f7)]);await loadSymbols();const _0x341bc6=await getCoins(0x0,![],_0x12dc23[_0x3b834d(0x12a)]);_0x3e7496=cloneDeep(_0x341bc6[0x1]);}else{const _0xe1895=await getCoins();_0x3e7496=cloneDeep(_0xe1895[0x1]);}if(_0x12dc23[_0x3b834d(0x12a)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x3b834d(0x141),_0x3e7496);else{_0x3e7496[_0x3b834d(0x1ae)](_0x1047b0=>{const _0x5aa8c2=_0x3b834d;if(_0x1047b0[_0x5aa8c2(0xf2)]!=_0x12dc23[_0x5aa8c2(0x12a)]&&allSymbols['includes'](_0x1047b0[_0x5aa8c2(0x204)]))_0x14b1ec['push'](_0x1047b0[_0x5aa8c2(0x204)]);});if(_0x14b1ec[_0x3b834d(0x132)]==0x0)logHistory(_0x3b834d(0x236),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x34960b=await getTickers(_0x14b1ec);}catch(_0x1482cd){logHistory(_0x3b834d(0x236),_0x3b834d(0x279)),logger[_0x3b834d(0x12e)](_0x3b834d(0x1e3),_0x1482cd),proxyEmit('portfolio1',![]);return;}_0x3e7496['forEach'](_0x3b761b=>{const _0x225d98=_0x3b834d;_0x3b761b[_0x225d98(0xf2)]!=_0x12dc23[_0x225d98(0x12a)]?_0x34960b[_0x3b761b[_0x225d98(0x204)]]?_0x34960b[_0x3b761b[_0x225d98(0x204)]][_0x225d98(0x223)]?_0x1ac6a0=_0x3b761b['reverse']?0x1/_0x34960b[_0x3b761b['symbol']][_0x225d98(0x223)]:_0x34960b[_0x3b761b[_0x225d98(0x204)]][_0x225d98(0x223)]:_0x1ac6a0=0x0:_0x1ac6a0=0x0:_0x1ac6a0=0x1,_0x3b761b[_0x225d98(0xc4)]=formatResult(_0x1ac6a0,0x8);}),await getMarketCap(_0x3e7496),proxyEmit(_0x3b834d(0x196),!![]),proxyEmit(_0x3b834d(0x141),_0x3e7496);}}}function truncateTradeAmount(_0x32e7ef,_0x11a208){const _0x43b9ac=_0x2f78fe;let _0x1de269=0x0;try{_0x1de269=exchange[_0x43b9ac(0x186)](_0x32e7ef,_0x11a208);}catch(_0x108511){}return _0x1de269;}function checkMinimums(_0x32c041){const _0x546822=_0x2f78fe;let _0x403e00=!![];const _0x188cd1=!_0x32c041['reverse']?markets[_0x32c041['symbol']][_0x546822(0xe0)][_0x546822(0x184)][_0x546822(0x171)]:markets[_0x32c041[_0x546822(0x204)]][_0x546822(0xe0)]['cost'][_0x546822(0x171)],_0x2b47f0=!_0x32c041['reverse']?markets[_0x32c041[_0x546822(0x204)]][_0x546822(0xe0)][_0x546822(0xcc)][_0x546822(0x171)]:markets[_0x32c041[_0x546822(0x204)]][_0x546822(0xe0)]['amount'][_0x546822(0x171)],_0x2ca412=truncateTradeAmount(_0x32c041['symbol'],_0x32c041['trade']);_0x32c041[_0x546822(0xe5)]=_0x2ca412;if(Math['abs'](_0x2ca412)<_0x188cd1)_0x403e00=![];if(Math['abs'](_0x2ca412)*_0x32c041[_0x546822(0x223)]<_0x2b47f0)_0x403e00=![];let _0x1f4192='';if(_0x32c041[_0x546822(0xcf)]==_0x546822(0xbc)){let _0x5a4993=config['portfolio'][_0x546822(0x18c)](_0x5b8676=>_0x5b8676['coin']==_0x32c041[_0x546822(0xf2)]);_0x5a4993[_0x546822(0xe6)]>0x0?Math[_0x546822(0x1c0)](_0x2ca412)>_0x32c041[_0x546822(0x101)]-_0x5a4993[_0x546822(0xe6)]&&(_0x403e00=![],_0x1f4192='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+_0x5a4993[_0x546822(0xf2)]+_0x546822(0xff)):Math[_0x546822(0x1c0)](_0x2ca412)>_0x32c041[_0x546822(0x101)]&&(_0x403e00=![]);}if(_0x32c041[_0x546822(0xcf)]==_0x546822(0x24e)){let _0x11b93f=config[_0x546822(0xf9)][_0x546822(0x18c)](_0x251ed2=>_0x251ed2[_0x546822(0xf2)]==config[_0x546822(0x12a)]),_0x5570d6=currentCoins[_0x546822(0x18c)](_0x8d01fe=>_0x8d01fe[_0x546822(0xf2)]==config['basecoin']);_0x11b93f['offset']>0x0?Math[_0x546822(0x1c0)](_0x2ca412)*_0x32c041[_0x546822(0x223)]>_0x5570d6[_0x546822(0x101)]-_0x11b93f[_0x546822(0xe6)]&&(_0x403e00=![],_0x1f4192='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config[_0x546822(0x12a)]+'\x20due\x20to\x20offset'):Math[_0x546822(0x1c0)](_0x2ca412)*_0x32c041[_0x546822(0x223)]>_0x5570d6[_0x546822(0x101)]&&(_0x403e00=![]);}return!_0x403e00&&_0x1f4192&&!insufficientFundsWarningSent[_0x546822(0x252)](_0x32c041[_0x546822(0xf2)])&&(logHistory(_0x546822(0x226),_0x1f4192),insufficientFundsWarningSent[_0x546822(0x1df)](_0x32c041[_0x546822(0xf2)])),_0x403e00;}async function getBalances(_0x254e6a=!![]){const _0xacdc54=_0x2f78fe;if(botPaused)return;let _0x5b60d1=0x0,_0x538a60;const _0x43a8d9=config[_0xacdc54(0x27e)];if(config[_0xacdc54(0x268)]&&config[_0xacdc54(0x276)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x26468f=>{const _0x157c5e=_0xacdc54;if(_0x26468f[_0x157c5e(0xf2)]!=config[_0x157c5e(0x12a)]){let _0x1f04e6=gTicker[noslash(_0x26468f[_0x157c5e(0x204)])];_0x538a60=_0x26468f[_0x157c5e(0x247)]?0x1/_0x1f04e6:_0x1f04e6;}else _0x538a60=0x1;let _0x3cf0b6=_0x26468f[_0x157c5e(0x101)]*_0x538a60;_0x5b60d1+=_0x3cf0b6,_0x26468f[_0x157c5e(0x223)]=formatResult(Number(_0x538a60),0x8),_0x26468f['value']=_0x3cf0b6;}),currentCoins['forEach'](_0x1f4111=>{const _0x4ed009=_0xacdc54;let _0x16d60f=config[_0x4ed009(0xf9)][_0x4ed009(0x18c)](_0x2fd404=>_0x2fd404[_0x4ed009(0xf2)]==_0x1f4111['coin']),_0x35d1bd=Number(_0x16d60f[_0x4ed009(0x139)]),_0x13c597=_0x1f4111[_0x4ed009(0x230)]/_0x5b60d1*0x64,_0x276f81=_0x35d1bd*_0x5b60d1/0x64/_0x1f4111[_0x4ed009(0x223)]-_0x1f4111[_0x4ed009(0x101)];_0x1f4111['distribution']=formatResult(_0x13c597,0x3),_0x1f4111[_0x4ed009(0x144)]=formatResult(_0x35d1bd,0x3),_0x1f4111[_0x4ed009(0xe5)]=formatResult(_0x276f81,0x8),_0x1f4111[_0x4ed009(0xcf)]='',_0x1f4111[_0x4ed009(0x1fa)]=![];if(_0x1f4111[_0x4ed009(0xf2)]!=config['basecoin']){if(_0x1f4111['distribution']>_0x35d1bd)_0x1f4111[_0x4ed009(0xcf)]=_0x4ed009(0xbc),_0x1f4111[_0x4ed009(0x1fa)]=checkMinimums(_0x1f4111);else _0x1f4111['distribution']<_0x35d1bd&&(_0x1f4111[_0x4ed009(0xcf)]=_0x4ed009(0x24e),_0x1f4111[_0x4ed009(0x1fa)]=checkMinimums(_0x1f4111));}_0x1f4111['delta']=_0x1f4111['distribution']/_0x1f4111[_0x4ed009(0x144)]-0x1;if(_0x1f4111[_0x4ed009(0x1a0)]==_0x4ed009(0xfd)||_0x1f4111[_0x4ed009(0x1a0)]==_0x4ed009(0x14a))_0x1f4111[_0x4ed009(0x1a0)]=_0x4ed009(0x1b9);}),currentCoins[_0xacdc54(0x1e9)]((_0x3b17f6,_0x41c9ca)=>_0x3b17f6[_0xacdc54(0x205)]<_0x41c9ca['delta']?0x1:_0x41c9ca[_0xacdc54(0x205)]<_0x3b17f6['delta']?-0x1:0x0);const _0x23083f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x23083f[_0xacdc54(0x23d)],'usd':_0x23083f[_0xacdc54(0x13a)],'portfolio':JSON[_0xacdc54(0x176)](currentCoins),'threshold':_0x43a8d9},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x254e6a){if(config[_0xacdc54(0x268)])headlessMode({'portfolio':currentCoins,'threshold':_0x43a8d9});else lockOrders==ORDERS[_0xacdc54(0xbb)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x43a8d9});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4b4c76=getNormalizedPerformance();getStartingBalances(_0x4b4c76),emitPerformance(_0x4b4c76);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x195d4b=_0x2f78fe;let _0x210ec6=dbCoinResults['get']('coins')[_0x195d4b(0x230)](),_0x3c37e7=0x0;return Object[_0x195d4b(0x270)](_0x210ec6)[_0x195d4b(0x1ae)](([_0x1f064e,_0x30b736])=>{const _0x1db968=_0x195d4b;_0x3c37e7+=_0x30b736[_0x1db968(0x163)];}),_0x3c37e7;}async function storePerformance(){const _0x10385b=_0x2f78fe;if(!lastBalances)return;let _0x6d7db4=[],_0x291b9a;const _0x4854e6=getPnL();let _0x3233ae=JSON['parse'](lastBalances[_0x10385b(0xf9)]);_0x3233ae[_0x10385b(0x1e9)]((_0xaee302,_0x496c62)=>_0xaee302[_0x10385b(0xf2)]>_0x496c62[_0x10385b(0xf2)]?0x1:_0x496c62[_0x10385b(0xf2)]>_0xaee302[_0x10385b(0xf2)]?-0x1:0x0),_0x3233ae['forEach'](_0x15a0ab=>{const _0x49d204=_0x10385b;let _0xdca497={'coin':_0x15a0ab[_0x49d204(0xf2)],'number':_0x15a0ab[_0x49d204(0x101)],'price':_0x15a0ab[_0x49d204(0x223)]};_0x6d7db4['push'](_0xdca497);});const _0x4f3ef3=await getFiat(),_0x454333=getTimeStamp()[_0x10385b(0x110)]('\x20')[0x0],_0x5c7d63=dbPerformance[_0x10385b(0x12f)](_0x10385b(0xd0))[_0x10385b(0x18c)]({'date':_0x454333})[_0x10385b(0x230)]();_0x291b9a={'date':_0x454333,'eur':_0x4f3ef3['eur'],'usd':_0x4f3ef3['usd'],'coins':_0x6d7db4,'pnl':_0x4854e6},_0x5c7d63?_0x291b9a[_0x10385b(0xc5)]!=config[_0x10385b(0x1eb)]&&dbPerformance[_0x10385b(0x12f)](_0x10385b(0xd0))[_0x10385b(0x18c)]({'date':_0x454333})[_0x10385b(0x213)](_0x291b9a)[_0x10385b(0xfa)]():dbPerformance[_0x10385b(0x12f)](_0x10385b(0xd0))[_0x10385b(0x1df)](_0x291b9a)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4bea21=_0x2f78fe;let _0x237563=[];if(dbPerformance[_0x4bea21(0xb7)](_0x4bea21(0xd0))[_0x4bea21(0x230)]()){let _0x2596c4=dbPerformance[_0x4bea21(0x12f)](_0x4bea21(0xd0))[_0x4bea21(0x1ef)]()[_0x4bea21(0x19b)](_0x3737af=>{const _0x42084a=_0x4bea21;if(_0x3737af[_0x42084a(0x17b)][_0x42084a(0x132)]==0x0)return![];else return!![];})[_0x4bea21(0xca)](_0x4bea21(0xc5))['value'](),_0x14e15b=[...config[_0x4bea21(0x274)]];_0x14e15b['sort']((_0x45e504,_0x23e2e9)=>_0x45e504[_0x4bea21(0xc5)]>_0x23e2e9['date']?-0x1:_0x23e2e9['date']>_0x45e504['date']?0x1:0x0);let _0x2689f9=0x1,_0x35f568=[],_0x50121a=0x0;_0x2596c4[_0x4bea21(0x1f9)]()[_0x4bea21(0x247)]()[_0x4bea21(0x1ae)]((_0x4743cd,_0xf8405)=>{const _0x3028af=_0x4bea21;if(_0x14e15b[_0x50121a]){if(_0x2596c4[_0x2596c4[_0x3028af(0x132)]-_0xf8405]&&_0x14e15b[_0x50121a][_0x3028af(0xc5)]==_0x2596c4[_0x2596c4[_0x3028af(0x132)]-_0xf8405][_0x3028af(0xc5)]){if(_0xf8405<_0x2596c4[_0x3028af(0x132)]){let _0x4396f8=0x0,_0xd44d03=0x0;_0x2596c4[_0x2596c4[_0x3028af(0x132)]-_0xf8405][_0x3028af(0x17b)][_0x3028af(0x1ae)](_0x368883=>{const _0xb3f826=_0x3028af;_0xd44d03+=_0x368883[_0xb3f826(0x101)]*_0x368883[_0xb3f826(0xc4)];}),_0x14e15b[_0x50121a][_0x3028af(0x12b)][_0x3028af(0x1ae)](_0x513360=>{const _0x2dcc92=_0x3028af;_0x4396f8+=_0x513360[_0x2dcc92(0x101)]*_0x513360[_0x2dcc92(0xc4)];}),_0x2689f9*=_0x4396f8/(_0xd44d03-_0x4396f8)+0x1;}_0x50121a++;}}let _0x329207=0x0;_0x4743cd[_0x3028af(0x17b)]['forEach'](_0x85a0d3=>{const _0x3cfabd=_0x3028af;_0x329207+=_0x85a0d3[_0x3cfabd(0x101)]*_0x85a0d3['price'];}),_0x35f568[_0x2596c4[_0x3028af(0x132)]-_0xf8405-0x1]=_0x329207*(_0x2689f9-0x1);});let _0x3296bd=[];_0x14e15b=[...config[_0x4bea21(0x274)]]||[];let _0x239ec6=0x0;_0x50121a=0x0,_0x2596c4[_0x4bea21(0x1ae)]((_0x345741,_0x545a94)=>{const _0x3e783b=_0x4bea21;if(_0x14e15b[_0x50121a]){const _0x1b53b3=fns[_0x3e783b(0x178)](_0x14e15b[_0x50121a][_0x3e783b(0xc5)],_0x3e783b(0x15b),new Date()),_0x455380=fns[_0x3e783b(0x178)](_0x345741[_0x3e783b(0xc5)],'yyyy/MM/dd',new Date());if(fns[_0x3e783b(0x124)](_0x1b53b3,_0x455380)){let _0xefe149=0x0;_0x14e15b[_0x50121a]['changes'][_0x3e783b(0x1ae)](_0x3a8b4e=>{const _0x1fcddd=_0x3e783b;!_0x3296bd[_0x3a8b4e[_0x1fcddd(0xf2)]]?_0x3296bd[_0x3a8b4e[_0x1fcddd(0xf2)]]=_0x3a8b4e[_0x1fcddd(0x101)]:(_0xefe149=_0x3296bd[_0x3a8b4e[_0x1fcddd(0xf2)]],_0x3296bd[_0x3a8b4e['coin']]+=_0x3a8b4e[_0x1fcddd(0x101)]);const _0xd89c2f=_0x345741['coins'][_0x1fcddd(0x18c)](_0x5d11d0=>_0x5d11d0['coin']==_0x3a8b4e['coin']);(!_0xd89c2f||_0xd89c2f['number']==0x0)&&(_0x239ec6+=(-_0x3a8b4e[_0x1fcddd(0x101)]-_0xefe149)*_0x3a8b4e[_0x1fcddd(0xc4)]);}),_0x50121a++;}}_0x345741[_0x3e783b(0x17b)][_0x3e783b(0x1ae)]((_0x2a0ec9,_0x5cdbe0)=>{const _0x5e933d=_0x3e783b;_0x3296bd[_0x2a0ec9[_0x5e933d(0xf2)]]&&(_0x2a0ec9['initial']=_0x3296bd[_0x2a0ec9[_0x5e933d(0xf2)]]);}),_0x237563[_0x3e783b(0x1df)]({'date':_0x345741[_0x3e783b(0xc5)],'eur':_0x345741[_0x3e783b(0x23d)],'usd':_0x345741[_0x3e783b(0x13a)],'offset':_0x35f568[_0x545a94],'netoffset':_0x239ec6,'coins':_0x345741[_0x3e783b(0x17b)],'pnl':_0x345741[_0x3e783b(0x16a)]});});}return _0x237563;}function emitPerformance(_0x5c0ceb){_0x5c0ceb['length']!==0x0?(proxyEmit('performance',_0x5c0ceb),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x443a50,_0xc9ced8){const _0x839756=_0x2f78fe;let _0x2b93b6=0x0,_0x22ad77=0x0,_0x35d7bf=0x0;_0x443a50[_0x839756(0x17b)][_0x839756(0x1ae)](_0x3cbd67=>{const _0x58c5f8=_0x839756;_0x2b93b6+=_0x3cbd67[_0x58c5f8(0x101)]*_0x3cbd67[_0x58c5f8(0xc4)];});_0xc9ced8&&(_0x2b93b6+=_0x443a50[_0x839756(0xe6)]);if(config[_0x839756(0x12a)]==='BTC'||config['basecoin']==='ETH'||config[_0x839756(0x12a)]===_0x839756(0x271))_0x22ad77=_0x2b93b6*_0x443a50[_0x839756(0x23d)],_0x35d7bf=_0x2b93b6*_0x443a50[_0x839756(0x13a)];else{if(usdBasecoins[_0x839756(0x252)](config[_0x839756(0x12a)]))_0x22ad77=_0x2b93b6*_0x443a50[_0x839756(0x23d)]/_0x443a50[_0x839756(0x13a)],_0x35d7bf=_0x2b93b6;else config[_0x839756(0x12a)]===_0x839756(0xce)&&(_0x22ad77=_0x2b93b6,_0x35d7bf=_0x2b93b6*_0x443a50[_0x839756(0x13a)]/_0x443a50[_0x839756(0x23d)]);}return[_0x2b93b6,_0x22ad77,_0x35d7bf];}function _0x1c1d(){const _0xf09463=['exchange\x20reload','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','active','Manual\x20balancing\x20required','net-basecoin','getMinutes','fetchBalance','fiat','-config.json','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','secret','1\x20-\x20FILLED\x20known\x20order:\x20','BUSD','balances','currency','Exception\x20thrown\x20in\x20','yyyy/MM/dd','fetchTickers','pid','excluded','2.7.1','-results.json','status\x20code\x20401','padEnd','realizedPnL','cancelOrders()','PnL\x20','page','self_reported_market_cap','-------------------------------\x0a','\x20(see:\x20hodlerhacks.com/fix/1)','pnl','Set\x20lock\x20orders\x20to:\x20','pnl-fiat','Bitget','Huobipro','USDP','/USD','min',')\x20known\x20order:\x20','detectLiquidityChange()','Resetting\x20coin\x20results:\x20','set','stringify','complete','parse','removed','message','coins','basecoinvalue','timestamp','closed','2.6.23','Bot\x20','1806771HVIpUt','\x20|\x20','watchTrades()','amount','Error\x20while\x20deleting\x20files:\x20','amountToPrecision','\x20minutes\x20-\x20','search','Exchange','getMonth','yargs/yargs','find','no\x20exchange\x20reloaded','isBefore','uncaughtException','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','MIN_NOTIONAL','openOrders','./logs/','2.6.0','getOpenOrders()','portfolio1','Cryptocom','autoliquidity','market','Initializing\x20coin\x20results','filter','botname','InvalidNonce','argv','841660zVlgRl','orderstatus','ID:\x20','added','loadSymbols()','\x20>\x20details:','getPortfolio','running','event','\x20metrics:</b>\x20\x0a\x0a','password','decode64','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','fee','api-issue','forEach','orderId','args','Headless:\x20','RSA-OAEP','<b>Bot\x20','%\x20(','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','getFullYear','indexOf','DDoSProtection','none','ordertype','-events.json','104293Arcwmc','customId','storeHeadless','bots','abs','Cooldown\x20ended\x20-\x20balancing\x20resumed','watchTradesForSymbols()','createOrder','marketcapApi','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','net','timestamp-issue','Order\x20filled','Error\x20in\x20testNewAPI():\x20','percentage','mkdirSync','Unfilled\x20order(s)\x20canceled\x20after\x20','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','red_yellow_blue','ETH','loading-canceled','status','/USDT','initTickers()','\x20-\x20','spot',')\x20|\x20exchange:\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','</pre>','Gateio','remainingSymbols','prevnumber','cooldown','max','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','push','Waited\x20','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','API-key\x20format\x20invalid','Error\x20details:','splice','apiSecret','join',',\x20must\x20be\x20a\x203\x20digit\x20number','Market\x20order','sort','memoryUsage','startdate','marketcap','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','fetchOpenOrders','cloneDeep','version','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','%)\x0a','format','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','apiKey','\x20order:\x20','sandbox','add','slice','valid','padStart','Fee\x20discount\x20refund\x20detected:\x20','deleteHistoryAlerts','toggleBotMode','final','emojisell','\x20API\x20secret\x20is\x20invalid','5995784IYAabp','ccxt','symbol','delta','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','highest','unlinkSync','logs','request-time','1\x20-\x20Validate\x20orders:\x20','watchOrders','substring','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','./version.json','limit','Placing\x20order\x20for:\x20','./config/','assign','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','storeConfiguration','sendMetricsTelegram','3194705WYYhBH','ExchangeNotAvailable','full','secure','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20/\x20','sha256','0\x20-\x20EXECUTION:\x20','Binance','test','update-liquidity','ExchangeError','last','\x20>\x20','function','warning','Net\x20','onepagemode','\x20API\x20key\x20is\x20invalid','Resetting\x20bot\x20history','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','existsSync','recovery','ongoing','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','value','code','sells','InsufficientFunds','***','<b>','error','constructor','Order(s)\x20not\x20validated\x20after\x20','LOCKED','bid','Error:\x20Invalid\x20argument\x20','configstate','eur','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','sendPortfolioTelegram','send','configuration-stored','testAPI()','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','\x20MB','USD','defaults','reverse','Invalid\x20balance\x20for\x20','RateLimitExceeded','kill','findIndex','getStartingBalances','cancel','buy','TUSD','match','Insufficient\x20funds\x20to\x20execute\x20order:\x20','includes','type','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','replace','OrderNotFound','net-fiat','17444130wsNXJp','util','bitmex','breakeven','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','cancelLoading','<pre>','emitHistory','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','fetchTicker','fromCodePoint','slider','\x20|\x20lock\x20orders:\x20','total','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','Portfolio\x20change\x20detected:\x20','headless','Unknown\x20error:\x20','1\x20-\x20FILLED\x20unknown\x20order:\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','2.3.5','keys','recreate','startprice','entries','PAXG','2\x20-\x20handling\x20FILLED\x20order:\x20','event-history','liquidity','process\x20','change24h','toString','toFixed','Unknown\x20error\x20-\x20check\x20logs','Generating\x20PnL\x20data','timeshift','average','success','threshold','remove','\x20minutes','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Pausing\x20for\x20','starting-balance-','colorscheme','Value\x20','Order\x20amount\x20is\x20invalid:\x20','timeout','bot-','8SnbDZY','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','2105918nUdcYk','progress','switch-manual','buys','has','log','apiPassword','/output-000.log','UNLOCKED','sell','watchTradesForSymbols','watchTrades','\x20-\x20go\x20back\x20and\x20try\x20again','getSeconds','lowdb/adapters/FileSync','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x0aSymbol(s):\x20','price','date','recent20','showConfig','cancelOrder','marketcapEnabled','sortBy','USDT','cost','RequestTimeout','EUR','side','data','Error\x20details:\x20','Bybit','setSandboxMode','privateKey','Loading\x20completed','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','\x20-\x20bot\x20not\x20started','Test\x20new\x20API','axios','freeze',':\x20timer\x20>','change','writeFile','initclient','\x20has\x20a\x2024h\x20drop\x20of\x20','limits','bot','showname','fetchBalance()','9aVlALz','trade','offset','Network\x20error\x20details:','exchange','/backup/','/EUR','resetHistory','https://pro-api.coinmarketcap.com/v1/cryptocurrency/map','\x20|\x20Custom\x20ID:\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','coin-loading-progress','2\x20-\x20Validate\x20orders:\x20','Trigger:\x20','coin','lowdb','environment','exchanges','time','startnumber','1\x20-\x20Handle\x20open\x20orders','portfolio','write','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','toLowerCase','filled','Valid\x20balance\x20for\x20','\x20due\x20to\x20offset','-performance.json','number','pro','Stopped\x20fetching\x20balance\x20after\x20','Initiating\x20bot\x20restart','getDate','\x20>\x20[DEBUG]\x20','\x20orders\x20in\x20less\x20than\x20','Initializing\x20exchange:\x20already\x20done','date-fns','Failed\x20to\x20load\x20coin\x20data\x20for\x20','ask','botID','BTC','quick','\x20portfolio:</b>\x20\x0a\x0a','split','getTime','round','sqrt','settings','PermissionDenied','(((.+)+)+)+$','getHours','toUpperCase','Limit\x20(low-margin)','Huobi','balancing\x20resumed','quote','initial','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','watchOrders()','starting-balances','************','market_cap','testApi','isEqual','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','token\x20is\x20expired','shift','AuthenticationError','decrypt','basecoin','changes','open','limit-high','debug','get','\x20exchange','create','length','differenceInSeconds','configuration','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started',':\x20Bot\x20','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','no\x20open\x20orders','distribution','usd','Avoiding\x20continuous\x20order\x20attempts','Order\x20filled:\x20','420ghgJes','order','Order\x20is\x20invalid:\x20','InvalidOrder','portfolio2','production','storeFiat','target','emojibuy','fetchTickers()','bb-secure.json','marketcapsqrt','RETRY\x20-\x20Error\x20in\x20','canceled'];_0x1c1d=function(){return _0xf09463;};return _0x1c1d();}function CurrencyFactor(_0x1615c6,_0x2c4c7f,_0x475d9b){const _0x5eef64=_0x2f78fe;let _0x3baaed;if(_0x2c4c7f===_0x5eef64(0x10d)||_0x2c4c7f==='ETH'||_0x2c4c7f===_0x5eef64(0x271))_0x3baaed=_0x475d9b===_0x5eef64(0xce)?_0x1615c6[_0x5eef64(0x23d)]:_0x1615c6[_0x5eef64(0x13a)];else{if(usdBasecoins[_0x5eef64(0x252)](_0x2c4c7f))_0x3baaed=_0x475d9b===_0x5eef64(0xce)?_0x1615c6[_0x5eef64(0x23d)]/_0x1615c6[_0x5eef64(0x13a)]:0x1;else _0x2c4c7f===_0x5eef64(0xce)&&(_0x3baaed=_0x475d9b==='EUR'?0x1:_0x1615c6[_0x5eef64(0x13a)]/_0x1615c6[_0x5eef64(0x23d)]);}return _0x3baaed;}function getKPIs(_0x46d40b,_0x2282b7=_0x2f78fe(0xce)){const _0x1d37d0=_0x2f78fe,_0xa852db=config[_0x1d37d0(0x12a)],_0x17e1ec=lastBalances,_0x4eee6e=currentCoins,_0x444bf5=getNormalizedPerformance(),_0x7ae53d=CurrencyFactor(_0x17e1ec,config[_0x1d37d0(0x12a)],_0x2282b7);let _0x1f5652=0x0;_0x4eee6e[_0x1d37d0(0x1ae)](_0xbfa933=>{const _0x170fd7=_0x1d37d0;_0x1f5652+=_0xbfa933[_0x170fd7(0x101)]*_0xbfa933['last'];});_0x46d40b[_0x1d37d0(0x252)](_0x1d37d0(0x152))&&(_0x1f5652*=_0x7ae53d);let _0xf1bb18;if(_0x1f5652!==0x0){if(_0x46d40b===_0x1d37d0(0x12a)||_0x46d40b===_0x1d37d0(0x152)){if(_0x46d40b==='basecoin')_0xf1bb18=(_0x1f5652/startingBalances[_0x1d37d0(0x12a)]-0x1)*0x64;else{if(_0x2282b7==='EUR')_0xf1bb18=(_0x1f5652/startingBalances['eur']-0x1)*0x64;else _0xf1bb18=(_0x1f5652/startingBalances[_0x1d37d0(0x13a)]-0x1)*0x64;}}if(_0x46d40b[_0x1d37d0(0x252)](_0x1d37d0(0x1c6))){let _0x13478e=0x0;if(startingBalances[_0x1d37d0(0x17b)])_0x4eee6e[_0x1d37d0(0x1ae)](_0x378960=>{const _0x15d422=_0x1d37d0;let _0xc6c038=startingBalances[_0x15d422(0x17b)][_0x15d422(0x18c)](_0x38ea02=>_0x38ea02[_0x15d422(0xf2)]===_0x378960['coin']);if(_0xc6c038&&_0xc6c038[_0x15d422(0xf2)]&&_0x378960['number']!==0x0)_0x13478e+=_0xc6c038['number']*_0x378960[_0x15d422(0x223)];});let _0x16b733=0x0;if(_0x444bf5['length']!==0x0){let _0x3a009e=_0x444bf5[_0x444bf5['length']-0x1];_0x16b733=_0x3a009e['netoffset'];}_0x13478e-=_0x16b733;let _0x244f2c;_0x46d40b===_0x1d37d0(0x14f)&&(_0x244f2c=startingBalances[_0x1d37d0(0x12a)]),_0x46d40b===_0x1d37d0(0x257)&&(_0x244f2c=_0x2282b7===_0x1d37d0(0xce)?startingBalances[_0x1d37d0(0x23d)]:startingBalances[_0x1d37d0(0x13a)],_0x13478e*=_0x7ae53d),_0xf1bb18=(_0x1f5652-_0x13478e)/_0x244f2c*0x64,_0x1f5652=_0x1f5652-_0x13478e;}if(_0x46d40b['includes'](_0x1d37d0(0x16a))){if(_0x444bf5[_0x1d37d0(0x132)]!==0x0&&_0x4eee6e['length']!==0x0){let _0x4d120a,_0x1e3f40=_0x444bf5[_0x444bf5[_0x1d37d0(0x132)]-0x1][_0x1d37d0(0x16a)];_0x46d40b[_0x1d37d0(0x252)](_0x1d37d0(0x152))?(_0x4d120a=_0x2282b7===_0x1d37d0(0xce)?startingBalances[_0x1d37d0(0x23d)]:startingBalances[_0x1d37d0(0x13a)],_0x1e3f40*=CurrencyFactor(_0x17e1ec,_0xa852db,_0x2282b7)):_0x4d120a=startingBalances[_0x1d37d0(0x12a)],_0xf1bb18=_0x1e3f40/_0x4d120a*0x64,_0x1f5652=_0x1e3f40;}}if(_0xf1bb18){if(_0xf1bb18<0x64)_0xf1bb18=_0xf1bb18[_0x1d37d0(0x278)](0x2);else{if(_0xf1bb18<0x3e8)_0xf1bb18=_0xf1bb18[_0x1d37d0(0x278)](0x1);else _0xf1bb18=_0xf1bb18[_0x1d37d0(0x278)](0x0);}}else _0xf1bb18=Number('0')[_0x1d37d0(0x278)](0x2);if(_0x1f5652){if(Math[_0x1d37d0(0x1c0)](_0x1f5652)<0.000001)_0x1f5652=_0x1f5652[_0x1d37d0(0x278)](0x2);else{if(Math['abs'](_0x1f5652)<0.1)_0x1f5652=_0x1f5652[_0x1d37d0(0x278)](0x6);else{if(Math[_0x1d37d0(0x1c0)](_0x1f5652)<0x1)_0x1f5652=_0x1f5652[_0x1d37d0(0x278)](0x5);else{if(Math['abs'](_0x1f5652)<0xa)_0x1f5652=_0x1f5652[_0x1d37d0(0x278)](0x4);else{if(Math[_0x1d37d0(0x1c0)](_0x1f5652)<0x64)_0x1f5652=_0x1f5652[_0x1d37d0(0x278)](0x3);else{if(Math[_0x1d37d0(0x1c0)](_0x1f5652)<0x3e8)_0x1f5652=_0x1f5652[_0x1d37d0(0x278)](0x2);else _0x1f5652=_0x1f5652[_0x1d37d0(0x278)](0x2);}}}}}}else _0x1f5652=Number('0')['toFixed'](0x2);}else _0xf1bb18=Number('0')['toFixed'](0x2);if(_0xf1bb18>=0x0)_0xf1bb18='+'+_0xf1bb18;return{'value':_0x1f5652,'change':_0xf1bb18};}async function getStartingBalances(_0x46f080,_0x522cbb=!![]){const _0x39bd6f=_0x2f78fe;if(_0x46f080[_0x39bd6f(0x132)]!==0x0){const [_0x3ab758,_0x6453a0,_0x1dbf2b]=getPerf(_0x46f080[0x0],!![]);let _0x2e20ec=[];config[_0x39bd6f(0xf9)]['forEach'](_0x45766f=>{const _0x59ded2=_0x39bd6f;let _0x120bf4=0x0,_0x2f6b1e;config[_0x59ded2(0x274)]['forEach'](_0xd99c65=>{const _0x5ebb12=_0x59ded2;let _0x487564=_0xd99c65[_0x5ebb12(0x12b)][_0x5ebb12(0x18c)](_0x5370aa=>_0x5370aa[_0x5ebb12(0xf2)]==_0x45766f[_0x5ebb12(0xf2)]);if(_0x487564){_0x120bf4+=_0x487564['number'];if(!_0x2f6b1e)_0x2f6b1e=_0x487564[_0x5ebb12(0xc4)];}}),_0x2e20ec['push']({'coin':_0x45766f[_0x59ded2(0xf2)],'number':_0x120bf4,'initialprice':_0x2f6b1e});});const _0x6fc22b={'basecoin':_0x3ab758,'eur':_0x6453a0,'usd':_0x1dbf2b,'coins':_0x2e20ec};if(_0x522cbb)proxyEmit(_0x39bd6f(0x120),_0x6fc22b);startingBalances=_0x6fc22b;}}function headlessMode(_0x2c7e2e){const _0x22d293=_0x2f78fe;let _0x574125=_0x2c7e2e[_0x22d293(0xf9)],_0x160fba=_0x2c7e2e[_0x22d293(0x27e)],_0x200868=[];for(let _0x394a1c of _0x574125){if(_0x394a1c[_0x22d293(0xf2)]!=config[_0x22d293(0x12a)]){if(_0x394a1c['delta']>=_0x160fba/0x64){if(_0x394a1c[_0x22d293(0x1fa)])_0x200868[_0x22d293(0x1df)](_0x394a1c);}else{if(_0x394a1c[_0x22d293(0x205)]<=-_0x160fba/0x64){if(_0x394a1c[_0x22d293(0x1fa)])_0x200868['push'](_0x394a1c);}}}}_0x200868['length']>0x0&&placeOrder(_0x200868);}function notifyBalance(_0x1c6542){const _0x4e92f3=_0x2f78fe;let _0x666430=_0x1c6542['portfolio'],_0x2f3075=_0x1c6542[_0x4e92f3(0x27e)],_0x4c5988=[];for(let _0x545315 of _0x666430){if(_0x545315[_0x4e92f3(0xf2)]!=config[_0x4e92f3(0x12a)]){if(_0x545315[_0x4e92f3(0x205)]>=_0x2f3075/0x64){if(_0x545315[_0x4e92f3(0x1fa)])_0x4c5988[_0x4e92f3(0x1df)](_0x545315);}else{if(_0x545315[_0x4e92f3(0x205)]<=-_0x2f3075/0x64){if(_0x545315[_0x4e92f3(0x1fa)])_0x4c5988[_0x4e92f3(0x1df)](_0x545315);}}}}if(_0x4c5988[_0x4e92f3(0x132)]>0x0){let _0x55ea27=_0x4c5988['map'](_0x517b0d=>_0x517b0d[_0x4e92f3(0xf2)]);_0x55ea27[_0x4e92f3(0x1e9)]();let _0x11698a=_0x55ea27[_0x4e92f3(0x1e6)](',\x20');if(!lastCoinsToBalance)logHistory(_0x4e92f3(0x226),_0x4e92f3(0x14e));lastCoinsToBalance=_0x11698a;}}function symbolToCoin(_0x358677){const _0x42bdff=_0x2f78fe;let _0x44cc1f;if(_0x358677[_0x42bdff(0x252)]('/'+config[_0x42bdff(0x12a)]))_0x44cc1f=_0x358677['replace']('/'+config[_0x42bdff(0x12a)],'');if(_0x358677[_0x42bdff(0x252)](config[_0x42bdff(0x12a)]+'/'))_0x44cc1f=_0x358677[_0x42bdff(0x255)](config[_0x42bdff(0x12a)]+'/','');return _0x44cc1f;}function setLockOrders(_0x2ba9ab){const _0x30b7bb=_0x2f78fe;lockOrders=_0x2ba9ab,logger[_0x30b7bb(0x12e)](_0x30b7bb(0x16b)+Object[_0x30b7bb(0x26d)](ORDERS)[lockOrders]);}async function unlockOrders(_0x2365e0=![]){const _0x3cb887=_0x2f78fe;if(allOrdersPlaced&&lockOrders==ORDERS[_0x3cb887(0x239)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x2365e0){const _0x3eb30e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3eb30e,setBlockTransactionDetection(![]);}validateOrdersState=_0x3cb887(0x11d),persistOpenOrders([]),setLockOrders(ORDERS['UNLOCKED']);}}async function validateOrders(_0x44c7b6){const _0x429207=_0x2f78fe;if(_0x44c7b6)validateOrdersState=_0x44c7b6;logger[_0x429207(0x12e)](_0x429207(0x20b)+validateOrdersState+_0x429207(0x264)+Object[_0x429207(0x26d)](ORDERS)[lockOrders]);let _0x2e6b8d=[],_0x491d79=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x429207(0x287)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x429207(0x239)])return;logger[_0x429207(0x12e)](_0x429207(0xf0)+validateOrdersState);for(let _0x1e2c9d=lastOrders[_0x429207(0x132)]-0x1;_0x1e2c9d>=0x0;_0x1e2c9d--){let _0x5b0555=lastOrders[_0x1e2c9d],_0x2cdc43=![];_0x5b0555[_0x429207(0xfd)]>0x0&&(_0x2cdc43=!![]),_0x2e6b8d[_0x429207(0x1df)](_0x2cdc43),_0x2cdc43&&config[_0x429207(0x1ba)]!='market'&&logHistory(_0x429207(0x13e),_0x429207(0x13c)+_0x5b0555[_0x429207(0x204)]+'\x20'+_0x5b0555['side']+'\x20#'+formatResult(_0x5b0555['filled'],0x8)+'\x20@'+formatResult(_0x5b0555[_0x429207(0xc4)],0x8)),_0x2cdc43&&lastOrders[_0x429207(0x1e4)](_0x1e2c9d,0x1);}persistOpenOrders(lastOrders);const _0x478298=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x429207(0x11b);if(validateOrdersState==_0x429207(0x11d)){validateOrdersState=_0x429207(0x22e);if(_0x2e6b8d[_0x429207(0x252)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x429207(0x22e)){if(_0x2e6b8d[_0x429207(0x252)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x429207(0x1ff)){let _0x2b9c7a=!![];if(_0x2e6b8d[_0x429207(0x252)](![])){if(config[_0x429207(0x1ba)]==_0x429207(0x199))logHistory(_0x429207(0x27d),_0x429207(0x238)+Math[_0x429207(0x112)](_0x491d79*validateOrderInterval/0xea60)+_0x429207(0x187)+_0x478298),await unlockOrders(!![]);else{_0x2b9c7a=await cancelOrders();if(_0x2b9c7a)logHistory(_0x429207(0x27d),_0x429207(0x1cc)+Math[_0x429207(0x112)](_0x491d79*validateOrderInterval/0xea60)+_0x429207(0x187)+_0x478298),await unlockOrders(!![]);else{validateOrdersState='ongoing',logHistory('error',_0x429207(0x1cd)+Math[_0x429207(0x112)](_0x491d79*validateOrderInterval/0xea60)+_0x429207(0x187)+_0x478298),logHistory('error',_0x429207(0x1b5));const _0x322bd4=config[_0x429207(0x1ba)]==_0x429207(0x199)?validateOrderTimeout*0x3c*0x3e8:config[_0x429207(0x287)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x580ba5=_0x429207;validateOrders(_0x580ba5(0x1ff));},_0x322bd4);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x429207(0x138)){if(config[_0x429207(0x1ba)]!=_0x429207(0x199))logHistory(_0x429207(0x27d),'No\x20more\x20open\x20orders\x20-\x20'+_0x478298);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x2380cc=_0x2f78fe;let _0x50e076=!![],_0x3d62c7;for(const _0x824b19 of lastOrders){let _0x1966e5=![],_0x1069e5=0x0;while(!_0x1966e5&&_0x1069e5<maxRetries){try{const _0x19dfe4=await exchange[_0x2380cc(0xc8)](_0x824b19[_0x2380cc(0x1af)],_0x824b19[_0x2380cc(0x204)]);_0x1966e5=!![];}catch(_0x5b6800){_0x5b6800[_0x2380cc(0x277)]()['includes'](_0x2380cc(0x256))||_0x5b6800[_0x2380cc(0x277)]()[_0x2380cc(0x252)](_0x2380cc(0x140))?_0x1966e5=!![]:(_0x3d62c7=_0x5b6800,_0x1966e5=![]);}!_0x1966e5&&(_0x1069e5++,await sleep(retryInterval));}_0x50e076=_0x50e076&&_0x1966e5;}return!_0x50e076&&await handleError(_0x3d62c7,_0x2380cc(0x164)),_0x50e076;}async function initCoinResults(_0x174a0a){const _0x5a2500=_0x2f78fe;_0x174a0a?logger['debug'](_0x5a2500(0x174)+_0x174a0a):logger[_0x5a2500(0x12e)](_0x5a2500(0x19a)),config[_0x5a2500(0xf9)][_0x5a2500(0x1ae)](_0x25fd45=>{const _0x16885c=_0x5a2500;if(!_0x25fd45[_0x16885c(0x15e)]&&_0x25fd45[_0x16885c(0xf2)]!=config['basecoin']){const _0x299d5f=currentCoins[_0x16885c(0x18c)](_0x5ed9c4=>_0x5ed9c4[_0x16885c(0xf2)]==_0x25fd45[_0x16885c(0xf2)]),_0x5ab27b=gTicker[noslash(_0x25fd45[_0x16885c(0x204)])];let _0x5bfe2d=_0x299d5f?_0x299d5f[_0x16885c(0x101)]:null,_0xa5ddbf=_0x25fd45[_0x16885c(0x247)]?0x1/_0x5ab27b:_0x5ab27b,_0x30c0ab;config['liquidity'][_0x16885c(0x1ae)](_0x309b73=>{const _0x2f64d8=_0x16885c;!_0x30c0ab&&(_0x30c0ab=_0x309b73['changes'][_0x2f64d8(0x18c)](_0xb72da6=>_0xb72da6[_0x2f64d8(0xf2)]==_0x25fd45[_0x2f64d8(0xf2)]),_0x30c0ab&&(_0x5bfe2d=_0x30c0ab[_0x2f64d8(0x101)],_0xa5ddbf=_0x30c0ab[_0x2f64d8(0xc4)]));});let _0x40c74c=dbCoinResults['get']('coins')[_0x16885c(0x18c)]({'coin':_0x25fd45[_0x16885c(0xf2)]})[_0x16885c(0x230)]();if(!_0x40c74c){const _0x581c68={'coin':_0x25fd45[_0x16885c(0xf2)],'number':_0x5bfe2d,'breakeven':_0xa5ddbf,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x16885c(0x17b))[_0x16885c(0x1df)](_0x581c68)[_0x16885c(0xfa)]();}else{if(_0x174a0a&&_0x25fd45[_0x16885c(0xf2)]==_0x174a0a){const _0x15c58a={'coin':_0x25fd45[_0x16885c(0xf2)],'number':_0x5bfe2d,'breakeven':_0xa5ddbf,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x16885c(0x12f)](_0x16885c(0x17b))[_0x16885c(0x18c)]({'coin':_0x25fd45['coin']})[_0x16885c(0x213)](_0x15c58a)['write']();}}}});}async function placeOrder(_0x385dfa){const _0x446b19=_0x2f78fe,_0xec2d3=config['ordertype']==_0x446b19(0x199)?_0x446b19(0x199):_0x446b19(0x210);if(lockOrders==ORDERS[_0x446b19(0xbb)]&&!coolingDown){setLockOrders(ORDERS[_0x446b19(0x239)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x446b19(0x12e)](_0x446b19(0x211)+_0x385dfa['map'](_0x567606=>_0x567606['coin'])[_0x446b19(0x1e6)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x446b19(0x11d);let _0x8d5d02=![];lastOrders=[];const _0x66174a=config[_0x446b19(0x27e)];for(const _0x117e87 of _0x385dfa){let _0x1dfc2d,_0x42b06e,_0x5040b7,_0x10fa5c,_0x24046f,_0x29f8a5=_0x117e87[_0x446b19(0x204)];logger[_0x446b19(0x12e)](_0x446b19(0xf1)+_0x117e87['coin']+'\x20'+_0x117e87[_0x446b19(0x101)]+'\x20'+_0x117e87['last']+'\x20'+_0x117e87[_0x446b19(0x139)]+'%\x20'+_0x117e87[_0x446b19(0x144)]+'%\x20'+(0x64*_0x117e87[_0x446b19(0x205)])[_0x446b19(0x278)](0x2)+_0x446b19(0x1b4)+_0x66174a[_0x446b19(0x278)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x446b19(0x19b)](_0x23bfb7=>_0x23bfb7!==_0x117e87[_0x446b19(0xf2)]);const _0x33af80=currentCoins[_0x446b19(0x18c)](_0xd41b39=>_0xd41b39[_0x446b19(0xf2)]==_0x117e87[_0x446b19(0xf2)]);_0x33af80&&(_0x33af80['prevnumber']=_0x117e87[_0x446b19(0x101)]);try{const _0x1f8b60=await exchange[_0x446b19(0x261)](_0x29f8a5);_0x1dfc2d=_0x117e87['reverse']?0x1/_0x117e87['last']:_0x117e87[_0x446b19(0x223)],_0x42b06e=_0x1f8b60[_0x446b19(0x23a)],_0x5040b7=_0x1f8b60[_0x446b19(0x10b)];_0x117e87[_0x446b19(0x247)]?(_0x10fa5c=_0x117e87[_0x446b19(0xcf)]==_0x446b19(0x24e)?_0x446b19(0xbc):_0x446b19(0x24e),_0x24046f=Math[_0x446b19(0x1c0)](_0x117e87[_0x446b19(0xe5)])/_0x1dfc2d):(_0x10fa5c=_0x117e87['side'],_0x24046f=Math[_0x446b19(0x1c0)](_0x117e87[_0x446b19(0xe5)]));_0xec2d3==_0x446b19(0x210)&&(config['ordertype']==_0x446b19(0x12d)&&(_0x1dfc2d=_0x10fa5c==_0x446b19(0x24e)?_0x42b06e:_0x5040b7),config[_0x446b19(0x1ba)]=='limit-low'&&(_0x1dfc2d=_0x10fa5c==_0x446b19(0x24e)?_0x5040b7:_0x42b06e));_0x24046f=formatResult(_0x24046f,0x8),_0x1dfc2d=formatResult(_0x1dfc2d,0x8);const _0x50920f=_0x10fa5c==_0x446b19(0xbc)?config[_0x446b19(0x200)]?String[_0x446b19(0x262)]('0x'+config[_0x446b19(0x200)])+'\x20':'':config[_0x446b19(0x145)]?String[_0x446b19(0x262)]('0x'+config[_0x446b19(0x145)])+'\x20':'',_0x2dcab9=_0xec2d3==_0x446b19(0x199)?'Market':config['ordertype']==_0x446b19(0x12d)?'Limit\x20(high-margin)':_0x446b19(0x119),_0x49a576=(Math['floor'](Math['random']()*0x35a4e900)+0x5f5e100)[_0x446b19(0x277)]();lastOrders[_0x446b19(0x1df)]({'customId':_0x49a576,'symbol':_0x29f8a5,'coin':_0x117e87[_0x446b19(0xf2)],'amount':_0x24046f,'price':_0x1dfc2d,'side':_0x10fa5c,'reverse':_0x117e87['reverse'],'filled':0x0});let _0x3ec53b;_0xec2d3==_0x446b19(0x199)?_0x10fa5c=='buy'&&['Bybit',_0x446b19(0x16d),'Cex',_0x446b19(0x1d9),_0x446b19(0x11a),_0x446b19(0x16e)]['includes'](config[_0x446b19(0xe8)])?_0x3ec53b=await exchange[_0x446b19(0x1c3)](_0x29f8a5,_0xec2d3,_0x10fa5c,_0x24046f,_0x1dfc2d):_0x3ec53b=await exchange['createOrder'](_0x29f8a5,_0xec2d3,_0x10fa5c,_0x24046f,undefined):_0x3ec53b=await exchange['createOrder'](_0x29f8a5,_0xec2d3,_0x10fa5c,_0x24046f,_0x1dfc2d);const _0x366914=lastOrders[_0x446b19(0x132)]-0x1;if(_0x366914>=0x0&&lastOrders[_0x366914][_0x446b19(0x1bd)]==_0x49a576){lastOrders[_0x366914][_0x446b19(0x1af)]=_0x3ec53b['id'];if(_0x3ec53b['amount'])lastOrders[_0x366914][_0x446b19(0x184)]=_0x3ec53b['amount'];if(_0x3ec53b[_0x446b19(0xc4)])lastOrders[_0x366914][_0x446b19(0xc4)]=_0x3ec53b[_0x446b19(0xc4)];lastOrders[_0x366914][_0x446b19(0x1ac)]=_0x3ec53b['fee'];}if(_0x3ec53b[_0x446b19(0x184)])_0x24046f=_0x3ec53b[_0x446b19(0x184)];if(_0x3ec53b[_0x446b19(0xc4)])_0x1dfc2d=_0x3ec53b['price'];if(_0xec2d3==_0x446b19(0x199))logHistory(_0x446b19(0x13e),''+_0x50920f+_0x2dcab9+_0x446b19(0x1f6)+_0x29f8a5+'\x20'+_0x10fa5c+'\x20#'+formatResult(_0x24046f,0x8)+'\x20@'+formatResult(_0x1dfc2d,0x8));else logHistory(_0x446b19(0x13e),''+_0x50920f+_0x2dcab9+_0x446b19(0x1f6)+_0x29f8a5+'\x20'+_0x10fa5c+'\x20#'+formatResult(_0x24046f,0x8)+'\x20@'+formatResult(_0x1dfc2d,0x8));logger[_0x446b19(0x12e)](_0x446b19(0x1a1)+_0x3ec53b['id']+_0x446b19(0xed)+_0x49a576);if(config['cooldown']!=0x0){let _0x340f6a=null;if(cooldownTracker[_0x446b19(0x132)]==config[_0x446b19(0x1dc)]-0x1)_0x340f6a=cooldownTracker[_0x446b19(0x127)]();const _0x537885=getTimeStamp();cooldownTracker[_0x446b19(0x1df)](_0x537885);if(_0x340f6a){const _0xf10eea=fns[_0x446b19(0x133)](new Date(_0x537885),new Date(_0x340f6a));if(_0xf10eea<cooldownInterval){logHistory(_0x446b19(0x236),'Executed\x20'+config[_0x446b19(0x1dc)]+_0x446b19(0x107)+cooldownInterval/0x3c+_0x446b19(0x1d7)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x120e56){if(_0x120e56['toString']()[_0x446b19(0x252)](_0x446b19(0x191)))lastOrders=lastOrders[_0x446b19(0x19b)](_0x139a7d=>_0x139a7d[_0x446b19(0x204)]!=_0x29f8a5),logHistory(_0x446b19(0x236),_0x446b19(0x14c)+_0x29f8a5),_0x8d5d02=!![];else{if(_0x120e56[_0x446b19(0x277)]()[_0x446b19(0x252)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x446b19(0x19b)](_0x46abd3=>_0x46abd3[_0x446b19(0x204)]!=_0x29f8a5),logHistory('error',_0x446b19(0x286)+_0x29f8a5),_0x8d5d02=!![];else{if(_0x120e56['toString']()[_0x446b19(0x252)](_0x446b19(0x140)))lastOrders=lastOrders[_0x446b19(0x19b)](_0x4587f1=>_0x4587f1[_0x446b19(0x204)]!=_0x29f8a5),logHistory(_0x446b19(0x236),_0x446b19(0x13f)+_0x29f8a5),logger['debug'](_0x120e56),_0x8d5d02=!![];else _0x120e56[_0x446b19(0x277)]()[_0x446b19(0x252)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x446b19(0x19b)](_0x36f317=>_0x36f317[_0x446b19(0x204)]!=_0x29f8a5),logHistory(_0x446b19(0x236),_0x446b19(0x14c)+_0x29f8a5),_0x8d5d02=!![]):(lastOrders=lastOrders[_0x446b19(0x19b)](_0x160e01=>_0x160e01[_0x446b19(0x204)]!=_0x29f8a5),await handleError(_0x120e56,'placeOrder()',_0x29f8a5));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x446b19(0x132)]>0x0){const _0x3d4129=config['ordertype']==_0x446b19(0x199)?validateOrderTimeout*0x3c*0x3e8:config[_0x446b19(0x287)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5702f1=_0x446b19;validateOrders(_0x5702f1(0x1ff));},_0x3d4129);}else unlockOrders();_0x8d5d02&&config[_0x446b19(0x268)]&&(logHistory('error',_0x446b19(0x13b)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x446b19(0x27d),_0x446b19(0x1c1)));}else{if(coolingDown)!config['headless']&&logHistory(_0x446b19(0x236),_0x446b19(0xee));else lockOrders!=ORDERS[_0x446b19(0xbb)]&&(!config[_0x446b19(0x268)]&&(config[_0x446b19(0x1ba)]==_0x446b19(0x199)?logHistory(_0x446b19(0x236),_0x446b19(0x1de)):logHistory('error',_0x446b19(0x281))));}}function persistOpenOrders(_0x37b749){const _0x321a43=_0x2f78fe,_0x2bed5b={...config,'openOrders':_0x37b749};let _0x2d6f67=dbConfig[_0x321a43(0x12f)]('bot')[_0x321a43(0x18c)]({'botID':botID})[_0x321a43(0x230)]();_0x2d6f67&&dbConfig['get'](_0x321a43(0xe1))[_0x321a43(0x18c)]({'botID':botID})[_0x321a43(0x213)](_0x2bed5b)[_0x321a43(0xfa)]();}function restoreOrders(){const _0x54d39a=_0x2f78fe;let _0x4f19a3;config[_0x54d39a(0x192)]&&allOpenOrders[_0x54d39a(0x1ae)](_0x302bf8=>{const _0x358a28=_0x54d39a,_0xd3c66a=config[_0x358a28(0x192)][_0x358a28(0x18c)](_0x246327=>_0x246327['orderId']==_0x302bf8['id']);_0xd3c66a&&(lastOrders['push'](_0xd3c66a),_0x4f19a3=_0x302bf8[_0x358a28(0x17d)]);});if(lastOrders['length']>0x0){setLockOrders(ORDERS['LOCKED']),validateOrdersState=_0x54d39a(0x22e),allOrdersPlaced=!![];const _0x28e60b=new Date()['getTime'](),_0x93ee95=config['ordertype']==_0x54d39a(0x199)?validateOrderTimeout*0x3c*0x3e8:config[_0x54d39a(0x287)]*0x3c*0x3e8;if(_0x4f19a3+_0x93ee95>_0x28e60b){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x4f19a3+_0x93ee95-_0x28e60b);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x12fca0=_0x2f78fe;if(!coinsLoaded){process[_0x12fca0(0x240)]({'telegrammsg':_0x12fca0(0x260)},_0x1605c0=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x2aef23='';if(config[_0x12fca0(0xe2)])_0x2aef23=_0x12fca0(0x235)+config[_0x12fca0(0x19c)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x2aef23=_0x12fca0(0x1b3)+botID+_0x12fca0(0x1a8);const _0x435296=config['basecoin'],_0x2d0bd1=config[_0x12fca0(0x152)],_0x2898b2=getKPIs(_0x12fca0(0x12a)),_0x2e8fd8=getKPIs(_0x12fca0(0x152),_0x2d0bd1),_0x576076=getKPIs(_0x12fca0(0x14f)),_0x36fb5b=getKPIs('net-fiat',_0x2d0bd1),_0x175ebd=getKPIs('pnl-basecoin'),_0x2e233e=getKPIs(_0x12fca0(0x16c),_0x2d0bd1);_0x435296[_0x12fca0(0x252)](_0x2d0bd1)?(_0x2aef23+='<pre>',_0x2aef23+='Value\x20'+_0x435296+':\x20'+_0x2898b2['value']+'\x20('+_0x2898b2['change']+_0x12fca0(0x1f2),_0x2aef23+=_0x12fca0(0x227)+_0x435296+':\x20'+_0x576076[_0x12fca0(0x230)]+'\x20('+_0x576076['change']+'%)\x0a',_0x2aef23+=_0x12fca0(0x165)+_0x435296+':\x20'+_0x175ebd['value']+'\x20('+_0x175ebd[_0x12fca0(0xdc)]+_0x12fca0(0x1f2),_0x2aef23+=_0x12fca0(0x1d8)):(_0x2aef23+=_0x12fca0(0x25e),_0x2aef23+=_0x12fca0(0x285)+_0x435296+':\x20'+_0x2898b2[_0x12fca0(0x230)]+'\x20('+_0x2898b2[_0x12fca0(0xdc)]+_0x12fca0(0x1f2),_0x2aef23+='Value\x20'+_0x2d0bd1+':\x20'+_0x2e8fd8[_0x12fca0(0x230)]+'\x20('+_0x2e8fd8[_0x12fca0(0xdc)]+_0x12fca0(0x1f2),_0x2aef23+=_0x12fca0(0x227)+_0x435296+':\x20'+_0x576076[_0x12fca0(0x230)]+'\x20('+_0x576076[_0x12fca0(0xdc)]+_0x12fca0(0x1f2),_0x2aef23+=_0x12fca0(0x227)+_0x2d0bd1+':\x20'+_0x36fb5b[_0x12fca0(0x230)]+'\x20('+_0x36fb5b[_0x12fca0(0xdc)]+'%)\x0a',_0x2aef23+=_0x12fca0(0x165)+_0x435296+':\x20'+_0x175ebd[_0x12fca0(0x230)]+'\x20('+_0x175ebd[_0x12fca0(0xdc)]+_0x12fca0(0x1f2),_0x2aef23+=_0x12fca0(0x165)+_0x2d0bd1+':\x20'+_0x2e233e[_0x12fca0(0x230)]+'\x20('+_0x2e233e[_0x12fca0(0xdc)]+'%)\x0a',_0x2aef23+=_0x12fca0(0x1d8)),process[_0x12fca0(0x240)]({'telegrammsg':_0x2aef23},_0x137bdf=>{});}async function sendPortfolioTelegram(){const _0x3c8a71=_0x2f78fe;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x3c8a71(0x240)]({'telegrammsg':_0x3c8a71(0x260)},_0x4cc264=>{});return;}let _0x1b3dc4='';if(config['showname'])_0x1b3dc4=_0x3c8a71(0x235)+config['botname']+_0x3c8a71(0x10f);else _0x1b3dc4=_0x3c8a71(0x1b3)+botID+_0x3c8a71(0x10f);_0x1b3dc4+=_0x3c8a71(0x25e),_0x1b3dc4+=_0x3c8a71(0x168),_0x1b3dc4+=_0x3c8a71(0x28a),_0x1b3dc4+=_0x3c8a71(0x168),currentCoins[_0x3c8a71(0x1ae)](_0x5e0918=>{const _0x351063=_0x3c8a71;_0x1b3dc4+=_0x5e0918[_0x351063(0xf2)][_0x351063(0x162)](0x7)+'|\x20'+formatPad(_0x5e0918[_0x351063(0x139)],0x2,0x6)+'|\x20'+formatPad(_0x5e0918['target'],0x2,0x6)+'|\x20'+formatPad(_0x5e0918[_0x351063(0x205)]*0x64,0x2,0x6)+'\x0a';}),_0x1b3dc4+=_0x3c8a71(0x1d8),process['send']({'telegrammsg':_0x1b3dc4},_0x2415c5=>{});}function formatPad(_0x39d497,_0x151f48,_0x24793){const _0x4e42b6=_0x2f78fe,_0x27c340=formatResultString(_0x39d497,_0x151f48);return _0x27c340?_0x27c340['padStart'](_0x24793):''[_0x4e42b6(0x1fb)](_0x24793);}function logHistory(_0x45d896,_0x4ee18a,_0x15aee1=''){const _0x1019e4=_0x2f78fe;logger[_0x1019e4(0x219)](''+_0x4ee18a);let _0x3e88a9={'time':getTimeStamp(),'type':_0x45d896,'event':_0x4ee18a};dbLogs[_0x1019e4(0x12f)]('logs')['push'](_0x3e88a9)['write']();if(_0x15aee1=='')_0x15aee1=_0x4ee18a;proxyEmit(_0x1019e4(0x1a7),{'log':_0x3e88a9,'summary':_0x15aee1}),process[_0x1019e4(0x240)]({'telegram':{..._0x3e88a9,'botname':config[_0x1019e4(0x19c)],'showname':config[_0x1019e4(0xe2)]}},_0x473a18=>{});}function emitHistory(_0x111291={}){const _0x5cdc1f=_0x2f78fe;Object['keys'](_0x111291)[_0x5cdc1f(0x132)]==0x0&&(_0x111291={'type':[_0x5cdc1f(0x13e),_0x5cdc1f(0x1a7)],'event':'','page':0x1});if(_0x111291[_0x5cdc1f(0x253)][_0x5cdc1f(0x252)]('event'))_0x111291[_0x5cdc1f(0x253)][_0x5cdc1f(0x1e4)](_0x111291[_0x5cdc1f(0x253)]['indexOf'](_0x5cdc1f(0x1a7)),0x1,'error','warning',_0x5cdc1f(0x27d));if(dbLogs[_0x5cdc1f(0xb7)](_0x5cdc1f(0x209))[_0x5cdc1f(0x230)]()){let _0x42706d=dbLogs[_0x5cdc1f(0x12f)](_0x5cdc1f(0x209))[_0x5cdc1f(0x19b)](_0x1797f2=>{const _0x3319f9=_0x5cdc1f;if(_0x111291[_0x3319f9(0x253)][_0x3319f9(0x132)]==0x0)return![];else return _0x111291[_0x3319f9(0x253)][_0x3319f9(0x252)](_0x1797f2[_0x3319f9(0x253)]);})[_0x5cdc1f(0x19b)](_0x52dbad=>{const _0x5dff4e=_0x5cdc1f;if(_0x111291[_0x5dff4e(0x1a7)]=='')return!![];else return _0x52dbad[_0x5dff4e(0x1a7)][_0x5dff4e(0xfc)]()[_0x5dff4e(0x252)](_0x111291[_0x5dff4e(0x1a7)]['toLowerCase']());})[_0x5cdc1f(0xca)](_0x5cdc1f(0xf6)),_0x3e7152=_0x42706d[_0x5cdc1f(0x230)]()[_0x5cdc1f(0x132)];_0x42706d=_0x42706d[_0x5cdc1f(0x247)]()[_0x5cdc1f(0x1f9)]((_0x111291[_0x5cdc1f(0x166)]-0x1)*logPageSize,_0x111291[_0x5cdc1f(0x166)]*logPageSize-0x1)[_0x5cdc1f(0x247)]()['value'](),proxyEmit('event-history',{'logs':_0x42706d,'total':_0x3e7152});}else proxyEmit(_0x5cdc1f(0x273),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x64d193){const _0xe13df8=_0x2f78fe;if(dbLogs['has']('logs')['value']()){const _0x78b2c2=dbLogs[_0xe13df8(0x12f)](_0xe13df8(0x209))[_0xe13df8(0xca)](_0xe13df8(0xf6))[_0xe13df8(0x19b)](_0x5aff18=>{const _0x4439fe=_0xe13df8;return _0x5aff18[_0x4439fe(0x253)]==_0x4439fe(0x13e);})[_0xe13df8(0x230)]();dbLogs['get'](_0xe13df8(0x209))[_0xe13df8(0x27f)]()[_0xe13df8(0xfa)](),dbLogs[_0xe13df8(0x12f)](_0xe13df8(0x209))[_0xe13df8(0x213)](_0x78b2c2)[_0xe13df8(0xfa)](),emitHistory(_0x64d193);}}async function pauseBot(_0x10220d=pauseBotIntervalShort,_0xbee807,_0x3afb16,_0x273222=![]){const _0x575c0f=_0x2f78fe,_0xaa947b=new Date()[_0x575c0f(0x111)]();if(!lastErrorShown||_0xaa947b-lastErrorShown>=_0x10220d){lastErrorShown=_0xaa947b;if(!lastBotPause)lastBotPause=_0xaa947b,consecutivePauses=0x1;else{if(_0xaa947b-lastBotPause-_0x10220d<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x273222){logHistory(_0x575c0f(0x236),_0xbee807+_0x575c0f(0x1e1)),await killBot();return;}else logHistory('error',_0xbee807+pauseBotMsg),_0x10220d=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0xaa947b;}_0x3afb16?logger[_0x575c0f(0x12e)]('('+consecutivePauses+')\x20'+_0xbee807+_0x575c0f(0x1a4),_0x3afb16):logger[_0x575c0f(0x12e)]('('+consecutivePauses+')\x20'+_0xbee807);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x10220d),botPaused=![],_0x10220d==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x220d07=_0x2f78fe;botPaused=!![],await sleep(0x3e8),process[_0x220d07(0x240)]({'stop':_0x220d07(0x24a)},_0x3f0827=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x323e78,_0x268a9a,_0x2bac15=![]){const _0x3faca8=_0x2f78fe;if(botPaused)return;let _0x5e1819;const _0x40d167=config[_0x3faca8(0xe8)]||_0x3faca8(0x189);if(_0x268a9a)logger[_0x3faca8(0x12e)](_0x3faca8(0x15a)+_0x268a9a);const _0x4fceaa=()=>{const _0x573c96=_0x3faca8;loading[_0x573c96(0x236)]=_0x573c96(0x1ad),emitLoadingProgress();};if(_0x323e78[_0x3faca8(0x277)]()[_0x3faca8(0x252)](_0x3faca8(0x1e2)))logHistory(_0x3faca8(0x236),_0x40d167+_0x3faca8(0x214)),_0x4fceaa();else{if(_0x323e78[_0x3faca8(0x277)]()[_0x3faca8(0x252)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x3faca8(0x236),_0x40d167+_0x3faca8(0x206)),_0x4fceaa();else{if(_0x323e78[_0x3faca8(0x277)]()['includes'](_0x3faca8(0x128)))config['apiPassword']?_0x5e1819=_0x40d167+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x5e1819=_0x40d167+_0x3faca8(0x20e),logHistory(_0x3faca8(0x236),_0x5e1819+_0x3faca8(0x169)),_0x4fceaa();else{if(_0x323e78[_0x3faca8(0x277)]()[_0x3faca8(0x252)](_0x3faca8(0x115)))logHistory(_0x3faca8(0x236),_0x40d167+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x4fceaa();else{if(!_0x2bac15)await handleError(_0x323e78,null);}}}}}async function handleError(_0x2320c1,_0x3522b6,_0x48cbe6=''){const _0x241481=_0x2f78fe;if(botPaused)return;let _0x549981;const _0x4f421a=config[_0x241481(0xe8)]||_0x241481(0x189);if(_0x3522b6)logger['debug']('Exception\x20thrown\x20in\x20'+_0x3522b6);if(_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)](_0x241481(0x1b8)))_0x549981=_0x4f421a+'\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x549981,_0x2320c1);else{if(_0x2320c1['toString']()[_0x241481(0x252)](_0x241481(0x249)))_0x549981=_0x4f421a+_0x241481(0x1f4),await pauseBot(undefined,_0x549981,_0x2320c1);else{if(_0x2320c1['toString']()[_0x241481(0x252)](_0x241481(0x218))||_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)]('OnMaintenance'))_0x549981=_0x4f421a+_0x241481(0x190),await pauseBot(undefined,_0x549981,_0x2320c1['toString']());else{if(_0x2320c1[_0x241481(0x277)]()['includes'](_0x241481(0xcd)))_0x549981=_0x4f421a+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x549981,_0x2320c1['toString']());else{if(_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)](_0x241481(0x243)))_0x549981=_0x4f421a+_0x241481(0x22f),await pauseBot(undefined,_0x549981,_0x2320c1[_0x241481(0x277)]());else{if(_0x2320c1['toString']()[_0x241481(0xfc)]()[_0x241481(0x252)](_0x241481(0x17d))||_0x2320c1['toString']()[_0x241481(0xfc)]()[_0x241481(0x252)](_0x241481(0x20a)))_0x549981=_0x241481(0xd6),await pauseBot(undefined,_0x549981,_0x2320c1[_0x241481(0x277)]());else{if(_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)](_0x241481(0x19d)))_0x549981=_0x4f421a+_0x241481(0x22b),await pauseBot(undefined,_0x549981,_0x2320c1[_0x241481(0x277)]());else{if(_0x2320c1 instanceof ccxt['NetworkError'])_0x549981=_0x4f421a+'\x20network\x20error:\x20'+_0x2320c1[_0x241481(0x277)](),logger['debug'](_0x241481(0xe7),_0x2320c1),await pauseBot(undefined,_0x549981,_0x2320c1);else{if(_0x2320c1[_0x241481(0x277)]()['includes'](_0x241481(0x1e2)))logHistory(_0x241481(0x236),_0x4f421a+_0x241481(0x229)),logHistory(_0x241481(0x236),_0x241481(0x25c)),await killBot();else{if(_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)](_0x241481(0x21b)))logHistory(_0x241481(0x236),_0x4f421a+_0x241481(0x201)),logHistory(_0x241481(0x236),_0x241481(0x25c)),await killBot();else{if(_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)]('AuthenticationError')&&_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)](_0x241481(0x126)))_0x549981=_0x4f421a+_0x241481(0x266),await pauseBot(undefined,_0x549981,_0x2320c1,!![]);else{if(_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)](_0x241481(0x128)))config[_0x241481(0xb9)]?_0x549981=_0x4f421a+_0x241481(0x125):_0x549981=_0x4f421a+_0x241481(0x20e),logHistory('error',_0x549981),logHistory(_0x241481(0x236),_0x241481(0x25c)),await killBot();else{if(_0x2320c1[_0x241481(0x277)]()['includes']('PermissionDenied'))logHistory('error',_0x4f421a+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x2320c1[_0x241481(0x277)]()[_0x241481(0x252)](_0x241481(0x233)))logHistory(_0x241481(0x236),_0x241481(0x251)+_0x48cbe6),logger[_0x241481(0x12e)](_0x241481(0x1e3),_0x2320c1);else{if(_0x2320c1 instanceof ccxt[_0x241481(0x222)]){_0x549981=_0x4f421a+'\x20exchange\x20error:\x20'+_0x2320c1[_0x241481(0x277)]();if(_0x48cbe6)_0x549981+=_0x241481(0xc3)+_0x48cbe6;await pauseBot(undefined,_0x549981,_0x2320c1);}else{_0x549981=_0x241481(0x269)+_0x2320c1[_0x241481(0x277)]();if(_0x48cbe6)_0x549981+=_0x241481(0xc3)+_0x48cbe6;await pauseBot(undefined,_0x549981);}}}}}}}}}}}}}}}}function decryptRSA(_0x3458d5,_0x539028){const _0x329804=_0x2f78fe,_0x4dc882=forge['pki']['privateKeyFromPem'](_0x3458d5),_0x3a3096=_0x4dc882[_0x329804(0x129)](forge[_0x329804(0x259)][_0x329804(0x1aa)](_0x539028),_0x329804(0x1b2),{'md':forge['md'][_0x329804(0x21d)][_0x329804(0x131)](),'mgf1':{'md':forge['md']['sha256'][_0x329804(0x131)]()}});return _0x3a3096;}async function withRetry(_0x3987f5,_0x414fed){const _0x5e21f1=_0x2f78fe;let _0x1fd575=![],_0x41687c=0x0,_0x437679,_0xec6df1;while(_0x41687c<maxRetries){try{_0x437679=await _0x414fed();break;}catch(_0x55d300){_0xec6df1=_0x55d300,!_0x1fd575?(_0x1fd575=!![],logger['debug'](_0x5e21f1(0x149)+_0x3987f5+':',_0x55d300[_0x5e21f1(0x277)]())):await sleep(retryInterval);}_0x41687c++;}if(_0x41687c==0x0)return _0x437679;if(_0x41687c>=maxRetries)throw _0xec6df1;else return logger[_0x5e21f1(0x12e)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x41687c+'\x20attempts'),_0x437679;}function formatResult(_0x2f3e21,_0x510140){const _0x5dd40b=_0x2f78fe;return parseFloat(_0x2f3e21[_0x5dd40b(0x278)](_0x510140));}function formatResultTruncate(_0x4aceba,_0x457971){const _0x5d90d9=_0x2f78fe;let _0x3b75e6=formatResultString(_0x4aceba,0xa),_0x2f390d=_0x3b75e6[_0x5d90d9(0x1b7)]('.');return _0x2f390d!=-0x1&&(_0x3b75e6=_0x3b75e6[_0x5d90d9(0x1f9)](0x0,_0x2f390d+_0x457971+0x1)),Number(_0x3b75e6);}function formatResultString(_0x31608c,_0x411991){const _0x5b9377=_0x2f78fe;let _0x1efc89;if(!(''+_0x31608c)[_0x5b9377(0x252)]('e'))_0x1efc89=+(Math[_0x5b9377(0x112)](_0x31608c+'e+'+_0x411991)+'e-'+_0x411991);else{let _0x505f57=(''+_0x31608c)['split']('e'),_0x9b3c89='';+_0x505f57[0x1]+_0x411991>0x0&&(_0x9b3c89='+'),_0x1efc89=+(Math[_0x5b9377(0x112)](+_0x505f57[0x0]+'e'+_0x9b3c89+(+_0x505f57[0x1]+_0x411991))+'e-'+_0x411991);}return Number(_0x1efc89)[_0x5b9377(0x278)](_0x411991);}function getServerTime(){const _0x3da760=_0x2f78fe,_0x2aac14=new Date();return _0x2aac14[_0x3da760(0x1b6)]()+'/'+(_0x2aac14['getMonth']()+0x1)[_0x3da760(0x277)]()[_0x3da760(0x1fb)](0x2,'0')+'/'+_0x2aac14[_0x3da760(0x105)]()[_0x3da760(0x277)]()[_0x3da760(0x1fb)](0x2,'0')+'\x20'+_0x2aac14['getHours']()[_0x3da760(0x277)]()['padStart'](0x2,'0')+':'+_0x2aac14[_0x3da760(0x150)]()['toString']()[_0x3da760(0x1fb)](0x2,'0')+':'+_0x2aac14['getSeconds']()['toString']()[_0x3da760(0x1fb)](0x2,'0');}function getTimeStamp(){const _0x26e3e9=_0x2f78fe,_0x45d39f=shiftedTime();return _0x45d39f[_0x26e3e9(0x1b6)]()+'/'+(_0x45d39f[_0x26e3e9(0x18a)]()+0x1)[_0x26e3e9(0x277)]()['padStart'](0x2,'0')+'/'+_0x45d39f['getDate']()[_0x26e3e9(0x277)]()[_0x26e3e9(0x1fb)](0x2,'0')+'\x20'+_0x45d39f[_0x26e3e9(0x117)]()[_0x26e3e9(0x277)]()[_0x26e3e9(0x1fb)](0x2,'0')+':'+_0x45d39f[_0x26e3e9(0x150)]()[_0x26e3e9(0x277)]()[_0x26e3e9(0x1fb)](0x2,'0')+':'+_0x45d39f[_0x26e3e9(0xc0)]()[_0x26e3e9(0x277)]()['padStart'](0x2,'0');}function getDate(){const _0x398e1b=_0x2f78fe,_0x5b26e9=shiftedTime();return _0x5b26e9[_0x398e1b(0x1b6)]()+'/'+(_0x5b26e9[_0x398e1b(0x18a)]()+0x1)['toString']()[_0x398e1b(0x1fb)](0x2,'0')+'/'+_0x5b26e9[_0x398e1b(0x105)]()[_0x398e1b(0x277)]()[_0x398e1b(0x1fb)](0x2,'0');}function getHour(){const _0x1c34a3=_0x2f78fe,_0x2a024f=shiftedTime();return _0x2a024f['getHours']()[_0x1c34a3(0x277)]()[_0x1c34a3(0x1fb)](0x2,'0');}function sleep(_0x2d5ac6){return new Promise(_0x5a9597=>setTimeout(_0x5a9597,_0x2d5ac6));}function shiftedTime(){const _0x467d36=_0x2f78fe,_0x52ce13=new Date();let _0x413cfb=_0x52ce13;if(config&&config[_0x467d36(0x27b)]!==0x0)_0x413cfb=fns[_0x467d36(0x1f8)](_0x52ce13,{'hours':config['timeshift']});return _0x413cfb;}function timer(_0x377fe8){const _0x57d235=_0x2f78fe,_0x3f0b4c=new Date();!lasttime?console[_0x57d235(0xb8)](getTimeStamp()+_0x57d235(0xdb),_0x377fe8,_0x3f0b4c):console['log'](getTimeStamp()+':\x20timer\x20>',_0x377fe8,(_0x3f0b4c-lasttime)/0x3e8),lasttime=_0x3f0b4c;}