const _0x3e0ee0=_0x3971;(function(_0x237261,_0x5ef77d){const _0x5207cf=_0x3971,_0x2e5896=_0x237261();while(!![]){try{const _0x5aec04=parseInt(_0x5207cf(0x28d))/0x1*(-parseInt(_0x5207cf(0x22c))/0x2)+parseInt(_0x5207cf(0x2e4))/0x3*(parseInt(_0x5207cf(0x289))/0x4)+parseInt(_0x5207cf(0x1a3))/0x5+parseInt(_0x5207cf(0x113))/0x6*(parseInt(_0x5207cf(0x145))/0x7)+-parseInt(_0x5207cf(0x24a))/0x8+parseInt(_0x5207cf(0x1b3))/0x9+-parseInt(_0x5207cf(0x1f7))/0xa;if(_0x5aec04===_0x5ef77d)break;else _0x2e5896['push'](_0x2e5896['shift']());}catch(_0x96793a){_0x2e5896['push'](_0x2e5896['shift']());}}}(_0x1b99,0xcc065));const _0x35d858=function(){let _0x38ea35=!![];return function(_0x22ecaa,_0x29c5bf){const _0x4846c4=_0x38ea35?function(){const _0x146bc3=_0x3971;if(_0x29c5bf){const _0x62f28f=_0x29c5bf[_0x146bc3(0x24e)](_0x22ecaa,arguments);return _0x29c5bf=null,_0x62f28f;}}:function(){};return _0x38ea35=![],_0x4846c4;};}(),_0x1e3083=_0x35d858(this,function(){const _0x47ace4=_0x3971;return _0x1e3083[_0x47ace4(0x1bb)]()[_0x47ace4(0x188)](_0x47ace4(0x234))['toString']()[_0x47ace4(0x142)](_0x1e3083)[_0x47ace4(0x188)](_0x47ace4(0x234));});_0x1e3083();'use strict';const ccxt=require(_0x3e0ee0(0x1aa)),low=require(_0x3e0ee0(0x17c)),FileSync=require(_0x3e0ee0(0x22a)),fs=require('fs'),fns=require(_0x3e0ee0(0x16f)),forge=require(_0x3e0ee0(0x1ba)),util=require(_0x3e0ee0(0x208)),argv=require(_0x3e0ee0(0x269))(process[_0x3e0ee0(0x2a6)]['slice'](0x2))['argv'],path=require('path'),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x3e0ee0(0x1d4),'BUSD',_0x3e0ee0(0x167),_0x3e0ee0(0x2a5),_0x3e0ee0(0x2c4),_0x3e0ee0(0x1f3)],excludedExchanges=[_0x3e0ee0(0x231)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x3e0ee0(0x20f)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x3e0ee0(0x105)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x3e0ee0(0x134)+pauseBotInterval/0xea60+_0x3e0ee0(0x17e),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x3e0ee0(0x2b7))['version'],environment=require(_0x3e0ee0(0x2b7))['environment']||'production',botID=process[_0x3e0ee0(0x2a6)][0x2]||_0x3e0ee0(0x25c),pattern=/^[0-9]{3}$/;!pattern[_0x3e0ee0(0x1e6)](botID)&&(console[_0x3e0ee0(0x28f)](_0x3e0ee0(0x2de)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x3e0ee0(0x2a6)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x3e0ee0(0x201),logspath=userID?_0x3e0ee0(0x22e)+userID+'/':_0x3e0ee0(0x22e),loggerfile=fs[_0x3e0ee0(0x152)](logspath+_0x3e0ee0(0x2ca),{'flags':'a'});!fs[_0x3e0ee0(0x232)](configpath)&&fs[_0x3e0ee0(0x24d)](configpath);!fs['existsSync'](logspath)&&fs[_0x3e0ee0(0x24d)](logspath);const configfile=configpath+'bot-'+botID+_0x3e0ee0(0x1a9),logfile=configpath+_0x3e0ee0(0x192)+botID+'-events.json',performancefile=configpath+'bot-'+botID+_0x3e0ee0(0x168),coinresultsfile=configpath+_0x3e0ee0(0x192)+botID+_0x3e0ee0(0x240),settingsfile=configpath+_0x3e0ee0(0x2d9),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x3e0ee0(0x1bd),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3e0ee0(0x2e2)]({'logs':[],'version':serverversion})[_0x3e0ee0(0x25e)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x3e0ee0(0x25e)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3e0ee0(0x2e2)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3e0ee0(0x2e2)]({'coins':{},'version':serverversion})[_0x3e0ee0(0x25e)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x7cadf4=>{console['log'](_0x7cadf4);},'simple':_0x35f783=>{const _0xecf1a6=_0x3e0ee0;console['log'](_0x35f783),loggerfile[_0xecf1a6(0x25e)](util['format'](_0x35f783)+'\x0a');},'full':async(_0x594bb2,_0x339129='')=>{const _0x229048=_0x3e0ee0;let _0x2cb252;if(config['showname'])_0x2cb252=getTimeStamp()+':\x20'+config[_0x229048(0x2cf)]+_0x229048(0x2d3)+_0x594bb2;else _0x2cb252=getTimeStamp()+':\x20Bot\x20'+botID+_0x229048(0x2d3)+_0x594bb2;console[_0x229048(0x28f)](_0x2cb252),loggerfile[_0x229048(0x25e)](util[_0x229048(0x255)](_0x2cb252)+'\x0a'),_0x339129&&(console[_0x229048(0x28f)](_0x339129),loggerfile['write'](util['format'](_0x339129)+'\x0a'));},'debug':async(_0x505f9f,_0x391423='')=>{const _0xc14b0=_0x3e0ee0;let _0x49c4a3;if(config[_0xc14b0(0x20a)])_0x49c4a3=getTimeStamp()+':\x20'+config[_0xc14b0(0x2cf)]+'\x20>\x20[DEBUG]\x20'+_0x505f9f;else _0x49c4a3=getTimeStamp()+_0xc14b0(0x2da)+botID+_0xc14b0(0x12e)+_0x505f9f;if(debugging)console[_0xc14b0(0x28f)](_0x49c4a3);loggerfile[_0xc14b0(0x25e)](util[_0xc14b0(0x255)](_0x49c4a3)+'\x0a');if(_0x391423){if(debugging)console[_0xc14b0(0x28f)](_0x391423);loggerfile[_0xc14b0(0x25e)](util['format'](_0x391423)+'\x0a');}}};process['on'](_0x3e0ee0(0x2bc),function(_0x5507bd){const _0x166a6c=_0x3e0ee0;handleError(_0x5507bd[_0x166a6c(0x1b8)],_0x166a6c(0x2bc));});settings[_0x3e0ee0(0x24b)]!=config[_0x3e0ee0(0x24b)]&&updateTimeshift(settings[_0x3e0ee0(0x24b)]);settings['onepagemode']!=config[_0x3e0ee0(0x297)]&&updateOnepagemode(settings['onepagemode']);(settings['marketcapApi']&&!config[_0x3e0ee0(0x26d)]||!settings[_0x3e0ee0(0x26d)]&&config[_0x3e0ee0(0x26d)])&&updateMarketcapApi(settings[_0x3e0ee0(0x26d)]);function _0x3971(_0xabf176,_0x1dd67a){const _0x54946b=_0x1b99();return _0x3971=function(_0x1e3083,_0x35d858){_0x1e3083=_0x1e3083-0x104;let _0x1b9912=_0x54946b[_0x1e3083];return _0x1b9912;},_0x3971(_0xabf176,_0x1dd67a);}process['send']({'started':_0x3e0ee0(0x216)},_0x4f8acc=>{}),initializeProcessListeners();function proxyEmit(_0x204042,_0x4c78f9=null){const _0x197381=_0x3e0ee0;process[_0x197381(0x13b)]({'function':_0x204042,'args':_0x4c78f9},_0x54b5fb=>{});}function initializeProcessListeners(){const _0x21b61d=_0x3e0ee0;process['on'](_0x21b61d(0x146),_0x5ba504=>{const _0x44227e=_0x21b61d;switch(Object[_0x44227e(0x14e)](_0x5ba504)[0x0]){case _0x44227e(0x24b):_0x5ba504[_0x44227e(0x24b)]!=undefined&&(settings[_0x44227e(0x24b)]=_0x5ba504[_0x44227e(0x24b)],updateTimeshift(settings[_0x44227e(0x24b)]));break;case'onepagemode':_0x5ba504[_0x44227e(0x297)]!=undefined&&(settings[_0x44227e(0x297)]=_0x5ba504[_0x44227e(0x297)],updateOnepagemode(settings[_0x44227e(0x297)]));break;case _0x44227e(0x26d):_0x5ba504[_0x44227e(0x26d)]!=undefined&&(settings[_0x44227e(0x26d)]=_0x5ba504[_0x44227e(0x26d)],updateMarketcapApi(settings[_0x44227e(0x26d)]));break;case _0x44227e(0x13a):_0x5ba504[_0x44227e(0x13a)]!=undefined&&(bots=JSON[_0x44227e(0x2be)](_0x5ba504[_0x44227e(0x13a)]),proxyEmit('bots',bots));break;case'function':switch(_0x5ba504[_0x44227e(0x2ba)]){case _0x44227e(0x2a7):initclient();break;case _0x44227e(0x1bf):toggleBotMode();break;case'emitHistory':emitHistory(_0x5ba504['args']);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x5ba504[_0x44227e(0x157)]);break;case'getPortfolio':getPortfolio(_0x5ba504[_0x44227e(0x157)]);break;case _0x44227e(0x2e3):storeConfiguration(_0x5ba504[_0x44227e(0x157)]);break;case _0x44227e(0x29d):storeHeadless(_0x5ba504[_0x44227e(0x157)]);break;case _0x44227e(0x200):storeFiat(_0x5ba504[_0x44227e(0x157)]);break;case _0x44227e(0x1a1):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x44227e(0x19d):placeOrder(_0x5ba504['args']);break;case _0x44227e(0x18e):cancelLoading();break;case _0x44227e(0x115):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x44227e(0x204):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x5dee95=![]){const _0x3719ba=_0x3e0ee0;logger[_0x3719ba(0x17f)](_0x3719ba(0x238)+(_0x5dee95?_0x3719ba(0x151):'no\x20exchange\x20reloaded')+_0x3719ba(0x15e)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x3719ba(0x2c3)]!=''&&config[_0x3719ba(0x2c3)]!=_0x3719ba(0x247)){loadingProgress=0x0;if(_0x5dee95){await initExchange();const _0x3a5428=await testAPI();if(!_0x3a5428)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x3719ba(0x23c),emittedConfiguration()),initialPerformanceStored=![];}const _0x3a00e3=await getCoins();[currentCoins,currentCoinsAll]=_0x3a00e3,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x3719ba(0x17f)](_0x3719ba(0x1c6)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x3719ba(0x14a)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x199f2b=![]){const _0x1d129c=_0x3e0ee0;logger['debug'](_0x1d129c(0x15d)+(_0x199f2b?_0x1d129c(0x114):_0x1d129c(0x12d))+_0x1d129c(0x10c)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x199f2b){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x1d129c(0x2c3)]!=_0x1d129c(0x247)){loadingProgress=0x1;const _0xaf72be=await getCoins();[currentCoins,currentCoinsAll]=_0xaf72be,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x1d129c(0x1c6)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x1d129c(0x14a)]==0x0&&allOpenOrders[_0x1d129c(0x14a)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x1c880c){const _0x1613b9=_0x3e0ee0;let _0x3bd00c=![];if(_0x1c880c)_0x3bd00c=!![];const _0x17b823=_0x3bd00c?_0x1c880c:currentCoins,_0xda2d30=_0x17b823[_0x1613b9(0x122)](_0x87bc85=>_0x87bc85[_0x1613b9(0x1b9)]);if(!config['marketcapApi']||!_0x3bd00c&&!config[_0x1613b9(0x2b9)]||_0xda2d30['length']==0x0)return;let _0x528dc3=null;try{_0x528dc3=await axios[_0x1613b9(0x116)](_0x1613b9(0x223),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x1613b9(0x26d)]},'params':{'symbol':_0xda2d30[_0x1613b9(0x1bb)]()}});}catch(_0x556f80){_0x528dc3=null,_0x556f80['toString']()[_0x1613b9(0x2b0)](_0x1613b9(0x260))?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x1613b9(0x23c),emittedConfiguration()),logHistory('error',_0x1613b9(0x150))):(logHistory('error',_0x1613b9(0x10d)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x1613b9(0x17f)]('Error\x20details:',_0x556f80['toString']()+_0x1613b9(0x1d6)+_0x556f80['code']));}let _0x1a0118=!![];if(_0x528dc3){let _0x298b85=0x0;const _0x55a12a=_0x528dc3[_0x1613b9(0x19e)];_0xda2d30[_0x1613b9(0x21c)](_0x54771d=>{const _0x103547=_0x1613b9;if(_0x55a12a[_0x103547(0x19e)][_0x54771d][0x0]&&_0x55a12a[_0x103547(0x19e)][_0x54771d][0x0]['quote'][_0x103547(0x1d4)][_0x103547(0x239)])_0x298b85+=_0x55a12a[_0x103547(0x19e)][_0x54771d][0x0][_0x103547(0x24c)][_0x103547(0x1d4)]['market_cap'];else{if(![_0x103547(0x1eb),_0x103547(0x1d4)][_0x103547(0x2b0)](_0x54771d)){if(_0x3bd00c)logHistory(_0x103547(0x175),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x54771d+_0x103547(0x248));else{const _0x3c3680=config[_0x103547(0x207)][_0x103547(0x165)](_0x3a3666=>_0x3a3666[_0x103547(0x1b9)]==_0x54771d);_0x3c3680&&!_0x3c3680[_0x103547(0x16c)]&&_0x3c3680[_0x103547(0x14f)]==-0x1&&(_0x1a0118=![],logHistory(_0x103547(0x175),'CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour'),logger[_0x103547(0x17f)](_0x103547(0x1ae)+_0x54771d));}}}});if(!_0x1a0118)return;_0xda2d30[_0x1613b9(0x21c)](_0x566a2c=>{const _0x17dbb1=_0x1613b9,_0x2c8e0f=_0x55a12a[_0x17dbb1(0x19e)][_0x566a2c][0x0]?_0x55a12a[_0x17dbb1(0x19e)][_0x566a2c][0x0]['quote'][_0x17dbb1(0x1d4)][_0x17dbb1(0x239)]:0x0;if(_0x3bd00c){const _0x2653c4=_0x1c880c['find'](_0x1ace91=>_0x1ace91[_0x17dbb1(0x1b9)]==_0x566a2c);_0x2653c4&&(_0x2653c4[_0x17dbb1(0x2a0)]=_0x2c8e0f);}else{const _0x2b603e=currentCoins[_0x17dbb1(0x165)](_0x293b52=>_0x293b52[_0x17dbb1(0x1b9)]==_0x566a2c);_0x2b603e&&(_0x2b603e[_0x17dbb1(0x2a0)]=_0x2c8e0f);const _0x1c8e2a=currentCoinsAll[_0x17dbb1(0x165)](_0x455c4e=>_0x455c4e[_0x17dbb1(0x1b9)]==_0x566a2c);_0x1c8e2a&&(_0x1c8e2a[_0x17dbb1(0x2a0)]=_0x2c8e0f);}}),!_0x3bd00c&&updateTargetDistribution();}}function updateTargetDistribution(){const _0xdeac0f=_0x3e0ee0,_0x5d6757=0x2;let _0x2717ea=0x0,_0x52ee28=0x0,_0x53d578=0x0,_0x2ca3dc=0x0,_0x3ee6a9=0x0;config[_0xdeac0f(0x207)]['forEach'](_0x220dde=>{const _0x399aeb=_0xdeac0f;if(!_0x220dde[_0x399aeb(0x16c)]){_0x53d578++,_0x2717ea+=_0x220dde[_0x399aeb(0x14f)];if(_0x220dde['slider']===-0x1){_0x2717ea++;const _0x1435b6=currentCoinsAll[_0x399aeb(0x165)](_0x54fb42=>_0x54fb42['coin']==_0x220dde[_0x399aeb(0x1b9)]);_0x1435b6&&(_0x2ca3dc+=_0x1435b6['marketcap'],_0x3ee6a9+=Math[_0x399aeb(0x23e)](_0x1435b6[_0x399aeb(0x2a0)]));}if(_0x220dde[_0x399aeb(0x14f)]!==-0x1)_0x52ee28++;}});let _0x1ff12f;const _0x1f87ce=0x64-_0x2717ea,_0x53c1f2=_0x53d578-_0x52ee28;_0x1ff12f=_0x53c1f2===0x0?_0x2717ea:Math[_0xdeac0f(0x2c5)](0x64,_0x2717ea),config[_0xdeac0f(0x207)]['forEach'](_0x3d9c94=>{const _0x1c200b=_0xdeac0f,_0x285cc4=currentCoinsAll[_0x1c200b(0x165)](_0x22866c=>_0x22866c[_0x1c200b(0x1b9)]==_0x3d9c94[_0x1c200b(0x1b9)]);_0x285cc4&&(_0x3d9c94[_0x1c200b(0x2a0)]=_0x285cc4[_0x1c200b(0x2a0)]);if(!_0x3d9c94[_0x1c200b(0x16c)]){if(_0x1ff12f<=0x64){if(_0x3d9c94['slider']===-0x1){if(_0x2ca3dc!==0x0&&config[_0x1c200b(0x2b9)]){if(_0x285cc4){if(config[_0x1c200b(0x2b9)]=='marketcap')_0x3d9c94[_0x1c200b(0x22f)]=(_0x1f87ce/(_0x2ca3dc/_0x285cc4[_0x1c200b(0x2a0)]))[_0x1c200b(0x1f8)](_0x5d6757);else config[_0x1c200b(0x2b9)]=='marketcapsqrt'&&(_0x3d9c94['distribution']=(_0x1f87ce/(_0x3ee6a9/Math['sqrt'](_0x285cc4[_0x1c200b(0x2a0)])))['toFixed'](_0x5d6757));}}}}}}),updateConfig();}function updateConfig(){const _0x1e01d7=_0x3e0ee0;let _0x35af3e=dbConfig[_0x1e01d7(0x116)](_0x1e01d7(0x1a4))[_0x1e01d7(0x165)]({'botID':botID})['value']();_0x35af3e&&dbConfig[_0x1e01d7(0x116)](_0x1e01d7(0x1a4))[_0x1e01d7(0x165)]({'botID':botID})['assign'](config)[_0x1e01d7(0x25e)]();}function logMemory(){const _0x4774e4=_0x3e0ee0;if(environment!='staging')return;const _0x469415=process[_0x4774e4(0x1a2)]()['heapUsed']/0x400/0x400;logger[_0x4774e4(0x17f)](_0x4774e4(0x258)+process['pid']+_0x4774e4(0x212)+formatResult(_0x469415,0x1)+_0x4774e4(0x1af));}async function startScheduler(){const _0x5c6541=_0x3e0ee0,_0x402dd7=shiftedTime()[_0x5c6541(0x1c9)]();getMarketCap(),loadSymbols(),_0x402dd7==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x5e42a5=![]){const _0x26da21=_0x3e0ee0;logger[_0x26da21(0x17f)](_0x26da21(0x1cd));if(!_0x5e42a5)while(lockOrders!=ORDERS[_0x26da21(0x105)]||coolingDown){await sleep(0x3e8);}process[_0x26da21(0x13b)]({'stop':_0x26da21(0x1da)},_0x4631d4=>{});}async function initExchange(_0x2f42f3=config[_0x3e0ee0(0x137)],_0x2352a4=config[_0x3e0ee0(0x2c3)],_0x255a9d=config[_0x3e0ee0(0x27d)],_0x280fe8=config['apiPassword'],_0x253c2e=config['sandbox']){const _0x32392b=_0x3e0ee0;if(exchange){logger[_0x32392b(0x17f)]('Initializing\x20exchange:\x20already\x20done');return;}logger['debug'](_0x32392b(0x242));!supportedExchanges()[_0x32392b(0x2b0)](_0x2f42f3)&&(logHistory('error',_0x32392b(0x233)+_0x2f42f3+'\x20exchange'),killBot());const _0x1be7bc=ccxt['pro'][_0x2f42f3[_0x32392b(0x1a7)]()];exchange=new _0x1be7bc({'apiKey':_0x2352a4,'secret':_0x255a9d,'options':{'defaultType':_0x32392b(0x1a6)}});if(_0x280fe8)exchange['password']=_0x280fe8;if(exchange[_0x32392b(0x15c)]['sandbox'])exchange[_0x32392b(0x186)](_0x253c2e);}function updateExchange(_0x53445a,_0x435451,_0x515eab=null){const _0x530286=_0x3e0ee0;exchange['apiKey']=_0x53445a,exchange[_0x530286(0x19a)]=_0x435451,exchange[_0x530286(0x11b)]=_0x515eab,logger[_0x530286(0x17f)](_0x530286(0x27b));}function setStableCoins(){const _0x4870b7=_0x3e0ee0;let _0x6955b4=config[_0x4870b7(0x183)]==_0x4870b7(0x184)?'ETH':config[_0x4870b7(0x183)]==_0x4870b7(0x253)?_0x4870b7(0x253):'BTC',_0x3d8b4b=allSymbols[_0x4870b7(0x2b0)](_0x6955b4+_0x4870b7(0x285))?_0x4870b7(0x1d4):allSymbols[_0x4870b7(0x2b0)](_0x6955b4+_0x4870b7(0x1c7))?'USDT':'EUR',_0x52e0e8=allSymbols[_0x4870b7(0x2b0)](_0x6955b4+_0x4870b7(0x217))?'EUR':_0x3d8b4b;enableFiatToggle=!![],_0x3d8b4b==_0x4870b7(0x1eb)&&(enableFiatToggle=![],storeFiat(_0x4870b7(0x1eb))),_0x52e0e8!=_0x4870b7(0x1eb)&&(enableFiatToggle=![],storeFiat(_0x4870b7(0x1d4))),stablecoins={'eur':{'coin':''+_0x6955b4+_0x52e0e8,'symbol':_0x6955b4+'/'+_0x52e0e8},'usd':{'coin':''+_0x6955b4+_0x3d8b4b,'symbol':_0x6955b4+'/'+_0x3d8b4b}};}async function initwsCcxt(){const _0x2b2f2b=_0x3e0ee0;initCycle++;const _0x9623a2=initCycle;let _0x285bc8=[];config[_0x2b2f2b(0x207)][_0x2b2f2b(0x21c)](_0x53a10b=>{const _0x57ee87=_0x2b2f2b;if(!_0x53a10b[_0x57ee87(0x16c)]&&_0x53a10b[_0x57ee87(0x1b9)]!=config[_0x57ee87(0x183)])_0x285bc8['push'](_0x53a10b['symbol']);});if(!_0x285bc8['includes'](stablecoins[_0x2b2f2b(0x288)][_0x2b2f2b(0x221)]))_0x285bc8[_0x2b2f2b(0x1b6)](stablecoins['eur'][_0x2b2f2b(0x221)]);if(!_0x285bc8[_0x2b2f2b(0x2b0)](stablecoins[_0x2b2f2b(0x295)]['symbol']))_0x285bc8[_0x2b2f2b(0x1b6)](stablecoins[_0x2b2f2b(0x295)]['symbol']);loadCoins(_0x285bc8),_0x285bc8=validateSymbols(_0x285bc8);const _0x313544=async _0x3f4d35=>{const _0x4d3113=_0x2b2f2b;let _0x87a209;try{const _0x27b13c=await getTickers(_0x3f4d35);Object[_0x4d3113(0x299)](_0x27b13c)['forEach'](_0x703572=>{const _0x5bd577=_0x4d3113;_0x87a209=_0x703572[0x1][_0x5bd577(0x221)],gTicker[noslash(_0x87a209)]=_0x703572[0x1]['last'],gChange[_0x87a209]=_0x703572[0x1]['percentage'];});}catch(_0x1a9210){await handleError(_0x1a9210,_0x4d3113(0x210),_0x87a209);}},_0x26bba9=async _0x340455=>{const _0x5521eb=_0x2b2f2b;while(initCycle==_0x9623a2){if(!botPaused)try{const _0x4e2768=await exchange[_0x5521eb(0x23d)](_0x340455);gTicker[noslash(_0x4e2768[0x0][_0x5521eb(0x221)])]=_0x4e2768[0x0][_0x5521eb(0x265)];}catch(_0x1eb918){if(!exchangeStopped)await handleError(_0x1eb918,_0x5521eb(0x163),_0x340455);}else await sleep(0x64);}},_0x5b6b8e=async _0x34b388=>{const _0x1f0219=_0x2b2f2b;while(initCycle==_0x9623a2){if(!botPaused)try{const _0x36f251=await exchange[_0x1f0219(0x236)](_0x34b388),_0x9d62f=_0x36f251[_0x1f0219(0x1ef)]();gTicker[noslash(_0x9d62f[_0x1f0219(0x221)])]=_0x9d62f['price'];}catch(_0x3890a2){if(!exchangeStopped)await handleError(_0x3890a2,_0x1f0219(0x2e0),_0x34b388['toString']());}else await sleep(0x64);}},_0x5c9317=async _0x1c9387=>{const _0x4cc421=_0x2b2f2b;while(initCycle==_0x9623a2){if(!botPaused){let _0x37e3d4;try{await sleep(0x3c*0x3e8);const _0x295339=await getTickers(_0x1c9387);Object[_0x4cc421(0x299)](_0x295339)[_0x4cc421(0x21c)](_0x2d8dbd=>{const _0x3081d4=_0x4cc421;_0x37e3d4=_0x2d8dbd[0x1][_0x3081d4(0x221)],gChange[_0x37e3d4]=_0x2d8dbd[0x1][_0x3081d4(0x2ac)];});}catch(_0x2fd109){if(!exchangeStopped)await handleError(_0x2fd109,_0x4cc421(0x1c2),_0x37e3d4);}}else await sleep(0x64);}},_0x511202=async _0x37ca20=>{const _0x4b9980=_0x2b2f2b;while(initCycle==_0x9623a2){if(!botPaused)try{const _0x465917=await exchange['watchOrders'](_0x37ca20);initCycle==_0x9623a2&&_0x465917[_0x4b9980(0x21c)](_0x39cc66=>{updateNumberCoinsCcxt(_0x39cc66);});}catch(_0x3f3ff1){if(!exchangeStopped)await handleError(_0x3f3ff1,_0x4b9980(0x12a));}else await sleep(0x64);}};_0x313544(_0x285bc8),_0x5c9317(_0x285bc8),exchange[_0x2b2f2b(0x15c)]['watchTradesForSymbols']&&!(config[_0x2b2f2b(0x137)]==_0x2b2f2b(0x203)&&_0x285bc8[_0x2b2f2b(0x14a)]>0xa)?_0x5b6b8e(_0x285bc8):_0x285bc8[_0x2b2f2b(0x21c)](_0x472c20=>{_0x26bba9(_0x472c20);}),_0x285bc8[_0x2b2f2b(0x21c)](_0x1c57b3=>{_0x511202(_0x1c57b3);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x2a1139){const _0x198fdd=_0x3e0ee0;let _0x316ce0={};try{if(config[_0x198fdd(0x137)]!=_0x198fdd(0x2c2))_0x316ce0=await exchange[_0x198fdd(0x1f6)](_0x2a1139);else for(const _0x459aa8 of _0x2a1139){const _0x2474dd=await exchange[_0x198fdd(0x154)](_0x459aa8);_0x316ce0[_0x459aa8]=_0x2474dd;}return _0x316ce0;}catch(_0x346da9){throw _0x346da9;}}function setBlockTransactionDetection(_0x5c79be){const _0x4af5af=_0x3e0ee0;blockTransactionDetection=_0x5c79be,logger[_0x4af5af(0x17f)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0xb8665e=0x0){const _0xd9e739=_0x3e0ee0;transactionDetectionOngoing=!![];try{const _0x4eba98=await getCoins(_0xb8665e),[_0x493889,_0x1e6e99]=_0x4eba98;let _0x42863e=[];currentCoins[_0xd9e739(0x21c)](_0x7854c3=>{const _0x34d43a=_0xd9e739,_0x4d97e1=_0x493889[_0x34d43a(0x165)](_0x5efaf0=>_0x5efaf0[_0x34d43a(0x1b9)]==_0x7854c3[_0x34d43a(0x1b9)]);if(_0x4d97e1){if(_0x7854c3['number']!=_0x4d97e1['number']){let _0x5ada84;if(_0x7854c3['coin']!=config[_0x34d43a(0x183)]){const _0x3c6666=gTicker[noslash(_0x7854c3[_0x34d43a(0x221)])];_0x5ada84=_0x7854c3[_0x34d43a(0x298)]?0x1/_0x3c6666:_0x3c6666;}else _0x5ada84=0x1;_0x42863e[_0x34d43a(0x1b6)]({'coin':_0x7854c3[_0x34d43a(0x1b9)],'symbol':_0x7854c3['symbol'],'price':_0x5ada84,'number':Number(formatResult(_0x4d97e1[_0x34d43a(0x2d5)]-_0x7854c3[_0x34d43a(0x2d5)],0x8)),'basecoinvalue':_0x5ada84*(_0x4d97e1[_0x34d43a(0x2d5)]-_0x7854c3[_0x34d43a(0x2d5)])});}}});if(_0x42863e['length']>0x0&&!blockTransactionDetection){for(const _0x428af7 of _0x42863e){if(config['autoliquidity']){logger[_0xd9e739(0x17f)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x428af7['basecoinvalue']+_0xd9e739(0x1cc)+lastFees[_0xd9e739(0x130)]);if(lastFees[_0xd9e739(0x130)]==0x0||Math[_0xd9e739(0x10b)](_0x428af7[_0xd9e739(0x15b)])>lastFees[_0xd9e739(0x130)]*0x3){if(config['autoliquidity']=='update-liquidity'){delete _0x428af7[_0xd9e739(0x221)],delete _0x428af7[_0xd9e739(0x15b)];let _0x59f2e1=[],_0x2422d3=[...config['liquidity']]||[],_0x266cf9=config['liquidity'];_0x2422d3['sort']((_0x4d0421,_0x5bec68)=>_0x4d0421['date']>_0x5bec68['date']?-0x1:_0x5bec68[_0xd9e739(0x147)]>_0x4d0421['date']?0x1:0x0);const _0x243dcb=getDate();if(_0x2422d3[0x0]){const _0xd0eeae=fns[_0xd9e739(0x2be)](_0x2422d3[0x0][_0xd9e739(0x147)],_0xd9e739(0x1d5),new Date()),_0x465442=fns['parse'](_0x243dcb,'yyyy/MM/dd',new Date());if(fns[_0xd9e739(0x2a4)](_0xd0eeae,_0x465442)){_0x59f2e1=_0x2422d3[0x0][_0xd9e739(0x28a)];const _0xc54605=_0x59f2e1[_0xd9e739(0x165)](_0x5bb6b7=>_0x5bb6b7['coin']==_0x428af7[_0xd9e739(0x1b9)]);_0xc54605?(_0xc54605['number']+=_0x428af7[_0xd9e739(0x2d5)],_0xc54605[_0xd9e739(0x2d5)]==0x0&&(_0x59f2e1=_0x59f2e1[_0xd9e739(0x117)](_0x4ee91e=>{const _0x175986=_0xd9e739;return _0x4ee91e[_0x175986(0x1b9)]!=_0x428af7[_0x175986(0x1b9)];}))):_0x59f2e1[_0xd9e739(0x1b6)](_0x428af7);const _0x5c3076=_0x266cf9[_0xd9e739(0x165)](_0x6eb49=>_0x6eb49['date']==_0x243dcb);_0x5c3076['changes']=_0x59f2e1;}else _0x266cf9[_0xd9e739(0x1b6)]({'date':_0x243dcb,'changes':[_0x428af7]});}const _0x15d007=_0x266cf9[_0xd9e739(0x165)](_0x3d6dd4=>_0x3d6dd4[_0xd9e739(0x147)]==_0x243dcb);if(_0x15d007){let _0x2c70de=!![];_0x15d007[_0xd9e739(0x28a)]['forEach'](_0x2fbf68=>{const _0x31b54a=_0xd9e739;if(_0x2fbf68[_0x31b54a(0x2d5)]!=0x0)_0x2c70de=![];}),_0x2c70de&&(_0x266cf9=_0x266cf9[_0xd9e739(0x117)](_0x1cdeb4=>{const _0x52b71c=_0xd9e739;return _0x1cdeb4[_0x52b71c(0x147)]!=_0x243dcb;}));}let _0x30ae7c=dbConfig[_0xd9e739(0x116)]('bot')[_0xd9e739(0x165)]({'botID':botID})[_0xd9e739(0x21e)]();_0x30ae7c&&(dbConfig[_0xd9e739(0x116)](_0xd9e739(0x1a4))[_0xd9e739(0x165)]({'botID':botID})[_0xd9e739(0x1c5)]({'liquidity':_0x266cf9})[_0xd9e739(0x25e)](),config[_0xd9e739(0x180)]=_0x266cf9);logHistory(_0xd9e739(0x169),'Portfolio\x20change\x20detected:\x20'+Math[_0xd9e739(0x10b)](_0x428af7[_0xd9e739(0x2d5)])+'\x20'+_0x428af7[_0xd9e739(0x1b9)]+'\x20'+(_0x428af7[_0xd9e739(0x2d5)]>0x0?_0xd9e739(0x136):_0xd9e739(0x22b))+_0xd9e739(0x29c)),proxyEmit(_0xd9e739(0x23c),emittedConfiguration());const _0x2a5270=getNormalizedPerformance();emitPerformance(_0x2a5270),getStartingBalances(_0x2a5270),logger[_0xd9e739(0x17f)](_0xd9e739(0x11d));}else config['autoliquidity']==_0xd9e739(0x271)&&(config[_0xd9e739(0x160)]?(await storeHeadless({'headless':![]}),logHistory('success',_0xd9e739(0x10f)+Math[_0xd9e739(0x10b)](_0x428af7[_0xd9e739(0x2d5)])+'\x20'+_0x428af7['coin']+'\x20'+(_0x428af7[_0xd9e739(0x2d5)]>0x0?_0xd9e739(0x136):_0xd9e739(0x22b))+_0xd9e739(0x259))):logger[_0xd9e739(0x17f)](_0xd9e739(0x10f)+Math[_0xd9e739(0x10b)](_0x428af7[_0xd9e739(0x2d5)])+'\x20'+_0x428af7[_0xd9e739(0x1b9)]+'\x20'+(_0x428af7['number']>0x0?_0xd9e739(0x136):'removed')+_0xd9e739(0x1ca)));}else logger[_0xd9e739(0x17f)](_0xd9e739(0x106)+Math[_0xd9e739(0x10b)](_0x428af7[_0xd9e739(0x2d5)])+'\x20'+_0x428af7['coin']+'\x20'+(_0x428af7[_0xd9e739(0x2d5)]>0x0?'added':_0xd9e739(0x22b)));}else logger[_0xd9e739(0x17f)](_0xd9e739(0x10f)+Math[_0xd9e739(0x10b)](_0x428af7[_0xd9e739(0x2d5)])+'\x20'+_0x428af7[_0xd9e739(0x1b9)]+'\x20'+(_0x428af7[_0xd9e739(0x2d5)]>0x0?_0xd9e739(0x136):_0xd9e739(0x22b))+'\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x493889,currentCoinsAll=_0x1e6e99;}}catch(_0xcd1927){if(!exchangeStopped)await handleError(_0xcd1927,_0xd9e739(0x170));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x59e365=_0x3e0ee0;try{markets=await exchange[_0x59e365(0x18d)](!![]),allSymbols=[],Object[_0x59e365(0x299)](markets)[_0x59e365(0x21c)](_0x560045=>{const _0x532f17=_0x59e365;_0x560045[0x1][_0x532f17(0x1c1)]&&_0x560045[0x1][_0x532f17(0x1a6)]&&allSymbols[_0x532f17(0x1b6)](_0x560045[0x0]);});}catch(_0x15110f){markets?logger['debug'](_0x59e365(0x1db)+_0x15110f[_0x59e365(0x1bb)]()):(loading['cancel']=!![],_0x15110f['toString']()[_0x59e365(0x1a7)]()['includes'](_0x59e365(0x155))||_0x15110f['toString']()[_0x59e365(0x1a7)]()[_0x59e365(0x2b0)](_0x59e365(0x29f))?(logHistory(_0x59e365(0x175),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading['error']=_0x59e365(0x2d0)):handleErrorNoStop(_0x15110f,_0x59e365(0x108),!![]),logHistory(_0x59e365(0x175),_0x59e365(0x110)),logHistory('error','Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x59e365(0x195)),logger[_0x59e365(0x17f)]('Error\x20details:',_0x15110f),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x47306e){const _0x2f8f72=_0x3e0ee0;let _0x41ec62=[];return _0x47306e[_0x2f8f72(0x21c)](_0x3b854e=>{const _0x1f0d00=_0x2f8f72;!allSymbols['includes'](_0x3b854e)?(logHistory(_0x1f0d00(0x175),_0x1f0d00(0x1f4)+_0x3b854e+_0x1f0d00(0x148)),loading['timeout']=!![],emitLoadingProgress()):_0x41ec62[_0x1f0d00(0x1b6)](_0x3b854e);}),_0x41ec62;}async function initclient(){const _0x556951=_0x3e0ee0;proxyEmit(_0x556951(0x23c),emittedConfiguration()),proxyEmit(_0x556951(0x25f),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x556951(0x1c0),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x19e423=getNormalizedPerformance();emitPerformance(_0x19e423),getStartingBalances(_0x19e423);}async function toggleBotMode(){const _0x4f9a31=_0x3e0ee0;let _0x174cee=dbConfig[_0x4f9a31(0x116)](_0x4f9a31(0x1a4))[_0x4f9a31(0x165)]({'botID':botID})[_0x4f9a31(0x21e)]();if(_0x174cee){const _0x535e1d=!_0x174cee[_0x4f9a31(0x160)];dbConfig['get'](_0x4f9a31(0x1a4))[_0x4f9a31(0x165)]({'botID':botID})[_0x4f9a31(0x1c5)]({'headless':_0x535e1d})[_0x4f9a31(0x25e)](),config[_0x4f9a31(0x160)]=_0x535e1d,proxyEmit(_0x4f9a31(0x23c),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4fbd1d=_0x3e0ee0;process[_0x4fbd1d(0x13b)]({'updatebotmanager':!![]},_0x2789e8=>{}),logger['debug'](_0x4fbd1d(0x158)+config['headless']);}async function loadCoins(_0x2c352d){const _0x524d31=_0x3e0ee0;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x3ccc45,_0xe511b4=0x0,_0x2d0255=0x0;_0x2c352d['forEach'](_0x2ba544=>{const _0x26792c=_0x3971;loading[_0x26792c(0x235)][_0x26792c(0x1b6)](_0x2ba544);}),loadingCanceled=![];let _0x35fd44=![];while(_0x3ccc45!=_0x2c352d['length']+maxLoadingProgress){_0x3ccc45=loadingProgress,_0x2c352d[_0x524d31(0x21c)](_0x3951ea=>{const _0x5d93fb=_0x524d31;if(gTicker[noslash(_0x3951ea)]){loading[_0x5d93fb(0x235)]=loading['remainingSymbols'][_0x5d93fb(0x117)](_0x5e57d8=>_0x5e57d8!=_0x3951ea);if(!watchedSymbols[_0x5d93fb(0x2b0)](_0x3951ea))watchedSymbols[_0x5d93fb(0x1b6)](_0x3951ea);_0x3ccc45++;}}),loading[_0x524d31(0x1b7)]=Math[_0x524d31(0x276)](_0x3ccc45/(_0x2c352d['length']+maxLoadingProgress)*0x64);loading[_0x524d31(0x1b7)]!=0x64&&(_0x2d0255>0x1e*0x5&&(loading[_0x524d31(0x1b5)]=!![],emitLoadingProgress()),_0x2d0255>0x78*0x5&&!_0x35fd44&&(_0x35fd44=!![],logHistory(_0x524d31(0x175),_0x524d31(0x141)+loading[_0x524d31(0x235)][_0x524d31(0x159)](',\x20')+_0x524d31(0x2bd)),logHistory(_0x524d31(0x175),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x524d31(0x195)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x524d31(0x2c0)]=!![],emitLoadingProgress();break;}else _0xe511b4!=loading[_0x524d31(0x1b7)]&&(_0xe511b4=loading[_0x524d31(0x1b7)],emitLoadingProgress()),_0x2d0255++,await sleep(0xc8);}_0x3ccc45==_0x2c352d[_0x524d31(0x14a)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x524d31(0x250),'live':_0x524d31(0x216)},_0x5c6d70=>{}),_0x35fd44&&logHistory(_0x524d31(0x169),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1880df=_0x3e0ee0;proxyEmit(_0x1880df(0x23c),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0xc11360=_0x3e0ee0;proxyEmit(_0xc11360(0x2d7),loading);}async function getFiat(){const _0x30f0ae=_0x3e0ee0;let _0x5be668=gTicker[stablecoins[_0x30f0ae(0x288)][_0x30f0ae(0x1b9)]],_0x4ac87c=gTicker[stablecoins[_0x30f0ae(0x295)][_0x30f0ae(0x1b9)]];return{'eur':Number(_0x5be668),'usd':Number(_0x4ac87c)};}function capitalize(_0x2363ab){const _0x37b544=_0x3e0ee0;return _0x2363ab[_0x37b544(0x21a)](0x0,0x1)[_0x37b544(0x18a)]()+_0x2363ab[_0x37b544(0x21a)](0x1);}function supportedExchanges(){const _0x1eb861=_0x3e0ee0,_0x3fe0c2=['ws',_0x1eb861(0x1f6),'fetchTicker','watchTrades',_0x1eb861(0x190),_0x1eb861(0x246),_0x1eb861(0x25a),_0x1eb861(0x132),'fetchBalance'];let _0x2e7a61=[],_0x1c7791=[],_0x342f9f=ccxt[_0x1eb861(0x1d7)][_0x1eb861(0x25f)];_0x342f9f[_0x1eb861(0x21c)](_0x215557=>{const _0x587ca3=_0x1eb861;try{const _0x39153f=new ccxt[(_0x587ca3(0x1d7))][_0x215557]();_0x1c7791[_0x587ca3(0x1b6)](_0x39153f);}catch(_0x39b32e){}}),_0x1c7791[_0x1eb861(0x21c)](_0x340c9a=>{const _0x4bcb34=_0x1eb861;let _0x3e3d28=0x0;_0x3fe0c2[_0x4bcb34(0x21c)](_0x25a1b3=>{const _0x2e9afa=_0x4bcb34;_0x25a1b3 in _0x340c9a[_0x2e9afa(0x15c)]&&_0x340c9a[_0x2e9afa(0x15c)][_0x25a1b3]&&_0x3e3d28++;}),_0x3e3d28==_0x3fe0c2['length']&&(!excludedExchanges['includes'](_0x340c9a['id'])&&_0x2e7a61[_0x4bcb34(0x1b6)](capitalize(_0x340c9a['id'])));});let _0xab9bff=[];return _0x342f9f['forEach'](_0x594f16=>{const _0x35a64e=_0x1eb861;_0x594f16=capitalize(_0x594f16);if(!_0x2e7a61[_0x35a64e(0x2b0)](_0x594f16))_0xab9bff[_0x35a64e(0x1b6)](_0x594f16);}),_0x2e7a61;}function setStartDatePerformance(){const _0x287bc4=_0x3e0ee0;if(config&&config[_0x287bc4(0x180)][0x0]['changes']['length']!=0x0){const _0x58bfed=config['liquidity'][0x0][_0x287bc4(0x28a)];dbPerformance['get']('data')[_0x287bc4(0x165)]({'date':config[_0x287bc4(0x2cb)]})['assign']({'coins':_0x58bfed})['write']();}}function calculatePnL(_0x2a28cd,_0x2cd8d7,_0x2fbb57,_0x57e9b4,_0x11e577,_0x1ebb13){const _0x4f7025=_0x3e0ee0;!_0x2a28cd[_0x4f7025(0x2b0)]('/'+config[_0x4f7025(0x183)])&&(_0x2fbb57=_0x2fbb57=='buy'?_0x4f7025(0x1ea):_0x4f7025(0x128));!_0x1ebb13[_0x2cd8d7]&&(_0x1ebb13[_0x2cd8d7]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x35bc9b=0x0,_0xbcb9d8,_0x53f740;if(_0x2fbb57==_0x4f7025(0x128))_0x53f740=_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)]*_0x1ebb13[_0x2cd8d7][_0x4f7025(0x19c)]+_0x11e577*_0x57e9b4,_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)]+=_0x57e9b4,_0x1ebb13[_0x2cd8d7][_0x4f7025(0x19c)]=_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)]!=0x0?_0x53f740/_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)]:0x0,_0x1ebb13[_0x2cd8d7][_0x4f7025(0x11a)]++;else _0x2fbb57==_0x4f7025(0x1ea)&&(_0xbcb9d8=Math[_0x4f7025(0x177)](_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)],_0x57e9b4),_0x35bc9b=(_0x11e577-_0x1ebb13[_0x2cd8d7][_0x4f7025(0x19c)])*_0xbcb9d8,_0x53f740=Math[_0x4f7025(0x2c5)](_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)]*_0x1ebb13[_0x2cd8d7][_0x4f7025(0x19c)]-_0xbcb9d8*_0x1ebb13[_0x2cd8d7][_0x4f7025(0x19c)],0x0),_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)]-=_0xbcb9d8,_0x1ebb13[_0x2cd8d7][_0x4f7025(0x19c)]=_0x1ebb13[_0x2cd8d7][_0x4f7025(0x2d5)]!=0x0?_0x53f740/_0x1ebb13[_0x2cd8d7]['number']:0x0,_0x1ebb13[_0x2cd8d7][_0x4f7025(0x1de)]+=_0x35bc9b,_0x1ebb13[_0x2cd8d7][_0x4f7025(0x27c)]++);return _0x35bc9b;}async function generatePnL(){const _0x4a1e40=_0x3e0ee0;pnlGenerationNeeded=![],logger[_0x4a1e40(0x17f)](_0x4a1e40(0x293));const _0x539141=dbLogs[_0x4a1e40(0x116)](_0x4a1e40(0x29a))[_0x4a1e40(0x21e)]();let _0x5e8009={},_0x997f0d=0x0,_0x56171a=0x0,_0x3cf09e=config[_0x4a1e40(0x2cb)];const _0x719868=fns['parse'](_0x3cf09e,'yyyy/MM/dd',new Date()),_0x5ab1c8=new Date();let _0x148b4a=0x0;for(let _0x50fd8a=_0x719868;!fns[_0x4a1e40(0x2bb)](_0x5ab1c8,_0x50fd8a);_0x50fd8a=fns[_0x4a1e40(0x284)](_0x50fd8a,0x1)){const _0x408d28=fns['format'](_0x50fd8a,_0x4a1e40(0x1d5));while(_0x997f0d<_0x539141[_0x4a1e40(0x14a)]){const _0x259357=new Date(_0x539141[_0x997f0d]['time']);if(fns[_0x4a1e40(0x2bb)](_0x259357,_0x50fd8a))_0x997f0d++;else{if(_0x539141[_0x997f0d]['time'][_0x4a1e40(0x2b0)](_0x408d28)){const _0x4a0f21=_0x539141[_0x997f0d];if(_0x4a0f21[_0x4a1e40(0x2dd)]==='order'&&(_0x4a0f21['event'][_0x4a1e40(0x2b0)](_0x4a1e40(0x2d2))||_0x4a0f21[_0x4a1e40(0x1e9)]['includes']('Market\x20order'))){const _0x211f64=_0x4a0f21['event'][_0x4a1e40(0x21f)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x211f64){const [,_0x367199,_0x1a3fc2,_0x471ac9,_0x53bc42]=_0x211f64,_0x42832c=_0x367199[_0x4a1e40(0x2b0)]('/'+config[_0x4a1e40(0x183)])?_0x367199[_0x4a1e40(0x16a)]('/')[0x0]:_0x367199[_0x4a1e40(0x16a)]('/')[0x1],_0x2bb731=calculatePnL(_0x367199,_0x42832c,_0x1a3fc2,parseFloat(_0x471ac9),parseFloat(_0x53bc42),_0x5e8009);_0x56171a+=_0x2bb731;}}_0x997f0d++;}else break;}}dbPerformance[_0x4a1e40(0x116)](_0x4a1e40(0x19e))[_0x4a1e40(0x165)]({'date':_0x408d28})['assign']({'pnl':_0x56171a})[_0x4a1e40(0x25e)]();}dbCoinResults[_0x4a1e40(0x291)](_0x4a1e40(0x1c4),_0x5e8009)['write'](),logger['debug'](_0x4a1e40(0x2c8));const _0x5e710b=getNormalizedPerformance();emitPerformance(_0x5e710b);}async function updatePnL(_0xe96963){const _0x2e57c0=_0x3e0ee0,{symbol:_0x505417,coin:_0x4de192,amount:_0x2322db,price:_0x4850d0,side:_0x2a9e7d,reverse:_0x2a74e3}=_0xe96963;let _0x33d32b=dbCoinResults[_0x2e57c0(0x116)]('coins')[_0x2e57c0(0x21e)]();const _0x3dd88e=calculatePnL(_0x505417,_0x4de192,_0x2a9e7d,_0x2322db,_0x4850d0,_0x33d32b);dbCoinResults[_0x2e57c0(0x291)](_0x2e57c0(0x1c4),_0x33d32b)['write']();const _0x11c6b6=getTimeStamp()[_0x2e57c0(0x16a)]('\x20')[0x0];let _0x488cd7=dbPerformance[_0x2e57c0(0x116)](_0x2e57c0(0x19e))['find']({'date':_0x11c6b6})[_0x2e57c0(0x21e)]();_0x488cd7?(_0x488cd7[_0x2e57c0(0x229)]+=_0x3dd88e,dbPerformance['get'](_0x2e57c0(0x19e))[_0x2e57c0(0x165)]({'date':_0x11c6b6})['assign'](_0x488cd7)[_0x2e57c0(0x25e)]()):await storePerformance();const _0x43820f=getNormalizedPerformance();emitPerformance(_0x43820f);}async function validate24hChanges(){const _0x356d21=_0x3e0ee0;for(const _0x3e3c9c of currentCoins){if(_0x3e3c9c[_0x356d21(0x1b9)]!=config[_0x356d21(0x183)]){let _0x131e82;_0x3e3c9c[_0x356d21(0x298)]?_0x131e82=formatResult((0x1/(gChange[_0x3e3c9c[_0x356d21(0x221)]]/0x64+0x1)-0x1)*0x64,0x3):_0x131e82=gChange[_0x3e3c9c[_0x356d21(0x221)]],_0x131e82<config['change24h']&&(logHistory(_0x356d21(0x175),_0x3e3c9c['coin']+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x131e82+'%'),logHistory(_0x356d21(0x175),_0x356d21(0x268)),logHistory(_0x356d21(0x175),_0x356d21(0x1fd)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x5b2080,_0xd098b5){const _0x3932b6=_0x3e0ee0;if(!_0x5b2080)return!![];const _0x1ffaa0=_0xd098b5['split']('.'),_0x58277b=_0x5b2080[_0x3932b6(0x16a)]('.');for(var _0x28a6f4=0x0;_0x28a6f4<_0x58277b['length'];_0x28a6f4++){const _0x5503ee=~~_0x58277b[_0x28a6f4],_0x1f043d=~~_0x1ffaa0[_0x28a6f4];if(_0x5503ee<_0x1f043d)return!![];if(_0x5503ee>_0x1f043d)return![];}return![];}async function oneTimeMigration(){const _0x1cb78e=_0x3e0ee0;let _0x55ea75=dbLogs[_0x1cb78e(0x116)](_0x1cb78e(0x18b))[_0x1cb78e(0x21e)]();if(isOlderVersion(_0x55ea75,_0x1cb78e(0x1f2))){let _0x2b0068=[];const _0x528030=dbLogs[_0x1cb78e(0x116)](_0x1cb78e(0x29a))['value']();_0x528030['forEach'](_0x23acd7=>{const _0x48e7f7=_0x1cb78e;_0x2b0068[_0x48e7f7(0x1b6)]({'time':_0x23acd7['time'],'type':_0x23acd7['type'],'event':_0x23acd7[_0x48e7f7(0x1e9)]});}),dbLogs[_0x1cb78e(0x116)]('logs')[_0x1cb78e(0x1c5)](_0x2b0068)['write']();}let _0x557750=dbConfig[_0x1cb78e(0x116)](_0x1cb78e(0x18b))['value']();if(isOlderVersion(_0x557750,'2.3.5')){let _0x47e003=dbConfig[_0x1cb78e(0x116)](_0x1cb78e(0x1a4))[_0x1cb78e(0x165)]({'botID':botID})[_0x1cb78e(0x21e)]();if(_0x47e003){let _0x5516be=[];_0x47e003[_0x1cb78e(0x207)][_0x1cb78e(0x21c)](_0x20ef61=>{const _0x737b1f=_0x1cb78e;_0x5516be['push']({'coin':_0x20ef61[_0x737b1f(0x1b9)],'number':_0x20ef61[_0x737b1f(0x2a9)],'price':_0x20ef61[_0x737b1f(0x2e1)]}),delete _0x20ef61[_0x737b1f(0x2a9)],delete _0x20ef61[_0x737b1f(0x2e1)];});if(_0x5516be[_0x1cb78e(0x14a)]!==0x0)fs[_0x1cb78e(0x251)](configbackuppath+('starting-balance-'+botID+'.json'),JSON[_0x1cb78e(0x1fb)](_0x5516be,null,0x4),function(_0x5f300a){if(_0x5f300a){}});const _0x288fbd=(_0x4d5c52,_0x41a6cb)=>{const _0xcb53ab=_0x1cb78e;let _0x41301d=[];_0x41a6cb[_0xcb53ab(0x21c)](_0x1e78e4=>{const _0x1eb2cf=_0xcb53ab,_0x19fa76=_0x4d5c52['find'](_0x24666d=>_0x24666d['coin']==_0x1e78e4[_0x1eb2cf(0x1b9)]);if(!_0x19fa76)_0x41301d['push'](_0x1e78e4);});let _0x5ecded=[];return _0x4d5c52['forEach'](_0x1f17b6=>{const _0x59464a=_0xcb53ab,_0xbc9256=_0x41a6cb[_0x59464a(0x165)](_0x2a1d67=>_0x2a1d67['coin']==_0x1f17b6[_0x59464a(0x1b9)]);if(!_0xbc9256||_0xbc9256[_0x59464a(0x2d5)]==0x0&&_0x1f17b6[_0x59464a(0x2d5)]!=0x0)_0x5ecded['push'](_0x1f17b6);}),{'missingDay1':_0x41301d,'notInDay2':_0x5ecded};},_0x2030ba=dbPerformance[_0x1cb78e(0x116)]('data')[_0x1cb78e(0x261)]()[_0x1cb78e(0x21e)]();if(_0x2030ba[_0x1cb78e(0x14a)]>0x1){const {missingDay1:_0x1986fc,notInDay2:_0x482ba3}=_0x288fbd(_0x5516be,_0x2030ba[0x1]['coins']);_0x5516be=[..._0x5516be,..._0x1986fc],_0x482ba3[_0x1cb78e(0x21c)](_0x44a57f=>{const _0x38979e=_0x1cb78e;let _0xfcdcd7=_0x5516be[_0x38979e(0x1a5)](_0x2f9e86=>_0x2f9e86[_0x38979e(0x1b9)]==_0x44a57f['coin']);_0xfcdcd7!=-0x1&&_0x5516be['splice'](_0xfcdcd7,0x1);});}_0x5516be[_0x1cb78e(0x1ce)]((_0x22ce12,_0x10d1e5)=>_0x22ce12[_0x1cb78e(0x1b9)]>_0x10d1e5['coin']?0x1:_0x10d1e5[_0x1cb78e(0x1b9)]>_0x22ce12[_0x1cb78e(0x1b9)]?-0x1:0x0);let _0x37410c=[{'date':_0x47e003['startdate'],'changes':_0x5516be}];_0x2030ba[_0x1cb78e(0x14a)]>0x2&&_0x2030ba[_0x1cb78e(0x21c)]((_0x1420ef,_0x48b49f)=>{const _0x4090f7=_0x1cb78e;if(_0x48b49f>0x0&&_0x48b49f<_0x2030ba[_0x4090f7(0x14a)]-0x1){const {missingDay1:_0x4afc78,notInDay2:_0x1a12f0}=_0x288fbd(_0x2030ba[_0x48b49f][_0x4090f7(0x1c4)],_0x2030ba[_0x48b49f+0x1][_0x4090f7(0x1c4)]);_0x5516be=[],(_0x4afc78[_0x4090f7(0x14a)]!=0x0||_0x1a12f0[_0x4090f7(0x14a)]!=0x0)&&(_0x4afc78['length']!=0x0&&_0x5516be[_0x4090f7(0x1b6)](..._0x4afc78),_0x1a12f0[_0x4090f7(0x14a)]!=0x0&&(_0x1a12f0['forEach'](_0x221ff7=>{const _0x560ff2=_0x4090f7;_0x221ff7[_0x560ff2(0x2d5)]=-_0x221ff7['number'];}),_0x5516be[_0x4090f7(0x1b6)](..._0x1a12f0)),_0x5516be[_0x4090f7(0x1ce)]((_0x2987e4,_0xfb4fbf)=>_0x2987e4[_0x4090f7(0x1b9)]>_0xfb4fbf[_0x4090f7(0x1b9)]?0x1:_0xfb4fbf['coin']>_0x2987e4[_0x4090f7(0x1b9)]?-0x1:0x0),_0x37410c[_0x4090f7(0x1b6)]({'date':_0x2030ba[_0x48b49f+0x1]['date'],'changes':_0x5516be}));}}),dbConfig[_0x1cb78e(0x116)](_0x1cb78e(0x1a4))[_0x1cb78e(0x165)]({'botID':botID})[_0x1cb78e(0x1c5)]({..._0x47e003,'liquidity':_0x37410c})[_0x1cb78e(0x25e)]();}}if(isOlderVersion(_0x557750,_0x1cb78e(0x1e7))){let _0x2ffaf6=dbConfig['get'](_0x1cb78e(0x1a4))[_0x1cb78e(0x165)]({'botID':botID})['value']();if(_0x2ffaf6){const _0x4ec7d9=_0x2ffaf6['exchange'],_0x341cc7=_0x4ec7d9?capitalize(_0x4ec7d9):_0x1cb78e(0x1dc);dbConfig[_0x1cb78e(0x116)](_0x1cb78e(0x1a4))[_0x1cb78e(0x165)]({'botID':botID})['assign']({'exchange':_0x341cc7})['write']();}}if(isOlderVersion(_0x557750,_0x1cb78e(0x2b6))){let _0x4d6211=dbConfig[_0x1cb78e(0x116)]('bot')[_0x1cb78e(0x165)]({'botID':botID})[_0x1cb78e(0x21e)]();if(_0x4d6211){const _0x5f0949=_0x4d6211['marketcapEnabled'],_0x3ce012=_0x5f0949?_0x1cb78e(0x2a0):![];dbConfig[_0x1cb78e(0x116)](_0x1cb78e(0x1a4))[_0x1cb78e(0x165)]({'botID':botID})['assign']({'marketcapEnabled':_0x3ce012})[_0x1cb78e(0x25e)]();}}if(isOlderVersion(_0x557750,_0x1cb78e(0x1d0))){let _0x293bac=dbConfig[_0x1cb78e(0x116)](_0x1cb78e(0x1a4))[_0x1cb78e(0x165)]({'botID':botID})[_0x1cb78e(0x21e)]();if(_0x293bac){const _0x54a353=_0x293bac[_0x1cb78e(0x12b)],_0x3eed2f=_0x54a353?'update-liquidity':![];dbConfig[_0x1cb78e(0x116)]('bot')['find']({'botID':botID})[_0x1cb78e(0x1c5)]({'autoliquidity':_0x3eed2f})['write']();}}let _0xc58a2e=dbPerformance[_0x1cb78e(0x116)](_0x1cb78e(0x18b))[_0x1cb78e(0x21e)]();isOlderVersion(_0xc58a2e,_0x1cb78e(0x1f2))&&setStartDatePerformance();let _0x51f514=dbCoinResults[_0x1cb78e(0x116)](_0x1cb78e(0x18b))[_0x1cb78e(0x21e)]();if(isOlderVersion(_0x51f514,_0x1cb78e(0x194))){let _0x34cf8f=dbCoinResults['get'](_0x1cb78e(0x1c4))[_0x1cb78e(0x21e)]();if(_0x34cf8f[_0x1cb78e(0x14a)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x14c6f0=_0x3e0ee0;dbConfig[_0x14c6f0(0x291)](_0x14c6f0(0x18b),serverversion)['write'](),dbPerformance[_0x14c6f0(0x291)](_0x14c6f0(0x18b),serverversion)[_0x14c6f0(0x25e)](),dbLogs[_0x14c6f0(0x291)](_0x14c6f0(0x18b),serverversion)[_0x14c6f0(0x25e)](),dbCoinResults['set'](_0x14c6f0(0x18b),serverversion)[_0x14c6f0(0x25e)]();}function getConfiguration(_0x122135){const _0x5ee3bb=_0x3e0ee0;let _0x5c5790=dbConfig[_0x5ee3bb(0x116)](_0x5ee3bb(0x1a4))[_0x5ee3bb(0x165)]({'botID':_0x122135})[_0x5ee3bb(0x21e)]();if(_0x5c5790){let _0x45477c=![];typeof _0x5c5790[_0x5ee3bb(0x257)]=='string'&&(_0x5c5790={..._0x5c5790,'threshold':Number(_0x5c5790[_0x5ee3bb(0x257)])},_0x45477c=!![]),_0x5c5790[_0x5ee3bb(0x1e5)]==undefined&&(_0x5c5790={..._0x5c5790,'change24h':-0x14},_0x45477c=!![]),_0x5c5790[_0x5ee3bb(0x1f5)]==undefined&&(_0x5c5790={..._0x5c5790,'fiat':'USD'},_0x45477c=!![]),_0x5c5790[_0x5ee3bb(0x297)]==undefined&&(_0x5c5790={..._0x5c5790,'onepagemode':settings[_0x5ee3bb(0x297)]},_0x45477c=!![]),_0x5c5790[_0x5ee3bb(0x1c8)]==undefined&&(_0x5c5790={..._0x5c5790,'colorscheme':_0x5ee3bb(0x15a)},_0x45477c=!![]),_0x5c5790[_0x5ee3bb(0x12b)]==undefined&&(_0x5c5790={..._0x5c5790,'autoliquidity':_0x5ee3bb(0x104)},_0x45477c=!![]),_0x5c5790['marketcapApi']==undefined&&(_0x5c5790={..._0x5c5790,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x45477c=!![]),_0x5c5790['marketcapEnabled']==undefined&&(_0x5c5790={..._0x5c5790,'marketcapEnabled':![]},_0x45477c=!![]),_0x5c5790[_0x5ee3bb(0x2e5)]==undefined&&(_0x5c5790={..._0x5c5790,'sandbox':![]},_0x45477c=!![]),_0x45477c&&(_0x5c5790={'botID':_0x5c5790[_0x5ee3bb(0x118)],'exchange':_0x5c5790[_0x5ee3bb(0x137)],'apiKey':_0x5c5790[_0x5ee3bb(0x2c3)],'apiSecret':_0x5c5790['apiSecret'],'apiPassword':_0x5c5790['apiPassword'],'basecoin':_0x5c5790[_0x5ee3bb(0x183)],'botname':_0x5c5790[_0x5ee3bb(0x2cf)],'showname':_0x5c5790['showname'],'threshold':_0x5c5790[_0x5ee3bb(0x257)],'ordertype':_0x5c5790[_0x5ee3bb(0x182)],'timeout':_0x5c5790[_0x5ee3bb(0x1b5)],'fiat':_0x5c5790['fiat'],'startdate':_0x5c5790[_0x5ee3bb(0x2cb)],'recreate':_0x5c5790[_0x5ee3bb(0x164)],'timeshift':_0x5c5790[_0x5ee3bb(0x24b)],'onepagemode':_0x5c5790['onepagemode'],'headless':_0x5c5790[_0x5ee3bb(0x160)],'cooldown':_0x5c5790[_0x5ee3bb(0x283)],'change24h':_0x5c5790[_0x5ee3bb(0x1e5)],'emojibuy':_0x5c5790[_0x5ee3bb(0x245)],'emojisell':_0x5c5790[_0x5ee3bb(0x11f)],'colorscheme':_0x5c5790['colorscheme'],'marketcapApi':_0x5c5790['marketcapApi'],'marketcapEnabled':_0x5c5790[_0x5ee3bb(0x2b9)],'sandbox':_0x5c5790['sandbox'],'portfolio':_0x5c5790[_0x5ee3bb(0x207)],'autoliquidity':_0x5c5790[_0x5ee3bb(0x12b)],'liquidity':_0x5c5790[_0x5ee3bb(0x180)],'openOrders':_0x5c5790[_0x5ee3bb(0x2a3)]},dbConfig[_0x5ee3bb(0x116)](_0x5ee3bb(0x1a4))[_0x5ee3bb(0x1ee)]()['write'](),dbConfig[_0x5ee3bb(0x116)](_0x5ee3bb(0x1a4))[_0x5ee3bb(0x1b6)](_0x5c5790)[_0x5ee3bb(0x25e)]());}else _0x5c5790={'botID':_0x122135,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x5ee3bb(0x24f)+_0x122135,'showname':![],'threshold':0x3,'ordertype':_0x5ee3bb(0x1e0),'timeout':0x14,'fiat':_0x5ee3bb(0x1d4),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x5ee3bb(0x15a),'marketcapApi':settings[_0x5ee3bb(0x26d)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':'update-liquidity','liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5c5790;}function emittedConfiguration(){const _0x5d9134=_0x3e0ee0;let _0x3a040f;if(config[_0x5d9134(0x2c3)]=='')_0x3a040f={...config,'configstate':_0x5d9134(0x196)};else config[_0x5d9134(0x2c3)]==_0x5d9134(0x247)?_0x3a040f={...config,'configstate':_0x5d9134(0x2aa)}:(_0x3a040f={...config,'apiKey':_0x5d9134(0x172),'apiSecret':_0x5d9134(0x172)},config['apiPassword']&&(_0x3a040f[_0x5d9134(0x1e1)]=_0x5d9134(0x172)));return _0x3a040f[_0x5d9134(0x1fa)]=enableFiatToggle,_0x3a040f;}function getSettings(){const _0x4ddbeb=_0x3e0ee0;return dbSettings[_0x4ddbeb(0x116)](_0x4ddbeb(0x2ab))[_0x4ddbeb(0x21e)]();}function getSecure(){const _0x2dba55=_0x3e0ee0;return dbSecure[_0x2dba55(0x116)](_0x2dba55(0x1b1))['value']()||{};}function updateTimeshift(_0x13a5e3){const _0x3bc8cb=_0x3e0ee0;let _0x2a70d7=dbConfig[_0x3bc8cb(0x116)](_0x3bc8cb(0x1a4))[_0x3bc8cb(0x165)]({'botID':botID})[_0x3bc8cb(0x21e)]();_0x2a70d7&&dbConfig['get'](_0x3bc8cb(0x1a4))[_0x3bc8cb(0x165)]({'botID':botID})[_0x3bc8cb(0x1c5)]({'timeshift':_0x13a5e3})[_0x3bc8cb(0x25e)](),config[_0x3bc8cb(0x24b)]=_0x13a5e3,proxyEmit(_0x3bc8cb(0x23c),emittedConfiguration());}function updateOnepagemode(_0x185f37){const _0xa2cd4=_0x3e0ee0;let _0x233a0c=dbConfig[_0xa2cd4(0x116)]('bot')[_0xa2cd4(0x165)]({'botID':botID})[_0xa2cd4(0x21e)]();_0x233a0c&&dbConfig[_0xa2cd4(0x116)](_0xa2cd4(0x1a4))['find']({'botID':botID})[_0xa2cd4(0x1c5)]({'onepagemode':_0x185f37})['write'](),config['onepagemode']=_0x185f37,proxyEmit(_0xa2cd4(0x23c),emittedConfiguration());}function updateMarketcapApi(_0x4e3b2e){const _0x18aae9=_0x3e0ee0,_0x133fff=_0x4e3b2e?!![]:![];let _0x4b6b42=dbConfig[_0x18aae9(0x116)](_0x18aae9(0x1a4))[_0x18aae9(0x165)]({'botID':botID})[_0x18aae9(0x21e)]();_0x4b6b42&&dbConfig['get'](_0x18aae9(0x1a4))[_0x18aae9(0x165)]({'botID':botID})[_0x18aae9(0x1c5)]({'marketcapApi':_0x133fff})[_0x18aae9(0x25e)](),config[_0x18aae9(0x26d)]=_0x133fff,getMarketCap(),proxyEmit(_0x18aae9(0x23c),emittedConfiguration());}async function storeConfiguration(_0x265391){const _0x298eaa=_0x3e0ee0;logger[_0x298eaa(0x17f)](_0x298eaa(0x1fc));_0x265391[_0x298eaa(0x1d2)]&&delete _0x265391[_0x298eaa(0x1d2)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x320cf6=![],_0x2c98bf=![],_0x4d75ca=[];_0x265391[_0x298eaa(0x207)][_0x298eaa(0x21c)](_0x8d5725=>{const _0x1eca1e=_0x298eaa;if(!_0x8d5725[_0x1eca1e(0x16c)]&&_0x8d5725['coin']!=_0x265391[_0x1eca1e(0x183)])_0x4d75ca['push'](_0x8d5725['symbol']);}),_0x4d75ca[_0x298eaa(0x21c)](_0x59b1ec=>{const _0x205ad2=_0x298eaa,_0xf764c6=currentCoins[_0x205ad2(0x165)](_0x3a55ac=>_0x3a55ac[_0x205ad2(0x221)]==_0x59b1ec);!_0xf764c6&&(_0x320cf6=!![]);}),currentCoins[_0x298eaa(0x21c)](_0x88d1f0=>{const _0x5e823d=_0x298eaa;if(_0x88d1f0[_0x5e823d(0x1b9)]!=config['basecoin']){const _0x189bca=_0x4d75ca[_0x5e823d(0x165)](_0x2411ac=>_0x2411ac==_0x88d1f0[_0x5e823d(0x221)]);!_0x189bca&&(_0x320cf6=!![]);}}),_0x265391[_0x298eaa(0x207)][_0x298eaa(0x21c)](_0x1ad237=>{const _0x5598cb=_0x298eaa,_0x23a50b=config[_0x5598cb(0x207)][_0x5598cb(0x165)](_0x157641=>_0x157641[_0x5598cb(0x1b9)]==_0x1ad237[_0x5598cb(0x1b9)]);if(_0x23a50b&&_0x1ad237[_0x5598cb(0x16d)]!=_0x23a50b[_0x5598cb(0x16d)])_0x2c98bf=!![];});let _0x273d57=dbConfig[_0x298eaa(0x116)](_0x298eaa(0x1a4))['find']({'botID':botID})[_0x298eaa(0x21e)]();_0x265391={..._0x265391,'apiKey':decryptRSA(secure[_0x298eaa(0x209)],_0x265391[_0x298eaa(0x2c3)]),'apiSecret':decryptRSA(secure[_0x298eaa(0x209)],_0x265391[_0x298eaa(0x27d)])};_0x265391[_0x298eaa(0x1e1)]&&(_0x265391['apiPassword']=decryptRSA(secure[_0x298eaa(0x209)],_0x265391['apiPassword']));let _0x411737=![];if(_0x273d57){_0x265391[_0x298eaa(0x2c3)]==_0x298eaa(0x172)?_0x265391[_0x298eaa(0x2c3)]=config[_0x298eaa(0x2c3)]:_0x411737=!![];_0x265391[_0x298eaa(0x27d)]==_0x298eaa(0x172)?_0x265391[_0x298eaa(0x27d)]=config[_0x298eaa(0x27d)]:_0x411737=!![];if(_0x265391[_0x298eaa(0x1e1)]=='************')_0x265391['apiPassword']=config[_0x298eaa(0x1e1)];else{if(_0x265391[_0x298eaa(0x1e1)])_0x411737=!![];}dbConfig[_0x298eaa(0x116)](_0x298eaa(0x1a4))['find']({'botID':botID})[_0x298eaa(0x1c5)](_0x265391)[_0x298eaa(0x25e)]();}else dbConfig[_0x298eaa(0x116)](_0x298eaa(0x1a4))[_0x298eaa(0x1b6)](_0x265391)[_0x298eaa(0x25e)](),_0x411737=!![],process['send']({'status':_0x298eaa(0x250),'live':_0x298eaa(0x216)},_0x284a4a=>{});process[_0x298eaa(0x13b)]({'botname':_0x265391[_0x298eaa(0x2cf)]},_0x596bca=>{}),config={..._0x265391},updateBotManager(),proxyEmit(_0x298eaa(0x1b4)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x411737)await reset(!![]);else _0x320cf6||_0x2c98bf?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x3749da){const _0x490504=_0x3e0ee0,_0x4dd574={...config,'headless':_0x3749da[_0x490504(0x160)]};let _0x5bd66e=dbConfig[_0x490504(0x116)]('bot')[_0x490504(0x165)]({'botID':botID})[_0x490504(0x21e)]();_0x5bd66e&&dbConfig[_0x490504(0x116)](_0x490504(0x1a4))[_0x490504(0x165)]({'botID':botID})[_0x490504(0x1c5)](_0x4dd574)[_0x490504(0x25e)](),config={..._0x4dd574},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x2c57e1){const _0x24d9a1=_0x3e0ee0,_0x439233={...config,'fiat':_0x2c57e1};let _0x1379de=dbConfig[_0x24d9a1(0x116)](_0x24d9a1(0x1a4))['find']({'botID':botID})[_0x24d9a1(0x21e)]();_0x1379de&&dbConfig[_0x24d9a1(0x116)]('bot')[_0x24d9a1(0x165)]({'botID':botID})[_0x24d9a1(0x1c5)](_0x439233)[_0x24d9a1(0x25e)](),config={..._0x439233},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x28e1a5=_0x3e0ee0;logger[_0x28e1a5(0x294)]('Resetting\x20bot\x20history');try{if(fs[_0x28e1a5(0x232)](path['join'](configpath,_0x28e1a5(0x192)+botID+_0x28e1a5(0x197))))fs[_0x28e1a5(0x13c)](path['join'](configpath,'bot-'+botID+_0x28e1a5(0x197)));if(fs[_0x28e1a5(0x232)](path[_0x28e1a5(0x159)](configpath,_0x28e1a5(0x192)+botID+'-performance.json')))fs[_0x28e1a5(0x13c)](path['join'](configpath,_0x28e1a5(0x192)+botID+'-performance.json'));if(fs[_0x28e1a5(0x232)](path[_0x28e1a5(0x159)](configpath,'bot-'+botID+_0x28e1a5(0x240))))fs['unlinkSync'](path[_0x28e1a5(0x159)](configpath,'bot-'+botID+'-results.json'));}catch(_0x12815b){if(_0x12815b)logger[_0x28e1a5(0x294)](_0x28e1a5(0x20b),_0x12815b);}const _0x6c4506=getDate();let _0x2ba1af=[];currentCoins[_0x28e1a5(0x21c)](_0x23694d=>{const _0x4959e2=_0x28e1a5;_0x2ba1af[_0x4959e2(0x1b6)]({'coin':_0x23694d[_0x4959e2(0x1b9)],'number':_0x23694d[_0x4959e2(0x2d5)],'price':_0x23694d[_0x4959e2(0x135)]});});let _0x24958b=dbConfig[_0x28e1a5(0x116)](_0x28e1a5(0x1a4))[_0x28e1a5(0x165)]({'botID':botID})[_0x28e1a5(0x21e)]();_0x24958b&&(dbConfig[_0x28e1a5(0x116)](_0x28e1a5(0x1a4))['find']({'botID':botID})[_0x28e1a5(0x1c5)]({'liquidity':[{'date':_0x6c4506,'changes':_0x2ba1af}]})['write'](),config[_0x28e1a5(0x180)]=[]),restartBot(!![]);}function noslash(_0x369bec){return _0x369bec['replace']('/','');}function updateHighestFee(_0x17d8a1){const _0xb776ce=_0x3e0ee0;if(_0x17d8a1[_0xb776ce(0x298)]){let _0x2772e2={'filled':_0x17d8a1[_0xb776ce(0x2ae)]*_0x17d8a1[_0xb776ce(0x265)],'amount':_0x17d8a1[_0xb776ce(0x2ae)]*_0x17d8a1['price'],'side':_0x17d8a1[_0xb776ce(0x199)]==_0xb776ce(0x1ea)?'buy':_0xb776ce(0x1ea),'price':0x1/_0x17d8a1['price']};_0x17d8a1={..._0x17d8a1,..._0x2772e2};}const _0x1ea523=defaultFee*_0x17d8a1['filled']*_0x17d8a1[_0xb776ce(0x265)];lastFees[_0xb776ce(0x1c3)][_0xb776ce(0x14a)]===0x14&&lastFees[_0xb776ce(0x1c3)][_0xb776ce(0x20d)](),lastFees['recent20'][_0xb776ce(0x1b6)](_0x1ea523),lastFees['highest']=Math['max'](...lastFees[_0xb776ce(0x1c3)]);}async function updateNumberCoinsCcxt(_0x13fdff){const _0x389082=_0x3e0ee0;logger[_0x389082(0x17f)](_0x389082(0x292)+_0x13fdff['symbol']+'\x20|\x20'+_0x13fdff[_0x389082(0x149)]+'\x20|\x20'+_0x13fdff[_0x389082(0x2ae)]+'\x20/\x20'+_0x13fdff[_0x389082(0x13d)]+_0x389082(0x20c)+_0x13fdff['id']);let _0xffad17=_0x13fdff[_0x389082(0x149)],_0x5ed727=![];currentCoins[_0x389082(0x21c)](_0x2cfa6a=>{const _0xff9758=_0x389082;_0x2cfa6a['symbol']==_0x13fdff[_0xff9758(0x221)]&&(_0x5ed727=!![]);});if(!_0x5ed727)return;const _0xa012a0=currentCoins[_0x389082(0x165)](_0x21751d=>_0x21751d[_0x389082(0x221)]==_0x13fdff[_0x389082(0x221)]),_0x56a5b0=_0xa012a0[_0x389082(0x1b9)],_0x3b9a38=_0xa1c1a1=>{const _0x1aed90=_0x389082,_0x1c657a=currentCoins[_0x1aed90(0x165)](_0x42da55=>_0x42da55[_0x1aed90(0x221)]==_0x13fdff[_0x1aed90(0x221)]);if(_0x1c657a)_0x1c657a[_0x1aed90(0x12f)]=_0xa1c1a1;};let _0x450a59=![];for(const _0x66b685 of lastOrders){const _0x2e90bd=0x64,_0x4a81be=0x1388;let _0x595a22=0x0;while(!_0x66b685['orderId']&&_0x595a22*_0x2e90bd<_0x4a81be){_0x595a22++,await sleep(_0x2e90bd);}if(_0x595a22>0x0)logger[_0x389082(0x17f)]('Waited\x20'+_0x595a22*_0x2e90bd/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x66b685[_0x389082(0x174)]==_0x13fdff['id']&&(_0x450a59=!![]);}if(_0xffad17==_0x389082(0x2a2)){_0x3b9a38(_0x389082(0x2a2));if(_0x13fdff[_0x389082(0x2ae)]>0x0&&_0x13fdff[_0x389082(0x2ae)]<_0x13fdff[_0x389082(0x13d)]){if(_0x450a59){setBlockTransactionDetection(!![]),logger[_0x389082(0x17f)](_0x389082(0x214)+_0x13fdff[_0x389082(0x2ae)]+_0x389082(0x1b0)+_0x13fdff['id']);const _0x49c5c6=await getCoins(balanceUpdateDelay,undefined,undefined,_0x56a5b0);[currentCoins,currentCoinsAll]=_0x49c5c6,setBlockTransactionDetection(![]);}else logger[_0x389082(0x17f)]('1\x20-\x20partially\x20FILLED\x20('+_0x13fdff[_0x389082(0x2ae)]+_0x389082(0x2dc)+_0x13fdff['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0xffad17==_0x389082(0x129)){_0x3b9a38(_0x389082(0x129)),lastOrders=lastOrders['filter'](_0x3158dc=>_0x3158dc[_0x389082(0x221)]!=_0x13fdff['symbol']);const _0x538e54=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x538e54,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0xffad17=='closed'){if(lastOrders)for(const _0xb2bc4d of lastOrders){if(_0xb2bc4d['orderId']==_0x13fdff['id']){logger[_0x389082(0x17f)](_0x389082(0x230)+_0x13fdff['id']),_0x450a59=!![];if(_0xb2bc4d[_0x389082(0x2ae)]==0x0){setBlockTransactionDetection(!![]),logger[_0x389082(0x17f)](_0x389082(0x226)+_0x13fdff['id']);if(_0x13fdff['average'])_0xb2bc4d[_0x389082(0x265)]=_0x13fdff['average'];else{if(_0x13fdff[_0x389082(0x265)])_0xb2bc4d[_0x389082(0x265)]=_0x13fdff[_0x389082(0x265)];else{}}_0xb2bc4d[_0x389082(0x2ae)]=_0x13fdff['filled'],updateHighestFee(_0xb2bc4d);const _0x8d1869=await getCoins(balanceUpdateDelay,undefined,undefined,_0x56a5b0);[currentCoins,currentCoinsAll]=_0x8d1869,setBlockTransactionDetection(![]),await validateOrders(),_0x3b9a38('filled'),_0xb2bc4d['fee']={'currency':_0x13fdff[_0x389082(0x1bc)]?_0x13fdff[_0x389082(0x1bc)][_0x389082(0x179)]:null,'cost':_0x13fdff[_0x389082(0x1bc)]?_0x13fdff[_0x389082(0x1bc)]['cost']:0x0},await updatePnL(_0xb2bc4d);}}}!_0x450a59&&(logger['debug'](_0x389082(0x187)+_0x13fdff['id']),_0x3b9a38(_0x389082(0x2ae)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x43bb3d=JSON['parse'](lastBalances[_0x389082(0x207)]);const _0x4107fd=_0x43bb3d[_0x389082(0x165)](_0x285ab0=>_0x285ab0[_0x389082(0x221)]==_0x13fdff[_0x389082(0x221)]);if(_0x4107fd){if(_0xffad17=='open')_0x4107fd[_0x389082(0x12f)]=_0x4107fd[_0x389082(0x12f)]==_0x389082(0x2ae)?'filled':_0x389082(0x2a2);else{if(_0xffad17==_0x389082(0x129))_0x4107fd[_0x389082(0x12f)]=_0x4107fd[_0x389082(0x12f)]==_0x389082(0x2ae)?_0x389082(0x2ae):'canceled';else _0xffad17=='closed'&&(_0x4107fd[_0x389082(0x12f)]=_0x389082(0x2ae));}}lastBalances={...lastBalances,'portfolio':JSON[_0x389082(0x1fb)](_0x43bb3d)},proxyEmit(_0x389082(0x1c0),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x560a20=_0x3e0ee0;await getOpenOrders();let _0x4a73bf=![];currentCoins[_0x560a20(0x21c)](_0x3ae517=>{const _0x3add85=_0x560a20;_0x4a73bf=allOpenOrders['find'](_0x491910=>_0x491910['symbol']==_0x3ae517[_0x3add85(0x221)]),_0x3ae517[_0x3add85(0x12f)]=_0x4a73bf?_0x3add85(0x2a2):_0x3add85(0x17a);});}async function fetchBalance(_0x2315b6=!![]){const _0x3f2940=_0x3e0ee0;let _0x10610e,_0x1ba462,_0x4fdd50,_0x7c46c6=0x0;while(!_0x1ba462&&_0x7c46c6<maxRetries){try{return _0x10610e=await exchange[_0x3f2940(0x279)](),_0x1ba462=_0x10610e[_0x3f2940(0x162)],_0x1ba462;}catch(_0x1b561e){_0x4fdd50=_0x1b561e,_0x7c46c6++,await sleep(retryInterval);}}return!_0x2315b6?handleErrorNoStop(_0x4fdd50,_0x3f2940(0x19b)):await handleError(_0x4fdd50,'fetchBalance()'),![];}async function getCoins(_0x488b65=0x0,_0x15f47d=!![],_0x1624a7=config[_0x3e0ee0(0x183)],_0x512720){const _0x4cbfc4=_0x3e0ee0;let _0x585d6c=[],_0x195722=[],_0x86ffbb=[],_0x249a9f;if(_0x488b65)await sleep(_0x488b65);if(botPaused)return[currentCoins,currentCoinsAll];let _0x3e2a43=![],_0x4ac5b5=0x0,_0x36a99f,_0x3f5760;_0x512720&&(_0x36a99f=currentCoins[_0x4cbfc4(0x165)](_0x536692=>_0x536692[_0x4cbfc4(0x1b9)]==_0x512720),_0x36a99f&&(_0x3f5760=_0x36a99f[_0x4cbfc4(0x171)],delete _0x36a99f[_0x4cbfc4(0x171)]));while(!_0x3e2a43){_0x249a9f=await fetchBalance(_0x15f47d);if(_0x249a9f){if(_0x512720){if(_0x249a9f[_0x512720]!=_0x3f5760)logger[_0x4cbfc4(0x17f)](_0x4cbfc4(0x273)+_0x512720+':\x20'+_0x249a9f[_0x512720]+'\x20('+_0x3f5760+')'),_0x3e2a43=!![];else{logger[_0x4cbfc4(0x17f)](_0x4cbfc4(0x198)+_0x512720+':\x20'+_0x249a9f[_0x512720]+'\x20('+_0x3f5760+')'),_0x4ac5b5++;if(_0x4ac5b5<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x4cbfc4(0x17f)]('Stopped\x20fetching\x20balance\x20after\x20'+_0x4ac5b5+_0x4cbfc4(0x23f));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x210163,_0x2329a8]of Object[_0x4cbfc4(0x299)](_0x249a9f)){_0x86ffbb['push'](_0x210163);}config[_0x4cbfc4(0x207)][_0x4cbfc4(0x21c)](_0x5ad419=>{const _0x34500d=_0x4cbfc4;!_0x86ffbb[_0x34500d(0x2b0)](_0x5ad419[_0x34500d(0x1b9)])&&(_0x249a9f[_0x5ad419[_0x34500d(0x1b9)]]=0x0);});if(_0x1624a7=='')for(const [_0x821656,_0x24ece6]of Object[_0x4cbfc4(0x299)](_0x249a9f)){_0x24ece6!=0x0&&_0x585d6c[_0x4cbfc4(0x1b6)]({'coin':_0x821656});}else for(const [_0x1bb712,_0x4e212e]of Object[_0x4cbfc4(0x299)](_0x249a9f)){const _0xf773f3=config[_0x4cbfc4(0x207)][_0x4cbfc4(0x165)](_0x2ee681=>_0x2ee681[_0x4cbfc4(0x1b9)]==_0x1bb712),_0xd3a589=_0x1bb712+'/'+_0x1624a7,_0x1c6ce8=_0x1624a7+'/'+_0x1bb712,_0x407a7d=currentCoins[_0x4cbfc4(0x165)](_0x4c44e4=>_0x4c44e4[_0x4cbfc4(0x1b9)]==_0x1bb712);if((_0x4e212e!=0x0||_0xf773f3)&&(allSymbols['includes'](_0xd3a589)||_0x1bb712==_0x1624a7))_0x407a7d?_0x585d6c[_0x4cbfc4(0x1b6)]({..._0x407a7d,'number':Math[_0x4cbfc4(0x2c5)](_0x4e212e+(_0xf773f3&&_0xf773f3[_0x4cbfc4(0x16d)]||0x0),0x0)}):_0x585d6c[_0x4cbfc4(0x1b6)]({'coin':_0x1bb712,'symbol':_0xd3a589,'reverse':![],'number':Math[_0x4cbfc4(0x2c5)](_0x4e212e+(_0xf773f3&&_0xf773f3['offset']||0x0),0x0),'orderstatus':_0x4cbfc4(0x17a)});else{if((_0x4e212e!=0x0||_0xf773f3)&&allSymbols['includes'](_0x1c6ce8))_0x407a7d?_0x585d6c[_0x4cbfc4(0x1b6)]({..._0x407a7d,'number':Math['max'](_0x4e212e+(_0xf773f3&&_0xf773f3[_0x4cbfc4(0x16d)]||0x0),0x0)}):_0x585d6c[_0x4cbfc4(0x1b6)]({'coin':_0x1bb712,'symbol':_0x1c6ce8,'reverse':!![],'number':Math[_0x4cbfc4(0x2c5)](_0x4e212e+(_0xf773f3&&_0xf773f3[_0x4cbfc4(0x16d)]||0x0),0x0),'orderstatus':'none'});else _0xf773f3&&_0x585d6c['push']({'coin':_0xf773f3['coin'],'symbol':_0xf773f3['symbol'],'reverse':_0xf773f3['reverse'],'number':0x0,'orderstatus':_0x4cbfc4(0x17a)});}}return _0x585d6c[_0x4cbfc4(0x1ce)]((_0x423e5b,_0x3195cc)=>_0x423e5b[_0x4cbfc4(0x220)]<_0x3195cc[_0x4cbfc4(0x220)]?0x1:_0x3195cc[_0x4cbfc4(0x220)]<_0x423e5b[_0x4cbfc4(0x220)]?-0x1:0x0),_0x195722=cloneDeep(_0x585d6c),_0x585d6c=_0x585d6c[_0x4cbfc4(0x117)](_0x14e14e=>{const _0x17bdac=_0x4cbfc4,_0xe70291=config[_0x17bdac(0x207)]['find'](_0x29c8bd=>_0x29c8bd[_0x17bdac(0x1b9)]==_0x14e14e[_0x17bdac(0x1b9)]);return _0xe70291&&!_0xe70291[_0x17bdac(0x16c)];}),[_0x585d6c,_0x195722];}async function getOpenOrders(){const _0x277e0d=_0x3e0ee0;let _0x593256;allOpenOrders=[];try{for(const _0x40c461 of config['portfolio']){!_0x40c461[_0x277e0d(0x16c)]&&_0x40c461[_0x277e0d(0x1b9)]!=config[_0x277e0d(0x183)]&&(_0x593256=await exchange['fetchOpenOrders'](_0x40c461[_0x277e0d(0x221)]),_0x593256['length']>0x0&&allOpenOrders['push'](_0x593256[0x0]));}}catch(_0x11a66f){await handleError(_0x11a66f,_0x277e0d(0x2ad));}}async function handleOpenOrders(_0x483695=0x0){const _0x4a7925=_0x3e0ee0;allOpenOrders[_0x4a7925(0x14a)]==0x0&&lockOrders==ORDERS[_0x4a7925(0x23a)]&&allOrdersPlaced&&(_0x483695==0x0?(logger[_0x4a7925(0x17f)]('1\x20-\x20Handle\x20open\x20orders'),_0x483695++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x4a7925(0x17f)](_0x4a7925(0x1f9)),validateOrders('no\x20open\x20orders')));}async function testAPI(){const _0x1842a7=_0x3e0ee0;try{return await exchange['fetchBalance'](),!![];}catch(_0x2e9fb4){loading[_0x1842a7(0x2c0)]=!![],_0x2e9fb4[_0x1842a7(0x1bb)]()[_0x1842a7(0x1a7)]()['includes'](_0x1842a7(0x155))||_0x2e9fb4[_0x1842a7(0x1bb)]()[_0x1842a7(0x1a7)]()['includes']('request-time')?(logHistory(_0x1842a7(0x175),_0x1842a7(0x278)),loading[_0x1842a7(0x175)]='timestamp-issue'):handleErrorNoStop(_0x2e9fb4,'testAPI()',!![]),logHistory(_0x1842a7(0x175),_0x1842a7(0x256)),logHistory(_0x1842a7(0x175),_0x1842a7(0x27e)+loadCoinsRetryInterval/0xea60+_0x1842a7(0x195)),logger[_0x1842a7(0x17f)](_0x1842a7(0x280),_0x2e9fb4),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x2c5cff){const _0xaeb05b=_0x3e0ee0;logger[_0xaeb05b(0x17f)](_0xaeb05b(0x264));const _0x1cf8cc=ccxt['pro'][_0x2c5cff[_0xaeb05b(0x137)][_0xaeb05b(0x1a7)]()],_0x312ed7=new _0x1cf8cc({'apiKey':_0x2c5cff[_0xaeb05b(0x2c3)],'secret':_0x2c5cff[_0xaeb05b(0x27d)],'options':{'defaultType':_0xaeb05b(0x1a6)}});if(_0x2c5cff[_0xaeb05b(0x1e1)])_0x312ed7['password']=_0x2c5cff[_0xaeb05b(0x1e1)];if(_0x312ed7[_0xaeb05b(0x15c)]['sandbox'])_0x312ed7['setSandboxMode'](_0x2c5cff[_0xaeb05b(0x2e5)]);try{await _0x312ed7['fetchBalance'](),botPaused=![];}catch(_0x45888b){logger['debug'](_0xaeb05b(0x205)+_0x45888b[_0xaeb05b(0x1bb)]());throw _0x45888b;}}function cloneDeep(_0x452c23){const _0x2e38f8=_0x3e0ee0;return JSON[_0x2e38f8(0x2be)](JSON[_0x2e38f8(0x1fb)](_0x452c23));}async function getPortfolio(_0x52b993){const _0x135d12=_0x3e0ee0;let _0x5f5f2a=[],_0x2de2dc=[],_0x28d621=[],_0x36fe69;_0x52b993['apiKey']=decryptRSA(secure['privateKey'],_0x52b993[_0x135d12(0x2c3)]),_0x52b993['apiSecret']=decryptRSA(secure[_0x135d12(0x209)],_0x52b993[_0x135d12(0x27d)]);if(_0x52b993[_0x135d12(0x1e1)])_0x52b993['apiPassword']=decryptRSA(secure[_0x135d12(0x209)],_0x52b993[_0x135d12(0x1e1)]);if(_0x52b993[_0x135d12(0x2c3)]!==_0x135d12(0x172)||_0x52b993[_0x135d12(0x27d)]!==_0x135d12(0x172)||_0x52b993[_0x135d12(0x1e1)]&&_0x52b993['apiPassword']!=='************'){if(config[_0x135d12(0x137)]){if(_0x52b993[_0x135d12(0x2c3)]=='************')_0x52b993['apiKey']=config[_0x135d12(0x2c3)];if(_0x52b993[_0x135d12(0x27d)]==_0x135d12(0x172))_0x52b993[_0x135d12(0x27d)]=config[_0x135d12(0x27d)];if(_0x52b993['apiPassword']=='************')_0x52b993[_0x135d12(0x1e1)]=config['apiPassword'];}try{if(_0x52b993[_0x135d12(0x11c)])await testNewAPI(_0x52b993);}catch(_0x34b705){if(_0x34b705[_0x135d12(0x1bb)]()[_0x135d12(0x2b0)](_0x135d12(0x13e))){logHistory(_0x135d12(0x175),_0x135d12(0x166)),logHistory(_0x135d12(0x175),'Error\x20details:\x20'+_0x34b705[_0x135d12(0x1bb)]()),proxyEmit(_0x135d12(0x296),![]);return;}else{if(_0x34b705['toString']()['includes'](_0x135d12(0x215))){logHistory(_0x135d12(0x175),_0x135d12(0x213)),logHistory(_0x135d12(0x175),_0x135d12(0x2d6)+_0x34b705['toString']()),proxyEmit(_0x135d12(0x296),![]);return;}else{logHistory('error',_0x135d12(0x1ab)+_0x34b705['toString']()),logger['debug'](_0x135d12(0x280),_0x34b705),proxyEmit(_0x135d12(0x296),![]);return;}}}exchange?updateExchange(_0x52b993['apiKey'],_0x52b993[_0x135d12(0x27d)],_0x52b993[_0x135d12(0x1e1)]):await initExchange(_0x52b993['exchange'],_0x52b993[_0x135d12(0x2c3)],_0x52b993[_0x135d12(0x27d)],_0x52b993[_0x135d12(0x1e1)],_0x52b993[_0x135d12(0x2e5)]);await loadSymbols();const _0x21ef48=await getCoins(0x0,![],_0x52b993[_0x135d12(0x183)]);_0x28d621=cloneDeep(_0x21ef48[0x1]);}else{const _0x153acc=await getCoins();_0x28d621=cloneDeep(_0x153acc[0x1]);}if(_0x52b993['basecoin']=='')proxyEmit(_0x135d12(0x296),!![]),proxyEmit('portfolio2',_0x28d621);else{_0x28d621[_0x135d12(0x21c)](_0x3425b1=>{const _0x172ffe=_0x135d12;if(_0x3425b1[_0x172ffe(0x1b9)]!=_0x52b993[_0x172ffe(0x183)]&&allSymbols[_0x172ffe(0x2b0)](_0x3425b1[_0x172ffe(0x221)]))_0x5f5f2a[_0x172ffe(0x1b6)](_0x3425b1[_0x172ffe(0x221)]);});if(_0x5f5f2a[_0x135d12(0x14a)]==0x0)logHistory(_0x135d12(0x175),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x2de2dc=await getTickers(_0x5f5f2a);}catch(_0x1d5a9f){logHistory('error',_0x135d12(0x228)),logger[_0x135d12(0x17f)](_0x135d12(0x280),_0x1d5a9f),proxyEmit(_0x135d12(0x296),![]);return;}_0x28d621[_0x135d12(0x21c)](_0x19b612=>{const _0x1d3153=_0x135d12;_0x19b612['coin']!=_0x52b993[_0x1d3153(0x183)]?_0x2de2dc[_0x19b612[_0x1d3153(0x221)]]?_0x2de2dc[_0x19b612[_0x1d3153(0x221)]]['last']?_0x36fe69=_0x19b612[_0x1d3153(0x298)]?0x1/_0x2de2dc[_0x19b612[_0x1d3153(0x221)]][_0x1d3153(0x135)]:_0x2de2dc[_0x19b612[_0x1d3153(0x221)]][_0x1d3153(0x135)]:_0x36fe69=0x0:_0x36fe69=0x0:_0x36fe69=0x1,_0x19b612[_0x1d3153(0x265)]=formatResult(_0x36fe69,0x8);}),await getMarketCap(_0x28d621),proxyEmit('portfolio1',!![]),proxyEmit(_0x135d12(0x2cc),_0x28d621);}}}function truncateTradeAmount(_0x5374d9,_0x2a0cf8){let _0x38e490=0x0;try{_0x38e490=exchange['amountToPrecision'](_0x5374d9,_0x2a0cf8);}catch(_0xe412c6){}return _0x38e490;}function checkMinimums(_0x5d251f){const _0x4fd451=_0x3e0ee0;let _0x33606c=!![];const _0xd32c08=!_0x5d251f['reverse']?markets[_0x5d251f[_0x4fd451(0x221)]][_0x4fd451(0x1a8)][_0x4fd451(0x13d)]['min']:markets[_0x5d251f['symbol']][_0x4fd451(0x1a8)][_0x4fd451(0x206)][_0x4fd451(0x177)],_0x587c00=!_0x5d251f[_0x4fd451(0x298)]?markets[_0x5d251f[_0x4fd451(0x221)]][_0x4fd451(0x1a8)][_0x4fd451(0x206)][_0x4fd451(0x177)]:markets[_0x5d251f[_0x4fd451(0x221)]]['limits']['amount']['min'],_0x180012=truncateTradeAmount(_0x5d251f[_0x4fd451(0x221)],_0x5d251f[_0x4fd451(0x2cd)]);_0x5d251f['trade']=_0x180012;if(Math[_0x4fd451(0x10b)](_0x180012)<_0xd32c08)_0x33606c=![];if(Math[_0x4fd451(0x10b)](_0x180012)*_0x5d251f[_0x4fd451(0x135)]<_0x587c00)_0x33606c=![];let _0x1cb2b3='';if(_0x5d251f[_0x4fd451(0x199)]=='sell'){let _0x550c0b=config[_0x4fd451(0x207)][_0x4fd451(0x165)](_0x48046b=>_0x48046b[_0x4fd451(0x1b9)]==_0x5d251f[_0x4fd451(0x1b9)]);_0x550c0b[_0x4fd451(0x16d)]>0x0?Math[_0x4fd451(0x10b)](_0x180012)>_0x5d251f[_0x4fd451(0x2d5)]-_0x550c0b[_0x4fd451(0x16d)]&&(_0x33606c=![],_0x1cb2b3=_0x4fd451(0x266)+_0x550c0b[_0x4fd451(0x1b9)]+_0x4fd451(0x222)):Math[_0x4fd451(0x10b)](_0x180012)>_0x5d251f['number']&&(_0x33606c=![]);}if(_0x5d251f[_0x4fd451(0x199)]==_0x4fd451(0x128)){let _0x3ade3c=config['portfolio'][_0x4fd451(0x165)](_0x31af47=>_0x31af47[_0x4fd451(0x1b9)]==config[_0x4fd451(0x183)]),_0x55acb8=currentCoins[_0x4fd451(0x165)](_0x3dbd78=>_0x3dbd78[_0x4fd451(0x1b9)]==config['basecoin']);_0x3ade3c['offset']>0x0?Math[_0x4fd451(0x10b)](_0x180012)*_0x5d251f['last']>_0x55acb8[_0x4fd451(0x2d5)]-_0x3ade3c[_0x4fd451(0x16d)]&&(_0x33606c=![],_0x1cb2b3='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config['basecoin']+_0x4fd451(0x222)):Math[_0x4fd451(0x10b)](_0x180012)*_0x5d251f[_0x4fd451(0x135)]>_0x55acb8['number']&&(_0x33606c=![]);}return!_0x33606c&&_0x1cb2b3&&!insufficientFundsWarningSent[_0x4fd451(0x2b0)](_0x5d251f[_0x4fd451(0x1b9)])&&(logHistory('warning',_0x1cb2b3),insufficientFundsWarningSent['push'](_0x5d251f[_0x4fd451(0x1b9)])),_0x33606c;}async function getBalances(_0x18ed10=!![]){const _0x40f001=_0x3e0ee0;if(botPaused)return;let _0x74f8b1=0x0,_0x520610;const _0x1d7a4d=config['threshold'];if(config[_0x40f001(0x160)]&&config[_0x40f001(0x1e5)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x181a9d=>{const _0x3a90eb=_0x40f001;if(_0x181a9d[_0x3a90eb(0x1b9)]!=config[_0x3a90eb(0x183)]){let _0x12cefa=gTicker[noslash(_0x181a9d[_0x3a90eb(0x221)])];_0x520610=_0x181a9d[_0x3a90eb(0x298)]?0x1/_0x12cefa:_0x12cefa;}else _0x520610=0x1;let _0x1a1d9e=_0x181a9d[_0x3a90eb(0x2d5)]*_0x520610;_0x74f8b1+=_0x1a1d9e,_0x181a9d[_0x3a90eb(0x135)]=formatResult(Number(_0x520610),0x8),_0x181a9d[_0x3a90eb(0x21e)]=_0x1a1d9e;}),currentCoins[_0x40f001(0x21c)](_0x285886=>{const _0x4af8a1=_0x40f001;let _0x2ec719=config[_0x4af8a1(0x207)]['find'](_0x1776d2=>_0x1776d2[_0x4af8a1(0x1b9)]==_0x285886['coin']),_0xc9173f=Number(_0x2ec719[_0x4af8a1(0x22f)]),_0x4d3c1b=_0x285886['value']/_0x74f8b1*0x64,_0xde46e0=_0xc9173f*_0x74f8b1/0x64/_0x285886['last']-_0x285886[_0x4af8a1(0x2d5)];_0x285886[_0x4af8a1(0x22f)]=formatResult(_0x4d3c1b,0x3),_0x285886['target']=formatResult(_0xc9173f,0x3),_0x285886['trade']=formatResult(_0xde46e0,0x8),_0x285886['side']='',_0x285886[_0x4af8a1(0x1ec)]=![];if(_0x285886[_0x4af8a1(0x1b9)]!=config[_0x4af8a1(0x183)]){if(_0x285886['distribution']>_0xc9173f)_0x285886[_0x4af8a1(0x199)]='sell',_0x285886[_0x4af8a1(0x1ec)]=checkMinimums(_0x285886);else _0x285886[_0x4af8a1(0x22f)]<_0xc9173f&&(_0x285886[_0x4af8a1(0x199)]=_0x4af8a1(0x128),_0x285886[_0x4af8a1(0x1ec)]=checkMinimums(_0x285886));}_0x285886[_0x4af8a1(0x220)]=_0x285886[_0x4af8a1(0x22f)]/_0x285886['target']-0x1;if(_0x285886[_0x4af8a1(0x12f)]=='filled'||_0x285886[_0x4af8a1(0x12f)]==_0x4af8a1(0x129))_0x285886['orderstatus']=_0x4af8a1(0x17a);}),currentCoins[_0x40f001(0x1ce)]((_0x4fc5fa,_0x390275)=>_0x4fc5fa[_0x40f001(0x220)]<_0x390275[_0x40f001(0x220)]?0x1:_0x390275[_0x40f001(0x220)]<_0x4fc5fa['delta']?-0x1:0x0);const _0x556b12=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x556b12[_0x40f001(0x288)],'usd':_0x556b12[_0x40f001(0x295)],'portfolio':JSON[_0x40f001(0x1fb)](currentCoins),'threshold':_0x1d7a4d},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x18ed10){if(config[_0x40f001(0x160)])headlessMode({'portfolio':currentCoins,'threshold':_0x1d7a4d});else lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x1d7a4d});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x3527c3=getNormalizedPerformance();getStartingBalances(_0x3527c3),emitPerformance(_0x3527c3);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x4251a3=_0x3e0ee0;let _0x2b73e7=dbCoinResults[_0x4251a3(0x116)](_0x4251a3(0x1c4))[_0x4251a3(0x21e)](),_0x4bbbd1=0x0;return Object[_0x4251a3(0x299)](_0x2b73e7)['forEach'](([_0x16da63,_0x381c9e])=>{const _0x41c013=_0x4251a3;_0x4bbbd1+=_0x381c9e[_0x41c013(0x1de)];}),_0x4bbbd1;}async function storePerformance(){const _0x419581=_0x3e0ee0;if(!lastBalances)return;let _0x5640ff=[],_0x3de303;const _0x4ce665=getPnL();let _0x6925f1=JSON[_0x419581(0x2be)](lastBalances[_0x419581(0x207)]);_0x6925f1[_0x419581(0x1ce)]((_0x2cd30e,_0x29a8ba)=>_0x2cd30e[_0x419581(0x1b9)]>_0x29a8ba[_0x419581(0x1b9)]?0x1:_0x29a8ba[_0x419581(0x1b9)]>_0x2cd30e[_0x419581(0x1b9)]?-0x1:0x0),_0x6925f1[_0x419581(0x21c)](_0x214159=>{let _0x29fb9f={'coin':_0x214159['coin'],'number':_0x214159['number'],'price':_0x214159['last']};_0x5640ff['push'](_0x29fb9f);});const _0x36ae46=await getFiat(),_0xcd9bf3=getTimeStamp()[_0x419581(0x16a)]('\x20')[0x0],_0x274e61=dbPerformance['get']('data')[_0x419581(0x165)]({'date':_0xcd9bf3})[_0x419581(0x21e)]();_0x3de303={'date':_0xcd9bf3,'eur':_0x36ae46[_0x419581(0x288)],'usd':_0x36ae46[_0x419581(0x295)],'coins':_0x5640ff,'pnl':_0x4ce665},_0x274e61?_0x3de303[_0x419581(0x147)]!=config[_0x419581(0x2cb)]&&dbPerformance['get']('data')[_0x419581(0x165)]({'date':_0xcd9bf3})[_0x419581(0x1c5)](_0x3de303)[_0x419581(0x25e)]():dbPerformance[_0x419581(0x116)](_0x419581(0x19e))['push'](_0x3de303)['write'](),lastPerformanceStored=getHour();}function _0x1b99(){const _0x4c3d90=['Limit\x20(low-margin)','Initializing\x20exchange','ID:\x20','\x20network\x20error:\x20','emojibuy','cancelOrder','***','\x20-\x20go\x20back\x20and\x20try\x20again','Invalid\x20quantity','1033832hvCvfG','timeshift','quote','mkdirSync','apply','Bot\x20','enabled','writeFile','Insufficient\x20funds\x20to\x20execute\x20order:\x20','PAXG','random','format','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','threshold','process\x20','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','createOrder','order','001','UNLOCKING','write','exchanges','status\x20code\x20401','cloneDeep','RETRY\x20-\x20Error\x20in\x20','Manual\x20balancing\x20required','Test\x20new\x20API','price','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','\x20order:\x20','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','yargs/yargs','indexOf','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','\x20minutes\x20-\x20','marketcapApi','starting-balances','splice','net','switch-manual','API-key\x20format\x20invalid','Valid\x20balance\x20for\x20','pnl-basecoin','ongoing','round','<b>','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','fetchBalance','decode64','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','sells','apiSecret','Pausing\x20for\x20','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Error\x20details:','BTC','Unknown\x20error:\x20','cooldown','addDays','/USD','event-history','customId','eur','946104IjoGeL','changes','Huobipro','<pre>','1zvJBfR','RETRY\x20-\x20Problem\x20resolved\x20after\x20','log','2\x20-\x20Validate\x20orders:\x20','set','0\x20-\x20EXECUTION:\x20','Generating\x20PnL\x20data','full','usd','portfolio1','onepagemode','reverse','entries','logs','performance','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','storeHeadless','add','request-time','marketcap','Trigger:\x20','open','openOrders','isEqual','USDT','argv','initclient','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','startnumber','recovery','settings','percentage','getOpenOrders()','filled','\x20metrics:</b>\x20\x0a\x0a','includes','Exception\x20thrown\x20in\x20','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','InvalidNonce','floor','2.6.22','./version.json','getSeconds','marketcapEnabled','function','isBefore','uncaughtException','\x20-\x20bot\x20not\x20started','parse','Executed\x20','cancel','Network\x20error\x20details:','Cryptocom','apiKey','USDC','max','PnL\x20','bid','Generated\x20PnL\x20data','OrderNotFound','/output-000.log','startdate','portfolio2','trade','InvalidOrder','botname','timestamp-issue','slice','Order\x20filled','\x20>\x20','limit','number','Error\x20details:\x20','coin-loading-progress','Market','bb-settings.json',':\x20Bot\x20','kill',')\x20unknown\x20order:\x20','type','Error:\x20Invalid\x20argument\x20','pki','watchTradesForSymbols()','startprice','defaults','storeConfiguration','12tZVILR','sandbox','update-liquidity','UNLOCKED','Fee\x20discount\x20refund\x20detected:\x20','Unfilled\x20order(s)\x20canceled\x20after\x20','loadSymbols()','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','limit-high','abs',')\x20|\x20exchange:\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','padStart','Portfolio\x20change\x20detected:\x20','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','final','12mrKtMG','quick','showConfig','get','filter','botID','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','buys','password','testApi','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','-------------------------------\x0a','emojisell','Avoiding\x20continuous\x20order\x20attempts','\x20exchange\x20error:\x20','map','Huobi','netoffset','\x0aSymbol(s):\x20','warning','1\x20-\x20Validate\x20orders:\x20','buy','canceled','watchOrders()','autoliquidity','\x20API\x20key\x20is\x20invalid','complete','\x20>\x20[DEBUG]\x20','orderstatus','highest','sha256','fetchOpenOrders','Exchange','\x20>\x20pausing\x20bot\x20for\x20','last','added','exchange','balancing\x20resumes\x20when\x20cooldown\x20ends','pnl-fiat','bots','send','unlinkSync','amount','AuthenticationError','api-issue','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Failed\x20to\x20load\x20coin\x20data\x20for\x20','constructor','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','page','1880291VjeAoN','message','date','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','status','length','ask','%)\x0a','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','keys','slider','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','exchange\x20reload','createWriteStream','RequestTimeout','fetchTicker','timestamp','\x20hour','args','Headless:\x20','join','red_yellow_blue','basecoinvalue','has','Resuming\x20(','\x20|\x20exchange:\x20','privateKeyFromPem','headless','\x20API\x20secret\x20is\x20invalid','total','watchTrades()','recreate','find','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','TUSD','-performance.json','success','split','Order\x20amount\x20is\x20invalid:\x20','excluded','offset','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','date-fns','detectLiquidityChange()','prevnumber','************','getFullYear','orderId','error','%\x20(','min','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','currency','none','Net\x20','lowdb','decrypt','\x20minutes','debug','liquidity','Bitget','ordertype','basecoin','ETH','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','setSandboxMode','1\x20-\x20FILLED\x20unknown\x20order:\x20','search','no\x20open\x20orders','toUpperCase','version',':\x20timer\x20>','loadMarkets','cancelLoading','Initializing\x20coin\x20results','watchOrders','fromCodePoint','bot-','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','2.7.1','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','initial','-events.json','Invalid\x20balance\x20for\x20','side','secret','fetchBalance()','breakeven','placeOrder','data','\x20|\x20lock\x20orders:\x20','Order\x20filled:\x20','resetHistory','memoryUsage','988720ruuTIA','bot','findIndex','spot','toLowerCase','limits','-config.json','ccxt','Error\x20occurred:\x20','MIN_NOTIONAL','Placing\x20order\x20for:\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','\x20MB',')\x20known\x20order:\x20','secure','token\x20is\x20expired','11508426LkMNGo','configuration-stored','timeout','push','progress','stack','coin','node-forge','toString','fee','/backup/','target','toggleBotMode','balances','active','fetchTickers()','recent20','coins','assign','Loading\x20completed','/USDT','colorscheme','getHours','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','time','\x20|\x20highest\x20fee:\x20','Initiating\x20bot\x20restart','sort','net-basecoin','2.6.23','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','configstate','Set\x20lock\x20orders\x20to:\x20','USD','yyyy/MM/dd','\x20-\x20','pro','must\x20be\x20greater\x20than\x20minimum\x20amount','replace','restart','Error\x20in\x20loadSymbols():\x20','Binance','</pre>','realizedPnL','Cooldown\x20ended\x20-\x20balancing\x20resumed','market','apiPassword','<b>Bot\x20','\x20portfolio:</b>\x20\x0a\x0a','differenceInSeconds','change24h','test','2.6.0','RateLimitExceeded','event','sell','EUR','valid','getTime','remove','pop','getMonth','balancing\x20resumed','2.3.5','USDP','Invalid\x20symbol:\x20','fiat','fetchTickers','11944330mVUpnk','toFixed','2\x20-\x20Handled\x20open\x20orders','enableFiatToggle','stringify','Saving\x20configuration','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','getMinutes','storeFiat','./config/','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Bybit','sendPortfolioTelegram','Error\x20in\x20testNewAPI():\x20','cost','portfolio','util','privateKey','showname','Error\x20while\x20deleting\x20files:\x20','\x20|\x20','shift','placeOrder()','freeze','initTickers()','\x20(see:\x20hodlerhacks.com/fix/1)','\x20uses\x20','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','1\x20-\x20partially\x20FILLED\x20(','PermissionDenied','running','/EUR','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Value\x20','substring','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','forEach','change','value','match','delta','symbol','\x20due\x20to\x20offset','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','ExchangeError','InsufficientFunds','2\x20-\x20handling\x20FILLED\x20order:\x20','limit-low','Unknown\x20error\x20-\x20check\x20logs','pnl','lowdb/adapters/FileSync','removed','1600882hQAcdM','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','./logs/','distribution','1\x20-\x20FILLED\x20known\x20order:\x20','bitmex','existsSync','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','(((.+)+)+)+$','remainingSymbols','watchTradesForSymbols','create','Reset\x20|\x20','market_cap','LOCKED','getDate','configuration','watchTrades','sqrt','\x20attempts','-results.json'];_0x1b99=function(){return _0x4c3d90;};return _0x1b99();}function getNormalizedPerformance(){const _0x342311=_0x3e0ee0;let _0x127b2b=[];if(dbPerformance[_0x342311(0x15c)](_0x342311(0x19e))[_0x342311(0x21e)]()){let _0x5e3b90=dbPerformance[_0x342311(0x116)](_0x342311(0x19e))['cloneDeep']()[_0x342311(0x117)](_0x4cbc76=>{const _0x4c861c=_0x342311;if(_0x4cbc76[_0x4c861c(0x1c4)][_0x4c861c(0x14a)]==0x0)return![];else return!![];})['sortBy'](_0x342311(0x147))['value'](),_0x2965bb=[...config['liquidity']];_0x2965bb['sort']((_0x45c4be,_0x59a84a)=>_0x45c4be[_0x342311(0x147)]>_0x59a84a[_0x342311(0x147)]?-0x1:_0x59a84a[_0x342311(0x147)]>_0x45c4be[_0x342311(0x147)]?0x1:0x0);let _0x25fba9=0x1,_0x5d47c6=[],_0x1a0efd=0x0;_0x5e3b90[_0x342311(0x2d1)]()[_0x342311(0x298)]()[_0x342311(0x21c)]((_0x47c52f,_0x395b0e)=>{const _0x4ad3db=_0x342311;if(_0x2965bb[_0x1a0efd]){if(_0x5e3b90[_0x5e3b90[_0x4ad3db(0x14a)]-_0x395b0e]&&_0x2965bb[_0x1a0efd][_0x4ad3db(0x147)]==_0x5e3b90[_0x5e3b90[_0x4ad3db(0x14a)]-_0x395b0e][_0x4ad3db(0x147)]){if(_0x395b0e<_0x5e3b90[_0x4ad3db(0x14a)]){let _0x5318f7=0x0,_0x27f878=0x0;_0x5e3b90[_0x5e3b90[_0x4ad3db(0x14a)]-_0x395b0e][_0x4ad3db(0x1c4)][_0x4ad3db(0x21c)](_0x50de76=>{const _0x42b1d7=_0x4ad3db;_0x27f878+=_0x50de76[_0x42b1d7(0x2d5)]*_0x50de76[_0x42b1d7(0x265)];}),_0x2965bb[_0x1a0efd]['changes'][_0x4ad3db(0x21c)](_0x7dada8=>{const _0x52cd8a=_0x4ad3db;_0x5318f7+=_0x7dada8[_0x52cd8a(0x2d5)]*_0x7dada8[_0x52cd8a(0x265)];}),_0x25fba9*=_0x5318f7/(_0x27f878-_0x5318f7)+0x1;}_0x1a0efd++;}}let _0x43e03d=0x0;_0x47c52f[_0x4ad3db(0x1c4)][_0x4ad3db(0x21c)](_0x385318=>{const _0x3d08b5=_0x4ad3db;_0x43e03d+=_0x385318[_0x3d08b5(0x2d5)]*_0x385318['price'];}),_0x5d47c6[_0x5e3b90[_0x4ad3db(0x14a)]-_0x395b0e-0x1]=_0x43e03d*(_0x25fba9-0x1);});let _0x2faf5f=[];_0x2965bb=[...config[_0x342311(0x180)]]||[];let _0x2153d5=0x0;_0x1a0efd=0x0,_0x5e3b90[_0x342311(0x21c)]((_0x4d109e,_0x3e423b)=>{const _0xcd2817=_0x342311;if(_0x2965bb[_0x1a0efd]){const _0x4efe4f=fns['parse'](_0x2965bb[_0x1a0efd]['date'],'yyyy/MM/dd',new Date()),_0x620d05=fns[_0xcd2817(0x2be)](_0x4d109e['date'],_0xcd2817(0x1d5),new Date());if(fns[_0xcd2817(0x2a4)](_0x4efe4f,_0x620d05)){let _0x43a4c4=0x0;_0x2965bb[_0x1a0efd]['changes']['forEach'](_0x1590ee=>{const _0x28c999=_0xcd2817;!_0x2faf5f[_0x1590ee[_0x28c999(0x1b9)]]?_0x2faf5f[_0x1590ee[_0x28c999(0x1b9)]]=_0x1590ee[_0x28c999(0x2d5)]:(_0x43a4c4=_0x2faf5f[_0x1590ee[_0x28c999(0x1b9)]],_0x2faf5f[_0x1590ee[_0x28c999(0x1b9)]]+=_0x1590ee[_0x28c999(0x2d5)]);const _0x2535ab=_0x4d109e[_0x28c999(0x1c4)]['find'](_0xc0166e=>_0xc0166e[_0x28c999(0x1b9)]==_0x1590ee[_0x28c999(0x1b9)]);(!_0x2535ab||_0x2535ab['number']==0x0)&&(_0x2153d5+=(-_0x1590ee['number']-_0x43a4c4)*_0x1590ee[_0x28c999(0x265)]);}),_0x1a0efd++;}}_0x4d109e[_0xcd2817(0x1c4)][_0xcd2817(0x21c)]((_0x35a0dc,_0x3f0e41)=>{_0x2faf5f[_0x35a0dc['coin']]&&(_0x35a0dc['initial']=_0x2faf5f[_0x35a0dc['coin']]);}),_0x127b2b['push']({'date':_0x4d109e['date'],'eur':_0x4d109e[_0xcd2817(0x288)],'usd':_0x4d109e['usd'],'offset':_0x5d47c6[_0x3e423b],'netoffset':_0x2153d5,'coins':_0x4d109e[_0xcd2817(0x1c4)],'pnl':_0x4d109e['pnl']});});}return _0x127b2b;}function emitPerformance(_0x10f7cc){const _0x12a7cb=_0x3e0ee0;_0x10f7cc[_0x12a7cb(0x14a)]!==0x0?(proxyEmit(_0x12a7cb(0x29b),_0x10f7cc),lastPerformanceEmitted=getDate()):proxyEmit(_0x12a7cb(0x29b),[]);}function getPerf(_0x20d3f6,_0x383e15){const _0x4681f3=_0x3e0ee0;let _0x7ac090=0x0,_0x15bc18=0x0,_0x23caf1=0x0;_0x20d3f6[_0x4681f3(0x1c4)]['forEach'](_0x5b9ec2=>{const _0x29c6d8=_0x4681f3;_0x7ac090+=_0x5b9ec2[_0x29c6d8(0x2d5)]*_0x5b9ec2[_0x29c6d8(0x265)];});_0x383e15&&(_0x7ac090+=_0x20d3f6[_0x4681f3(0x16d)]);if(config['basecoin']===_0x4681f3(0x281)||config['basecoin']===_0x4681f3(0x184)||config[_0x4681f3(0x183)]===_0x4681f3(0x253))_0x15bc18=_0x7ac090*_0x20d3f6[_0x4681f3(0x288)],_0x23caf1=_0x7ac090*_0x20d3f6[_0x4681f3(0x295)];else{if(usdBasecoins[_0x4681f3(0x2b0)](config['basecoin']))_0x15bc18=_0x7ac090*_0x20d3f6[_0x4681f3(0x288)]/_0x20d3f6[_0x4681f3(0x295)],_0x23caf1=_0x7ac090;else config[_0x4681f3(0x183)]==='EUR'&&(_0x15bc18=_0x7ac090,_0x23caf1=_0x7ac090*_0x20d3f6[_0x4681f3(0x295)]/_0x20d3f6[_0x4681f3(0x288)]);}return[_0x7ac090,_0x15bc18,_0x23caf1];}function CurrencyFactor(_0x439806,_0x16e23e,_0x3b1b93){const _0x5f5601=_0x3e0ee0;let _0x2fcb96;if(_0x16e23e===_0x5f5601(0x281)||_0x16e23e===_0x5f5601(0x184)||_0x16e23e===_0x5f5601(0x253))_0x2fcb96=_0x3b1b93===_0x5f5601(0x1eb)?_0x439806[_0x5f5601(0x288)]:_0x439806['usd'];else{if(usdBasecoins[_0x5f5601(0x2b0)](_0x16e23e))_0x2fcb96=_0x3b1b93===_0x5f5601(0x1eb)?_0x439806['eur']/_0x439806['usd']:0x1;else _0x16e23e===_0x5f5601(0x1eb)&&(_0x2fcb96=_0x3b1b93===_0x5f5601(0x1eb)?0x1:_0x439806[_0x5f5601(0x295)]/_0x439806[_0x5f5601(0x288)]);}return _0x2fcb96;}function getKPIs(_0x3320dc,_0x13ee97=_0x3e0ee0(0x1eb)){const _0x1481cb=_0x3e0ee0,_0x21fa75=config[_0x1481cb(0x183)],_0x210e8a=lastBalances,_0x1805d7=currentCoins,_0xb79d49=getNormalizedPerformance(),_0x3dc19a=CurrencyFactor(_0x210e8a,config[_0x1481cb(0x183)],_0x13ee97);let _0x4a3dc0=0x0;_0x1805d7[_0x1481cb(0x21c)](_0x1e9f00=>{const _0x5bb144=_0x1481cb;_0x4a3dc0+=_0x1e9f00[_0x5bb144(0x2d5)]*_0x1e9f00[_0x5bb144(0x135)];});_0x3320dc[_0x1481cb(0x2b0)](_0x1481cb(0x1f5))&&(_0x4a3dc0*=_0x3dc19a);let _0x168a8a;if(_0x4a3dc0!==0x0){if(_0x3320dc===_0x1481cb(0x183)||_0x3320dc===_0x1481cb(0x1f5)){if(_0x3320dc===_0x1481cb(0x183))_0x168a8a=(_0x4a3dc0/startingBalances[_0x1481cb(0x183)]-0x1)*0x64;else{if(_0x13ee97===_0x1481cb(0x1eb))_0x168a8a=(_0x4a3dc0/startingBalances[_0x1481cb(0x288)]-0x1)*0x64;else _0x168a8a=(_0x4a3dc0/startingBalances[_0x1481cb(0x295)]-0x1)*0x64;}}if(_0x3320dc[_0x1481cb(0x2b0)](_0x1481cb(0x270))){let _0x3c1e7a=0x0;if(startingBalances['coins'])_0x1805d7[_0x1481cb(0x21c)](_0x5c216f=>{const _0x2255b7=_0x1481cb;let _0x1daef2=startingBalances[_0x2255b7(0x1c4)][_0x2255b7(0x165)](_0x25bf8f=>_0x25bf8f[_0x2255b7(0x1b9)]===_0x5c216f['coin']);if(_0x1daef2&&_0x1daef2[_0x2255b7(0x1b9)]&&_0x5c216f[_0x2255b7(0x2d5)]!==0x0)_0x3c1e7a+=_0x1daef2[_0x2255b7(0x2d5)]*_0x5c216f[_0x2255b7(0x135)];});let _0x425b06=0x0;if(_0xb79d49[_0x1481cb(0x14a)]!==0x0){let _0x144515=_0xb79d49[_0xb79d49[_0x1481cb(0x14a)]-0x1];_0x425b06=_0x144515[_0x1481cb(0x124)];}_0x3c1e7a-=_0x425b06;let _0xcb991f;_0x3320dc===_0x1481cb(0x1cf)&&(_0xcb991f=startingBalances[_0x1481cb(0x183)]),_0x3320dc==='net-fiat'&&(_0xcb991f=_0x13ee97===_0x1481cb(0x1eb)?startingBalances[_0x1481cb(0x288)]:startingBalances[_0x1481cb(0x295)],_0x3c1e7a*=_0x3dc19a),_0x168a8a=(_0x4a3dc0-_0x3c1e7a)/_0xcb991f*0x64,_0x4a3dc0=_0x4a3dc0-_0x3c1e7a;}if(_0x3320dc['includes'](_0x1481cb(0x229))){if(_0xb79d49[_0x1481cb(0x14a)]!==0x0&&_0x1805d7['length']!==0x0){let _0x2d611e,_0xfb5307=_0xb79d49[_0xb79d49[_0x1481cb(0x14a)]-0x1]['pnl'];_0x3320dc[_0x1481cb(0x2b0)](_0x1481cb(0x1f5))?(_0x2d611e=_0x13ee97===_0x1481cb(0x1eb)?startingBalances[_0x1481cb(0x288)]:startingBalances[_0x1481cb(0x295)],_0xfb5307*=CurrencyFactor(_0x210e8a,_0x21fa75,_0x13ee97)):_0x2d611e=startingBalances[_0x1481cb(0x183)],_0x168a8a=_0xfb5307/_0x2d611e*0x64,_0x4a3dc0=_0xfb5307;}}if(_0x168a8a){if(_0x168a8a<0x64)_0x168a8a=_0x168a8a[_0x1481cb(0x1f8)](0x2);else{if(_0x168a8a<0x3e8)_0x168a8a=_0x168a8a[_0x1481cb(0x1f8)](0x1);else _0x168a8a=_0x168a8a[_0x1481cb(0x1f8)](0x0);}}else _0x168a8a=Number('0')[_0x1481cb(0x1f8)](0x2);if(_0x4a3dc0){if(Math['abs'](_0x4a3dc0)<0.000001)_0x4a3dc0=_0x4a3dc0[_0x1481cb(0x1f8)](0x2);else{if(Math[_0x1481cb(0x10b)](_0x4a3dc0)<0.1)_0x4a3dc0=_0x4a3dc0[_0x1481cb(0x1f8)](0x6);else{if(Math[_0x1481cb(0x10b)](_0x4a3dc0)<0x1)_0x4a3dc0=_0x4a3dc0[_0x1481cb(0x1f8)](0x5);else{if(Math[_0x1481cb(0x10b)](_0x4a3dc0)<0xa)_0x4a3dc0=_0x4a3dc0[_0x1481cb(0x1f8)](0x4);else{if(Math[_0x1481cb(0x10b)](_0x4a3dc0)<0x64)_0x4a3dc0=_0x4a3dc0[_0x1481cb(0x1f8)](0x3);else{if(Math[_0x1481cb(0x10b)](_0x4a3dc0)<0x3e8)_0x4a3dc0=_0x4a3dc0['toFixed'](0x2);else _0x4a3dc0=_0x4a3dc0['toFixed'](0x2);}}}}}}else _0x4a3dc0=Number('0')[_0x1481cb(0x1f8)](0x2);}else _0x168a8a=Number('0')['toFixed'](0x2);if(_0x168a8a>=0x0)_0x168a8a='+'+_0x168a8a;return{'value':_0x4a3dc0,'change':_0x168a8a};}async function getStartingBalances(_0x566de9,_0x301b20=!![]){const _0x4a8a17=_0x3e0ee0;if(_0x566de9[_0x4a8a17(0x14a)]!==0x0){const [_0x15b681,_0x3aaf6f,_0x434d37]=getPerf(_0x566de9[0x0],!![]);let _0x245de7=[];config[_0x4a8a17(0x207)]['forEach'](_0x28fc7a=>{const _0x34ca04=_0x4a8a17;let _0x28e3e3=0x0,_0x17f8a2;config[_0x34ca04(0x180)]['forEach'](_0xdc0b94=>{const _0x5f423a=_0x34ca04;let _0x30910a=_0xdc0b94[_0x5f423a(0x28a)]['find'](_0x272921=>_0x272921[_0x5f423a(0x1b9)]==_0x28fc7a[_0x5f423a(0x1b9)]);if(_0x30910a){_0x28e3e3+=_0x30910a['number'];if(!_0x17f8a2)_0x17f8a2=_0x30910a[_0x5f423a(0x265)];}}),_0x245de7['push']({'coin':_0x28fc7a[_0x34ca04(0x1b9)],'number':_0x28e3e3,'initialprice':_0x17f8a2});});const _0x2dfdf6={'basecoin':_0x15b681,'eur':_0x3aaf6f,'usd':_0x434d37,'coins':_0x245de7};if(_0x301b20)proxyEmit(_0x4a8a17(0x26e),_0x2dfdf6);startingBalances=_0x2dfdf6;}}function headlessMode(_0x358bbc){const _0x50679b=_0x3e0ee0;let _0xaee923=_0x358bbc[_0x50679b(0x207)],_0x2c9cb9=_0x358bbc[_0x50679b(0x257)],_0x1eb1ae=[];for(let _0x2d8ca5 of _0xaee923){if(_0x2d8ca5[_0x50679b(0x1b9)]!=config[_0x50679b(0x183)]){if(_0x2d8ca5['delta']>=_0x2c9cb9/0x64){if(_0x2d8ca5['valid'])_0x1eb1ae['push'](_0x2d8ca5);}else{if(_0x2d8ca5[_0x50679b(0x220)]<=-_0x2c9cb9/0x64){if(_0x2d8ca5[_0x50679b(0x1ec)])_0x1eb1ae['push'](_0x2d8ca5);}}}}_0x1eb1ae[_0x50679b(0x14a)]>0x0&&placeOrder(_0x1eb1ae);}function notifyBalance(_0x306e0d){const _0x2b15ee=_0x3e0ee0;let _0x517969=_0x306e0d[_0x2b15ee(0x207)],_0x578d77=_0x306e0d['threshold'],_0xe0c745=[];for(let _0x156885 of _0x517969){if(_0x156885[_0x2b15ee(0x1b9)]!=config[_0x2b15ee(0x183)]){if(_0x156885[_0x2b15ee(0x220)]>=_0x578d77/0x64){if(_0x156885[_0x2b15ee(0x1ec)])_0xe0c745[_0x2b15ee(0x1b6)](_0x156885);}else{if(_0x156885[_0x2b15ee(0x220)]<=-_0x578d77/0x64){if(_0x156885[_0x2b15ee(0x1ec)])_0xe0c745[_0x2b15ee(0x1b6)](_0x156885);}}}}if(_0xe0c745[_0x2b15ee(0x14a)]>0x0){let _0x36c51d=_0xe0c745['map'](_0x1310f9=>_0x1310f9[_0x2b15ee(0x1b9)]);_0x36c51d['sort']();let _0xef458b=_0x36c51d[_0x2b15ee(0x159)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2b15ee(0x126),_0x2b15ee(0x263));lastCoinsToBalance=_0xef458b;}}function symbolToCoin(_0x267bf6){const _0x1dd109=_0x3e0ee0;let _0x3b884f;if(_0x267bf6[_0x1dd109(0x2b0)]('/'+config[_0x1dd109(0x183)]))_0x3b884f=_0x267bf6[_0x1dd109(0x1d9)]('/'+config[_0x1dd109(0x183)],'');if(_0x267bf6[_0x1dd109(0x2b0)](config[_0x1dd109(0x183)]+'/'))_0x3b884f=_0x267bf6[_0x1dd109(0x1d9)](config[_0x1dd109(0x183)]+'/','');return _0x3b884f;}function setLockOrders(_0x55d777){const _0x3a6735=_0x3e0ee0;lockOrders=_0x55d777,logger[_0x3a6735(0x17f)](_0x3a6735(0x1d3)+Object['keys'](ORDERS)[lockOrders]);}async function unlockOrders(_0x4ff8f8=![]){const _0x263d48=_0x3e0ee0;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){setLockOrders(ORDERS[_0x263d48(0x25d)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x4ff8f8){const _0x2c9555=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2c9555,setBlockTransactionDetection(![]);}validateOrdersState=_0x263d48(0x196),persistOpenOrders([]),setLockOrders(ORDERS[_0x263d48(0x105)]);}}async function validateOrders(_0x539a17){const _0x4ee2ee=_0x3e0ee0;if(_0x539a17)validateOrdersState=_0x539a17;logger['debug'](_0x4ee2ee(0x127)+validateOrdersState+_0x4ee2ee(0x19f)+Object[_0x4ee2ee(0x14e)](ORDERS)[lockOrders]);let _0x4bca76=[],_0x113a5c=config[_0x4ee2ee(0x182)]==_0x4ee2ee(0x1e0)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4ee2ee(0x1b5)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4ee2ee(0x23a)])return;logger[_0x4ee2ee(0x17f)](_0x4ee2ee(0x290)+validateOrdersState);for(let _0x5c08b7=lastOrders[_0x4ee2ee(0x14a)]-0x1;_0x5c08b7>=0x0;_0x5c08b7--){let _0x3c6ab0=lastOrders[_0x5c08b7],_0x59c0e5=![];_0x3c6ab0['filled']>0x0&&(_0x59c0e5=!![]),_0x4bca76['push'](_0x59c0e5),_0x59c0e5&&config[_0x4ee2ee(0x182)]!=_0x4ee2ee(0x1e0)&&logHistory(_0x4ee2ee(0x25b),_0x4ee2ee(0x1a0)+_0x3c6ab0[_0x4ee2ee(0x221)]+'\x20'+_0x3c6ab0[_0x4ee2ee(0x199)]+'\x20#'+formatResult(_0x3c6ab0[_0x4ee2ee(0x2ae)],0x8)+'\x20@'+formatResult(_0x3c6ab0[_0x4ee2ee(0x265)],0x8)),_0x59c0e5&&lastOrders[_0x4ee2ee(0x26f)](_0x5c08b7,0x1);}persistOpenOrders(lastOrders);const _0x5de868=coolingDown?_0x4ee2ee(0x138):_0x4ee2ee(0x1f1);if(validateOrdersState==_0x4ee2ee(0x196)){validateOrdersState=_0x4ee2ee(0x275);if(_0x4bca76['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x4ee2ee(0x275)){if(_0x4bca76['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x4ee2ee(0x112)){let _0x417048=!![];if(_0x4bca76[_0x4ee2ee(0x2b0)](![])){if(config[_0x4ee2ee(0x182)]==_0x4ee2ee(0x1e0))logHistory(_0x4ee2ee(0x169),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x4ee2ee(0x276)](_0x113a5c*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x5de868),await unlockOrders(!![]);else{_0x417048=await cancelOrders();if(_0x417048)logHistory('success',_0x4ee2ee(0x107)+Math[_0x4ee2ee(0x276)](_0x113a5c*validateOrderInterval/0xea60)+_0x4ee2ee(0x26c)+_0x5de868),await unlockOrders(!![]);else{validateOrdersState=_0x4ee2ee(0x275),logHistory(_0x4ee2ee(0x175),_0x4ee2ee(0x193)+Math[_0x4ee2ee(0x276)](_0x113a5c*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x5de868),logHistory('error',_0x4ee2ee(0x21b));const _0x595a42=config['ordertype']==_0x4ee2ee(0x1e0)?validateOrderTimeout*0x3c*0x3e8:config[_0x4ee2ee(0x1b5)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x13338a=_0x4ee2ee;validateOrders(_0x13338a(0x112));},_0x595a42);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x4ee2ee(0x189)){if(config[_0x4ee2ee(0x182)]!=_0x4ee2ee(0x1e0))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x5de868);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x11f38a=_0x3e0ee0;let _0x11ce23=!![],_0x4567dd;for(const _0x1c6186 of lastOrders){let _0x1f51c5=![],_0x3e01c8=0x0;while(!_0x1f51c5&&_0x3e01c8<maxRetries){try{const _0xaf64cb=await exchange[_0x11f38a(0x246)](_0x1c6186[_0x11f38a(0x174)],_0x1c6186['symbol']);_0x1f51c5=!![];}catch(_0x3fdaa0){_0x3fdaa0[_0x11f38a(0x1bb)]()[_0x11f38a(0x2b0)](_0x11f38a(0x2c9))||_0x3fdaa0['toString']()[_0x11f38a(0x2b0)](_0x11f38a(0x2ce))?_0x1f51c5=!![]:(_0x4567dd=_0x3fdaa0,_0x1f51c5=![]);}!_0x1f51c5&&(_0x3e01c8++,await sleep(retryInterval));}_0x11ce23=_0x11ce23&&_0x1f51c5;}return!_0x11ce23&&await handleError(_0x4567dd,'cancelOrders()'),_0x11ce23;}async function initCoinResults(_0x313466){const _0x28fa3e=_0x3e0ee0;_0x313466?logger[_0x28fa3e(0x17f)]('Resetting\x20coin\x20results:\x20'+_0x313466):logger[_0x28fa3e(0x17f)](_0x28fa3e(0x18f)),config[_0x28fa3e(0x207)]['forEach'](_0x429cbf=>{const _0x113734=_0x28fa3e;if(!_0x429cbf[_0x113734(0x16c)]&&_0x429cbf[_0x113734(0x1b9)]!=config[_0x113734(0x183)]){const _0x39284e=currentCoins[_0x113734(0x165)](_0x4bc01d=>_0x4bc01d['coin']==_0x429cbf[_0x113734(0x1b9)]),_0x258fcb=gTicker[noslash(_0x429cbf[_0x113734(0x221)])];let _0x5a5e59=_0x39284e?_0x39284e[_0x113734(0x2d5)]:null,_0x127900=_0x429cbf[_0x113734(0x298)]?0x1/_0x258fcb:_0x258fcb,_0x4b6087;config[_0x113734(0x180)]['forEach'](_0x4dfaa9=>{const _0x1b87cb=_0x113734;!_0x4b6087&&(_0x4b6087=_0x4dfaa9['changes'][_0x1b87cb(0x165)](_0x26d1c1=>_0x26d1c1['coin']==_0x429cbf['coin']),_0x4b6087&&(_0x5a5e59=_0x4b6087['number'],_0x127900=_0x4b6087['price']));});let _0x470591=dbCoinResults[_0x113734(0x116)](_0x113734(0x1c4))[_0x113734(0x165)]({'coin':_0x429cbf[_0x113734(0x1b9)]})[_0x113734(0x21e)]();if(!_0x470591){const _0x48e3e4={'coin':_0x429cbf[_0x113734(0x1b9)],'number':_0x5a5e59,'breakeven':_0x127900,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x113734(0x116)](_0x113734(0x1c4))[_0x113734(0x1b6)](_0x48e3e4)[_0x113734(0x25e)]();}else{if(_0x313466&&_0x429cbf[_0x113734(0x1b9)]==_0x313466){const _0x1cb00a={'coin':_0x429cbf[_0x113734(0x1b9)],'number':_0x5a5e59,'breakeven':_0x127900,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x113734(0x116)](_0x113734(0x1c4))[_0x113734(0x165)]({'coin':_0x429cbf[_0x113734(0x1b9)]})[_0x113734(0x1c5)](_0x1cb00a)[_0x113734(0x25e)]();}}}});}async function placeOrder(_0x4b91ff){const _0x3ec0ae=_0x3e0ee0,_0x4d796d=config[_0x3ec0ae(0x182)]==_0x3ec0ae(0x1e0)?_0x3ec0ae(0x1e0):_0x3ec0ae(0x2d4);if(lockOrders==ORDERS[_0x3ec0ae(0x105)]&&!coolingDown){setLockOrders(ORDERS[_0x3ec0ae(0x23a)]);while(transactionDetectionOngoing){await sleep(0x64);}logger['debug'](_0x3ec0ae(0x1ad)+_0x4b91ff[_0x3ec0ae(0x122)](_0x20b0e4=>_0x20b0e4[_0x3ec0ae(0x1b9)])[_0x3ec0ae(0x159)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x3ec0ae(0x196);let _0xb789f=![];lastOrders=[];const _0x1f92fc=config[_0x3ec0ae(0x257)];for(const _0x35303f of _0x4b91ff){let _0x3393d9,_0x5811e0,_0x2e5839,_0x41a0f7,_0x4d5bd2,_0x123014=_0x35303f['symbol'];logger['debug'](_0x3ec0ae(0x2a1)+_0x35303f['coin']+'\x20'+_0x35303f['number']+'\x20'+_0x35303f[_0x3ec0ae(0x135)]+'\x20'+_0x35303f[_0x3ec0ae(0x22f)]+'%\x20'+_0x35303f[_0x3ec0ae(0x1be)]+'%\x20'+(0x64*_0x35303f[_0x3ec0ae(0x220)])[_0x3ec0ae(0x1f8)](0x2)+_0x3ec0ae(0x176)+_0x1f92fc['toFixed'](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x3ec0ae(0x117)](_0x22563b=>_0x22563b!==_0x35303f[_0x3ec0ae(0x1b9)]);const _0x15fa06=currentCoins['find'](_0xc9e6c0=>_0xc9e6c0[_0x3ec0ae(0x1b9)]==_0x35303f[_0x3ec0ae(0x1b9)]);_0x15fa06&&(_0x15fa06[_0x3ec0ae(0x171)]=_0x35303f[_0x3ec0ae(0x2d5)]);try{const _0x3f48a5=await exchange[_0x3ec0ae(0x154)](_0x123014);_0x3393d9=_0x35303f[_0x3ec0ae(0x298)]?0x1/_0x35303f[_0x3ec0ae(0x135)]:_0x35303f['last'],_0x5811e0=_0x3f48a5[_0x3ec0ae(0x2c7)],_0x2e5839=_0x3f48a5[_0x3ec0ae(0x14b)];_0x35303f['reverse']?(_0x41a0f7=_0x35303f[_0x3ec0ae(0x199)]==_0x3ec0ae(0x128)?_0x3ec0ae(0x1ea):'buy',_0x4d5bd2=Math[_0x3ec0ae(0x10b)](_0x35303f[_0x3ec0ae(0x2cd)])/_0x3393d9):(_0x41a0f7=_0x35303f[_0x3ec0ae(0x199)],_0x4d5bd2=Math[_0x3ec0ae(0x10b)](_0x35303f['trade']));_0x4d796d=='limit'&&(config[_0x3ec0ae(0x182)]==_0x3ec0ae(0x10a)&&(_0x3393d9=_0x41a0f7==_0x3ec0ae(0x128)?_0x5811e0:_0x2e5839),config[_0x3ec0ae(0x182)]==_0x3ec0ae(0x227)&&(_0x3393d9=_0x41a0f7==_0x3ec0ae(0x128)?_0x2e5839:_0x5811e0));_0x4d5bd2=formatResult(_0x4d5bd2,0x8),_0x3393d9=formatResult(_0x3393d9,0x8);const _0xc2a07c=_0x41a0f7==_0x3ec0ae(0x1ea)?config[_0x3ec0ae(0x11f)]?String[_0x3ec0ae(0x191)]('0x'+config[_0x3ec0ae(0x11f)])+'\x20':'':config[_0x3ec0ae(0x245)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x541500=_0x4d796d==_0x3ec0ae(0x1e0)?_0x3ec0ae(0x2d8):config['ordertype']=='limit-high'?'Limit\x20(high-margin)':_0x3ec0ae(0x241),_0x4a6e43=(Math[_0x3ec0ae(0x2b5)](Math[_0x3ec0ae(0x254)]()*0x35a4e900)+0x5f5e100)[_0x3ec0ae(0x1bb)]();lastOrders[_0x3ec0ae(0x1b6)]({'customId':_0x4a6e43,'symbol':_0x123014,'coin':_0x35303f['coin'],'amount':_0x4d5bd2,'price':_0x3393d9,'side':_0x41a0f7,'reverse':_0x35303f['reverse'],'filled':0x0});let _0x99573a;_0x4d796d==_0x3ec0ae(0x1e0)?_0x41a0f7=='buy'&&[_0x3ec0ae(0x203),_0x3ec0ae(0x181),'Cex',_0x3ec0ae(0x123),_0x3ec0ae(0x28b)]['includes'](config[_0x3ec0ae(0x137)])?_0x99573a=await exchange[_0x3ec0ae(0x25a)](_0x123014,_0x4d796d,_0x41a0f7,_0x4d5bd2,_0x3393d9):_0x99573a=await exchange['createOrder'](_0x123014,_0x4d796d,_0x41a0f7,_0x4d5bd2,undefined):_0x99573a=await exchange[_0x3ec0ae(0x25a)](_0x123014,_0x4d796d,_0x41a0f7,_0x4d5bd2,_0x3393d9);const _0x47ca7e=lastOrders[_0x3ec0ae(0x14a)]-0x1;if(_0x47ca7e>=0x0&&lastOrders[_0x47ca7e][_0x3ec0ae(0x287)]==_0x4a6e43){lastOrders[_0x47ca7e][_0x3ec0ae(0x174)]=_0x99573a['id'];if(_0x99573a[_0x3ec0ae(0x13d)])lastOrders[_0x47ca7e]['amount']=_0x99573a[_0x3ec0ae(0x13d)];if(_0x99573a[_0x3ec0ae(0x265)])lastOrders[_0x47ca7e][_0x3ec0ae(0x265)]=_0x99573a[_0x3ec0ae(0x265)];lastOrders[_0x47ca7e][_0x3ec0ae(0x1bc)]=_0x99573a[_0x3ec0ae(0x1bc)];}if(_0x99573a[_0x3ec0ae(0x13d)])_0x4d5bd2=_0x99573a[_0x3ec0ae(0x13d)];if(_0x99573a['price'])_0x3393d9=_0x99573a['price'];if(_0x4d796d==_0x3ec0ae(0x1e0))logHistory(_0x3ec0ae(0x25b),''+_0xc2a07c+_0x541500+'\x20order:\x20'+_0x123014+'\x20'+_0x41a0f7+'\x20#'+formatResult(_0x4d5bd2,0x8)+'\x20@'+formatResult(_0x3393d9,0x8));else logHistory(_0x3ec0ae(0x25b),''+_0xc2a07c+_0x541500+_0x3ec0ae(0x267)+_0x123014+'\x20'+_0x41a0f7+'\x20#'+formatResult(_0x4d5bd2,0x8)+'\x20@'+formatResult(_0x3393d9,0x8));logger[_0x3ec0ae(0x17f)](_0x3ec0ae(0x243)+_0x99573a['id']+'\x20|\x20Custom\x20ID:\x20'+_0x4a6e43);if(config[_0x3ec0ae(0x283)]!=0x0){let _0x104b94=null;if(cooldownTracker[_0x3ec0ae(0x14a)]==config[_0x3ec0ae(0x283)]-0x1)_0x104b94=cooldownTracker[_0x3ec0ae(0x20d)]();const _0x3342dc=getTimeStamp();cooldownTracker[_0x3ec0ae(0x1b6)](_0x3342dc);if(_0x104b94){const _0x3173d3=fns[_0x3ec0ae(0x1e4)](new Date(_0x3342dc),new Date(_0x104b94));if(_0x3173d3<cooldownInterval){logHistory(_0x3ec0ae(0x175),_0x3ec0ae(0x2bf)+config[_0x3ec0ae(0x283)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x3ec0ae(0x178)+cooldownPeriod/(0xe10*0x3e8)+_0x3ec0ae(0x156)),coolingDown=!![];break;}}}}catch(_0x5c56ff){if(_0x5c56ff[_0x3ec0ae(0x1bb)]()[_0x3ec0ae(0x2b0)](_0x3ec0ae(0x1ac)))lastOrders=lastOrders['filter'](_0x153622=>_0x153622[_0x3ec0ae(0x221)]!=_0x123014),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x123014),_0xb789f=!![];else{if(_0x5c56ff[_0x3ec0ae(0x1bb)]()[_0x3ec0ae(0x2b0)](_0x3ec0ae(0x249)))lastOrders=lastOrders[_0x3ec0ae(0x117)](_0x514f4f=>_0x514f4f['symbol']!=_0x123014),logHistory('error',_0x3ec0ae(0x16b)+_0x123014),_0xb789f=!![];else{if(_0x5c56ff[_0x3ec0ae(0x1bb)]()[_0x3ec0ae(0x2b0)](_0x3ec0ae(0x2ce)))lastOrders=lastOrders[_0x3ec0ae(0x117)](_0x627de2=>_0x627de2[_0x3ec0ae(0x221)]!=_0x123014),logHistory(_0x3ec0ae(0x175),'Order\x20is\x20invalid:\x20'+_0x123014),logger[_0x3ec0ae(0x17f)](_0x5c56ff),_0xb789f=!![];else _0x5c56ff[_0x3ec0ae(0x1bb)]()[_0x3ec0ae(0x2b0)](_0x3ec0ae(0x1d8))?(lastOrders=lastOrders[_0x3ec0ae(0x117)](_0x1dc819=>_0x1dc819[_0x3ec0ae(0x221)]!=_0x123014),logHistory(_0x3ec0ae(0x175),_0x3ec0ae(0x119)+_0x123014),_0xb789f=!![]):(lastOrders=lastOrders[_0x3ec0ae(0x117)](_0x1e8194=>_0x1e8194[_0x3ec0ae(0x221)]!=_0x123014),await handleError(_0x5c56ff,_0x3ec0ae(0x20e),_0x123014));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0x199ef3=config['ordertype']==_0x3ec0ae(0x1e0)?validateOrderTimeout*0x3c*0x3e8:config[_0x3ec0ae(0x1b5)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xccdf37=_0x3ec0ae;validateOrders(_0xccdf37(0x112));},_0x199ef3);}else unlockOrders();_0xb789f&&config[_0x3ec0ae(0x160)]&&(logHistory(_0x3ec0ae(0x175),_0x3ec0ae(0x120)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x3ec0ae(0x169),_0x3ec0ae(0x1df)));}else{if(coolingDown)!config[_0x3ec0ae(0x160)]&&logHistory('error',_0x3ec0ae(0x2b3));else lockOrders!=ORDERS[_0x3ec0ae(0x105)]&&(!config['headless']&&(config[_0x3ec0ae(0x182)]==_0x3ec0ae(0x1e0)?logHistory(_0x3ec0ae(0x175),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x3ec0ae(0x175),_0x3ec0ae(0x140))));}}function persistOpenOrders(_0x1a3566){const _0x21efac=_0x3e0ee0,_0x83a999={...config,'openOrders':_0x1a3566};let _0x2c3675=dbConfig[_0x21efac(0x116)](_0x21efac(0x1a4))['find']({'botID':botID})[_0x21efac(0x21e)]();_0x2c3675&&dbConfig['get'](_0x21efac(0x1a4))[_0x21efac(0x165)]({'botID':botID})[_0x21efac(0x1c5)](_0x83a999)['write']();}function restoreOrders(){const _0xcf7605=_0x3e0ee0;let _0x3e8986;config['openOrders']&&allOpenOrders['forEach'](_0x593e00=>{const _0x5cc459=_0x3971,_0x52d9aa=config['openOrders'][_0x5cc459(0x165)](_0x4be9f3=>_0x4be9f3[_0x5cc459(0x174)]==_0x593e00['id']);_0x52d9aa&&(lastOrders[_0x5cc459(0x1b6)](_0x52d9aa),_0x3e8986=_0x593e00[_0x5cc459(0x155)]);});if(lastOrders['length']>0x0){setLockOrders(ORDERS[_0xcf7605(0x23a)]),validateOrdersState=_0xcf7605(0x275),allOrdersPlaced=!![];const _0x35360b=new Date()[_0xcf7605(0x1ed)](),_0x408540=config[_0xcf7605(0x182)]==_0xcf7605(0x1e0)?validateOrderTimeout*0x3c*0x3e8:config[_0xcf7605(0x1b5)]*0x3c*0x3e8;if(_0x3e8986+_0x408540>_0x35360b){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3c98fb=_0xcf7605;validateOrders(_0x3c98fb(0x112));},_0x3e8986+_0x408540-_0x35360b);}else validateOrders(_0xcf7605(0x112));}}async function sendMetricsTelegram(){const _0x4c9c1b=_0x3e0ee0;if(!coinsLoaded){process['send']({'telegrammsg':_0x4c9c1b(0x16e)},_0x5d3bc0=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x2a4733='';if(config[_0x4c9c1b(0x20a)])_0x2a4733=_0x4c9c1b(0x277)+config[_0x4c9c1b(0x2cf)]+_0x4c9c1b(0x2af);else _0x2a4733=_0x4c9c1b(0x1e2)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x5d0119=config[_0x4c9c1b(0x183)],_0x116e25=config[_0x4c9c1b(0x1f5)],_0x136a6d=getKPIs(_0x4c9c1b(0x183)),_0x58f478=getKPIs(_0x4c9c1b(0x1f5),_0x116e25),_0x2d652b=getKPIs(_0x4c9c1b(0x1cf)),_0x5bd610=getKPIs('net-fiat',_0x116e25),_0x9c7151=getKPIs(_0x4c9c1b(0x274)),_0x10c65c=getKPIs(_0x4c9c1b(0x139),_0x116e25);_0x5d0119[_0x4c9c1b(0x2b0)](_0x116e25)?(_0x2a4733+='<pre>',_0x2a4733+='Value\x20'+_0x5d0119+':\x20'+_0x136a6d[_0x4c9c1b(0x21e)]+'\x20('+_0x136a6d[_0x4c9c1b(0x21d)]+_0x4c9c1b(0x14c),_0x2a4733+=_0x4c9c1b(0x17b)+_0x5d0119+':\x20'+_0x2d652b[_0x4c9c1b(0x21e)]+'\x20('+_0x2d652b[_0x4c9c1b(0x21d)]+_0x4c9c1b(0x14c),_0x2a4733+='PnL\x20'+_0x5d0119+':\x20'+_0x9c7151[_0x4c9c1b(0x21e)]+'\x20('+_0x9c7151['change']+_0x4c9c1b(0x14c),_0x2a4733+=_0x4c9c1b(0x1dd)):(_0x2a4733+=_0x4c9c1b(0x28c),_0x2a4733+='Value\x20'+_0x5d0119+':\x20'+_0x136a6d[_0x4c9c1b(0x21e)]+'\x20('+_0x136a6d[_0x4c9c1b(0x21d)]+_0x4c9c1b(0x14c),_0x2a4733+=_0x4c9c1b(0x219)+_0x116e25+':\x20'+_0x58f478['value']+'\x20('+_0x58f478[_0x4c9c1b(0x21d)]+_0x4c9c1b(0x14c),_0x2a4733+=_0x4c9c1b(0x17b)+_0x5d0119+':\x20'+_0x2d652b[_0x4c9c1b(0x21e)]+'\x20('+_0x2d652b['change']+'%)\x0a',_0x2a4733+=_0x4c9c1b(0x17b)+_0x116e25+':\x20'+_0x5bd610[_0x4c9c1b(0x21e)]+'\x20('+_0x5bd610[_0x4c9c1b(0x21d)]+_0x4c9c1b(0x14c),_0x2a4733+=_0x4c9c1b(0x2c6)+_0x5d0119+':\x20'+_0x9c7151['value']+'\x20('+_0x9c7151[_0x4c9c1b(0x21d)]+_0x4c9c1b(0x14c),_0x2a4733+=_0x4c9c1b(0x2c6)+_0x116e25+':\x20'+_0x10c65c[_0x4c9c1b(0x21e)]+'\x20('+_0x10c65c[_0x4c9c1b(0x21d)]+'%)\x0a',_0x2a4733+='</pre>'),process[_0x4c9c1b(0x13b)]({'telegrammsg':_0x2a4733},_0x35a3f5=>{});}async function sendPortfolioTelegram(){const _0x2e2c71=_0x3e0ee0;if(!coinsLoaded||!currentCoins[0x0][_0x2e2c71(0x22f)]){process['send']({'telegrammsg':_0x2e2c71(0x16e)},_0x217b51=>{});return;}let _0x482909='';if(config[_0x2e2c71(0x20a)])_0x482909=_0x2e2c71(0x277)+config['botname']+_0x2e2c71(0x1e3);else _0x482909='<b>Bot\x20'+botID+_0x2e2c71(0x1e3);_0x482909+=_0x2e2c71(0x28c),_0x482909+='-------------------------------\x0a',_0x482909+=_0x2e2c71(0x218),_0x482909+=_0x2e2c71(0x11e),currentCoins[_0x2e2c71(0x21c)](_0x13de68=>{const _0x5c06fd=_0x2e2c71;_0x482909+=_0x13de68[_0x5c06fd(0x1b9)]['padEnd'](0x7)+'|\x20'+formatPad(_0x13de68[_0x5c06fd(0x22f)],0x2,0x6)+'|\x20'+formatPad(_0x13de68[_0x5c06fd(0x1be)],0x2,0x6)+'|\x20'+formatPad(_0x13de68[_0x5c06fd(0x220)]*0x64,0x2,0x6)+'\x0a';}),_0x482909+='</pre>',process[_0x2e2c71(0x13b)]({'telegrammsg':_0x482909},_0x245239=>{});}function formatPad(_0x1f03bd,_0x8c78d2,_0xc18dee){const _0x2dc615=_0x3e0ee0,_0x41731b=formatResultString(_0x1f03bd,_0x8c78d2);return _0x41731b?_0x41731b['padStart'](_0xc18dee):''[_0x2dc615(0x10e)](_0xc18dee);}function logHistory(_0x1fd8c1,_0x407eb2,_0x14bebf=''){const _0x1c7404=_0x3e0ee0;logger['full'](''+_0x407eb2);let _0x512076={'time':getTimeStamp(),'type':_0x1fd8c1,'event':_0x407eb2};dbLogs[_0x1c7404(0x116)]('logs')[_0x1c7404(0x1b6)](_0x512076)['write']();if(_0x14bebf=='')_0x14bebf=_0x407eb2;proxyEmit(_0x1c7404(0x1e9),{'log':_0x512076,'summary':_0x14bebf}),process[_0x1c7404(0x13b)]({'telegram':{..._0x512076,'botname':config[_0x1c7404(0x2cf)],'showname':config[_0x1c7404(0x20a)]}},_0x25edfd=>{});}function emitHistory(_0x371e73={}){const _0x3619b1=_0x3e0ee0;Object[_0x3619b1(0x14e)](_0x371e73)[_0x3619b1(0x14a)]==0x0&&(_0x371e73={'type':[_0x3619b1(0x25b),_0x3619b1(0x1e9)],'event':'','page':0x1});if(_0x371e73['type'][_0x3619b1(0x2b0)](_0x3619b1(0x1e9)))_0x371e73[_0x3619b1(0x2dd)][_0x3619b1(0x26f)](_0x371e73[_0x3619b1(0x2dd)][_0x3619b1(0x26a)](_0x3619b1(0x1e9)),0x1,'error','warning',_0x3619b1(0x169));if(dbLogs[_0x3619b1(0x15c)](_0x3619b1(0x29a))['value']()){let _0x4f8ad4=dbLogs['get'](_0x3619b1(0x29a))[_0x3619b1(0x117)](_0xd23ca4=>{const _0x56ff7c=_0x3619b1;if(_0x371e73[_0x56ff7c(0x2dd)][_0x56ff7c(0x14a)]==0x0)return![];else return _0x371e73[_0x56ff7c(0x2dd)][_0x56ff7c(0x2b0)](_0xd23ca4[_0x56ff7c(0x2dd)]);})[_0x3619b1(0x117)](_0x462860=>{const _0x36eaa8=_0x3619b1;if(_0x371e73['event']=='')return!![];else return _0x462860['event'][_0x36eaa8(0x1a7)]()[_0x36eaa8(0x2b0)](_0x371e73[_0x36eaa8(0x1e9)]['toLowerCase']());})['sortBy']('time'),_0x2b7e77=_0x4f8ad4[_0x3619b1(0x21e)]()[_0x3619b1(0x14a)];_0x4f8ad4=_0x4f8ad4[_0x3619b1(0x298)]()[_0x3619b1(0x2d1)]((_0x371e73['page']-0x1)*logPageSize,_0x371e73[_0x3619b1(0x144)]*logPageSize-0x1)[_0x3619b1(0x298)]()[_0x3619b1(0x21e)](),proxyEmit('event-history',{'logs':_0x4f8ad4,'total':_0x2b7e77});}else proxyEmit(_0x3619b1(0x286),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4e582e){const _0x3edda6=_0x3e0ee0;if(dbLogs['has']('logs')['value']()){const _0x4cb042=dbLogs[_0x3edda6(0x116)]('logs')['sortBy'](_0x3edda6(0x1cb))[_0x3edda6(0x117)](_0x599651=>{const _0xafd421=_0x3edda6;return _0x599651['type']==_0xafd421(0x25b);})[_0x3edda6(0x21e)]();dbLogs[_0x3edda6(0x116)](_0x3edda6(0x29a))[_0x3edda6(0x1ee)]()[_0x3edda6(0x25e)](),dbLogs['get'](_0x3edda6(0x29a))[_0x3edda6(0x1c5)](_0x4cb042)[_0x3edda6(0x25e)](),emitHistory(_0x4e582e);}}async function pauseBot(_0x48832d=pauseBotIntervalShort,_0x4a5cd2,_0x572068,_0x3ac4c8=![]){const _0x50911e=_0x3e0ee0,_0x601d1f=new Date()[_0x50911e(0x1ed)]();if(!lastErrorShown||_0x601d1f-lastErrorShown>=_0x48832d){lastErrorShown=_0x601d1f;if(!lastBotPause)lastBotPause=_0x601d1f,consecutivePauses=0x1;else{if(_0x601d1f-lastBotPause-_0x48832d<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x3ac4c8){logHistory(_0x50911e(0x175),_0x4a5cd2+'\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();return;}else logHistory('error',_0x4a5cd2+pauseBotMsg),_0x48832d=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x601d1f;}_0x572068?logger[_0x50911e(0x17f)]('('+consecutivePauses+')\x20'+_0x4a5cd2+'\x20>\x20details:',_0x572068):logger[_0x50911e(0x17f)]('('+consecutivePauses+')\x20'+_0x4a5cd2);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x48832d),botPaused=![],_0x48832d==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x249c4e=_0x3e0ee0;botPaused=!![],await sleep(0x3e8),process[_0x249c4e(0x13b)]({'stop':_0x249c4e(0x2db)},_0x14f066=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1f4669,_0xf17b5,_0x1113d2=![]){const _0x556524=_0x3e0ee0;if(botPaused)return;let _0x401b0f;const _0x24a6ec=config['exchange']||'Exchange';if(_0xf17b5)logger['debug'](_0x556524(0x2b1)+_0xf17b5);const _0x2360c6=()=>{const _0x4a7136=_0x556524;loading[_0x4a7136(0x175)]=_0x4a7136(0x13f),emitLoadingProgress();};if(_0x1f4669[_0x556524(0x1bb)]()[_0x556524(0x2b0)](_0x556524(0x272)))logHistory(_0x556524(0x175),_0x24a6ec+_0x556524(0x202)),_0x2360c6();else{if(_0x1f4669[_0x556524(0x1bb)]()[_0x556524(0x2b0)](_0x556524(0x14d)))logHistory(_0x556524(0x175),_0x24a6ec+_0x556524(0x143)),_0x2360c6();else{if(_0x1f4669[_0x556524(0x1bb)]()[_0x556524(0x2b0)](_0x556524(0x13e)))config[_0x556524(0x1e1)]?_0x401b0f=_0x24a6ec+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x401b0f=_0x24a6ec+_0x556524(0x1fe),logHistory('error',_0x401b0f+_0x556524(0x211)),_0x2360c6();else{if(_0x1f4669['toString']()[_0x556524(0x2b0)](_0x556524(0x215)))logHistory('error',_0x24a6ec+_0x556524(0x109)),_0x2360c6();else{if(!_0x1113d2)await handleError(_0x1f4669,null);}}}}}async function handleError(_0x1a7044,_0x584aeb,_0x230804=''){const _0x2b45cc=_0x3e0ee0;if(botPaused)return;let _0x491e16;const _0x563a6a=config[_0x2b45cc(0x137)]||_0x2b45cc(0x133);if(_0x584aeb)logger[_0x2b45cc(0x17f)](_0x2b45cc(0x2b1)+_0x584aeb);if(_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)]('DDoSProtection'))_0x491e16=_0x563a6a+_0x2b45cc(0x27f),await pauseBot(undefined,_0x491e16,_0x1a7044);else{if(_0x1a7044[_0x2b45cc(0x1bb)]()['includes'](_0x2b45cc(0x1e8)))_0x491e16=_0x563a6a+_0x2b45cc(0x22d),await pauseBot(undefined,_0x491e16,_0x1a7044);else{if(_0x1a7044[_0x2b45cc(0x1bb)]()['includes']('ExchangeNotAvailable')||_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)]('OnMaintenance'))_0x491e16=_0x563a6a+_0x2b45cc(0x2a8),await pauseBot(undefined,_0x491e16,_0x1a7044[_0x2b45cc(0x1bb)]());else{if(_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)](_0x2b45cc(0x153)))_0x491e16=_0x563a6a+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x491e16,_0x1a7044[_0x2b45cc(0x1bb)]());else{if(_0x1a7044[_0x2b45cc(0x1bb)]()['includes']('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x491e16=_0x563a6a+_0x2b45cc(0x2b2),await pauseBot(undefined,_0x491e16,_0x1a7044['toString']());else{if(_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x1a7)]()[_0x2b45cc(0x2b0)]('timestamp')||_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x1a7)]()[_0x2b45cc(0x2b0)]('request-time'))_0x491e16=_0x2b45cc(0x278),await pauseBot(undefined,_0x491e16,_0x1a7044[_0x2b45cc(0x1bb)]());else{if(_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)](_0x2b45cc(0x2b4)))_0x491e16=_0x563a6a+_0x2b45cc(0x26b),await pauseBot(undefined,_0x491e16,_0x1a7044[_0x2b45cc(0x1bb)]());else{if(_0x1a7044 instanceof ccxt['NetworkError'])_0x491e16=_0x563a6a+_0x2b45cc(0x244)+_0x1a7044[_0x2b45cc(0x1bb)](),logger[_0x2b45cc(0x17f)](_0x2b45cc(0x2c1),_0x1a7044),await pauseBot(undefined,_0x491e16,_0x1a7044);else{if(_0x1a7044[_0x2b45cc(0x1bb)]()['includes'](_0x2b45cc(0x272)))logHistory(_0x2b45cc(0x175),_0x563a6a+_0x2b45cc(0x12c)),logHistory('error',_0x2b45cc(0x185)),await killBot();else{if(_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)](_0x2b45cc(0x14d)))logHistory(_0x2b45cc(0x175),_0x563a6a+_0x2b45cc(0x161)),logHistory(_0x2b45cc(0x175),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1a7044['toString']()['includes'](_0x2b45cc(0x13e))&&_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)](_0x2b45cc(0x1b2)))_0x491e16=_0x563a6a+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)',await pauseBot(undefined,_0x491e16,_0x1a7044,!![]);else{if(_0x1a7044['toString']()[_0x2b45cc(0x2b0)]('AuthenticationError'))config[_0x2b45cc(0x1e1)]?_0x491e16=_0x563a6a+_0x2b45cc(0x111):_0x491e16=_0x563a6a+_0x2b45cc(0x1fe),logHistory('error',_0x491e16),logHistory(_0x2b45cc(0x175),_0x2b45cc(0x185)),await killBot();else{if(_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)](_0x2b45cc(0x215)))logHistory(_0x2b45cc(0x175),_0x563a6a+_0x2b45cc(0x1d1)),logHistory(_0x2b45cc(0x175),_0x2b45cc(0x185)),await killBot();else{if(_0x1a7044[_0x2b45cc(0x1bb)]()[_0x2b45cc(0x2b0)](_0x2b45cc(0x225)))logHistory(_0x2b45cc(0x175),_0x2b45cc(0x252)+_0x230804),logger[_0x2b45cc(0x17f)](_0x2b45cc(0x280),_0x1a7044);else{if(_0x1a7044 instanceof ccxt[_0x2b45cc(0x224)]){_0x491e16=_0x563a6a+_0x2b45cc(0x121)+_0x1a7044['toString']();if(_0x230804)_0x491e16+='\x0aSymbol(s):\x20'+_0x230804;await pauseBot(undefined,_0x491e16,_0x1a7044);}else{_0x491e16=_0x2b45cc(0x282)+_0x1a7044[_0x2b45cc(0x1bb)]();if(_0x230804)_0x491e16+=_0x2b45cc(0x125)+_0x230804;await pauseBot(undefined,_0x491e16);}}}}}}}}}}}}}}}}function decryptRSA(_0x23e634,_0x9b1fa7){const _0x2c4284=_0x3e0ee0,_0x257161=forge[_0x2c4284(0x2df)][_0x2c4284(0x15f)](_0x23e634),_0x3f79e4=_0x257161[_0x2c4284(0x17d)](forge[_0x2c4284(0x208)][_0x2c4284(0x27a)](_0x9b1fa7),'RSA-OAEP',{'md':forge['md'][_0x2c4284(0x131)][_0x2c4284(0x237)](),'mgf1':{'md':forge['md']['sha256'][_0x2c4284(0x237)]()}});return _0x3f79e4;}async function withRetry(_0x2ce713,_0x394350){const _0x420bc1=_0x3e0ee0;let _0x3f967d=![],_0x5d7d36=0x0,_0x1d760d,_0x3ab204;while(_0x5d7d36<maxRetries){try{_0x1d760d=await _0x394350();break;}catch(_0xd9da54){_0x3ab204=_0xd9da54,!_0x3f967d?(_0x3f967d=!![],logger[_0x420bc1(0x17f)](_0x420bc1(0x262)+_0x2ce713+':',_0xd9da54[_0x420bc1(0x1bb)]())):await sleep(retryInterval);}_0x5d7d36++;}if(_0x5d7d36==0x0)return _0x1d760d;if(_0x5d7d36>=maxRetries)throw _0x3ab204;else return logger[_0x420bc1(0x17f)](_0x420bc1(0x28e)+_0x5d7d36+_0x420bc1(0x23f)),_0x1d760d;}function formatResult(_0x4e2f31,_0x4ce629){const _0x598966=_0x3e0ee0;return parseFloat(_0x4e2f31[_0x598966(0x1f8)](_0x4ce629));}function formatResultTruncate(_0x49e554,_0x464ffe){const _0x330343=_0x3e0ee0;let _0xa6a552=formatResultString(_0x49e554,0xa),_0x56a37b=_0xa6a552[_0x330343(0x26a)]('.');return _0x56a37b!=-0x1&&(_0xa6a552=_0xa6a552['slice'](0x0,_0x56a37b+_0x464ffe+0x1)),Number(_0xa6a552);}function formatResultString(_0x286afb,_0x35cd08){const _0x547716=_0x3e0ee0;let _0x5b8249;if(!(''+_0x286afb)[_0x547716(0x2b0)]('e'))_0x5b8249=+(Math['round'](_0x286afb+'e+'+_0x35cd08)+'e-'+_0x35cd08);else{let _0x589ac7=(''+_0x286afb)['split']('e'),_0x15efa5='';+_0x589ac7[0x1]+_0x35cd08>0x0&&(_0x15efa5='+'),_0x5b8249=+(Math[_0x547716(0x276)](+_0x589ac7[0x0]+'e'+_0x15efa5+(+_0x589ac7[0x1]+_0x35cd08))+'e-'+_0x35cd08);}return Number(_0x5b8249)[_0x547716(0x1f8)](_0x35cd08);}function getServerTime(){const _0x1463ab=_0x3e0ee0,_0x20304b=new Date();return _0x20304b[_0x1463ab(0x173)]()+'/'+(_0x20304b['getMonth']()+0x1)[_0x1463ab(0x1bb)]()['padStart'](0x2,'0')+'/'+_0x20304b[_0x1463ab(0x23b)]()[_0x1463ab(0x1bb)]()['padStart'](0x2,'0')+'\x20'+_0x20304b[_0x1463ab(0x1c9)]()[_0x1463ab(0x1bb)]()[_0x1463ab(0x10e)](0x2,'0')+':'+_0x20304b[_0x1463ab(0x1ff)]()[_0x1463ab(0x1bb)]()[_0x1463ab(0x10e)](0x2,'0')+':'+_0x20304b['getSeconds']()[_0x1463ab(0x1bb)]()[_0x1463ab(0x10e)](0x2,'0');}function getTimeStamp(){const _0x6e02b5=_0x3e0ee0,_0x39a61f=shiftedTime();return _0x39a61f[_0x6e02b5(0x173)]()+'/'+(_0x39a61f[_0x6e02b5(0x1f0)]()+0x1)['toString']()[_0x6e02b5(0x10e)](0x2,'0')+'/'+_0x39a61f[_0x6e02b5(0x23b)]()[_0x6e02b5(0x1bb)]()[_0x6e02b5(0x10e)](0x2,'0')+'\x20'+_0x39a61f[_0x6e02b5(0x1c9)]()[_0x6e02b5(0x1bb)]()[_0x6e02b5(0x10e)](0x2,'0')+':'+_0x39a61f[_0x6e02b5(0x1ff)]()['toString']()[_0x6e02b5(0x10e)](0x2,'0')+':'+_0x39a61f[_0x6e02b5(0x2b8)]()[_0x6e02b5(0x1bb)]()[_0x6e02b5(0x10e)](0x2,'0');}function getDate(){const _0x5abee5=_0x3e0ee0,_0xc7d7e1=shiftedTime();return _0xc7d7e1[_0x5abee5(0x173)]()+'/'+(_0xc7d7e1[_0x5abee5(0x1f0)]()+0x1)[_0x5abee5(0x1bb)]()[_0x5abee5(0x10e)](0x2,'0')+'/'+_0xc7d7e1[_0x5abee5(0x23b)]()[_0x5abee5(0x1bb)]()[_0x5abee5(0x10e)](0x2,'0');}function getHour(){const _0x688c18=_0x3e0ee0,_0x57f425=shiftedTime();return _0x57f425[_0x688c18(0x1c9)]()[_0x688c18(0x1bb)]()[_0x688c18(0x10e)](0x2,'0');}function sleep(_0x5e2435){return new Promise(_0xd63161=>setTimeout(_0xd63161,_0x5e2435));}function shiftedTime(){const _0x226c68=_0x3e0ee0,_0x2af8f2=new Date();let _0x2c4b36=_0x2af8f2;if(config&&config['timeshift']!==0x0)_0x2c4b36=fns[_0x226c68(0x29e)](_0x2af8f2,{'hours':config[_0x226c68(0x24b)]});return _0x2c4b36;}function timer(_0x427b7b){const _0x49210d=_0x3e0ee0,_0x399c69=new Date();!lasttime?console[_0x49210d(0x28f)](getTimeStamp()+_0x49210d(0x18c),_0x427b7b,_0x399c69):console[_0x49210d(0x28f)](getTimeStamp()+':\x20timer\x20>',_0x427b7b,(_0x399c69-lasttime)/0x3e8),lasttime=_0x399c69;}