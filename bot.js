const _0x584ccc=_0x4d91;(function(_0x29de69,_0x2298eb){const _0x193b87=_0x4d91,_0x576637=_0x29de69();while(!![]){try{const _0x233eb0=-parseInt(_0x193b87(0x22d))/0x1*(parseInt(_0x193b87(0x291))/0x2)+-parseInt(_0x193b87(0x21c))/0x3+parseInt(_0x193b87(0x1b2))/0x4+-parseInt(_0x193b87(0x281))/0x5+parseInt(_0x193b87(0x315))/0x6*(parseInt(_0x193b87(0x162))/0x7)+parseInt(_0x193b87(0x21a))/0x8+parseInt(_0x193b87(0x2f7))/0x9;if(_0x233eb0===_0x2298eb)break;else _0x576637['push'](_0x576637['shift']());}catch(_0x5d26da){_0x576637['push'](_0x576637['shift']());}}}(_0x4455,0xde00b));const _0x391a46=function(){let _0x2cebce=!![];return function(_0x1cd009,_0xde2828){const _0x293e2f=_0x2cebce?function(){const _0x3e2a2b=_0x4d91;if(_0xde2828){const _0x2a149c=_0xde2828[_0x3e2a2b(0x153)](_0x1cd009,arguments);return _0xde2828=null,_0x2a149c;}}:function(){};return _0x2cebce=![],_0x293e2f;};}(),_0x5ceffa=_0x391a46(this,function(){const _0x5075d5=_0x4d91;return _0x5ceffa[_0x5075d5(0x1aa)]()[_0x5075d5(0x1e0)](_0x5075d5(0x1bb))[_0x5075d5(0x1aa)]()[_0x5075d5(0x2e5)](_0x5ceffa)[_0x5075d5(0x1e0)](_0x5075d5(0x1bb));});_0x5ceffa();'use strict';const ccxt=require(_0x584ccc(0x252)),low=require(_0x584ccc(0x2de)),FileSync=require(_0x584ccc(0x1ff)),fs=require('fs'),fns=require('date-fns'),forge=require(_0x584ccc(0x2cf)),util=require(_0x584ccc(0x201)),argv=require(_0x584ccc(0x19b))(process[_0x584ccc(0x204)][_0x584ccc(0x279)](0x2))[_0x584ccc(0x204)],path=require(_0x584ccc(0x1f1)),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x584ccc(0x2e1),_0x584ccc(0x1e3),'TUSD','USDT',_0x584ccc(0x306),_0x584ccc(0x20c)],excludedExchanges=[_0x584ccc(0x2b4)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x584ccc(0x31e)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x584ccc(0x30b)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x584ccc(0x1a2)+pauseBotInterval/0xea60+_0x584ccc(0x1c7),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x584ccc(0x1cc))['version'],environment=require(_0x584ccc(0x1cc))[_0x584ccc(0x2c5)]||_0x584ccc(0x1d5),botID=process['argv'][0x2]||_0x584ccc(0x1d9),pattern=/^[0-9]{3}$/;!pattern[_0x584ccc(0x2c1)](botID)&&(console[_0x584ccc(0x271)](_0x584ccc(0x299)+botID+_0x584ccc(0x25d)),killBot());const userID=process[_0x584ccc(0x204)][0x3]||'',configpath=userID?_0x584ccc(0x292)+userID+'/':_0x584ccc(0x292),logspath=userID?'./logs/'+userID+'/':'./logs/',loggerfile=fs[_0x584ccc(0x28a)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x584ccc(0x197)](configpath)&&fs[_0x584ccc(0x289)](configpath);!fs[_0x584ccc(0x197)](logspath)&&fs[_0x584ccc(0x289)](logspath);function _0x4455(){const _0x1b0a41=['Initializing\x20exchange','Portfolio\x20change\x20detected:\x20','RETRY\x20-\x20Problem\x20resolved\x20after\x20','RateLimitExceeded','slider','progress','reverse','Failed\x20to\x20load\x20coin\x20data\x20for\x20','sandbox','remove','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20minutes','-performance.json','currency','change24h','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','./version.json','indexOf','watchTrades','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','loadMarkets','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','breakeven','autoliquidity','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','production','realizedPnL','Resetting\x20bot\x20history','Exchange','001','forEach','Manual\x20balancing\x20required','data','options','type','startprice','search','map','password','BUSD','Binance','orderId','must\x20be\x20greater\x20than\x20minimum\x20amount','OnMaintenance','\x0aSymbol(s):\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Error\x20details:\x20','splice','excluded','defaults','final','Error\x20in\x20loadSymbols():\x20','warning','path','toFixed','change','emojibuy','bot','RSA-OAEP','\x20order:\x20','\x20|\x20highest\x20fee:\x20','complete','market_cap','closed','delta','quote','findIndex','lowdb/adapters/FileSync','\x20>\x20','util','bb-secure.json','0\x20-\x20EXECUTION:\x20','argv','side','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','apiKey','startdate','push','Valid\x20balance\x20for\x20','2\x20-\x20Validate\x20orders:\x20','USDP','timestamp','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','privateKeyFromPem','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','watchTradesForSymbols()','sendMetricsTelegram','testAPI()','Error\x20in\x20testNewAPI():\x20','removed','spot','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Order\x20filled:\x20','5270456IWrjne','LOCKED','1182024VcLsBy','\x20metrics:</b>\x20\x0a\x0a','target','2.6.22','split','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','enableFiatToggle','amountToPrecision','valid','symbol','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','Waited\x20','-------------------------------\x0a','RETRY\x20-\x20Error\x20in\x20','memoryUsage','limits','Net\x20','7VNsEOc','Cooldown\x20ended\x20-\x20balancing\x20resumed','configstate','watchOrders','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','coin','random','success','process\x20','write','getMonth','\x20>\x20details:','full','fiat','USDT','pid','debug','toUpperCase','onepagemode','Resuming\x20(','Reset\x20|\x20','Test\x20new\x20API','stack','entries','\x20|\x20lock\x20orders:\x20','liquidity','request-time','length','-config.json','buys','\x20has\x20a\x2024h\x20drop\x20of\x20','number','last','market','loadSymbols()','buy','recreate','ccxt','Bitget','\x20exchange\x20error:\x20','cancel','Limit\x20(low-margin)','coins','Initializing\x20exchange:\x20already\x20done','portfolio2','restart','initTickers()','eur',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20MB','open','toLowerCase','no\x20exchange\x20reloaded','************','error','\x20|\x20','sell','sqrt','canceled','Bybit','Unknown\x20error:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','trade','create','emojisell',')\x20unknown\x20order:\x20','secret','set','log','prevnumber','Market\x20order','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','\x20due\x20to\x20offset','createOrder','filled','EUR','slice','\x20exchange','\x20hour','InvalidOrder','1\x20-\x20Handle\x20open\x20orders','value',':\x20timer\x20>','get','2876095jzHXaR','getStartingBalances','highest','DDoSProtection','Placing\x20order\x20for:\x20','update-liquidity','apiSecret','bid','mkdirSync','createWriteStream','loading-canceled','marketcapApi','round','2\x20-\x20Handled\x20open\x20orders','marketcapEnabled','average','280342QdGdXL','./config/','Error\x20occurred:\x20','cooldown','2\x20-\x20handling\x20FILLED\x20order:\x20','net','%\x20(','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','Error:\x20Invalid\x20argument\x20','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','recent20','fetchTickers','.json','filter','<b>','join','configuration','Loading\x20completed','added','amount','pnl-basecoin','Network\x20error\x20details:','timestamp-issue','has','Trigger:\x20','differenceInSeconds','getFullYear','1\x20-\x20FILLED\x20known\x20order:\x20','portfolio','Market','uncaughtException','-events.json','none','min','botID','bitmex','getOpenOrders()','orderstatus','NetworkError','\x20/\x20','portfolio1','ExchangeError','order','staging','apiPassword','fetchBalance()','colorscheme','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','test','***','floor','Invalid\x20balance\x20for\x20','environment','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','InvalidNonce','/USDT',')\x20known\x20order:\x20','toggleBotMode','pro','message','operatorId','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','node-forge',':\x20Bot\x20','PAXG','balances','ongoing','Order\x20is\x20invalid:\x20','timeshift','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','page','sha256','keys','\x20>\x20[DEBUG]\x20','\x20attempts','offset','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','lowdb','</pre>','fetchTickers()','USD','BTC','usd','cancelOrders()','constructor','add','enabled','Value\x20','getHours','watchTradesForSymbols','padStart','total','MIN_NOTIONAL','botname','yyyy/MM/dd','settings','OrderNotFound','writeFile','includes','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','detectLiquidityChange()','format','8025903tOmEjB','getDate','<b>Bot\x20','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Error\x20details:','shift','RequestTimeout','fee','basecoin','exchange','quick','\x20portfolio:</b>\x20\x0a\x0a','max','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','status','USDC','\x20network\x20error:\x20','version','find',')\x20|\x20exchange:\x20','UNLOCKED','price','send','PnL\x20','fetchOpenOrders','showConfig','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','storeHeadless','initial','cloneDeep','6PROOZS','sort','logs','event','Order(s)\x20not\x20validated\x20after\x20','%)\x0a','\x20|\x20exchange:\x20','storeConfiguration','assign','freeze','bots','cancelOrder','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','pop','replace','testApi','Cex','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','isBefore','args','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','cost','apply','getMinutes','2.6.0','bot-','Block\x20transaction\x20detection:\x20','/USD','showname','no\x20open\x20orders','Generated\x20PnL\x20data','fetchTicker','match','time','headless','Executed\x20','Huobi','2741487wqUKrZ','resetHistory','Fee\x20discount\x20refund\x20detected:\x20','ETH','fetchBalance','openOrders','\x20orders\x20in\x20less\x20than\x20','\x20-\x20go\x20back\x20and\x20try\x20again','sortBy','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','changes','AuthenticationError','api-issue','limit','Bot\x20','API-key\x20format\x20invalid','Invalid\x20quantity','ExchangeNotAvailable','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','self_reported_market_cap','isEqual','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','1\x20-\x20Validate\x20orders:\x20','net-basecoin','ID:\x20','Order\x20amount\x20is\x20invalid:\x20','Limit\x20(high-margin)','bitvavo','threshold','distribution','\x20minutes\x20-\x20','abs','Invalid\x20symbol:\x20','Order\x20filled','ask','deleteHistoryAlerts','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','startnumber','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','recovery','performance','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','2.6.23','cancelLoading','<pre>','code','kill','Pausing\x20for\x20','red_yellow_blue','Headless:\x20','existsSync','No\x20more\x20open\x20orders\x20-\x20','2.3.5','remainingSymbols','yargs/yargs','date','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','coin-loading-progress','function','pnl','InsufficientFunds','\x20>\x20pausing\x20bot\x20for\x20','parse','fromCodePoint','running','privateKey','stringify','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','pki','toString','percentage','marketcap','Exception\x20thrown\x20in\x20','pnl-fiat','unlinkSync','event-history','/backup/','3670128oaWAUu','-results.json','configuration-stored','PermissionDenied','ordertype','timeout','Error\x20while\x20deleting\x20files:\x20','substring','getTime','(((.+)+)+)+$'];_0x4455=function(){return _0x1b0a41;};return _0x4455();}const configfile=configpath+_0x584ccc(0x156)+botID+_0x584ccc(0x249),logfile=configpath+_0x584ccc(0x156)+botID+'-events.json',performancefile=configpath+_0x584ccc(0x156)+botID+_0x584ccc(0x1c8),coinresultsfile=configpath+_0x584ccc(0x156)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x584ccc(0x202),configbackuppath=configpath+_0x584ccc(0x1b1),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x584ccc(0x1ed)]({'logs':[],'version':serverversion})[_0x584ccc(0x236)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x584ccc(0x236)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x584ccc(0x1ed)]({'bot':[],'version':serverversion})[_0x584ccc(0x236)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x584ccc(0x1ed)]({'coins':{},'version':serverversion})[_0x584ccc(0x236)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x181cee=>{console['log'](_0x181cee);},'simple':_0x3b8c05=>{const _0x3bcdf1=_0x584ccc;console[_0x3bcdf1(0x271)](_0x3b8c05),loggerfile[_0x3bcdf1(0x236)](util[_0x3bcdf1(0x2f6)](_0x3b8c05)+'\x0a');},'full':async(_0x4ac65d,_0x35b343='')=>{const _0x521702=_0x584ccc;let _0x46dfc7;if(config[_0x521702(0x159)])_0x46dfc7=getTimeStamp()+':\x20'+config['botname']+_0x521702(0x200)+_0x4ac65d;else _0x46dfc7=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x4ac65d;console[_0x521702(0x271)](_0x46dfc7),loggerfile['write'](util['format'](_0x46dfc7)+'\x0a'),_0x35b343&&(console[_0x521702(0x271)](_0x35b343),loggerfile[_0x521702(0x236)](util[_0x521702(0x2f6)](_0x35b343)+'\x0a'));},'debug':async(_0x1d8c38,_0xd3e66b='')=>{const _0x12a7eb=_0x584ccc;let _0x52cceb;if(config[_0x12a7eb(0x159)])_0x52cceb=getTimeStamp()+':\x20'+config['botname']+_0x12a7eb(0x2da)+_0x1d8c38;else _0x52cceb=getTimeStamp()+_0x12a7eb(0x2d0)+botID+_0x12a7eb(0x2da)+_0x1d8c38;if(debugging)console[_0x12a7eb(0x271)](_0x52cceb);loggerfile[_0x12a7eb(0x236)](util[_0x12a7eb(0x2f6)](_0x52cceb)+'\x0a');if(_0xd3e66b){if(debugging)console[_0x12a7eb(0x271)](_0xd3e66b);loggerfile[_0x12a7eb(0x236)](util[_0x12a7eb(0x2f6)](_0xd3e66b)+'\x0a');}}};process['on'](_0x584ccc(0x2af),function(_0x27fcaa){const _0x23b6a3=_0x584ccc;handleError(_0x27fcaa[_0x23b6a3(0x243)],_0x23b6a3(0x2af));});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings['timeshift']);settings[_0x584ccc(0x23f)]!=config[_0x584ccc(0x23f)]&&updateOnepagemode(settings[_0x584ccc(0x23f)]);(settings['marketcapApi']&&!config[_0x584ccc(0x28c)]||!settings['marketcapApi']&&config['marketcapApi'])&&updateMarketcapApi(settings['marketcapApi']);process[_0x584ccc(0x30d)]({'started':_0x584ccc(0x1a5)},_0x52e085=>{}),initializeProcessListeners();function proxyEmit(_0x32de2a,_0xf85474=null){process['send']({'function':_0x32de2a,'args':_0xf85474},_0x491077=>{});}function initializeProcessListeners(){const _0x43624e=_0x584ccc;process['on'](_0x43624e(0x2cc),_0x72c20c=>{const _0x66b0f0=_0x43624e;switch(Object['keys'](_0x72c20c)[0x0]){case _0x66b0f0(0x2d5):_0x72c20c[_0x66b0f0(0x2d5)]!=undefined&&(settings[_0x66b0f0(0x2d5)]=_0x72c20c[_0x66b0f0(0x2d5)],updateTimeshift(settings[_0x66b0f0(0x2d5)]));break;case _0x66b0f0(0x23f):_0x72c20c['onepagemode']!=undefined&&(settings[_0x66b0f0(0x23f)]=_0x72c20c[_0x66b0f0(0x23f)],updateOnepagemode(settings[_0x66b0f0(0x23f)]));break;case _0x66b0f0(0x28c):_0x72c20c[_0x66b0f0(0x28c)]!=undefined&&(settings['marketcapApi']=_0x72c20c['marketcapApi'],updateMarketcapApi(settings[_0x66b0f0(0x28c)]));break;case _0x66b0f0(0x31f):_0x72c20c[_0x66b0f0(0x31f)]!=undefined&&(bots=JSON[_0x66b0f0(0x1a3)](_0x72c20c[_0x66b0f0(0x31f)]),proxyEmit(_0x66b0f0(0x31f),bots));break;case'function':switch(_0x72c20c[_0x66b0f0(0x19f)]){case'initclient':initclient();break;case _0x66b0f0(0x2ca):toggleBotMode();break;case'emitHistory':emitHistory(_0x72c20c[_0x66b0f0(0x328)]);break;case _0x66b0f0(0x186):deleteHistoryAlerts(_0x72c20c[_0x66b0f0(0x328)]);break;case'getPortfolio':getPortfolio(_0x72c20c['args']);break;case _0x66b0f0(0x31c):storeConfiguration(_0x72c20c['args']);break;case _0x66b0f0(0x312):storeHeadless(_0x72c20c[_0x66b0f0(0x328)]);break;case'storeFiat':storeFiat(_0x72c20c[_0x66b0f0(0x328)]);break;case _0x66b0f0(0x163):resetHistory();break;case _0x66b0f0(0x282):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x72c20c['args']);break;case _0x66b0f0(0x190):cancelLoading();break;case _0x66b0f0(0x310):showConfig();break;case _0x66b0f0(0x213):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x389558=![]){const _0x2300bd=_0x584ccc;logger[_0x2300bd(0x23d)](_0x2300bd(0x241)+(_0x389558?'exchange\x20reload':_0x2300bd(0x261))+_0x2300bd(0x31b)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x2300bd(0x207)]!=''&&config[_0x2300bd(0x207)]!=_0x2300bd(0x2c2)){loadingProgress=0x0;if(_0x389558){await initExchange();const _0x4af230=await testAPI();if(!_0x4af230)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x2300bd(0x2a1),emittedConfiguration()),initialPerformanceStored=![];}const _0x29156c=await getCoins();[currentCoins,currentCoinsAll]=_0x29156c,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x2300bd(0x2a2)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2300bd(0x248)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x1218dd=![]){const _0x13a01b=_0x584ccc;logger[_0x13a01b(0x23d)](_0x13a01b(0x240)+(_0x1218dd?_0x13a01b(0x301):_0x13a01b(0x1f9))+_0x13a01b(0x30a)+config[_0x13a01b(0x300)]);if(pidBalances)clearTimeout(pidBalances);if(_0x1218dd){getBalances();return;}coinsLoaded=![];if(config[_0x13a01b(0x207)]!=''&&config[_0x13a01b(0x207)]!=_0x13a01b(0x2c2)){loadingProgress=0x1;const _0x532825=await getCoins();[currentCoins,currentCoinsAll]=_0x532825,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug']('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x13a01b(0x248)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x19e3b5){const _0x257b9a=_0x584ccc;let _0x589f7d=![];if(_0x19e3b5)_0x589f7d=!![];const _0x3ef809=_0x589f7d?_0x19e3b5:currentCoins,_0x4b551c=_0x3ef809[_0x257b9a(0x1e1)](_0x2d74b3=>_0x2d74b3['coin']);if(!config[_0x257b9a(0x28c)]||!_0x589f7d&&!config[_0x257b9a(0x28f)]||_0x4b551c['length']==0x0)return;let _0x50a43c=null;try{_0x50a43c=await axios['get'](_0x257b9a(0x18e),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x257b9a(0x28c)]},'params':{'symbol':_0x4b551c[_0x257b9a(0x1aa)]()}});}catch(_0x39f68e){_0x50a43c=null,_0x39f68e['toString']()['includes']('status\x20code\x20401')?(config[_0x257b9a(0x28c)]=![],updateConfig(),proxyEmit(_0x257b9a(0x2a1),emittedConfiguration()),logHistory(_0x257b9a(0x263),_0x257b9a(0x1a8))):(logHistory(_0x257b9a(0x263),_0x257b9a(0x274)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x257b9a(0x23d)](_0x257b9a(0x2fb),_0x39f68e[_0x257b9a(0x1aa)]()+'\x20-\x20'+_0x39f68e[_0x257b9a(0x192)]));}const _0x3b7d06=new Map();let _0x346feb=!![];if(_0x50a43c){let _0x500575=0x0;const _0x2680f7=_0x50a43c[_0x257b9a(0x1dc)];_0x4b551c[_0x257b9a(0x1da)](_0x12d6c8=>{const _0x3fa75b=_0x257b9a;if(_0x2680f7[_0x3fa75b(0x1dc)][_0x12d6c8][0x0]&&_0x2680f7[_0x3fa75b(0x1dc)][_0x12d6c8][0x0][_0x3fa75b(0x1fd)]['USD'][_0x3fa75b(0x1fa)])_0x3b7d06[_0x3fa75b(0x270)](_0x12d6c8,_0x2680f7['data'][_0x12d6c8][0x0][_0x3fa75b(0x1fd)]['USD'][_0x3fa75b(0x1fa)]),_0x500575+=_0x2680f7[_0x3fa75b(0x1dc)][_0x12d6c8][0x0][_0x3fa75b(0x1fd)][_0x3fa75b(0x2e1)][_0x3fa75b(0x1fa)];else{if(_0x2680f7[_0x3fa75b(0x1dc)][_0x12d6c8][0x0]&&_0x2680f7[_0x3fa75b(0x1dc)][_0x12d6c8][0x0][_0x3fa75b(0x175)])_0x3b7d06['set'](_0x12d6c8,_0x2680f7[_0x3fa75b(0x1dc)][_0x12d6c8][0x0][_0x3fa75b(0x175)]),_0x500575+=_0x2680f7['data'][_0x12d6c8][0x0][_0x3fa75b(0x175)];else{if(![_0x3fa75b(0x278),_0x3fa75b(0x2e1)]['includes'](_0x12d6c8)){if(_0x589f7d)logHistory('error',_0x3fa75b(0x189)+_0x12d6c8+_0x3fa75b(0x169));else{const _0x1fa72a=config[_0x3fa75b(0x2ad)][_0x3fa75b(0x309)](_0x470a98=>_0x470a98[_0x3fa75b(0x232)]==_0x12d6c8);_0x1fa72a&&!_0x1fa72a[_0x3fa75b(0x1ec)]&&_0x1fa72a[_0x3fa75b(0x1c0)]==-0x1&&(_0x346feb=![],logHistory(_0x3fa75b(0x263),_0x3fa75b(0x298)),logger[_0x3fa75b(0x23d)](_0x3fa75b(0x189)+_0x12d6c8));}}}}});if(!_0x346feb)return;_0x4b551c[_0x257b9a(0x1da)](_0x378982=>{const _0x891579=_0x257b9a,_0x545c98=_0x3b7d06[_0x891579(0x280)](_0x378982)?_0x3b7d06[_0x891579(0x280)](_0x378982):0x0;if(_0x589f7d){const _0x419989=_0x19e3b5[_0x891579(0x309)](_0x172893=>_0x172893['coin']==_0x378982);_0x419989&&(_0x419989[_0x891579(0x1ac)]=_0x545c98);}else{const _0x5a59ee=currentCoins[_0x891579(0x309)](_0x15ad91=>_0x15ad91[_0x891579(0x232)]==_0x378982);_0x5a59ee&&(_0x5a59ee[_0x891579(0x1ac)]=_0x545c98);const _0x27f856=currentCoinsAll['find'](_0x3cf210=>_0x3cf210[_0x891579(0x232)]==_0x378982);_0x27f856&&(_0x27f856[_0x891579(0x1ac)]=_0x545c98);}}),!_0x589f7d&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x120c43=_0x584ccc,_0x458935=0x2;let _0x557d8f=0x0,_0x451d24=0x0,_0x5a5703=0x0,_0x5079b3=0x0,_0x1b6513=0x0;config[_0x120c43(0x2ad)][_0x120c43(0x1da)](_0x41b67b=>{const _0xf5de53=_0x120c43;if(!_0x41b67b[_0xf5de53(0x1ec)]){_0x5a5703++,_0x557d8f+=_0x41b67b['slider'];if(_0x41b67b[_0xf5de53(0x1c0)]===-0x1){_0x557d8f++;const _0x224660=currentCoinsAll[_0xf5de53(0x309)](_0x11c990=>_0x11c990[_0xf5de53(0x232)]==_0x41b67b[_0xf5de53(0x232)]);_0x224660&&(_0x5079b3+=_0x224660[_0xf5de53(0x1ac)],_0x1b6513+=Math[_0xf5de53(0x266)](_0x224660[_0xf5de53(0x1ac)]));}if(_0x41b67b['slider']!==-0x1)_0x451d24++;}});let _0x1560ae;const _0x56b61a=0x64-_0x557d8f,_0x19a505=_0x5a5703-_0x451d24;_0x1560ae=_0x19a505===0x0?_0x557d8f:Math['max'](0x64,_0x557d8f),config['portfolio']['forEach'](_0x7073b3=>{const _0x5c3310=_0x120c43,_0x47111b=currentCoinsAll[_0x5c3310(0x309)](_0x18f28d=>_0x18f28d[_0x5c3310(0x232)]==_0x7073b3[_0x5c3310(0x232)]);_0x47111b&&(_0x7073b3[_0x5c3310(0x1ac)]=_0x47111b['marketcap']);if(!_0x7073b3[_0x5c3310(0x1ec)]){if(_0x1560ae<=0x64){if(_0x7073b3[_0x5c3310(0x1c0)]===-0x1){if(_0x5079b3!==0x0&&config[_0x5c3310(0x28f)]){if(_0x47111b){if(config[_0x5c3310(0x28f)]==_0x5c3310(0x1ac))_0x7073b3[_0x5c3310(0x180)]=(_0x56b61a/(_0x5079b3/_0x47111b[_0x5c3310(0x1ac)]))[_0x5c3310(0x1f2)](_0x458935);else config[_0x5c3310(0x28f)]=='marketcapsqrt'&&(_0x7073b3[_0x5c3310(0x180)]=(_0x56b61a/(_0x1b6513/Math[_0x5c3310(0x266)](_0x47111b[_0x5c3310(0x1ac)])))[_0x5c3310(0x1f2)](_0x458935));}}}}}}),updateConfig();}function updateConfig(){const _0x2acba3=_0x584ccc;let _0x4a469c=dbConfig[_0x2acba3(0x280)]('bot')['find']({'botID':botID})[_0x2acba3(0x27e)]();_0x4a469c&&dbConfig['get'](_0x2acba3(0x1f5))[_0x2acba3(0x309)]({'botID':botID})['assign'](config)[_0x2acba3(0x236)]();}function logMemory(){const _0x46fdbc=_0x584ccc;if(environment!=_0x46fdbc(0x2bc))return;const _0x10724a=process[_0x46fdbc(0x22a)]()['heapUsed']/0x400/0x400;logger[_0x46fdbc(0x23d)](_0x46fdbc(0x235)+process[_0x46fdbc(0x23c)]+'\x20uses\x20'+formatResult(_0x10724a,0x1)+_0x46fdbc(0x25e));}async function startScheduler(){const _0x36cb69=_0x584ccc,_0xb3a7f=shiftedTime()[_0x36cb69(0x2e9)]();getMarketCap(),loadSymbols(),_0xb3a7f==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x56503d=![]){const _0x3bdc5d=_0x584ccc;logger['debug']('Initiating\x20bot\x20restart');if(!_0x56503d)while(lockOrders!=ORDERS[_0x3bdc5d(0x30b)]||coolingDown){await sleep(0x3e8);}process[_0x3bdc5d(0x30d)]({'stop':_0x3bdc5d(0x25a)},_0x553f4b=>{});}async function initExchange(_0x3e2135=config[_0x584ccc(0x300)],_0x376a62=config[_0x584ccc(0x207)],_0x143150=config[_0x584ccc(0x287)],_0x4e219a=config['apiPassword'],_0x9030d6=config[_0x584ccc(0x1c4)]){const _0x515f9c=_0x584ccc;if(exchange){logger[_0x515f9c(0x23d)](_0x515f9c(0x258));return;}logger[_0x515f9c(0x23d)](_0x515f9c(0x1bc));!supportedExchanges()[_0x515f9c(0x2f3)](_0x3e2135)&&(logHistory(_0x515f9c(0x263),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x3e2135+_0x515f9c(0x27a)),killBot());const _0x3d70d1=ccxt[_0x515f9c(0x2cb)][_0x3e2135[_0x515f9c(0x260)]()];exchange=new _0x3d70d1({'apiKey':_0x376a62,'secret':_0x143150,'options':{'defaultType':_0x515f9c(0x217)}});if(_0x4e219a)exchange[_0x515f9c(0x1e2)]=_0x4e219a;if(exchange[_0x515f9c(0x2a8)]['sandbox'])exchange['setSandboxMode'](_0x9030d6);if(_0x3e2135[_0x515f9c(0x260)]()=='bitvavo')exchange[_0x515f9c(0x1dd)][_0x515f9c(0x2cd)]=operatorId;}function updateExchange(_0x59fa76,_0x400fbc,_0x5a6727=null){const _0x4fcb76=_0x584ccc;exchange[_0x4fcb76(0x207)]=_0x59fa76,exchange[_0x4fcb76(0x26f)]=_0x400fbc,exchange[_0x4fcb76(0x1e2)]=_0x5a6727,logger['debug'](_0x4fcb76(0x206));}function setStableCoins(){const _0x3a71c5=_0x584ccc;let _0x57613f=config['basecoin']==_0x3a71c5(0x165)?'ETH':config[_0x3a71c5(0x2ff)]=='PAXG'?_0x3a71c5(0x2d1):_0x3a71c5(0x2e2),_0x4fd323=allSymbols[_0x3a71c5(0x2f3)](_0x57613f+_0x3a71c5(0x158))?'USD':allSymbols['includes'](_0x57613f+_0x3a71c5(0x2c8))?_0x3a71c5(0x23b):'EUR',_0x4ff1b0=allSymbols['includes'](_0x57613f+'/EUR')?_0x3a71c5(0x278):_0x4fd323;enableFiatToggle=!![],_0x4fd323==_0x3a71c5(0x278)&&(enableFiatToggle=![],storeFiat(_0x3a71c5(0x278))),_0x4ff1b0!=_0x3a71c5(0x278)&&(enableFiatToggle=![],storeFiat('USD')),stablecoins={'eur':{'coin':''+_0x57613f+_0x4ff1b0,'symbol':_0x57613f+'/'+_0x4ff1b0},'usd':{'coin':''+_0x57613f+_0x4fd323,'symbol':_0x57613f+'/'+_0x4fd323}};}async function initwsCcxt(){const _0x5ea9ae=_0x584ccc;initCycle++;const _0x1e8853=initCycle;let _0x3ab689=[];config[_0x5ea9ae(0x2ad)][_0x5ea9ae(0x1da)](_0xb7192=>{const _0x2d2252=_0x5ea9ae;if(!_0xb7192['excluded']&&_0xb7192['coin']!=config[_0x2d2252(0x2ff)])_0x3ab689[_0x2d2252(0x209)](_0xb7192[_0x2d2252(0x225)]);});if(!_0x3ab689[_0x5ea9ae(0x2f3)](stablecoins[_0x5ea9ae(0x25c)]['symbol']))_0x3ab689[_0x5ea9ae(0x209)](stablecoins[_0x5ea9ae(0x25c)][_0x5ea9ae(0x225)]);if(!_0x3ab689['includes'](stablecoins[_0x5ea9ae(0x2e3)]['symbol']))_0x3ab689[_0x5ea9ae(0x209)](stablecoins[_0x5ea9ae(0x2e3)][_0x5ea9ae(0x225)]);loadCoins(_0x3ab689),_0x3ab689=validateSymbols(_0x3ab689);const _0x27e979=async _0x23d022=>{const _0x200639=_0x5ea9ae;let _0x354b63;try{const _0x5a2bcf=await getTickers(_0x23d022);Object[_0x200639(0x244)](_0x5a2bcf)[_0x200639(0x1da)](_0xab2842=>{const _0x7cd4ef=_0x200639;_0x354b63=_0xab2842[0x1][_0x7cd4ef(0x225)],gTicker[noslash(_0x354b63)]=_0xab2842[0x1]['last'],gChange[_0x354b63]=_0xab2842[0x1][_0x7cd4ef(0x1ab)];});}catch(_0x33f44c){await handleError(_0x33f44c,_0x200639(0x25b),_0x354b63);}},_0x285773=async _0x563e4d=>{const _0x2dd1f1=_0x5ea9ae;while(initCycle==_0x1e8853){if(!botPaused)try{const _0x49a78a=await exchange['watchTrades'](_0x563e4d);gTicker[noslash(_0x49a78a[0x0]['symbol'])]=_0x49a78a[0x0][_0x2dd1f1(0x30c)];}catch(_0x2749b1){if(!exchangeStopped)await handleError(_0x2749b1,'watchTrades()',_0x563e4d);}else await sleep(0x64);}},_0x57666b=async _0x3b361d=>{const _0x1f0b91=_0x5ea9ae;while(initCycle==_0x1e8853){if(!botPaused)try{const _0x46c728=await exchange[_0x1f0b91(0x2ea)](_0x3b361d),_0x1d334b=_0x46c728[_0x1f0b91(0x322)]();gTicker[noslash(_0x1d334b[_0x1f0b91(0x225)])]=_0x1d334b[_0x1f0b91(0x30c)];}catch(_0x317cb9){if(!exchangeStopped)await handleError(_0x317cb9,_0x1f0b91(0x212),_0x3b361d[_0x1f0b91(0x1aa)]());}else await sleep(0x64);}},_0x4bbe50=async _0xc653bf=>{const _0x41d3b8=_0x5ea9ae;while(initCycle==_0x1e8853){if(!botPaused){let _0x3a25c3;try{await sleep(0x3c*0x3e8);const _0x3b0545=await getTickers(_0xc653bf);Object[_0x41d3b8(0x244)](_0x3b0545)[_0x41d3b8(0x1da)](_0x3bb471=>{const _0x2da0cc=_0x41d3b8;_0x3a25c3=_0x3bb471[0x1][_0x2da0cc(0x225)],gChange[_0x3a25c3]=_0x3bb471[0x1][_0x2da0cc(0x1ab)];});}catch(_0x998fd){if(!exchangeStopped)await handleError(_0x998fd,_0x41d3b8(0x2e0),_0x3a25c3);}}else await sleep(0x64);}},_0x2f6ec1=async _0x350811=>{const _0x3dfc43=_0x5ea9ae;while(initCycle==_0x1e8853){if(!botPaused)try{const _0x5b354a=await exchange[_0x3dfc43(0x230)](_0x350811);initCycle==_0x1e8853&&_0x5b354a['forEach'](_0xa698a8=>{updateNumberCoinsCcxt(_0xa698a8);});}catch(_0x377b99){if(!exchangeStopped)await handleError(_0x377b99,'watchOrders()');}else await sleep(0x64);}};_0x27e979(_0x3ab689),_0x4bbe50(_0x3ab689),exchange['has'][_0x5ea9ae(0x2ea)]&&!(config[_0x5ea9ae(0x300)]==_0x5ea9ae(0x268)&&_0x3ab689[_0x5ea9ae(0x248)]>0xa)?_0x57666b(_0x3ab689):_0x3ab689[_0x5ea9ae(0x1da)](_0x2f68de=>{_0x285773(_0x2f68de);}),_0x3ab689[_0x5ea9ae(0x1da)](_0x96f6b7=>{_0x2f6ec1(_0x96f6b7);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x101489){const _0x190dc5=_0x584ccc;let _0x56ec63={};try{if(config['exchange']!='Cryptocom')_0x56ec63=await exchange[_0x190dc5(0x29c)](_0x101489);else for(const _0x79c776 of _0x101489){const _0x199c57=await exchange[_0x190dc5(0x15c)](_0x79c776);_0x56ec63[_0x79c776]=_0x199c57;}return _0x56ec63;}catch(_0x3cd545){throw _0x3cd545;}}function setBlockTransactionDetection(_0x5df6ef){const _0x4c7fec=_0x584ccc;blockTransactionDetection=_0x5df6ef,logger[_0x4c7fec(0x23d)](_0x4c7fec(0x157)+blockTransactionDetection);}async function detectLiquidityChange(_0x557758=0x0){const _0x4d9cb6=_0x584ccc;transactionDetectionOngoing=!![];try{const _0x43eecc=await getCoins(_0x557758),[_0x35ccb8,_0x5c041c]=_0x43eecc;let _0x28cb67=[];currentCoins['forEach'](_0x5e764b=>{const _0x46a09d=_0x4d91,_0x367795=_0x35ccb8[_0x46a09d(0x309)](_0x106f12=>_0x106f12[_0x46a09d(0x232)]==_0x5e764b['coin']);if(_0x367795){if(_0x5e764b[_0x46a09d(0x24c)]!=_0x367795[_0x46a09d(0x24c)]){let _0x4e644e;if(_0x5e764b['coin']!=config['basecoin']){const _0xea1c4c=gTicker[noslash(_0x5e764b['symbol'])];_0x4e644e=_0x5e764b[_0x46a09d(0x1c2)]?0x1/_0xea1c4c:_0xea1c4c;}else _0x4e644e=0x1;_0x28cb67[_0x46a09d(0x209)]({'coin':_0x5e764b[_0x46a09d(0x232)],'symbol':_0x5e764b[_0x46a09d(0x225)],'price':_0x4e644e,'number':Number(formatResult(_0x367795[_0x46a09d(0x24c)]-_0x5e764b[_0x46a09d(0x24c)],0x8)),'basecoinvalue':_0x4e644e*(_0x367795[_0x46a09d(0x24c)]-_0x5e764b[_0x46a09d(0x24c)])});}}});if(_0x28cb67['length']>0x0&&!blockTransactionDetection){for(const _0x12ec32 of _0x28cb67){if(config[_0x4d9cb6(0x1d3)]){logger[_0x4d9cb6(0x23d)](_0x4d9cb6(0x174)+_0x12ec32['basecoinvalue']+_0x4d9cb6(0x1f8)+lastFees[_0x4d9cb6(0x283)]);if(lastFees['highest']==0x0||Math[_0x4d9cb6(0x182)](_0x12ec32['basecoinvalue'])>lastFees[_0x4d9cb6(0x283)]*0x3){if(config[_0x4d9cb6(0x1d3)]==_0x4d9cb6(0x286)){delete _0x12ec32[_0x4d9cb6(0x225)],delete _0x12ec32['basecoinvalue'];let _0x53e502=[],_0x25a872=[...config['liquidity']]||[],_0x507bf8=config[_0x4d9cb6(0x246)];_0x25a872['sort']((_0x5d2c60,_0x53d82b)=>_0x5d2c60[_0x4d9cb6(0x19c)]>_0x53d82b[_0x4d9cb6(0x19c)]?-0x1:_0x53d82b[_0x4d9cb6(0x19c)]>_0x5d2c60[_0x4d9cb6(0x19c)]?0x1:0x0);const _0x56232b=getDate();if(_0x25a872[0x0]){const _0x98e22=fns[_0x4d9cb6(0x1a3)](_0x25a872[0x0][_0x4d9cb6(0x19c)],_0x4d9cb6(0x2ef),new Date()),_0xb02783=fns[_0x4d9cb6(0x1a3)](_0x56232b,_0x4d9cb6(0x2ef),new Date());if(fns['isEqual'](_0x98e22,_0xb02783)){_0x53e502=_0x25a872[0x0][_0x4d9cb6(0x16c)];const _0x82857=_0x53e502[_0x4d9cb6(0x309)](_0x3436b6=>_0x3436b6['coin']==_0x12ec32[_0x4d9cb6(0x232)]);_0x82857?(_0x82857[_0x4d9cb6(0x24c)]+=_0x12ec32[_0x4d9cb6(0x24c)],_0x82857['number']==0x0&&(_0x53e502=_0x53e502['filter'](_0x241aff=>{const _0x4ea7c1=_0x4d9cb6;return _0x241aff[_0x4ea7c1(0x232)]!=_0x12ec32[_0x4ea7c1(0x232)];}))):_0x53e502[_0x4d9cb6(0x209)](_0x12ec32);const _0x383864=_0x507bf8[_0x4d9cb6(0x309)](_0x9cc421=>_0x9cc421[_0x4d9cb6(0x19c)]==_0x56232b);_0x383864[_0x4d9cb6(0x16c)]=_0x53e502;}else _0x507bf8[_0x4d9cb6(0x209)]({'date':_0x56232b,'changes':[_0x12ec32]});}const _0x4b3471=_0x507bf8[_0x4d9cb6(0x309)](_0x2058da=>_0x2058da['date']==_0x56232b);if(_0x4b3471){let _0x347bba=!![];_0x4b3471['changes'][_0x4d9cb6(0x1da)](_0x4abb13=>{const _0x30f5a8=_0x4d9cb6;if(_0x4abb13[_0x30f5a8(0x24c)]!=0x0)_0x347bba=![];}),_0x347bba&&(_0x507bf8=_0x507bf8[_0x4d9cb6(0x29e)](_0x200018=>{const _0x4976de=_0x4d9cb6;return _0x200018[_0x4976de(0x19c)]!=_0x56232b;}));}let _0x821f05=dbConfig[_0x4d9cb6(0x280)](_0x4d9cb6(0x1f5))['find']({'botID':botID})[_0x4d9cb6(0x27e)]();_0x821f05&&(dbConfig['get'](_0x4d9cb6(0x1f5))[_0x4d9cb6(0x309)]({'botID':botID})[_0x4d9cb6(0x31d)]({'liquidity':_0x507bf8})[_0x4d9cb6(0x236)](),config[_0x4d9cb6(0x246)]=_0x507bf8);logHistory(_0x4d9cb6(0x234),_0x4d9cb6(0x1bd)+Math[_0x4d9cb6(0x182)](_0x12ec32[_0x4d9cb6(0x24c)])+'\x20'+_0x12ec32['coin']+'\x20'+(_0x12ec32['number']>0x0?'added':'removed')+_0x4d9cb6(0x188)),proxyEmit(_0x4d9cb6(0x2a1),emittedConfiguration());const _0x4f146a=getNormalizedPerformance();emitPerformance(_0x4f146a),getStartingBalances(_0x4f146a),logger['debug']('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x4d9cb6(0x1d3)]=='switch-manual'&&(config[_0x4d9cb6(0x15f)]?(await storeHeadless({'headless':![]}),logHistory('success',_0x4d9cb6(0x1bd)+Math[_0x4d9cb6(0x182)](_0x12ec32[_0x4d9cb6(0x24c)])+'\x20'+_0x12ec32[_0x4d9cb6(0x232)]+'\x20'+(_0x12ec32[_0x4d9cb6(0x24c)]>0x0?_0x4d9cb6(0x2a3):_0x4d9cb6(0x216))+_0x4d9cb6(0x226))):logger[_0x4d9cb6(0x23d)](_0x4d9cb6(0x1bd)+Math[_0x4d9cb6(0x182)](_0x12ec32[_0x4d9cb6(0x24c)])+'\x20'+_0x12ec32['coin']+'\x20'+(_0x12ec32[_0x4d9cb6(0x24c)]>0x0?_0x4d9cb6(0x2a3):_0x4d9cb6(0x216))+_0x4d9cb6(0x218)));}else logger[_0x4d9cb6(0x23d)](_0x4d9cb6(0x164)+Math[_0x4d9cb6(0x182)](_0x12ec32[_0x4d9cb6(0x24c)])+'\x20'+_0x12ec32[_0x4d9cb6(0x232)]+'\x20'+(_0x12ec32['number']>0x0?_0x4d9cb6(0x2a3):_0x4d9cb6(0x216)));}else logger[_0x4d9cb6(0x23d)]('Portfolio\x20change\x20detected:\x20'+Math[_0x4d9cb6(0x182)](_0x12ec32[_0x4d9cb6(0x24c)])+'\x20'+_0x12ec32[_0x4d9cb6(0x232)]+'\x20'+(_0x12ec32[_0x4d9cb6(0x24c)]>0x0?_0x4d9cb6(0x2a3):_0x4d9cb6(0x216))+_0x4d9cb6(0x2ce));}currentCoins=_0x35ccb8,currentCoinsAll=_0x5c041c;}}catch(_0x3cf4b4){if(!exchangeStopped)await handleError(_0x3cf4b4,_0x4d9cb6(0x2f5));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x3d436c=_0x584ccc;try{markets=await exchange[_0x3d436c(0x1d0)](!![]),allSymbols=[],Object[_0x3d436c(0x244)](markets)[_0x3d436c(0x1da)](_0x3f5a39=>{const _0x31d362=_0x3d436c;_0x3f5a39[0x1]['active']&&_0x3f5a39[0x1][_0x31d362(0x217)]&&allSymbols[_0x31d362(0x209)](_0x3f5a39[0x0]);});}catch(_0x1b55c1){markets?logger['debug'](_0x3d436c(0x1ef)+_0x1b55c1[_0x3d436c(0x1aa)]()):(loading['cancel']=!![],_0x1b55c1[_0x3d436c(0x1aa)]()['toLowerCase']()[_0x3d436c(0x2f3)](_0x3d436c(0x20d))||_0x1b55c1[_0x3d436c(0x1aa)]()[_0x3d436c(0x260)]()[_0x3d436c(0x2f3)]('request-time')?(logHistory(_0x3d436c(0x263),_0x3d436c(0x231)),loading[_0x3d436c(0x263)]='timestamp-issue'):handleErrorNoStop(_0x1b55c1,_0x3d436c(0x24f),!![]),logHistory('error',_0x3d436c(0x2dd)),logHistory(_0x3d436c(0x263),_0x3d436c(0x194)+loadCoinsRetryInterval/0xea60+_0x3d436c(0x326)),logger[_0x3d436c(0x23d)](_0x3d436c(0x2fb),_0x1b55c1),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x5159c7){let _0x504093=[];return _0x5159c7['forEach'](_0x4c2615=>{const _0x2f0668=_0x4d91;!allSymbols[_0x2f0668(0x2f3)](_0x4c2615)?(logHistory(_0x2f0668(0x263),_0x2f0668(0x183)+_0x4c2615+_0x2f0668(0x16b)),loading[_0x2f0668(0x1b7)]=!![],emitLoadingProgress()):_0x504093['push'](_0x4c2615);}),_0x504093;}async function initclient(){const _0x27361b=_0x584ccc;proxyEmit(_0x27361b(0x2a1),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x27361b(0x2d2),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x77f6ed=getNormalizedPerformance();emitPerformance(_0x77f6ed),getStartingBalances(_0x77f6ed);}async function toggleBotMode(){const _0x4bd0c6=_0x584ccc;let _0x2d3d99=dbConfig[_0x4bd0c6(0x280)](_0x4bd0c6(0x1f5))[_0x4bd0c6(0x309)]({'botID':botID})[_0x4bd0c6(0x27e)]();if(_0x2d3d99){const _0x5090ee=!_0x2d3d99[_0x4bd0c6(0x15f)];dbConfig[_0x4bd0c6(0x280)](_0x4bd0c6(0x1f5))['find']({'botID':botID})['assign']({'headless':_0x5090ee})['write'](),config[_0x4bd0c6(0x15f)]=_0x5090ee,proxyEmit(_0x4bd0c6(0x2a1),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x48dc37=_0x584ccc;process[_0x48dc37(0x30d)]({'updatebotmanager':!![]},_0x43d751=>{}),logger[_0x48dc37(0x23d)](_0x48dc37(0x196)+config['headless']);}async function loadCoins(_0xa0fdeb){const _0x4577e4=_0x584ccc;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x2cdbf3,_0x203b4f=0x0,_0x2aee98=0x0;_0xa0fdeb[_0x4577e4(0x1da)](_0x5af5dd=>{const _0x5d8000=_0x4577e4;loading[_0x5d8000(0x19a)][_0x5d8000(0x209)](_0x5af5dd);}),loadingCanceled=![];let _0x49efc1=![];while(_0x2cdbf3!=_0xa0fdeb[_0x4577e4(0x248)]+maxLoadingProgress){_0x2cdbf3=loadingProgress,_0xa0fdeb[_0x4577e4(0x1da)](_0xf8f154=>{const _0x1325b4=_0x4577e4;if(gTicker[noslash(_0xf8f154)]){loading['remainingSymbols']=loading['remainingSymbols']['filter'](_0x23ac9f=>_0x23ac9f!=_0xf8f154);if(!watchedSymbols[_0x1325b4(0x2f3)](_0xf8f154))watchedSymbols[_0x1325b4(0x209)](_0xf8f154);_0x2cdbf3++;}}),loading[_0x4577e4(0x1c1)]=Math[_0x4577e4(0x28d)](_0x2cdbf3/(_0xa0fdeb[_0x4577e4(0x248)]+maxLoadingProgress)*0x64);loading[_0x4577e4(0x1c1)]!=0x64&&(_0x2aee98>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x2aee98>0x78*0x5&&!_0x49efc1&&(_0x49efc1=!![],logHistory('error',_0x4577e4(0x1c3)+loading[_0x4577e4(0x19a)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x4577e4(0x263),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x4577e4(0x326)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x4577e4(0x255)]=!![],emitLoadingProgress();break;}else _0x203b4f!=loading['progress']&&(_0x203b4f=loading[_0x4577e4(0x1c1)],emitLoadingProgress()),_0x2aee98++,await sleep(0xc8);}_0x2cdbf3==_0xa0fdeb['length']+maxLoadingProgress&&(coinsLoaded=!![],process[_0x4577e4(0x30d)]({'status':_0x4577e4(0x2e7),'live':_0x4577e4(0x1a5)},_0x2c12ea=>{}),_0x49efc1&&logHistory('success',_0x4577e4(0x19d)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x279492=_0x584ccc;proxyEmit(_0x279492(0x2a1),{...emittedConfiguration(),'configstate':_0x279492(0x28b)});}function emitLoadingProgress(){const _0x506f99=_0x584ccc;proxyEmit(_0x506f99(0x19e),loading);}async function getFiat(){const _0x569e91=_0x584ccc;let _0x1f5003=gTicker[stablecoins[_0x569e91(0x25c)]['coin']],_0x20c21b=gTicker[stablecoins[_0x569e91(0x2e3)][_0x569e91(0x232)]];return{'eur':Number(_0x1f5003),'usd':Number(_0x20c21b)};}function capitalize(_0x244b9d){const _0x136cdc=_0x584ccc;return _0x244b9d[_0x136cdc(0x1b9)](0x0,0x1)[_0x136cdc(0x23e)]()+_0x244b9d[_0x136cdc(0x1b9)](0x1);}function supportedExchanges(){const _0xc8927f=_0x584ccc,_0x226d18=['ws',_0xc8927f(0x29c),_0xc8927f(0x15c),_0xc8927f(0x1ce),_0xc8927f(0x230),_0xc8927f(0x320),_0xc8927f(0x276),_0xc8927f(0x30f),'fetchBalance'];let _0x382cbd=[],_0x581a19=[],_0x468241=ccxt[_0xc8927f(0x2cb)]['exchanges'];_0x468241[_0xc8927f(0x1da)](_0x1a4759=>{const _0x337d26=_0xc8927f;try{const _0x2dfab1=new ccxt[(_0x337d26(0x2cb))][_0x1a4759]();_0x581a19['push'](_0x2dfab1);}catch(_0x31d85b){}}),_0x581a19['forEach'](_0x4ed1cf=>{const _0x1ded3f=_0xc8927f;let _0x473f08=0x0;_0x226d18['forEach'](_0x32eae3=>{const _0x1ccb3a=_0x4d91;_0x32eae3 in _0x4ed1cf[_0x1ccb3a(0x2a8)]&&_0x4ed1cf[_0x1ccb3a(0x2a8)][_0x32eae3]&&_0x473f08++;}),_0x473f08==_0x226d18['length']&&(!excludedExchanges[_0x1ded3f(0x2f3)](_0x4ed1cf['id'])&&_0x382cbd[_0x1ded3f(0x209)](capitalize(_0x4ed1cf['id'])));});let _0x13c09f=[];return _0x468241['forEach'](_0x2d848f=>{const _0x57123f=_0xc8927f;_0x2d848f=capitalize(_0x2d848f);if(!_0x382cbd[_0x57123f(0x2f3)](_0x2d848f))_0x13c09f['push'](_0x2d848f);}),_0x382cbd;}function setStartDatePerformance(){const _0x21feb1=_0x584ccc;if(config&&config['liquidity'][0x0][_0x21feb1(0x16c)]['length']!=0x0){const _0x2f27c0=config['liquidity'][0x0]['changes'];dbPerformance[_0x21feb1(0x280)](_0x21feb1(0x1dc))['find']({'date':config[_0x21feb1(0x208)]})[_0x21feb1(0x31d)]({'coins':_0x2f27c0})[_0x21feb1(0x236)]();}}function calculatePnL(_0x13b7d1,_0xc81ca5,_0x14d7b1,_0x971179,_0x5936ee,_0x543f1c){const _0xb46c4a=_0x584ccc;!_0x13b7d1[_0xb46c4a(0x2f3)]('/'+config['basecoin'])&&(_0x14d7b1=_0x14d7b1==_0xb46c4a(0x250)?_0xb46c4a(0x265):_0xb46c4a(0x250));!_0x543f1c[_0xc81ca5]&&(_0x543f1c[_0xc81ca5]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x28b0a1=0x0,_0x4e264,_0x38ac10;if(_0x14d7b1=='buy')_0x38ac10=_0x543f1c[_0xc81ca5][_0xb46c4a(0x24c)]*_0x543f1c[_0xc81ca5][_0xb46c4a(0x1d2)]+_0x5936ee*_0x971179,_0x543f1c[_0xc81ca5][_0xb46c4a(0x24c)]+=_0x971179,_0x543f1c[_0xc81ca5][_0xb46c4a(0x1d2)]=_0x543f1c[_0xc81ca5]['number']!=0x0?_0x38ac10/_0x543f1c[_0xc81ca5][_0xb46c4a(0x24c)]:0x0,_0x543f1c[_0xc81ca5][_0xb46c4a(0x24a)]++;else _0x14d7b1==_0xb46c4a(0x265)&&(_0x4e264=Math[_0xb46c4a(0x2b2)](_0x543f1c[_0xc81ca5][_0xb46c4a(0x24c)],_0x971179),_0x28b0a1=(_0x5936ee-_0x543f1c[_0xc81ca5][_0xb46c4a(0x1d2)])*_0x4e264,_0x38ac10=Math[_0xb46c4a(0x303)](_0x543f1c[_0xc81ca5]['number']*_0x543f1c[_0xc81ca5][_0xb46c4a(0x1d2)]-_0x4e264*_0x543f1c[_0xc81ca5][_0xb46c4a(0x1d2)],0x0),_0x543f1c[_0xc81ca5]['number']-=_0x4e264,_0x543f1c[_0xc81ca5][_0xb46c4a(0x1d2)]=_0x543f1c[_0xc81ca5]['number']!=0x0?_0x38ac10/_0x543f1c[_0xc81ca5]['number']:0x0,_0x543f1c[_0xc81ca5][_0xb46c4a(0x1d6)]+=_0x28b0a1,_0x543f1c[_0xc81ca5]['sells']++);return _0x28b0a1;}async function generatePnL(){const _0x15150f=_0x584ccc;pnlGenerationNeeded=![],logger[_0x15150f(0x23d)]('Generating\x20PnL\x20data');const _0x51c325=dbLogs[_0x15150f(0x280)]('logs')[_0x15150f(0x27e)]();let _0x547ff5={},_0x5e0ff5=0x0,_0x53188c=0x0,_0x27f47b=config[_0x15150f(0x208)];const _0x12716c=fns['parse'](_0x27f47b,_0x15150f(0x2ef),new Date()),_0x1fbd29=new Date();let _0x313522=0x0;for(let _0x3e8a8e=_0x12716c;!fns['isBefore'](_0x1fbd29,_0x3e8a8e);_0x3e8a8e=fns['addDays'](_0x3e8a8e,0x1)){const _0x93122=fns[_0x15150f(0x2f6)](_0x3e8a8e,_0x15150f(0x2ef));while(_0x5e0ff5<_0x51c325[_0x15150f(0x248)]){const _0x32c9c9=new Date(_0x51c325[_0x5e0ff5]['time']);if(fns[_0x15150f(0x327)](_0x32c9c9,_0x3e8a8e))_0x5e0ff5++;else{if(_0x51c325[_0x5e0ff5][_0x15150f(0x15e)][_0x15150f(0x2f3)](_0x93122)){const _0x315a86=_0x51c325[_0x5e0ff5];if(_0x315a86[_0x15150f(0x1de)]===_0x15150f(0x2bb)&&(_0x315a86['event'][_0x15150f(0x2f3)](_0x15150f(0x184))||_0x315a86[_0x15150f(0x318)][_0x15150f(0x2f3)](_0x15150f(0x273)))){const _0x439ecc=_0x315a86[_0x15150f(0x318)][_0x15150f(0x15d)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x439ecc){const [,_0xa119e9,_0x3d5c0c,_0x2d2b84,_0x1b518a]=_0x439ecc,_0x4c28cc=_0xa119e9[_0x15150f(0x2f3)]('/'+config[_0x15150f(0x2ff)])?_0xa119e9['split']('/')[0x0]:_0xa119e9[_0x15150f(0x220)]('/')[0x1],_0x5c8ee8=calculatePnL(_0xa119e9,_0x4c28cc,_0x3d5c0c,parseFloat(_0x2d2b84),parseFloat(_0x1b518a),_0x547ff5);_0x53188c+=_0x5c8ee8;}}_0x5e0ff5++;}else break;}}dbPerformance[_0x15150f(0x280)]('data')['find']({'date':_0x93122})['assign']({'pnl':_0x53188c})[_0x15150f(0x236)]();}dbCoinResults[_0x15150f(0x270)](_0x15150f(0x257),_0x547ff5)[_0x15150f(0x236)](),logger[_0x15150f(0x23d)](_0x15150f(0x15b));const _0x20edba=getNormalizedPerformance();emitPerformance(_0x20edba);}async function updatePnL(_0x4aa74f){const _0x2130b5=_0x584ccc,{symbol:_0x9afbf0,coin:_0x41eb2f,amount:_0x3f65aa,price:_0x26b3ba,side:_0x474ce0,reverse:_0x10bfd7}=_0x4aa74f;let _0x1fdb0c=dbCoinResults[_0x2130b5(0x280)](_0x2130b5(0x257))[_0x2130b5(0x27e)]();const _0x2e99c5=calculatePnL(_0x9afbf0,_0x41eb2f,_0x474ce0,_0x3f65aa,_0x26b3ba,_0x1fdb0c);dbCoinResults['set']('coins',_0x1fdb0c)[_0x2130b5(0x236)]();const _0x274c2f=getTimeStamp()[_0x2130b5(0x220)]('\x20')[0x0];let _0x45acfd=dbPerformance[_0x2130b5(0x280)](_0x2130b5(0x1dc))['find']({'date':_0x274c2f})[_0x2130b5(0x27e)]();_0x45acfd?(_0x45acfd['pnl']+=_0x2e99c5,dbPerformance['get'](_0x2130b5(0x1dc))[_0x2130b5(0x309)]({'date':_0x274c2f})['assign'](_0x45acfd)[_0x2130b5(0x236)]()):await storePerformance();const _0x254054=getNormalizedPerformance();emitPerformance(_0x254054);}async function validate24hChanges(){const _0x44ff5f=_0x584ccc;for(const _0x51ec44 of currentCoins){if(_0x51ec44['coin']!=config[_0x44ff5f(0x2ff)]){let _0x2e8444;_0x51ec44[_0x44ff5f(0x1c2)]?_0x2e8444=formatResult((0x1/(gChange[_0x51ec44[_0x44ff5f(0x225)]]/0x64+0x1)-0x1)*0x64,0x3):_0x2e8444=gChange[_0x51ec44[_0x44ff5f(0x225)]],_0x2e8444<config[_0x44ff5f(0x1ca)]&&(logHistory(_0x44ff5f(0x263),_0x51ec44[_0x44ff5f(0x232)]+_0x44ff5f(0x24b)+_0x2e8444+'%'),logHistory(_0x44ff5f(0x263),_0x44ff5f(0x311)),logHistory(_0x44ff5f(0x263),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x5647b,_0x502b14){const _0x2fe167=_0x584ccc;if(!_0x5647b)return!![];const _0x208832=_0x502b14[_0x2fe167(0x220)]('.'),_0x254a94=_0x5647b[_0x2fe167(0x220)]('.');for(var _0x502683=0x0;_0x502683<_0x254a94[_0x2fe167(0x248)];_0x502683++){const _0x518030=~~_0x254a94[_0x502683],_0x2af519=~~_0x208832[_0x502683];if(_0x518030<_0x2af519)return!![];if(_0x518030>_0x2af519)return![];}return![];}async function oneTimeMigration(){const _0x11e35b=_0x584ccc;let _0x334096=dbLogs[_0x11e35b(0x280)](_0x11e35b(0x308))['value']();if(isOlderVersion(_0x334096,_0x11e35b(0x199))){let _0x432bc3=[];const _0x23b774=dbLogs[_0x11e35b(0x280)]('logs')[_0x11e35b(0x27e)]();_0x23b774['forEach'](_0x536a2e=>{const _0x4d4f83=_0x11e35b;_0x432bc3[_0x4d4f83(0x209)]({'time':_0x536a2e['time'],'type':_0x536a2e[_0x4d4f83(0x1de)],'event':_0x536a2e[_0x4d4f83(0x318)]});}),dbLogs[_0x11e35b(0x280)]('logs')['assign'](_0x432bc3)[_0x11e35b(0x236)]();}let _0x47efb6=dbConfig[_0x11e35b(0x280)]('version')['value']();if(isOlderVersion(_0x47efb6,'2.3.5')){let _0xd50cb6=dbConfig['get'](_0x11e35b(0x1f5))[_0x11e35b(0x309)]({'botID':botID})[_0x11e35b(0x27e)]();if(_0xd50cb6){let _0x410968=[];_0xd50cb6[_0x11e35b(0x2ad)][_0x11e35b(0x1da)](_0x53cc67=>{const _0x207ea3=_0x11e35b;_0x410968['push']({'coin':_0x53cc67[_0x207ea3(0x232)],'number':_0x53cc67[_0x207ea3(0x18a)],'price':_0x53cc67[_0x207ea3(0x1df)]}),delete _0x53cc67['startnumber'],delete _0x53cc67[_0x207ea3(0x1df)];});if(_0x410968['length']!==0x0)fs[_0x11e35b(0x2f2)](configbackuppath+('starting-balance-'+botID+_0x11e35b(0x29d)),JSON['stringify'](_0x410968,null,0x4),function(_0x388da9){if(_0x388da9){}});const _0x586726=(_0x1cc3c7,_0x4ea325)=>{const _0x324b30=_0x11e35b;let _0x1efee5=[];_0x4ea325[_0x324b30(0x1da)](_0x1cab97=>{const _0xdfbe36=_0x324b30,_0x1d1858=_0x1cc3c7[_0xdfbe36(0x309)](_0x147c2d=>_0x147c2d['coin']==_0x1cab97[_0xdfbe36(0x232)]);if(!_0x1d1858)_0x1efee5[_0xdfbe36(0x209)](_0x1cab97);});let _0x56a8c4=[];return _0x1cc3c7['forEach'](_0x2e9498=>{const _0x5672bb=_0x324b30,_0x70030b=_0x4ea325[_0x5672bb(0x309)](_0x29050c=>_0x29050c[_0x5672bb(0x232)]==_0x2e9498[_0x5672bb(0x232)]);if(!_0x70030b||_0x70030b[_0x5672bb(0x24c)]==0x0&&_0x2e9498['number']!=0x0)_0x56a8c4[_0x5672bb(0x209)](_0x2e9498);}),{'missingDay1':_0x1efee5,'notInDay2':_0x56a8c4};},_0x186778=dbPerformance[_0x11e35b(0x280)](_0x11e35b(0x1dc))[_0x11e35b(0x314)]()[_0x11e35b(0x27e)]();if(_0x186778[_0x11e35b(0x248)]>0x1){const {missingDay1:_0x198b4c,notInDay2:_0x422e5a}=_0x586726(_0x410968,_0x186778[0x1][_0x11e35b(0x257)]);_0x410968=[..._0x410968,..._0x198b4c],_0x422e5a['forEach'](_0x38e05c=>{const _0x1b6962=_0x11e35b;let _0x185875=_0x410968[_0x1b6962(0x1fe)](_0x3fe5b6=>_0x3fe5b6['coin']==_0x38e05c[_0x1b6962(0x232)]);_0x185875!=-0x1&&_0x410968[_0x1b6962(0x1eb)](_0x185875,0x1);});}_0x410968[_0x11e35b(0x316)]((_0x97ec7c,_0xc961fa)=>_0x97ec7c[_0x11e35b(0x232)]>_0xc961fa[_0x11e35b(0x232)]?0x1:_0xc961fa[_0x11e35b(0x232)]>_0x97ec7c[_0x11e35b(0x232)]?-0x1:0x0);let _0x2b36d4=[{'date':_0xd50cb6[_0x11e35b(0x208)],'changes':_0x410968}];_0x186778[_0x11e35b(0x248)]>0x2&&_0x186778[_0x11e35b(0x1da)]((_0x27f1cc,_0x14955c)=>{const _0x2d57ff=_0x11e35b;if(_0x14955c>0x0&&_0x14955c<_0x186778[_0x2d57ff(0x248)]-0x1){const {missingDay1:_0x1b595c,notInDay2:_0x26f644}=_0x586726(_0x186778[_0x14955c][_0x2d57ff(0x257)],_0x186778[_0x14955c+0x1][_0x2d57ff(0x257)]);_0x410968=[],(_0x1b595c['length']!=0x0||_0x26f644['length']!=0x0)&&(_0x1b595c[_0x2d57ff(0x248)]!=0x0&&_0x410968[_0x2d57ff(0x209)](..._0x1b595c),_0x26f644[_0x2d57ff(0x248)]!=0x0&&(_0x26f644[_0x2d57ff(0x1da)](_0x46bdc5=>{const _0x286d6e=_0x2d57ff;_0x46bdc5[_0x286d6e(0x24c)]=-_0x46bdc5[_0x286d6e(0x24c)];}),_0x410968[_0x2d57ff(0x209)](..._0x26f644)),_0x410968[_0x2d57ff(0x316)]((_0x61915b,_0x3fa079)=>_0x61915b[_0x2d57ff(0x232)]>_0x3fa079[_0x2d57ff(0x232)]?0x1:_0x3fa079[_0x2d57ff(0x232)]>_0x61915b['coin']?-0x1:0x0),_0x2b36d4['push']({'date':_0x186778[_0x14955c+0x1][_0x2d57ff(0x19c)],'changes':_0x410968}));}}),dbConfig[_0x11e35b(0x280)](_0x11e35b(0x1f5))['find']({'botID':botID})[_0x11e35b(0x31d)]({..._0xd50cb6,'liquidity':_0x2b36d4})[_0x11e35b(0x236)]();}}if(isOlderVersion(_0x47efb6,_0x11e35b(0x155))){let _0x3b16d8=dbConfig['get'](_0x11e35b(0x1f5))[_0x11e35b(0x309)]({'botID':botID})[_0x11e35b(0x27e)]();if(_0x3b16d8){const _0x1e7d4d=_0x3b16d8['exchange'],_0x242534=_0x1e7d4d?capitalize(_0x1e7d4d):_0x11e35b(0x1e4);dbConfig[_0x11e35b(0x280)](_0x11e35b(0x1f5))[_0x11e35b(0x309)]({'botID':botID})['assign']({'exchange':_0x242534})[_0x11e35b(0x236)]();}}if(isOlderVersion(_0x47efb6,_0x11e35b(0x21f))){let _0x22f48c=dbConfig['get'](_0x11e35b(0x1f5))['find']({'botID':botID})[_0x11e35b(0x27e)]();if(_0x22f48c){const _0x47d778=_0x22f48c[_0x11e35b(0x28f)],_0x157222=_0x47d778?'marketcap':![];dbConfig[_0x11e35b(0x280)](_0x11e35b(0x1f5))[_0x11e35b(0x309)]({'botID':botID})[_0x11e35b(0x31d)]({'marketcapEnabled':_0x157222})[_0x11e35b(0x236)]();}}if(isOlderVersion(_0x47efb6,_0x11e35b(0x18f))){let _0x21dff1=dbConfig[_0x11e35b(0x280)](_0x11e35b(0x1f5))[_0x11e35b(0x309)]({'botID':botID})[_0x11e35b(0x27e)]();if(_0x21dff1){const _0x39131f=_0x21dff1['autoliquidity'],_0x385b1b=_0x39131f?'update-liquidity':![];dbConfig['get'](_0x11e35b(0x1f5))['find']({'botID':botID})[_0x11e35b(0x31d)]({'autoliquidity':_0x385b1b})[_0x11e35b(0x236)]();}}let _0x44f1bf=dbPerformance['get'](_0x11e35b(0x308))[_0x11e35b(0x27e)]();isOlderVersion(_0x44f1bf,_0x11e35b(0x199))&&setStartDatePerformance();let _0x3787eb=dbCoinResults[_0x11e35b(0x280)](_0x11e35b(0x308))[_0x11e35b(0x27e)]();if(isOlderVersion(_0x3787eb,'2.7.1')){let _0x35d43f=dbCoinResults[_0x11e35b(0x280)](_0x11e35b(0x257))[_0x11e35b(0x27e)]();if(_0x35d43f['length']!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x2c62f9=_0x584ccc;dbConfig[_0x2c62f9(0x270)](_0x2c62f9(0x308),serverversion)[_0x2c62f9(0x236)](),dbPerformance[_0x2c62f9(0x270)](_0x2c62f9(0x308),serverversion)[_0x2c62f9(0x236)](),dbLogs[_0x2c62f9(0x270)](_0x2c62f9(0x308),serverversion)[_0x2c62f9(0x236)](),dbCoinResults['set']('version',serverversion)[_0x2c62f9(0x236)]();}function getConfiguration(_0x1a0a42){const _0x3959fc=_0x584ccc;let _0x595db3=dbConfig[_0x3959fc(0x280)](_0x3959fc(0x1f5))[_0x3959fc(0x309)]({'botID':_0x1a0a42})[_0x3959fc(0x27e)]();if(_0x595db3){let _0x29068e=![];typeof _0x595db3[_0x3959fc(0x17f)]=='string'&&(_0x595db3={..._0x595db3,'threshold':Number(_0x595db3[_0x3959fc(0x17f)])},_0x29068e=!![]),_0x595db3[_0x3959fc(0x1ca)]==undefined&&(_0x595db3={..._0x595db3,'change24h':-0x14},_0x29068e=!![]),_0x595db3[_0x3959fc(0x23a)]==undefined&&(_0x595db3={..._0x595db3,'fiat':'USD'},_0x29068e=!![]),_0x595db3[_0x3959fc(0x23f)]==undefined&&(_0x595db3={..._0x595db3,'onepagemode':settings[_0x3959fc(0x23f)]},_0x29068e=!![]),_0x595db3['colorscheme']==undefined&&(_0x595db3={..._0x595db3,'colorscheme':_0x3959fc(0x195)},_0x29068e=!![]),_0x595db3[_0x3959fc(0x1d3)]==undefined&&(_0x595db3={..._0x595db3,'autoliquidity':_0x3959fc(0x286)},_0x29068e=!![]),_0x595db3[_0x3959fc(0x28c)]==undefined&&(_0x595db3={..._0x595db3,'marketcapApi':settings[_0x3959fc(0x28c)]?!![]:![]},_0x29068e=!![]),_0x595db3[_0x3959fc(0x28f)]==undefined&&(_0x595db3={..._0x595db3,'marketcapEnabled':![]},_0x29068e=!![]),_0x595db3[_0x3959fc(0x1c4)]==undefined&&(_0x595db3={..._0x595db3,'sandbox':![]},_0x29068e=!![]),_0x29068e&&(_0x595db3={'botID':_0x595db3[_0x3959fc(0x2b3)],'exchange':_0x595db3[_0x3959fc(0x300)],'apiKey':_0x595db3['apiKey'],'apiSecret':_0x595db3[_0x3959fc(0x287)],'apiPassword':_0x595db3['apiPassword'],'basecoin':_0x595db3[_0x3959fc(0x2ff)],'botname':_0x595db3[_0x3959fc(0x2ee)],'showname':_0x595db3[_0x3959fc(0x159)],'threshold':_0x595db3[_0x3959fc(0x17f)],'ordertype':_0x595db3[_0x3959fc(0x1b6)],'timeout':_0x595db3[_0x3959fc(0x1b7)],'fiat':_0x595db3[_0x3959fc(0x23a)],'startdate':_0x595db3['startdate'],'recreate':_0x595db3[_0x3959fc(0x251)],'timeshift':_0x595db3[_0x3959fc(0x2d5)],'onepagemode':_0x595db3[_0x3959fc(0x23f)],'headless':_0x595db3[_0x3959fc(0x15f)],'cooldown':_0x595db3[_0x3959fc(0x294)],'change24h':_0x595db3[_0x3959fc(0x1ca)],'emojibuy':_0x595db3[_0x3959fc(0x1f4)],'emojisell':_0x595db3[_0x3959fc(0x26d)],'colorscheme':_0x595db3[_0x3959fc(0x2bf)],'marketcapApi':_0x595db3[_0x3959fc(0x28c)],'marketcapEnabled':_0x595db3[_0x3959fc(0x28f)],'sandbox':_0x595db3['sandbox'],'portfolio':_0x595db3['portfolio'],'autoliquidity':_0x595db3[_0x3959fc(0x1d3)],'liquidity':_0x595db3[_0x3959fc(0x246)],'openOrders':_0x595db3[_0x3959fc(0x167)]},dbConfig[_0x3959fc(0x280)](_0x3959fc(0x1f5))[_0x3959fc(0x1c5)]()['write'](),dbConfig[_0x3959fc(0x280)](_0x3959fc(0x1f5))[_0x3959fc(0x209)](_0x595db3)['write']());}else _0x595db3={'botID':_0x1a0a42,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x3959fc(0x170)+_0x1a0a42,'showname':![],'threshold':0x3,'ordertype':_0x3959fc(0x24e),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x3959fc(0x2d5)],'onepagemode':settings[_0x3959fc(0x23f)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x3959fc(0x28c)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x3959fc(0x286),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x595db3;}function emittedConfiguration(){const _0x411f3f=_0x584ccc;let _0x1df322;if(config[_0x411f3f(0x207)]=='')_0x1df322={...config,'configstate':_0x411f3f(0x313)};else config[_0x411f3f(0x207)]==_0x411f3f(0x2c2)?_0x1df322={...config,'configstate':_0x411f3f(0x18c)}:(_0x1df322={...config,'apiKey':_0x411f3f(0x262),'apiSecret':_0x411f3f(0x262)},config['apiPassword']&&(_0x1df322[_0x411f3f(0x2bd)]=_0x411f3f(0x262)));return _0x1df322[_0x411f3f(0x222)]=enableFiatToggle,_0x1df322;}function getSettings(){const _0x27138e=_0x584ccc;return dbSettings[_0x27138e(0x280)](_0x27138e(0x2f0))[_0x27138e(0x27e)]();}function getSecure(){const _0x202084=_0x584ccc;return dbSecure['get']('secure')[_0x202084(0x27e)]()||{};}function updateTimeshift(_0x8dc4d6){const _0x420556=_0x584ccc;let _0x32a7d9=dbConfig['get'](_0x420556(0x1f5))[_0x420556(0x309)]({'botID':botID})[_0x420556(0x27e)]();_0x32a7d9&&dbConfig[_0x420556(0x280)](_0x420556(0x1f5))[_0x420556(0x309)]({'botID':botID})['assign']({'timeshift':_0x8dc4d6})['write'](),config[_0x420556(0x2d5)]=_0x8dc4d6,proxyEmit(_0x420556(0x2a1),emittedConfiguration());}function updateOnepagemode(_0x247e5b){const _0x28b902=_0x584ccc;let _0x499005=dbConfig[_0x28b902(0x280)](_0x28b902(0x1f5))[_0x28b902(0x309)]({'botID':botID})[_0x28b902(0x27e)]();_0x499005&&dbConfig[_0x28b902(0x280)]('bot')[_0x28b902(0x309)]({'botID':botID})[_0x28b902(0x31d)]({'onepagemode':_0x247e5b})[_0x28b902(0x236)](),config[_0x28b902(0x23f)]=_0x247e5b,proxyEmit(_0x28b902(0x2a1),emittedConfiguration());}function updateMarketcapApi(_0x34078c){const _0x106367=_0x584ccc,_0x23110d=_0x34078c?!![]:![];let _0x221df8=dbConfig[_0x106367(0x280)](_0x106367(0x1f5))[_0x106367(0x309)]({'botID':botID})[_0x106367(0x27e)]();_0x221df8&&dbConfig[_0x106367(0x280)](_0x106367(0x1f5))[_0x106367(0x309)]({'botID':botID})[_0x106367(0x31d)]({'marketcapApi':_0x23110d})[_0x106367(0x236)](),config[_0x106367(0x28c)]=_0x23110d,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x687743){const _0x725546=_0x584ccc;logger['debug']('Saving\x20configuration');_0x687743[_0x725546(0x22f)]&&delete _0x687743[_0x725546(0x22f)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x24be50=![],_0xc6c8dd=![],_0x5d3ce4=[];_0x687743['portfolio'][_0x725546(0x1da)](_0x202922=>{const _0x549c8e=_0x725546;if(!_0x202922[_0x549c8e(0x1ec)]&&_0x202922[_0x549c8e(0x232)]!=_0x687743['basecoin'])_0x5d3ce4[_0x549c8e(0x209)](_0x202922[_0x549c8e(0x225)]);}),_0x5d3ce4[_0x725546(0x1da)](_0x4ed727=>{const _0x4212e3=_0x725546,_0x4b0eb4=currentCoins[_0x4212e3(0x309)](_0x2f4c6f=>_0x2f4c6f[_0x4212e3(0x225)]==_0x4ed727);!_0x4b0eb4&&(_0x24be50=!![]);}),currentCoins[_0x725546(0x1da)](_0x5379ee=>{const _0x5fccf2=_0x725546;if(_0x5379ee[_0x5fccf2(0x232)]!=config['basecoin']){const _0x3d8a17=_0x5d3ce4['find'](_0x507da7=>_0x507da7==_0x5379ee['symbol']);!_0x3d8a17&&(_0x24be50=!![]);}}),_0x687743[_0x725546(0x2ad)][_0x725546(0x1da)](_0x58c858=>{const _0x404386=_0x725546,_0x36219d=config['portfolio'][_0x404386(0x309)](_0x5e3182=>_0x5e3182[_0x404386(0x232)]==_0x58c858[_0x404386(0x232)]);if(_0x36219d&&_0x58c858['offset']!=_0x36219d[_0x404386(0x2dc)])_0xc6c8dd=!![];});let _0x29ca7=dbConfig['get']('bot')[_0x725546(0x309)]({'botID':botID})['value']();_0x687743={..._0x687743,'apiKey':decryptRSA(secure[_0x725546(0x1a6)],_0x687743[_0x725546(0x207)]),'apiSecret':decryptRSA(secure[_0x725546(0x1a6)],_0x687743['apiSecret'])};_0x687743[_0x725546(0x2bd)]&&(_0x687743[_0x725546(0x2bd)]=decryptRSA(secure[_0x725546(0x1a6)],_0x687743[_0x725546(0x2bd)]));let _0x58be84=![];if(_0x29ca7){_0x687743[_0x725546(0x207)]==_0x725546(0x262)?_0x687743['apiKey']=config['apiKey']:_0x58be84=!![];_0x687743[_0x725546(0x287)]==_0x725546(0x262)?_0x687743[_0x725546(0x287)]=config[_0x725546(0x287)]:_0x58be84=!![];if(_0x687743[_0x725546(0x2bd)]=='************')_0x687743[_0x725546(0x2bd)]=config[_0x725546(0x2bd)];else{if(_0x687743[_0x725546(0x2bd)])_0x58be84=!![];}dbConfig[_0x725546(0x280)](_0x725546(0x1f5))[_0x725546(0x309)]({'botID':botID})['assign'](_0x687743)[_0x725546(0x236)]();}else dbConfig[_0x725546(0x280)](_0x725546(0x1f5))['push'](_0x687743)[_0x725546(0x236)](),_0x58be84=!![],process[_0x725546(0x30d)]({'status':_0x725546(0x2e7),'live':_0x725546(0x1a5)},_0x16a57e=>{});process[_0x725546(0x30d)]({'botname':_0x687743[_0x725546(0x2ee)]},_0x22191a=>{}),config={..._0x687743},updateBotManager(),proxyEmit(_0x725546(0x1b4)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x58be84)await reset(!![]);else _0x24be50||_0xc6c8dd?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0xa81cd9){const _0x4238cf=_0x584ccc,_0x31c0c2={...config,'headless':_0xa81cd9['headless']};let _0x18b8c8=dbConfig['get']('bot')[_0x4238cf(0x309)]({'botID':botID})[_0x4238cf(0x27e)]();_0x18b8c8&&dbConfig[_0x4238cf(0x280)](_0x4238cf(0x1f5))[_0x4238cf(0x309)]({'botID':botID})['assign'](_0x31c0c2)['write'](),config={..._0x31c0c2},updateBotManager(),proxyEmit(_0x4238cf(0x2a1),emittedConfiguration());}async function storeFiat(_0x18629f){const _0x378814=_0x584ccc,_0x42eacf={...config,'fiat':_0x18629f};let _0x998378=dbConfig[_0x378814(0x280)]('bot')[_0x378814(0x309)]({'botID':botID})[_0x378814(0x27e)]();_0x998378&&dbConfig[_0x378814(0x280)](_0x378814(0x1f5))[_0x378814(0x309)]({'botID':botID})[_0x378814(0x31d)](_0x42eacf)[_0x378814(0x236)](),config={..._0x42eacf},proxyEmit(_0x378814(0x2a1),emittedConfiguration());}function resetHistory(){const _0x573e88=_0x584ccc;logger[_0x573e88(0x239)](_0x573e88(0x1d7));try{if(fs[_0x573e88(0x197)](path[_0x573e88(0x2a0)](configpath,_0x573e88(0x156)+botID+_0x573e88(0x2b0))))fs[_0x573e88(0x1af)](path[_0x573e88(0x2a0)](configpath,'bot-'+botID+_0x573e88(0x2b0)));if(fs[_0x573e88(0x197)](path[_0x573e88(0x2a0)](configpath,'bot-'+botID+_0x573e88(0x1c8))))fs[_0x573e88(0x1af)](path[_0x573e88(0x2a0)](configpath,_0x573e88(0x156)+botID+_0x573e88(0x1c8)));if(fs[_0x573e88(0x197)](path[_0x573e88(0x2a0)](configpath,'bot-'+botID+_0x573e88(0x1b3))))fs[_0x573e88(0x1af)](path['join'](configpath,'bot-'+botID+_0x573e88(0x1b3)));}catch(_0x425914){if(_0x425914)logger[_0x573e88(0x239)](_0x573e88(0x1b8),_0x425914);}const _0x32ea9d=getDate();let _0x1748e2=[];currentCoins['forEach'](_0x3e1d9e=>{const _0x502b94=_0x573e88;_0x1748e2[_0x502b94(0x209)]({'coin':_0x3e1d9e[_0x502b94(0x232)],'number':_0x3e1d9e[_0x502b94(0x24c)],'price':_0x3e1d9e[_0x502b94(0x24d)]});});let _0x3d4c2f=dbConfig[_0x573e88(0x280)]('bot')[_0x573e88(0x309)]({'botID':botID})[_0x573e88(0x27e)]();_0x3d4c2f&&(dbConfig[_0x573e88(0x280)](_0x573e88(0x1f5))[_0x573e88(0x309)]({'botID':botID})[_0x573e88(0x31d)]({'liquidity':[{'date':_0x32ea9d,'changes':_0x1748e2}]})['write'](),config[_0x573e88(0x246)]=[]),restartBot(!![]);}function noslash(_0x18449b){return _0x18449b['replace']('/','');}function updateHighestFee(_0x330d45){const _0x48fc3a=_0x584ccc;if(_0x330d45[_0x48fc3a(0x1c2)]){let _0x254c8f={'filled':_0x330d45[_0x48fc3a(0x277)]*_0x330d45[_0x48fc3a(0x30c)],'amount':_0x330d45[_0x48fc3a(0x277)]*_0x330d45[_0x48fc3a(0x30c)],'side':_0x330d45[_0x48fc3a(0x205)]==_0x48fc3a(0x265)?_0x48fc3a(0x250):_0x48fc3a(0x265),'price':0x1/_0x330d45[_0x48fc3a(0x30c)]};_0x330d45={..._0x330d45,..._0x254c8f};}const _0x14a7c2=defaultFee*_0x330d45[_0x48fc3a(0x277)]*_0x330d45[_0x48fc3a(0x30c)];lastFees[_0x48fc3a(0x29b)][_0x48fc3a(0x248)]===0x14&&lastFees['recent20'][_0x48fc3a(0x2fc)](),lastFees[_0x48fc3a(0x29b)][_0x48fc3a(0x209)](_0x14a7c2),lastFees[_0x48fc3a(0x283)]=Math[_0x48fc3a(0x303)](...lastFees[_0x48fc3a(0x29b)]);}async function updateNumberCoinsCcxt(_0x41819f){const _0xb945db=_0x584ccc;logger['debug'](_0xb945db(0x203)+_0x41819f[_0xb945db(0x225)]+_0xb945db(0x264)+_0x41819f[_0xb945db(0x305)]+_0xb945db(0x264)+_0x41819f[_0xb945db(0x277)]+_0xb945db(0x2b8)+_0x41819f[_0xb945db(0x2a4)]+_0xb945db(0x264)+_0x41819f['id']);let _0x3b78d0=_0x41819f[_0xb945db(0x305)],_0x4b2275=![];currentCoins['forEach'](_0x3ef654=>{const _0x55df75=_0xb945db;_0x3ef654[_0x55df75(0x225)]==_0x41819f[_0x55df75(0x225)]&&(_0x4b2275=!![]);});if(!_0x4b2275)return;const _0x5528c5=currentCoins[_0xb945db(0x309)](_0x4b116e=>_0x4b116e['symbol']==_0x41819f[_0xb945db(0x225)]),_0x4c8b5e=_0x5528c5['coin'],_0x258b69=_0x25e83f=>{const _0x26d855=_0xb945db,_0x2bd8c6=currentCoins['find'](_0x36ff61=>_0x36ff61[_0x26d855(0x225)]==_0x41819f[_0x26d855(0x225)]);if(_0x2bd8c6)_0x2bd8c6[_0x26d855(0x2b6)]=_0x25e83f;};let _0x34c33c=![];for(const _0x3c4c3e of lastOrders){const _0x2217dd=0x64,_0x416a74=0x1388;let _0x3c0e80=0x0;while(!_0x3c4c3e[_0xb945db(0x1e5)]&&_0x3c0e80*_0x2217dd<_0x416a74){_0x3c0e80++,await sleep(_0x2217dd);}if(_0x3c0e80>0x0)logger[_0xb945db(0x23d)](_0xb945db(0x227)+_0x3c0e80*_0x2217dd/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x3c4c3e[_0xb945db(0x1e5)]==_0x41819f['id']&&(_0x34c33c=!![]);}if(_0x3b78d0==_0xb945db(0x25f)){_0x258b69(_0xb945db(0x25f));if(_0x41819f[_0xb945db(0x277)]>0x0&&_0x41819f[_0xb945db(0x277)]<_0x41819f[_0xb945db(0x2a4)]){if(_0x34c33c){setBlockTransactionDetection(!![]),logger['debug']('1\x20-\x20partially\x20FILLED\x20('+_0x41819f[_0xb945db(0x277)]+_0xb945db(0x2c9)+_0x41819f['id']);const _0xac36b=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4c8b5e);[currentCoins,currentCoinsAll]=_0xac36b,setBlockTransactionDetection(![]);}else logger[_0xb945db(0x23d)]('1\x20-\x20partially\x20FILLED\x20('+_0x41819f[_0xb945db(0x277)]+_0xb945db(0x26e)+_0x41819f['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x3b78d0==_0xb945db(0x267)){_0x258b69(_0xb945db(0x267)),lastOrders=lastOrders[_0xb945db(0x29e)](_0x2a9ce7=>_0x2a9ce7[_0xb945db(0x225)]!=_0x41819f[_0xb945db(0x225)]);const _0x198085=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x198085,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x3b78d0==_0xb945db(0x1fb)){if(lastOrders)for(const _0x1b57f1 of lastOrders){if(_0x1b57f1['orderId']==_0x41819f['id']){logger['debug'](_0xb945db(0x2ac)+_0x41819f['id']),_0x34c33c=!![];if(_0x1b57f1[_0xb945db(0x277)]==0x0){setBlockTransactionDetection(!![]),logger[_0xb945db(0x23d)](_0xb945db(0x295)+_0x41819f['id']);if(_0x41819f[_0xb945db(0x290)])_0x1b57f1[_0xb945db(0x30c)]=_0x41819f[_0xb945db(0x290)];else{if(_0x41819f[_0xb945db(0x30c)])_0x1b57f1[_0xb945db(0x30c)]=_0x41819f['price'];else{}}_0x1b57f1[_0xb945db(0x277)]=_0x41819f[_0xb945db(0x277)],updateHighestFee(_0x1b57f1);const _0x3df38d=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4c8b5e);[currentCoins,currentCoinsAll]=_0x3df38d,setBlockTransactionDetection(![]),await validateOrders(),_0x258b69(_0xb945db(0x277)),_0x1b57f1[_0xb945db(0x2fe)]={'currency':_0x41819f[_0xb945db(0x2fe)]?_0x41819f[_0xb945db(0x2fe)][_0xb945db(0x1c9)]:null,'cost':_0x41819f[_0xb945db(0x2fe)]?_0x41819f[_0xb945db(0x2fe)][_0xb945db(0x152)]:0x0},await updatePnL(_0x1b57f1);}}}!_0x34c33c&&(logger[_0xb945db(0x23d)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x41819f['id']),_0x258b69(_0xb945db(0x277)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x1debcf=JSON[_0xb945db(0x1a3)](lastBalances[_0xb945db(0x2ad)]);const _0x4a6427=_0x1debcf[_0xb945db(0x309)](_0x1e2f84=>_0x1e2f84[_0xb945db(0x225)]==_0x41819f[_0xb945db(0x225)]);if(_0x4a6427){if(_0x3b78d0==_0xb945db(0x25f))_0x4a6427['orderstatus']=_0x4a6427['orderstatus']==_0xb945db(0x277)?_0xb945db(0x277):_0xb945db(0x25f);else{if(_0x3b78d0==_0xb945db(0x267))_0x4a6427['orderstatus']=_0x4a6427[_0xb945db(0x2b6)]==_0xb945db(0x277)?_0xb945db(0x277):_0xb945db(0x267);else _0x3b78d0=='closed'&&(_0x4a6427[_0xb945db(0x2b6)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0xb945db(0x1a7)](_0x1debcf)},proxyEmit(_0xb945db(0x2d2),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x4991b3=_0x584ccc;await getOpenOrders();let _0x39fd1a=![];currentCoins[_0x4991b3(0x1da)](_0xa37e7c=>{const _0xd63199=_0x4991b3;_0x39fd1a=allOpenOrders[_0xd63199(0x309)](_0x58d81b=>_0x58d81b[_0xd63199(0x225)]==_0xa37e7c[_0xd63199(0x225)]),_0xa37e7c[_0xd63199(0x2b6)]=_0x39fd1a?'open':'none';});}async function fetchBalance(_0x13bb29=!![]){const _0x44c09a=_0x584ccc;let _0x3bc9d6,_0x2a9bf8,_0xb56d3e,_0x4a50c9=0x0;while(!_0x2a9bf8&&_0x4a50c9<maxRetries){try{return _0x3bc9d6=await exchange[_0x44c09a(0x166)](),_0x2a9bf8=_0x3bc9d6[_0x44c09a(0x2ec)],_0x2a9bf8;}catch(_0xc44125){_0xb56d3e=_0xc44125,_0x4a50c9++,await sleep(retryInterval);}}return!_0x13bb29?handleErrorNoStop(_0xb56d3e,'fetchBalance()'):await handleError(_0xb56d3e,_0x44c09a(0x2be)),![];}async function getCoins(_0xbd0238=0x0,_0x1e3615=!![],_0x1e3f75=config[_0x584ccc(0x2ff)],_0x3c1463){const _0x51d3d7=_0x584ccc;let _0x301376=[],_0x1fbbf4=[],_0x4af1e2=[],_0x47f531;if(_0xbd0238)await sleep(_0xbd0238);if(botPaused)return[currentCoins,currentCoinsAll];let _0x7d987=![],_0x26866c=0x0,_0x2215c7,_0x34a6d4;_0x3c1463&&(_0x2215c7=currentCoins[_0x51d3d7(0x309)](_0x351c6a=>_0x351c6a['coin']==_0x3c1463),_0x2215c7&&(_0x34a6d4=_0x2215c7[_0x51d3d7(0x272)],delete _0x2215c7['prevnumber']));while(!_0x7d987){_0x47f531=await fetchBalance(_0x1e3615);if(_0x47f531){if(_0x3c1463){if(_0x47f531[_0x3c1463]!=_0x34a6d4)logger[_0x51d3d7(0x23d)](_0x51d3d7(0x20a)+_0x3c1463+':\x20'+_0x47f531[_0x3c1463]+'\x20('+_0x34a6d4+')'),_0x7d987=!![];else{logger[_0x51d3d7(0x23d)](_0x51d3d7(0x2c4)+_0x3c1463+':\x20'+_0x47f531[_0x3c1463]+'\x20('+_0x34a6d4+')'),_0x26866c++;if(_0x26866c<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x51d3d7(0x23d)]('Stopped\x20fetching\x20balance\x20after\x20'+_0x26866c+_0x51d3d7(0x2db));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x2c4dcd,_0x1cbce8]of Object[_0x51d3d7(0x244)](_0x47f531)){_0x4af1e2['push'](_0x2c4dcd);}config['portfolio']['forEach'](_0x4a1f28=>{const _0x1d8ad5=_0x51d3d7;!_0x4af1e2['includes'](_0x4a1f28[_0x1d8ad5(0x232)])&&(_0x47f531[_0x4a1f28[_0x1d8ad5(0x232)]]=0x0);});if(_0x1e3f75=='')for(const [_0x2606d5,_0x415c8b]of Object['entries'](_0x47f531)){_0x415c8b!=0x0&&_0x301376['push']({'coin':_0x2606d5});}else for(const [_0x5e34ab,_0x2ea3d2]of Object[_0x51d3d7(0x244)](_0x47f531)){const _0x1b290c=config['portfolio']['find'](_0x45059c=>_0x45059c['coin']==_0x5e34ab),_0x5bafc6=_0x5e34ab+'/'+_0x1e3f75,_0x4742a0=_0x1e3f75+'/'+_0x5e34ab,_0x10291f=currentCoins[_0x51d3d7(0x309)](_0x475527=>_0x475527['coin']==_0x5e34ab);if((_0x2ea3d2!=0x0||_0x1b290c)&&(allSymbols[_0x51d3d7(0x2f3)](_0x5bafc6)||_0x5e34ab==_0x1e3f75))_0x10291f?_0x301376[_0x51d3d7(0x209)]({..._0x10291f,'number':Math[_0x51d3d7(0x303)](_0x2ea3d2+(_0x1b290c&&_0x1b290c[_0x51d3d7(0x2dc)]||0x0),0x0)}):_0x301376[_0x51d3d7(0x209)]({'coin':_0x5e34ab,'symbol':_0x5bafc6,'reverse':![],'number':Math[_0x51d3d7(0x303)](_0x2ea3d2+(_0x1b290c&&_0x1b290c[_0x51d3d7(0x2dc)]||0x0),0x0),'orderstatus':_0x51d3d7(0x2b1)});else{if((_0x2ea3d2!=0x0||_0x1b290c)&&allSymbols['includes'](_0x4742a0))_0x10291f?_0x301376['push']({..._0x10291f,'number':Math[_0x51d3d7(0x303)](_0x2ea3d2+(_0x1b290c&&_0x1b290c['offset']||0x0),0x0)}):_0x301376['push']({'coin':_0x5e34ab,'symbol':_0x4742a0,'reverse':!![],'number':Math[_0x51d3d7(0x303)](_0x2ea3d2+(_0x1b290c&&_0x1b290c[_0x51d3d7(0x2dc)]||0x0),0x0),'orderstatus':_0x51d3d7(0x2b1)});else _0x1b290c&&_0x301376[_0x51d3d7(0x209)]({'coin':_0x1b290c[_0x51d3d7(0x232)],'symbol':_0x1b290c[_0x51d3d7(0x225)],'reverse':_0x1b290c[_0x51d3d7(0x1c2)],'number':0x0,'orderstatus':_0x51d3d7(0x2b1)});}}return _0x301376[_0x51d3d7(0x316)]((_0x141415,_0x3affdf)=>_0x141415[_0x51d3d7(0x1fc)]<_0x3affdf['delta']?0x1:_0x3affdf['delta']<_0x141415['delta']?-0x1:0x0),_0x1fbbf4=cloneDeep(_0x301376),_0x301376=_0x301376[_0x51d3d7(0x29e)](_0x502385=>{const _0x172765=_0x51d3d7,_0x20e8b4=config[_0x172765(0x2ad)][_0x172765(0x309)](_0xb6236d=>_0xb6236d[_0x172765(0x232)]==_0x502385[_0x172765(0x232)]);return _0x20e8b4&&!_0x20e8b4[_0x172765(0x1ec)];}),[_0x301376,_0x1fbbf4];}async function getOpenOrders(){const _0x1e287d=_0x584ccc;let _0x193d6f;allOpenOrders=[];try{for(const _0x4c7c4b of config['portfolio']){!_0x4c7c4b[_0x1e287d(0x1ec)]&&_0x4c7c4b[_0x1e287d(0x232)]!=config[_0x1e287d(0x2ff)]&&(_0x193d6f=await exchange['fetchOpenOrders'](_0x4c7c4b[_0x1e287d(0x225)]),_0x193d6f[_0x1e287d(0x248)]>0x0&&allOpenOrders[_0x1e287d(0x209)](_0x193d6f[0x0]));}}catch(_0x497f1c){await handleError(_0x497f1c,_0x1e287d(0x2b5));}}async function handleOpenOrders(_0x545a9f=0x0){const _0x1f603e=_0x584ccc;allOpenOrders[_0x1f603e(0x248)]==0x0&&lockOrders==ORDERS[_0x1f603e(0x21b)]&&allOrdersPlaced&&(_0x545a9f==0x0?(logger['debug'](_0x1f603e(0x27d)),_0x545a9f++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x1f603e(0x28e)),validateOrders(_0x1f603e(0x15a))));}async function testAPI(){const _0x1d942b=_0x584ccc;try{return await exchange[_0x1d942b(0x166)](),!![];}catch(_0x41d45c){loading[_0x1d942b(0x255)]=!![],_0x41d45c[_0x1d942b(0x1aa)]()[_0x1d942b(0x260)]()[_0x1d942b(0x2f3)](_0x1d942b(0x20d))||_0x41d45c[_0x1d942b(0x1aa)]()['toLowerCase']()[_0x1d942b(0x2f3)](_0x1d942b(0x247))?(logHistory(_0x1d942b(0x263),_0x1d942b(0x231)),loading['error']=_0x1d942b(0x2a7)):handleErrorNoStop(_0x41d45c,_0x1d942b(0x214),!![]),logHistory(_0x1d942b(0x263),_0x1d942b(0x187)),logHistory(_0x1d942b(0x263),_0x1d942b(0x194)+loadCoinsRetryInterval/0xea60+_0x1d942b(0x326)),logger['debug'](_0x1d942b(0x2fb),_0x41d45c),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x4507a3){const _0x175545=_0x584ccc;logger[_0x175545(0x23d)](_0x175545(0x242));const _0x501b29=ccxt[_0x175545(0x2cb)][_0x4507a3['exchange'][_0x175545(0x260)]()],_0x1eb2f0=new _0x501b29({'apiKey':_0x4507a3[_0x175545(0x207)],'secret':_0x4507a3['apiSecret'],'options':{'defaultType':_0x175545(0x217)}});if(_0x4507a3['apiPassword'])_0x1eb2f0[_0x175545(0x1e2)]=_0x4507a3['apiPassword'];if(_0x1eb2f0['has']['sandbox'])_0x1eb2f0['setSandboxMode'](_0x4507a3[_0x175545(0x1c4)]);if(_0x4507a3[_0x175545(0x300)][_0x175545(0x260)]()==_0x175545(0x17e))_0x1eb2f0['options']['operatorId']=operatorId;try{await _0x1eb2f0[_0x175545(0x166)](),botPaused=![];}catch(_0x56d4db){logger[_0x175545(0x23d)](_0x175545(0x215)+_0x56d4db['toString']());throw _0x56d4db;}}function cloneDeep(_0x1db956){const _0x386a93=_0x584ccc;return JSON[_0x386a93(0x1a3)](JSON['stringify'](_0x1db956));}async function getPortfolio(_0xb0cc4c){const _0x5aa5b5=_0x584ccc;let _0x26e715=[],_0x33979d=[],_0x484f0c=[],_0xa0b001;_0xb0cc4c['apiKey']=decryptRSA(secure[_0x5aa5b5(0x1a6)],_0xb0cc4c[_0x5aa5b5(0x207)]),_0xb0cc4c[_0x5aa5b5(0x287)]=decryptRSA(secure[_0x5aa5b5(0x1a6)],_0xb0cc4c['apiSecret']);if(_0xb0cc4c[_0x5aa5b5(0x2bd)])_0xb0cc4c[_0x5aa5b5(0x2bd)]=decryptRSA(secure[_0x5aa5b5(0x1a6)],_0xb0cc4c[_0x5aa5b5(0x2bd)]);if(_0xb0cc4c[_0x5aa5b5(0x207)]!==_0x5aa5b5(0x262)||_0xb0cc4c[_0x5aa5b5(0x287)]!==_0x5aa5b5(0x262)||_0xb0cc4c[_0x5aa5b5(0x2bd)]&&_0xb0cc4c[_0x5aa5b5(0x2bd)]!==_0x5aa5b5(0x262)){if(config[_0x5aa5b5(0x300)]){if(_0xb0cc4c[_0x5aa5b5(0x207)]=='************')_0xb0cc4c[_0x5aa5b5(0x207)]=config[_0x5aa5b5(0x207)];if(_0xb0cc4c[_0x5aa5b5(0x287)]==_0x5aa5b5(0x262))_0xb0cc4c[_0x5aa5b5(0x287)]=config[_0x5aa5b5(0x287)];if(_0xb0cc4c[_0x5aa5b5(0x2bd)]==_0x5aa5b5(0x262))_0xb0cc4c[_0x5aa5b5(0x2bd)]=config[_0x5aa5b5(0x2bd)];}try{if(_0xb0cc4c[_0x5aa5b5(0x324)])await testNewAPI(_0xb0cc4c);}catch(_0x5acfd0){if(_0x5acfd0['toString']()[_0x5aa5b5(0x2f3)](_0x5aa5b5(0x16d))){logHistory(_0x5aa5b5(0x263),_0x5aa5b5(0x2c0)),logHistory(_0x5aa5b5(0x263),_0x5aa5b5(0x1ea)+_0x5acfd0['toString']()),proxyEmit(_0x5aa5b5(0x2b9),![]);return;}else{if(_0x5acfd0['toString']()[_0x5aa5b5(0x2f3)](_0x5aa5b5(0x1b5))){logHistory('error','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x5aa5b5(0x263),_0x5aa5b5(0x1ea)+_0x5acfd0[_0x5aa5b5(0x1aa)]()),proxyEmit(_0x5aa5b5(0x2b9),![]);return;}else{logHistory(_0x5aa5b5(0x263),_0x5aa5b5(0x293)+_0x5acfd0[_0x5aa5b5(0x1aa)]()),logger[_0x5aa5b5(0x23d)](_0x5aa5b5(0x2fb),_0x5acfd0),proxyEmit(_0x5aa5b5(0x2b9),![]);return;}}}exchange?updateExchange(_0xb0cc4c['apiKey'],_0xb0cc4c['apiSecret'],_0xb0cc4c[_0x5aa5b5(0x2bd)]):await initExchange(_0xb0cc4c[_0x5aa5b5(0x300)],_0xb0cc4c[_0x5aa5b5(0x207)],_0xb0cc4c[_0x5aa5b5(0x287)],_0xb0cc4c[_0x5aa5b5(0x2bd)],_0xb0cc4c[_0x5aa5b5(0x1c4)]);await loadSymbols();const _0x10e628=await getCoins(0x0,![],_0xb0cc4c[_0x5aa5b5(0x2ff)]);_0x484f0c=cloneDeep(_0x10e628[0x1]);}else{const _0x5a006a=await getCoins();_0x484f0c=cloneDeep(_0x5a006a[0x1]);}if(_0xb0cc4c[_0x5aa5b5(0x2ff)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x5aa5b5(0x259),_0x484f0c);else{_0x484f0c[_0x5aa5b5(0x1da)](_0x352b08=>{const _0x410aeb=_0x5aa5b5;if(_0x352b08[_0x410aeb(0x232)]!=_0xb0cc4c['basecoin']&&allSymbols[_0x410aeb(0x2f3)](_0x352b08[_0x410aeb(0x225)]))_0x26e715[_0x410aeb(0x209)](_0x352b08[_0x410aeb(0x225)]);});if(_0x26e715[_0x5aa5b5(0x248)]==0x0)logHistory(_0x5aa5b5(0x263),_0x5aa5b5(0x20e));else{try{_0x33979d=await getTickers(_0x26e715);}catch(_0x38abff){logHistory('error','Unknown\x20error\x20-\x20check\x20logs'),logger[_0x5aa5b5(0x23d)](_0x5aa5b5(0x2fb),_0x38abff),proxyEmit(_0x5aa5b5(0x2b9),![]);return;}_0x484f0c[_0x5aa5b5(0x1da)](_0x5879b1=>{const _0x5b25e5=_0x5aa5b5;_0x5879b1[_0x5b25e5(0x232)]!=_0xb0cc4c[_0x5b25e5(0x2ff)]?_0x33979d[_0x5879b1[_0x5b25e5(0x225)]]?_0x33979d[_0x5879b1[_0x5b25e5(0x225)]][_0x5b25e5(0x24d)]?_0xa0b001=_0x5879b1[_0x5b25e5(0x1c2)]?0x1/_0x33979d[_0x5879b1[_0x5b25e5(0x225)]][_0x5b25e5(0x24d)]:_0x33979d[_0x5879b1['symbol']]['last']:_0xa0b001=0x0:_0xa0b001=0x0:_0xa0b001=0x1,_0x5879b1[_0x5b25e5(0x30c)]=formatResult(_0xa0b001,0x8);}),await getMarketCap(_0x484f0c),proxyEmit('portfolio1',!![]),proxyEmit(_0x5aa5b5(0x259),_0x484f0c);}}}function truncateTradeAmount(_0x1f8079,_0x1c6a0b){const _0x5c8d16=_0x584ccc;let _0x2ca775=0x0;try{_0x2ca775=exchange[_0x5c8d16(0x223)](_0x1f8079,_0x1c6a0b);}catch(_0x43591e){}return _0x2ca775;}function checkMinimums(_0x2ba8ba){const _0x331b94=_0x584ccc;let _0x4ed393=!![];const _0x3e3c26=!_0x2ba8ba[_0x331b94(0x1c2)]?markets[_0x2ba8ba[_0x331b94(0x225)]][_0x331b94(0x22b)][_0x331b94(0x2a4)]['min']:markets[_0x2ba8ba[_0x331b94(0x225)]][_0x331b94(0x22b)][_0x331b94(0x152)][_0x331b94(0x2b2)],_0x4f33cb=!_0x2ba8ba['reverse']?markets[_0x2ba8ba['symbol']][_0x331b94(0x22b)][_0x331b94(0x152)]['min']:markets[_0x2ba8ba['symbol']][_0x331b94(0x22b)][_0x331b94(0x2a4)][_0x331b94(0x2b2)],_0x566cbd=truncateTradeAmount(_0x2ba8ba['symbol'],_0x2ba8ba[_0x331b94(0x26b)]);_0x2ba8ba[_0x331b94(0x26b)]=_0x566cbd;if(Math['abs'](_0x566cbd)<_0x3e3c26)_0x4ed393=![];if(Math[_0x331b94(0x182)](_0x566cbd)*_0x2ba8ba[_0x331b94(0x24d)]<_0x4f33cb)_0x4ed393=![];let _0x5192de='';if(_0x2ba8ba['side']==_0x331b94(0x265)){let _0x49ab1b=config[_0x331b94(0x2ad)]['find'](_0x10e3eb=>_0x10e3eb[_0x331b94(0x232)]==_0x2ba8ba[_0x331b94(0x232)]);_0x49ab1b[_0x331b94(0x2dc)]>0x0?Math[_0x331b94(0x182)](_0x566cbd)>_0x2ba8ba['number']-_0x49ab1b[_0x331b94(0x2dc)]&&(_0x4ed393=![],_0x5192de='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+_0x49ab1b['coin']+_0x331b94(0x275)):Math['abs'](_0x566cbd)>_0x2ba8ba[_0x331b94(0x24c)]&&(_0x4ed393=![]);}if(_0x2ba8ba[_0x331b94(0x205)]=='buy'){let _0xc5411c=config[_0x331b94(0x2ad)][_0x331b94(0x309)](_0x55078e=>_0x55078e[_0x331b94(0x232)]==config['basecoin']),_0x54aa15=currentCoins['find'](_0x3661fa=>_0x3661fa[_0x331b94(0x232)]==config['basecoin']);_0xc5411c[_0x331b94(0x2dc)]>0x0?Math[_0x331b94(0x182)](_0x566cbd)*_0x2ba8ba[_0x331b94(0x24d)]>_0x54aa15[_0x331b94(0x24c)]-_0xc5411c['offset']&&(_0x4ed393=![],_0x5192de='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config[_0x331b94(0x2ff)]+_0x331b94(0x275)):Math[_0x331b94(0x182)](_0x566cbd)*_0x2ba8ba[_0x331b94(0x24d)]>_0x54aa15[_0x331b94(0x24c)]&&(_0x4ed393=![]);}return!_0x4ed393&&_0x5192de&&!insufficientFundsWarningSent['includes'](_0x2ba8ba[_0x331b94(0x232)])&&(logHistory(_0x331b94(0x1f0),_0x5192de),insufficientFundsWarningSent[_0x331b94(0x209)](_0x2ba8ba['coin'])),_0x4ed393;}async function getBalances(_0xba891f=!![]){const _0x31fbf6=_0x584ccc;if(botPaused)return;let _0x43567e=0x0,_0x3c91bf;const _0x1d70df=config['threshold'];if(config[_0x31fbf6(0x15f)]&&config[_0x31fbf6(0x1ca)]<0x0)await validate24hChanges();currentCoins[_0x31fbf6(0x1da)](_0x1fbc2e=>{const _0x588124=_0x31fbf6;if(_0x1fbc2e['coin']!=config[_0x588124(0x2ff)]){let _0x468f9e=gTicker[noslash(_0x1fbc2e[_0x588124(0x225)])];_0x3c91bf=_0x1fbc2e[_0x588124(0x1c2)]?0x1/_0x468f9e:_0x468f9e;}else _0x3c91bf=0x1;let _0x5224cf=_0x1fbc2e[_0x588124(0x24c)]*_0x3c91bf;_0x43567e+=_0x5224cf,_0x1fbc2e[_0x588124(0x24d)]=formatResult(Number(_0x3c91bf),0x8),_0x1fbc2e[_0x588124(0x27e)]=_0x5224cf;}),currentCoins[_0x31fbf6(0x1da)](_0x1d2ff5=>{const _0x224a8e=_0x31fbf6;let _0x2d4d8b=config[_0x224a8e(0x2ad)][_0x224a8e(0x309)](_0x6d1bcd=>_0x6d1bcd[_0x224a8e(0x232)]==_0x1d2ff5[_0x224a8e(0x232)]),_0x3d01cd=Number(_0x2d4d8b[_0x224a8e(0x180)]),_0x8fbc2d=_0x1d2ff5[_0x224a8e(0x27e)]/_0x43567e*0x64,_0x3c9d7c=_0x3d01cd*_0x43567e/0x64/_0x1d2ff5[_0x224a8e(0x24d)]-_0x1d2ff5[_0x224a8e(0x24c)];_0x1d2ff5[_0x224a8e(0x180)]=formatResult(_0x8fbc2d,0x3),_0x1d2ff5['target']=formatResult(_0x3d01cd,0x3),_0x1d2ff5[_0x224a8e(0x26b)]=formatResult(_0x3c9d7c,0x8),_0x1d2ff5[_0x224a8e(0x205)]='',_0x1d2ff5['valid']=![];if(_0x1d2ff5[_0x224a8e(0x232)]!=config[_0x224a8e(0x2ff)]){if(_0x1d2ff5[_0x224a8e(0x180)]>_0x3d01cd)_0x1d2ff5[_0x224a8e(0x205)]='sell',_0x1d2ff5[_0x224a8e(0x224)]=checkMinimums(_0x1d2ff5);else _0x1d2ff5[_0x224a8e(0x180)]<_0x3d01cd&&(_0x1d2ff5[_0x224a8e(0x205)]=_0x224a8e(0x250),_0x1d2ff5['valid']=checkMinimums(_0x1d2ff5));}_0x1d2ff5['delta']=_0x1d2ff5[_0x224a8e(0x21e)]==0x0?0x270f:_0x1d2ff5[_0x224a8e(0x180)]/_0x1d2ff5[_0x224a8e(0x21e)]-0x1;if(_0x1d2ff5[_0x224a8e(0x2b6)]==_0x224a8e(0x277)||_0x1d2ff5[_0x224a8e(0x2b6)]==_0x224a8e(0x267))_0x1d2ff5[_0x224a8e(0x2b6)]='none';}),currentCoins[_0x31fbf6(0x316)]((_0x560db2,_0x5b90ce)=>_0x560db2[_0x31fbf6(0x1fc)]<_0x5b90ce['delta']?0x1:_0x5b90ce[_0x31fbf6(0x1fc)]<_0x560db2[_0x31fbf6(0x1fc)]?-0x1:0x0);const _0x2d3ac3=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2d3ac3[_0x31fbf6(0x25c)],'usd':_0x2d3ac3[_0x31fbf6(0x2e3)],'portfolio':JSON[_0x31fbf6(0x1a7)](currentCoins),'threshold':_0x1d70df},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0xba891f){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x1d70df});else lockOrders==ORDERS[_0x31fbf6(0x30b)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x1d70df});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x144b74=getNormalizedPerformance();getStartingBalances(_0x144b74),emitPerformance(_0x144b74);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x17e862=_0x584ccc;let _0x765873=dbCoinResults[_0x17e862(0x280)](_0x17e862(0x257))[_0x17e862(0x27e)](),_0x25ca76=0x0;return Object['entries'](_0x765873)['forEach'](([_0x4fd50f,_0x3c382f])=>{const _0x477dcd=_0x17e862;_0x25ca76+=_0x3c382f[_0x477dcd(0x1d6)];}),_0x25ca76;}async function storePerformance(){const _0x1628ff=_0x584ccc;if(!lastBalances)return;let _0x3de412=[],_0x505ad2;const _0x298aa9=getPnL();let _0x272d0c=JSON[_0x1628ff(0x1a3)](lastBalances[_0x1628ff(0x2ad)]);_0x272d0c[_0x1628ff(0x316)]((_0x555955,_0x3c8940)=>_0x555955['coin']>_0x3c8940[_0x1628ff(0x232)]?0x1:_0x3c8940['coin']>_0x555955[_0x1628ff(0x232)]?-0x1:0x0),_0x272d0c[_0x1628ff(0x1da)](_0x1d3ce0=>{const _0x16dc5e=_0x1628ff;let _0x5aee94={'coin':_0x1d3ce0[_0x16dc5e(0x232)],'number':_0x1d3ce0[_0x16dc5e(0x24c)],'price':_0x1d3ce0[_0x16dc5e(0x24d)]};_0x3de412[_0x16dc5e(0x209)](_0x5aee94);});const _0x183145=await getFiat(),_0x58581d=getTimeStamp()[_0x1628ff(0x220)]('\x20')[0x0],_0x462382=dbPerformance[_0x1628ff(0x280)](_0x1628ff(0x1dc))[_0x1628ff(0x309)]({'date':_0x58581d})['value']();_0x505ad2={'date':_0x58581d,'eur':_0x183145[_0x1628ff(0x25c)],'usd':_0x183145[_0x1628ff(0x2e3)],'coins':_0x3de412,'pnl':_0x298aa9},_0x462382?_0x505ad2[_0x1628ff(0x19c)]!=config[_0x1628ff(0x208)]&&dbPerformance[_0x1628ff(0x280)](_0x1628ff(0x1dc))[_0x1628ff(0x309)]({'date':_0x58581d})[_0x1628ff(0x31d)](_0x505ad2)[_0x1628ff(0x236)]():dbPerformance[_0x1628ff(0x280)](_0x1628ff(0x1dc))[_0x1628ff(0x209)](_0x505ad2)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x97c27c=_0x584ccc;let _0x2999e9=[];if(dbPerformance[_0x97c27c(0x2a8)](_0x97c27c(0x1dc))[_0x97c27c(0x27e)]()){let _0x4059d6=dbPerformance[_0x97c27c(0x280)](_0x97c27c(0x1dc))[_0x97c27c(0x314)]()['filter'](_0x184862=>{const _0x266ffc=_0x97c27c;if(_0x184862[_0x266ffc(0x257)]['length']==0x0)return![];else return!![];})[_0x97c27c(0x16a)](_0x97c27c(0x19c))[_0x97c27c(0x27e)](),_0x30843d=[...config[_0x97c27c(0x246)]];_0x30843d[_0x97c27c(0x316)]((_0x175cb3,_0x266175)=>_0x175cb3[_0x97c27c(0x19c)]>_0x266175[_0x97c27c(0x19c)]?-0x1:_0x266175[_0x97c27c(0x19c)]>_0x175cb3['date']?0x1:0x0);let _0x186521=0x1,_0x45beea=[],_0x6d6f6a=0x0;_0x4059d6[_0x97c27c(0x279)]()[_0x97c27c(0x1c2)]()[_0x97c27c(0x1da)]((_0x52b1aa,_0x534488)=>{const _0x2e437c=_0x97c27c;if(_0x30843d[_0x6d6f6a]){if(_0x4059d6[_0x4059d6[_0x2e437c(0x248)]-_0x534488]&&_0x30843d[_0x6d6f6a][_0x2e437c(0x19c)]==_0x4059d6[_0x4059d6[_0x2e437c(0x248)]-_0x534488][_0x2e437c(0x19c)]){if(_0x534488<_0x4059d6[_0x2e437c(0x248)]){let _0xd0994f=0x0,_0x11adaf=0x0;_0x4059d6[_0x4059d6[_0x2e437c(0x248)]-_0x534488][_0x2e437c(0x257)][_0x2e437c(0x1da)](_0x473881=>{const _0xd10a70=_0x2e437c;_0x11adaf+=_0x473881['number']*_0x473881[_0xd10a70(0x30c)];}),_0x30843d[_0x6d6f6a][_0x2e437c(0x16c)]['forEach'](_0x418d41=>{const _0x110f46=_0x2e437c;_0xd0994f+=_0x418d41[_0x110f46(0x24c)]*_0x418d41['price'];}),_0x186521*=_0xd0994f/(_0x11adaf-_0xd0994f)+0x1;}_0x6d6f6a++;}}let _0x3bbba6=0x0;_0x52b1aa['coins'][_0x2e437c(0x1da)](_0x24ac52=>{const _0x4a3050=_0x2e437c;_0x3bbba6+=_0x24ac52['number']*_0x24ac52[_0x4a3050(0x30c)];}),_0x45beea[_0x4059d6[_0x2e437c(0x248)]-_0x534488-0x1]=_0x3bbba6*(_0x186521-0x1);});let _0x5639f9=[];_0x30843d=[...config[_0x97c27c(0x246)]]||[];let _0x3949ed=0x0;_0x6d6f6a=0x0,_0x4059d6[_0x97c27c(0x1da)]((_0x2cd0d5,_0x5e8714)=>{const _0x46758b=_0x97c27c;if(_0x30843d[_0x6d6f6a]){const _0x4309fa=fns['parse'](_0x30843d[_0x6d6f6a][_0x46758b(0x19c)],_0x46758b(0x2ef),new Date()),_0x211fab=fns['parse'](_0x2cd0d5[_0x46758b(0x19c)],_0x46758b(0x2ef),new Date());if(fns[_0x46758b(0x176)](_0x4309fa,_0x211fab)){let _0x378838=0x0;_0x30843d[_0x6d6f6a][_0x46758b(0x16c)]['forEach'](_0x51ec30=>{const _0xbb0d56=_0x46758b;!_0x5639f9[_0x51ec30['coin']]?_0x5639f9[_0x51ec30[_0xbb0d56(0x232)]]=_0x51ec30['number']:(_0x378838=_0x5639f9[_0x51ec30[_0xbb0d56(0x232)]],_0x5639f9[_0x51ec30[_0xbb0d56(0x232)]]+=_0x51ec30[_0xbb0d56(0x24c)]);const _0xa255ac=_0x2cd0d5[_0xbb0d56(0x257)]['find'](_0x2440bd=>_0x2440bd[_0xbb0d56(0x232)]==_0x51ec30[_0xbb0d56(0x232)]);(!_0xa255ac||_0xa255ac['number']==0x0)&&(_0x3949ed+=(-_0x51ec30[_0xbb0d56(0x24c)]-_0x378838)*_0x51ec30[_0xbb0d56(0x30c)]);}),_0x6d6f6a++;}}_0x2cd0d5[_0x46758b(0x257)][_0x46758b(0x1da)]((_0x33aecd,_0x5c47ee)=>{const _0x1a752d=_0x46758b;_0x5639f9[_0x33aecd['coin']]&&(_0x33aecd['initial']=_0x5639f9[_0x33aecd[_0x1a752d(0x232)]]);}),_0x2999e9['push']({'date':_0x2cd0d5[_0x46758b(0x19c)],'eur':_0x2cd0d5['eur'],'usd':_0x2cd0d5[_0x46758b(0x2e3)],'offset':_0x45beea[_0x5e8714],'netoffset':_0x3949ed,'coins':_0x2cd0d5['coins'],'pnl':_0x2cd0d5['pnl']});});}return _0x2999e9;}function emitPerformance(_0x52cd3b){const _0x108063=_0x584ccc;_0x52cd3b[_0x108063(0x248)]!==0x0?(proxyEmit(_0x108063(0x18d),_0x52cd3b),lastPerformanceEmitted=getDate()):proxyEmit(_0x108063(0x18d),[]);}function getPerf(_0x1a00a1,_0x564c8e){const _0x4687f6=_0x584ccc;let _0x476b04=0x0,_0x51445e=0x0,_0x58762f=0x0;_0x1a00a1[_0x4687f6(0x257)][_0x4687f6(0x1da)](_0x4d41c2=>{const _0x58f5d3=_0x4687f6;_0x476b04+=_0x4d41c2[_0x58f5d3(0x24c)]*_0x4d41c2[_0x58f5d3(0x30c)];});_0x564c8e&&(_0x476b04+=_0x1a00a1[_0x4687f6(0x2dc)]);if(config[_0x4687f6(0x2ff)]===_0x4687f6(0x2e2)||config['basecoin']===_0x4687f6(0x165)||config['basecoin']==='PAXG')_0x51445e=_0x476b04*_0x1a00a1[_0x4687f6(0x25c)],_0x58762f=_0x476b04*_0x1a00a1[_0x4687f6(0x2e3)];else{if(usdBasecoins[_0x4687f6(0x2f3)](config['basecoin']))_0x51445e=_0x476b04*_0x1a00a1[_0x4687f6(0x25c)]/_0x1a00a1[_0x4687f6(0x2e3)],_0x58762f=_0x476b04;else config['basecoin']===_0x4687f6(0x278)&&(_0x51445e=_0x476b04,_0x58762f=_0x476b04*_0x1a00a1[_0x4687f6(0x2e3)]/_0x1a00a1[_0x4687f6(0x25c)]);}return[_0x476b04,_0x51445e,_0x58762f];}function CurrencyFactor(_0x16562d,_0x43459b,_0x1d896a){const _0x586562=_0x584ccc;let _0x2dec47;if(_0x43459b===_0x586562(0x2e2)||_0x43459b==='ETH'||_0x43459b===_0x586562(0x2d1))_0x2dec47=_0x1d896a===_0x586562(0x278)?_0x16562d[_0x586562(0x25c)]:_0x16562d['usd'];else{if(usdBasecoins[_0x586562(0x2f3)](_0x43459b))_0x2dec47=_0x1d896a===_0x586562(0x278)?_0x16562d[_0x586562(0x25c)]/_0x16562d[_0x586562(0x2e3)]:0x1;else _0x43459b===_0x586562(0x278)&&(_0x2dec47=_0x1d896a==='EUR'?0x1:_0x16562d[_0x586562(0x2e3)]/_0x16562d[_0x586562(0x25c)]);}return _0x2dec47;}function getKPIs(_0x54698a,_0x5667bd='EUR'){const _0x373a0e=_0x584ccc,_0x4991bd=config['basecoin'],_0x2cbc62=lastBalances,_0x37173f=currentCoins,_0x41dec6=getNormalizedPerformance(),_0x5e03d0=CurrencyFactor(_0x2cbc62,config[_0x373a0e(0x2ff)],_0x5667bd);let _0x47a9fc=0x0;_0x37173f['forEach'](_0x5813ff=>{const _0x4836a5=_0x373a0e;_0x47a9fc+=_0x5813ff[_0x4836a5(0x24c)]*_0x5813ff[_0x4836a5(0x24d)];});_0x54698a['includes'](_0x373a0e(0x23a))&&(_0x47a9fc*=_0x5e03d0);let _0x13b21f;if(_0x47a9fc!==0x0){if(_0x54698a===_0x373a0e(0x2ff)||_0x54698a==='fiat'){if(_0x54698a===_0x373a0e(0x2ff))_0x13b21f=(_0x47a9fc/startingBalances[_0x373a0e(0x2ff)]-0x1)*0x64;else{if(_0x5667bd===_0x373a0e(0x278))_0x13b21f=(_0x47a9fc/startingBalances[_0x373a0e(0x25c)]-0x1)*0x64;else _0x13b21f=(_0x47a9fc/startingBalances[_0x373a0e(0x2e3)]-0x1)*0x64;}}if(_0x54698a[_0x373a0e(0x2f3)](_0x373a0e(0x296))){let _0x448728=0x0;if(startingBalances['coins'])_0x37173f['forEach'](_0x2df648=>{const _0x2c19dd=_0x373a0e;let _0x12e99f=startingBalances['coins'][_0x2c19dd(0x309)](_0x122f12=>_0x122f12[_0x2c19dd(0x232)]===_0x2df648[_0x2c19dd(0x232)]);if(_0x12e99f&&_0x12e99f[_0x2c19dd(0x232)]&&_0x2df648[_0x2c19dd(0x24c)]!==0x0)_0x448728+=_0x12e99f[_0x2c19dd(0x24c)]*_0x2df648['last'];});let _0x146e7b=0x0;if(_0x41dec6[_0x373a0e(0x248)]!==0x0){let _0x3e9eb2=_0x41dec6[_0x41dec6['length']-0x1];_0x146e7b=_0x3e9eb2['netoffset'];}_0x448728-=_0x146e7b;let _0x11861b;_0x54698a==='net-basecoin'&&(_0x11861b=startingBalances[_0x373a0e(0x2ff)]),_0x54698a==='net-fiat'&&(_0x11861b=_0x5667bd===_0x373a0e(0x278)?startingBalances['eur']:startingBalances[_0x373a0e(0x2e3)],_0x448728*=_0x5e03d0),_0x13b21f=(_0x47a9fc-_0x448728)/_0x11861b*0x64,_0x47a9fc=_0x47a9fc-_0x448728;}if(_0x54698a['includes'](_0x373a0e(0x1a0))){if(_0x41dec6[_0x373a0e(0x248)]!==0x0&&_0x37173f['length']!==0x0){let _0x686204,_0x828f65=_0x41dec6[_0x41dec6[_0x373a0e(0x248)]-0x1][_0x373a0e(0x1a0)];_0x54698a[_0x373a0e(0x2f3)](_0x373a0e(0x23a))?(_0x686204=_0x5667bd==='EUR'?startingBalances[_0x373a0e(0x25c)]:startingBalances[_0x373a0e(0x2e3)],_0x828f65*=CurrencyFactor(_0x2cbc62,_0x4991bd,_0x5667bd)):_0x686204=startingBalances[_0x373a0e(0x2ff)],_0x13b21f=_0x828f65/_0x686204*0x64,_0x47a9fc=_0x828f65;}}if(_0x13b21f){if(_0x13b21f<0x64)_0x13b21f=_0x13b21f[_0x373a0e(0x1f2)](0x2);else{if(_0x13b21f<0x3e8)_0x13b21f=_0x13b21f[_0x373a0e(0x1f2)](0x1);else _0x13b21f=_0x13b21f[_0x373a0e(0x1f2)](0x0);}}else _0x13b21f=Number('0')[_0x373a0e(0x1f2)](0x2);if(_0x47a9fc){if(Math[_0x373a0e(0x182)](_0x47a9fc)<0.000001)_0x47a9fc=_0x47a9fc[_0x373a0e(0x1f2)](0x2);else{if(Math[_0x373a0e(0x182)](_0x47a9fc)<0.1)_0x47a9fc=_0x47a9fc['toFixed'](0x6);else{if(Math['abs'](_0x47a9fc)<0x1)_0x47a9fc=_0x47a9fc['toFixed'](0x5);else{if(Math[_0x373a0e(0x182)](_0x47a9fc)<0xa)_0x47a9fc=_0x47a9fc[_0x373a0e(0x1f2)](0x4);else{if(Math['abs'](_0x47a9fc)<0x64)_0x47a9fc=_0x47a9fc['toFixed'](0x3);else{if(Math['abs'](_0x47a9fc)<0x3e8)_0x47a9fc=_0x47a9fc[_0x373a0e(0x1f2)](0x2);else _0x47a9fc=_0x47a9fc[_0x373a0e(0x1f2)](0x2);}}}}}}else _0x47a9fc=Number('0')['toFixed'](0x2);}else _0x13b21f=Number('0')[_0x373a0e(0x1f2)](0x2);if(_0x13b21f>=0x0)_0x13b21f='+'+_0x13b21f;return{'value':_0x47a9fc,'change':_0x13b21f};}async function getStartingBalances(_0x35742f,_0xfc0418=!![]){const _0x27729b=_0x584ccc;if(_0x35742f[_0x27729b(0x248)]!==0x0){const [_0x3766ab,_0x9f42e3,_0xd130e2]=getPerf(_0x35742f[0x0],!![]);let _0x4a7e7e=[];config['portfolio'][_0x27729b(0x1da)](_0x1e9861=>{const _0x602fdd=_0x27729b;let _0x1743c5=0x0,_0x4312f1;config[_0x602fdd(0x246)][_0x602fdd(0x1da)](_0x5bd658=>{const _0x51366e=_0x602fdd;let _0x46f1ae=_0x5bd658['changes'][_0x51366e(0x309)](_0x153501=>_0x153501[_0x51366e(0x232)]==_0x1e9861[_0x51366e(0x232)]);if(_0x46f1ae){_0x1743c5+=_0x46f1ae[_0x51366e(0x24c)];if(!_0x4312f1)_0x4312f1=_0x46f1ae[_0x51366e(0x30c)];}}),_0x4a7e7e[_0x602fdd(0x209)]({'coin':_0x1e9861['coin'],'number':_0x1743c5,'initialprice':_0x4312f1});});const _0x4b64b4={'basecoin':_0x3766ab,'eur':_0x9f42e3,'usd':_0xd130e2,'coins':_0x4a7e7e};if(_0xfc0418)proxyEmit('starting-balances',_0x4b64b4);startingBalances=_0x4b64b4;}}function headlessMode(_0x177428){const _0x1b25c0=_0x584ccc;let _0x23ae00=_0x177428[_0x1b25c0(0x2ad)],_0x30ed64=_0x177428[_0x1b25c0(0x17f)],_0x3169e5=[];for(let _0x15adac of _0x23ae00){if(_0x15adac['coin']!=config[_0x1b25c0(0x2ff)]){if(_0x15adac['delta']>=_0x30ed64/0x64){if(_0x15adac[_0x1b25c0(0x224)])_0x3169e5[_0x1b25c0(0x209)](_0x15adac);}else{if(_0x15adac[_0x1b25c0(0x1fc)]<=-_0x30ed64/0x64){if(_0x15adac['valid'])_0x3169e5[_0x1b25c0(0x209)](_0x15adac);}}}}_0x3169e5[_0x1b25c0(0x248)]>0x0&&placeOrder(_0x3169e5);}function notifyBalance(_0x49429e){const _0x50f3f7=_0x584ccc;let _0x7ead8c=_0x49429e[_0x50f3f7(0x2ad)],_0x4d01c7=_0x49429e['threshold'],_0x66d75c=[];for(let _0x39f289 of _0x7ead8c){if(_0x39f289[_0x50f3f7(0x232)]!=config['basecoin']){if(_0x39f289['delta']>=_0x4d01c7/0x64){if(_0x39f289[_0x50f3f7(0x224)])_0x66d75c[_0x50f3f7(0x209)](_0x39f289);}else{if(_0x39f289[_0x50f3f7(0x1fc)]<=-_0x4d01c7/0x64){if(_0x39f289[_0x50f3f7(0x224)])_0x66d75c[_0x50f3f7(0x209)](_0x39f289);}}}}if(_0x66d75c['length']>0x0){let _0x429778=_0x66d75c[_0x50f3f7(0x1e1)](_0x437e2e=>_0x437e2e['coin']);_0x429778['sort']();let _0x5340c3=_0x429778[_0x50f3f7(0x2a0)](',\x20');if(!lastCoinsToBalance)logHistory(_0x50f3f7(0x1f0),_0x50f3f7(0x1db));lastCoinsToBalance=_0x5340c3;}}function symbolToCoin(_0x9bb389){const _0x8018e8=_0x584ccc;let _0x4541f0;if(_0x9bb389[_0x8018e8(0x2f3)]('/'+config[_0x8018e8(0x2ff)]))_0x4541f0=_0x9bb389['replace']('/'+config[_0x8018e8(0x2ff)],'');if(_0x9bb389['includes'](config[_0x8018e8(0x2ff)]+'/'))_0x4541f0=_0x9bb389[_0x8018e8(0x323)](config[_0x8018e8(0x2ff)]+'/','');return _0x4541f0;}function setLockOrders(_0x450727){const _0xbc2cac=_0x584ccc;lockOrders=_0x450727,logger['debug']('Set\x20lock\x20orders\x20to:\x20'+Object[_0xbc2cac(0x2d9)](ORDERS)[lockOrders]);}async function unlockOrders(_0x2dc65f=![]){const _0x1b2de3=_0x584ccc;if(allOrdersPlaced&&lockOrders==ORDERS[_0x1b2de3(0x21b)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x2dc65f){const _0x1fd7c9=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1fd7c9,setBlockTransactionDetection(![]);}validateOrdersState=_0x1b2de3(0x313),persistOpenOrders([]),setLockOrders(ORDERS[_0x1b2de3(0x30b)]);}}async function validateOrders(_0x1d3be2){const _0x1e5444=_0x584ccc;if(_0x1d3be2)validateOrdersState=_0x1d3be2;logger[_0x1e5444(0x23d)](_0x1e5444(0x179)+validateOrdersState+_0x1e5444(0x245)+Object[_0x1e5444(0x2d9)](ORDERS)[lockOrders]);let _0x5d9900=[],_0x5b13cc=config[_0x1e5444(0x1b6)]==_0x1e5444(0x24e)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x1e5444(0x1b7)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1e5444(0x21b)])return;logger['debug'](_0x1e5444(0x20b)+validateOrdersState);for(let _0x4ec750=lastOrders[_0x1e5444(0x248)]-0x1;_0x4ec750>=0x0;_0x4ec750--){let _0x11ab1f=lastOrders[_0x4ec750],_0x44306a=![];_0x11ab1f[_0x1e5444(0x277)]>0x0&&(_0x44306a=!![]),_0x5d9900[_0x1e5444(0x209)](_0x44306a),_0x44306a&&config[_0x1e5444(0x1b6)]!=_0x1e5444(0x24e)&&logHistory('order',_0x1e5444(0x219)+_0x11ab1f[_0x1e5444(0x225)]+'\x20'+_0x11ab1f[_0x1e5444(0x205)]+'\x20#'+formatResult(_0x11ab1f[_0x1e5444(0x277)],0x8)+'\x20@'+formatResult(_0x11ab1f[_0x1e5444(0x30c)],0x8)),_0x44306a&&lastOrders['splice'](_0x4ec750,0x1);}persistOpenOrders(lastOrders);const _0x15d0f6=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':'balancing\x20resumed';if(validateOrdersState==_0x1e5444(0x313)){validateOrdersState='ongoing';if(_0x5d9900['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x1e5444(0x2d3)){if(_0x5d9900[_0x1e5444(0x2f3)](![])){}else await unlockOrders();}else{if(validateOrdersState=='final'){let _0x31e70f=!![];if(_0x5d9900[_0x1e5444(0x2f3)](![])){if(config[_0x1e5444(0x1b6)]==_0x1e5444(0x24e))logHistory('success',_0x1e5444(0x319)+Math['round'](_0x5b13cc*validateOrderInterval/0xea60)+_0x1e5444(0x181)+_0x15d0f6),await unlockOrders(!![]);else{_0x31e70f=await cancelOrders();if(_0x31e70f)logHistory(_0x1e5444(0x234),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x1e5444(0x28d)](_0x5b13cc*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x15d0f6),await unlockOrders(!![]);else{validateOrdersState=_0x1e5444(0x2d3),logHistory('error',_0x1e5444(0x1cb)+Math['round'](_0x5b13cc*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x15d0f6),logHistory(_0x1e5444(0x263),_0x1e5444(0x178));const _0x568855=config[_0x1e5444(0x1b6)]==_0x1e5444(0x24e)?validateOrderTimeout*0x3c*0x3e8:config[_0x1e5444(0x1b7)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x36fc51=_0x1e5444;validateOrders(_0x36fc51(0x1ee));},_0x568855);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x1e5444(0x15a)){if(config[_0x1e5444(0x1b6)]!='market')logHistory(_0x1e5444(0x234),_0x1e5444(0x198)+_0x15d0f6);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x197f60=_0x584ccc;let _0xf3c753=!![],_0x66517;for(const _0x539e9a of lastOrders){let _0x346d64=![],_0x46bf9e=0x0;while(!_0x346d64&&_0x46bf9e<maxRetries){try{const _0x2abb30=await exchange[_0x197f60(0x320)](_0x539e9a[_0x197f60(0x1e5)],_0x539e9a[_0x197f60(0x225)]);_0x346d64=!![];}catch(_0x2c61be){_0x2c61be[_0x197f60(0x1aa)]()['includes'](_0x197f60(0x2f1))||_0x2c61be[_0x197f60(0x1aa)]()[_0x197f60(0x2f3)](_0x197f60(0x27c))?_0x346d64=!![]:(_0x66517=_0x2c61be,_0x346d64=![]);}!_0x346d64&&(_0x46bf9e++,await sleep(retryInterval));}_0xf3c753=_0xf3c753&&_0x346d64;}return!_0xf3c753&&await handleError(_0x66517,_0x197f60(0x2e4)),_0xf3c753;}async function initCoinResults(_0x4f63c3){const _0x29b662=_0x584ccc;_0x4f63c3?logger['debug']('Resetting\x20coin\x20results:\x20'+_0x4f63c3):logger[_0x29b662(0x23d)]('Initializing\x20coin\x20results'),config[_0x29b662(0x2ad)][_0x29b662(0x1da)](_0x42925d=>{const _0x35dab5=_0x29b662;if(!_0x42925d[_0x35dab5(0x1ec)]&&_0x42925d[_0x35dab5(0x232)]!=config[_0x35dab5(0x2ff)]){const _0x51a809=currentCoins['find'](_0x27cb47=>_0x27cb47[_0x35dab5(0x232)]==_0x42925d[_0x35dab5(0x232)]),_0x3c3681=gTicker[noslash(_0x42925d['symbol'])];let _0x2e1ff7=_0x51a809?_0x51a809[_0x35dab5(0x24c)]:null,_0x32ee77=_0x42925d[_0x35dab5(0x1c2)]?0x1/_0x3c3681:_0x3c3681,_0x192f0a;config[_0x35dab5(0x246)][_0x35dab5(0x1da)](_0x30dd3b=>{const _0x3f0801=_0x35dab5;!_0x192f0a&&(_0x192f0a=_0x30dd3b[_0x3f0801(0x16c)]['find'](_0x44473f=>_0x44473f[_0x3f0801(0x232)]==_0x42925d[_0x3f0801(0x232)]),_0x192f0a&&(_0x2e1ff7=_0x192f0a[_0x3f0801(0x24c)],_0x32ee77=_0x192f0a[_0x3f0801(0x30c)]));});let _0x3b521e=dbCoinResults['get'](_0x35dab5(0x257))['find']({'coin':_0x42925d[_0x35dab5(0x232)]})[_0x35dab5(0x27e)]();if(!_0x3b521e){const _0x17c261={'coin':_0x42925d[_0x35dab5(0x232)],'number':_0x2e1ff7,'breakeven':_0x32ee77,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x35dab5(0x280)]('coins')[_0x35dab5(0x209)](_0x17c261)[_0x35dab5(0x236)]();}else{if(_0x4f63c3&&_0x42925d[_0x35dab5(0x232)]==_0x4f63c3){const _0x33eaac={'coin':_0x42925d[_0x35dab5(0x232)],'number':_0x2e1ff7,'breakeven':_0x32ee77,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x35dab5(0x280)](_0x35dab5(0x257))[_0x35dab5(0x309)]({'coin':_0x42925d[_0x35dab5(0x232)]})[_0x35dab5(0x31d)](_0x33eaac)[_0x35dab5(0x236)]();}}}});}async function placeOrder(_0x537d76){const _0x909926=_0x584ccc,_0x15ca8f=config[_0x909926(0x1b6)]=='market'?_0x909926(0x24e):_0x909926(0x16f);if(lockOrders==ORDERS[_0x909926(0x30b)]&&!coolingDown){setLockOrders(ORDERS[_0x909926(0x21b)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x909926(0x23d)](_0x909926(0x285)+_0x537d76[_0x909926(0x1e1)](_0x2eee08=>_0x2eee08['coin'])[_0x909926(0x2a0)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x909926(0x313);let _0x23f304=![];lastOrders=[];const _0x4b3850=config[_0x909926(0x17f)];for(const _0x2503ce of _0x537d76){let _0x346cbc,_0x2f5cd7,_0x460523,_0x5ca8ab,_0x313f3b,_0x22bc54=_0x2503ce[_0x909926(0x225)];logger['debug'](_0x909926(0x2a9)+_0x2503ce[_0x909926(0x232)]+'\x20'+_0x2503ce[_0x909926(0x24c)]+'\x20'+_0x2503ce[_0x909926(0x24d)]+'\x20'+_0x2503ce[_0x909926(0x180)]+'%\x20'+_0x2503ce['target']+'%\x20'+(0x64*_0x2503ce[_0x909926(0x1fc)])[_0x909926(0x1f2)](0x2)+_0x909926(0x297)+_0x4b3850[_0x909926(0x1f2)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent['filter'](_0x48e22c=>_0x48e22c!==_0x2503ce[_0x909926(0x232)]);const _0x5bbf97=currentCoins['find'](_0x3b6726=>_0x3b6726[_0x909926(0x232)]==_0x2503ce[_0x909926(0x232)]);_0x5bbf97&&(_0x5bbf97[_0x909926(0x272)]=_0x2503ce[_0x909926(0x24c)]);try{const _0x30bfac=await exchange[_0x909926(0x15c)](_0x22bc54);_0x346cbc=_0x2503ce[_0x909926(0x1c2)]?0x1/_0x2503ce[_0x909926(0x24d)]:_0x2503ce['last'],_0x2f5cd7=_0x30bfac[_0x909926(0x288)],_0x460523=_0x30bfac[_0x909926(0x185)];_0x2503ce[_0x909926(0x1c2)]?(_0x5ca8ab=_0x2503ce[_0x909926(0x205)]=='buy'?_0x909926(0x265):_0x909926(0x250),_0x313f3b=Math[_0x909926(0x182)](_0x2503ce[_0x909926(0x26b)])/_0x346cbc):(_0x5ca8ab=_0x2503ce[_0x909926(0x205)],_0x313f3b=Math[_0x909926(0x182)](_0x2503ce[_0x909926(0x26b)]));_0x15ca8f==_0x909926(0x16f)&&(config[_0x909926(0x1b6)]=='limit-high'&&(_0x346cbc=_0x5ca8ab=='buy'?_0x2f5cd7:_0x460523),config['ordertype']=='limit-low'&&(_0x346cbc=_0x5ca8ab==_0x909926(0x250)?_0x460523:_0x2f5cd7));_0x313f3b=formatResult(_0x313f3b,0x8),_0x346cbc=formatResult(_0x346cbc,0x8);const _0x99cb64=_0x5ca8ab==_0x909926(0x265)?config[_0x909926(0x26d)]?String[_0x909926(0x1a4)]('0x'+config['emojisell'])+'\x20':'':config[_0x909926(0x1f4)]?String[_0x909926(0x1a4)]('0x'+config[_0x909926(0x1f4)])+'\x20':'',_0x563462=_0x15ca8f==_0x909926(0x24e)?_0x909926(0x2ae):config[_0x909926(0x1b6)]=='limit-high'?_0x909926(0x17d):_0x909926(0x256),_0x4e4f57=(Math[_0x909926(0x2c3)](Math[_0x909926(0x233)]()*0x35a4e900)+0x5f5e100)[_0x909926(0x1aa)]();lastOrders[_0x909926(0x209)]({'customId':_0x4e4f57,'symbol':_0x22bc54,'coin':_0x2503ce[_0x909926(0x232)],'amount':_0x313f3b,'price':_0x346cbc,'side':_0x5ca8ab,'reverse':_0x2503ce[_0x909926(0x1c2)],'filled':0x0});let _0x374df4;_0x15ca8f==_0x909926(0x24e)?_0x5ca8ab==_0x909926(0x250)&&['Bybit',_0x909926(0x253),_0x909926(0x325),'Gateio',_0x909926(0x161),'Huobipro'][_0x909926(0x2f3)](config[_0x909926(0x300)])?_0x374df4=await exchange[_0x909926(0x276)](_0x22bc54,_0x15ca8f,_0x5ca8ab,_0x313f3b,_0x346cbc):_0x374df4=await exchange[_0x909926(0x276)](_0x22bc54,_0x15ca8f,_0x5ca8ab,_0x313f3b,undefined):_0x374df4=await exchange['createOrder'](_0x22bc54,_0x15ca8f,_0x5ca8ab,_0x313f3b,_0x346cbc);const _0x166222=lastOrders['length']-0x1;if(_0x166222>=0x0&&lastOrders[_0x166222]['customId']==_0x4e4f57){lastOrders[_0x166222][_0x909926(0x1e5)]=_0x374df4['id'];if(_0x374df4['amount'])lastOrders[_0x166222][_0x909926(0x2a4)]=_0x374df4[_0x909926(0x2a4)];if(_0x374df4[_0x909926(0x30c)])lastOrders[_0x166222][_0x909926(0x30c)]=_0x374df4[_0x909926(0x30c)];lastOrders[_0x166222][_0x909926(0x2fe)]=_0x374df4['fee'];}if(_0x374df4[_0x909926(0x2a4)])_0x313f3b=_0x374df4[_0x909926(0x2a4)];if(_0x374df4[_0x909926(0x30c)])_0x346cbc=_0x374df4[_0x909926(0x30c)];if(_0x15ca8f==_0x909926(0x24e))logHistory(_0x909926(0x2bb),''+_0x99cb64+_0x563462+_0x909926(0x1f7)+_0x22bc54+'\x20'+_0x5ca8ab+'\x20#'+formatResult(_0x313f3b,0x8)+'\x20@'+formatResult(_0x346cbc,0x8));else logHistory('order',''+_0x99cb64+_0x563462+_0x909926(0x1f7)+_0x22bc54+'\x20'+_0x5ca8ab+'\x20#'+formatResult(_0x313f3b,0x8)+'\x20@'+formatResult(_0x346cbc,0x8));logger[_0x909926(0x23d)](_0x909926(0x17b)+_0x374df4['id']+'\x20|\x20Custom\x20ID:\x20'+_0x4e4f57);if(config[_0x909926(0x294)]!=0x0){let _0x9bd4c1=null;if(cooldownTracker[_0x909926(0x248)]==config['cooldown']-0x1)_0x9bd4c1=cooldownTracker['shift']();const _0x577732=getTimeStamp();cooldownTracker['push'](_0x577732);if(_0x9bd4c1){const _0x4a734d=fns[_0x909926(0x2aa)](new Date(_0x577732),new Date(_0x9bd4c1));if(_0x4a734d<cooldownInterval){logHistory(_0x909926(0x263),_0x909926(0x160)+config[_0x909926(0x294)]+_0x909926(0x168)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x909926(0x27b)),coolingDown=!![];break;}}}}catch(_0xcee39){if(_0xcee39[_0x909926(0x1aa)]()['includes'](_0x909926(0x2ed)))lastOrders=lastOrders[_0x909926(0x29e)](_0x5e323c=>_0x5e323c['symbol']!=_0x22bc54),logHistory(_0x909926(0x263),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x22bc54),_0x23f304=!![];else{if(_0xcee39[_0x909926(0x1aa)]()[_0x909926(0x2f3)](_0x909926(0x172)))lastOrders=lastOrders[_0x909926(0x29e)](_0x490f0f=>_0x490f0f[_0x909926(0x225)]!=_0x22bc54),logHistory(_0x909926(0x263),_0x909926(0x17c)+_0x22bc54),_0x23f304=!![];else{if(_0xcee39[_0x909926(0x1aa)]()['includes'](_0x909926(0x27c)))lastOrders=lastOrders[_0x909926(0x29e)](_0x13d8a5=>_0x13d8a5[_0x909926(0x225)]!=_0x22bc54),logHistory(_0x909926(0x263),_0x909926(0x2d4)+_0x22bc54),logger[_0x909926(0x23d)](_0xcee39),_0x23f304=!![];else _0xcee39[_0x909926(0x1aa)]()['includes'](_0x909926(0x1e6))?(lastOrders=lastOrders[_0x909926(0x29e)](_0x1dbeb2=>_0x1dbeb2[_0x909926(0x225)]!=_0x22bc54),logHistory(_0x909926(0x263),_0x909926(0x177)+_0x22bc54),_0x23f304=!![]):(lastOrders=lastOrders[_0x909926(0x29e)](_0x24b304=>_0x24b304[_0x909926(0x225)]!=_0x22bc54),await handleError(_0xcee39,'placeOrder()',_0x22bc54));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0x10bf5c=config['ordertype']==_0x909926(0x24e)?validateOrderTimeout*0x3c*0x3e8:config[_0x909926(0x1b7)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x10bf5c);}else unlockOrders();_0x23f304&&config['headless']&&(logHistory(_0x909926(0x263),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x909926(0x234),_0x909926(0x22e)));}else{if(coolingDown)!config['headless']&&logHistory(_0x909926(0x263),_0x909926(0x321));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x909926(0x15f)]&&(config['ordertype']==_0x909926(0x24e)?logHistory('error',_0x909926(0x26a)):logHistory(_0x909926(0x263),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x4aed70){const _0x4259f3=_0x584ccc,_0x3201fc={...config,'openOrders':_0x4aed70};let _0x1794b6=dbConfig[_0x4259f3(0x280)](_0x4259f3(0x1f5))[_0x4259f3(0x309)]({'botID':botID})[_0x4259f3(0x27e)]();_0x1794b6&&dbConfig[_0x4259f3(0x280)]('bot')[_0x4259f3(0x309)]({'botID':botID})[_0x4259f3(0x31d)](_0x3201fc)['write']();}function restoreOrders(){const _0x18ed12=_0x584ccc;let _0x251a33;config['openOrders']&&allOpenOrders[_0x18ed12(0x1da)](_0x1d41a8=>{const _0x52fee2=_0x18ed12,_0x2581a6=config[_0x52fee2(0x167)]['find'](_0x1bb990=>_0x1bb990[_0x52fee2(0x1e5)]==_0x1d41a8['id']);_0x2581a6&&(lastOrders['push'](_0x2581a6),_0x251a33=_0x1d41a8[_0x52fee2(0x20d)]);});if(lastOrders[_0x18ed12(0x248)]>0x0){setLockOrders(ORDERS[_0x18ed12(0x21b)]),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x5dedf2=new Date()['getTime'](),_0x1312e7=config['ordertype']==_0x18ed12(0x24e)?validateOrderTimeout*0x3c*0x3e8:config[_0x18ed12(0x1b7)]*0x3c*0x3e8;if(_0x251a33+_0x1312e7>_0x5dedf2){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x251a33+_0x1312e7-_0x5dedf2);}else validateOrders(_0x18ed12(0x1ee));}}async function sendMetricsTelegram(){const _0x3fcb7c=_0x584ccc;if(!coinsLoaded){process['send']({'telegrammsg':_0x3fcb7c(0x211)},_0x363a61=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x30c3eb='';if(config[_0x3fcb7c(0x159)])_0x30c3eb=_0x3fcb7c(0x29f)+config['botname']+_0x3fcb7c(0x21d);else _0x30c3eb=_0x3fcb7c(0x2f9)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x5af7d4=config[_0x3fcb7c(0x2ff)],_0x413c7b=config[_0x3fcb7c(0x23a)],_0x4ca3c8=getKPIs(_0x3fcb7c(0x2ff)),_0x18f8f3=getKPIs(_0x3fcb7c(0x23a),_0x413c7b),_0x4363b0=getKPIs(_0x3fcb7c(0x17a)),_0x267e32=getKPIs('net-fiat',_0x413c7b),_0x1e981d=getKPIs(_0x3fcb7c(0x2a5)),_0x3a364a=getKPIs(_0x3fcb7c(0x1ae),_0x413c7b);_0x5af7d4[_0x3fcb7c(0x2f3)](_0x413c7b)?(_0x30c3eb+=_0x3fcb7c(0x191),_0x30c3eb+=_0x3fcb7c(0x2e8)+_0x5af7d4+':\x20'+_0x4ca3c8[_0x3fcb7c(0x27e)]+'\x20('+_0x4ca3c8[_0x3fcb7c(0x1f3)]+_0x3fcb7c(0x31a),_0x30c3eb+=_0x3fcb7c(0x22c)+_0x5af7d4+':\x20'+_0x4363b0['value']+'\x20('+_0x4363b0[_0x3fcb7c(0x1f3)]+_0x3fcb7c(0x31a),_0x30c3eb+=_0x3fcb7c(0x30e)+_0x5af7d4+':\x20'+_0x1e981d['value']+'\x20('+_0x1e981d[_0x3fcb7c(0x1f3)]+_0x3fcb7c(0x31a),_0x30c3eb+=_0x3fcb7c(0x2df)):(_0x30c3eb+=_0x3fcb7c(0x191),_0x30c3eb+=_0x3fcb7c(0x2e8)+_0x5af7d4+':\x20'+_0x4ca3c8[_0x3fcb7c(0x27e)]+'\x20('+_0x4ca3c8['change']+_0x3fcb7c(0x31a),_0x30c3eb+=_0x3fcb7c(0x2e8)+_0x413c7b+':\x20'+_0x18f8f3[_0x3fcb7c(0x27e)]+'\x20('+_0x18f8f3['change']+'%)\x0a',_0x30c3eb+=_0x3fcb7c(0x22c)+_0x5af7d4+':\x20'+_0x4363b0[_0x3fcb7c(0x27e)]+'\x20('+_0x4363b0[_0x3fcb7c(0x1f3)]+_0x3fcb7c(0x31a),_0x30c3eb+='Net\x20'+_0x413c7b+':\x20'+_0x267e32[_0x3fcb7c(0x27e)]+'\x20('+_0x267e32[_0x3fcb7c(0x1f3)]+'%)\x0a',_0x30c3eb+=_0x3fcb7c(0x30e)+_0x5af7d4+':\x20'+_0x1e981d[_0x3fcb7c(0x27e)]+'\x20('+_0x1e981d[_0x3fcb7c(0x1f3)]+_0x3fcb7c(0x31a),_0x30c3eb+=_0x3fcb7c(0x30e)+_0x413c7b+':\x20'+_0x3a364a['value']+'\x20('+_0x3a364a[_0x3fcb7c(0x1f3)]+_0x3fcb7c(0x31a),_0x30c3eb+=_0x3fcb7c(0x2df)),process[_0x3fcb7c(0x30d)]({'telegrammsg':_0x30c3eb},_0xf479b7=>{});}async function sendPortfolioTelegram(){const _0x2f3495=_0x584ccc;if(!coinsLoaded||!currentCoins[0x0][_0x2f3495(0x180)]&&currentCoins[0x0][_0x2f3495(0x180)]!=0x0){process['send']({'telegrammsg':_0x2f3495(0x211)},_0x1a5e03=>{});return;}let _0x450c37='';if(config[_0x2f3495(0x159)])_0x450c37=_0x2f3495(0x29f)+config[_0x2f3495(0x2ee)]+_0x2f3495(0x302);else _0x450c37=_0x2f3495(0x2f9)+botID+_0x2f3495(0x302);_0x450c37+=_0x2f3495(0x191),_0x450c37+=_0x2f3495(0x228),_0x450c37+=_0x2f3495(0x210),_0x450c37+=_0x2f3495(0x228),currentCoins['forEach'](_0x4bf81b=>{const _0x46fb51=_0x2f3495;_0x450c37+=_0x4bf81b[_0x46fb51(0x232)]['padEnd'](0x7)+'|\x20'+formatPad(_0x4bf81b[_0x46fb51(0x180)],0x2,0x6)+'|\x20'+formatPad(_0x4bf81b[_0x46fb51(0x21e)],0x2,0x6)+'|\x20'+(_0x4bf81b[_0x46fb51(0x21e)]==0x0?'∞'[_0x46fb51(0x2eb)](0x6):formatPad(_0x4bf81b[_0x46fb51(0x1fc)]*0x64,0x2,0x6))+'\x0a';}),_0x450c37+=_0x2f3495(0x2df),process[_0x2f3495(0x30d)]({'telegrammsg':_0x450c37},_0x455560=>{});}function formatPad(_0x4e726c,_0x1e5ab1,_0x167bee){const _0x31a219=_0x584ccc,_0xe3a725=formatResultString(_0x4e726c,_0x1e5ab1);return _0xe3a725?_0xe3a725[_0x31a219(0x2eb)](_0x167bee):''[_0x31a219(0x2eb)](_0x167bee);}function logHistory(_0xe7aa01,_0x587cc0,_0x519f3f=''){const _0x39143f=_0x584ccc;logger['full'](''+_0x587cc0);let _0x5de8da={'time':getTimeStamp(),'type':_0xe7aa01,'event':_0x587cc0};dbLogs[_0x39143f(0x280)](_0x39143f(0x317))[_0x39143f(0x209)](_0x5de8da)[_0x39143f(0x236)]();if(_0x519f3f=='')_0x519f3f=_0x587cc0;proxyEmit('event',{'log':_0x5de8da,'summary':_0x519f3f}),process['send']({'telegram':{..._0x5de8da,'botname':config['botname'],'showname':config['showname']}},_0x5dd097=>{});}function emitHistory(_0x5a92bf={}){const _0x3bb68d=_0x584ccc;Object[_0x3bb68d(0x2d9)](_0x5a92bf)[_0x3bb68d(0x248)]==0x0&&(_0x5a92bf={'type':['order',_0x3bb68d(0x318)],'event':'','page':0x1});if(_0x5a92bf[_0x3bb68d(0x1de)][_0x3bb68d(0x2f3)](_0x3bb68d(0x318)))_0x5a92bf[_0x3bb68d(0x1de)][_0x3bb68d(0x1eb)](_0x5a92bf['type'][_0x3bb68d(0x1cd)](_0x3bb68d(0x318)),0x1,_0x3bb68d(0x263),_0x3bb68d(0x1f0),_0x3bb68d(0x234));if(dbLogs[_0x3bb68d(0x2a8)](_0x3bb68d(0x317))[_0x3bb68d(0x27e)]()){let _0x5315bf=dbLogs[_0x3bb68d(0x280)]('logs')['filter'](_0x110ad0=>{const _0x182f79=_0x3bb68d;if(_0x5a92bf[_0x182f79(0x1de)][_0x182f79(0x248)]==0x0)return![];else return _0x5a92bf[_0x182f79(0x1de)][_0x182f79(0x2f3)](_0x110ad0[_0x182f79(0x1de)]);})[_0x3bb68d(0x29e)](_0x4994e4=>{const _0x12e72a=_0x3bb68d;if(_0x5a92bf[_0x12e72a(0x318)]=='')return!![];else return _0x4994e4[_0x12e72a(0x318)][_0x12e72a(0x260)]()[_0x12e72a(0x2f3)](_0x5a92bf[_0x12e72a(0x318)]['toLowerCase']());})[_0x3bb68d(0x16a)](_0x3bb68d(0x15e)),_0xda96f1=_0x5315bf[_0x3bb68d(0x27e)]()[_0x3bb68d(0x248)];_0x5315bf=_0x5315bf['reverse']()[_0x3bb68d(0x279)]((_0x5a92bf['page']-0x1)*logPageSize,_0x5a92bf[_0x3bb68d(0x2d7)]*logPageSize-0x1)[_0x3bb68d(0x1c2)]()[_0x3bb68d(0x27e)](),proxyEmit(_0x3bb68d(0x1b0),{'logs':_0x5315bf,'total':_0xda96f1});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x393302){const _0x13af4f=_0x584ccc;if(dbLogs[_0x13af4f(0x2a8)](_0x13af4f(0x317))['value']()){const _0x4a1d5a=dbLogs[_0x13af4f(0x280)](_0x13af4f(0x317))[_0x13af4f(0x16a)](_0x13af4f(0x15e))['filter'](_0x4bb500=>{const _0x1e5745=_0x13af4f;return _0x4bb500[_0x1e5745(0x1de)]==_0x1e5745(0x2bb);})['value']();dbLogs[_0x13af4f(0x280)](_0x13af4f(0x317))[_0x13af4f(0x1c5)]()[_0x13af4f(0x236)](),dbLogs[_0x13af4f(0x280)](_0x13af4f(0x317))['assign'](_0x4a1d5a)[_0x13af4f(0x236)](),emitHistory(_0x393302);}}async function pauseBot(_0x4ddd2b=pauseBotIntervalShort,_0x7404da,_0x7a49f9,_0x3ede91=![]){const _0x4da82c=_0x584ccc,_0x22507f=new Date()[_0x4da82c(0x1ba)]();if(!lastErrorShown||_0x22507f-lastErrorShown>=_0x4ddd2b){lastErrorShown=_0x22507f;if(!lastBotPause)lastBotPause=_0x22507f,consecutivePauses=0x1;else{if(_0x22507f-lastBotPause-_0x4ddd2b<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x3ede91){logHistory(_0x4da82c(0x263),_0x7404da+_0x4da82c(0x1c6)),await killBot();return;}else logHistory('error',_0x7404da+pauseBotMsg),_0x4ddd2b=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x22507f;}_0x7a49f9?logger[_0x4da82c(0x23d)]('('+consecutivePauses+')\x20'+_0x7404da+_0x4da82c(0x238),_0x7a49f9):logger['debug']('('+consecutivePauses+')\x20'+_0x7404da);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x4ddd2b),botPaused=![],_0x4ddd2b==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x34446b=_0x584ccc;botPaused=!![],await sleep(0x3e8),process[_0x34446b(0x30d)]({'stop':_0x34446b(0x193)},_0x5e90e4=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2ecc86,_0x148df2,_0x24af76=![]){const _0x1d3b01=_0x584ccc;if(botPaused)return;let _0x564d5f;const _0x425c71=config[_0x1d3b01(0x300)]||_0x1d3b01(0x1d8);if(_0x148df2)logger[_0x1d3b01(0x23d)](_0x1d3b01(0x1ad)+_0x148df2);const _0x498f42=()=>{const _0x13f68e=_0x1d3b01;loading[_0x13f68e(0x263)]=_0x13f68e(0x16e),emitLoadingProgress();};if(_0x2ecc86[_0x1d3b01(0x1aa)]()[_0x1d3b01(0x2f3)](_0x1d3b01(0x171)))logHistory(_0x1d3b01(0x263),_0x425c71+_0x1d3b01(0x1e9)),_0x498f42();else{if(_0x2ecc86[_0x1d3b01(0x1aa)]()[_0x1d3b01(0x2f3)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x1d3b01(0x263),_0x425c71+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x498f42();else{if(_0x2ecc86[_0x1d3b01(0x1aa)]()[_0x1d3b01(0x2f3)]('AuthenticationError'))config['apiPassword']?_0x564d5f=_0x425c71+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x564d5f=_0x425c71+_0x1d3b01(0x18b),logHistory('error',_0x564d5f+'\x20(see:\x20hodlerhacks.com/fix/1)'),_0x498f42();else{if(_0x2ecc86[_0x1d3b01(0x1aa)]()[_0x1d3b01(0x2f3)](_0x1d3b01(0x1b5)))logHistory(_0x1d3b01(0x263),_0x425c71+_0x1d3b01(0x2d6)),_0x498f42();else{if(!_0x24af76)await handleError(_0x2ecc86,null);}}}}}async function handleError(_0x4f64c2,_0x563a8,_0x4645b4=''){const _0x2b10c1=_0x584ccc;if(botPaused)return;let _0x1add29;const _0x3332ea=config['exchange']||_0x2b10c1(0x1d8);if(_0x563a8)logger['debug']('Exception\x20thrown\x20in\x20'+_0x563a8);if(_0x4f64c2[_0x2b10c1(0x1aa)]()['includes'](_0x2b10c1(0x284)))_0x1add29=_0x3332ea+'\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x1add29,_0x4f64c2);else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x1bf)))_0x1add29=_0x3332ea+_0x2b10c1(0x221),await pauseBot(undefined,_0x1add29,_0x4f64c2);else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x173))||_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x1e7)))_0x1add29=_0x3332ea+_0x2b10c1(0x1cf),await pauseBot(undefined,_0x1add29,_0x4f64c2[_0x2b10c1(0x1aa)]());else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x2fd)))_0x1add29=_0x3332ea+_0x2b10c1(0x329),await pauseBot(undefined,_0x1add29,_0x4f64c2[_0x2b10c1(0x1aa)]());else{if(_0x4f64c2['toString']()[_0x2b10c1(0x2f3)](_0x2b10c1(0x2f4)))_0x1add29=_0x3332ea+_0x2b10c1(0x2c6),await pauseBot(undefined,_0x1add29,_0x4f64c2['toString']());else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x260)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x20d))||_0x4f64c2['toString']()[_0x2b10c1(0x260)]()['includes']('request-time'))_0x1add29=_0x2b10c1(0x231),await pauseBot(undefined,_0x1add29,_0x4f64c2[_0x2b10c1(0x1aa)]());else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x2c7)))_0x1add29=_0x3332ea+_0x2b10c1(0x29a),await pauseBot(undefined,_0x1add29,_0x4f64c2[_0x2b10c1(0x1aa)]());else{if(_0x4f64c2 instanceof ccxt[_0x2b10c1(0x2b7)])_0x1add29=_0x3332ea+_0x2b10c1(0x307)+_0x4f64c2[_0x2b10c1(0x1aa)](),logger['debug'](_0x2b10c1(0x2a6),_0x4f64c2),await pauseBot(undefined,_0x1add29,_0x4f64c2);else{if(_0x4f64c2['toString']()['includes'](_0x2b10c1(0x171)))logHistory(_0x2b10c1(0x263),_0x3332ea+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x2b10c1(0x263),_0x2b10c1(0x1d1)),await killBot();else{if(_0x4f64c2['toString']()['includes'](_0x2b10c1(0x304)))logHistory('error',_0x3332ea+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x2b10c1(0x263),_0x2b10c1(0x1d1)),await killBot();else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)]('AuthenticationError')&&_0x4f64c2['toString']()[_0x2b10c1(0x2f3)]('token\x20is\x20expired'))_0x1add29=_0x3332ea+_0x2b10c1(0x1d4),await pauseBot(undefined,_0x1add29,_0x4f64c2,!![]);else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x16d)))config[_0x2b10c1(0x2bd)]?_0x1add29=_0x3332ea+_0x2b10c1(0x2fa):_0x1add29=_0x3332ea+_0x2b10c1(0x18b),logHistory(_0x2b10c1(0x263),_0x1add29),logHistory('error',_0x2b10c1(0x1d1)),await killBot();else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x1b5)))logHistory(_0x2b10c1(0x263),_0x3332ea+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x2b10c1(0x263),_0x2b10c1(0x1d1)),await killBot();else{if(_0x4f64c2[_0x2b10c1(0x1aa)]()[_0x2b10c1(0x2f3)](_0x2b10c1(0x1a1)))logHistory(_0x2b10c1(0x263),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x4645b4),logger['debug'](_0x2b10c1(0x2fb),_0x4f64c2);else{if(_0x4f64c2 instanceof ccxt[_0x2b10c1(0x2ba)]){_0x1add29=_0x3332ea+_0x2b10c1(0x254)+_0x4f64c2['toString']();if(_0x4645b4)_0x1add29+=_0x2b10c1(0x1e8)+_0x4645b4;await pauseBot(undefined,_0x1add29,_0x4f64c2);}else{_0x1add29=_0x2b10c1(0x269)+_0x4f64c2[_0x2b10c1(0x1aa)]();if(_0x4645b4)_0x1add29+=_0x2b10c1(0x1e8)+_0x4645b4;await pauseBot(undefined,_0x1add29);}}}}}}}}}}}}}}}}function decryptRSA(_0x47bb65,_0x4553cc){const _0x42aa75=_0x584ccc,_0x924c72=forge[_0x42aa75(0x1a9)][_0x42aa75(0x20f)](_0x47bb65),_0x553ff1=_0x924c72['decrypt'](forge[_0x42aa75(0x201)]['decode64'](_0x4553cc),_0x42aa75(0x1f6),{'md':forge['md'][_0x42aa75(0x2d8)][_0x42aa75(0x26c)](),'mgf1':{'md':forge['md'][_0x42aa75(0x2d8)][_0x42aa75(0x26c)]()}});return _0x553ff1;}async function withRetry(_0x2a3cc6,_0x18e560){const _0x18cff3=_0x584ccc;let _0x380435=![],_0x1f01ad=0x0,_0x14a45f,_0x587f84;while(_0x1f01ad<maxRetries){try{_0x14a45f=await _0x18e560();break;}catch(_0x2ec920){_0x587f84=_0x2ec920,!_0x380435?(_0x380435=!![],logger[_0x18cff3(0x23d)](_0x18cff3(0x229)+_0x2a3cc6+':',_0x2ec920['toString']())):await sleep(retryInterval);}_0x1f01ad++;}if(_0x1f01ad==0x0)return _0x14a45f;if(_0x1f01ad>=maxRetries)throw _0x587f84;else return logger[_0x18cff3(0x23d)](_0x18cff3(0x1be)+_0x1f01ad+_0x18cff3(0x2db)),_0x14a45f;}function formatResult(_0x57a77a,_0x196eff){const _0x265d86=_0x584ccc;return parseFloat(_0x57a77a[_0x265d86(0x1f2)](_0x196eff));}function formatResultTruncate(_0x1ad6fe,_0x484960){const _0x4b4a8c=_0x584ccc;let _0x49c621=formatResultString(_0x1ad6fe,0xa),_0x1bcfce=_0x49c621['indexOf']('.');return _0x1bcfce!=-0x1&&(_0x49c621=_0x49c621[_0x4b4a8c(0x279)](0x0,_0x1bcfce+_0x484960+0x1)),Number(_0x49c621);}function formatResultString(_0x32f795,_0x77d064){const _0x4bcc09=_0x584ccc;let _0x1ccd63;if(!(''+_0x32f795)['includes']('e'))_0x1ccd63=+(Math['round'](_0x32f795+'e+'+_0x77d064)+'e-'+_0x77d064);else{let _0x57e6c3=(''+_0x32f795)[_0x4bcc09(0x220)]('e'),_0x530fc0='';+_0x57e6c3[0x1]+_0x77d064>0x0&&(_0x530fc0='+'),_0x1ccd63=+(Math[_0x4bcc09(0x28d)](+_0x57e6c3[0x0]+'e'+_0x530fc0+(+_0x57e6c3[0x1]+_0x77d064))+'e-'+_0x77d064);}return Number(_0x1ccd63)['toFixed'](_0x77d064);}function getServerTime(){const _0x11b20a=_0x584ccc,_0xe59a69=new Date();return _0xe59a69[_0x11b20a(0x2ab)]()+'/'+(_0xe59a69['getMonth']()+0x1)[_0x11b20a(0x1aa)]()[_0x11b20a(0x2eb)](0x2,'0')+'/'+_0xe59a69[_0x11b20a(0x2f8)]()['toString']()[_0x11b20a(0x2eb)](0x2,'0')+'\x20'+_0xe59a69[_0x11b20a(0x2e9)]()[_0x11b20a(0x1aa)]()[_0x11b20a(0x2eb)](0x2,'0')+':'+_0xe59a69[_0x11b20a(0x154)]()[_0x11b20a(0x1aa)]()[_0x11b20a(0x2eb)](0x2,'0')+':'+_0xe59a69['getSeconds']()['toString']()[_0x11b20a(0x2eb)](0x2,'0');}function getTimeStamp(){const _0x56659e=_0x584ccc,_0x5c45f8=shiftedTime();return _0x5c45f8['getFullYear']()+'/'+(_0x5c45f8['getMonth']()+0x1)[_0x56659e(0x1aa)]()['padStart'](0x2,'0')+'/'+_0x5c45f8[_0x56659e(0x2f8)]()[_0x56659e(0x1aa)]()['padStart'](0x2,'0')+'\x20'+_0x5c45f8[_0x56659e(0x2e9)]()[_0x56659e(0x1aa)]()[_0x56659e(0x2eb)](0x2,'0')+':'+_0x5c45f8[_0x56659e(0x154)]()[_0x56659e(0x1aa)]()[_0x56659e(0x2eb)](0x2,'0')+':'+_0x5c45f8['getSeconds']()[_0x56659e(0x1aa)]()[_0x56659e(0x2eb)](0x2,'0');}function getDate(){const _0x3ad68e=_0x584ccc,_0x9001fb=shiftedTime();return _0x9001fb[_0x3ad68e(0x2ab)]()+'/'+(_0x9001fb[_0x3ad68e(0x237)]()+0x1)[_0x3ad68e(0x1aa)]()[_0x3ad68e(0x2eb)](0x2,'0')+'/'+_0x9001fb[_0x3ad68e(0x2f8)]()['toString']()[_0x3ad68e(0x2eb)](0x2,'0');}function _0x4d91(_0xdb48f0,_0x4e577e){const _0x310d74=_0x4455();return _0x4d91=function(_0x5ceffa,_0x391a46){_0x5ceffa=_0x5ceffa-0x152;let _0x445535=_0x310d74[_0x5ceffa];return _0x445535;},_0x4d91(_0xdb48f0,_0x4e577e);}function getHour(){const _0x33741c=_0x584ccc,_0x2f1952=shiftedTime();return _0x2f1952[_0x33741c(0x2e9)]()['toString']()[_0x33741c(0x2eb)](0x2,'0');}function sleep(_0x55a3c1){return new Promise(_0x2613b8=>setTimeout(_0x2613b8,_0x55a3c1));}function shiftedTime(){const _0x1b9248=_0x584ccc,_0xe4d2ac=new Date();let _0x5b880a=_0xe4d2ac;if(config&&config[_0x1b9248(0x2d5)]!==0x0)_0x5b880a=fns[_0x1b9248(0x2e6)](_0xe4d2ac,{'hours':config[_0x1b9248(0x2d5)]});return _0x5b880a;}function timer(_0x3ff8ee){const _0x49b6ef=_0x584ccc,_0x556647=new Date();!lasttime?console[_0x49b6ef(0x271)](getTimeStamp()+_0x49b6ef(0x27f),_0x3ff8ee,_0x556647):console[_0x49b6ef(0x271)](getTimeStamp()+_0x49b6ef(0x27f),_0x3ff8ee,(_0x556647-lasttime)/0x3e8),lasttime=_0x556647;}