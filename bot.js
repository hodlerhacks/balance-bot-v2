const _0x34fc8d=_0x5a83;(function(_0x216b0e,_0x584b7d){const _0x3847c0=_0x5a83,_0x263c60=_0x216b0e();while(!![]){try{const _0x3095f7=parseInt(_0x3847c0(0x224))/0x1*(parseInt(_0x3847c0(0xd0))/0x2)+parseInt(_0x3847c0(0x22c))/0x3*(parseInt(_0x3847c0(0x248))/0x4)+parseInt(_0x3847c0(0x216))/0x5*(-parseInt(_0x3847c0(0x16c))/0x6)+parseInt(_0x3847c0(0x1e2))/0x7+-parseInt(_0x3847c0(0xc0))/0x8+-parseInt(_0x3847c0(0xee))/0x9+-parseInt(_0x3847c0(0x165))/0xa;if(_0x3095f7===_0x584b7d)break;else _0x263c60['push'](_0x263c60['shift']());}catch(_0x5c3112){_0x263c60['push'](_0x263c60['shift']());}}}(_0x1f46,0xb7f28));const _0x5a62b7=function(){let _0x7f609a=!![];return function(_0x2bfa55,_0x4d6fce){const _0x2c40dc=_0x7f609a?function(){const _0x4810fc=_0x5a83;if(_0x4d6fce){const _0x301306=_0x4d6fce[_0x4810fc(0x246)](_0x2bfa55,arguments);return _0x4d6fce=null,_0x301306;}}:function(){};return _0x7f609a=![],_0x2c40dc;};}(),_0xad9709=_0x5a62b7(this,function(){const _0x5c72b5=_0x5a83;return _0xad9709[_0x5c72b5(0x8a)]()['search'](_0x5c72b5(0x169))[_0x5c72b5(0x8a)]()[_0x5c72b5(0x1a3)](_0xad9709)[_0x5c72b5(0x1e6)]('(((.+)+)+)+$');});_0xad9709();'use strict';const ccxt=require(_0x34fc8d(0x133)),low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x34fc8d(0x12c)),forge=require(_0x34fc8d(0x9c)),util=require(_0x34fc8d(0x8e)),argv=require('yargs/yargs')(process[_0x34fc8d(0x161)][_0x34fc8d(0x85)](0x2))[_0x34fc8d(0x161)],path=require(_0x34fc8d(0x186)),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x34fc8d(0x214),_0x34fc8d(0x1e5),_0x34fc8d(0xf8),_0x34fc8d(0x149),_0x34fc8d(0x1c1),'USDP'],excludedExchanges=[_0x34fc8d(0x8c)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x34fc8d(0x99)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x34fc8d(0x1a7)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x34fc8d(0x119))[_0x34fc8d(0x1f6)],environment=require(_0x34fc8d(0x119))[_0x34fc8d(0x10b)]||_0x34fc8d(0x80),botID=process[_0x34fc8d(0x161)][0x2]||_0x34fc8d(0x19b),pattern=/^[0-9]{3}$/;!pattern[_0x34fc8d(0x18c)](botID)&&(console['log'](_0x34fc8d(0x244)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x34fc8d(0x161)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x34fc8d(0x6f),logspath=userID?'./logs/'+userID+'/':_0x34fc8d(0xe8),loggerfile=fs['createWriteStream'](logspath+_0x34fc8d(0x175),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x34fc8d(0xa0)](configpath);!fs[_0x34fc8d(0x16e)](logspath)&&fs[_0x34fc8d(0xa0)](logspath);const configfile=configpath+_0x34fc8d(0x82)+botID+_0x34fc8d(0xe3),logfile=configpath+_0x34fc8d(0x82)+botID+'-events.json',performancefile=configpath+_0x34fc8d(0x82)+botID+_0x34fc8d(0xf9),coinresultsfile=configpath+'bot-'+botID+_0x34fc8d(0xd7),settingsfile=configpath+_0x34fc8d(0x152),securefile=configpath+_0x34fc8d(0x21b),configbackuppath=configpath+_0x34fc8d(0x228),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x34fc8d(0xc9)]({'logs':[],'version':serverversion})[_0x34fc8d(0xd1)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x34fc8d(0xc9)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x34fc8d(0xc9)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x34fc8d(0xc9)]({'coins':{},'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x775254=>{console['log'](_0x775254);},'simple':_0x1e63d4=>{const _0x2337bd=_0x34fc8d;console[_0x2337bd(0x10e)](_0x1e63d4),loggerfile[_0x2337bd(0xd1)](util[_0x2337bd(0x18b)](_0x1e63d4)+'\x0a');},'full':async(_0x3064eb,_0x192fc9='')=>{const _0x298814=_0x34fc8d;let _0x1c3c20;if(config[_0x298814(0xc6)])_0x1c3c20=getTimeStamp()+':\x20'+config[_0x298814(0xfd)]+_0x298814(0x219)+_0x3064eb;else _0x1c3c20=getTimeStamp()+_0x298814(0x1b3)+botID+_0x298814(0x219)+_0x3064eb;console[_0x298814(0x10e)](_0x1c3c20),loggerfile[_0x298814(0xd1)](util['format'](_0x1c3c20)+'\x0a'),_0x192fc9&&(console['log'](_0x192fc9),loggerfile[_0x298814(0xd1)](util['format'](_0x192fc9)+'\x0a'));},'debug':async(_0x37b80b,_0x417a9f='')=>{const _0x36f6e0=_0x34fc8d;let _0x4574bb;if(config['showname'])_0x4574bb=getTimeStamp()+':\x20'+config[_0x36f6e0(0xfd)]+'\x20>\x20[DEBUG]\x20'+_0x37b80b;else _0x4574bb=getTimeStamp()+_0x36f6e0(0x1b3)+botID+_0x36f6e0(0xba)+_0x37b80b;if(debugging)console[_0x36f6e0(0x10e)](_0x4574bb);loggerfile[_0x36f6e0(0xd1)](util['format'](_0x4574bb)+'\x0a');if(_0x417a9f){if(debugging)console['log'](_0x417a9f);loggerfile[_0x36f6e0(0xd1)](util[_0x36f6e0(0x18b)](_0x417a9f)+'\x0a');}}};process['on'](_0x34fc8d(0x184),function(_0x1f7096){const _0x1fbb47=_0x34fc8d;handleError(_0x1f7096[_0x1fbb47(0x1ca)],_0x1fbb47(0x184));});settings[_0x34fc8d(0xc8)]!=config['timeshift']&&updateTimeshift(settings[_0x34fc8d(0xc8)]);settings[_0x34fc8d(0x193)]!=config['onepagemode']&&updateOnepagemode(settings['onepagemode']);(settings['marketcapApi']&&!config[_0x34fc8d(0x141)]||!settings['marketcapApi']&&config[_0x34fc8d(0x141)])&&updateMarketcapApi(settings[_0x34fc8d(0x141)]);process[_0x34fc8d(0x197)]({'started':_0x34fc8d(0x79)},_0x28e792=>{}),initializeProcessListeners();function proxyEmit(_0x4feb5c,_0x35809f=null){const _0x4c87c6=_0x34fc8d;process[_0x4c87c6(0x197)]({'function':_0x4feb5c,'args':_0x35809f},_0x2c5b5c=>{});}function initializeProcessListeners(){const _0x4fa040=_0x34fc8d;process['on'](_0x4fa040(0xd9),_0x31c18a=>{const _0x4db0a0=_0x4fa040;switch(Object[_0x4db0a0(0x1d9)](_0x31c18a)[0x0]){case _0x4db0a0(0xc8):_0x31c18a[_0x4db0a0(0xc8)]!=undefined&&(settings[_0x4db0a0(0xc8)]=_0x31c18a[_0x4db0a0(0xc8)],updateTimeshift(settings[_0x4db0a0(0xc8)]));break;case _0x4db0a0(0x193):_0x31c18a[_0x4db0a0(0x193)]!=undefined&&(settings['onepagemode']=_0x31c18a['onepagemode'],updateOnepagemode(settings[_0x4db0a0(0x193)]));break;case _0x4db0a0(0x141):_0x31c18a[_0x4db0a0(0x141)]!=undefined&&(settings[_0x4db0a0(0x141)]=_0x31c18a['marketcapApi'],updateMarketcapApi(settings['marketcapApi']));break;case _0x4db0a0(0xb0):_0x31c18a[_0x4db0a0(0xb0)]!=undefined&&(bots=JSON[_0x4db0a0(0x118)](_0x31c18a['bots']),proxyEmit(_0x4db0a0(0xb0),bots));break;case _0x4db0a0(0x16b):switch(_0x31c18a[_0x4db0a0(0x16b)]){case _0x4db0a0(0x89):initclient();break;case _0x4db0a0(0x15f):toggleBotMode();break;case _0x4db0a0(0x14f):emitHistory(_0x31c18a['args']);break;case _0x4db0a0(0x74):deleteHistoryAlerts(_0x31c18a[_0x4db0a0(0xea)]);break;case _0x4db0a0(0xa4):getPortfolio(_0x31c18a[_0x4db0a0(0xea)]);break;case _0x4db0a0(0x11b):storeConfiguration(_0x31c18a['args']);break;case _0x4db0a0(0x10f):storeHeadless(_0x31c18a[_0x4db0a0(0xea)]);break;case _0x4db0a0(0x223):storeFiat(_0x31c18a[_0x4db0a0(0xea)]);break;case'resetHistory':resetHistory();break;case _0x4db0a0(0xe0):getStartingBalances(getNormalizedPerformance());break;case _0x4db0a0(0x12d):placeOrder(_0x31c18a[_0x4db0a0(0xea)]);break;case _0x4db0a0(0x97):cancelLoading();break;case _0x4db0a0(0xc4):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x4db0a0(0x98):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x296fa7=![]){const _0x53fbda=_0x34fc8d;logger[_0x53fbda(0x113)]('Reset\x20|\x20'+(_0x296fa7?'exchange\x20reload':_0x53fbda(0x104))+_0x53fbda(0x1c8)+config[_0x53fbda(0x117)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x53fbda(0x14d)]!=''&&config[_0x53fbda(0x14d)]!=_0x53fbda(0x14c)){loadingProgress=0x0;if(_0x296fa7){await initExchange();const _0x436853=await testAPI();if(!_0x436853)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x53fbda(0x136),emittedConfiguration()),initialPerformanceStored=![];}const _0x161551=await getCoins();[currentCoins,currentCoinsAll]=_0x161551,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x53fbda(0x113)](_0x53fbda(0x158)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x53fbda(0x17f)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x94ee04=![]){const _0x342de1=_0x34fc8d;logger['debug']('Resuming\x20('+(_0x94ee04?_0x342de1(0x1a1):'complete')+_0x342de1(0x220)+config[_0x342de1(0x117)]);if(pidBalances)clearTimeout(pidBalances);if(_0x94ee04){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x342de1(0x14d)]!=_0x342de1(0x14c)){loadingProgress=0x1;const _0x38c65c=await getCoins();[currentCoins,currentCoinsAll]=_0x38c65c,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x342de1(0x113)](_0x342de1(0x158)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x342de1(0x17f)]==0x0&&allOpenOrders[_0x342de1(0x17f)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x37f6f6){const _0x102bdb=_0x34fc8d;let _0x5f2843=![];if(_0x37f6f6)_0x5f2843=!![];const _0x1a8288=_0x5f2843?_0x37f6f6:currentCoins,_0x458ff5=_0x1a8288[_0x102bdb(0x195)](_0x34e908=>_0x34e908['coin']);if(!config[_0x102bdb(0x141)]||!_0x5f2843&&!config['marketcapEnabled']||_0x458ff5[_0x102bdb(0x17f)]==0x0)return;let _0x2baf9d=null;try{_0x2baf9d=await axios['get'](_0x102bdb(0x1b8),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x102bdb(0x141)]},'params':{'symbol':_0x458ff5[_0x102bdb(0x8a)]()}});}catch(_0x413c86){_0x2baf9d=null,_0x413c86['toString']()[_0x102bdb(0x8d)](_0x102bdb(0x138))?(config['marketcapApi']=![],updateConfig(),proxyEmit('configuration',emittedConfiguration()),logHistory(_0x102bdb(0x8f),_0x102bdb(0x207))):(logHistory(_0x102bdb(0x8f),_0x102bdb(0x1b9)+schedulerInterval/(0x3c*0x3e8)+_0x102bdb(0x163)),logger[_0x102bdb(0x113)](_0x102bdb(0x114),_0x413c86[_0x102bdb(0x8a)]()+_0x102bdb(0xd4)+_0x413c86['code']));}const _0x419b81=new Map();let _0x4b2e8a=!![];if(_0x2baf9d){let _0x582dc8=0x0;const _0x224e24=_0x2baf9d[_0x102bdb(0x1f8)];_0x458ff5['forEach'](_0x2f2352=>{const _0x19dd50=_0x102bdb;if(_0x224e24[_0x19dd50(0x1f8)][_0x2f2352][0x0]&&_0x224e24['data'][_0x2f2352][0x0][_0x19dd50(0x14a)][_0x19dd50(0x214)]['market_cap'])_0x419b81[_0x19dd50(0x9a)](_0x2f2352,_0x224e24[_0x19dd50(0x1f8)][_0x2f2352][0x0]['quote'][_0x19dd50(0x214)][_0x19dd50(0x78)]),_0x582dc8+=_0x224e24['data'][_0x2f2352][0x0][_0x19dd50(0x14a)]['USD'][_0x19dd50(0x78)];else{if(_0x224e24[_0x19dd50(0x1f8)][_0x2f2352][0x0]&&_0x224e24[_0x19dd50(0x1f8)][_0x2f2352][0x0][_0x19dd50(0x1d8)])_0x419b81[_0x19dd50(0x9a)](_0x2f2352,_0x224e24[_0x19dd50(0x1f8)][_0x2f2352][0x0][_0x19dd50(0x1d8)]),_0x582dc8+=_0x224e24['data'][_0x2f2352][0x0]['self_reported_market_cap'];else{if(!['EUR',_0x19dd50(0x214)][_0x19dd50(0x8d)](_0x2f2352)){if(_0x5f2843)logHistory(_0x19dd50(0x8f),_0x19dd50(0x19e)+_0x2f2352+_0x19dd50(0xbc));else{const _0x56b669=config[_0x19dd50(0x1ea)][_0x19dd50(0x1b6)](_0x4c67b5=>_0x4c67b5[_0x19dd50(0xc3)]==_0x2f2352);_0x56b669&&!_0x56b669[_0x19dd50(0x19a)]&&_0x56b669[_0x19dd50(0x13b)]==-0x1&&(_0x4b2e8a=![],logHistory('error',_0x19dd50(0x196)),logger['debug'](_0x19dd50(0x19e)+_0x2f2352));}}}}});if(!_0x4b2e8a)return;_0x458ff5[_0x102bdb(0xcc)](_0x34e122=>{const _0x5adc67=_0x102bdb,_0x59cf54=_0x419b81['get'](_0x34e122)?_0x419b81[_0x5adc67(0x154)](_0x34e122):0x0;if(_0x5f2843){const _0x58d406=_0x37f6f6[_0x5adc67(0x1b6)](_0x40becb=>_0x40becb[_0x5adc67(0xc3)]==_0x34e122);_0x58d406&&(_0x58d406[_0x5adc67(0x249)]=_0x59cf54);}else{const _0xbc25c0=currentCoins[_0x5adc67(0x1b6)](_0x275fe7=>_0x275fe7['coin']==_0x34e122);_0xbc25c0&&(_0xbc25c0[_0x5adc67(0x249)]=_0x59cf54);const _0x384bb9=currentCoinsAll[_0x5adc67(0x1b6)](_0x40fe86=>_0x40fe86[_0x5adc67(0xc3)]==_0x34e122);_0x384bb9&&(_0x384bb9[_0x5adc67(0x249)]=_0x59cf54);}}),!_0x5f2843&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x49c2b8=_0x34fc8d,_0x167484=0x2;let _0x560677=0x0,_0x3c92bd=0x0,_0x3b2505=0x0,_0x1bd4e2=0x0,_0x2065e2=0x0;config[_0x49c2b8(0x1ea)][_0x49c2b8(0xcc)](_0x52b5e0=>{const _0x5346d2=_0x49c2b8;if(!_0x52b5e0[_0x5346d2(0x19a)]){_0x3b2505++,_0x560677+=_0x52b5e0[_0x5346d2(0x13b)];if(_0x52b5e0[_0x5346d2(0x13b)]===-0x1){_0x560677++;const _0x5a7817=currentCoinsAll[_0x5346d2(0x1b6)](_0x573ec6=>_0x573ec6[_0x5346d2(0xc3)]==_0x52b5e0['coin']);_0x5a7817&&(_0x1bd4e2+=_0x5a7817['marketcap'],_0x2065e2+=Math[_0x5346d2(0x20d)](_0x5a7817['marketcap']));}if(_0x52b5e0['slider']!==-0x1)_0x3c92bd++;}});let _0x35c571;const _0x2766d6=0x64-_0x560677,_0x54cede=_0x3b2505-_0x3c92bd;_0x35c571=_0x54cede===0x0?_0x560677:Math[_0x49c2b8(0x1a6)](0x64,_0x560677),config[_0x49c2b8(0x1ea)][_0x49c2b8(0xcc)](_0xd8f169=>{const _0x56f850=_0x49c2b8,_0x2bb0a0=currentCoinsAll[_0x56f850(0x1b6)](_0x36d0ec=>_0x36d0ec[_0x56f850(0xc3)]==_0xd8f169['coin']);_0x2bb0a0&&(_0xd8f169['marketcap']=_0x2bb0a0[_0x56f850(0x249)]);if(!_0xd8f169[_0x56f850(0x19a)]){if(_0x35c571<=0x64){if(_0xd8f169['slider']===-0x1){if(_0x1bd4e2!==0x0&&config[_0x56f850(0xa5)]){if(_0x2bb0a0){if(config[_0x56f850(0xa5)]==_0x56f850(0x249))_0xd8f169[_0x56f850(0x238)]=(_0x2766d6/(_0x1bd4e2/_0x2bb0a0[_0x56f850(0x249)]))[_0x56f850(0x20f)](_0x167484);else config['marketcapEnabled']=='marketcapsqrt'&&(_0xd8f169[_0x56f850(0x238)]=(_0x2766d6/(_0x2065e2/Math[_0x56f850(0x20d)](_0x2bb0a0[_0x56f850(0x249)])))['toFixed'](_0x167484));}}}}}}),updateConfig();}function updateConfig(){const _0x2ff981=_0x34fc8d;let _0x474f44=dbConfig['get'](_0x2ff981(0xf5))['find']({'botID':botID})[_0x2ff981(0x116)]();_0x474f44&&dbConfig[_0x2ff981(0x154)](_0x2ff981(0xf5))[_0x2ff981(0x1b6)]({'botID':botID})[_0x2ff981(0x131)](config)[_0x2ff981(0xd1)]();}function logMemory(){const _0x1082aa=_0x34fc8d;if(environment!=_0x1082aa(0x153))return;const _0x5f210c=process[_0x1082aa(0x1ff)]()['heapUsed']/0x400/0x400;logger[_0x1082aa(0x113)](_0x1082aa(0x198)+process[_0x1082aa(0x202)]+'\x20uses\x20'+formatResult(_0x5f210c,0x1)+'\x20MB');}async function startScheduler(){const _0x571408=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0x571408==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x5e7610=![]){const _0x54bf19=_0x34fc8d;logger[_0x54bf19(0x113)]('Initiating\x20bot\x20restart');if(!_0x5e7610)while(lockOrders!=ORDERS[_0x54bf19(0x1a7)]||coolingDown){await sleep(0x3e8);}process[_0x54bf19(0x197)]({'stop':_0x54bf19(0x142)},_0x444715=>{});}async function initExchange(_0x2d42b5=config[_0x34fc8d(0x117)],_0x5b7e11=config['apiKey'],_0x4035f3=config[_0x34fc8d(0x168)],_0x2a1653=config['apiPassword'],_0x3c059b=config[_0x34fc8d(0x218)]){const _0x284aa5=_0x34fc8d;if(exchange){logger[_0x284aa5(0x113)](_0x284aa5(0x137));return;}logger[_0x284aa5(0x113)](_0x284aa5(0x21c));!supportedExchanges()[_0x284aa5(0x8d)](_0x2d42b5)&&(logHistory(_0x284aa5(0x8f),_0x284aa5(0x247)+_0x2d42b5+'\x20exchange'),killBot());const _0x398e0c=ccxt[_0x284aa5(0x10d)][_0x2d42b5[_0x284aa5(0xb6)]()];exchange=new _0x398e0c({'apiKey':_0x5b7e11,'secret':_0x4035f3,'options':{'defaultType':_0x284aa5(0x240)}});if(_0x2a1653)exchange[_0x284aa5(0xac)]=_0x2a1653;if(exchange[_0x284aa5(0x148)][_0x284aa5(0x218)])exchange[_0x284aa5(0x1ad)](_0x3c059b);}function updateExchange(_0x29b3ea,_0xce0a32,_0x327746=null){const _0x3f5310=_0x34fc8d;exchange['apiKey']=_0x29b3ea,exchange[_0x3f5310(0x1a5)]=_0xce0a32,exchange[_0x3f5310(0xac)]=_0x327746,logger['debug']('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x9db634=_0x34fc8d;let _0x26f297=config[_0x9db634(0x1be)]=='ETH'?_0x9db634(0x203):config[_0x9db634(0x1be)]==_0x9db634(0x229)?_0x9db634(0x229):_0x9db634(0x1bc),_0x48b3ed=allSymbols['includes'](_0x26f297+_0x9db634(0x17c))?_0x9db634(0x214):allSymbols[_0x9db634(0x8d)](_0x26f297+'/USDT')?_0x9db634(0x149):_0x9db634(0x87),_0x1a2437=allSymbols[_0x9db634(0x8d)](_0x26f297+'/EUR')?_0x9db634(0x87):_0x48b3ed;enableFiatToggle=!![],_0x48b3ed==_0x9db634(0x87)&&(enableFiatToggle=![],storeFiat('EUR')),_0x1a2437!='EUR'&&(enableFiatToggle=![],storeFiat('USD')),stablecoins={'eur':{'coin':''+_0x26f297+_0x1a2437,'symbol':_0x26f297+'/'+_0x1a2437},'usd':{'coin':''+_0x26f297+_0x48b3ed,'symbol':_0x26f297+'/'+_0x48b3ed}};}async function initwsCcxt(){const _0x311ff1=_0x34fc8d;initCycle++;const _0x45f6dc=initCycle;let _0x3e077c=[];config[_0x311ff1(0x1ea)][_0x311ff1(0xcc)](_0x8686dc=>{const _0xac452d=_0x311ff1;if(!_0x8686dc['excluded']&&_0x8686dc[_0xac452d(0xc3)]!=config[_0xac452d(0x1be)])_0x3e077c[_0xac452d(0xc5)](_0x8686dc['symbol']);});if(!_0x3e077c[_0x311ff1(0x8d)](stablecoins[_0x311ff1(0x1f9)][_0x311ff1(0x227)]))_0x3e077c['push'](stablecoins[_0x311ff1(0x1f9)][_0x311ff1(0x227)]);if(!_0x3e077c[_0x311ff1(0x8d)](stablecoins[_0x311ff1(0x1ba)][_0x311ff1(0x227)]))_0x3e077c[_0x311ff1(0xc5)](stablecoins['usd'][_0x311ff1(0x227)]);loadCoins(_0x3e077c),_0x3e077c=validateSymbols(_0x3e077c);const _0x11ee17=async _0x220bbd=>{const _0x2977b2=_0x311ff1;let _0x21ddba;try{const _0xa07adb=await getTickers(_0x220bbd);Object[_0x2977b2(0x125)](_0xa07adb)[_0x2977b2(0xcc)](_0x5c60d1=>{const _0x2e20e9=_0x2977b2;_0x21ddba=_0x5c60d1[0x1][_0x2e20e9(0x227)],gTicker[noslash(_0x21ddba)]=_0x5c60d1[0x1][_0x2e20e9(0xcf)],gChange[_0x21ddba]=_0x5c60d1[0x1][_0x2e20e9(0xa1)];});}catch(_0x4242f9){await handleError(_0x4242f9,_0x2977b2(0x171),_0x21ddba);}},_0x2bb2d6=async _0x3dad2d=>{const _0x333de1=_0x311ff1;while(initCycle==_0x45f6dc){if(!botPaused)try{const _0x97974c=await exchange[_0x333de1(0x1f5)](_0x3dad2d);gTicker[noslash(_0x97974c[0x0][_0x333de1(0x227)])]=_0x97974c[0x0][_0x333de1(0xb7)];}catch(_0x460315){if(!exchangeStopped)await handleError(_0x460315,_0x333de1(0x162),_0x3dad2d);}else await sleep(0x64);}},_0x33dd79=async _0x722465=>{const _0x172e55=_0x311ff1;while(initCycle==_0x45f6dc){if(!botPaused)try{const _0x39086d=await exchange[_0x172e55(0xa6)](_0x722465),_0x3420a5=_0x39086d[_0x172e55(0x126)]();gTicker[noslash(_0x3420a5[_0x172e55(0x227)])]=_0x3420a5[_0x172e55(0xb7)];}catch(_0x3ba27c){if(!exchangeStopped)await handleError(_0x3ba27c,_0x172e55(0xfc),_0x722465['toString']());}else await sleep(0x64);}},_0x8af0eb=async _0x70aa64=>{const _0x2a1f9c=_0x311ff1;while(initCycle==_0x45f6dc){if(!botPaused){let _0x786d8b;try{await sleep(0x3c*0x3e8);const _0x2ae08f=await getTickers(_0x70aa64);Object[_0x2a1f9c(0x125)](_0x2ae08f)[_0x2a1f9c(0xcc)](_0x49cb94=>{const _0x3b1705=_0x2a1f9c;_0x786d8b=_0x49cb94[0x1][_0x3b1705(0x227)],gChange[_0x786d8b]=_0x49cb94[0x1]['percentage'];});}catch(_0x2faf72){if(!exchangeStopped)await handleError(_0x2faf72,_0x2a1f9c(0x189),_0x786d8b);}}else await sleep(0x64);}},_0x128f32=async _0x4e8276=>{const _0x1b32cf=_0x311ff1;while(initCycle==_0x45f6dc){if(!botPaused)try{const _0x3690c2=await exchange[_0x1b32cf(0xce)](_0x4e8276);initCycle==_0x45f6dc&&_0x3690c2[_0x1b32cf(0xcc)](_0x5cc567=>{updateNumberCoinsCcxt(_0x5cc567);});}catch(_0x346452){if(!exchangeStopped)await handleError(_0x346452,_0x1b32cf(0x22b));}else await sleep(0x64);}};_0x11ee17(_0x3e077c),_0x8af0eb(_0x3e077c),exchange['has'][_0x311ff1(0xa6)]&&!(config[_0x311ff1(0x117)]==_0x311ff1(0x110)&&_0x3e077c[_0x311ff1(0x17f)]>0xa)?_0x33dd79(_0x3e077c):_0x3e077c[_0x311ff1(0xcc)](_0xae063b=>{_0x2bb2d6(_0xae063b);}),_0x3e077c[_0x311ff1(0xcc)](_0x1e8e6b=>{_0x128f32(_0x1e8e6b);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x3886cb){const _0x30dd86=_0x34fc8d;let _0x340b7a={};try{if(config[_0x30dd86(0x117)]!=_0x30dd86(0x18d))_0x340b7a=await exchange[_0x30dd86(0x17e)](_0x3886cb);else for(const _0x47c161 of _0x3886cb){const _0x5a1cca=await exchange[_0x30dd86(0x1f2)](_0x47c161);_0x340b7a[_0x47c161]=_0x5a1cca;}return _0x340b7a;}catch(_0x55d3c7){throw _0x55d3c7;}}function setBlockTransactionDetection(_0x2ac1fd){const _0x11584a=_0x34fc8d;blockTransactionDetection=_0x2ac1fd,logger[_0x11584a(0x113)](_0x11584a(0xa3)+blockTransactionDetection);}async function detectLiquidityChange(_0x44cc0a=0x0){const _0x1f037c=_0x34fc8d;transactionDetectionOngoing=!![];try{const _0x55be41=await getCoins(_0x44cc0a),[_0xb03c4d,_0x16381f]=_0x55be41;let _0x2a3527=[];currentCoins['forEach'](_0x43c91d=>{const _0x4bb043=_0x5a83,_0x61086=_0xb03c4d[_0x4bb043(0x1b6)](_0x3808ac=>_0x3808ac[_0x4bb043(0xc3)]==_0x43c91d[_0x4bb043(0xc3)]);if(_0x61086){if(_0x43c91d[_0x4bb043(0x190)]!=_0x61086[_0x4bb043(0x190)]){let _0x3a59f3;if(_0x43c91d[_0x4bb043(0xc3)]!=config[_0x4bb043(0x1be)]){const _0x106ca1=gTicker[noslash(_0x43c91d[_0x4bb043(0x227)])];_0x3a59f3=_0x43c91d['reverse']?0x1/_0x106ca1:_0x106ca1;}else _0x3a59f3=0x1;_0x2a3527[_0x4bb043(0xc5)]({'coin':_0x43c91d[_0x4bb043(0xc3)],'symbol':_0x43c91d['symbol'],'price':_0x3a59f3,'number':Number(formatResult(_0x61086[_0x4bb043(0x190)]-_0x43c91d[_0x4bb043(0x190)],0x8)),'basecoinvalue':_0x3a59f3*(_0x61086[_0x4bb043(0x190)]-_0x43c91d['number'])});}}});if(_0x2a3527[_0x1f037c(0x17f)]>0x0&&!blockTransactionDetection){for(const _0x50d251 of _0x2a3527){if(config['autoliquidity']){logger[_0x1f037c(0x113)](_0x1f037c(0x135)+_0x50d251['basecoinvalue']+_0x1f037c(0x21a)+lastFees[_0x1f037c(0x91)]);if(lastFees[_0x1f037c(0x91)]==0x0||Math['abs'](_0x50d251[_0x1f037c(0x132)])>lastFees[_0x1f037c(0x91)]*0x3){if(config[_0x1f037c(0x1ae)]=='update-liquidity'){delete _0x50d251[_0x1f037c(0x227)],delete _0x50d251[_0x1f037c(0x132)];let _0x3aba4b=[],_0x2022aa=[...config['liquidity']]||[],_0x4ab064=config['liquidity'];_0x2022aa['sort']((_0x259a7c,_0xac7558)=>_0x259a7c[_0x1f037c(0x1b1)]>_0xac7558['date']?-0x1:_0xac7558[_0x1f037c(0x1b1)]>_0x259a7c[_0x1f037c(0x1b1)]?0x1:0x0);const _0x2e8631=getDate();if(_0x2022aa[0x0]){const _0x35a16b=fns[_0x1f037c(0x118)](_0x2022aa[0x0][_0x1f037c(0x1b1)],'yyyy/MM/dd',new Date()),_0x4eaf84=fns['parse'](_0x2e8631,_0x1f037c(0x112),new Date());if(fns[_0x1f037c(0x20c)](_0x35a16b,_0x4eaf84)){_0x3aba4b=_0x2022aa[0x0][_0x1f037c(0x180)];const _0x52c621=_0x3aba4b[_0x1f037c(0x1b6)](_0x236023=>_0x236023['coin']==_0x50d251[_0x1f037c(0xc3)]);_0x52c621?(_0x52c621[_0x1f037c(0x190)]+=_0x50d251[_0x1f037c(0x190)],_0x52c621[_0x1f037c(0x190)]==0x0&&(_0x3aba4b=_0x3aba4b[_0x1f037c(0x226)](_0x358ee8=>{const _0x454c6f=_0x1f037c;return _0x358ee8[_0x454c6f(0xc3)]!=_0x50d251['coin'];}))):_0x3aba4b[_0x1f037c(0xc5)](_0x50d251);const _0x57ae45=_0x4ab064[_0x1f037c(0x1b6)](_0xb84f07=>_0xb84f07[_0x1f037c(0x1b1)]==_0x2e8631);_0x57ae45[_0x1f037c(0x180)]=_0x3aba4b;}else _0x4ab064[_0x1f037c(0xc5)]({'date':_0x2e8631,'changes':[_0x50d251]});}const _0x5d1eac=_0x4ab064[_0x1f037c(0x1b6)](_0x4f8300=>_0x4f8300[_0x1f037c(0x1b1)]==_0x2e8631);if(_0x5d1eac){let _0x4a026b=!![];_0x5d1eac[_0x1f037c(0x180)][_0x1f037c(0xcc)](_0xc7f369=>{const _0x465ce0=_0x1f037c;if(_0xc7f369[_0x465ce0(0x190)]!=0x0)_0x4a026b=![];}),_0x4a026b&&(_0x4ab064=_0x4ab064[_0x1f037c(0x226)](_0x4af6ef=>{const _0x836e0d=_0x1f037c;return _0x4af6ef[_0x836e0d(0x1b1)]!=_0x2e8631;}));}let _0xa3e3a6=dbConfig[_0x1f037c(0x154)]('bot')[_0x1f037c(0x1b6)]({'botID':botID})[_0x1f037c(0x116)]();_0xa3e3a6&&(dbConfig[_0x1f037c(0x154)](_0x1f037c(0xf5))['find']({'botID':botID})['assign']({'liquidity':_0x4ab064})[_0x1f037c(0xd1)](),config['liquidity']=_0x4ab064);logHistory(_0x1f037c(0x16f),'Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x50d251[_0x1f037c(0x190)])+'\x20'+_0x50d251['coin']+'\x20'+(_0x50d251[_0x1f037c(0x190)]>0x0?_0x1f037c(0x181):_0x1f037c(0x1cf))+_0x1f037c(0xda)),proxyEmit('configuration',emittedConfiguration());const _0x43598e=getNormalizedPerformance();emitPerformance(_0x43598e),getStartingBalances(_0x43598e),logger['debug'](_0x1f037c(0x76));}else config['autoliquidity']==_0x1f037c(0x1ed)&&(config[_0x1f037c(0x176)]?(await storeHeadless({'headless':![]}),logHistory('success',_0x1f037c(0x1c0)+Math[_0x1f037c(0x15a)](_0x50d251[_0x1f037c(0x190)])+'\x20'+_0x50d251[_0x1f037c(0xc3)]+'\x20'+(_0x50d251[_0x1f037c(0x190)]>0x0?_0x1f037c(0x181):_0x1f037c(0x1cf))+_0x1f037c(0x187))):logger[_0x1f037c(0x113)](_0x1f037c(0x1c0)+Math[_0x1f037c(0x15a)](_0x50d251[_0x1f037c(0x190)])+'\x20'+_0x50d251['coin']+'\x20'+(_0x50d251[_0x1f037c(0x190)]>0x0?_0x1f037c(0x181):_0x1f037c(0x1cf))+_0x1f037c(0x1b5)));}else logger[_0x1f037c(0x113)](_0x1f037c(0x134)+Math[_0x1f037c(0x15a)](_0x50d251[_0x1f037c(0x190)])+'\x20'+_0x50d251['coin']+'\x20'+(_0x50d251[_0x1f037c(0x190)]>0x0?_0x1f037c(0x181):_0x1f037c(0x1cf)));}else logger[_0x1f037c(0x113)]('Portfolio\x20change\x20detected:\x20'+Math[_0x1f037c(0x15a)](_0x50d251['number'])+'\x20'+_0x50d251[_0x1f037c(0xc3)]+'\x20'+(_0x50d251[_0x1f037c(0x190)]>0x0?'added':_0x1f037c(0x1cf))+_0x1f037c(0x73));}currentCoins=_0xb03c4d,currentCoinsAll=_0x16381f;}}catch(_0x3b78b6){if(!exchangeStopped)await handleError(_0x3b78b6,_0x1f037c(0x208));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x254303=_0x34fc8d;try{markets=await exchange[_0x254303(0xb3)](!![]),allSymbols=[],Object[_0x254303(0x125)](markets)['forEach'](_0x1cacb2=>{const _0x3ea1aa=_0x254303;_0x1cacb2[0x1][_0x3ea1aa(0x173)]&&_0x1cacb2[0x1]['spot']&&allSymbols['push'](_0x1cacb2[0x0]);});}catch(_0x18bee4){markets?logger['debug'](_0x254303(0x1f4)+_0x18bee4['toString']()):(loading[_0x254303(0x237)]=!![],_0x18bee4[_0x254303(0x8a)]()[_0x254303(0xb6)]()[_0x254303(0x8d)]('timestamp')||_0x18bee4['toString']()[_0x254303(0xb6)]()[_0x254303(0x8d)](_0x254303(0x211))?(logHistory(_0x254303(0x8f),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading[_0x254303(0x8f)]=_0x254303(0x179)):handleErrorNoStop(_0x18bee4,_0x254303(0x145),!![]),logHistory(_0x254303(0x8f),_0x254303(0x140)),logHistory(_0x254303(0x8f),_0x254303(0x105)+loadCoinsRetryInterval/0xea60+_0x254303(0x1b2)),logger[_0x254303(0x113)]('Error\x20details:',_0x18bee4),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x37dfbf){const _0x2aed66=_0x34fc8d;let _0x3e91d2=[];return _0x37dfbf[_0x2aed66(0xcc)](_0x8f5dec=>{const _0x2a300c=_0x2aed66;!allSymbols[_0x2a300c(0x8d)](_0x8f5dec)?(logHistory(_0x2a300c(0x8f),'Invalid\x20symbol:\x20'+_0x8f5dec+_0x2a300c(0x234)),loading[_0x2a300c(0x235)]=!![],emitLoadingProgress()):_0x3e91d2['push'](_0x8f5dec);}),_0x3e91d2;}async function initclient(){const _0x3ae0ff=_0x34fc8d;proxyEmit(_0x3ae0ff(0x136),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x43b1f0=getNormalizedPerformance();emitPerformance(_0x43b1f0),getStartingBalances(_0x43b1f0);}async function toggleBotMode(){const _0x465bba=_0x34fc8d;let _0x37e950=dbConfig[_0x465bba(0x154)](_0x465bba(0xf5))['find']({'botID':botID})[_0x465bba(0x116)]();if(_0x37e950){const _0x309dd9=!_0x37e950['headless'];dbConfig['get']('bot')[_0x465bba(0x1b6)]({'botID':botID})[_0x465bba(0x131)]({'headless':_0x309dd9})[_0x465bba(0xd1)](),config[_0x465bba(0x176)]=_0x309dd9,proxyEmit(_0x465bba(0x136),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x58f72e=_0x34fc8d;process[_0x58f72e(0x197)]({'updatebotmanager':!![]},_0x1f4eb9=>{}),logger[_0x58f72e(0x113)]('Headless:\x20'+config['headless']);}async function loadCoins(_0x21f3f4){const _0x34a3c2=_0x34fc8d;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x1c2e72,_0x56ba7f=0x0,_0x3224f1=0x0;_0x21f3f4[_0x34a3c2(0xcc)](_0x245cc1=>{const _0x770f36=_0x34a3c2;loading[_0x770f36(0x96)][_0x770f36(0xc5)](_0x245cc1);}),loadingCanceled=![];let _0x39d88c=![];while(_0x1c2e72!=_0x21f3f4[_0x34a3c2(0x17f)]+maxLoadingProgress){_0x1c2e72=loadingProgress,_0x21f3f4[_0x34a3c2(0xcc)](_0x5f1d53=>{const _0x2f5d4b=_0x34a3c2;if(gTicker[noslash(_0x5f1d53)]){loading[_0x2f5d4b(0x96)]=loading[_0x2f5d4b(0x96)][_0x2f5d4b(0x226)](_0x3248f4=>_0x3248f4!=_0x5f1d53);if(!watchedSymbols[_0x2f5d4b(0x8d)](_0x5f1d53))watchedSymbols[_0x2f5d4b(0xc5)](_0x5f1d53);_0x1c2e72++;}}),loading['progress']=Math[_0x34a3c2(0xa9)](_0x1c2e72/(_0x21f3f4[_0x34a3c2(0x17f)]+maxLoadingProgress)*0x64);loading[_0x34a3c2(0x103)]!=0x64&&(_0x3224f1>0x1e*0x5&&(loading[_0x34a3c2(0x235)]=!![],emitLoadingProgress()),_0x3224f1>0x78*0x5&&!_0x39d88c&&(_0x39d88c=!![],logHistory(_0x34a3c2(0x8f),_0x34a3c2(0x221)+loading[_0x34a3c2(0x96)][_0x34a3c2(0xab)](',\x20')+_0x34a3c2(0x15e)),logHistory(_0x34a3c2(0x8f),_0x34a3c2(0x105)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x56ba7f!=loading[_0x34a3c2(0x103)]&&(_0x56ba7f=loading['progress'],emitLoadingProgress()),_0x3224f1++,await sleep(0xc8);}_0x1c2e72==_0x21f3f4['length']+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x34a3c2(0x123),'live':_0x34a3c2(0x79)},_0x551bde=>{}),_0x39d88c&&logHistory('success',_0x34a3c2(0x13c)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1e3e0b=_0x34fc8d;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x1e3e0b(0x12a)});}function emitLoadingProgress(){const _0x4fb83c=_0x34fc8d;proxyEmit(_0x4fb83c(0x22a),loading);}async function getFiat(){const _0x5b3bb6=_0x34fc8d;let _0x2f5c01=gTicker[stablecoins[_0x5b3bb6(0x1f9)][_0x5b3bb6(0xc3)]],_0x426159=gTicker[stablecoins['usd'][_0x5b3bb6(0xc3)]];return{'eur':Number(_0x2f5c01),'usd':Number(_0x426159)};}function capitalize(_0x4b47bb){const _0x560711=_0x34fc8d;return _0x4b47bb[_0x560711(0xdb)](0x0,0x1)['toUpperCase']()+_0x4b47bb[_0x560711(0xdb)](0x1);}function supportedExchanges(){const _0x14bcbd=_0x34fc8d,_0x14e1fd=['ws',_0x14bcbd(0x17e),_0x14bcbd(0x1f2),_0x14bcbd(0x1f5),'watchOrders',_0x14bcbd(0x93),_0x14bcbd(0xf3),'fetchOpenOrders',_0x14bcbd(0x83)];let _0x3c05da=[],_0x4e9890=[],_0x189c9d=ccxt[_0x14bcbd(0x10d)][_0x14bcbd(0x1cb)];_0x189c9d[_0x14bcbd(0xcc)](_0x3aac14=>{const _0x443d22=_0x14bcbd;try{const _0x121ad2=new ccxt['pro'][_0x3aac14]();_0x4e9890[_0x443d22(0xc5)](_0x121ad2);}catch(_0x1e0019){}}),_0x4e9890[_0x14bcbd(0xcc)](_0x159d40=>{const _0x3ec88d=_0x14bcbd;let _0xd673c9=0x0;_0x14e1fd[_0x3ec88d(0xcc)](_0x22a420=>{const _0x4c7b72=_0x3ec88d;_0x22a420 in _0x159d40[_0x4c7b72(0x148)]&&_0x159d40[_0x4c7b72(0x148)][_0x22a420]&&_0xd673c9++;}),_0xd673c9==_0x14e1fd[_0x3ec88d(0x17f)]&&(!excludedExchanges[_0x3ec88d(0x8d)](_0x159d40['id'])&&_0x3c05da[_0x3ec88d(0xc5)](capitalize(_0x159d40['id'])));});let _0x4b8432=[];return _0x189c9d['forEach'](_0x14a07d=>{const _0x42ba39=_0x14bcbd;_0x14a07d=capitalize(_0x14a07d);if(!_0x3c05da[_0x42ba39(0x8d)](_0x14a07d))_0x4b8432['push'](_0x14a07d);}),_0x3c05da;}function setStartDatePerformance(){const _0x48e9f5=_0x34fc8d;if(config&&config[_0x48e9f5(0x174)][0x0][_0x48e9f5(0x180)][_0x48e9f5(0x17f)]!=0x0){const _0x57f617=config[_0x48e9f5(0x174)][0x0][_0x48e9f5(0x180)];dbPerformance['get'](_0x48e9f5(0x1f8))[_0x48e9f5(0x1b6)]({'date':config[_0x48e9f5(0xbe)]})['assign']({'coins':_0x57f617})['write']();}}function calculatePnL(_0x44fac8,_0x10c999,_0x536f18,_0xc3ab47,_0x1a19b9,_0x23dd00){const _0x2a8108=_0x34fc8d;!_0x44fac8[_0x2a8108(0x8d)]('/'+config[_0x2a8108(0x1be)])&&(_0x536f18=_0x536f18==_0x2a8108(0xe4)?_0x2a8108(0x1bf):_0x2a8108(0xe4));!_0x23dd00[_0x10c999]&&(_0x23dd00[_0x10c999]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x2a282b=0x0,_0x250d0d,_0x32a015;if(_0x536f18==_0x2a8108(0xe4))_0x32a015=_0x23dd00[_0x10c999]['number']*_0x23dd00[_0x10c999][_0x2a8108(0x1fa)]+_0x1a19b9*_0xc3ab47,_0x23dd00[_0x10c999][_0x2a8108(0x190)]+=_0xc3ab47,_0x23dd00[_0x10c999][_0x2a8108(0x1fa)]=_0x23dd00[_0x10c999][_0x2a8108(0x190)]!=0x0?_0x32a015/_0x23dd00[_0x10c999]['number']:0x0,_0x23dd00[_0x10c999][_0x2a8108(0x1ac)]++;else _0x536f18==_0x2a8108(0x1bf)&&(_0x250d0d=Math['min'](_0x23dd00[_0x10c999]['number'],_0xc3ab47),_0x2a282b=(_0x1a19b9-_0x23dd00[_0x10c999][_0x2a8108(0x1fa)])*_0x250d0d,_0x32a015=Math[_0x2a8108(0x1a6)](_0x23dd00[_0x10c999][_0x2a8108(0x190)]*_0x23dd00[_0x10c999][_0x2a8108(0x1fa)]-_0x250d0d*_0x23dd00[_0x10c999][_0x2a8108(0x1fa)],0x0),_0x23dd00[_0x10c999][_0x2a8108(0x190)]-=_0x250d0d,_0x23dd00[_0x10c999][_0x2a8108(0x1fa)]=_0x23dd00[_0x10c999]['number']!=0x0?_0x32a015/_0x23dd00[_0x10c999][_0x2a8108(0x190)]:0x0,_0x23dd00[_0x10c999][_0x2a8108(0xad)]+=_0x2a282b,_0x23dd00[_0x10c999][_0x2a8108(0x21f)]++);return _0x2a282b;}async function generatePnL(){const _0x32df2f=_0x34fc8d;pnlGenerationNeeded=![],logger[_0x32df2f(0x113)](_0x32df2f(0x192));const _0x4082c4=dbLogs[_0x32df2f(0x154)]('logs')[_0x32df2f(0x116)]();let _0x412290={},_0x55c604=0x0,_0x28fcf8=0x0,_0x181bf7=config[_0x32df2f(0xbe)];const _0x5e2e9d=fns[_0x32df2f(0x118)](_0x181bf7,'yyyy/MM/dd',new Date()),_0x47a34f=new Date();let _0x393e72=0x0;for(let _0x4ea737=_0x5e2e9d;!fns[_0x32df2f(0x7d)](_0x47a34f,_0x4ea737);_0x4ea737=fns[_0x32df2f(0x139)](_0x4ea737,0x1)){const _0x4bab69=fns['format'](_0x4ea737,_0x32df2f(0x112));while(_0x55c604<_0x4082c4[_0x32df2f(0x17f)]){const _0x43ed33=new Date(_0x4082c4[_0x55c604]['time']);if(fns['isBefore'](_0x43ed33,_0x4ea737))_0x55c604++;else{if(_0x4082c4[_0x55c604]['time'][_0x32df2f(0x8d)](_0x4bab69)){const _0x4e7ca0=_0x4082c4[_0x55c604];if(_0x4e7ca0[_0x32df2f(0x9d)]===_0x32df2f(0x167)&&(_0x4e7ca0[_0x32df2f(0x1a0)]['includes']('Order\x20filled')||_0x4e7ca0[_0x32df2f(0x1a0)]['includes']('Market\x20order'))){const _0x34876d=_0x4e7ca0[_0x32df2f(0x1a0)][_0x32df2f(0xeb)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x34876d){const [,_0x37c35f,_0x3882fc,_0x20ec38,_0x20932e]=_0x34876d,_0x3e8184=_0x37c35f['includes']('/'+config[_0x32df2f(0x1be)])?_0x37c35f['split']('/')[0x0]:_0x37c35f['split']('/')[0x1],_0x2cef96=calculatePnL(_0x37c35f,_0x3e8184,_0x3882fc,parseFloat(_0x20ec38),parseFloat(_0x20932e),_0x412290);_0x28fcf8+=_0x2cef96;}}_0x55c604++;}else break;}}dbPerformance['get'](_0x32df2f(0x1f8))[_0x32df2f(0x1b6)]({'date':_0x4bab69})[_0x32df2f(0x131)]({'pnl':_0x28fcf8})['write']();}dbCoinResults[_0x32df2f(0x9a)]('coins',_0x412290)[_0x32df2f(0xd1)](),logger[_0x32df2f(0x113)]('Generated\x20PnL\x20data');const _0x1eb93c=getNormalizedPerformance();emitPerformance(_0x1eb93c);}async function updatePnL(_0x227ac1){const _0x54730d=_0x34fc8d,{symbol:_0x37f82a,coin:_0x4c43e7,amount:_0x2c045b,price:_0x2e459f,side:_0x664916,reverse:_0x3d0171}=_0x227ac1;let _0x18ba3e=dbCoinResults[_0x54730d(0x154)](_0x54730d(0x170))['value']();const _0x1d8ef5=calculatePnL(_0x37f82a,_0x4c43e7,_0x664916,_0x2c045b,_0x2e459f,_0x18ba3e);dbCoinResults[_0x54730d(0x9a)](_0x54730d(0x170),_0x18ba3e)[_0x54730d(0xd1)]();const _0x3c0f1a=getTimeStamp()[_0x54730d(0x18f)]('\x20')[0x0];let _0x8ba13f=dbPerformance['get'](_0x54730d(0x1f8))[_0x54730d(0x1b6)]({'date':_0x3c0f1a})['value']();_0x8ba13f?(_0x8ba13f['pnl']+=_0x1d8ef5,dbPerformance[_0x54730d(0x154)](_0x54730d(0x1f8))['find']({'date':_0x3c0f1a})[_0x54730d(0x131)](_0x8ba13f)[_0x54730d(0xd1)]()):await storePerformance();const _0x23a161=getNormalizedPerformance();emitPerformance(_0x23a161);}async function validate24hChanges(){const _0x521006=_0x34fc8d;for(const _0xd61c92 of currentCoins){if(_0xd61c92[_0x521006(0xc3)]!=config['basecoin']){let _0x5ae7f2;_0xd61c92['reverse']?_0x5ae7f2=formatResult((0x1/(gChange[_0xd61c92[_0x521006(0x227)]]/0x64+0x1)-0x1)*0x64,0x3):_0x5ae7f2=gChange[_0xd61c92['symbol']],_0x5ae7f2<config[_0x521006(0xe7)]&&(logHistory(_0x521006(0x8f),_0xd61c92[_0x521006(0xc3)]+_0x521006(0x213)+_0x5ae7f2+'%'),logHistory(_0x521006(0x8f),_0x521006(0x146)),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x3706ff,_0x23e105){const _0x2df946=_0x34fc8d;if(!_0x3706ff)return!![];const _0x3a6510=_0x23e105[_0x2df946(0x18f)]('.'),_0x180e72=_0x3706ff[_0x2df946(0x18f)]('.');for(var _0x30aa05=0x0;_0x30aa05<_0x180e72[_0x2df946(0x17f)];_0x30aa05++){const _0x3d6325=~~_0x180e72[_0x30aa05],_0x55ee29=~~_0x3a6510[_0x30aa05];if(_0x3d6325<_0x55ee29)return!![];if(_0x3d6325>_0x55ee29)return![];}return![];}async function oneTimeMigration(){const _0x52f21c=_0x34fc8d;let _0x361e1f=dbLogs[_0x52f21c(0x154)](_0x52f21c(0x1f6))[_0x52f21c(0x116)]();if(isOlderVersion(_0x361e1f,_0x52f21c(0x210))){let _0x526310=[];const _0x5a0a78=dbLogs[_0x52f21c(0x154)]('logs')[_0x52f21c(0x116)]();_0x5a0a78['forEach'](_0xca040b=>{const _0x520a91=_0x52f21c;_0x526310[_0x520a91(0xc5)]({'time':_0xca040b[_0x520a91(0x13f)],'type':_0xca040b[_0x520a91(0x9d)],'event':_0xca040b['event']});}),dbLogs['get'](_0x52f21c(0x13e))['assign'](_0x526310)[_0x52f21c(0xd1)]();}let _0x3b8e94=dbConfig[_0x52f21c(0x154)](_0x52f21c(0x1f6))[_0x52f21c(0x116)]();if(isOlderVersion(_0x3b8e94,_0x52f21c(0x210))){let _0x245ae5=dbConfig[_0x52f21c(0x154)](_0x52f21c(0xf5))[_0x52f21c(0x1b6)]({'botID':botID})['value']();if(_0x245ae5){let _0x35474d=[];_0x245ae5[_0x52f21c(0x1ea)][_0x52f21c(0xcc)](_0x54ae53=>{const _0x48ba48=_0x52f21c;_0x35474d['push']({'coin':_0x54ae53['coin'],'number':_0x54ae53[_0x48ba48(0x1d4)],'price':_0x54ae53['startprice']}),delete _0x54ae53[_0x48ba48(0x1d4)],delete _0x54ae53['startprice'];});if(_0x35474d[_0x52f21c(0x17f)]!==0x0)fs[_0x52f21c(0x215)](configbackuppath+(_0x52f21c(0xc7)+botID+_0x52f21c(0x1a9)),JSON[_0x52f21c(0x160)](_0x35474d,null,0x4),function(_0x1ce007){if(_0x1ce007){}});const _0x47e0ef=(_0x2ffcf3,_0xe5f056)=>{const _0x3247f6=_0x52f21c;let _0x3ac521=[];_0xe5f056['forEach'](_0x516dab=>{const _0x116afc=_0x5a83,_0x3ba499=_0x2ffcf3[_0x116afc(0x1b6)](_0x3a7dff=>_0x3a7dff[_0x116afc(0xc3)]==_0x516dab['coin']);if(!_0x3ba499)_0x3ac521[_0x116afc(0xc5)](_0x516dab);});let _0x5ba0bf=[];return _0x2ffcf3[_0x3247f6(0xcc)](_0x597b79=>{const _0x3cc1a5=_0x3247f6,_0x2b9579=_0xe5f056['find'](_0x3ed1fd=>_0x3ed1fd[_0x3cc1a5(0xc3)]==_0x597b79[_0x3cc1a5(0xc3)]);if(!_0x2b9579||_0x2b9579[_0x3cc1a5(0x190)]==0x0&&_0x597b79[_0x3cc1a5(0x190)]!=0x0)_0x5ba0bf[_0x3cc1a5(0xc5)](_0x597b79);}),{'missingDay1':_0x3ac521,'notInDay2':_0x5ba0bf};},_0x3715e3=dbPerformance[_0x52f21c(0x154)](_0x52f21c(0x1f8))[_0x52f21c(0xe2)]()[_0x52f21c(0x116)]();if(_0x3715e3[_0x52f21c(0x17f)]>0x1){const {missingDay1:_0x5749b9,notInDay2:_0x3ba9a2}=_0x47e0ef(_0x35474d,_0x3715e3[0x1]['coins']);_0x35474d=[..._0x35474d,..._0x5749b9],_0x3ba9a2[_0x52f21c(0xcc)](_0x19b35f=>{const _0x45f490=_0x52f21c;let _0x1fe143=_0x35474d['findIndex'](_0x1c240a=>_0x1c240a['coin']==_0x19b35f[_0x45f490(0xc3)]);_0x1fe143!=-0x1&&_0x35474d[_0x45f490(0x164)](_0x1fe143,0x1);});}_0x35474d[_0x52f21c(0x121)]((_0x5eb9b9,_0x2db461)=>_0x5eb9b9[_0x52f21c(0xc3)]>_0x2db461[_0x52f21c(0xc3)]?0x1:_0x2db461['coin']>_0x5eb9b9[_0x52f21c(0xc3)]?-0x1:0x0);let _0x390f00=[{'date':_0x245ae5[_0x52f21c(0xbe)],'changes':_0x35474d}];_0x3715e3['length']>0x2&&_0x3715e3[_0x52f21c(0xcc)]((_0x1bb9c0,_0x3fda6a)=>{const _0x52e35a=_0x52f21c;if(_0x3fda6a>0x0&&_0x3fda6a<_0x3715e3[_0x52e35a(0x17f)]-0x1){const {missingDay1:_0x33b491,notInDay2:_0x5e658b}=_0x47e0ef(_0x3715e3[_0x3fda6a][_0x52e35a(0x170)],_0x3715e3[_0x3fda6a+0x1][_0x52e35a(0x170)]);_0x35474d=[],(_0x33b491[_0x52e35a(0x17f)]!=0x0||_0x5e658b[_0x52e35a(0x17f)]!=0x0)&&(_0x33b491['length']!=0x0&&_0x35474d[_0x52e35a(0xc5)](..._0x33b491),_0x5e658b[_0x52e35a(0x17f)]!=0x0&&(_0x5e658b[_0x52e35a(0xcc)](_0x59d537=>{const _0x1d30e1=_0x52e35a;_0x59d537[_0x1d30e1(0x190)]=-_0x59d537[_0x1d30e1(0x190)];}),_0x35474d[_0x52e35a(0xc5)](..._0x5e658b)),_0x35474d[_0x52e35a(0x121)]((_0x4b0b0f,_0x95a9d1)=>_0x4b0b0f[_0x52e35a(0xc3)]>_0x95a9d1[_0x52e35a(0xc3)]?0x1:_0x95a9d1[_0x52e35a(0xc3)]>_0x4b0b0f[_0x52e35a(0xc3)]?-0x1:0x0),_0x390f00[_0x52e35a(0xc5)]({'date':_0x3715e3[_0x3fda6a+0x1]['date'],'changes':_0x35474d}));}}),dbConfig[_0x52f21c(0x154)](_0x52f21c(0xf5))[_0x52f21c(0x1b6)]({'botID':botID})[_0x52f21c(0x131)]({..._0x245ae5,'liquidity':_0x390f00})[_0x52f21c(0xd1)]();}}if(isOlderVersion(_0x3b8e94,_0x52f21c(0x212))){let _0xbc164=dbConfig[_0x52f21c(0x154)](_0x52f21c(0xf5))[_0x52f21c(0x1b6)]({'botID':botID})['value']();if(_0xbc164){const _0x19e6af=_0xbc164[_0x52f21c(0x117)],_0x5f0120=_0x19e6af?capitalize(_0x19e6af):_0x52f21c(0x1bb);dbConfig[_0x52f21c(0x154)](_0x52f21c(0xf5))['find']({'botID':botID})[_0x52f21c(0x131)]({'exchange':_0x5f0120})[_0x52f21c(0xd1)]();}}if(isOlderVersion(_0x3b8e94,_0x52f21c(0x1e1))){let _0x159bb2=dbConfig[_0x52f21c(0x154)](_0x52f21c(0xf5))[_0x52f21c(0x1b6)]({'botID':botID})[_0x52f21c(0x116)]();if(_0x159bb2){const _0x35673d=_0x159bb2[_0x52f21c(0xa5)],_0x37d4ed=_0x35673d?_0x52f21c(0x249):![];dbConfig[_0x52f21c(0x154)]('bot')['find']({'botID':botID})[_0x52f21c(0x131)]({'marketcapEnabled':_0x37d4ed})[_0x52f21c(0xd1)]();}}if(isOlderVersion(_0x3b8e94,_0x52f21c(0x1f1))){let _0x31cc61=dbConfig['get'](_0x52f21c(0xf5))[_0x52f21c(0x1b6)]({'botID':botID})['value']();if(_0x31cc61){const _0x12c8a4=_0x31cc61[_0x52f21c(0x1ae)],_0x4a5101=_0x12c8a4?_0x52f21c(0x222):![];dbConfig[_0x52f21c(0x154)](_0x52f21c(0xf5))[_0x52f21c(0x1b6)]({'botID':botID})[_0x52f21c(0x131)]({'autoliquidity':_0x4a5101})[_0x52f21c(0xd1)]();}}let _0x1ce984=dbPerformance[_0x52f21c(0x154)](_0x52f21c(0x1f6))['value']();isOlderVersion(_0x1ce984,_0x52f21c(0x210))&&setStartDatePerformance();let _0x558a4d=dbCoinResults[_0x52f21c(0x154)](_0x52f21c(0x1f6))[_0x52f21c(0x116)]();if(isOlderVersion(_0x558a4d,_0x52f21c(0x188))){let _0x57b991=dbCoinResults[_0x52f21c(0x154)]('coins')[_0x52f21c(0x116)]();if(_0x57b991[_0x52f21c(0x17f)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x74de57=_0x34fc8d;dbConfig['set'](_0x74de57(0x1f6),serverversion)[_0x74de57(0xd1)](),dbPerformance[_0x74de57(0x9a)](_0x74de57(0x1f6),serverversion)[_0x74de57(0xd1)](),dbLogs['set'](_0x74de57(0x1f6),serverversion)[_0x74de57(0xd1)](),dbCoinResults[_0x74de57(0x9a)](_0x74de57(0x1f6),serverversion)[_0x74de57(0xd1)]();}function getConfiguration(_0x1aac2f){const _0x403e5a=_0x34fc8d;let _0x5c290=dbConfig[_0x403e5a(0x154)](_0x403e5a(0xf5))[_0x403e5a(0x1b6)]({'botID':_0x1aac2f})['value']();if(_0x5c290){let _0x717c6a=![];typeof _0x5c290[_0x403e5a(0x21d)]==_0x403e5a(0x204)&&(_0x5c290={..._0x5c290,'threshold':Number(_0x5c290[_0x403e5a(0x21d)])},_0x717c6a=!![]),_0x5c290[_0x403e5a(0xe7)]==undefined&&(_0x5c290={..._0x5c290,'change24h':-0x14},_0x717c6a=!![]),_0x5c290[_0x403e5a(0xe9)]==undefined&&(_0x5c290={..._0x5c290,'fiat':_0x403e5a(0x214)},_0x717c6a=!![]),_0x5c290[_0x403e5a(0x193)]==undefined&&(_0x5c290={..._0x5c290,'onepagemode':settings[_0x403e5a(0x193)]},_0x717c6a=!![]),_0x5c290[_0x403e5a(0x7f)]==undefined&&(_0x5c290={..._0x5c290,'colorscheme':'red_yellow_blue'},_0x717c6a=!![]),_0x5c290[_0x403e5a(0x1ae)]==undefined&&(_0x5c290={..._0x5c290,'autoliquidity':_0x403e5a(0x222)},_0x717c6a=!![]),_0x5c290[_0x403e5a(0x141)]==undefined&&(_0x5c290={..._0x5c290,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x717c6a=!![]),_0x5c290[_0x403e5a(0xa5)]==undefined&&(_0x5c290={..._0x5c290,'marketcapEnabled':![]},_0x717c6a=!![]),_0x5c290[_0x403e5a(0x218)]==undefined&&(_0x5c290={..._0x5c290,'sandbox':![]},_0x717c6a=!![]),_0x717c6a&&(_0x5c290={'botID':_0x5c290[_0x403e5a(0x1ee)],'exchange':_0x5c290['exchange'],'apiKey':_0x5c290[_0x403e5a(0x14d)],'apiSecret':_0x5c290[_0x403e5a(0x168)],'apiPassword':_0x5c290[_0x403e5a(0x23e)],'basecoin':_0x5c290[_0x403e5a(0x1be)],'botname':_0x5c290[_0x403e5a(0xfd)],'showname':_0x5c290['showname'],'threshold':_0x5c290[_0x403e5a(0x21d)],'ordertype':_0x5c290[_0x403e5a(0xb8)],'timeout':_0x5c290[_0x403e5a(0x235)],'fiat':_0x5c290['fiat'],'startdate':_0x5c290[_0x403e5a(0xbe)],'recreate':_0x5c290[_0x403e5a(0x1e7)],'timeshift':_0x5c290[_0x403e5a(0xc8)],'onepagemode':_0x5c290[_0x403e5a(0x193)],'headless':_0x5c290['headless'],'cooldown':_0x5c290[_0x403e5a(0x71)],'change24h':_0x5c290[_0x403e5a(0xe7)],'emojibuy':_0x5c290['emojibuy'],'emojisell':_0x5c290[_0x403e5a(0x239)],'colorscheme':_0x5c290[_0x403e5a(0x7f)],'marketcapApi':_0x5c290[_0x403e5a(0x141)],'marketcapEnabled':_0x5c290[_0x403e5a(0xa5)],'sandbox':_0x5c290[_0x403e5a(0x218)],'portfolio':_0x5c290['portfolio'],'autoliquidity':_0x5c290['autoliquidity'],'liquidity':_0x5c290[_0x403e5a(0x174)],'openOrders':_0x5c290[_0x403e5a(0xd6)]},dbConfig[_0x403e5a(0x154)](_0x403e5a(0xf5))[_0x403e5a(0x1e8)]()['write'](),dbConfig[_0x403e5a(0x154)](_0x403e5a(0xf5))[_0x403e5a(0xc5)](_0x5c290)[_0x403e5a(0xd1)]());}else _0x5c290={'botID':_0x1aac2f,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x1aac2f,'showname':![],'threshold':0x3,'ordertype':_0x403e5a(0xbb),'timeout':0x14,'fiat':_0x403e5a(0x214),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x403e5a(0xc8)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x403e5a(0x141)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x403e5a(0x222),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5c290;}function emittedConfiguration(){const _0x1589a8=_0x34fc8d;let _0xd61ece;if(config[_0x1589a8(0x14d)]=='')_0xd61ece={...config,'configstate':_0x1589a8(0x6c)};else config[_0x1589a8(0x14d)]==_0x1589a8(0x14c)?_0xd61ece={...config,'configstate':_0x1589a8(0x1db)}:(_0xd61ece={...config,'apiKey':_0x1589a8(0x81),'apiSecret':'************'},config['apiPassword']&&(_0xd61ece[_0x1589a8(0x23e)]=_0x1589a8(0x81)));return _0xd61ece[_0x1589a8(0xb5)]=enableFiatToggle,_0xd61ece;}function getSettings(){const _0x1468d5=_0x34fc8d;return dbSettings['get'](_0x1468d5(0x16a))[_0x1468d5(0x116)]();}function getSecure(){const _0x323717=_0x34fc8d;return dbSecure[_0x323717(0x154)]('secure')[_0x323717(0x116)]()||{};}function updateTimeshift(_0x5c728f){const _0x3715cc=_0x34fc8d;let _0x527ccf=dbConfig[_0x3715cc(0x154)](_0x3715cc(0xf5))['find']({'botID':botID})[_0x3715cc(0x116)]();_0x527ccf&&dbConfig[_0x3715cc(0x154)](_0x3715cc(0xf5))['find']({'botID':botID})['assign']({'timeshift':_0x5c728f})[_0x3715cc(0xd1)](),config['timeshift']=_0x5c728f,proxyEmit(_0x3715cc(0x136),emittedConfiguration());}function updateOnepagemode(_0x353bb3){const _0x201018=_0x34fc8d;let _0x2ec04e=dbConfig['get'](_0x201018(0xf5))[_0x201018(0x1b6)]({'botID':botID})[_0x201018(0x116)]();_0x2ec04e&&dbConfig[_0x201018(0x154)](_0x201018(0xf5))[_0x201018(0x1b6)]({'botID':botID})[_0x201018(0x131)]({'onepagemode':_0x353bb3})['write'](),config[_0x201018(0x193)]=_0x353bb3,proxyEmit(_0x201018(0x136),emittedConfiguration());}function updateMarketcapApi(_0x10b46f){const _0x42c3e1=_0x34fc8d,_0x391052=_0x10b46f?!![]:![];let _0x45ab4b=dbConfig[_0x42c3e1(0x154)](_0x42c3e1(0xf5))[_0x42c3e1(0x1b6)]({'botID':botID})['value']();_0x45ab4b&&dbConfig['get'](_0x42c3e1(0xf5))[_0x42c3e1(0x1b6)]({'botID':botID})[_0x42c3e1(0x131)]({'marketcapApi':_0x391052})['write'](),config[_0x42c3e1(0x141)]=_0x391052,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x3d82f6){const _0x3a0413=_0x34fc8d;logger[_0x3a0413(0x113)](_0x3a0413(0x70));_0x3d82f6['configstate']&&delete _0x3d82f6[_0x3a0413(0x1dc)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x4be0ad=![],_0x585728=![],_0x51bf84=[];_0x3d82f6['portfolio']['forEach'](_0x3d0f12=>{const _0x41c7bb=_0x3a0413;if(!_0x3d0f12[_0x41c7bb(0x19a)]&&_0x3d0f12[_0x41c7bb(0xc3)]!=_0x3d82f6[_0x41c7bb(0x1be)])_0x51bf84['push'](_0x3d0f12['symbol']);}),_0x51bf84['forEach'](_0x2d973d=>{const _0x24b66b=_0x3a0413,_0x371a5e=currentCoins[_0x24b66b(0x1b6)](_0x2f9235=>_0x2f9235[_0x24b66b(0x227)]==_0x2d973d);!_0x371a5e&&(_0x4be0ad=!![]);}),currentCoins[_0x3a0413(0xcc)](_0x1a9204=>{const _0x2e610f=_0x3a0413;if(_0x1a9204['coin']!=config[_0x2e610f(0x1be)]){const _0x5a9562=_0x51bf84['find'](_0x405503=>_0x405503==_0x1a9204[_0x2e610f(0x227)]);!_0x5a9562&&(_0x4be0ad=!![]);}}),_0x3d82f6[_0x3a0413(0x1ea)][_0x3a0413(0xcc)](_0x39b0cb=>{const _0x3b15e9=_0x3a0413,_0x576968=config['portfolio'][_0x3b15e9(0x1b6)](_0x5b1a1c=>_0x5b1a1c[_0x3b15e9(0xc3)]==_0x39b0cb['coin']);if(_0x576968&&_0x39b0cb['offset']!=_0x576968[_0x3b15e9(0x1e3)])_0x585728=!![];});let _0x2a8e4e=dbConfig[_0x3a0413(0x154)](_0x3a0413(0xf5))['find']({'botID':botID})['value']();_0x3d82f6={..._0x3d82f6,'apiKey':decryptRSA(secure['privateKey'],_0x3d82f6[_0x3a0413(0x14d)]),'apiSecret':decryptRSA(secure[_0x3a0413(0x18a)],_0x3d82f6[_0x3a0413(0x168)])};_0x3d82f6['apiPassword']&&(_0x3d82f6[_0x3a0413(0x23e)]=decryptRSA(secure[_0x3a0413(0x18a)],_0x3d82f6[_0x3a0413(0x23e)]));let _0x3d610d=![];if(_0x2a8e4e){_0x3d82f6[_0x3a0413(0x14d)]=='************'?_0x3d82f6[_0x3a0413(0x14d)]=config['apiKey']:_0x3d610d=!![];_0x3d82f6['apiSecret']==_0x3a0413(0x81)?_0x3d82f6[_0x3a0413(0x168)]=config[_0x3a0413(0x168)]:_0x3d610d=!![];if(_0x3d82f6['apiPassword']==_0x3a0413(0x81))_0x3d82f6['apiPassword']=config[_0x3a0413(0x23e)];else{if(_0x3d82f6[_0x3a0413(0x23e)])_0x3d610d=!![];}dbConfig[_0x3a0413(0x154)]('bot')['find']({'botID':botID})['assign'](_0x3d82f6)[_0x3a0413(0xd1)]();}else dbConfig[_0x3a0413(0x154)](_0x3a0413(0xf5))[_0x3a0413(0xc5)](_0x3d82f6)[_0x3a0413(0xd1)](),_0x3d610d=!![],process[_0x3a0413(0x197)]({'status':'enabled','live':_0x3a0413(0x79)},_0x16b408=>{});process[_0x3a0413(0x197)]({'botname':_0x3d82f6[_0x3a0413(0xfd)]},_0x552ea1=>{}),config={..._0x3d82f6},updateBotManager(),proxyEmit(_0x3a0413(0xcb)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3d610d)await reset(!![]);else _0x4be0ad||_0x585728?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x960095){const _0x5542a0=_0x34fc8d,_0x309fb2={...config,'headless':_0x960095['headless']};let _0x19b2b2=dbConfig[_0x5542a0(0x154)](_0x5542a0(0xf5))['find']({'botID':botID})[_0x5542a0(0x116)]();_0x19b2b2&&dbConfig[_0x5542a0(0x154)]('bot')['find']({'botID':botID})[_0x5542a0(0x131)](_0x309fb2)['write'](),config={..._0x309fb2},updateBotManager(),proxyEmit(_0x5542a0(0x136),emittedConfiguration());}function _0x1f46(){const _0x135fd4=['cost','Waited\x20','uncaughtException','UNLOCKING','path','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','2.7.1','fetchTickers()','privateKey','format','test','Cryptocom','privateKeyFromPem','split','number','prevnumber','Generating\x20PnL\x20data','onepagemode','pki','map','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','send','process\x20','<b>Bot\x20','excluded','001','amountToPrecision',':\x20timer\x20>','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','Error\x20details:\x20','event','quick','1\x20-\x20FILLED\x20known\x20order:\x20','constructor','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','secret','max','UNLOCKED','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','.json','floor','ExchangeError','buys','setSandboxMode','autoliquidity','\x0aSymbol(s):\x20','\x20minutes\x20-\x20','date','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again',':\x20Bot\x20','shift','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','find','RateLimitExceeded','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','usd','Binance','BTC','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','basecoin','sell','Portfolio\x20change\x20detected:\x20','USDC','1\x20-\x20Handle\x20open\x20orders','fetchBalance()','\x20hour','closed','getSeconds','\x20exchange\x20error:\x20','\x20|\x20exchange:\x20','token\x20is\x20expired','stack','exchanges','change','\x20>\x20details:','InsufficientFunds','removed','orderId','InvalidNonce','average','padEnd','startnumber','Exception\x20thrown\x20in\x20','Resetting\x20coin\x20results:\x20','differenceInSeconds','self_reported_market_cap','keys','pnl','recovery','configstate','limits','balancing\x20resumes\x20when\x20cooldown\x20ends','final','Placing\x20order\x20for:\x20','2.6.22','4761673VzQuzG','offset','Gateio','BUSD','search','recreate','remove','Error\x20while\x20deleting\x20files:\x20','portfolio','bid','create','switch-manual','botID','open','\x20portfolio:</b>\x20\x0a\x0a','2.6.23','fetchTicker','portfolio1','Error\x20in\x20loadSymbols():\x20','watchTrades','version','min','data','eur','breakeven','getFullYear','Resetting\x20bot\x20history','Order\x20amount\x20is\x20invalid:\x20','Huobipro','memoryUsage','2\x20-\x20Handled\x20open\x20orders','1\x20-\x20Validate\x20orders:\x20','pid','ETH','string','Avoiding\x20continuous\x20order\x20attempts','no\x20open\x20orders','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','detectLiquidityChange()','\x20attempts','Initializing\x20coin\x20results','getOpenOrders()','isEqual','sqrt','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','toFixed','2.3.5','request-time','2.6.0','\x20has\x20a\x2024h\x20drop\x20of\x20','USD','writeFile','223370ZNugsn','pnl-fiat','sandbox','\x20>\x20','\x20|\x20highest\x20fee:\x20','bb-secure.json','Initializing\x20exchange','threshold','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','sells',')\x20|\x20exchange:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','update-liquidity','storeFiat','13afmapt','none','filter','symbol','/backup/','PAXG','coin-loading-progress','watchOrders()','3bDyXtR','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','timestamp','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','Net\x20','fee','target','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','timeout','status','cancel','distribution','emojisell','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','decode64','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','apiPassword','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','spot','ask','fromCodePoint','currency','Error:\x20Invalid\x20argument\x20','testApi','apply','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','2439884gtUKuf','marketcap','getMonth','Invalid\x20quantity','side','initial','Executed\x20','Error\x20in\x20testNewAPI():\x20','./config/','Saving\x20configuration','cooldown','%\x20(','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','deleteHistoryAlerts','MIN_NOTIONAL','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','Manual\x20balancing\x20required','market_cap','running','performance','Trigger:\x20','%)\x0a','isBefore','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','colorscheme','production','************','bot-','fetchBalance','-------------------------------\x0a','slice','1\x20-\x20FILLED\x20unknown\x20order:\x20','EUR','canceled','initclient','toString','getTime','bitmex','includes','util','error','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','highest','must\x20be\x20greater\x20than\x20minimum\x20amount','cancelOrder','fetchOpenOrders','padStart','remainingSymbols','cancelLoading','sendPortfolioTelegram','freeze','set','Huobi','node-forge','type','reverse','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','mkdirSync','percentage','\x20API\x20key\x20is\x20invalid','Block\x20transaction\x20detection:\x20','getPortfolio','marketcapEnabled','watchTradesForSymbols','Test\x20new\x20API','filled','round','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','join','password','realizedPnL','AuthenticationError','InvalidOrder','bots','Set\x20lock\x20orders\x20to:\x20',')\x20unknown\x20order:\x20','loadMarkets','valid','enableFiatToggle','toLowerCase','price','ordertype','replace','\x20>\x20[DEBUG]\x20','market','\x20-\x20go\x20back\x20and\x20try\x20again','\x20metrics:</b>\x20\x0a\x0a','startdate','\x20|\x20','217592mBIAwN','customId','RETRY\x20-\x20Problem\x20resolved\x20after\x20','coin','showConfig','push','showname','starting-balance-','timeshift','defaults','Value\x20','configuration-stored','forEach','1\x20-\x20partially\x20FILLED\x20(','watchOrders','last','166186XdYySr','write','LOCKED','Invalid\x20balance\x20for\x20','\x20-\x20','pnl-basecoin','openOrders','-results.json','Stopped\x20fetching\x20balance\x20after\x20','message','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','substring','RequestTimeout','starting-balances','No\x20more\x20open\x20orders\x20-\x20','random','getStartingBalances','Cex','cloneDeep','-config.json','buy','amount','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','change24h','./logs/','fiat','args','match','getMinutes','recent20','1127052cvURlL','Bitvavo','orderstatus','event-history','</pre>','createOrder','-events.json','bot','RSA-OAEP','OnMaintenance','TUSD','-performance.json','testAPI()','\x20due\x20to\x20offset','watchTradesForSymbols()','botname','unlinkSync','\x20(see:\x20hodlerhacks.com/fix/1)','warning','trade','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','progress','no\x20exchange\x20reloaded','Pausing\x20for\x20','\x20API\x20secret\x20is\x20invalid','DDoSProtection','\x20order:\x20','Network\x20error\x20details:','ongoing','environment','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','pro','log','storeHeadless','Bybit','<pre>','yyyy/MM/dd','debug','Error\x20details:','sha256','value','exchange','parse','./version.json','limit','storeConfiguration','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','indexOf','API-key\x20format\x20invalid','PnL\x20','Insufficient\x20funds\x20to\x20execute\x20order:\x20','sort','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','enabled','kill','entries','pop','limit-low','ExchangeNotAvailable','PermissionDenied','loading-canceled','getDate','date-fns','placeOrder','Limit\x20(low-margin)','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','getHours','assign','basecoinvalue','ccxt','Fee\x20discount\x20refund\x20detected:\x20','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','configuration','Initializing\x20exchange:\x20already\x20done','status\x20code\x20401','addDays','balances','slider','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','api-issue','logs','time','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','marketcapApi','restart','page','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','loadSymbols()','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','limit-high','has','USDT','quote','RETRY\x20-\x20Error\x20in\x20','***','apiKey','sortBy','emitHistory','placeOrder()','cancelOrders()','bb-settings.json','staging','get','netoffset','2\x20-\x20handling\x20FILLED\x20order:\x20','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','Loading\x20completed','Order(s)\x20not\x20validated\x20after\x20','abs','total','Valid\x20balance\x20for\x20','emojibuy','\x20-\x20bot\x20not\x20started','toggleBotMode','stringify','argv','watchTrades()','\x20minutes','splice','1243240mlnBdd','delta','order','apiSecret','(((.+)+)+)+$','settings','function','180GyqIvz','<b>','existsSync','success','coins','initTickers()','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','active','liquidity','/output-000.log','headless','portfolio2','Unknown\x20error:\x20','timestamp-issue','net-basecoin','NetworkError','/USD','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','fetchTickers','length','changes','added'];_0x1f46=function(){return _0x135fd4;};return _0x1f46();}async function storeFiat(_0x3c759d){const _0xf1b6f2=_0x34fc8d,_0x1e4485={...config,'fiat':_0x3c759d};let _0x387441=dbConfig[_0xf1b6f2(0x154)]('bot')['find']({'botID':botID})[_0xf1b6f2(0x116)]();_0x387441&&dbConfig[_0xf1b6f2(0x154)](_0xf1b6f2(0xf5))['find']({'botID':botID})[_0xf1b6f2(0x131)](_0x1e4485)[_0xf1b6f2(0xd1)](),config={..._0x1e4485},proxyEmit(_0xf1b6f2(0x136),emittedConfiguration());}function resetHistory(){const _0x2a4664=_0x34fc8d;logger['full'](_0x2a4664(0x1fc));try{if(fs[_0x2a4664(0x16e)](path['join'](configpath,_0x2a4664(0x82)+botID+_0x2a4664(0xf4))))fs[_0x2a4664(0xfe)](path[_0x2a4664(0xab)](configpath,_0x2a4664(0x82)+botID+'-events.json'));if(fs[_0x2a4664(0x16e)](path['join'](configpath,'bot-'+botID+_0x2a4664(0xf9))))fs[_0x2a4664(0xfe)](path[_0x2a4664(0xab)](configpath,_0x2a4664(0x82)+botID+'-performance.json'));if(fs[_0x2a4664(0x16e)](path[_0x2a4664(0xab)](configpath,_0x2a4664(0x82)+botID+'-results.json')))fs[_0x2a4664(0xfe)](path[_0x2a4664(0xab)](configpath,_0x2a4664(0x82)+botID+_0x2a4664(0xd7)));}catch(_0x53a8fe){if(_0x53a8fe)logger['full'](_0x2a4664(0x1e9),_0x53a8fe);}const _0xc72965=getDate();let _0x4c2f7d=[];currentCoins[_0x2a4664(0xcc)](_0x273e0e=>{const _0x180d4f=_0x2a4664;_0x4c2f7d['push']({'coin':_0x273e0e['coin'],'number':_0x273e0e['number'],'price':_0x273e0e[_0x180d4f(0xcf)]});});let _0x486ba3=dbConfig[_0x2a4664(0x154)](_0x2a4664(0xf5))[_0x2a4664(0x1b6)]({'botID':botID})[_0x2a4664(0x116)]();_0x486ba3&&(dbConfig[_0x2a4664(0x154)](_0x2a4664(0xf5))[_0x2a4664(0x1b6)]({'botID':botID})['assign']({'liquidity':[{'date':_0xc72965,'changes':_0x4c2f7d}]})[_0x2a4664(0xd1)](),config[_0x2a4664(0x174)]=[]),restartBot(!![]);}function noslash(_0x3cadb4){const _0x485e54=_0x34fc8d;return _0x3cadb4[_0x485e54(0xb9)]('/','');}function updateHighestFee(_0x27dbe8){const _0x97e3d7=_0x34fc8d;if(_0x27dbe8['reverse']){let _0x55f4f3={'filled':_0x27dbe8[_0x97e3d7(0xa8)]*_0x27dbe8[_0x97e3d7(0xb7)],'amount':_0x27dbe8[_0x97e3d7(0xa8)]*_0x27dbe8[_0x97e3d7(0xb7)],'side':_0x27dbe8[_0x97e3d7(0x24c)]=='sell'?'buy':_0x97e3d7(0x1bf),'price':0x1/_0x27dbe8[_0x97e3d7(0xb7)]};_0x27dbe8={..._0x27dbe8,..._0x55f4f3};}const _0x597113=defaultFee*_0x27dbe8[_0x97e3d7(0xa8)]*_0x27dbe8[_0x97e3d7(0xb7)];lastFees[_0x97e3d7(0xed)][_0x97e3d7(0x17f)]===0x14&&lastFees['recent20'][_0x97e3d7(0x1b4)](),lastFees[_0x97e3d7(0xed)][_0x97e3d7(0xc5)](_0x597113),lastFees[_0x97e3d7(0x91)]=Math[_0x97e3d7(0x1a6)](...lastFees[_0x97e3d7(0xed)]);}async function updateNumberCoinsCcxt(_0x58a917){const _0x2a27c4=_0x34fc8d;logger[_0x2a27c4(0x113)]('0\x20-\x20EXECUTION:\x20'+_0x58a917['symbol']+_0x2a27c4(0xbf)+_0x58a917['status']+_0x2a27c4(0xbf)+_0x58a917[_0x2a27c4(0xa8)]+'\x20/\x20'+_0x58a917[_0x2a27c4(0xe5)]+'\x20|\x20'+_0x58a917['id']);let _0x1f843f=_0x58a917[_0x2a27c4(0x236)],_0x1316f8=![];currentCoins[_0x2a27c4(0xcc)](_0x3474ae=>{const _0x2d82e9=_0x2a27c4;_0x3474ae[_0x2d82e9(0x227)]==_0x58a917['symbol']&&(_0x1316f8=!![]);});if(!_0x1316f8)return;const _0x13877e=currentCoins[_0x2a27c4(0x1b6)](_0x5eba4c=>_0x5eba4c[_0x2a27c4(0x227)]==_0x58a917[_0x2a27c4(0x227)]),_0x4c8dac=_0x13877e[_0x2a27c4(0xc3)],_0x19ad7c=_0x678866=>{const _0x59d6c5=_0x2a27c4,_0x30036b=currentCoins['find'](_0x217823=>_0x217823[_0x59d6c5(0x227)]==_0x58a917[_0x59d6c5(0x227)]);if(_0x30036b)_0x30036b[_0x59d6c5(0xf0)]=_0x678866;};let _0x44a128=![];for(const _0x39d4e4 of lastOrders){const _0x5e969e=0x64,_0x10476b=0x1388;let _0x2494fa=0x0;while(!_0x39d4e4[_0x2a27c4(0x1d0)]&&_0x2494fa*_0x5e969e<_0x10476b){_0x2494fa++,await sleep(_0x5e969e);}if(_0x2494fa>0x0)logger['debug'](_0x2a27c4(0x183)+_0x2494fa*_0x5e969e/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x39d4e4[_0x2a27c4(0x1d0)]==_0x58a917['id']&&(_0x44a128=!![]);}if(_0x1f843f=='open'){_0x19ad7c(_0x2a27c4(0x1ef));if(_0x58a917[_0x2a27c4(0xa8)]>0x0&&_0x58a917[_0x2a27c4(0xa8)]<_0x58a917[_0x2a27c4(0xe5)]){if(_0x44a128){setBlockTransactionDetection(!![]),logger[_0x2a27c4(0x113)](_0x2a27c4(0xcd)+_0x58a917['filled']+')\x20known\x20order:\x20'+_0x58a917['id']);const _0xb33bd9=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4c8dac);[currentCoins,currentCoinsAll]=_0xb33bd9,setBlockTransactionDetection(![]);}else logger[_0x2a27c4(0x113)]('1\x20-\x20partially\x20FILLED\x20('+_0x58a917[_0x2a27c4(0xa8)]+_0x2a27c4(0xb2)+_0x58a917['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x1f843f==_0x2a27c4(0x88)){_0x19ad7c(_0x2a27c4(0x88)),lastOrders=lastOrders[_0x2a27c4(0x226)](_0x43f243=>_0x43f243[_0x2a27c4(0x227)]!=_0x58a917[_0x2a27c4(0x227)]);const _0x35882e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x35882e,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x1f843f==_0x2a27c4(0x1c5)){if(lastOrders)for(const _0x47b985 of lastOrders){if(_0x47b985[_0x2a27c4(0x1d0)]==_0x58a917['id']){logger[_0x2a27c4(0x113)](_0x2a27c4(0x1a2)+_0x58a917['id']),_0x44a128=!![];if(_0x47b985[_0x2a27c4(0xa8)]==0x0){setBlockTransactionDetection(!![]),logger[_0x2a27c4(0x113)](_0x2a27c4(0x156)+_0x58a917['id']);if(_0x58a917[_0x2a27c4(0x1d2)])_0x47b985[_0x2a27c4(0xb7)]=_0x58a917[_0x2a27c4(0x1d2)];else{if(_0x58a917['price'])_0x47b985[_0x2a27c4(0xb7)]=_0x58a917[_0x2a27c4(0xb7)];else{}}_0x47b985[_0x2a27c4(0xa8)]=_0x58a917[_0x2a27c4(0xa8)],updateHighestFee(_0x47b985);const _0x2101eb=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4c8dac);[currentCoins,currentCoinsAll]=_0x2101eb,setBlockTransactionDetection(![]),await validateOrders(),_0x19ad7c(_0x2a27c4(0xa8)),_0x47b985[_0x2a27c4(0x232)]={'currency':_0x58a917[_0x2a27c4(0x232)]?_0x58a917[_0x2a27c4(0x232)][_0x2a27c4(0x243)]:null,'cost':_0x58a917[_0x2a27c4(0x232)]?_0x58a917[_0x2a27c4(0x232)]['cost']:0x0},await updatePnL(_0x47b985);}}}!_0x44a128&&(logger[_0x2a27c4(0x113)](_0x2a27c4(0x86)+_0x58a917['id']),_0x19ad7c(_0x2a27c4(0xa8)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x67944f=JSON[_0x2a27c4(0x118)](lastBalances['portfolio']);const _0x3d7c4c=_0x67944f['find'](_0x4b8f5f=>_0x4b8f5f['symbol']==_0x58a917['symbol']);if(_0x3d7c4c){if(_0x1f843f==_0x2a27c4(0x1ef))_0x3d7c4c[_0x2a27c4(0xf0)]=_0x3d7c4c[_0x2a27c4(0xf0)]=='filled'?_0x2a27c4(0xa8):_0x2a27c4(0x1ef);else{if(_0x1f843f=='canceled')_0x3d7c4c[_0x2a27c4(0xf0)]=_0x3d7c4c[_0x2a27c4(0xf0)]=='filled'?_0x2a27c4(0xa8):_0x2a27c4(0x88);else _0x1f843f=='closed'&&(_0x3d7c4c[_0x2a27c4(0xf0)]=_0x2a27c4(0xa8));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2a27c4(0x160)](_0x67944f)},proxyEmit(_0x2a27c4(0x13a),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0xad930b=_0x34fc8d;await getOpenOrders();let _0x3edfee=![];currentCoins[_0xad930b(0xcc)](_0xcff269=>{const _0x538a8b=_0xad930b;_0x3edfee=allOpenOrders[_0x538a8b(0x1b6)](_0x5ac098=>_0x5ac098[_0x538a8b(0x227)]==_0xcff269['symbol']),_0xcff269[_0x538a8b(0xf0)]=_0x3edfee?'open':_0x538a8b(0x225);});}async function fetchBalance(_0x4ccf55=!![]){const _0x1418f8=_0x34fc8d;let _0x311339,_0x1890d5,_0x2dcad1,_0x2a3a79=0x0;while(!_0x1890d5&&_0x2a3a79<maxRetries){try{return _0x311339=await exchange['fetchBalance'](),_0x1890d5=_0x311339[_0x1418f8(0x15b)],_0x1890d5;}catch(_0x3144b4){_0x2dcad1=_0x3144b4,_0x2a3a79++,await sleep(retryInterval);}}return!_0x4ccf55?handleErrorNoStop(_0x2dcad1,'fetchBalance()'):await handleError(_0x2dcad1,_0x1418f8(0x1c3)),![];}async function getCoins(_0xf7c5bb=0x0,_0x23685e=!![],_0x31fb66=config['basecoin'],_0x47e50f){const _0x5f55d9=_0x34fc8d;let _0x3361d8=[],_0x59d786=[],_0x514b2a=[],_0x44687b;if(_0xf7c5bb)await sleep(_0xf7c5bb);if(botPaused)return[currentCoins,currentCoinsAll];let _0x29c4cf=![],_0xb7a25b=0x0,_0x3e5b20,_0x533e97;_0x47e50f&&(_0x3e5b20=currentCoins[_0x5f55d9(0x1b6)](_0x28df97=>_0x28df97['coin']==_0x47e50f),_0x3e5b20&&(_0x533e97=_0x3e5b20[_0x5f55d9(0x191)],delete _0x3e5b20[_0x5f55d9(0x191)]));while(!_0x29c4cf){_0x44687b=await fetchBalance(_0x23685e);if(_0x44687b){if(_0x47e50f){if(_0x44687b[_0x47e50f]!=_0x533e97)logger[_0x5f55d9(0x113)](_0x5f55d9(0x15c)+_0x47e50f+':\x20'+_0x44687b[_0x47e50f]+'\x20('+_0x533e97+')'),_0x29c4cf=!![];else{logger[_0x5f55d9(0x113)](_0x5f55d9(0xd3)+_0x47e50f+':\x20'+_0x44687b[_0x47e50f]+'\x20('+_0x533e97+')'),_0xb7a25b++;if(_0xb7a25b<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x5f55d9(0x113)](_0x5f55d9(0xd8)+_0xb7a25b+_0x5f55d9(0x209));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x2f3598,_0x44758d]of Object[_0x5f55d9(0x125)](_0x44687b)){_0x514b2a['push'](_0x2f3598);}config[_0x5f55d9(0x1ea)][_0x5f55d9(0xcc)](_0x553624=>{const _0x2dfbb9=_0x5f55d9;!_0x514b2a[_0x2dfbb9(0x8d)](_0x553624[_0x2dfbb9(0xc3)])&&(_0x44687b[_0x553624[_0x2dfbb9(0xc3)]]=0x0);});if(_0x31fb66=='')for(const [_0xc9e08e,_0x4f245c]of Object[_0x5f55d9(0x125)](_0x44687b)){_0x4f245c!=0x0&&_0x3361d8['push']({'coin':_0xc9e08e});}else for(const [_0x314685,_0x37ceae]of Object['entries'](_0x44687b)){const _0x6eaf78=config[_0x5f55d9(0x1ea)][_0x5f55d9(0x1b6)](_0x1d4b4d=>_0x1d4b4d[_0x5f55d9(0xc3)]==_0x314685),_0x3ffb9f=_0x314685+'/'+_0x31fb66,_0x53cc51=_0x31fb66+'/'+_0x314685,_0x32e0e1=currentCoins[_0x5f55d9(0x1b6)](_0x2e9d96=>_0x2e9d96['coin']==_0x314685);if((_0x37ceae!=0x0||_0x6eaf78)&&(allSymbols[_0x5f55d9(0x8d)](_0x3ffb9f)||_0x314685==_0x31fb66))_0x32e0e1?_0x3361d8['push']({..._0x32e0e1,'number':Math[_0x5f55d9(0x1a6)](_0x37ceae+(_0x6eaf78&&_0x6eaf78[_0x5f55d9(0x1e3)]||0x0),0x0)}):_0x3361d8['push']({'coin':_0x314685,'symbol':_0x3ffb9f,'reverse':![],'number':Math[_0x5f55d9(0x1a6)](_0x37ceae+(_0x6eaf78&&_0x6eaf78[_0x5f55d9(0x1e3)]||0x0),0x0),'orderstatus':_0x5f55d9(0x225)});else{if((_0x37ceae!=0x0||_0x6eaf78)&&allSymbols[_0x5f55d9(0x8d)](_0x53cc51))_0x32e0e1?_0x3361d8['push']({..._0x32e0e1,'number':Math[_0x5f55d9(0x1a6)](_0x37ceae+(_0x6eaf78&&_0x6eaf78[_0x5f55d9(0x1e3)]||0x0),0x0)}):_0x3361d8['push']({'coin':_0x314685,'symbol':_0x53cc51,'reverse':!![],'number':Math[_0x5f55d9(0x1a6)](_0x37ceae+(_0x6eaf78&&_0x6eaf78[_0x5f55d9(0x1e3)]||0x0),0x0),'orderstatus':'none'});else _0x6eaf78&&_0x3361d8['push']({'coin':_0x6eaf78['coin'],'symbol':_0x6eaf78[_0x5f55d9(0x227)],'reverse':_0x6eaf78[_0x5f55d9(0x9e)],'number':0x0,'orderstatus':_0x5f55d9(0x225)});}}return _0x3361d8[_0x5f55d9(0x121)]((_0x345085,_0x5c691a)=>_0x345085[_0x5f55d9(0x166)]<_0x5c691a['delta']?0x1:_0x5c691a[_0x5f55d9(0x166)]<_0x345085[_0x5f55d9(0x166)]?-0x1:0x0),_0x59d786=cloneDeep(_0x3361d8),_0x3361d8=_0x3361d8[_0x5f55d9(0x226)](_0x4485b8=>{const _0xe5a086=_0x5f55d9,_0x38bbcc=config[_0xe5a086(0x1ea)]['find'](_0xa213de=>_0xa213de[_0xe5a086(0xc3)]==_0x4485b8['coin']);return _0x38bbcc&&!_0x38bbcc[_0xe5a086(0x19a)];}),[_0x3361d8,_0x59d786];}async function getOpenOrders(){const _0x4efd3f=_0x34fc8d;let _0xc7b7ff;allOpenOrders=[];try{for(const _0x34f937 of config[_0x4efd3f(0x1ea)]){!_0x34f937[_0x4efd3f(0x19a)]&&_0x34f937['coin']!=config[_0x4efd3f(0x1be)]&&(_0xc7b7ff=await exchange[_0x4efd3f(0x94)](_0x34f937['symbol']),_0xc7b7ff[_0x4efd3f(0x17f)]>0x0&&allOpenOrders[_0x4efd3f(0xc5)](_0xc7b7ff[0x0]));}}catch(_0x184621){await handleError(_0x184621,_0x4efd3f(0x20b));}}async function handleOpenOrders(_0x307bc1=0x0){const _0x316f16=_0x34fc8d;allOpenOrders[_0x316f16(0x17f)]==0x0&&lockOrders==ORDERS[_0x316f16(0xd2)]&&allOrdersPlaced&&(_0x307bc1==0x0?(logger[_0x316f16(0x113)](_0x316f16(0x1c2)),_0x307bc1++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x316f16(0x113)](_0x316f16(0x200)),validateOrders(_0x316f16(0x206))));}async function testAPI(){const _0x1fbbc5=_0x34fc8d;try{return await exchange[_0x1fbbc5(0x83)](),!![];}catch(_0x3a56d5){loading['cancel']=!![],_0x3a56d5['toString']()[_0x1fbbc5(0xb6)]()['includes'](_0x1fbbc5(0x22f))||_0x3a56d5[_0x1fbbc5(0x8a)]()[_0x1fbbc5(0xb6)]()[_0x1fbbc5(0x8d)]('request-time')?(logHistory('error',_0x1fbbc5(0x144)),loading[_0x1fbbc5(0x8f)]=_0x1fbbc5(0x179)):handleErrorNoStop(_0x3a56d5,_0x1fbbc5(0xfa),!![]),logHistory(_0x1fbbc5(0x8f),_0x1fbbc5(0x23f)),logHistory(_0x1fbbc5(0x8f),_0x1fbbc5(0x105)+loadCoinsRetryInterval/0xea60+_0x1fbbc5(0x1b2)),logger[_0x1fbbc5(0x113)](_0x1fbbc5(0x114),_0x3a56d5),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x5d35c0){const _0x589683=_0x34fc8d;logger[_0x589683(0x113)](_0x589683(0xa7));const _0x422418=ccxt['pro'][_0x5d35c0['exchange'][_0x589683(0xb6)]()],_0xd335a2=new _0x422418({'apiKey':_0x5d35c0['apiKey'],'secret':_0x5d35c0['apiSecret'],'options':{'defaultType':_0x589683(0x240)}});if(_0x5d35c0[_0x589683(0x23e)])_0xd335a2[_0x589683(0xac)]=_0x5d35c0['apiPassword'];if(_0xd335a2[_0x589683(0x148)]['sandbox'])_0xd335a2[_0x589683(0x1ad)](_0x5d35c0[_0x589683(0x218)]);try{await _0xd335a2[_0x589683(0x83)](),botPaused=![];}catch(_0xe75d00){logger['debug'](_0x589683(0x6e)+_0xe75d00[_0x589683(0x8a)]());throw _0xe75d00;}}function cloneDeep(_0x128aa1){const _0x4c42f1=_0x34fc8d;return JSON[_0x4c42f1(0x118)](JSON[_0x4c42f1(0x160)](_0x128aa1));}async function getPortfolio(_0x1a490b){const _0x338f8c=_0x34fc8d;let _0xaf59eb=[],_0x168c02=[],_0x427b25=[],_0x4203ef;_0x1a490b[_0x338f8c(0x14d)]=decryptRSA(secure[_0x338f8c(0x18a)],_0x1a490b[_0x338f8c(0x14d)]),_0x1a490b[_0x338f8c(0x168)]=decryptRSA(secure[_0x338f8c(0x18a)],_0x1a490b[_0x338f8c(0x168)]);if(_0x1a490b['apiPassword'])_0x1a490b[_0x338f8c(0x23e)]=decryptRSA(secure[_0x338f8c(0x18a)],_0x1a490b['apiPassword']);if(_0x1a490b[_0x338f8c(0x14d)]!==_0x338f8c(0x81)||_0x1a490b[_0x338f8c(0x168)]!=='************'||_0x1a490b[_0x338f8c(0x23e)]&&_0x1a490b[_0x338f8c(0x23e)]!=='************'){if(config[_0x338f8c(0x117)]){if(_0x1a490b[_0x338f8c(0x14d)]==_0x338f8c(0x81))_0x1a490b[_0x338f8c(0x14d)]=config[_0x338f8c(0x14d)];if(_0x1a490b['apiSecret']==_0x338f8c(0x81))_0x1a490b['apiSecret']=config['apiSecret'];if(_0x1a490b[_0x338f8c(0x23e)]==_0x338f8c(0x81))_0x1a490b[_0x338f8c(0x23e)]=config[_0x338f8c(0x23e)];}try{if(_0x1a490b[_0x338f8c(0x245)])await testNewAPI(_0x1a490b);}catch(_0x2d1ec4){if(_0x2d1ec4['toString']()[_0x338f8c(0x8d)](_0x338f8c(0xae))){logHistory(_0x338f8c(0x8f),_0x338f8c(0x21e)),logHistory('error','Error\x20details:\x20'+_0x2d1ec4['toString']()),proxyEmit(_0x338f8c(0x1f3),![]);return;}else{if(_0x2d1ec4[_0x338f8c(0x8a)]()[_0x338f8c(0x8d)](_0x338f8c(0x129))){logHistory('error',_0x338f8c(0x7e)),logHistory(_0x338f8c(0x8f),_0x338f8c(0x19f)+_0x2d1ec4[_0x338f8c(0x8a)]()),proxyEmit('portfolio1',![]);return;}else{logHistory(_0x338f8c(0x8f),'Error\x20occurred:\x20'+_0x2d1ec4[_0x338f8c(0x8a)]()),logger['debug']('Error\x20details:',_0x2d1ec4),proxyEmit(_0x338f8c(0x1f3),![]);return;}}}exchange?updateExchange(_0x1a490b['apiKey'],_0x1a490b[_0x338f8c(0x168)],_0x1a490b[_0x338f8c(0x23e)]):await initExchange(_0x1a490b[_0x338f8c(0x117)],_0x1a490b[_0x338f8c(0x14d)],_0x1a490b[_0x338f8c(0x168)],_0x1a490b['apiPassword'],_0x1a490b[_0x338f8c(0x218)]);await loadSymbols();const _0x21a730=await getCoins(0x0,![],_0x1a490b['basecoin']);_0x427b25=cloneDeep(_0x21a730[0x1]);}else{const _0x20c2d1=await getCoins();_0x427b25=cloneDeep(_0x20c2d1[0x1]);}if(_0x1a490b[_0x338f8c(0x1be)]=='')proxyEmit('portfolio1',!![]),proxyEmit('portfolio2',_0x427b25);else{_0x427b25['forEach'](_0x3772da=>{const _0x1b87fc=_0x338f8c;if(_0x3772da['coin']!=_0x1a490b[_0x1b87fc(0x1be)]&&allSymbols[_0x1b87fc(0x8d)](_0x3772da['symbol']))_0xaf59eb[_0x1b87fc(0xc5)](_0x3772da['symbol']);});if(_0xaf59eb[_0x338f8c(0x17f)]==0x0)logHistory(_0x338f8c(0x8f),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x168c02=await getTickers(_0xaf59eb);}catch(_0x5361d4){logHistory(_0x338f8c(0x8f),'Unknown\x20error\x20-\x20check\x20logs'),logger[_0x338f8c(0x113)](_0x338f8c(0x114),_0x5361d4),proxyEmit(_0x338f8c(0x1f3),![]);return;}_0x427b25[_0x338f8c(0xcc)](_0x5223ea=>{const _0x3d2546=_0x338f8c;_0x5223ea[_0x3d2546(0xc3)]!=_0x1a490b[_0x3d2546(0x1be)]?_0x168c02[_0x5223ea['symbol']]?_0x168c02[_0x5223ea['symbol']][_0x3d2546(0xcf)]?_0x4203ef=_0x5223ea['reverse']?0x1/_0x168c02[_0x5223ea[_0x3d2546(0x227)]]['last']:_0x168c02[_0x5223ea[_0x3d2546(0x227)]]['last']:_0x4203ef=0x0:_0x4203ef=0x0:_0x4203ef=0x1,_0x5223ea['price']=formatResult(_0x4203ef,0x8);}),await getMarketCap(_0x427b25),proxyEmit(_0x338f8c(0x1f3),!![]),proxyEmit(_0x338f8c(0x177),_0x427b25);}}}function truncateTradeAmount(_0x352672,_0x337e87){const _0x4f32e0=_0x34fc8d;let _0x471816=0x0;try{_0x471816=exchange[_0x4f32e0(0x19c)](_0x352672,_0x337e87);}catch(_0x1e51f0){}return _0x471816;}function checkMinimums(_0x243e3b){const _0x327c7e=_0x34fc8d;let _0x2fceb3=!![];const _0x5b3bff=!_0x243e3b[_0x327c7e(0x9e)]?markets[_0x243e3b[_0x327c7e(0x227)]][_0x327c7e(0x1dd)][_0x327c7e(0xe5)][_0x327c7e(0x1f7)]:markets[_0x243e3b['symbol']][_0x327c7e(0x1dd)][_0x327c7e(0x182)][_0x327c7e(0x1f7)],_0x56b85c=!_0x243e3b[_0x327c7e(0x9e)]?markets[_0x243e3b[_0x327c7e(0x227)]]['limits'][_0x327c7e(0x182)][_0x327c7e(0x1f7)]:markets[_0x243e3b[_0x327c7e(0x227)]][_0x327c7e(0x1dd)][_0x327c7e(0xe5)][_0x327c7e(0x1f7)],_0x41dda3=truncateTradeAmount(_0x243e3b['symbol'],_0x243e3b[_0x327c7e(0x101)]);_0x243e3b[_0x327c7e(0x101)]=_0x41dda3;if(Math[_0x327c7e(0x15a)](_0x41dda3)<_0x5b3bff)_0x2fceb3=![];if(Math[_0x327c7e(0x15a)](_0x41dda3)*_0x243e3b[_0x327c7e(0xcf)]<_0x56b85c)_0x2fceb3=![];let _0x1b6d2f='';if(_0x243e3b[_0x327c7e(0x24c)]==_0x327c7e(0x1bf)){let _0x28d6ba=config[_0x327c7e(0x1ea)][_0x327c7e(0x1b6)](_0x366f4a=>_0x366f4a[_0x327c7e(0xc3)]==_0x243e3b[_0x327c7e(0xc3)]);_0x28d6ba[_0x327c7e(0x1e3)]>0x0?Math[_0x327c7e(0x15a)](_0x41dda3)>_0x243e3b[_0x327c7e(0x190)]-_0x28d6ba[_0x327c7e(0x1e3)]&&(_0x2fceb3=![],_0x1b6d2f=_0x327c7e(0x17d)+_0x28d6ba[_0x327c7e(0xc3)]+'\x20due\x20to\x20offset'):Math[_0x327c7e(0x15a)](_0x41dda3)>_0x243e3b[_0x327c7e(0x190)]&&(_0x2fceb3=![]);}if(_0x243e3b['side']=='buy'){let _0x562242=config['portfolio'][_0x327c7e(0x1b6)](_0x42e384=>_0x42e384[_0x327c7e(0xc3)]==config[_0x327c7e(0x1be)]),_0x341e9b=currentCoins[_0x327c7e(0x1b6)](_0x4f9f9d=>_0x4f9f9d[_0x327c7e(0xc3)]==config[_0x327c7e(0x1be)]);_0x562242[_0x327c7e(0x1e3)]>0x0?Math[_0x327c7e(0x15a)](_0x41dda3)*_0x243e3b[_0x327c7e(0xcf)]>_0x341e9b['number']-_0x562242[_0x327c7e(0x1e3)]&&(_0x2fceb3=![],_0x1b6d2f=_0x327c7e(0x17d)+config[_0x327c7e(0x1be)]+_0x327c7e(0xfb)):Math[_0x327c7e(0x15a)](_0x41dda3)*_0x243e3b[_0x327c7e(0xcf)]>_0x341e9b['number']&&(_0x2fceb3=![]);}return!_0x2fceb3&&_0x1b6d2f&&!insufficientFundsWarningSent[_0x327c7e(0x8d)](_0x243e3b[_0x327c7e(0xc3)])&&(logHistory('warning',_0x1b6d2f),insufficientFundsWarningSent[_0x327c7e(0xc5)](_0x243e3b[_0x327c7e(0xc3)])),_0x2fceb3;}async function getBalances(_0x5df034=!![]){const _0x96897b=_0x34fc8d;if(botPaused)return;let _0xf692cd=0x0,_0x45f50b;const _0x4cca3f=config[_0x96897b(0x21d)];if(config['headless']&&config[_0x96897b(0xe7)]<0x0)await validate24hChanges();currentCoins[_0x96897b(0xcc)](_0x2d87ab=>{const _0x370bf4=_0x96897b;if(_0x2d87ab['coin']!=config[_0x370bf4(0x1be)]){let _0x54f096=gTicker[noslash(_0x2d87ab['symbol'])];_0x45f50b=_0x2d87ab[_0x370bf4(0x9e)]?0x1/_0x54f096:_0x54f096;}else _0x45f50b=0x1;let _0x3410fe=_0x2d87ab[_0x370bf4(0x190)]*_0x45f50b;_0xf692cd+=_0x3410fe,_0x2d87ab[_0x370bf4(0xcf)]=formatResult(Number(_0x45f50b),0x8),_0x2d87ab[_0x370bf4(0x116)]=_0x3410fe;}),currentCoins['forEach'](_0x378aa4=>{const _0xbfcc57=_0x96897b;let _0x55e4d0=config['portfolio'][_0xbfcc57(0x1b6)](_0x58393b=>_0x58393b['coin']==_0x378aa4[_0xbfcc57(0xc3)]),_0x17d574=Number(_0x55e4d0[_0xbfcc57(0x238)]),_0x5efeed=_0x378aa4['value']/_0xf692cd*0x64,_0x2dbf25=_0x17d574*_0xf692cd/0x64/_0x378aa4[_0xbfcc57(0xcf)]-_0x378aa4[_0xbfcc57(0x190)];_0x378aa4[_0xbfcc57(0x238)]=formatResult(_0x5efeed,0x3),_0x378aa4['target']=formatResult(_0x17d574,0x3),_0x378aa4[_0xbfcc57(0x101)]=formatResult(_0x2dbf25,0x8),_0x378aa4[_0xbfcc57(0x24c)]='',_0x378aa4[_0xbfcc57(0xb4)]=![];if(_0x378aa4[_0xbfcc57(0xc3)]!=config[_0xbfcc57(0x1be)]){if(_0x378aa4[_0xbfcc57(0x238)]>_0x17d574)_0x378aa4['side']=_0xbfcc57(0x1bf),_0x378aa4[_0xbfcc57(0xb4)]=checkMinimums(_0x378aa4);else _0x378aa4[_0xbfcc57(0x238)]<_0x17d574&&(_0x378aa4['side']=_0xbfcc57(0xe4),_0x378aa4[_0xbfcc57(0xb4)]=checkMinimums(_0x378aa4));}_0x378aa4[_0xbfcc57(0x166)]=_0x378aa4['distribution']/_0x378aa4[_0xbfcc57(0x233)]-0x1;if(_0x378aa4[_0xbfcc57(0xf0)]==_0xbfcc57(0xa8)||_0x378aa4['orderstatus']==_0xbfcc57(0x88))_0x378aa4['orderstatus']=_0xbfcc57(0x225);}),currentCoins['sort']((_0x534099,_0x49a602)=>_0x534099[_0x96897b(0x166)]<_0x49a602[_0x96897b(0x166)]?0x1:_0x49a602[_0x96897b(0x166)]<_0x534099[_0x96897b(0x166)]?-0x1:0x0);const _0x547b76=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x547b76['eur'],'usd':_0x547b76['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x4cca3f},proxyEmit(_0x96897b(0x13a),{'serverversion':serverversion,'balances':lastBalances});if(_0x5df034){if(config[_0x96897b(0x176)])headlessMode({'portfolio':currentCoins,'threshold':_0x4cca3f});else lockOrders==ORDERS[_0x96897b(0x1a7)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x4cca3f});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x12e32f=getNormalizedPerformance();getStartingBalances(_0x12e32f),emitPerformance(_0x12e32f);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x1897fc=_0x34fc8d;let _0x5251d5=dbCoinResults['get'](_0x1897fc(0x170))[_0x1897fc(0x116)](),_0x3a6e67=0x0;return Object['entries'](_0x5251d5)[_0x1897fc(0xcc)](([_0x4d0400,_0x58b694])=>{const _0x7e441b=_0x1897fc;_0x3a6e67+=_0x58b694[_0x7e441b(0xad)];}),_0x3a6e67;}async function storePerformance(){const _0xd6292e=_0x34fc8d;if(!lastBalances)return;let _0x2e8789=[],_0x4eb949;const _0x29cd09=getPnL();let _0x4cac8d=JSON[_0xd6292e(0x118)](lastBalances[_0xd6292e(0x1ea)]);_0x4cac8d[_0xd6292e(0x121)]((_0x59b6d8,_0x43858b)=>_0x59b6d8['coin']>_0x43858b[_0xd6292e(0xc3)]?0x1:_0x43858b[_0xd6292e(0xc3)]>_0x59b6d8[_0xd6292e(0xc3)]?-0x1:0x0),_0x4cac8d['forEach'](_0x452e22=>{const _0xc6761f=_0xd6292e;let _0x52571b={'coin':_0x452e22[_0xc6761f(0xc3)],'number':_0x452e22[_0xc6761f(0x190)],'price':_0x452e22['last']};_0x2e8789['push'](_0x52571b);});const _0x366a9d=await getFiat(),_0x4c5196=getTimeStamp()[_0xd6292e(0x18f)]('\x20')[0x0],_0x5e7cee=dbPerformance[_0xd6292e(0x154)](_0xd6292e(0x1f8))[_0xd6292e(0x1b6)]({'date':_0x4c5196})[_0xd6292e(0x116)]();_0x4eb949={'date':_0x4c5196,'eur':_0x366a9d[_0xd6292e(0x1f9)],'usd':_0x366a9d[_0xd6292e(0x1ba)],'coins':_0x2e8789,'pnl':_0x29cd09},_0x5e7cee?_0x4eb949[_0xd6292e(0x1b1)]!=config[_0xd6292e(0xbe)]&&dbPerformance[_0xd6292e(0x154)](_0xd6292e(0x1f8))[_0xd6292e(0x1b6)]({'date':_0x4c5196})[_0xd6292e(0x131)](_0x4eb949)['write']():dbPerformance[_0xd6292e(0x154)](_0xd6292e(0x1f8))[_0xd6292e(0xc5)](_0x4eb949)[_0xd6292e(0xd1)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0xb49eaf=_0x34fc8d;let _0x30746d=[];if(dbPerformance[_0xb49eaf(0x148)](_0xb49eaf(0x1f8))[_0xb49eaf(0x116)]()){let _0x579e36=dbPerformance[_0xb49eaf(0x154)](_0xb49eaf(0x1f8))[_0xb49eaf(0xe2)]()[_0xb49eaf(0x226)](_0x1c8251=>{const _0x414691=_0xb49eaf;if(_0x1c8251[_0x414691(0x170)][_0x414691(0x17f)]==0x0)return![];else return!![];})['sortBy'](_0xb49eaf(0x1b1))[_0xb49eaf(0x116)](),_0x52bf39=[...config[_0xb49eaf(0x174)]];_0x52bf39['sort']((_0x420442,_0x48792b)=>_0x420442[_0xb49eaf(0x1b1)]>_0x48792b[_0xb49eaf(0x1b1)]?-0x1:_0x48792b['date']>_0x420442[_0xb49eaf(0x1b1)]?0x1:0x0);let _0x4f4e21=0x1,_0x2c6831=[],_0x25d1d8=0x0;_0x579e36[_0xb49eaf(0x85)]()[_0xb49eaf(0x9e)]()[_0xb49eaf(0xcc)]((_0x16de0a,_0x43b205)=>{const _0x4d46a3=_0xb49eaf;if(_0x52bf39[_0x25d1d8]){if(_0x579e36[_0x579e36[_0x4d46a3(0x17f)]-_0x43b205]&&_0x52bf39[_0x25d1d8]['date']==_0x579e36[_0x579e36['length']-_0x43b205][_0x4d46a3(0x1b1)]){if(_0x43b205<_0x579e36[_0x4d46a3(0x17f)]){let _0xb80bf7=0x0,_0x1a705d=0x0;_0x579e36[_0x579e36['length']-_0x43b205][_0x4d46a3(0x170)][_0x4d46a3(0xcc)](_0x6d08ba=>{const _0x3b0347=_0x4d46a3;_0x1a705d+=_0x6d08ba['number']*_0x6d08ba[_0x3b0347(0xb7)];}),_0x52bf39[_0x25d1d8][_0x4d46a3(0x180)][_0x4d46a3(0xcc)](_0x1be9d0=>{const _0x3e3e3a=_0x4d46a3;_0xb80bf7+=_0x1be9d0['number']*_0x1be9d0[_0x3e3e3a(0xb7)];}),_0x4f4e21*=_0xb80bf7/(_0x1a705d-_0xb80bf7)+0x1;}_0x25d1d8++;}}let _0x104ec9=0x0;_0x16de0a[_0x4d46a3(0x170)]['forEach'](_0x1ed9bb=>{_0x104ec9+=_0x1ed9bb['number']*_0x1ed9bb['price'];}),_0x2c6831[_0x579e36['length']-_0x43b205-0x1]=_0x104ec9*(_0x4f4e21-0x1);});let _0x30cd0a=[];_0x52bf39=[...config['liquidity']]||[];let _0x193158=0x0;_0x25d1d8=0x0,_0x579e36[_0xb49eaf(0xcc)]((_0x3bc351,_0x5ab1a2)=>{const _0x24af1c=_0xb49eaf;if(_0x52bf39[_0x25d1d8]){const _0x52552a=fns[_0x24af1c(0x118)](_0x52bf39[_0x25d1d8][_0x24af1c(0x1b1)],_0x24af1c(0x112),new Date()),_0x369ea6=fns[_0x24af1c(0x118)](_0x3bc351[_0x24af1c(0x1b1)],_0x24af1c(0x112),new Date());if(fns[_0x24af1c(0x20c)](_0x52552a,_0x369ea6)){let _0x34e309=0x0;_0x52bf39[_0x25d1d8]['changes'][_0x24af1c(0xcc)](_0x18a7b1=>{const _0x4448b7=_0x24af1c;!_0x30cd0a[_0x18a7b1['coin']]?_0x30cd0a[_0x18a7b1['coin']]=_0x18a7b1[_0x4448b7(0x190)]:(_0x34e309=_0x30cd0a[_0x18a7b1['coin']],_0x30cd0a[_0x18a7b1[_0x4448b7(0xc3)]]+=_0x18a7b1['number']);const _0x39b833=_0x3bc351[_0x4448b7(0x170)]['find'](_0x21e644=>_0x21e644[_0x4448b7(0xc3)]==_0x18a7b1[_0x4448b7(0xc3)]);(!_0x39b833||_0x39b833['number']==0x0)&&(_0x193158+=(-_0x18a7b1[_0x4448b7(0x190)]-_0x34e309)*_0x18a7b1[_0x4448b7(0xb7)]);}),_0x25d1d8++;}}_0x3bc351['coins'][_0x24af1c(0xcc)]((_0x30ecba,_0x27c7f9)=>{const _0x348960=_0x24af1c;_0x30cd0a[_0x30ecba[_0x348960(0xc3)]]&&(_0x30ecba[_0x348960(0x6c)]=_0x30cd0a[_0x30ecba[_0x348960(0xc3)]]);}),_0x30746d[_0x24af1c(0xc5)]({'date':_0x3bc351[_0x24af1c(0x1b1)],'eur':_0x3bc351['eur'],'usd':_0x3bc351['usd'],'offset':_0x2c6831[_0x5ab1a2],'netoffset':_0x193158,'coins':_0x3bc351[_0x24af1c(0x170)],'pnl':_0x3bc351[_0x24af1c(0x1da)]});});}return _0x30746d;}function emitPerformance(_0x5b6107){const _0x3762c7=_0x34fc8d;_0x5b6107[_0x3762c7(0x17f)]!==0x0?(proxyEmit(_0x3762c7(0x7a),_0x5b6107),lastPerformanceEmitted=getDate()):proxyEmit(_0x3762c7(0x7a),[]);}function getPerf(_0x4847bf,_0xbc5580){const _0x3da4c6=_0x34fc8d;let _0x5e21bf=0x0,_0x5f4d43=0x0,_0x48dd73=0x0;_0x4847bf[_0x3da4c6(0x170)]['forEach'](_0x1c5f77=>{const _0x1fdb9d=_0x3da4c6;_0x5e21bf+=_0x1c5f77[_0x1fdb9d(0x190)]*_0x1c5f77['price'];});_0xbc5580&&(_0x5e21bf+=_0x4847bf['offset']);if(config[_0x3da4c6(0x1be)]===_0x3da4c6(0x1bc)||config[_0x3da4c6(0x1be)]==='ETH'||config[_0x3da4c6(0x1be)]===_0x3da4c6(0x229))_0x5f4d43=_0x5e21bf*_0x4847bf['eur'],_0x48dd73=_0x5e21bf*_0x4847bf['usd'];else{if(usdBasecoins['includes'](config[_0x3da4c6(0x1be)]))_0x5f4d43=_0x5e21bf*_0x4847bf['eur']/_0x4847bf['usd'],_0x48dd73=_0x5e21bf;else config[_0x3da4c6(0x1be)]===_0x3da4c6(0x87)&&(_0x5f4d43=_0x5e21bf,_0x48dd73=_0x5e21bf*_0x4847bf[_0x3da4c6(0x1ba)]/_0x4847bf['eur']);}return[_0x5e21bf,_0x5f4d43,_0x48dd73];}function CurrencyFactor(_0x30d192,_0x2fa4f5,_0x32bc7f){const _0x4d7880=_0x34fc8d;let _0x2f0f54;if(_0x2fa4f5==='BTC'||_0x2fa4f5===_0x4d7880(0x203)||_0x2fa4f5==='PAXG')_0x2f0f54=_0x32bc7f===_0x4d7880(0x87)?_0x30d192['eur']:_0x30d192[_0x4d7880(0x1ba)];else{if(usdBasecoins[_0x4d7880(0x8d)](_0x2fa4f5))_0x2f0f54=_0x32bc7f===_0x4d7880(0x87)?_0x30d192[_0x4d7880(0x1f9)]/_0x30d192[_0x4d7880(0x1ba)]:0x1;else _0x2fa4f5===_0x4d7880(0x87)&&(_0x2f0f54=_0x32bc7f===_0x4d7880(0x87)?0x1:_0x30d192[_0x4d7880(0x1ba)]/_0x30d192[_0x4d7880(0x1f9)]);}return _0x2f0f54;}function getKPIs(_0x41823a,_0x1ace25=_0x34fc8d(0x87)){const _0x3a43d2=_0x34fc8d,_0x351cdf=config[_0x3a43d2(0x1be)],_0x2b97d8=lastBalances,_0x4683b8=currentCoins,_0x4e2798=getNormalizedPerformance(),_0x56c1e1=CurrencyFactor(_0x2b97d8,config[_0x3a43d2(0x1be)],_0x1ace25);let _0x526d42=0x0;_0x4683b8['forEach'](_0x423c76=>{const _0x1e76ba=_0x3a43d2;_0x526d42+=_0x423c76[_0x1e76ba(0x190)]*_0x423c76[_0x1e76ba(0xcf)];});_0x41823a['includes'](_0x3a43d2(0xe9))&&(_0x526d42*=_0x56c1e1);let _0x44eaee;if(_0x526d42!==0x0){if(_0x41823a===_0x3a43d2(0x1be)||_0x41823a===_0x3a43d2(0xe9)){if(_0x41823a==='basecoin')_0x44eaee=(_0x526d42/startingBalances[_0x3a43d2(0x1be)]-0x1)*0x64;else{if(_0x1ace25===_0x3a43d2(0x87))_0x44eaee=(_0x526d42/startingBalances[_0x3a43d2(0x1f9)]-0x1)*0x64;else _0x44eaee=(_0x526d42/startingBalances[_0x3a43d2(0x1ba)]-0x1)*0x64;}}if(_0x41823a[_0x3a43d2(0x8d)]('net')){let _0x9dcb7c=0x0;if(startingBalances['coins'])_0x4683b8[_0x3a43d2(0xcc)](_0x420b2a=>{const _0x44ded5=_0x3a43d2;let _0x10380c=startingBalances[_0x44ded5(0x170)][_0x44ded5(0x1b6)](_0x378743=>_0x378743['coin']===_0x420b2a[_0x44ded5(0xc3)]);if(_0x10380c&&_0x10380c[_0x44ded5(0xc3)]&&_0x420b2a[_0x44ded5(0x190)]!==0x0)_0x9dcb7c+=_0x10380c[_0x44ded5(0x190)]*_0x420b2a[_0x44ded5(0xcf)];});let _0x5f2ba6=0x0;if(_0x4e2798[_0x3a43d2(0x17f)]!==0x0){let _0x463a62=_0x4e2798[_0x4e2798[_0x3a43d2(0x17f)]-0x1];_0x5f2ba6=_0x463a62[_0x3a43d2(0x155)];}_0x9dcb7c-=_0x5f2ba6;let _0x12b5f7;_0x41823a===_0x3a43d2(0x17a)&&(_0x12b5f7=startingBalances[_0x3a43d2(0x1be)]),_0x41823a==='net-fiat'&&(_0x12b5f7=_0x1ace25==='EUR'?startingBalances['eur']:startingBalances[_0x3a43d2(0x1ba)],_0x9dcb7c*=_0x56c1e1),_0x44eaee=(_0x526d42-_0x9dcb7c)/_0x12b5f7*0x64,_0x526d42=_0x526d42-_0x9dcb7c;}if(_0x41823a[_0x3a43d2(0x8d)](_0x3a43d2(0x1da))){if(_0x4e2798['length']!==0x0&&_0x4683b8[_0x3a43d2(0x17f)]!==0x0){let _0x4a860a,_0x529f51=_0x4e2798[_0x4e2798[_0x3a43d2(0x17f)]-0x1][_0x3a43d2(0x1da)];_0x41823a[_0x3a43d2(0x8d)](_0x3a43d2(0xe9))?(_0x4a860a=_0x1ace25==='EUR'?startingBalances['eur']:startingBalances[_0x3a43d2(0x1ba)],_0x529f51*=CurrencyFactor(_0x2b97d8,_0x351cdf,_0x1ace25)):_0x4a860a=startingBalances[_0x3a43d2(0x1be)],_0x44eaee=_0x529f51/_0x4a860a*0x64,_0x526d42=_0x529f51;}}if(_0x44eaee){if(_0x44eaee<0x64)_0x44eaee=_0x44eaee[_0x3a43d2(0x20f)](0x2);else{if(_0x44eaee<0x3e8)_0x44eaee=_0x44eaee['toFixed'](0x1);else _0x44eaee=_0x44eaee[_0x3a43d2(0x20f)](0x0);}}else _0x44eaee=Number('0')[_0x3a43d2(0x20f)](0x2);if(_0x526d42){if(Math[_0x3a43d2(0x15a)](_0x526d42)<0.000001)_0x526d42=_0x526d42['toFixed'](0x2);else{if(Math[_0x3a43d2(0x15a)](_0x526d42)<0.1)_0x526d42=_0x526d42[_0x3a43d2(0x20f)](0x6);else{if(Math[_0x3a43d2(0x15a)](_0x526d42)<0x1)_0x526d42=_0x526d42[_0x3a43d2(0x20f)](0x5);else{if(Math['abs'](_0x526d42)<0xa)_0x526d42=_0x526d42['toFixed'](0x4);else{if(Math['abs'](_0x526d42)<0x64)_0x526d42=_0x526d42[_0x3a43d2(0x20f)](0x3);else{if(Math[_0x3a43d2(0x15a)](_0x526d42)<0x3e8)_0x526d42=_0x526d42[_0x3a43d2(0x20f)](0x2);else _0x526d42=_0x526d42[_0x3a43d2(0x20f)](0x2);}}}}}}else _0x526d42=Number('0')[_0x3a43d2(0x20f)](0x2);}else _0x44eaee=Number('0')[_0x3a43d2(0x20f)](0x2);if(_0x44eaee>=0x0)_0x44eaee='+'+_0x44eaee;return{'value':_0x526d42,'change':_0x44eaee};}async function getStartingBalances(_0xa2e396,_0x40d68e=!![]){const _0xd37dd=_0x34fc8d;if(_0xa2e396['length']!==0x0){const [_0xd010e5,_0x176758,_0x3ecb0a]=getPerf(_0xa2e396[0x0],!![]);let _0xff601=[];config['portfolio'][_0xd37dd(0xcc)](_0x37cdba=>{const _0xe7dcf4=_0xd37dd;let _0x28697f=0x0,_0x2302e6;config[_0xe7dcf4(0x174)][_0xe7dcf4(0xcc)](_0x4fe1d3=>{const _0x2f2257=_0xe7dcf4;let _0x3f9718=_0x4fe1d3['changes'][_0x2f2257(0x1b6)](_0x1f8d8c=>_0x1f8d8c['coin']==_0x37cdba[_0x2f2257(0xc3)]);if(_0x3f9718){_0x28697f+=_0x3f9718[_0x2f2257(0x190)];if(!_0x2302e6)_0x2302e6=_0x3f9718[_0x2f2257(0xb7)];}}),_0xff601[_0xe7dcf4(0xc5)]({'coin':_0x37cdba['coin'],'number':_0x28697f,'initialprice':_0x2302e6});});const _0x5516e1={'basecoin':_0xd010e5,'eur':_0x176758,'usd':_0x3ecb0a,'coins':_0xff601};if(_0x40d68e)proxyEmit(_0xd37dd(0xdd),_0x5516e1);startingBalances=_0x5516e1;}}function headlessMode(_0x3332eb){const _0x599c40=_0x34fc8d;let _0x7a704c=_0x3332eb[_0x599c40(0x1ea)],_0x13a9a0=_0x3332eb['threshold'],_0x4ac754=[];for(let _0x17fc0b of _0x7a704c){if(_0x17fc0b[_0x599c40(0xc3)]!=config[_0x599c40(0x1be)]){if(_0x17fc0b[_0x599c40(0x166)]>=_0x13a9a0/0x64){if(_0x17fc0b['valid'])_0x4ac754['push'](_0x17fc0b);}else{if(_0x17fc0b[_0x599c40(0x166)]<=-_0x13a9a0/0x64){if(_0x17fc0b[_0x599c40(0xb4)])_0x4ac754[_0x599c40(0xc5)](_0x17fc0b);}}}}_0x4ac754[_0x599c40(0x17f)]>0x0&&placeOrder(_0x4ac754);}function notifyBalance(_0x46ef63){const _0x2f5427=_0x34fc8d;let _0x315443=_0x46ef63['portfolio'],_0xb280ae=_0x46ef63[_0x2f5427(0x21d)],_0x2ea25e=[];for(let _0x2da43b of _0x315443){if(_0x2da43b['coin']!=config['basecoin']){if(_0x2da43b[_0x2f5427(0x166)]>=_0xb280ae/0x64){if(_0x2da43b['valid'])_0x2ea25e[_0x2f5427(0xc5)](_0x2da43b);}else{if(_0x2da43b[_0x2f5427(0x166)]<=-_0xb280ae/0x64){if(_0x2da43b[_0x2f5427(0xb4)])_0x2ea25e[_0x2f5427(0xc5)](_0x2da43b);}}}}if(_0x2ea25e['length']>0x0){let _0x36f003=_0x2ea25e[_0x2f5427(0x195)](_0x13111f=>_0x13111f[_0x2f5427(0xc3)]);_0x36f003[_0x2f5427(0x121)]();let _0x4fc39a=_0x36f003[_0x2f5427(0xab)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2f5427(0x100),_0x2f5427(0x77));lastCoinsToBalance=_0x4fc39a;}}function symbolToCoin(_0x5fc5a6){const _0x5873b6=_0x34fc8d;let _0x48d78f;if(_0x5fc5a6[_0x5873b6(0x8d)]('/'+config['basecoin']))_0x48d78f=_0x5fc5a6[_0x5873b6(0xb9)]('/'+config['basecoin'],'');if(_0x5fc5a6[_0x5873b6(0x8d)](config[_0x5873b6(0x1be)]+'/'))_0x48d78f=_0x5fc5a6['replace'](config[_0x5873b6(0x1be)]+'/','');return _0x48d78f;}function setLockOrders(_0x20b1b8){const _0x5b4ace=_0x34fc8d;lockOrders=_0x20b1b8,logger[_0x5b4ace(0x113)](_0x5b4ace(0xb1)+Object[_0x5b4ace(0x1d9)](ORDERS)[lockOrders]);}async function unlockOrders(_0x3cee20=![]){const _0x27016b=_0x34fc8d;if(allOrdersPlaced&&lockOrders==ORDERS[_0x27016b(0xd2)]){setLockOrders(ORDERS[_0x27016b(0x185)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x3cee20){const _0x23c2de=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x23c2de,setBlockTransactionDetection(![]);}validateOrdersState=_0x27016b(0x6c),persistOpenOrders([]),setLockOrders(ORDERS[_0x27016b(0x1a7)]);}}async function validateOrders(_0x227a95){const _0x4788f7=_0x34fc8d;if(_0x227a95)validateOrdersState=_0x227a95;logger[_0x4788f7(0x113)](_0x4788f7(0x201)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+Object[_0x4788f7(0x1d9)](ORDERS)[lockOrders]);let _0x340042=[],_0x46c494=config['ordertype']==_0x4788f7(0xbb)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4788f7(0x235)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState);for(let _0x4d574c=lastOrders[_0x4788f7(0x17f)]-0x1;_0x4d574c>=0x0;_0x4d574c--){let _0x3ae3bc=lastOrders[_0x4d574c],_0x59e9b1=![];_0x3ae3bc[_0x4788f7(0xa8)]>0x0&&(_0x59e9b1=!![]),_0x340042['push'](_0x59e9b1),_0x59e9b1&&config[_0x4788f7(0xb8)]!=_0x4788f7(0xbb)&&logHistory('order','Order\x20filled:\x20'+_0x3ae3bc['symbol']+'\x20'+_0x3ae3bc[_0x4788f7(0x24c)]+'\x20#'+formatResult(_0x3ae3bc[_0x4788f7(0xa8)],0x8)+'\x20@'+formatResult(_0x3ae3bc[_0x4788f7(0xb7)],0x8)),_0x59e9b1&&lastOrders[_0x4788f7(0x164)](_0x4d574c,0x1);}persistOpenOrders(lastOrders);const _0x4d5955=coolingDown?_0x4788f7(0x1de):'balancing\x20resumed';if(validateOrdersState==_0x4788f7(0x6c)){validateOrdersState=_0x4788f7(0x10a);if(_0x340042[_0x4788f7(0x8d)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x4788f7(0x10a)){if(_0x340042['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x4788f7(0x1df)){let _0x1515eb=!![];if(_0x340042[_0x4788f7(0x8d)](![])){if(config[_0x4788f7(0xb8)]=='market')logHistory(_0x4788f7(0x16f),_0x4788f7(0x159)+Math[_0x4788f7(0xa9)](_0x46c494*validateOrderInterval/0xea60)+_0x4788f7(0x1b0)+_0x4d5955),await unlockOrders(!![]);else{_0x1515eb=await cancelOrders();if(_0x1515eb)logHistory(_0x4788f7(0x16f),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x4788f7(0xa9)](_0x46c494*validateOrderInterval/0xea60)+_0x4788f7(0x1b0)+_0x4d5955),await unlockOrders(!![]);else{validateOrdersState=_0x4788f7(0x10a),logHistory(_0x4788f7(0x8f),'Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20'+Math[_0x4788f7(0xa9)](_0x46c494*validateOrderInterval/0xea60)+_0x4788f7(0x1b0)+_0x4d5955),logHistory('error',_0x4788f7(0x11c));const _0x17ff81=config[_0x4788f7(0xb8)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4788f7(0x235)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5f8783=_0x4788f7;validateOrders(_0x5f8783(0x1df));},_0x17ff81);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x4788f7(0x206)){if(config['ordertype']!=_0x4788f7(0xbb))logHistory(_0x4788f7(0x16f),_0x4788f7(0xde)+_0x4d5955);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x387d57=_0x34fc8d;let _0x4e1eea=!![],_0x38548e;const _0x23b56f=config[_0x387d57(0x117)]==_0x387d57(0xef)?{'operatorId':operatorId}:undefined;for(const _0x5c68bd of lastOrders){let _0x3f4159=![],_0x238240=0x0;while(!_0x3f4159&&_0x238240<maxRetries){try{const _0xf082f2=await exchange[_0x387d57(0x93)](_0x5c68bd['orderId'],_0x5c68bd['symbol'],_0x23b56f);_0x3f4159=!![];}catch(_0x5d6dbe){_0x5d6dbe['toString']()['includes']('OrderNotFound')||_0x5d6dbe[_0x387d57(0x8a)]()[_0x387d57(0x8d)](_0x387d57(0xaf))?_0x3f4159=!![]:(_0x38548e=_0x5d6dbe,_0x3f4159=![]);}!_0x3f4159&&(_0x238240++,await sleep(retryInterval));}_0x4e1eea=_0x4e1eea&&_0x3f4159;}return!_0x4e1eea&&await handleError(_0x38548e,_0x387d57(0x151)),_0x4e1eea;}async function initCoinResults(_0x2aaa2b){const _0x7978a4=_0x34fc8d;_0x2aaa2b?logger[_0x7978a4(0x113)](_0x7978a4(0x1d6)+_0x2aaa2b):logger['debug'](_0x7978a4(0x20a)),config[_0x7978a4(0x1ea)][_0x7978a4(0xcc)](_0x6411de=>{const _0x5dc1a9=_0x7978a4;if(!_0x6411de[_0x5dc1a9(0x19a)]&&_0x6411de[_0x5dc1a9(0xc3)]!=config[_0x5dc1a9(0x1be)]){const _0x2ac5ae=currentCoins[_0x5dc1a9(0x1b6)](_0x22c210=>_0x22c210[_0x5dc1a9(0xc3)]==_0x6411de['coin']),_0x4da6d6=gTicker[noslash(_0x6411de[_0x5dc1a9(0x227)])];let _0x5b5708=_0x2ac5ae?_0x2ac5ae['number']:null,_0x1a97ef=_0x6411de[_0x5dc1a9(0x9e)]?0x1/_0x4da6d6:_0x4da6d6,_0x53ff3c;config['liquidity'][_0x5dc1a9(0xcc)](_0x5cd860=>{const _0x3b6d3b=_0x5dc1a9;!_0x53ff3c&&(_0x53ff3c=_0x5cd860[_0x3b6d3b(0x180)][_0x3b6d3b(0x1b6)](_0x1d1f1b=>_0x1d1f1b[_0x3b6d3b(0xc3)]==_0x6411de[_0x3b6d3b(0xc3)]),_0x53ff3c&&(_0x5b5708=_0x53ff3c[_0x3b6d3b(0x190)],_0x1a97ef=_0x53ff3c[_0x3b6d3b(0xb7)]));});let _0x178e73=dbCoinResults['get'](_0x5dc1a9(0x170))[_0x5dc1a9(0x1b6)]({'coin':_0x6411de[_0x5dc1a9(0xc3)]})[_0x5dc1a9(0x116)]();if(!_0x178e73){const _0x545fa4={'coin':_0x6411de[_0x5dc1a9(0xc3)],'number':_0x5b5708,'breakeven':_0x1a97ef,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x5dc1a9(0x170))['push'](_0x545fa4)[_0x5dc1a9(0xd1)]();}else{if(_0x2aaa2b&&_0x6411de[_0x5dc1a9(0xc3)]==_0x2aaa2b){const _0x8e7a40={'coin':_0x6411de[_0x5dc1a9(0xc3)],'number':_0x5b5708,'breakeven':_0x1a97ef,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')['find']({'coin':_0x6411de[_0x5dc1a9(0xc3)]})[_0x5dc1a9(0x131)](_0x8e7a40)[_0x5dc1a9(0xd1)]();}}}});}async function placeOrder(_0xea1f1f){const _0x374af6=_0x34fc8d,_0x37ec13=config[_0x374af6(0xb8)]==_0x374af6(0xbb)?_0x374af6(0xbb):_0x374af6(0x11a);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS['LOCKED']);while(transactionDetectionOngoing){await sleep(0x64);}logger['debug'](_0x374af6(0x1e0)+_0xea1f1f[_0x374af6(0x195)](_0x19fbe9=>_0x19fbe9[_0x374af6(0xc3)])[_0x374af6(0xab)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x374af6(0x6c);let _0x49dc24=![];lastOrders=[];const _0x1d4f83=config[_0x374af6(0x21d)];for(const _0x7f226f of _0xea1f1f){let _0x4e4e18,_0x1d0386,_0x32930a,_0x2cebec,_0x4bc006,_0x1e3eed=_0x7f226f[_0x374af6(0x227)];logger[_0x374af6(0x113)](_0x374af6(0x7b)+_0x7f226f['coin']+'\x20'+_0x7f226f['number']+'\x20'+_0x7f226f[_0x374af6(0xcf)]+'\x20'+_0x7f226f[_0x374af6(0x238)]+'%\x20'+_0x7f226f[_0x374af6(0x233)]+'%\x20'+(0x64*_0x7f226f[_0x374af6(0x166)])[_0x374af6(0x20f)](0x2)+_0x374af6(0x72)+_0x1d4f83[_0x374af6(0x20f)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent['filter'](_0x1ff2b5=>_0x1ff2b5!==_0x7f226f[_0x374af6(0xc3)]);const _0x4741ae=currentCoins[_0x374af6(0x1b6)](_0x3fb03b=>_0x3fb03b[_0x374af6(0xc3)]==_0x7f226f['coin']);_0x4741ae&&(_0x4741ae[_0x374af6(0x191)]=_0x7f226f[_0x374af6(0x190)]);try{const _0x4de108=await exchange[_0x374af6(0x1f2)](_0x1e3eed);_0x4e4e18=_0x7f226f[_0x374af6(0x9e)]?0x1/_0x7f226f[_0x374af6(0xcf)]:_0x7f226f[_0x374af6(0xcf)],_0x1d0386=_0x4de108[_0x374af6(0x1eb)],_0x32930a=_0x4de108[_0x374af6(0x241)];_0x7f226f[_0x374af6(0x9e)]?(_0x2cebec=_0x7f226f[_0x374af6(0x24c)]=='buy'?'sell':_0x374af6(0xe4),_0x4bc006=Math[_0x374af6(0x15a)](_0x7f226f[_0x374af6(0x101)])/_0x4e4e18):(_0x2cebec=_0x7f226f[_0x374af6(0x24c)],_0x4bc006=Math[_0x374af6(0x15a)](_0x7f226f[_0x374af6(0x101)]));_0x37ec13==_0x374af6(0x11a)&&(config[_0x374af6(0xb8)]==_0x374af6(0x147)&&(_0x4e4e18=_0x2cebec==_0x374af6(0xe4)?_0x1d0386:_0x32930a),config[_0x374af6(0xb8)]==_0x374af6(0x127)&&(_0x4e4e18=_0x2cebec==_0x374af6(0xe4)?_0x32930a:_0x1d0386));_0x4bc006=formatResult(_0x4bc006,0x8),_0x4e4e18=formatResult(_0x4e4e18,0x8);const _0x8b6bcb=_0x2cebec==_0x374af6(0x1bf)?config[_0x374af6(0x239)]?String[_0x374af6(0x242)]('0x'+config[_0x374af6(0x239)])+'\x20':'':config['emojibuy']?String[_0x374af6(0x242)]('0x'+config[_0x374af6(0x15d)])+'\x20':'',_0x211e2d=_0x37ec13==_0x374af6(0xbb)?'Market':config['ordertype']==_0x374af6(0x147)?'Limit\x20(high-margin)':_0x374af6(0x12e),_0x299223=(Math[_0x374af6(0x1aa)](Math[_0x374af6(0xdf)]()*0x35a4e900)+0x5f5e100)[_0x374af6(0x8a)]();lastOrders[_0x374af6(0xc5)]({'customId':_0x299223,'symbol':_0x1e3eed,'coin':_0x7f226f[_0x374af6(0xc3)],'amount':_0x4bc006,'price':_0x4e4e18,'side':_0x2cebec,'reverse':_0x7f226f['reverse'],'filled':0x0});const _0x29cd3a=config[_0x374af6(0x117)]==_0x374af6(0xef)?{'operatorId':operatorId}:undefined;let _0x494de5;_0x37ec13==_0x374af6(0xbb)?_0x2cebec=='buy'&&[_0x374af6(0x110),'Bitget',_0x374af6(0xe1),_0x374af6(0x1e4),_0x374af6(0x9b),_0x374af6(0x1fe)][_0x374af6(0x8d)](config['exchange'])?_0x494de5=await exchange[_0x374af6(0xf3)](_0x1e3eed,_0x37ec13,_0x2cebec,_0x4bc006,_0x4e4e18,_0x29cd3a):_0x494de5=await exchange[_0x374af6(0xf3)](_0x1e3eed,_0x37ec13,_0x2cebec,_0x4bc006,undefined,_0x29cd3a):_0x494de5=await exchange[_0x374af6(0xf3)](_0x1e3eed,_0x37ec13,_0x2cebec,_0x4bc006,_0x4e4e18,_0x29cd3a);const _0x4397f4=lastOrders['length']-0x1;if(_0x4397f4>=0x0&&lastOrders[_0x4397f4][_0x374af6(0xc1)]==_0x299223){lastOrders[_0x4397f4]['orderId']=_0x494de5['id'];if(_0x494de5['amount'])lastOrders[_0x4397f4][_0x374af6(0xe5)]=_0x494de5[_0x374af6(0xe5)];if(_0x494de5[_0x374af6(0xb7)])lastOrders[_0x4397f4]['price']=_0x494de5[_0x374af6(0xb7)];lastOrders[_0x4397f4][_0x374af6(0x232)]=_0x494de5[_0x374af6(0x232)];}if(_0x494de5['amount'])_0x4bc006=_0x494de5['amount'];if(_0x494de5['price'])_0x4e4e18=_0x494de5['price'];if(_0x37ec13==_0x374af6(0xbb))logHistory(_0x374af6(0x167),''+_0x8b6bcb+_0x211e2d+_0x374af6(0x108)+_0x1e3eed+'\x20'+_0x2cebec+'\x20#'+formatResult(_0x4bc006,0x8)+'\x20@'+formatResult(_0x4e4e18,0x8));else logHistory('order',''+_0x8b6bcb+_0x211e2d+_0x374af6(0x108)+_0x1e3eed+'\x20'+_0x2cebec+'\x20#'+formatResult(_0x4bc006,0x8)+'\x20@'+formatResult(_0x4e4e18,0x8));logger[_0x374af6(0x113)]('ID:\x20'+_0x494de5['id']+'\x20|\x20Custom\x20ID:\x20'+_0x299223);if(config[_0x374af6(0x71)]!=0x0){let _0x1f57ce=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x1f57ce=cooldownTracker[_0x374af6(0x1b4)]();const _0x357a5b=getTimeStamp();cooldownTracker['push'](_0x357a5b);if(_0x1f57ce){const _0xf1f44a=fns[_0x374af6(0x1d7)](new Date(_0x357a5b),new Date(_0x1f57ce));if(_0xf1f44a<cooldownInterval){logHistory('error',_0x374af6(0x6d)+config[_0x374af6(0x71)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x374af6(0x20e)+cooldownPeriod/(0xe10*0x3e8)+_0x374af6(0x1c4)),coolingDown=!![];break;}}}}catch(_0x2056b9){if(_0x2056b9['toString']()[_0x374af6(0x8d)](_0x374af6(0x75)))lastOrders=lastOrders['filter'](_0x58a92c=>_0x58a92c[_0x374af6(0x227)]!=_0x1e3eed),logHistory('error',_0x374af6(0x23c)+_0x1e3eed),_0x49dc24=!![];else{if(_0x2056b9[_0x374af6(0x8a)]()[_0x374af6(0x8d)](_0x374af6(0x24b)))lastOrders=lastOrders[_0x374af6(0x226)](_0xd2b9c=>_0xd2b9c[_0x374af6(0x227)]!=_0x1e3eed),logHistory('error',_0x374af6(0x1fd)+_0x1e3eed),_0x49dc24=!![];else{if(_0x2056b9[_0x374af6(0x8a)]()[_0x374af6(0x8d)](_0x374af6(0xaf)))lastOrders=lastOrders[_0x374af6(0x226)](_0x419029=>_0x419029[_0x374af6(0x227)]!=_0x1e3eed),logHistory(_0x374af6(0x8f),'Order\x20is\x20invalid:\x20'+_0x1e3eed),logger['debug'](_0x2056b9),_0x49dc24=!![];else _0x2056b9[_0x374af6(0x8a)]()[_0x374af6(0x8d)](_0x374af6(0x92))?(lastOrders=lastOrders[_0x374af6(0x226)](_0x431204=>_0x431204['symbol']!=_0x1e3eed),logHistory('error',_0x374af6(0x23c)+_0x1e3eed),_0x49dc24=!![]):(lastOrders=lastOrders[_0x374af6(0x226)](_0x49cff8=>_0x49cff8[_0x374af6(0x227)]!=_0x1e3eed),await handleError(_0x2056b9,_0x374af6(0x150),_0x1e3eed));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x374af6(0x17f)]>0x0){const _0x56df55=config[_0x374af6(0xb8)]==_0x374af6(0xbb)?validateOrderTimeout*0x3c*0x3e8:config[_0x374af6(0x235)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x324af8=_0x374af6;validateOrders(_0x324af8(0x1df));},_0x56df55);}else unlockOrders();_0x49dc24&&config[_0x374af6(0x176)]&&(logHistory(_0x374af6(0x8f),_0x374af6(0x205)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success','Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config['headless']&&logHistory(_0x374af6(0x8f),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x374af6(0x1a7)]&&(!config[_0x374af6(0x176)]&&(config[_0x374af6(0xb8)]==_0x374af6(0xbb)?logHistory(_0x374af6(0x8f),_0x374af6(0x1a4)):logHistory(_0x374af6(0x8f),_0x374af6(0x23d))));}}function persistOpenOrders(_0x445804){const _0x196dcc=_0x34fc8d,_0x109f20={...config,'openOrders':_0x445804};let _0x4a0a7a=dbConfig[_0x196dcc(0x154)]('bot')[_0x196dcc(0x1b6)]({'botID':botID})[_0x196dcc(0x116)]();_0x4a0a7a&&dbConfig[_0x196dcc(0x154)](_0x196dcc(0xf5))[_0x196dcc(0x1b6)]({'botID':botID})[_0x196dcc(0x131)](_0x109f20)[_0x196dcc(0xd1)]();}function restoreOrders(){const _0x232153=_0x34fc8d;let _0x5a7b08;config[_0x232153(0xd6)]&&allOpenOrders[_0x232153(0xcc)](_0x583205=>{const _0xfc37da=_0x232153,_0x12a86c=config['openOrders'][_0xfc37da(0x1b6)](_0x44524f=>_0x44524f[_0xfc37da(0x1d0)]==_0x583205['id']);_0x12a86c&&(lastOrders[_0xfc37da(0xc5)](_0x12a86c),_0x5a7b08=_0x583205['timestamp']);});if(lastOrders[_0x232153(0x17f)]>0x0){setLockOrders(ORDERS[_0x232153(0xd2)]),validateOrdersState=_0x232153(0x10a),allOrdersPlaced=!![];const _0x4138c0=new Date()[_0x232153(0x8b)](),_0x4f082f=config[_0x232153(0xb8)]==_0x232153(0xbb)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x5a7b08+_0x4f082f>_0x4138c0){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x89af0c=_0x232153;validateOrders(_0x89af0c(0x1df));},_0x5a7b08+_0x4f082f-_0x4138c0);}else validateOrders(_0x232153(0x1df));}}async function sendMetricsTelegram(){const _0x3f825c=_0x34fc8d;if(!coinsLoaded){process[_0x3f825c(0x197)]({'telegrammsg':_0x3f825c(0x122)},_0x532a91=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3eeb98='';if(config[_0x3f825c(0xc6)])_0x3eeb98=_0x3f825c(0x16d)+config[_0x3f825c(0xfd)]+_0x3f825c(0xbd);else _0x3eeb98=_0x3f825c(0x199)+botID+_0x3f825c(0xbd);const _0x113bd7=config[_0x3f825c(0x1be)],_0x586afc=config[_0x3f825c(0xe9)],_0x368e55=getKPIs(_0x3f825c(0x1be)),_0x4f1930=getKPIs(_0x3f825c(0xe9),_0x586afc),_0xcccd2e=getKPIs('net-basecoin'),_0x335a2c=getKPIs('net-fiat',_0x586afc),_0x29e0ec=getKPIs(_0x3f825c(0xd5)),_0x13c0f9=getKPIs(_0x3f825c(0x217),_0x586afc);_0x113bd7[_0x3f825c(0x8d)](_0x586afc)?(_0x3eeb98+=_0x3f825c(0x111),_0x3eeb98+=_0x3f825c(0xca)+_0x113bd7+':\x20'+_0x368e55['value']+'\x20('+_0x368e55['change']+_0x3f825c(0x7c),_0x3eeb98+=_0x3f825c(0x231)+_0x113bd7+':\x20'+_0xcccd2e[_0x3f825c(0x116)]+'\x20('+_0xcccd2e[_0x3f825c(0x1cc)]+_0x3f825c(0x7c),_0x3eeb98+=_0x3f825c(0x11f)+_0x113bd7+':\x20'+_0x29e0ec['value']+'\x20('+_0x29e0ec[_0x3f825c(0x1cc)]+'%)\x0a',_0x3eeb98+=_0x3f825c(0xf2)):(_0x3eeb98+=_0x3f825c(0x111),_0x3eeb98+='Value\x20'+_0x113bd7+':\x20'+_0x368e55[_0x3f825c(0x116)]+'\x20('+_0x368e55[_0x3f825c(0x1cc)]+_0x3f825c(0x7c),_0x3eeb98+='Value\x20'+_0x586afc+':\x20'+_0x4f1930[_0x3f825c(0x116)]+'\x20('+_0x4f1930[_0x3f825c(0x1cc)]+_0x3f825c(0x7c),_0x3eeb98+='Net\x20'+_0x113bd7+':\x20'+_0xcccd2e['value']+'\x20('+_0xcccd2e[_0x3f825c(0x1cc)]+_0x3f825c(0x7c),_0x3eeb98+='Net\x20'+_0x586afc+':\x20'+_0x335a2c[_0x3f825c(0x116)]+'\x20('+_0x335a2c[_0x3f825c(0x1cc)]+_0x3f825c(0x7c),_0x3eeb98+=_0x3f825c(0x11f)+_0x113bd7+':\x20'+_0x29e0ec['value']+'\x20('+_0x29e0ec[_0x3f825c(0x1cc)]+'%)\x0a',_0x3eeb98+=_0x3f825c(0x11f)+_0x586afc+':\x20'+_0x13c0f9['value']+'\x20('+_0x13c0f9[_0x3f825c(0x1cc)]+_0x3f825c(0x7c),_0x3eeb98+=_0x3f825c(0xf2)),process[_0x3f825c(0x197)]({'telegrammsg':_0x3eeb98},_0x3d88b1=>{});}async function sendPortfolioTelegram(){const _0x2bb67f=_0x34fc8d;if(!coinsLoaded||!currentCoins[0x0][_0x2bb67f(0x238)]){process[_0x2bb67f(0x197)]({'telegrammsg':_0x2bb67f(0x122)},_0x1abc37=>{});return;}let _0x394e66='';if(config[_0x2bb67f(0xc6)])_0x394e66='<b>'+config[_0x2bb67f(0xfd)]+_0x2bb67f(0x1f0);else _0x394e66=_0x2bb67f(0x199)+botID+_0x2bb67f(0x1f0);_0x394e66+=_0x2bb67f(0x111),_0x394e66+=_0x2bb67f(0x84),_0x394e66+=_0x2bb67f(0x12f),_0x394e66+=_0x2bb67f(0x84),currentCoins['forEach'](_0x108574=>{const _0xa9b09b=_0x2bb67f;_0x394e66+=_0x108574[_0xa9b09b(0xc3)][_0xa9b09b(0x1d3)](0x7)+'|\x20'+formatPad(_0x108574[_0xa9b09b(0x238)],0x2,0x6)+'|\x20'+formatPad(_0x108574[_0xa9b09b(0x233)],0x2,0x6)+'|\x20'+formatPad(_0x108574[_0xa9b09b(0x166)]*0x64,0x2,0x6)+'\x0a';}),_0x394e66+=_0x2bb67f(0xf2),process[_0x2bb67f(0x197)]({'telegrammsg':_0x394e66},_0x1cb0aa=>{});}function formatPad(_0x3dd3de,_0x5abd9f,_0x3a5dc9){const _0x96ac14=_0x34fc8d,_0x1d2546=formatResultString(_0x3dd3de,_0x5abd9f);return _0x1d2546?_0x1d2546['padStart'](_0x3a5dc9):''[_0x96ac14(0x95)](_0x3a5dc9);}function logHistory(_0x38c23e,_0x3d3d6c,_0x28b8e0=''){const _0x45a971=_0x34fc8d;logger['full'](''+_0x3d3d6c);let _0x7b41aa={'time':getTimeStamp(),'type':_0x38c23e,'event':_0x3d3d6c};dbLogs['get']('logs')['push'](_0x7b41aa)['write']();if(_0x28b8e0=='')_0x28b8e0=_0x3d3d6c;proxyEmit(_0x45a971(0x1a0),{'log':_0x7b41aa,'summary':_0x28b8e0}),process[_0x45a971(0x197)]({'telegram':{..._0x7b41aa,'botname':config[_0x45a971(0xfd)],'showname':config[_0x45a971(0xc6)]}},_0x247032=>{});}function emitHistory(_0x4affa4={}){const _0x2d004a=_0x34fc8d;Object['keys'](_0x4affa4)[_0x2d004a(0x17f)]==0x0&&(_0x4affa4={'type':[_0x2d004a(0x167),_0x2d004a(0x1a0)],'event':'','page':0x1});if(_0x4affa4['type'][_0x2d004a(0x8d)](_0x2d004a(0x1a0)))_0x4affa4['type'][_0x2d004a(0x164)](_0x4affa4[_0x2d004a(0x9d)][_0x2d004a(0x11d)](_0x2d004a(0x1a0)),0x1,_0x2d004a(0x8f),_0x2d004a(0x100),'success');if(dbLogs[_0x2d004a(0x148)]('logs')[_0x2d004a(0x116)]()){let _0x10206b=dbLogs[_0x2d004a(0x154)](_0x2d004a(0x13e))[_0x2d004a(0x226)](_0x229a4a=>{const _0x2978cc=_0x2d004a;if(_0x4affa4[_0x2978cc(0x9d)]['length']==0x0)return![];else return _0x4affa4[_0x2978cc(0x9d)][_0x2978cc(0x8d)](_0x229a4a[_0x2978cc(0x9d)]);})[_0x2d004a(0x226)](_0x24f4f3=>{const _0x10a423=_0x2d004a;if(_0x4affa4[_0x10a423(0x1a0)]=='')return!![];else return _0x24f4f3[_0x10a423(0x1a0)][_0x10a423(0xb6)]()[_0x10a423(0x8d)](_0x4affa4[_0x10a423(0x1a0)][_0x10a423(0xb6)]());})['sortBy'](_0x2d004a(0x13f)),_0xd8747c=_0x10206b[_0x2d004a(0x116)]()['length'];_0x10206b=_0x10206b[_0x2d004a(0x9e)]()[_0x2d004a(0x85)]((_0x4affa4[_0x2d004a(0x143)]-0x1)*logPageSize,_0x4affa4[_0x2d004a(0x143)]*logPageSize-0x1)[_0x2d004a(0x9e)]()[_0x2d004a(0x116)](),proxyEmit(_0x2d004a(0xf1),{'logs':_0x10206b,'total':_0xd8747c});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x3fb9a8){const _0x1ddbdd=_0x34fc8d;if(dbLogs[_0x1ddbdd(0x148)](_0x1ddbdd(0x13e))[_0x1ddbdd(0x116)]()){const _0x4583f6=dbLogs[_0x1ddbdd(0x154)](_0x1ddbdd(0x13e))[_0x1ddbdd(0x14e)](_0x1ddbdd(0x13f))['filter'](_0x2bd1ad=>{const _0x30fb0a=_0x1ddbdd;return _0x2bd1ad[_0x30fb0a(0x9d)]==_0x30fb0a(0x167);})[_0x1ddbdd(0x116)]();dbLogs['get']('logs')[_0x1ddbdd(0x1e8)]()[_0x1ddbdd(0xd1)](),dbLogs[_0x1ddbdd(0x154)](_0x1ddbdd(0x13e))[_0x1ddbdd(0x131)](_0x4583f6)[_0x1ddbdd(0xd1)](),emitHistory(_0x3fb9a8);}}async function pauseBot(_0x142d0e=pauseBotIntervalShort,_0x3992d3,_0x4ae00f,_0x3c1ebe=![]){const _0x1a8144=_0x34fc8d,_0x3d96b7=new Date()[_0x1a8144(0x8b)]();if(!lastErrorShown||_0x3d96b7-lastErrorShown>=_0x142d0e){lastErrorShown=_0x3d96b7;if(!lastBotPause)lastBotPause=_0x3d96b7,consecutivePauses=0x1;else{if(_0x3d96b7-lastBotPause-_0x142d0e<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x3c1ebe){logHistory(_0x1a8144(0x8f),_0x3992d3+_0x1a8144(0x22d)),await killBot();return;}else logHistory(_0x1a8144(0x8f),_0x3992d3+pauseBotMsg),_0x142d0e=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x3d96b7;}_0x4ae00f?logger[_0x1a8144(0x113)]('('+consecutivePauses+')\x20'+_0x3992d3+_0x1a8144(0x1cd),_0x4ae00f):logger[_0x1a8144(0x113)]('('+consecutivePauses+')\x20'+_0x3992d3);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x142d0e),botPaused=![],_0x142d0e==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x38e4b0=_0x34fc8d;botPaused=!![],await sleep(0x3e8),process[_0x38e4b0(0x197)]({'stop':_0x38e4b0(0x124)},_0x913250=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x41d7b0,_0x333423,_0x3f5dd8=![]){const _0x3b093e=_0x34fc8d;if(botPaused)return;let _0x34f066;const _0x39f5c1=config[_0x3b093e(0x117)]||'Exchange';if(_0x333423)logger[_0x3b093e(0x113)](_0x3b093e(0x1d5)+_0x333423);const _0x28b9b5=()=>{const _0x3d5744=_0x3b093e;loading[_0x3d5744(0x8f)]=_0x3d5744(0x13d),emitLoadingProgress();};if(_0x41d7b0[_0x3b093e(0x8a)]()[_0x3b093e(0x8d)](_0x3b093e(0x11e)))logHistory('error',_0x39f5c1+_0x3b093e(0x10c)),_0x28b9b5();else{if(_0x41d7b0['toString']()[_0x3b093e(0x8d)](_0x3b093e(0x1a8)))logHistory('error',_0x39f5c1+_0x3b093e(0x9f)),_0x28b9b5();else{if(_0x41d7b0['toString']()['includes'](_0x3b093e(0xae)))config['apiPassword']?_0x34f066=_0x39f5c1+_0x3b093e(0x22e):_0x34f066=_0x39f5c1+_0x3b093e(0x102),logHistory('error',_0x34f066+_0x3b093e(0xff)),_0x28b9b5();else{if(_0x41d7b0['toString']()['includes'](_0x3b093e(0x129)))logHistory(_0x3b093e(0x8f),_0x39f5c1+_0x3b093e(0xaa)),_0x28b9b5();else{if(!_0x3f5dd8)await handleError(_0x41d7b0,null);}}}}}async function handleError(_0x18ed01,_0x3249c3,_0xf6f5f4=''){const _0x42b901=_0x34fc8d;if(botPaused)return;let _0x2a23ca;const _0x3a1236=config[_0x42b901(0x117)]||'Exchange';if(_0x3249c3)logger[_0x42b901(0x113)](_0x42b901(0x1d5)+_0x3249c3);if(_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)](_0x42b901(0x107)))_0x2a23ca=_0x3a1236+_0x42b901(0x172),await pauseBot(undefined,_0x2a23ca,_0x18ed01);else{if(_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)](_0x42b901(0x1b7)))_0x2a23ca=_0x3a1236+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x2a23ca,_0x18ed01);else{if(_0x18ed01['toString']()['includes'](_0x42b901(0x128))||_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)](_0x42b901(0xf7)))_0x2a23ca=_0x3a1236+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x2a23ca,_0x18ed01['toString']());else{if(_0x18ed01[_0x42b901(0x8a)]()['includes'](_0x42b901(0xdc)))_0x2a23ca=_0x3a1236+_0x42b901(0x230),await pauseBot(undefined,_0x2a23ca,_0x18ed01[_0x42b901(0x8a)]());else{if(_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)](_0x42b901(0xe6)))_0x2a23ca=_0x3a1236+_0x42b901(0x157),await pauseBot(undefined,_0x2a23ca,_0x18ed01[_0x42b901(0x8a)]());else{if(_0x18ed01['toString']()[_0x42b901(0xb6)]()[_0x42b901(0x8d)](_0x42b901(0x22f))||_0x18ed01[_0x42b901(0x8a)]()['toLowerCase']()['includes'](_0x42b901(0x211)))_0x2a23ca=_0x42b901(0x144),await pauseBot(undefined,_0x2a23ca,_0x18ed01[_0x42b901(0x8a)]());else{if(_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)](_0x42b901(0x1d1)))_0x2a23ca=_0x3a1236+_0x42b901(0x90),await pauseBot(undefined,_0x2a23ca,_0x18ed01[_0x42b901(0x8a)]());else{if(_0x18ed01 instanceof ccxt[_0x42b901(0x17b)])_0x2a23ca=_0x3a1236+'\x20network\x20error:\x20'+_0x18ed01[_0x42b901(0x8a)](),logger[_0x42b901(0x113)](_0x42b901(0x109),_0x18ed01),await pauseBot(undefined,_0x2a23ca,_0x18ed01);else{if(_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)]('API-key\x20format\x20invalid'))logHistory(_0x42b901(0x8f),_0x3a1236+_0x42b901(0xa2)),logHistory(_0x42b901(0x8f),_0x42b901(0x23a)),await killBot();else{if(_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x42b901(0x8f),_0x3a1236+_0x42b901(0x106)),logHistory(_0x42b901(0x8f),_0x42b901(0x23a)),await killBot();else{if(_0x18ed01[_0x42b901(0x8a)]()['includes'](_0x42b901(0xae))&&_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)](_0x42b901(0x1c9)))_0x2a23ca=_0x3a1236+_0x42b901(0x1bd),await pauseBot(undefined,_0x2a23ca,_0x18ed01,!![]);else{if(_0x18ed01['toString']()['includes']('AuthenticationError'))config[_0x42b901(0x23e)]?_0x2a23ca=_0x3a1236+_0x42b901(0x22e):_0x2a23ca=_0x3a1236+_0x42b901(0x102),logHistory(_0x42b901(0x8f),_0x2a23ca),logHistory(_0x42b901(0x8f),_0x42b901(0x23a)),await killBot();else{if(_0x18ed01['toString']()[_0x42b901(0x8d)](_0x42b901(0x129)))logHistory(_0x42b901(0x8f),_0x3a1236+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x42b901(0x8f),_0x42b901(0x23a)),await killBot();else{if(_0x18ed01[_0x42b901(0x8a)]()[_0x42b901(0x8d)](_0x42b901(0x1ce)))logHistory(_0x42b901(0x8f),_0x42b901(0x120)+_0xf6f5f4),logger[_0x42b901(0x113)](_0x42b901(0x114),_0x18ed01);else{if(_0x18ed01 instanceof ccxt[_0x42b901(0x1ab)]){_0x2a23ca=_0x3a1236+_0x42b901(0x1c7)+_0x18ed01[_0x42b901(0x8a)]();if(_0xf6f5f4)_0x2a23ca+='\x0aSymbol(s):\x20'+_0xf6f5f4;await pauseBot(undefined,_0x2a23ca,_0x18ed01);}else{_0x2a23ca=_0x42b901(0x178)+_0x18ed01[_0x42b901(0x8a)]();if(_0xf6f5f4)_0x2a23ca+=_0x42b901(0x1af)+_0xf6f5f4;await pauseBot(undefined,_0x2a23ca);}}}}}}}}}}}}}}}}function _0x5a83(_0xbd6ee0,_0x211d3f){const _0xc2b49f=_0x1f46();return _0x5a83=function(_0xad9709,_0x5a62b7){_0xad9709=_0xad9709-0x6c;let _0x1f46de=_0xc2b49f[_0xad9709];return _0x1f46de;},_0x5a83(_0xbd6ee0,_0x211d3f);}function decryptRSA(_0x2bfe82,_0x385280){const _0x590738=_0x34fc8d,_0x1eadbb=forge[_0x590738(0x194)][_0x590738(0x18e)](_0x2bfe82),_0x2152ab=_0x1eadbb['decrypt'](forge[_0x590738(0x8e)][_0x590738(0x23b)](_0x385280),_0x590738(0xf6),{'md':forge['md'][_0x590738(0x115)]['create'](),'mgf1':{'md':forge['md'][_0x590738(0x115)][_0x590738(0x1ec)]()}});return _0x2152ab;}async function withRetry(_0x22a18d,_0x1bdb9b){const _0x359174=_0x34fc8d;let _0x553127=![],_0xcd10b5=0x0,_0xf4aa15,_0xf9ee5a;while(_0xcd10b5<maxRetries){try{_0xf4aa15=await _0x1bdb9b();break;}catch(_0x252a3c){_0xf9ee5a=_0x252a3c,!_0x553127?(_0x553127=!![],logger['debug'](_0x359174(0x14b)+_0x22a18d+':',_0x252a3c[_0x359174(0x8a)]())):await sleep(retryInterval);}_0xcd10b5++;}if(_0xcd10b5==0x0)return _0xf4aa15;if(_0xcd10b5>=maxRetries)throw _0xf9ee5a;else return logger[_0x359174(0x113)](_0x359174(0xc2)+_0xcd10b5+'\x20attempts'),_0xf4aa15;}function formatResult(_0xee028a,_0x19eaba){const _0x3d6479=_0x34fc8d;return parseFloat(_0xee028a[_0x3d6479(0x20f)](_0x19eaba));}function formatResultTruncate(_0x4c625e,_0x37fe91){const _0x8e7789=_0x34fc8d;let _0x3814d6=formatResultString(_0x4c625e,0xa),_0x4a28b9=_0x3814d6[_0x8e7789(0x11d)]('.');return _0x4a28b9!=-0x1&&(_0x3814d6=_0x3814d6[_0x8e7789(0x85)](0x0,_0x4a28b9+_0x37fe91+0x1)),Number(_0x3814d6);}function formatResultString(_0x430abd,_0x12054c){const _0x94e20f=_0x34fc8d;let _0x251e36;if(!(''+_0x430abd)[_0x94e20f(0x8d)]('e'))_0x251e36=+(Math[_0x94e20f(0xa9)](_0x430abd+'e+'+_0x12054c)+'e-'+_0x12054c);else{let _0x1e769a=(''+_0x430abd)[_0x94e20f(0x18f)]('e'),_0x292c0a='';+_0x1e769a[0x1]+_0x12054c>0x0&&(_0x292c0a='+'),_0x251e36=+(Math[_0x94e20f(0xa9)](+_0x1e769a[0x0]+'e'+_0x292c0a+(+_0x1e769a[0x1]+_0x12054c))+'e-'+_0x12054c);}return Number(_0x251e36)[_0x94e20f(0x20f)](_0x12054c);}function getServerTime(){const _0x311d5c=_0x34fc8d,_0x338583=new Date();return _0x338583[_0x311d5c(0x1fb)]()+'/'+(_0x338583[_0x311d5c(0x24a)]()+0x1)[_0x311d5c(0x8a)]()[_0x311d5c(0x95)](0x2,'0')+'/'+_0x338583[_0x311d5c(0x12b)]()[_0x311d5c(0x8a)]()['padStart'](0x2,'0')+'\x20'+_0x338583[_0x311d5c(0x130)]()[_0x311d5c(0x8a)]()[_0x311d5c(0x95)](0x2,'0')+':'+_0x338583[_0x311d5c(0xec)]()[_0x311d5c(0x8a)]()[_0x311d5c(0x95)](0x2,'0')+':'+_0x338583['getSeconds']()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x5023c6=_0x34fc8d,_0x40211e=shiftedTime();return _0x40211e['getFullYear']()+'/'+(_0x40211e['getMonth']()+0x1)[_0x5023c6(0x8a)]()[_0x5023c6(0x95)](0x2,'0')+'/'+_0x40211e[_0x5023c6(0x12b)]()[_0x5023c6(0x8a)]()['padStart'](0x2,'0')+'\x20'+_0x40211e[_0x5023c6(0x130)]()[_0x5023c6(0x8a)]()[_0x5023c6(0x95)](0x2,'0')+':'+_0x40211e[_0x5023c6(0xec)]()[_0x5023c6(0x8a)]()[_0x5023c6(0x95)](0x2,'0')+':'+_0x40211e[_0x5023c6(0x1c6)]()[_0x5023c6(0x8a)]()[_0x5023c6(0x95)](0x2,'0');}function getDate(){const _0x293beb=_0x34fc8d,_0x163ba0=shiftedTime();return _0x163ba0[_0x293beb(0x1fb)]()+'/'+(_0x163ba0['getMonth']()+0x1)[_0x293beb(0x8a)]()[_0x293beb(0x95)](0x2,'0')+'/'+_0x163ba0[_0x293beb(0x12b)]()[_0x293beb(0x8a)]()[_0x293beb(0x95)](0x2,'0');}function getHour(){const _0x4d2722=_0x34fc8d,_0xb4bf02=shiftedTime();return _0xb4bf02['getHours']()[_0x4d2722(0x8a)]()['padStart'](0x2,'0');}function sleep(_0x322413){return new Promise(_0x4fa06d=>setTimeout(_0x4fa06d,_0x322413));}function shiftedTime(){const _0x5e6250=_0x34fc8d,_0x4097ec=new Date();let _0x7f47d2=_0x4097ec;if(config&&config[_0x5e6250(0xc8)]!==0x0)_0x7f47d2=fns['add'](_0x4097ec,{'hours':config[_0x5e6250(0xc8)]});return _0x7f47d2;}function timer(_0x42d50e){const _0x1ffa0b=_0x34fc8d,_0x204797=new Date();!lasttime?console[_0x1ffa0b(0x10e)](getTimeStamp()+_0x1ffa0b(0x19d),_0x42d50e,_0x204797):console[_0x1ffa0b(0x10e)](getTimeStamp()+_0x1ffa0b(0x19d),_0x42d50e,(_0x204797-lasttime)/0x3e8),lasttime=_0x204797;}