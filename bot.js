const _0x246bd7=_0x61a0;(function(_0x3188e8,_0x1426e8){const _0x42e5bb=_0x61a0,_0x47c897=_0x3188e8();while(!![]){try{const _0x2d8437=parseInt(_0x42e5bb(0x186))/0x1+parseInt(_0x42e5bb(0x21c))/0x2+-parseInt(_0x42e5bb(0x1f2))/0x3*(parseInt(_0x42e5bb(0x1ce))/0x4)+parseInt(_0x42e5bb(0x161))/0x5+parseInt(_0x42e5bb(0x20b))/0x6+-parseInt(_0x42e5bb(0x18c))/0x7+-parseInt(_0x42e5bb(0x1e8))/0x8;if(_0x2d8437===_0x1426e8)break;else _0x47c897['push'](_0x47c897['shift']());}catch(_0x39bb75){_0x47c897['push'](_0x47c897['shift']());}}}(_0x82d7,0x3550e));const _0x567165=function(){let _0x50d342=!![];return function(_0xb8d977,_0x40cb2c){const _0x33e7b5=_0x50d342?function(){const _0x490099=_0x61a0;if(_0x40cb2c){const _0x4b3fad=_0x40cb2c[_0x490099(0x255)](_0xb8d977,arguments);return _0x40cb2c=null,_0x4b3fad;}}:function(){};return _0x50d342=![],_0x33e7b5;};}(),_0xbc315e=_0x567165(this,function(){const _0x30b885=_0x61a0;return _0xbc315e[_0x30b885(0x163)]()[_0x30b885(0x26d)](_0x30b885(0x1ef))[_0x30b885(0x163)]()[_0x30b885(0x290)](_0xbc315e)[_0x30b885(0x26d)](_0x30b885(0x1ef));});_0xbc315e();'use strict';const ccxt=require(_0x246bd7(0x1a8)),low=require(_0x246bd7(0x251)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),forge=require(_0x246bd7(0x237)),util=require('util'),argv=require(_0x246bd7(0x1f8))(process[_0x246bd7(0x16c)][_0x246bd7(0x11f)](0x2))[_0x246bd7(0x16c)],path=require(_0x246bd7(0x273)),axios=require(_0x246bd7(0x157));let exchange,gTicker={},gChange={};const usdBasecoins=['USD',_0x246bd7(0x1ff),_0x246bd7(0x109),_0x246bd7(0x18b),_0x246bd7(0x162),_0x246bd7(0x23e)],excludedExchanges=[_0x246bd7(0x1f1)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x246bd7(0x115)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});function _0x61a0(_0x4b3641,_0x8fe40f){const _0x4a916c=_0x82d7();return _0x61a0=function(_0xbc315e,_0x567165){_0xbc315e=_0xbc315e-0xda;let _0x82d7f4=_0x4a916c[_0xbc315e];return _0x82d7f4;},_0x61a0(_0x4b3641,_0x8fe40f);}let lockOrders=ORDERS[_0x246bd7(0x126)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x246bd7(0x249)+pauseBotInterval/0xea60+_0x246bd7(0x2a5),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x246bd7(0x105))[_0x246bd7(0x283)],environment=require(_0x246bd7(0x105))[_0x246bd7(0x1ad)]||_0x246bd7(0x198),botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x246bd7(0x169)](botID)&&(console['log'](_0x246bd7(0x1cd)+botID+_0x246bd7(0x167)),killBot());const userID=process[_0x246bd7(0x16c)][0x3]||'',configpath=userID?_0x246bd7(0xe1)+userID+'/':_0x246bd7(0xe1),logspath=userID?'./logs/'+userID+'/':_0x246bd7(0x1a9),loggerfile=fs['createWriteStream'](logspath+_0x246bd7(0x21b),{'flags':'a'});!fs[_0x246bd7(0x1c6)](configpath)&&fs[_0x246bd7(0x2a3)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+_0x246bd7(0x1d0),logfile=configpath+'bot-'+botID+_0x246bd7(0x277),performancefile=configpath+'bot-'+botID+_0x246bd7(0x16d),coinresultsfile=configpath+_0x246bd7(0x1c4)+botID+_0x246bd7(0x281),settingsfile=configpath+_0x246bd7(0x148),securefile=configpath+_0x246bd7(0x112),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x246bd7(0x1b7)]({'logs':[],'version':serverversion})[_0x246bd7(0x11e)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x246bd7(0x1b7)]({'data':[],'version':serverversion})[_0x246bd7(0x11e)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x246bd7(0x1b7)]({'coins':{},'version':serverversion})[_0x246bd7(0x11e)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x10d36e=>{console['log'](_0x10d36e);},'simple':_0x4c04ae=>{const _0x56ec5d=_0x246bd7;console[_0x56ec5d(0x19e)](_0x4c04ae),loggerfile[_0x56ec5d(0x11e)](util['format'](_0x4c04ae)+'\x0a');},'full':async(_0x3844a8,_0x3bda66='')=>{const _0x36d887=_0x246bd7;let _0x415abc;if(config[_0x36d887(0x147)])_0x415abc=getTimeStamp()+':\x20'+config[_0x36d887(0x222)]+_0x36d887(0x199)+_0x3844a8;else _0x415abc=getTimeStamp()+_0x36d887(0x16b)+botID+_0x36d887(0x199)+_0x3844a8;console[_0x36d887(0x19e)](_0x415abc),loggerfile[_0x36d887(0x11e)](util[_0x36d887(0x282)](_0x415abc)+'\x0a'),_0x3bda66&&(console['log'](_0x3bda66),loggerfile[_0x36d887(0x11e)](util[_0x36d887(0x282)](_0x3bda66)+'\x0a'));},'debug':async(_0x2e2830,_0x2375b5='')=>{const _0xe161e9=_0x246bd7;let _0x30f86b;if(config[_0xe161e9(0x147)])_0x30f86b=getTimeStamp()+':\x20'+config['botname']+_0xe161e9(0x292)+_0x2e2830;else _0x30f86b=getTimeStamp()+_0xe161e9(0x16b)+botID+'\x20>\x20[DEBUG]\x20'+_0x2e2830;if(debugging)console['log'](_0x30f86b);loggerfile[_0xe161e9(0x11e)](util['format'](_0x30f86b)+'\x0a');if(_0x2375b5){if(debugging)console['log'](_0x2375b5);loggerfile[_0xe161e9(0x11e)](util[_0xe161e9(0x282)](_0x2375b5)+'\x0a');}}};process['on'](_0x246bd7(0xdd),function(_0xac6f84){const _0x6c9d82=_0x246bd7;handleError(_0xac6f84[_0x6c9d82(0xe6)],_0x6c9d82(0xdd));});settings['timeshift']!=config[_0x246bd7(0x25b)]&&updateTimeshift(settings[_0x246bd7(0x25b)]);settings[_0x246bd7(0x1da)]!=config['onepagemode']&&updateOnepagemode(settings[_0x246bd7(0x1da)]);(settings['marketcapApi']&&!config[_0x246bd7(0x2a7)]||!settings['marketcapApi']&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x246bd7(0x2a7)]);process['send']({'started':'running'},_0x53beea=>{}),initializeProcessListeners();function proxyEmit(_0x1352ee,_0x40af05=null){const _0x1940d9=_0x246bd7;process[_0x1940d9(0x1ba)]({'function':_0x1352ee,'args':_0x40af05},_0x24711c=>{});}function initializeProcessListeners(){process['on']('message',_0xebd241=>{const _0x49d321=_0x61a0;switch(Object['keys'](_0xebd241)[0x0]){case'timeshift':_0xebd241[_0x49d321(0x25b)]!=undefined&&(settings[_0x49d321(0x25b)]=_0xebd241['timeshift'],updateTimeshift(settings['timeshift']));break;case _0x49d321(0x1da):_0xebd241[_0x49d321(0x1da)]!=undefined&&(settings[_0x49d321(0x1da)]=_0xebd241['onepagemode'],updateOnepagemode(settings[_0x49d321(0x1da)]));break;case _0x49d321(0x2a7):_0xebd241[_0x49d321(0x2a7)]!=undefined&&(settings[_0x49d321(0x2a7)]=_0xebd241['marketcapApi'],updateMarketcapApi(settings[_0x49d321(0x2a7)]));break;case _0x49d321(0x1aa):_0xebd241[_0x49d321(0x1aa)]!=undefined&&(bots=JSON[_0x49d321(0x108)](_0xebd241[_0x49d321(0x1aa)]),proxyEmit(_0x49d321(0x1aa),bots));break;case _0x49d321(0x197):switch(_0xebd241[_0x49d321(0x197)]){case _0x49d321(0x1bc):initclient();break;case _0x49d321(0x1a5):toggleBotMode();break;case _0x49d321(0x1a3):emitHistory(_0xebd241[_0x49d321(0xfa)]);break;case _0x49d321(0x260):deleteHistoryAlerts(_0xebd241[_0x49d321(0xfa)]);break;case'getPortfolio':getPortfolio(_0xebd241[_0x49d321(0xfa)]);break;case _0x49d321(0x1e7):storeConfiguration(_0xebd241[_0x49d321(0xfa)]);break;case _0x49d321(0x179):storeHeadless(_0xebd241[_0x49d321(0xfa)]);break;case'storeFiat':storeFiat(_0xebd241['args']);break;case _0x49d321(0x275):resetHistory();break;case _0x49d321(0x100):getStartingBalances(getNormalizedPerformance());break;case _0x49d321(0x106):placeOrder(_0xebd241[_0x49d321(0xfa)]);break;case _0x49d321(0x1e0):cancelLoading();break;case _0x49d321(0x13a):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x49d321(0x235):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x25c28c=![]){const _0x175c95=_0x246bd7;logger[_0x175c95(0x149)](_0x175c95(0x1a6)+(_0x25c28c?_0x175c95(0x27f):_0x175c95(0x28e))+_0x175c95(0x14c)+config[_0x175c95(0x1f5)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x175c95(0x29f)]!=''&&config[_0x175c95(0x29f)]!=_0x175c95(0x187)){loadingProgress=0x0;if(_0x25c28c){await initExchange();const _0x2440b0=await testAPI();if(!_0x2440b0)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x175c95(0x160),emittedConfiguration()),initialPerformanceStored=![];}const _0x6992f5=await getCoins();[currentCoins,currentCoinsAll]=_0x6992f5,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x175c95(0x149)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x175c95(0x1ec)]==0x0&&allOpenOrders[_0x175c95(0x1ec)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x2b65d4=![]){const _0x312273=_0x246bd7;logger[_0x312273(0x149)]('Resuming\x20('+(_0x2b65d4?_0x312273(0x11d):'complete')+')\x20|\x20exchange:\x20'+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x2b65d4){getBalances();return;}coinsLoaded=![];if(config[_0x312273(0x29f)]!=''&&config[_0x312273(0x29f)]!=_0x312273(0x187)){loadingProgress=0x1;const _0x45cad6=await getCoins();[currentCoins,currentCoinsAll]=_0x45cad6,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x312273(0x149)](_0x312273(0x203)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x312273(0x1ec)]==0x0&&allOpenOrders[_0x312273(0x1ec)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x5f0555){const _0x3d6aee=_0x246bd7;let _0x5b6927=![];if(_0x5f0555)_0x5b6927=!![];const _0x184397=_0x5b6927?_0x5f0555:currentCoins,_0x2625de=_0x184397[_0x3d6aee(0x180)](_0x392d38=>_0x392d38[_0x3d6aee(0x239)]);if(!config[_0x3d6aee(0x2a7)]||!_0x5b6927&&!config[_0x3d6aee(0x1c8)]||_0x2625de[_0x3d6aee(0x1ec)]==0x0)return;let _0x14b72e=null;try{_0x14b72e=await axios['get']('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x3d6aee(0x2a7)]},'params':{'symbol':_0x2625de[_0x3d6aee(0x163)]()}});}catch(_0x99ee19){_0x14b72e=null,_0x99ee19[_0x3d6aee(0x163)]()['includes']('status\x20code\x20401')?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x3d6aee(0x160),emittedConfiguration()),logHistory(_0x3d6aee(0x12c),_0x3d6aee(0x15d))):(logHistory(_0x3d6aee(0x12c),_0x3d6aee(0x171)+schedulerInterval/(0x3c*0x3e8)+_0x3d6aee(0x2a5)),logger[_0x3d6aee(0x149)](_0x3d6aee(0x154),_0x99ee19[_0x3d6aee(0x163)]()+_0x3d6aee(0x223)+_0x99ee19[_0x3d6aee(0x2ab)]));}let _0xc8940d=!![];if(_0x14b72e){let _0x4d13be=0x0;const _0x2e584b=_0x14b72e[_0x3d6aee(0x22f)];_0x2625de['forEach'](_0x4a7e5f=>{const _0x23e7dc=_0x3d6aee;if(_0x2e584b[_0x23e7dc(0x22f)][_0x4a7e5f][0x0]&&_0x2e584b[_0x23e7dc(0x22f)][_0x4a7e5f][0x0]['quote'][_0x23e7dc(0x2a1)][_0x23e7dc(0xf9)])_0x4d13be+=_0x2e584b[_0x23e7dc(0x22f)][_0x4a7e5f][0x0][_0x23e7dc(0x168)][_0x23e7dc(0x2a1)]['market_cap'];else{if(![_0x23e7dc(0x1fc),'USD'][_0x23e7dc(0x1c7)](_0x4a7e5f)){if(_0x5b6927)logHistory(_0x23e7dc(0x12c),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x4a7e5f+_0x23e7dc(0x19f));else{const _0x2bb8d8=config[_0x23e7dc(0x1a7)][_0x23e7dc(0x229)](_0x43a671=>_0x43a671[_0x23e7dc(0x239)]==_0x4a7e5f);_0x2bb8d8&&!_0x2bb8d8[_0x23e7dc(0x152)]&&_0x2bb8d8['slider']==-0x1&&(_0xc8940d=![],logHistory(_0x23e7dc(0x12c),_0x23e7dc(0x146)),logger[_0x23e7dc(0x149)](_0x23e7dc(0x1c9)+_0x4a7e5f));}}}});if(!_0xc8940d)return;_0x2625de[_0x3d6aee(0x189)](_0x4baa94=>{const _0x502d4b=_0x3d6aee,_0x339dae=_0x2e584b[_0x502d4b(0x22f)][_0x4baa94][0x0]?_0x2e584b[_0x502d4b(0x22f)][_0x4baa94][0x0][_0x502d4b(0x168)]['USD'][_0x502d4b(0xf9)]:0x0;if(_0x5b6927){const _0x4c46a1=_0x5f0555[_0x502d4b(0x229)](_0x4ba757=>_0x4ba757[_0x502d4b(0x239)]==_0x4baa94);_0x4c46a1&&(_0x4c46a1[_0x502d4b(0x20c)]=_0x339dae);}else{const _0x45f177=currentCoins['find'](_0x47dbe6=>_0x47dbe6['coin']==_0x4baa94);_0x45f177&&(_0x45f177['marketcap']=_0x339dae);const _0x1a1ba2=currentCoinsAll[_0x502d4b(0x229)](_0x2618d0=>_0x2618d0[_0x502d4b(0x239)]==_0x4baa94);_0x1a1ba2&&(_0x1a1ba2[_0x502d4b(0x20c)]=_0x339dae);}}),!_0x5b6927&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x504704=_0x246bd7,_0x5ccbc3=0x2;let _0x5163c7=0x0,_0x406b9b=0x0,_0x2af5f9=0x0,_0x233d91=0x0,_0x9dfd1b=0x0;config[_0x504704(0x1a7)][_0x504704(0x189)](_0x398382=>{const _0x4ce4ef=_0x504704;if(!_0x398382[_0x4ce4ef(0x152)]){_0x2af5f9++,_0x5163c7+=_0x398382['slider'];if(_0x398382[_0x4ce4ef(0x243)]===-0x1){_0x5163c7++;const _0x4c7ae0=currentCoinsAll[_0x4ce4ef(0x229)](_0x543933=>_0x543933['coin']==_0x398382[_0x4ce4ef(0x239)]);_0x4c7ae0&&(_0x233d91+=_0x4c7ae0['marketcap'],_0x9dfd1b+=Math[_0x4ce4ef(0xfe)](_0x4c7ae0[_0x4ce4ef(0x20c)]));}if(_0x398382[_0x4ce4ef(0x243)]!==-0x1)_0x406b9b++;}});let _0x50cc9c;const _0x39bc4e=0x64-_0x5163c7,_0x3930cc=_0x2af5f9-_0x406b9b;_0x50cc9c=_0x3930cc===0x0?_0x5163c7:Math[_0x504704(0x25a)](0x64,_0x5163c7),config[_0x504704(0x1a7)]['forEach'](_0xa6c959=>{const _0x51610a=_0x504704,_0x542c4c=currentCoinsAll[_0x51610a(0x229)](_0x51a191=>_0x51a191[_0x51610a(0x239)]==_0xa6c959[_0x51610a(0x239)]);_0x542c4c&&(_0xa6c959[_0x51610a(0x20c)]=_0x542c4c['marketcap']);if(!_0xa6c959[_0x51610a(0x152)]){if(_0x50cc9c<=0x64){if(_0xa6c959['slider']===-0x1){if(_0x233d91!==0x0&&config[_0x51610a(0x1c8)]){if(_0x542c4c){if(config[_0x51610a(0x1c8)]==_0x51610a(0x20c))_0xa6c959[_0x51610a(0x1e4)]=(_0x39bc4e/(_0x233d91/_0x542c4c[_0x51610a(0x20c)]))[_0x51610a(0x263)](_0x5ccbc3);else config[_0x51610a(0x1c8)]==_0x51610a(0x140)&&(_0xa6c959[_0x51610a(0x1e4)]=(_0x39bc4e/(_0x9dfd1b/Math[_0x51610a(0xfe)](_0x542c4c[_0x51610a(0x20c)])))[_0x51610a(0x263)](_0x5ccbc3));}}}}}}),updateConfig();}function updateConfig(){const _0x16c15f=_0x246bd7;let _0xe4d1cd=dbConfig[_0x16c15f(0x19d)](_0x16c15f(0x26e))[_0x16c15f(0x229)]({'botID':botID})[_0x16c15f(0x24d)]();_0xe4d1cd&&dbConfig[_0x16c15f(0x19d)]('bot')[_0x16c15f(0x229)]({'botID':botID})[_0x16c15f(0x1d6)](config)['write']();}function logMemory(){const _0x1d0af4=_0x246bd7;if(environment!=_0x1d0af4(0xdf))return;const _0x1aa153=process[_0x1d0af4(0x253)]()['heapUsed']/0x400/0x400;logger[_0x1d0af4(0x149)](_0x1d0af4(0x18e)+process[_0x1d0af4(0x1b9)]+_0x1d0af4(0x202)+formatResult(_0x1aa153,0x1)+_0x1d0af4(0x26f));}async function startScheduler(){const _0x5adee4=_0x246bd7,_0x4c3fde=shiftedTime()[_0x5adee4(0x12b)]();getMarketCap(),loadSymbols(),_0x4c3fde==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x252457=![]){const _0x3b09ac=_0x246bd7;logger['debug'](_0x3b09ac(0x1ee));if(!_0x252457)while(lockOrders!=ORDERS[_0x3b09ac(0x126)]||coolingDown){await sleep(0x3e8);}process['send']({'stop':_0x3b09ac(0x14d)},_0x231545=>{});}async function initExchange(_0x29df38=config[_0x246bd7(0x1f5)],_0x36fefe=config['apiKey'],_0x277884=config['apiSecret'],_0x41bff4=config[_0x246bd7(0x236)],_0x264e7b=config[_0x246bd7(0x12d)]){const _0x659271=_0x246bd7;if(exchange){logger[_0x659271(0x149)](_0x659271(0x1a0));return;}logger[_0x659271(0x149)](_0x659271(0x252));!supportedExchanges()[_0x659271(0x1c7)](_0x29df38)&&(logHistory(_0x659271(0x12c),_0x659271(0xdc)+_0x29df38+_0x659271(0xda)),killBot());const _0x3d0bcd=ccxt[_0x659271(0x224)][_0x29df38['toLowerCase']()];exchange=new _0x3d0bcd({'apiKey':_0x36fefe,'secret':_0x277884,'options':{'defaultType':_0x659271(0xed)}});if(_0x41bff4)exchange[_0x659271(0x254)]=_0x41bff4;if(exchange[_0x659271(0x206)][_0x659271(0x12d)])exchange['setSandboxMode'](_0x264e7b);}function updateExchange(_0x10ef4b,_0x379bf3,_0x180b01=null){const _0x2558e6=_0x246bd7;exchange['apiKey']=_0x10ef4b,exchange[_0x2558e6(0x1af)]=_0x379bf3,exchange[_0x2558e6(0x254)]=_0x180b01,logger['debug']('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x4c4092=_0x246bd7;let _0x3dc313=config[_0x4c4092(0x101)]==_0x4c4092(0x21e)?_0x4c4092(0x21e):config[_0x4c4092(0x101)]=='PAXG'?_0x4c4092(0x125):_0x4c4092(0x29b),_0xef123=allSymbols['includes'](_0x3dc313+_0x4c4092(0x201))?_0x4c4092(0x2a1):allSymbols['includes'](_0x3dc313+_0x4c4092(0x14e))?_0x4c4092(0x18b):'EUR',_0xdc02d4=allSymbols['includes'](_0x3dc313+'/EUR')?'EUR':_0xef123;enableFiatToggle=!![],_0xef123==_0x4c4092(0x1fc)&&(enableFiatToggle=![],storeFiat(_0x4c4092(0x1fc))),_0xdc02d4!='EUR'&&(enableFiatToggle=![],storeFiat('USD')),stablecoins={'eur':{'coin':''+_0x3dc313+_0xdc02d4,'symbol':_0x3dc313+'/'+_0xdc02d4},'usd':{'coin':''+_0x3dc313+_0xef123,'symbol':_0x3dc313+'/'+_0xef123}};}async function initwsCcxt(){const _0x778506=_0x246bd7;initCycle++;const _0x4bcc78=initCycle;let _0x5bd9f3=[];config[_0x778506(0x1a7)]['forEach'](_0x187b65=>{const _0x36c842=_0x778506;if(!_0x187b65[_0x36c842(0x152)]&&_0x187b65[_0x36c842(0x239)]!=config['basecoin'])_0x5bd9f3[_0x36c842(0x12a)](_0x187b65['symbol']);});if(!_0x5bd9f3['includes'](stablecoins[_0x778506(0x27c)][_0x778506(0x24a)]))_0x5bd9f3['push'](stablecoins[_0x778506(0x27c)][_0x778506(0x24a)]);if(!_0x5bd9f3['includes'](stablecoins[_0x778506(0x1b3)][_0x778506(0x24a)]))_0x5bd9f3[_0x778506(0x12a)](stablecoins['usd']['symbol']);loadCoins(_0x5bd9f3),_0x5bd9f3=validateSymbols(_0x5bd9f3);const _0x5d788e=async _0x3f0ad4=>{const _0x434613=_0x778506;let _0x581c2e;try{const _0x263121=await getTickers(_0x3f0ad4);Object[_0x434613(0x184)](_0x263121)[_0x434613(0x189)](_0xd3da74=>{const _0x24b576=_0x434613;_0x581c2e=_0xd3da74[0x1][_0x24b576(0x24a)],gTicker[noslash(_0x581c2e)]=_0xd3da74[0x1][_0x24b576(0x164)],gChange[_0x581c2e]=_0xd3da74[0x1]['percentage'];});}catch(_0x4ff621){await handleError(_0x4ff621,'initTickers()',_0x581c2e);}},_0x5d5783=async _0x248aec=>{const _0x358744=_0x778506;while(initCycle==_0x4bcc78){if(!botPaused)try{const _0xb20da3=await exchange[_0x358744(0x1e3)](_0x248aec);gTicker[noslash(_0xb20da3[0x0]['symbol'])]=_0xb20da3[0x0][_0x358744(0x1cc)];}catch(_0x7bbf5e){if(!exchangeStopped)await handleError(_0x7bbf5e,_0x358744(0xdb),_0x248aec);}else await sleep(0x64);}},_0x378d9a=async _0xf89a57=>{const _0x4de743=_0x778506;while(initCycle==_0x4bcc78){if(!botPaused)try{const _0x173cd4=await exchange[_0x4de743(0x215)](_0xf89a57),_0xe933cf=_0x173cd4[_0x4de743(0x218)]();gTicker[noslash(_0xe933cf['symbol'])]=_0xe933cf['price'];}catch(_0x5cc930){if(!exchangeStopped)await handleError(_0x5cc930,_0x4de743(0x15a),_0xf89a57[_0x4de743(0x163)]());}else await sleep(0x64);}},_0x178fd7=async _0x2c6f4f=>{const _0x440324=_0x778506;while(initCycle==_0x4bcc78){if(!botPaused){let _0x578dec;try{await sleep(0x3c*0x3e8);const _0x2ea26e=await getTickers(_0x2c6f4f);Object['entries'](_0x2ea26e)[_0x440324(0x189)](_0xb010e4=>{const _0x44aa12=_0x440324;_0x578dec=_0xb010e4[0x1][_0x44aa12(0x24a)],gChange[_0x578dec]=_0xb010e4[0x1][_0x44aa12(0x116)];});}catch(_0x20ee02){if(!exchangeStopped)await handleError(_0x20ee02,_0x440324(0x121),_0x578dec);}}else await sleep(0x64);}},_0x21b760=async _0x1e45a6=>{const _0x36a145=_0x778506;while(initCycle==_0x4bcc78){if(!botPaused)try{const _0x5dd4ad=await exchange['watchOrders'](_0x1e45a6);initCycle==_0x4bcc78&&_0x5dd4ad['forEach'](_0x103f7a=>{updateNumberCoinsCcxt(_0x103f7a);});}catch(_0x26fa1a){if(!exchangeStopped)await handleError(_0x26fa1a,_0x36a145(0x23d));}else await sleep(0x64);}};_0x5d788e(_0x5bd9f3),_0x178fd7(_0x5bd9f3),exchange[_0x778506(0x206)]['watchTradesForSymbols']&&!(config['exchange']==_0x778506(0x1fa)&&_0x5bd9f3[_0x778506(0x1ec)]>0xa)?_0x378d9a(_0x5bd9f3):_0x5bd9f3[_0x778506(0x189)](_0x98afe=>{_0x5d5783(_0x98afe);}),_0x5bd9f3['forEach'](_0xaa4321=>{_0x21b760(_0xaa4321);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x4aa8e6){const _0xc70d40=_0x246bd7;let _0x1a9149={};try{if(config[_0xc70d40(0x1f5)]!=_0xc70d40(0x165))_0x1a9149=await exchange[_0xc70d40(0x27e)](_0x4aa8e6);else for(const _0x4096d2 of _0x4aa8e6){const _0x234aa3=await exchange['fetchTicker'](_0x4096d2);_0x1a9149[_0x4096d2]=_0x234aa3;}return _0x1a9149;}catch(_0x4eccda){throw _0x4eccda;}}function setBlockTransactionDetection(_0xbad8d2){const _0x337802=_0x246bd7;blockTransactionDetection=_0xbad8d2,logger[_0x337802(0x149)](_0x337802(0x174)+blockTransactionDetection);}async function detectLiquidityChange(_0x3d1977=0x0){const _0xa962e7=_0x246bd7;transactionDetectionOngoing=!![];try{const _0x1ebc02=await getCoins(_0x3d1977),[_0x2026b1,_0x209cc3]=_0x1ebc02;let _0x46d7b2=[];currentCoins['forEach'](_0x4ba2a3=>{const _0x5494be=_0x61a0,_0x51b0ba=_0x2026b1[_0x5494be(0x229)](_0x38385f=>_0x38385f[_0x5494be(0x239)]==_0x4ba2a3['coin']);if(_0x51b0ba){if(_0x4ba2a3[_0x5494be(0x10e)]!=_0x51b0ba[_0x5494be(0x10e)]){let _0x5d78a8;if(_0x4ba2a3[_0x5494be(0x239)]!=config[_0x5494be(0x101)]){const _0x46eae3=gTicker[noslash(_0x4ba2a3[_0x5494be(0x24a)])];_0x5d78a8=_0x4ba2a3[_0x5494be(0x153)]?0x1/_0x46eae3:_0x46eae3;}else _0x5d78a8=0x1;_0x46d7b2[_0x5494be(0x12a)]({'coin':_0x4ba2a3['coin'],'symbol':_0x4ba2a3[_0x5494be(0x24a)],'price':_0x5d78a8,'number':Number(formatResult(_0x51b0ba['number']-_0x4ba2a3[_0x5494be(0x10e)],0x8)),'basecoinvalue':_0x5d78a8*(_0x51b0ba[_0x5494be(0x10e)]-_0x4ba2a3['number'])});}}});if(_0x46d7b2[_0xa962e7(0x1ec)]>0x0&&!blockTransactionDetection){for(const _0x2cb027 of _0x46d7b2){if(config[_0xa962e7(0x123)]){logger[_0xa962e7(0x149)](_0xa962e7(0x14a)+_0x2cb027['basecoinvalue']+'\x20|\x20highest\x20fee:\x20'+lastFees[_0xa962e7(0x1d5)]);if(lastFees[_0xa962e7(0x1d5)]==0x0||Math['abs'](_0x2cb027[_0xa962e7(0x156)])>lastFees['highest']*0x3){if(config[_0xa962e7(0x123)]=='update-liquidity'){delete _0x2cb027[_0xa962e7(0x24a)],delete _0x2cb027[_0xa962e7(0x156)];let _0x379fa8=[],_0x29d866=[...config[_0xa962e7(0x20f)]]||[],_0x2a1d83=config[_0xa962e7(0x20f)];_0x29d866[_0xa962e7(0x102)]((_0x2138ad,_0x166768)=>_0x2138ad[_0xa962e7(0xf1)]>_0x166768[_0xa962e7(0xf1)]?-0x1:_0x166768['date']>_0x2138ad[_0xa962e7(0xf1)]?0x1:0x0);const _0x2db9d3=getDate();if(_0x29d866[0x0]){const _0x3c3f9b=fns[_0xa962e7(0x108)](_0x29d866[0x0][_0xa962e7(0xf1)],_0xa962e7(0x18d),new Date()),_0x5662de=fns[_0xa962e7(0x108)](_0x2db9d3,_0xa962e7(0x18d),new Date());if(fns[_0xa962e7(0x173)](_0x3c3f9b,_0x5662de)){_0x379fa8=_0x29d866[0x0][_0xa962e7(0x13e)];const _0x15a4b6=_0x379fa8[_0xa962e7(0x229)](_0x1be5c7=>_0x1be5c7[_0xa962e7(0x239)]==_0x2cb027[_0xa962e7(0x239)]);_0x15a4b6?(_0x15a4b6[_0xa962e7(0x10e)]+=_0x2cb027[_0xa962e7(0x10e)],_0x15a4b6['number']==0x0&&(_0x379fa8=_0x379fa8[_0xa962e7(0x297)](_0x4176f9=>{const _0xac3019=_0xa962e7;return _0x4176f9[_0xac3019(0x239)]!=_0x2cb027[_0xac3019(0x239)];}))):_0x379fa8[_0xa962e7(0x12a)](_0x2cb027);const _0x37e18f=_0x2a1d83[_0xa962e7(0x229)](_0x4b3782=>_0x4b3782[_0xa962e7(0xf1)]==_0x2db9d3);_0x37e18f[_0xa962e7(0x13e)]=_0x379fa8;}else _0x2a1d83[_0xa962e7(0x12a)]({'date':_0x2db9d3,'changes':[_0x2cb027]});}const _0x2648d9=_0x2a1d83[_0xa962e7(0x229)](_0xabdcdc=>_0xabdcdc['date']==_0x2db9d3);if(_0x2648d9){let _0x1dd615=!![];_0x2648d9[_0xa962e7(0x13e)][_0xa962e7(0x189)](_0x42fc82=>{if(_0x42fc82['number']!=0x0)_0x1dd615=![];}),_0x1dd615&&(_0x2a1d83=_0x2a1d83['filter'](_0x3d999c=>{const _0x42bc74=_0xa962e7;return _0x3d999c[_0x42bc74(0xf1)]!=_0x2db9d3;}));}let _0x134ef0=dbConfig['get'](_0xa962e7(0x26e))[_0xa962e7(0x229)]({'botID':botID})[_0xa962e7(0x24d)]();_0x134ef0&&(dbConfig[_0xa962e7(0x19d)](_0xa962e7(0x26e))['find']({'botID':botID})['assign']({'liquidity':_0x2a1d83})['write'](),config['liquidity']=_0x2a1d83);logHistory(_0xa962e7(0x1e6),_0xa962e7(0xef)+Math[_0xa962e7(0xea)](_0x2cb027[_0xa962e7(0x10e)])+'\x20'+_0x2cb027[_0xa962e7(0x239)]+'\x20'+(_0x2cb027['number']>0x0?_0xa962e7(0x27b):_0xa962e7(0x1e1))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());const _0x4a46ce=getNormalizedPerformance();emitPerformance(_0x4a46ce),getStartingBalances(_0x4a46ce),logger[_0xa962e7(0x149)](_0xa962e7(0x1e9));}else config['autoliquidity']==_0xa962e7(0x216)&&(config[_0xa962e7(0x279)]?(await storeHeadless({'headless':![]}),logHistory(_0xa962e7(0x1e6),_0xa962e7(0xef)+Math[_0xa962e7(0xea)](_0x2cb027[_0xa962e7(0x10e)])+'\x20'+_0x2cb027[_0xa962e7(0x239)]+'\x20'+(_0x2cb027['number']>0x0?_0xa962e7(0x27b):_0xa962e7(0x1e1))+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0xa962e7(0x149)](_0xa962e7(0xef)+Math[_0xa962e7(0xea)](_0x2cb027['number'])+'\x20'+_0x2cb027['coin']+'\x20'+(_0x2cb027[_0xa962e7(0x10e)]>0x0?'added':_0xa962e7(0x1e1))+_0xa962e7(0xf3)));}else logger[_0xa962e7(0x149)](_0xa962e7(0x1f9)+Math[_0xa962e7(0xea)](_0x2cb027[_0xa962e7(0x10e)])+'\x20'+_0x2cb027[_0xa962e7(0x239)]+'\x20'+(_0x2cb027[_0xa962e7(0x10e)]>0x0?_0xa962e7(0x27b):_0xa962e7(0x1e1)));}else logger[_0xa962e7(0x149)](_0xa962e7(0xef)+Math[_0xa962e7(0xea)](_0x2cb027[_0xa962e7(0x10e)])+'\x20'+_0x2cb027[_0xa962e7(0x239)]+'\x20'+(_0x2cb027['number']>0x0?_0xa962e7(0x27b):_0xa962e7(0x1e1))+_0xa962e7(0x1c1));}currentCoins=_0x2026b1,currentCoinsAll=_0x209cc3;}}catch(_0x22d9f3){if(!exchangeStopped)await handleError(_0x22d9f3,_0xa962e7(0x17f));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x332501=_0x246bd7;try{markets=await exchange[_0x332501(0x134)](!![]),allSymbols=[],Object[_0x332501(0x184)](markets)[_0x332501(0x189)](_0x302ea9=>{const _0x2704a4=_0x332501;_0x302ea9[0x1]['active']&&_0x302ea9[0x1][_0x2704a4(0xed)]&&allSymbols[_0x2704a4(0x12a)](_0x302ea9[0x0]);});}catch(_0x432ef6){markets?logger[_0x332501(0x149)]('Error\x20in\x20loadSymbols():\x20'+_0x432ef6[_0x332501(0x163)]()):(loading[_0x332501(0x1c0)]=!![],_0x432ef6['toString']()[_0x332501(0x288)]()['includes']('timestamp')||_0x432ef6[_0x332501(0x163)]()[_0x332501(0x288)]()[_0x332501(0x1c7)](_0x332501(0x20a))?(logHistory(_0x332501(0x12c),_0x332501(0x138)),loading[_0x332501(0x12c)]=_0x332501(0x17b)):handleErrorNoStop(_0x432ef6,_0x332501(0x17a),!![]),logHistory(_0x332501(0x12c),_0x332501(0xe3)),logHistory('error',_0x332501(0x2a6)+loadCoinsRetryInterval/0xea60+_0x332501(0x26a)),logger[_0x332501(0x149)]('Error\x20details:',_0x432ef6),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x3f6164){const _0x343308=_0x246bd7;let _0x55f2ef=[];return _0x3f6164[_0x343308(0x189)](_0x59421d=>{const _0x3985f3=_0x343308;!allSymbols[_0x3985f3(0x1c7)](_0x59421d)?(logHistory(_0x3985f3(0x12c),'Invalid\x20symbol:\x20'+_0x59421d+_0x3985f3(0xe8)),loading[_0x3985f3(0x133)]=!![],emitLoadingProgress()):_0x55f2ef[_0x3985f3(0x12a)](_0x59421d);}),_0x55f2ef;}async function initclient(){const _0x56cccc=_0x246bd7;proxyEmit(_0x56cccc(0x160),emittedConfiguration()),proxyEmit(_0x56cccc(0x1d8),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1288b3=getNormalizedPerformance();emitPerformance(_0x1288b3),getStartingBalances(_0x1288b3);}async function toggleBotMode(){const _0x32881d=_0x246bd7;let _0x30a638=dbConfig[_0x32881d(0x19d)]('bot')[_0x32881d(0x229)]({'botID':botID})[_0x32881d(0x24d)]();if(_0x30a638){const _0x129541=!_0x30a638['headless'];dbConfig[_0x32881d(0x19d)](_0x32881d(0x26e))[_0x32881d(0x229)]({'botID':botID})['assign']({'headless':_0x129541})[_0x32881d(0x11e)](),config[_0x32881d(0x279)]=_0x129541,proxyEmit(_0x32881d(0x160),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3a7f27=_0x246bd7;process[_0x3a7f27(0x1ba)]({'updatebotmanager':!![]},_0x3d50f4=>{}),logger[_0x3a7f27(0x149)]('Headless:\x20'+config[_0x3a7f27(0x279)]);}async function loadCoins(_0x1128d4){const _0x25759e=_0x246bd7;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x48d6d3,_0x323dd7=0x0,_0x1c82c9=0x0;_0x1128d4[_0x25759e(0x189)](_0x1b1880=>{const _0x1fad95=_0x25759e;loading[_0x1fad95(0x141)]['push'](_0x1b1880);}),loadingCanceled=![];let _0x33cb2c=![];while(_0x48d6d3!=_0x1128d4[_0x25759e(0x1ec)]+maxLoadingProgress){_0x48d6d3=loadingProgress,_0x1128d4[_0x25759e(0x189)](_0x5c5758=>{const _0x596f0c=_0x25759e;if(gTicker[noslash(_0x5c5758)]){loading[_0x596f0c(0x141)]=loading[_0x596f0c(0x141)]['filter'](_0x5970e5=>_0x5970e5!=_0x5c5758);if(!watchedSymbols['includes'](_0x5c5758))watchedSymbols[_0x596f0c(0x12a)](_0x5c5758);_0x48d6d3++;}}),loading[_0x25759e(0xf6)]=Math[_0x25759e(0x110)](_0x48d6d3/(_0x1128d4[_0x25759e(0x1ec)]+maxLoadingProgress)*0x64);loading[_0x25759e(0xf6)]!=0x64&&(_0x1c82c9>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x1c82c9>0x78*0x5&&!_0x33cb2c&&(_0x33cb2c=!![],logHistory(_0x25759e(0x12c),_0x25759e(0x127)+loading[_0x25759e(0x141)]['join'](',\x20')+_0x25759e(0x1de)),logHistory(_0x25759e(0x12c),_0x25759e(0x2a6)+loadCoinsRetryInterval/0xea60+_0x25759e(0x26a)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x25759e(0x1c0)]=!![],emitLoadingProgress();break;}else _0x323dd7!=loading[_0x25759e(0xf6)]&&(_0x323dd7=loading['progress'],emitLoadingProgress()),_0x1c82c9++,await sleep(0xc8);}_0x48d6d3==_0x1128d4[_0x25759e(0x1ec)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x25759e(0x1ba)]({'status':_0x25759e(0x120),'live':'running'},_0x21f1a4=>{}),_0x33cb2c&&logHistory(_0x25759e(0x1e6),_0x25759e(0x10b)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x3697e8=_0x246bd7;proxyEmit(_0x3697e8(0x160),{...emittedConfiguration(),'configstate':_0x3697e8(0x1bb)});}function emitLoadingProgress(){const _0x40fdd9=_0x246bd7;proxyEmit(_0x40fdd9(0x122),loading);}async function getFiat(){const _0x5e46a6=_0x246bd7;let _0x1aad45=gTicker[stablecoins[_0x5e46a6(0x27c)][_0x5e46a6(0x239)]],_0xd34ee8=gTicker[stablecoins[_0x5e46a6(0x1b3)][_0x5e46a6(0x239)]];return{'eur':Number(_0x1aad45),'usd':Number(_0xd34ee8)};}function capitalize(_0x58fd2f){const _0x3cd387=_0x246bd7;return _0x58fd2f[_0x3cd387(0x25f)](0x0,0x1)[_0x3cd387(0x17c)]()+_0x58fd2f[_0x3cd387(0x25f)](0x1);}function supportedExchanges(){const _0x43e402=_0x246bd7,_0x23e597=['ws',_0x43e402(0x27e),'fetchTicker','watchTrades',_0x43e402(0x11a),'cancelOrder','createOrder',_0x43e402(0x23c),_0x43e402(0xff)];let _0x24cccc=[],_0x1fc18e=[],_0x1c3f2e=ccxt[_0x43e402(0x224)][_0x43e402(0x1d8)];_0x1c3f2e[_0x43e402(0x189)](_0x58fd7e=>{const _0x4d77b7=_0x43e402;try{const _0x5df913=new ccxt[(_0x4d77b7(0x224))][_0x58fd7e]();_0x1fc18e[_0x4d77b7(0x12a)](_0x5df913);}catch(_0x515a03){}}),_0x1fc18e[_0x43e402(0x189)](_0x4fed2c=>{const _0x5c147f=_0x43e402;let _0x546560=0x0;_0x23e597[_0x5c147f(0x189)](_0x17e614=>{const _0x382ea8=_0x5c147f;_0x17e614 in _0x4fed2c[_0x382ea8(0x206)]&&_0x4fed2c[_0x382ea8(0x206)][_0x17e614]&&_0x546560++;}),_0x546560==_0x23e597[_0x5c147f(0x1ec)]&&(!excludedExchanges[_0x5c147f(0x1c7)](_0x4fed2c['id'])&&_0x24cccc[_0x5c147f(0x12a)](capitalize(_0x4fed2c['id'])));});let _0x17783f=[];return _0x1c3f2e[_0x43e402(0x189)](_0x520f93=>{const _0x5ce1b4=_0x43e402;_0x520f93=capitalize(_0x520f93);if(!_0x24cccc[_0x5ce1b4(0x1c7)](_0x520f93))_0x17783f[_0x5ce1b4(0x12a)](_0x520f93);}),_0x24cccc;}function setStartDatePerformance(){const _0x26df82=_0x246bd7;if(config&&config[_0x26df82(0x20f)][0x0][_0x26df82(0x13e)]['length']!=0x0){const _0x1e71bc=config[_0x26df82(0x20f)][0x0][_0x26df82(0x13e)];dbPerformance[_0x26df82(0x19d)]('data')[_0x26df82(0x229)]({'date':config[_0x26df82(0x291)]})[_0x26df82(0x1d6)]({'coins':_0x1e71bc})[_0x26df82(0x11e)]();}}function calculatePnL(_0x2b68f8,_0x367cc1,_0x44dbe4,_0x5aef31,_0x333e11,_0xbd96ef){const _0x510a98=_0x246bd7;!_0x2b68f8[_0x510a98(0x1c7)]('/'+config['basecoin'])&&(_0x44dbe4=_0x44dbe4==_0x510a98(0x10f)?_0x510a98(0x219):'buy');!_0xbd96ef[_0x367cc1]&&(_0xbd96ef[_0x367cc1]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x4ac40b=0x0,_0x477306,_0x4bb6fa;if(_0x44dbe4==_0x510a98(0x10f))_0x4bb6fa=_0xbd96ef[_0x367cc1][_0x510a98(0x10e)]*_0xbd96ef[_0x367cc1][_0x510a98(0xe4)]+_0x333e11*_0x5aef31,_0xbd96ef[_0x367cc1]['number']+=_0x5aef31,_0xbd96ef[_0x367cc1]['breakeven']=_0xbd96ef[_0x367cc1][_0x510a98(0x10e)]!=0x0?_0x4bb6fa/_0xbd96ef[_0x367cc1]['number']:0x0,_0xbd96ef[_0x367cc1][_0x510a98(0x228)]++;else _0x44dbe4=='sell'&&(_0x477306=Math[_0x510a98(0x1b6)](_0xbd96ef[_0x367cc1]['number'],_0x5aef31),_0x4ac40b=(_0x333e11-_0xbd96ef[_0x367cc1][_0x510a98(0xe4)])*_0x477306,_0x4bb6fa=Math['max'](_0xbd96ef[_0x367cc1][_0x510a98(0x10e)]*_0xbd96ef[_0x367cc1][_0x510a98(0xe4)]-_0x477306*_0xbd96ef[_0x367cc1][_0x510a98(0xe4)],0x0),_0xbd96ef[_0x367cc1][_0x510a98(0x10e)]-=_0x477306,_0xbd96ef[_0x367cc1][_0x510a98(0xe4)]=_0xbd96ef[_0x367cc1][_0x510a98(0x10e)]!=0x0?_0x4bb6fa/_0xbd96ef[_0x367cc1][_0x510a98(0x10e)]:0x0,_0xbd96ef[_0x367cc1]['realizedPnL']+=_0x4ac40b,_0xbd96ef[_0x367cc1][_0x510a98(0xeb)]++);return _0x4ac40b;}async function generatePnL(){const _0xb3f7d4=_0x246bd7;pnlGenerationNeeded=![],logger[_0xb3f7d4(0x149)](_0xb3f7d4(0x269));const _0xae1cc4=dbLogs[_0xb3f7d4(0x19d)](_0xb3f7d4(0x1a2))[_0xb3f7d4(0x24d)]();let _0x5d1355={},_0x3028b1=0x0,_0x8092fa=0x0,_0x2654fe=config[_0xb3f7d4(0x291)];const _0x79c406=fns[_0xb3f7d4(0x108)](_0x2654fe,_0xb3f7d4(0x18d),new Date()),_0x1c69b2=new Date();let _0x3fb665=0x0;for(let _0x5b2bc9=_0x79c406;!fns['isBefore'](_0x1c69b2,_0x5b2bc9);_0x5b2bc9=fns[_0xb3f7d4(0x124)](_0x5b2bc9,0x1)){const _0x5c6506=fns[_0xb3f7d4(0x282)](_0x5b2bc9,_0xb3f7d4(0x18d));while(_0x3028b1<_0xae1cc4[_0xb3f7d4(0x1ec)]){const _0x3fb87c=new Date(_0xae1cc4[_0x3028b1][_0xb3f7d4(0x159)]);if(fns[_0xb3f7d4(0x2a9)](_0x3fb87c,_0x5b2bc9))_0x3028b1++;else{if(_0xae1cc4[_0x3028b1][_0xb3f7d4(0x159)]['includes'](_0x5c6506)){const _0x53c56a=_0xae1cc4[_0x3028b1];if(_0x53c56a[_0xb3f7d4(0x26b)]==='order'&&(_0x53c56a['event']['includes'](_0xb3f7d4(0x250))||_0x53c56a[_0xb3f7d4(0x15f)]['includes'](_0xb3f7d4(0x1f6)))){const _0x545d64=_0x53c56a[_0xb3f7d4(0x15f)]['match'](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x545d64){const [,_0x2e4909,_0x2ca36b,_0x8443cf,_0x53c91f]=_0x545d64,_0xa03d25=_0x2e4909[_0xb3f7d4(0x1c7)]('/'+config[_0xb3f7d4(0x101)])?_0x2e4909[_0xb3f7d4(0x1cb)]('/')[0x0]:_0x2e4909[_0xb3f7d4(0x1cb)]('/')[0x1],_0x4481e0=calculatePnL(_0x2e4909,_0xa03d25,_0x2ca36b,parseFloat(_0x8443cf),parseFloat(_0x53c91f),_0x5d1355);_0x8092fa+=_0x4481e0;}}_0x3028b1++;}else break;}}dbPerformance['get'](_0xb3f7d4(0x22f))['find']({'date':_0x5c6506})[_0xb3f7d4(0x1d6)]({'pnl':_0x8092fa})[_0xb3f7d4(0x11e)]();}dbCoinResults[_0xb3f7d4(0x1e2)](_0xb3f7d4(0x1ae),_0x5d1355)[_0xb3f7d4(0x11e)](),logger[_0xb3f7d4(0x149)](_0xb3f7d4(0x29a));const _0x29bbbf=getNormalizedPerformance();emitPerformance(_0x29bbbf);}async function updatePnL(_0x53e79a){const _0x139a0c=_0x246bd7,{symbol:_0x3b6528,coin:_0x459515,amount:_0x52a81f,price:_0x4a09da,side:_0x3c5b34,reverse:_0x25f774}=_0x53e79a;let _0x26d7a2=dbCoinResults[_0x139a0c(0x19d)](_0x139a0c(0x1ae))[_0x139a0c(0x24d)]();const _0x2371eb=calculatePnL(_0x3b6528,_0x459515,_0x3c5b34,_0x52a81f,_0x4a09da,_0x26d7a2);dbCoinResults[_0x139a0c(0x1e2)]('coins',_0x26d7a2)[_0x139a0c(0x11e)]();const _0x1fbcb1=getTimeStamp()[_0x139a0c(0x1cb)]('\x20')[0x0];let _0x308a1d=dbPerformance['get']('data')[_0x139a0c(0x229)]({'date':_0x1fbcb1})[_0x139a0c(0x24d)]();_0x308a1d?(_0x308a1d[_0x139a0c(0x13c)]+=_0x2371eb,dbPerformance[_0x139a0c(0x19d)](_0x139a0c(0x22f))[_0x139a0c(0x229)]({'date':_0x1fbcb1})[_0x139a0c(0x1d6)](_0x308a1d)[_0x139a0c(0x11e)]()):await storePerformance();const _0x8c99c8=getNormalizedPerformance();emitPerformance(_0x8c99c8);}async function validate24hChanges(){const _0x496e79=_0x246bd7;for(const _0x42c3ad of currentCoins){if(_0x42c3ad[_0x496e79(0x239)]!=config[_0x496e79(0x101)]){let _0x7edc67;_0x42c3ad[_0x496e79(0x153)]?_0x7edc67=formatResult((0x1/(gChange[_0x42c3ad[_0x496e79(0x24a)]]/0x64+0x1)-0x1)*0x64,0x3):_0x7edc67=gChange[_0x42c3ad[_0x496e79(0x24a)]],_0x7edc67<config['change24h']&&(logHistory(_0x496e79(0x12c),_0x42c3ad[_0x496e79(0x239)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x7edc67+'%'),logHistory(_0x496e79(0x12c),_0x496e79(0x1cf)),logHistory(_0x496e79(0x12c),_0x496e79(0x111)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x45aec4,_0x3fbbe3){const _0x478a9c=_0x246bd7;if(!_0x45aec4)return!![];const _0x4c6d07=_0x3fbbe3[_0x478a9c(0x1cb)]('.'),_0x9dbd31=_0x45aec4['split']('.');for(var _0x1b3e82=0x0;_0x1b3e82<_0x9dbd31[_0x478a9c(0x1ec)];_0x1b3e82++){const _0x18c9cc=~~_0x9dbd31[_0x1b3e82],_0x13df44=~~_0x4c6d07[_0x1b3e82];if(_0x18c9cc<_0x13df44)return!![];if(_0x18c9cc>_0x13df44)return![];}return![];}async function oneTimeMigration(){const _0x5a6793=_0x246bd7;let _0x1502de=dbLogs[_0x5a6793(0x19d)](_0x5a6793(0x283))[_0x5a6793(0x24d)]();if(isOlderVersion(_0x1502de,_0x5a6793(0x256))){let _0x4c2b32=[];const _0xc1dfc2=dbLogs['get'](_0x5a6793(0x1a2))[_0x5a6793(0x24d)]();_0xc1dfc2[_0x5a6793(0x189)](_0x12afec=>{const _0x26e908=_0x5a6793;_0x4c2b32[_0x26e908(0x12a)]({'time':_0x12afec[_0x26e908(0x159)],'type':_0x12afec[_0x26e908(0x26b)],'event':_0x12afec[_0x26e908(0x15f)]});}),dbLogs[_0x5a6793(0x19d)](_0x5a6793(0x1a2))[_0x5a6793(0x1d6)](_0x4c2b32)['write']();}let _0xb55214=dbConfig[_0x5a6793(0x19d)](_0x5a6793(0x283))[_0x5a6793(0x24d)]();if(isOlderVersion(_0xb55214,'2.3.5')){let _0x1e7aef=dbConfig['get']('bot')[_0x5a6793(0x229)]({'botID':botID})[_0x5a6793(0x24d)]();if(_0x1e7aef){let _0x2847ce=[];_0x1e7aef[_0x5a6793(0x1a7)]['forEach'](_0x491539=>{const _0x28da76=_0x5a6793;_0x2847ce[_0x28da76(0x12a)]({'coin':_0x491539[_0x28da76(0x239)],'number':_0x491539['startnumber'],'price':_0x491539[_0x28da76(0x1ea)]}),delete _0x491539[_0x28da76(0x16e)],delete _0x491539[_0x28da76(0x1ea)];});if(_0x2847ce[_0x5a6793(0x1ec)]!==0x0)fs[_0x5a6793(0x1c3)](configbackuppath+('starting-balance-'+botID+'.json'),JSON[_0x5a6793(0x170)](_0x2847ce,null,0x4),function(_0x4508be){if(_0x4508be){}});const _0x261855=(_0x1f6ead,_0x15cdb6)=>{const _0x415e70=_0x5a6793;let _0x16425b=[];_0x15cdb6['forEach'](_0x1dbf65=>{const _0x449e9a=_0x61a0,_0x43990f=_0x1f6ead[_0x449e9a(0x229)](_0x62a1ab=>_0x62a1ab[_0x449e9a(0x239)]==_0x1dbf65[_0x449e9a(0x239)]);if(!_0x43990f)_0x16425b['push'](_0x1dbf65);});let _0x40e6aa=[];return _0x1f6ead[_0x415e70(0x189)](_0xaa56=>{const _0x3f2a84=_0x415e70,_0x34bf62=_0x15cdb6[_0x3f2a84(0x229)](_0x533402=>_0x533402['coin']==_0xaa56['coin']);if(!_0x34bf62||_0x34bf62[_0x3f2a84(0x10e)]==0x0&&_0xaa56[_0x3f2a84(0x10e)]!=0x0)_0x40e6aa[_0x3f2a84(0x12a)](_0xaa56);}),{'missingDay1':_0x16425b,'notInDay2':_0x40e6aa};},_0xbfaefd=dbPerformance[_0x5a6793(0x19d)](_0x5a6793(0x22f))[_0x5a6793(0x25e)]()['value']();if(_0xbfaefd[_0x5a6793(0x1ec)]>0x1){const {missingDay1:_0x1bc9a8,notInDay2:_0x41c980}=_0x261855(_0x2847ce,_0xbfaefd[0x1][_0x5a6793(0x1ae)]);_0x2847ce=[..._0x2847ce,..._0x1bc9a8],_0x41c980[_0x5a6793(0x189)](_0x5ec3d4=>{const _0x4f217b=_0x5a6793;let _0x32d4ac=_0x2847ce['findIndex'](_0x577d6c=>_0x577d6c['coin']==_0x5ec3d4[_0x4f217b(0x239)]);_0x32d4ac!=-0x1&&_0x2847ce['splice'](_0x32d4ac,0x1);});}_0x2847ce['sort']((_0x5e54e5,_0x50ef15)=>_0x5e54e5[_0x5a6793(0x239)]>_0x50ef15[_0x5a6793(0x239)]?0x1:_0x50ef15[_0x5a6793(0x239)]>_0x5e54e5['coin']?-0x1:0x0);let _0x4bf667=[{'date':_0x1e7aef[_0x5a6793(0x291)],'changes':_0x2847ce}];_0xbfaefd[_0x5a6793(0x1ec)]>0x2&&_0xbfaefd['forEach']((_0x36bc78,_0x4c2d49)=>{const _0x8ac29a=_0x5a6793;if(_0x4c2d49>0x0&&_0x4c2d49<_0xbfaefd[_0x8ac29a(0x1ec)]-0x1){const {missingDay1:_0x202ff4,notInDay2:_0x431c25}=_0x261855(_0xbfaefd[_0x4c2d49][_0x8ac29a(0x1ae)],_0xbfaefd[_0x4c2d49+0x1]['coins']);_0x2847ce=[],(_0x202ff4[_0x8ac29a(0x1ec)]!=0x0||_0x431c25[_0x8ac29a(0x1ec)]!=0x0)&&(_0x202ff4['length']!=0x0&&_0x2847ce['push'](..._0x202ff4),_0x431c25['length']!=0x0&&(_0x431c25['forEach'](_0x4ed8cf=>{const _0x251239=_0x8ac29a;_0x4ed8cf['number']=-_0x4ed8cf[_0x251239(0x10e)];}),_0x2847ce[_0x8ac29a(0x12a)](..._0x431c25)),_0x2847ce[_0x8ac29a(0x102)]((_0xff8990,_0x2ba32d)=>_0xff8990[_0x8ac29a(0x239)]>_0x2ba32d['coin']?0x1:_0x2ba32d[_0x8ac29a(0x239)]>_0xff8990[_0x8ac29a(0x239)]?-0x1:0x0),_0x4bf667[_0x8ac29a(0x12a)]({'date':_0xbfaefd[_0x4c2d49+0x1][_0x8ac29a(0xf1)],'changes':_0x2847ce}));}}),dbConfig[_0x5a6793(0x19d)](_0x5a6793(0x26e))[_0x5a6793(0x229)]({'botID':botID})['assign']({..._0x1e7aef,'liquidity':_0x4bf667})[_0x5a6793(0x11e)]();}}if(isOlderVersion(_0xb55214,'2.6.0')){let _0x19786d=dbConfig[_0x5a6793(0x19d)](_0x5a6793(0x26e))[_0x5a6793(0x229)]({'botID':botID})[_0x5a6793(0x24d)]();if(_0x19786d){const _0x2d912c=_0x19786d[_0x5a6793(0x1f5)],_0x5e1028=_0x2d912c?capitalize(_0x2d912c):'Binance';dbConfig[_0x5a6793(0x19d)](_0x5a6793(0x26e))[_0x5a6793(0x229)]({'botID':botID})[_0x5a6793(0x1d6)]({'exchange':_0x5e1028})[_0x5a6793(0x11e)]();}}if(isOlderVersion(_0xb55214,_0x5a6793(0x16f))){let _0x403e2f=dbConfig[_0x5a6793(0x19d)](_0x5a6793(0x26e))['find']({'botID':botID})[_0x5a6793(0x24d)]();if(_0x403e2f){const _0x178aa3=_0x403e2f[_0x5a6793(0x1c8)],_0x395416=_0x178aa3?'marketcap':![];dbConfig[_0x5a6793(0x19d)](_0x5a6793(0x26e))['find']({'botID':botID})['assign']({'marketcapEnabled':_0x395416})[_0x5a6793(0x11e)]();}}if(isOlderVersion(_0xb55214,_0x5a6793(0xe7))){let _0x548381=dbConfig[_0x5a6793(0x19d)]('bot')['find']({'botID':botID})[_0x5a6793(0x24d)]();if(_0x548381){const _0x29a608=_0x548381[_0x5a6793(0x123)],_0x13b68a=_0x29a608?_0x5a6793(0x1d9):![];dbConfig[_0x5a6793(0x19d)]('bot')[_0x5a6793(0x229)]({'botID':botID})[_0x5a6793(0x1d6)]({'autoliquidity':_0x13b68a})[_0x5a6793(0x11e)]();}}let _0x3701e3=dbPerformance['get'](_0x5a6793(0x283))[_0x5a6793(0x24d)]();isOlderVersion(_0x3701e3,_0x5a6793(0x256))&&setStartDatePerformance();let _0x2c00b4=dbCoinResults['get']('version')['value']();if(isOlderVersion(_0x2c00b4,_0x5a6793(0x185))){let _0xa446cf=dbCoinResults[_0x5a6793(0x19d)](_0x5a6793(0x1ae))['value']();if(_0xa446cf[_0x5a6793(0x1ec)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x4f920b=_0x246bd7;dbConfig['set'](_0x4f920b(0x283),serverversion)['write'](),dbPerformance[_0x4f920b(0x1e2)](_0x4f920b(0x283),serverversion)[_0x4f920b(0x11e)](),dbLogs[_0x4f920b(0x1e2)](_0x4f920b(0x283),serverversion)[_0x4f920b(0x11e)](),dbCoinResults[_0x4f920b(0x1e2)](_0x4f920b(0x283),serverversion)['write']();}function getConfiguration(_0x4234c4){const _0x128db0=_0x246bd7;let _0x15ecee=dbConfig['get']('bot')[_0x128db0(0x229)]({'botID':_0x4234c4})[_0x128db0(0x24d)]();if(_0x15ecee){let _0x39c7a0=![];typeof _0x15ecee[_0x128db0(0x226)]==_0x128db0(0x28a)&&(_0x15ecee={..._0x15ecee,'threshold':Number(_0x15ecee[_0x128db0(0x226)])},_0x39c7a0=!![]),_0x15ecee[_0x128db0(0x1bd)]==undefined&&(_0x15ecee={..._0x15ecee,'change24h':-0x14},_0x39c7a0=!![]),_0x15ecee['fiat']==undefined&&(_0x15ecee={..._0x15ecee,'fiat':'USD'},_0x39c7a0=!![]),_0x15ecee['onepagemode']==undefined&&(_0x15ecee={..._0x15ecee,'onepagemode':settings[_0x128db0(0x1da)]},_0x39c7a0=!![]),_0x15ecee[_0x128db0(0x194)]==undefined&&(_0x15ecee={..._0x15ecee,'colorscheme':_0x128db0(0x113)},_0x39c7a0=!![]),_0x15ecee[_0x128db0(0x123)]==undefined&&(_0x15ecee={..._0x15ecee,'autoliquidity':_0x128db0(0x1d9)},_0x39c7a0=!![]),_0x15ecee[_0x128db0(0x2a7)]==undefined&&(_0x15ecee={..._0x15ecee,'marketcapApi':settings[_0x128db0(0x2a7)]?!![]:![]},_0x39c7a0=!![]),_0x15ecee['marketcapEnabled']==undefined&&(_0x15ecee={..._0x15ecee,'marketcapEnabled':![]},_0x39c7a0=!![]),_0x15ecee[_0x128db0(0x12d)]==undefined&&(_0x15ecee={..._0x15ecee,'sandbox':![]},_0x39c7a0=!![]),_0x39c7a0&&(_0x15ecee={'botID':_0x15ecee[_0x128db0(0x17d)],'exchange':_0x15ecee[_0x128db0(0x1f5)],'apiKey':_0x15ecee[_0x128db0(0x29f)],'apiSecret':_0x15ecee[_0x128db0(0x150)],'apiPassword':_0x15ecee[_0x128db0(0x236)],'basecoin':_0x15ecee[_0x128db0(0x101)],'botname':_0x15ecee[_0x128db0(0x222)],'showname':_0x15ecee[_0x128db0(0x147)],'threshold':_0x15ecee['threshold'],'ordertype':_0x15ecee['ordertype'],'timeout':_0x15ecee[_0x128db0(0x133)],'fiat':_0x15ecee['fiat'],'startdate':_0x15ecee[_0x128db0(0x291)],'recreate':_0x15ecee['recreate'],'timeshift':_0x15ecee[_0x128db0(0x25b)],'onepagemode':_0x15ecee[_0x128db0(0x1da)],'headless':_0x15ecee['headless'],'cooldown':_0x15ecee[_0x128db0(0x242)],'change24h':_0x15ecee[_0x128db0(0x1bd)],'emojibuy':_0x15ecee[_0x128db0(0x1a1)],'emojisell':_0x15ecee[_0x128db0(0x1df)],'colorscheme':_0x15ecee[_0x128db0(0x194)],'marketcapApi':_0x15ecee[_0x128db0(0x2a7)],'marketcapEnabled':_0x15ecee[_0x128db0(0x1c8)],'sandbox':_0x15ecee[_0x128db0(0x12d)],'portfolio':_0x15ecee[_0x128db0(0x1a7)],'autoliquidity':_0x15ecee[_0x128db0(0x123)],'liquidity':_0x15ecee[_0x128db0(0x20f)],'openOrders':_0x15ecee[_0x128db0(0x172)]},dbConfig[_0x128db0(0x19d)](_0x128db0(0x26e))['remove']()['write'](),dbConfig[_0x128db0(0x19d)]('bot')[_0x128db0(0x12a)](_0x15ecee)[_0x128db0(0x11e)]());}else _0x15ecee={'botID':_0x4234c4,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x128db0(0x244)+_0x4234c4,'showname':![],'threshold':0x3,'ordertype':_0x128db0(0x231),'timeout':0x14,'fiat':_0x128db0(0x2a1),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x128db0(0x2a7)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x128db0(0x1d9),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x15ecee;}function emittedConfiguration(){const _0x12a74e=_0x246bd7;let _0x3a0ec7;if(config[_0x12a74e(0x29f)]=='')_0x3a0ec7={...config,'configstate':_0x12a74e(0x268)};else config[_0x12a74e(0x29f)]=='***'?_0x3a0ec7={...config,'configstate':_0x12a74e(0x280)}:(_0x3a0ec7={...config,'apiKey':_0x12a74e(0x22c),'apiSecret':_0x12a74e(0x22c)},config[_0x12a74e(0x236)]&&(_0x3a0ec7[_0x12a74e(0x236)]=_0x12a74e(0x22c)));return _0x3a0ec7[_0x12a74e(0x139)]=enableFiatToggle,_0x3a0ec7;}function getSettings(){const _0x5064ec=_0x246bd7;return dbSettings['get'](_0x5064ec(0x298))[_0x5064ec(0x24d)]();}function _0x82d7(){const _0xdfe425=['args','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','bid','Net\x20','sqrt','fetchBalance','getStartingBalances','basecoin','sort','offset','add','./version.json','placeOrder','Exchange','parse','TUSD','getMonth','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','\x20attempts',')\x20unknown\x20order:\x20','number','buy','round','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','bb-secure.json','red_yellow_blue','floor','freeze','percentage','Cooldown\x20ended\x20-\x20balancing\x20resumed','createOrder','\x0aSymbol(s):\x20','watchOrders','net','Invalid\x20balance\x20for\x20','quick','write','slice','enabled','fetchTickers()','coin-loading-progress','autoliquidity','addDays','PAXG','UNLOCKED','Failed\x20to\x20load\x20coin\x20data\x20for\x20','customId','RETRY\x20-\x20Error\x20in\x20','push','getHours','error','sandbox','change','2\x20-\x20Validate\x20orders:\x20','unlinkSync','getDate','UNLOCKING','timeout','loadMarkets','padEnd','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','enableFiatToggle','showConfig','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','pnl','API-key\x20format\x20invalid','changes','RateLimitExceeded','marketcapsqrt','remainingSymbols','Unknown\x20error\x20-\x20check\x20logs','open','InsufficientFunds','0\x20-\x20EXECUTION:\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','showname','bb-settings.json','debug','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','orderId','\x20|\x20exchange:\x20','restart','/USDT','getTime','apiSecret','filled','excluded','reverse','Error\x20details:','\x20minutes\x20-\x20','basecoinvalue','axios','ID:\x20','time','watchTradesForSymbols()','prevnumber','Valid\x20balance\x20for\x20','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','balancing\x20resumes\x20when\x20cooldown\x20ends','event','configuration','1054215iTWqXN','USDC','toString','last','Cryptocom','configstate',',\x20must\x20be\x20a\x203\x20digit\x20number','quote','test','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',':\x20Bot\x20','argv','-performance.json','startnumber','2.6.22','stringify','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','openOrders','isEqual','Block\x20transaction\x20detection:\x20','\x20metrics:</b>\x20\x0a\x0a','remove','fetchTicker','total','storeHeadless','loadSymbols()','timestamp-issue','toUpperCase','botID','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','detectLiquidityChange()','map','warning','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','fromCodePoint','entries','2.7.1','353215wUkEdq','***','DDoSProtection','forEach','-------------------------------\x0a','USDT','1801835uzKrHe','yyyy/MM/dd','process\x20','ongoing','InvalidNonce','Order\x20is\x20invalid:\x20','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','placeOrder()','colorscheme','canceled','1\x20-\x20FILLED\x20known\x20order:\x20','function','production','\x20>\x20','starting-balances','delta','api-issue','get','log','\x20-\x20go\x20back\x20and\x20try\x20again','Initializing\x20exchange:\x20already\x20done','emojibuy','logs','emitHistory','OrderNotFound','toggleBotMode','Reset\x20|\x20','portfolio','ccxt','./logs/','bots','target','\x20network\x20error:\x20','environment','coins','secret','\x20/\x20','ExchangeError','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','usd','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','setSandboxMode','min','defaults','\x20portfolio:</b>\x20\x0a\x0a','pid','send','loading-canceled','initclient','change24h','closed','portfolio1','cancel','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','performance','writeFile','bot-','trade','existsSync','includes','marketcapEnabled','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','<b>Bot\x20','split','price','Error:\x20Invalid\x20argument\x20','32ANgOjq','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','-config.json','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','2\x20-\x20Handled\x20open\x20orders','order','average','highest','assign','Huobi','exchanges','update-liquidity','onepagemode','valid','\x20>\x20details:','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','\x20-\x20bot\x20not\x20started','emojisell','cancelLoading','removed','set','watchTrades','distribution','ExchangeNotAvailable','success','storeConfiguration','4886232qOpmPU','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','startprice','util','length','Error\x20details:\x20','Initiating\x20bot\x20restart','(((.+)+)+)+$','limits','bitmex','114882QxqnsC','Cex','2\x20-\x20handling\x20FILLED\x20order:\x20','exchange','Market\x20order',':\x20timer\x20>','yargs/yargs','Fee\x20discount\x20refund\x20detected:\x20','Bybit','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','EUR','pnl-basecoin','RETRY\x20-\x20Problem\x20resolved\x20after\x20','BUSD','%\x20(','/USD','\x20uses\x20','Loading\x20completed','replace','pki','has','portfolio2','1\x20-\x20partially\x20FILLED\x20(','fee','request-time','2455710meONUM','marketcap','sortBy','Waited\x20','liquidity','secure','timestamp','join','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','Order\x20amount\x20is\x20invalid:\x20','watchTradesForSymbols','switch-manual','MIN_NOTIONAL','pop','sell','1\x20-\x20Handle\x20open\x20orders','/output-000.log','839150RXIUoy','Set\x20lock\x20orders\x20to:\x20','ETH','limit-low','recent20','\x20due\x20to\x20offset','botname','\x20-\x20','pro','keys','threshold','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','buys','find','No\x20more\x20open\x20orders\x20-\x20','limit-high','************','1\x20-\x20Validate\x20orders:\x20','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','data','full','market','privateKey','Error\x20while\x20deleting\x20files:\x20','orderstatus','sendPortfolioTelegram','apiPassword','node-forge','%)\x0a','coin','running','\x20|\x20','fetchOpenOrders','watchOrders()','USDP','indexOf','OnMaintenance','none','cooldown','slider','Bot\x20','</pre>','net-fiat','Exception\x20thrown\x20in\x20','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20>\x20pausing\x20bot\x20for\x20','symbol','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','ordertype','value','fiat','page','Order\x20filled','lowdb','Initializing\x20exchange','memoryUsage','password','apply','2.3.5','netoffset','<pre>','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','max','timeshift','InvalidOrder','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','cloneDeep','substring','deleteHistoryAlerts','currency','status','toFixed','decode64','PermissionDenied','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','initial','Generating\x20PnL\x20data','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','type','balancing\x20resumed','search','bot','\x20MB','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','padStart','limit','path','\x20|\x20lock\x20orders:\x20','resetHistory','Initializing\x20coin\x20results','-events.json',')\x20known\x20order:\x20','headless','side','added','eur','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','fetchTickers','exchange\x20reload','recovery','-results.json','format','version','configuration-stored','create','privateKeyFromPem','event-history','toLowerCase','AuthenticationError','string','Insufficient\x20funds\x20to\x20execute\x20order:\x20','getFullYear','pnl-fiat','no\x20exchange\x20reloaded','no\x20open\x20orders','constructor','startdate','\x20>\x20[DEBUG]\x20','\x20API\x20secret\x20is\x20invalid','random','net-basecoin','final','filter','settings','splice','Generated\x20PnL\x20data','BTC','PnL\x20','fetchBalance()','Market','apiKey','Resetting\x20bot\x20history','USD','Avoiding\x20continuous\x20order\x20attempts','mkdirSync','Limit\x20(low-margin)','\x20minutes','Pausing\x20for\x20','marketcapApi','getMinutes','isBefore','must\x20be\x20greater\x20than\x20minimum\x20amount','code','\x20exchange','watchTrades()','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','uncaughtException','realizedPnL','staging','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','./config/','sha256','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','breakeven','Value\x20','stack','2.6.23','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','amount','abs','sells','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','spot','cancelOrders()','Portfolio\x20change\x20detected:\x20','ask','date','Placing\x20order\x20for:\x20','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','<b>','cancelOrder','progress','NetworkError','LOCKED','market_cap'];_0x82d7=function(){return _0xdfe425;};return _0x82d7();}function getSecure(){const _0x2c6195=_0x246bd7;return dbSecure[_0x2c6195(0x19d)](_0x2c6195(0x210))[_0x2c6195(0x24d)]()||{};}function updateTimeshift(_0x18015b){const _0x22359b=_0x246bd7;let _0x44faff=dbConfig[_0x22359b(0x19d)](_0x22359b(0x26e))[_0x22359b(0x229)]({'botID':botID})['value']();_0x44faff&&dbConfig[_0x22359b(0x19d)]('bot')[_0x22359b(0x229)]({'botID':botID})[_0x22359b(0x1d6)]({'timeshift':_0x18015b})[_0x22359b(0x11e)](),config[_0x22359b(0x25b)]=_0x18015b,proxyEmit(_0x22359b(0x160),emittedConfiguration());}function updateOnepagemode(_0xfc0bdb){const _0x4cf756=_0x246bd7;let _0x7f9d72=dbConfig['get']('bot')[_0x4cf756(0x229)]({'botID':botID})[_0x4cf756(0x24d)]();_0x7f9d72&&dbConfig['get'](_0x4cf756(0x26e))[_0x4cf756(0x229)]({'botID':botID})[_0x4cf756(0x1d6)]({'onepagemode':_0xfc0bdb})['write'](),config[_0x4cf756(0x1da)]=_0xfc0bdb,proxyEmit(_0x4cf756(0x160),emittedConfiguration());}function updateMarketcapApi(_0x4a2aac){const _0x2ade6c=_0x246bd7,_0x3e2170=_0x4a2aac?!![]:![];let _0x4a3ca4=dbConfig[_0x2ade6c(0x19d)](_0x2ade6c(0x26e))[_0x2ade6c(0x229)]({'botID':botID})[_0x2ade6c(0x24d)]();_0x4a3ca4&&dbConfig[_0x2ade6c(0x19d)](_0x2ade6c(0x26e))[_0x2ade6c(0x229)]({'botID':botID})[_0x2ade6c(0x1d6)]({'marketcapApi':_0x3e2170})[_0x2ade6c(0x11e)](),config['marketcapApi']=_0x3e2170,getMarketCap(),proxyEmit(_0x2ade6c(0x160),emittedConfiguration());}async function storeConfiguration(_0x7fea7b){const _0x1e17f2=_0x246bd7;logger[_0x1e17f2(0x149)]('Saving\x20configuration');_0x7fea7b['configstate']&&delete _0x7fea7b[_0x1e17f2(0x166)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x327340=![],_0x371446=![],_0x483213=[];_0x7fea7b[_0x1e17f2(0x1a7)][_0x1e17f2(0x189)](_0x59171d=>{const _0x1dd7fa=_0x1e17f2;if(!_0x59171d[_0x1dd7fa(0x152)]&&_0x59171d[_0x1dd7fa(0x239)]!=_0x7fea7b['basecoin'])_0x483213[_0x1dd7fa(0x12a)](_0x59171d['symbol']);}),_0x483213[_0x1e17f2(0x189)](_0x175d9c=>{const _0x3b3141=_0x1e17f2,_0x678d74=currentCoins['find'](_0x1cc996=>_0x1cc996[_0x3b3141(0x24a)]==_0x175d9c);!_0x678d74&&(_0x327340=!![]);}),currentCoins[_0x1e17f2(0x189)](_0x3847fd=>{const _0x36c0a8=_0x1e17f2;if(_0x3847fd[_0x36c0a8(0x239)]!=config['basecoin']){const _0x420eda=_0x483213[_0x36c0a8(0x229)](_0x2d4e39=>_0x2d4e39==_0x3847fd[_0x36c0a8(0x24a)]);!_0x420eda&&(_0x327340=!![]);}}),_0x7fea7b['portfolio'][_0x1e17f2(0x189)](_0xb92011=>{const _0x15b75c=_0x1e17f2,_0xf0d32f=config[_0x15b75c(0x1a7)][_0x15b75c(0x229)](_0x58fcfa=>_0x58fcfa['coin']==_0xb92011[_0x15b75c(0x239)]);if(_0xf0d32f&&_0xb92011['offset']!=_0xf0d32f['offset'])_0x371446=!![];});let _0x52ae51=dbConfig[_0x1e17f2(0x19d)](_0x1e17f2(0x26e))[_0x1e17f2(0x229)]({'botID':botID})['value']();_0x7fea7b={..._0x7fea7b,'apiKey':decryptRSA(secure[_0x1e17f2(0x232)],_0x7fea7b[_0x1e17f2(0x29f)]),'apiSecret':decryptRSA(secure[_0x1e17f2(0x232)],_0x7fea7b[_0x1e17f2(0x150)])};_0x7fea7b[_0x1e17f2(0x236)]&&(_0x7fea7b[_0x1e17f2(0x236)]=decryptRSA(secure[_0x1e17f2(0x232)],_0x7fea7b[_0x1e17f2(0x236)]));let _0x281d9c=![];if(_0x52ae51){_0x7fea7b[_0x1e17f2(0x29f)]=='************'?_0x7fea7b[_0x1e17f2(0x29f)]=config['apiKey']:_0x281d9c=!![];_0x7fea7b[_0x1e17f2(0x150)]==_0x1e17f2(0x22c)?_0x7fea7b['apiSecret']=config[_0x1e17f2(0x150)]:_0x281d9c=!![];if(_0x7fea7b[_0x1e17f2(0x236)]==_0x1e17f2(0x22c))_0x7fea7b[_0x1e17f2(0x236)]=config[_0x1e17f2(0x236)];else{if(_0x7fea7b[_0x1e17f2(0x236)])_0x281d9c=!![];}dbConfig[_0x1e17f2(0x19d)]('bot')[_0x1e17f2(0x229)]({'botID':botID})[_0x1e17f2(0x1d6)](_0x7fea7b)[_0x1e17f2(0x11e)]();}else dbConfig[_0x1e17f2(0x19d)](_0x1e17f2(0x26e))[_0x1e17f2(0x12a)](_0x7fea7b)['write'](),_0x281d9c=!![],process[_0x1e17f2(0x1ba)]({'status':_0x1e17f2(0x120),'live':_0x1e17f2(0x23a)},_0x430e58=>{});process[_0x1e17f2(0x1ba)]({'botname':_0x7fea7b[_0x1e17f2(0x222)]},_0x51e394=>{}),config={..._0x7fea7b},updateBotManager(),proxyEmit(_0x1e17f2(0x284)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x281d9c)await reset(!![]);else _0x327340||_0x371446?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x1ae644){const _0x3575c7=_0x246bd7,_0x5ce065={...config,'headless':_0x1ae644['headless']};let _0x50c8d0=dbConfig['get']('bot')[_0x3575c7(0x229)]({'botID':botID})[_0x3575c7(0x24d)]();_0x50c8d0&&dbConfig['get'](_0x3575c7(0x26e))[_0x3575c7(0x229)]({'botID':botID})[_0x3575c7(0x1d6)](_0x5ce065)[_0x3575c7(0x11e)](),config={..._0x5ce065},updateBotManager(),proxyEmit(_0x3575c7(0x160),emittedConfiguration());}async function storeFiat(_0x3b79c6){const _0x334047=_0x246bd7,_0x241b07={...config,'fiat':_0x3b79c6};let _0x3a0a5b=dbConfig[_0x334047(0x19d)]('bot')[_0x334047(0x229)]({'botID':botID})[_0x334047(0x24d)]();_0x3a0a5b&&dbConfig['get'](_0x334047(0x26e))[_0x334047(0x229)]({'botID':botID})[_0x334047(0x1d6)](_0x241b07)['write'](),config={..._0x241b07},proxyEmit(_0x334047(0x160),emittedConfiguration());}function resetHistory(){const _0xd841d0=_0x246bd7;logger[_0xd841d0(0x230)](_0xd841d0(0x2a0));try{if(fs[_0xd841d0(0x1c6)](path[_0xd841d0(0x212)](configpath,'bot-'+botID+'-events.json')))fs['unlinkSync'](path[_0xd841d0(0x212)](configpath,_0xd841d0(0x1c4)+botID+_0xd841d0(0x277)));if(fs[_0xd841d0(0x1c6)](path[_0xd841d0(0x212)](configpath,'bot-'+botID+_0xd841d0(0x16d))))fs[_0xd841d0(0x130)](path['join'](configpath,_0xd841d0(0x1c4)+botID+_0xd841d0(0x16d)));if(fs[_0xd841d0(0x1c6)](path[_0xd841d0(0x212)](configpath,'bot-'+botID+'-results.json')))fs[_0xd841d0(0x130)](path[_0xd841d0(0x212)](configpath,_0xd841d0(0x1c4)+botID+_0xd841d0(0x281)));}catch(_0x334d48){if(_0x334d48)logger[_0xd841d0(0x230)](_0xd841d0(0x233),_0x334d48);}const _0x28c788=getDate();let _0x4b3c44=[];currentCoins[_0xd841d0(0x189)](_0x480209=>{const _0x2f56c8=_0xd841d0;_0x4b3c44['push']({'coin':_0x480209[_0x2f56c8(0x239)],'number':_0x480209['number'],'price':_0x480209[_0x2f56c8(0x164)]});});let _0x365ffd=dbConfig[_0xd841d0(0x19d)]('bot')[_0xd841d0(0x229)]({'botID':botID})[_0xd841d0(0x24d)]();_0x365ffd&&(dbConfig[_0xd841d0(0x19d)](_0xd841d0(0x26e))['find']({'botID':botID})[_0xd841d0(0x1d6)]({'liquidity':[{'date':_0x28c788,'changes':_0x4b3c44}]})[_0xd841d0(0x11e)](),config['liquidity']=[]),restartBot(!![]);}function noslash(_0x5cb336){const _0x13dff2=_0x246bd7;return _0x5cb336[_0x13dff2(0x204)]('/','');}function updateHighestFee(_0x3de8aa){const _0x44a0fa=_0x246bd7;if(_0x3de8aa[_0x44a0fa(0x153)]){let _0x2e257a={'filled':_0x3de8aa[_0x44a0fa(0x151)]*_0x3de8aa['price'],'amount':_0x3de8aa[_0x44a0fa(0x151)]*_0x3de8aa['price'],'side':_0x3de8aa[_0x44a0fa(0x27a)]=='sell'?_0x44a0fa(0x10f):_0x44a0fa(0x219),'price':0x1/_0x3de8aa[_0x44a0fa(0x1cc)]};_0x3de8aa={..._0x3de8aa,..._0x2e257a};}const _0x57fa3e=defaultFee*_0x3de8aa[_0x44a0fa(0x151)]*_0x3de8aa[_0x44a0fa(0x1cc)];lastFees[_0x44a0fa(0x220)][_0x44a0fa(0x1ec)]===0x14&&lastFees[_0x44a0fa(0x220)]['shift'](),lastFees[_0x44a0fa(0x220)][_0x44a0fa(0x12a)](_0x57fa3e),lastFees[_0x44a0fa(0x1d5)]=Math[_0x44a0fa(0x25a)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x1f48ca){const _0x5a90bc=_0x246bd7;logger['debug'](_0x5a90bc(0x145)+_0x1f48ca[_0x5a90bc(0x24a)]+'\x20|\x20'+_0x1f48ca[_0x5a90bc(0x262)]+'\x20|\x20'+_0x1f48ca['filled']+_0x5a90bc(0x1b0)+_0x1f48ca[_0x5a90bc(0xe9)]+_0x5a90bc(0x23b)+_0x1f48ca['id']);let _0x3636f3=_0x1f48ca[_0x5a90bc(0x262)],_0x5207aa=![];currentCoins['forEach'](_0x2f476c=>{const _0x389c29=_0x5a90bc;_0x2f476c[_0x389c29(0x24a)]==_0x1f48ca['symbol']&&(_0x5207aa=!![]);});if(!_0x5207aa)return;const _0x18c4b5=currentCoins[_0x5a90bc(0x229)](_0x3dfd1f=>_0x3dfd1f[_0x5a90bc(0x24a)]==_0x1f48ca[_0x5a90bc(0x24a)]),_0x23634e=_0x18c4b5['coin'],_0xa72073=_0x46e45e=>{const _0x108d0a=_0x5a90bc,_0x1c96ba=currentCoins[_0x108d0a(0x229)](_0x13d15a=>_0x13d15a[_0x108d0a(0x24a)]==_0x1f48ca[_0x108d0a(0x24a)]);if(_0x1c96ba)_0x1c96ba[_0x108d0a(0x234)]=_0x46e45e;};let _0x40d3ba=![];for(const _0x5b95e0 of lastOrders){const _0xbbcb99=0x64,_0x5e0196=0x1388;let _0x5d14a9=0x0;while(!_0x5b95e0[_0x5a90bc(0x14b)]&&_0x5d14a9*_0xbbcb99<_0x5e0196){_0x5d14a9++,await sleep(_0xbbcb99);}if(_0x5d14a9>0x0)logger[_0x5a90bc(0x149)](_0x5a90bc(0x20e)+_0x5d14a9*_0xbbcb99/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x5b95e0[_0x5a90bc(0x14b)]==_0x1f48ca['id']&&(_0x40d3ba=!![]);}if(_0x3636f3=='open'){_0xa72073(_0x5a90bc(0x143));if(_0x1f48ca[_0x5a90bc(0x151)]>0x0&&_0x1f48ca[_0x5a90bc(0x151)]<_0x1f48ca[_0x5a90bc(0xe9)]){if(_0x40d3ba){setBlockTransactionDetection(!![]),logger['debug'](_0x5a90bc(0x208)+_0x1f48ca[_0x5a90bc(0x151)]+_0x5a90bc(0x278)+_0x1f48ca['id']);const _0x1d26dd=await getCoins(balanceUpdateDelay,undefined,undefined,_0x23634e);[currentCoins,currentCoinsAll]=_0x1d26dd,setBlockTransactionDetection(![]);}else logger[_0x5a90bc(0x149)](_0x5a90bc(0x208)+_0x1f48ca[_0x5a90bc(0x151)]+_0x5a90bc(0x10d)+_0x1f48ca['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x3636f3==_0x5a90bc(0x195)){_0xa72073(_0x5a90bc(0x195)),lastOrders=lastOrders[_0x5a90bc(0x297)](_0x14a271=>_0x14a271['symbol']!=_0x1f48ca[_0x5a90bc(0x24a)]);const _0xa05fbe=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xa05fbe,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x3636f3==_0x5a90bc(0x1be)){if(lastOrders)for(const _0x22cd51 of lastOrders){if(_0x22cd51[_0x5a90bc(0x14b)]==_0x1f48ca['id']){logger[_0x5a90bc(0x149)](_0x5a90bc(0x196)+_0x1f48ca['id']),_0x40d3ba=!![];if(_0x22cd51[_0x5a90bc(0x151)]==0x0){setBlockTransactionDetection(!![]),logger['debug'](_0x5a90bc(0x1f4)+_0x1f48ca['id']);if(_0x1f48ca[_0x5a90bc(0x1d4)])_0x22cd51[_0x5a90bc(0x1cc)]=_0x1f48ca[_0x5a90bc(0x1d4)];else{if(_0x1f48ca[_0x5a90bc(0x1cc)])_0x22cd51[_0x5a90bc(0x1cc)]=_0x1f48ca[_0x5a90bc(0x1cc)];else{}}_0x22cd51['filled']=_0x1f48ca['filled'],updateHighestFee(_0x22cd51);const _0x98cd59=await getCoins(balanceUpdateDelay,undefined,undefined,_0x23634e);[currentCoins,currentCoinsAll]=_0x98cd59,setBlockTransactionDetection(![]),await validateOrders(),_0xa72073(_0x5a90bc(0x151)),_0x22cd51['fee']={'currency':_0x1f48ca[_0x5a90bc(0x209)]?_0x1f48ca[_0x5a90bc(0x209)][_0x5a90bc(0x261)]:null,'cost':_0x1f48ca[_0x5a90bc(0x209)]?_0x1f48ca[_0x5a90bc(0x209)]['cost']:0x0},await updatePnL(_0x22cd51);}}}!_0x40d3ba&&(logger[_0x5a90bc(0x149)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x1f48ca['id']),_0xa72073(_0x5a90bc(0x151)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x2f6b9e=JSON['parse'](lastBalances[_0x5a90bc(0x1a7)]);const _0x80d81c=_0x2f6b9e[_0x5a90bc(0x229)](_0x46dd57=>_0x46dd57[_0x5a90bc(0x24a)]==_0x1f48ca['symbol']);if(_0x80d81c){if(_0x3636f3==_0x5a90bc(0x143))_0x80d81c['orderstatus']=_0x80d81c[_0x5a90bc(0x234)]==_0x5a90bc(0x151)?_0x5a90bc(0x151):_0x5a90bc(0x143);else{if(_0x3636f3==_0x5a90bc(0x195))_0x80d81c[_0x5a90bc(0x234)]=_0x80d81c[_0x5a90bc(0x234)]=='filled'?_0x5a90bc(0x151):_0x5a90bc(0x195);else _0x3636f3=='closed'&&(_0x80d81c['orderstatus']=_0x5a90bc(0x151));}}lastBalances={...lastBalances,'portfolio':JSON[_0x5a90bc(0x170)](_0x2f6b9e)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x548382=![];currentCoins['forEach'](_0x198a4c=>{const _0x2d2458=_0x61a0;_0x548382=allOpenOrders[_0x2d2458(0x229)](_0x37086b=>_0x37086b[_0x2d2458(0x24a)]==_0x198a4c[_0x2d2458(0x24a)]),_0x198a4c[_0x2d2458(0x234)]=_0x548382?_0x2d2458(0x143):_0x2d2458(0x241);});}async function fetchBalance(_0x2b23f1=!![]){const _0x2fcb8c=_0x246bd7;let _0x47e772,_0x19d531,_0xa73409,_0x25078d=0x0;while(!_0x19d531&&_0x25078d<maxRetries){try{return _0x47e772=await exchange[_0x2fcb8c(0xff)](),_0x19d531=_0x47e772[_0x2fcb8c(0x178)],_0x19d531;}catch(_0x35cd7a){_0xa73409=_0x35cd7a,_0x25078d++,await sleep(retryInterval);}}return!_0x2b23f1?handleErrorNoStop(_0xa73409,_0x2fcb8c(0x29d)):await handleError(_0xa73409,_0x2fcb8c(0x29d)),![];}async function getCoins(_0x5e8173=0x0,_0x47b854=!![],_0x53547a=config['basecoin'],_0x2c741b){const _0x924f4d=_0x246bd7;let _0x3edfb4=[],_0x2b218a=[],_0xbc47e7=[],_0x542ee1;if(_0x5e8173)await sleep(_0x5e8173);if(botPaused)return[currentCoins,currentCoinsAll];let _0x2bf287=![],_0x11a1ee=0x0,_0x33150b,_0x4566bc;_0x2c741b&&(_0x33150b=currentCoins[_0x924f4d(0x229)](_0x48dc21=>_0x48dc21[_0x924f4d(0x239)]==_0x2c741b),_0x33150b&&(_0x4566bc=_0x33150b[_0x924f4d(0x15b)],delete _0x33150b[_0x924f4d(0x15b)]));while(!_0x2bf287){_0x542ee1=await fetchBalance(_0x47b854);if(_0x542ee1){if(_0x2c741b){if(_0x542ee1[_0x2c741b]!=_0x4566bc)logger[_0x924f4d(0x149)](_0x924f4d(0x15c)+_0x2c741b+':\x20'+_0x542ee1[_0x2c741b]+'\x20('+_0x4566bc+')'),_0x2bf287=!![];else{logger['debug'](_0x924f4d(0x11c)+_0x2c741b+':\x20'+_0x542ee1[_0x2c741b]+'\x20('+_0x4566bc+')'),_0x11a1ee++;if(_0x11a1ee<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x924f4d(0x149)]('Stopped\x20fetching\x20balance\x20after\x20'+_0x11a1ee+_0x924f4d(0x10c));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x5ad107,_0x18a5b5]of Object[_0x924f4d(0x184)](_0x542ee1)){_0xbc47e7[_0x924f4d(0x12a)](_0x5ad107);}config[_0x924f4d(0x1a7)][_0x924f4d(0x189)](_0x1e1bd7=>{!_0xbc47e7['includes'](_0x1e1bd7['coin'])&&(_0x542ee1[_0x1e1bd7['coin']]=0x0);});if(_0x53547a=='')for(const [_0x31b314,_0x44b0f5]of Object[_0x924f4d(0x184)](_0x542ee1)){_0x44b0f5!=0x0&&_0x3edfb4[_0x924f4d(0x12a)]({'coin':_0x31b314});}else for(const [_0x4d2820,_0x2d6f66]of Object[_0x924f4d(0x184)](_0x542ee1)){const _0x1b1ff3=config[_0x924f4d(0x1a7)]['find'](_0x443374=>_0x443374[_0x924f4d(0x239)]==_0x4d2820),_0x2dfefc=_0x4d2820+'/'+_0x53547a,_0x1bb876=_0x53547a+'/'+_0x4d2820,_0x5ed0cd=currentCoins['find'](_0x4a4b66=>_0x4a4b66[_0x924f4d(0x239)]==_0x4d2820);if((_0x2d6f66!=0x0||_0x1b1ff3)&&(allSymbols[_0x924f4d(0x1c7)](_0x2dfefc)||_0x4d2820==_0x53547a))_0x5ed0cd?_0x3edfb4['push']({..._0x5ed0cd,'number':Math[_0x924f4d(0x25a)](_0x2d6f66+(_0x1b1ff3&&_0x1b1ff3[_0x924f4d(0x103)]||0x0),0x0)}):_0x3edfb4[_0x924f4d(0x12a)]({'coin':_0x4d2820,'symbol':_0x2dfefc,'reverse':![],'number':Math[_0x924f4d(0x25a)](_0x2d6f66+(_0x1b1ff3&&_0x1b1ff3[_0x924f4d(0x103)]||0x0),0x0),'orderstatus':'none'});else{if((_0x2d6f66!=0x0||_0x1b1ff3)&&allSymbols[_0x924f4d(0x1c7)](_0x1bb876))_0x5ed0cd?_0x3edfb4['push']({..._0x5ed0cd,'number':Math['max'](_0x2d6f66+(_0x1b1ff3&&_0x1b1ff3['offset']||0x0),0x0)}):_0x3edfb4[_0x924f4d(0x12a)]({'coin':_0x4d2820,'symbol':_0x1bb876,'reverse':!![],'number':Math[_0x924f4d(0x25a)](_0x2d6f66+(_0x1b1ff3&&_0x1b1ff3[_0x924f4d(0x103)]||0x0),0x0),'orderstatus':_0x924f4d(0x241)});else _0x1b1ff3&&_0x3edfb4[_0x924f4d(0x12a)]({'coin':_0x1b1ff3[_0x924f4d(0x239)],'symbol':_0x1b1ff3[_0x924f4d(0x24a)],'reverse':_0x1b1ff3[_0x924f4d(0x153)],'number':0x0,'orderstatus':_0x924f4d(0x241)});}}return _0x3edfb4[_0x924f4d(0x102)]((_0xc53747,_0x304751)=>_0xc53747[_0x924f4d(0x19b)]<_0x304751[_0x924f4d(0x19b)]?0x1:_0x304751[_0x924f4d(0x19b)]<_0xc53747[_0x924f4d(0x19b)]?-0x1:0x0),_0x2b218a=cloneDeep(_0x3edfb4),_0x3edfb4=_0x3edfb4[_0x924f4d(0x297)](_0x5736a8=>{const _0x4feb3b=_0x924f4d,_0xfd1b5a=config[_0x4feb3b(0x1a7)][_0x4feb3b(0x229)](_0x2ad350=>_0x2ad350[_0x4feb3b(0x239)]==_0x5736a8[_0x4feb3b(0x239)]);return _0xfd1b5a&&!_0xfd1b5a['excluded'];}),[_0x3edfb4,_0x2b218a];}async function getOpenOrders(){const _0x50fad0=_0x246bd7;let _0x4137cf;allOpenOrders=[];try{for(const _0xeb1122 of config[_0x50fad0(0x1a7)]){!_0xeb1122[_0x50fad0(0x152)]&&_0xeb1122[_0x50fad0(0x239)]!=config[_0x50fad0(0x101)]&&(_0x4137cf=await exchange[_0x50fad0(0x23c)](_0xeb1122[_0x50fad0(0x24a)]),_0x4137cf[_0x50fad0(0x1ec)]>0x0&&allOpenOrders['push'](_0x4137cf[0x0]));}}catch(_0x35ea24){await handleError(_0x35ea24,'getOpenOrders()');}}async function handleOpenOrders(_0x2d22b5=0x0){const _0x3a4bb2=_0x246bd7;allOpenOrders[_0x3a4bb2(0x1ec)]==0x0&&lockOrders==ORDERS[_0x3a4bb2(0xf8)]&&allOrdersPlaced&&(_0x2d22b5==0x0?(logger[_0x3a4bb2(0x149)](_0x3a4bb2(0x21a)),_0x2d22b5++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x3a4bb2(0x1d2)),validateOrders(_0x3a4bb2(0x28f))));}async function testAPI(){const _0x2a0c67=_0x246bd7;try{return await exchange[_0x2a0c67(0xff)](),!![];}catch(_0x497fc0){loading['cancel']=!![],_0x497fc0[_0x2a0c67(0x163)]()[_0x2a0c67(0x288)]()[_0x2a0c67(0x1c7)](_0x2a0c67(0x211))||_0x497fc0[_0x2a0c67(0x163)]()[_0x2a0c67(0x288)]()[_0x2a0c67(0x1c7)]('request-time')?(logHistory(_0x2a0c67(0x12c),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading[_0x2a0c67(0x12c)]=_0x2a0c67(0x17b)):handleErrorNoStop(_0x497fc0,'testAPI()',!![]),logHistory(_0x2a0c67(0x12c),_0x2a0c67(0x1dd)),logHistory(_0x2a0c67(0x12c),_0x2a0c67(0x2a6)+loadCoinsRetryInterval/0xea60+_0x2a0c67(0x26a)),logger[_0x2a0c67(0x149)](_0x2a0c67(0x154),_0x497fc0),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x37d78f){const _0x3332a6=_0x246bd7;logger[_0x3332a6(0x149)]('Test\x20new\x20API');const _0x50e0da=ccxt['pro'][_0x37d78f[_0x3332a6(0x1f5)]['toLowerCase']()],_0x46fed1=new _0x50e0da({'apiKey':_0x37d78f[_0x3332a6(0x29f)],'secret':_0x37d78f['apiSecret'],'options':{'defaultType':_0x3332a6(0xed)}});if(_0x37d78f[_0x3332a6(0x236)])_0x46fed1[_0x3332a6(0x254)]=_0x37d78f[_0x3332a6(0x236)];if(_0x46fed1[_0x3332a6(0x206)]['sandbox'])_0x46fed1[_0x3332a6(0x1b5)](_0x37d78f[_0x3332a6(0x12d)]);try{await _0x46fed1[_0x3332a6(0xff)](),botPaused=![];}catch(_0x4d0f7b){logger[_0x3332a6(0x149)]('Error\x20in\x20testNewAPI():\x20'+_0x4d0f7b[_0x3332a6(0x163)]());throw _0x4d0f7b;}}function cloneDeep(_0x2043b4){return JSON['parse'](JSON['stringify'](_0x2043b4));}async function getPortfolio(_0x4d8bed){const _0x2d4de3=_0x246bd7;let _0x3fbf04=[],_0x1b4bed=[],_0x55c304=[],_0x26d74e;_0x4d8bed[_0x2d4de3(0x29f)]=decryptRSA(secure[_0x2d4de3(0x232)],_0x4d8bed[_0x2d4de3(0x29f)]),_0x4d8bed[_0x2d4de3(0x150)]=decryptRSA(secure[_0x2d4de3(0x232)],_0x4d8bed['apiSecret']);if(_0x4d8bed['apiPassword'])_0x4d8bed[_0x2d4de3(0x236)]=decryptRSA(secure[_0x2d4de3(0x232)],_0x4d8bed[_0x2d4de3(0x236)]);if(_0x4d8bed[_0x2d4de3(0x29f)]!==_0x2d4de3(0x22c)||_0x4d8bed['apiSecret']!=='************'||_0x4d8bed[_0x2d4de3(0x236)]&&_0x4d8bed[_0x2d4de3(0x236)]!=='************'){if(config['exchange']){if(_0x4d8bed[_0x2d4de3(0x29f)]==_0x2d4de3(0x22c))_0x4d8bed['apiKey']=config[_0x2d4de3(0x29f)];if(_0x4d8bed[_0x2d4de3(0x150)]==_0x2d4de3(0x22c))_0x4d8bed[_0x2d4de3(0x150)]=config[_0x2d4de3(0x150)];if(_0x4d8bed[_0x2d4de3(0x236)]=='************')_0x4d8bed['apiPassword']=config[_0x2d4de3(0x236)];}try{if(_0x4d8bed['testApi'])await testNewAPI(_0x4d8bed);}catch(_0x96f3df){if(_0x96f3df[_0x2d4de3(0x163)]()[_0x2d4de3(0x1c7)](_0x2d4de3(0x289))){logHistory(_0x2d4de3(0x12c),_0x2d4de3(0x24b)),logHistory(_0x2d4de3(0x12c),_0x2d4de3(0x1ed)+_0x96f3df[_0x2d4de3(0x163)]()),proxyEmit('portfolio1',![]);return;}else{if(_0x96f3df['toString']()[_0x2d4de3(0x1c7)](_0x2d4de3(0x265))){logHistory(_0x2d4de3(0x12c),_0x2d4de3(0x136)),logHistory(_0x2d4de3(0x12c),_0x2d4de3(0x1ed)+_0x96f3df[_0x2d4de3(0x163)]()),proxyEmit(_0x2d4de3(0x1bf),![]);return;}else{logHistory(_0x2d4de3(0x12c),'Error\x20occurred:\x20'+_0x96f3df['toString']()),logger[_0x2d4de3(0x149)](_0x2d4de3(0x154),_0x96f3df),proxyEmit(_0x2d4de3(0x1bf),![]);return;}}}exchange?updateExchange(_0x4d8bed[_0x2d4de3(0x29f)],_0x4d8bed[_0x2d4de3(0x150)],_0x4d8bed[_0x2d4de3(0x236)]):await initExchange(_0x4d8bed['exchange'],_0x4d8bed['apiKey'],_0x4d8bed[_0x2d4de3(0x150)],_0x4d8bed['apiPassword'],_0x4d8bed[_0x2d4de3(0x12d)]);await loadSymbols();const _0x1a03fd=await getCoins(0x0,![],_0x4d8bed[_0x2d4de3(0x101)]);_0x55c304=cloneDeep(_0x1a03fd[0x1]);}else{const _0x54b921=await getCoins();_0x55c304=cloneDeep(_0x54b921[0x1]);}if(_0x4d8bed['basecoin']=='')proxyEmit(_0x2d4de3(0x1bf),!![]),proxyEmit(_0x2d4de3(0x207),_0x55c304);else{_0x55c304[_0x2d4de3(0x189)](_0x146ce8=>{const _0x997418=_0x2d4de3;if(_0x146ce8[_0x997418(0x239)]!=_0x4d8bed[_0x997418(0x101)]&&allSymbols[_0x997418(0x1c7)](_0x146ce8['symbol']))_0x3fbf04[_0x997418(0x12a)](_0x146ce8[_0x997418(0x24a)]);});if(_0x3fbf04[_0x2d4de3(0x1ec)]==0x0)logHistory('error',_0x2d4de3(0x27d));else{try{_0x1b4bed=await getTickers(_0x3fbf04);}catch(_0x29aa0a){logHistory('error',_0x2d4de3(0x142)),logger['debug'](_0x2d4de3(0x154),_0x29aa0a),proxyEmit(_0x2d4de3(0x1bf),![]);return;}_0x55c304[_0x2d4de3(0x189)](_0x47a421=>{const _0x14217f=_0x2d4de3;_0x47a421[_0x14217f(0x239)]!=_0x4d8bed[_0x14217f(0x101)]?_0x1b4bed[_0x47a421[_0x14217f(0x24a)]]?_0x1b4bed[_0x47a421[_0x14217f(0x24a)]]['last']?_0x26d74e=_0x47a421[_0x14217f(0x153)]?0x1/_0x1b4bed[_0x47a421[_0x14217f(0x24a)]][_0x14217f(0x164)]:_0x1b4bed[_0x47a421['symbol']]['last']:_0x26d74e=0x0:_0x26d74e=0x0:_0x26d74e=0x1,_0x47a421['price']=formatResult(_0x26d74e,0x8);}),await getMarketCap(_0x55c304),proxyEmit(_0x2d4de3(0x1bf),!![]),proxyEmit('portfolio2',_0x55c304);}}}function truncateTradeAmount(_0x58fe18,_0x2ea7db){let _0x4f5fe8=0x0;try{_0x4f5fe8=exchange['amountToPrecision'](_0x58fe18,_0x2ea7db);}catch(_0x53d4ee){}return _0x4f5fe8;}function checkMinimums(_0x53afb6){const _0x60f258=_0x246bd7;let _0x2529db=!![];const _0x15ca14=!_0x53afb6['reverse']?markets[_0x53afb6[_0x60f258(0x24a)]][_0x60f258(0x1f0)][_0x60f258(0xe9)][_0x60f258(0x1b6)]:markets[_0x53afb6[_0x60f258(0x24a)]]['limits']['cost'][_0x60f258(0x1b6)],_0x11116c=!_0x53afb6[_0x60f258(0x153)]?markets[_0x53afb6[_0x60f258(0x24a)]][_0x60f258(0x1f0)]['cost'][_0x60f258(0x1b6)]:markets[_0x53afb6['symbol']][_0x60f258(0x1f0)][_0x60f258(0xe9)][_0x60f258(0x1b6)],_0x5b8130=truncateTradeAmount(_0x53afb6[_0x60f258(0x24a)],_0x53afb6[_0x60f258(0x1c5)]);_0x53afb6['trade']=_0x5b8130;if(Math[_0x60f258(0xea)](_0x5b8130)<_0x15ca14)_0x2529db=![];if(Math[_0x60f258(0xea)](_0x5b8130)*_0x53afb6[_0x60f258(0x164)]<_0x11116c)_0x2529db=![];let _0x5a72db='';if(_0x53afb6[_0x60f258(0x27a)]==_0x60f258(0x219)){let _0x3e3dfa=config[_0x60f258(0x1a7)][_0x60f258(0x229)](_0x1825e7=>_0x1825e7[_0x60f258(0x239)]==_0x53afb6[_0x60f258(0x239)]);_0x3e3dfa[_0x60f258(0x103)]>0x0?Math[_0x60f258(0xea)](_0x5b8130)>_0x53afb6[_0x60f258(0x10e)]-_0x3e3dfa[_0x60f258(0x103)]&&(_0x2529db=![],_0x5a72db=_0x60f258(0x137)+_0x3e3dfa['coin']+'\x20due\x20to\x20offset'):Math[_0x60f258(0xea)](_0x5b8130)>_0x53afb6[_0x60f258(0x10e)]&&(_0x2529db=![]);}if(_0x53afb6[_0x60f258(0x27a)]==_0x60f258(0x10f)){let _0x4013a9=config[_0x60f258(0x1a7)][_0x60f258(0x229)](_0x3e6705=>_0x3e6705[_0x60f258(0x239)]==config[_0x60f258(0x101)]),_0x599d35=currentCoins[_0x60f258(0x229)](_0x127b7d=>_0x127b7d[_0x60f258(0x239)]==config[_0x60f258(0x101)]);_0x4013a9[_0x60f258(0x103)]>0x0?Math[_0x60f258(0xea)](_0x5b8130)*_0x53afb6['last']>_0x599d35['number']-_0x4013a9['offset']&&(_0x2529db=![],_0x5a72db='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config[_0x60f258(0x101)]+_0x60f258(0x221)):Math['abs'](_0x5b8130)*_0x53afb6[_0x60f258(0x164)]>_0x599d35[_0x60f258(0x10e)]&&(_0x2529db=![]);}return!_0x2529db&&_0x5a72db&&!insufficientFundsWarningSent[_0x60f258(0x1c7)](_0x53afb6[_0x60f258(0x239)])&&(logHistory(_0x60f258(0x181),_0x5a72db),insufficientFundsWarningSent['push'](_0x53afb6[_0x60f258(0x239)])),_0x2529db;}async function getBalances(_0x4d2116=!![]){const _0x15c96c=_0x246bd7;if(botPaused)return;let _0x34061c=0x0,_0x22dc30;const _0x3308d7=config[_0x15c96c(0x226)];if(config[_0x15c96c(0x279)]&&config[_0x15c96c(0x1bd)]<0x0)await validate24hChanges();currentCoins[_0x15c96c(0x189)](_0x4d35fd=>{const _0x20fc9f=_0x15c96c;if(_0x4d35fd[_0x20fc9f(0x239)]!=config['basecoin']){let _0x48249d=gTicker[noslash(_0x4d35fd[_0x20fc9f(0x24a)])];_0x22dc30=_0x4d35fd[_0x20fc9f(0x153)]?0x1/_0x48249d:_0x48249d;}else _0x22dc30=0x1;let _0x3d4f5c=_0x4d35fd[_0x20fc9f(0x10e)]*_0x22dc30;_0x34061c+=_0x3d4f5c,_0x4d35fd['last']=formatResult(Number(_0x22dc30),0x8),_0x4d35fd[_0x20fc9f(0x24d)]=_0x3d4f5c;}),currentCoins[_0x15c96c(0x189)](_0x4e9f93=>{const _0x5ccb71=_0x15c96c;let _0x4bd858=config[_0x5ccb71(0x1a7)]['find'](_0x4c3b1e=>_0x4c3b1e['coin']==_0x4e9f93[_0x5ccb71(0x239)]),_0xe825a1=Number(_0x4bd858[_0x5ccb71(0x1e4)]),_0x11e057=_0x4e9f93[_0x5ccb71(0x24d)]/_0x34061c*0x64,_0x43adc8=_0xe825a1*_0x34061c/0x64/_0x4e9f93[_0x5ccb71(0x164)]-_0x4e9f93['number'];_0x4e9f93[_0x5ccb71(0x1e4)]=formatResult(_0x11e057,0x3),_0x4e9f93[_0x5ccb71(0x1ab)]=formatResult(_0xe825a1,0x3),_0x4e9f93['trade']=formatResult(_0x43adc8,0x8),_0x4e9f93['side']='',_0x4e9f93[_0x5ccb71(0x1db)]=![];if(_0x4e9f93[_0x5ccb71(0x239)]!=config[_0x5ccb71(0x101)]){if(_0x4e9f93['distribution']>_0xe825a1)_0x4e9f93['side']=_0x5ccb71(0x219),_0x4e9f93[_0x5ccb71(0x1db)]=checkMinimums(_0x4e9f93);else _0x4e9f93[_0x5ccb71(0x1e4)]<_0xe825a1&&(_0x4e9f93[_0x5ccb71(0x27a)]=_0x5ccb71(0x10f),_0x4e9f93[_0x5ccb71(0x1db)]=checkMinimums(_0x4e9f93));}_0x4e9f93[_0x5ccb71(0x19b)]=_0x4e9f93['distribution']/_0x4e9f93['target']-0x1;if(_0x4e9f93[_0x5ccb71(0x234)]==_0x5ccb71(0x151)||_0x4e9f93['orderstatus']==_0x5ccb71(0x195))_0x4e9f93[_0x5ccb71(0x234)]=_0x5ccb71(0x241);}),currentCoins[_0x15c96c(0x102)]((_0x52c364,_0x59793a)=>_0x52c364[_0x15c96c(0x19b)]<_0x59793a[_0x15c96c(0x19b)]?0x1:_0x59793a[_0x15c96c(0x19b)]<_0x52c364[_0x15c96c(0x19b)]?-0x1:0x0);const _0x4b6335=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4b6335[_0x15c96c(0x27c)],'usd':_0x4b6335[_0x15c96c(0x1b3)],'portfolio':JSON[_0x15c96c(0x170)](currentCoins),'threshold':_0x3308d7},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x4d2116){if(config[_0x15c96c(0x279)])headlessMode({'portfolio':currentCoins,'threshold':_0x3308d7});else lockOrders==ORDERS[_0x15c96c(0x126)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x3308d7});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x5e8afb=getNormalizedPerformance();getStartingBalances(_0x5e8afb),emitPerformance(_0x5e8afb);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x3c4a97=_0x246bd7;let _0x214bdd=dbCoinResults[_0x3c4a97(0x19d)](_0x3c4a97(0x1ae))[_0x3c4a97(0x24d)](),_0x5ec7dc=0x0;return Object[_0x3c4a97(0x184)](_0x214bdd)[_0x3c4a97(0x189)](([_0x78b111,_0x21e0b3])=>{const _0x397d44=_0x3c4a97;_0x5ec7dc+=_0x21e0b3[_0x397d44(0xde)];}),_0x5ec7dc;}async function storePerformance(){const _0x223671=_0x246bd7;if(!lastBalances)return;let _0x1870bb=[],_0x8ed1c1;const _0x3894cd=getPnL();let _0x253fc9=JSON[_0x223671(0x108)](lastBalances[_0x223671(0x1a7)]);_0x253fc9[_0x223671(0x102)]((_0x5b50d9,_0xb2b9aa)=>_0x5b50d9[_0x223671(0x239)]>_0xb2b9aa[_0x223671(0x239)]?0x1:_0xb2b9aa[_0x223671(0x239)]>_0x5b50d9[_0x223671(0x239)]?-0x1:0x0),_0x253fc9[_0x223671(0x189)](_0x46d9bf=>{const _0x4a2649=_0x223671;let _0x4b3629={'coin':_0x46d9bf[_0x4a2649(0x239)],'number':_0x46d9bf[_0x4a2649(0x10e)],'price':_0x46d9bf['last']};_0x1870bb['push'](_0x4b3629);});const _0x5f10de=await getFiat(),_0x55bbaf=getTimeStamp()['split']('\x20')[0x0],_0x3c2c3d=dbPerformance[_0x223671(0x19d)]('data')[_0x223671(0x229)]({'date':_0x55bbaf})[_0x223671(0x24d)]();_0x8ed1c1={'date':_0x55bbaf,'eur':_0x5f10de['eur'],'usd':_0x5f10de[_0x223671(0x1b3)],'coins':_0x1870bb,'pnl':_0x3894cd},_0x3c2c3d?_0x8ed1c1['date']!=config[_0x223671(0x291)]&&dbPerformance[_0x223671(0x19d)](_0x223671(0x22f))[_0x223671(0x229)]({'date':_0x55bbaf})[_0x223671(0x1d6)](_0x8ed1c1)['write']():dbPerformance[_0x223671(0x19d)](_0x223671(0x22f))['push'](_0x8ed1c1)[_0x223671(0x11e)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x304cba=_0x246bd7;let _0x27d491=[];if(dbPerformance[_0x304cba(0x206)](_0x304cba(0x22f))[_0x304cba(0x24d)]()){let _0x457cd3=dbPerformance[_0x304cba(0x19d)](_0x304cba(0x22f))[_0x304cba(0x25e)]()['filter'](_0x38ce8e=>{const _0x833dcd=_0x304cba;if(_0x38ce8e[_0x833dcd(0x1ae)][_0x833dcd(0x1ec)]==0x0)return![];else return!![];})[_0x304cba(0x20d)]('date')['value'](),_0x8ef87f=[...config[_0x304cba(0x20f)]];_0x8ef87f[_0x304cba(0x102)]((_0x3f1d24,_0x330237)=>_0x3f1d24[_0x304cba(0xf1)]>_0x330237[_0x304cba(0xf1)]?-0x1:_0x330237[_0x304cba(0xf1)]>_0x3f1d24[_0x304cba(0xf1)]?0x1:0x0);let _0x25b40c=0x1,_0x53bda0=[],_0x48b054=0x0;_0x457cd3[_0x304cba(0x11f)]()[_0x304cba(0x153)]()[_0x304cba(0x189)]((_0x4251cd,_0x3d8f5b)=>{const _0x20babf=_0x304cba;if(_0x8ef87f[_0x48b054]){if(_0x457cd3[_0x457cd3[_0x20babf(0x1ec)]-_0x3d8f5b]&&_0x8ef87f[_0x48b054][_0x20babf(0xf1)]==_0x457cd3[_0x457cd3['length']-_0x3d8f5b][_0x20babf(0xf1)]){if(_0x3d8f5b<_0x457cd3[_0x20babf(0x1ec)]){let _0x37f86b=0x0,_0x1bb958=0x0;_0x457cd3[_0x457cd3[_0x20babf(0x1ec)]-_0x3d8f5b]['coins'][_0x20babf(0x189)](_0x1e27b5=>{const _0x20adfd=_0x20babf;_0x1bb958+=_0x1e27b5[_0x20adfd(0x10e)]*_0x1e27b5[_0x20adfd(0x1cc)];}),_0x8ef87f[_0x48b054][_0x20babf(0x13e)][_0x20babf(0x189)](_0x407a49=>{const _0x5ad06a=_0x20babf;_0x37f86b+=_0x407a49[_0x5ad06a(0x10e)]*_0x407a49[_0x5ad06a(0x1cc)];}),_0x25b40c*=_0x37f86b/(_0x1bb958-_0x37f86b)+0x1;}_0x48b054++;}}let _0x415ab7=0x0;_0x4251cd[_0x20babf(0x1ae)][_0x20babf(0x189)](_0x46ab37=>{_0x415ab7+=_0x46ab37['number']*_0x46ab37['price'];}),_0x53bda0[_0x457cd3[_0x20babf(0x1ec)]-_0x3d8f5b-0x1]=_0x415ab7*(_0x25b40c-0x1);});let _0x2327c8=[];_0x8ef87f=[...config[_0x304cba(0x20f)]]||[];let _0x5763f3=0x0;_0x48b054=0x0,_0x457cd3[_0x304cba(0x189)]((_0x2639bc,_0x4985b7)=>{const _0xfaf876=_0x304cba;if(_0x8ef87f[_0x48b054]){const _0x58d8f5=fns[_0xfaf876(0x108)](_0x8ef87f[_0x48b054][_0xfaf876(0xf1)],_0xfaf876(0x18d),new Date()),_0x268d97=fns['parse'](_0x2639bc[_0xfaf876(0xf1)],'yyyy/MM/dd',new Date());if(fns[_0xfaf876(0x173)](_0x58d8f5,_0x268d97)){let _0x5b8110=0x0;_0x8ef87f[_0x48b054][_0xfaf876(0x13e)][_0xfaf876(0x189)](_0x24aeb9=>{const _0x1c1062=_0xfaf876;!_0x2327c8[_0x24aeb9[_0x1c1062(0x239)]]?_0x2327c8[_0x24aeb9['coin']]=_0x24aeb9[_0x1c1062(0x10e)]:(_0x5b8110=_0x2327c8[_0x24aeb9[_0x1c1062(0x239)]],_0x2327c8[_0x24aeb9[_0x1c1062(0x239)]]+=_0x24aeb9[_0x1c1062(0x10e)]);const _0x200383=_0x2639bc[_0x1c1062(0x1ae)]['find'](_0x360caa=>_0x360caa[_0x1c1062(0x239)]==_0x24aeb9[_0x1c1062(0x239)]);(!_0x200383||_0x200383[_0x1c1062(0x10e)]==0x0)&&(_0x5763f3+=(-_0x24aeb9['number']-_0x5b8110)*_0x24aeb9[_0x1c1062(0x1cc)]);}),_0x48b054++;}}_0x2639bc['coins']['forEach']((_0x72da5d,_0x471cf4)=>{const _0x55fa9f=_0xfaf876;_0x2327c8[_0x72da5d['coin']]&&(_0x72da5d[_0x55fa9f(0x268)]=_0x2327c8[_0x72da5d['coin']]);}),_0x27d491[_0xfaf876(0x12a)]({'date':_0x2639bc[_0xfaf876(0xf1)],'eur':_0x2639bc[_0xfaf876(0x27c)],'usd':_0x2639bc[_0xfaf876(0x1b3)],'offset':_0x53bda0[_0x4985b7],'netoffset':_0x5763f3,'coins':_0x2639bc['coins'],'pnl':_0x2639bc[_0xfaf876(0x13c)]});});}return _0x27d491;}function emitPerformance(_0x53c23d){const _0x3c8b90=_0x246bd7;_0x53c23d[_0x3c8b90(0x1ec)]!==0x0?(proxyEmit(_0x3c8b90(0x1c2),_0x53c23d),lastPerformanceEmitted=getDate()):proxyEmit(_0x3c8b90(0x1c2),[]);}function getPerf(_0x4e8378,_0x28a589){const _0x2a63e6=_0x246bd7;let _0x27b70d=0x0,_0x180d38=0x0,_0x2999dc=0x0;_0x4e8378[_0x2a63e6(0x1ae)][_0x2a63e6(0x189)](_0x1d5aa6=>{const _0x35a3bb=_0x2a63e6;_0x27b70d+=_0x1d5aa6['number']*_0x1d5aa6[_0x35a3bb(0x1cc)];});_0x28a589&&(_0x27b70d+=_0x4e8378[_0x2a63e6(0x103)]);if(config[_0x2a63e6(0x101)]==='BTC'||config['basecoin']===_0x2a63e6(0x21e)||config[_0x2a63e6(0x101)]==='PAXG')_0x180d38=_0x27b70d*_0x4e8378[_0x2a63e6(0x27c)],_0x2999dc=_0x27b70d*_0x4e8378[_0x2a63e6(0x1b3)];else{if(usdBasecoins[_0x2a63e6(0x1c7)](config[_0x2a63e6(0x101)]))_0x180d38=_0x27b70d*_0x4e8378[_0x2a63e6(0x27c)]/_0x4e8378[_0x2a63e6(0x1b3)],_0x2999dc=_0x27b70d;else config[_0x2a63e6(0x101)]===_0x2a63e6(0x1fc)&&(_0x180d38=_0x27b70d,_0x2999dc=_0x27b70d*_0x4e8378['usd']/_0x4e8378[_0x2a63e6(0x27c)]);}return[_0x27b70d,_0x180d38,_0x2999dc];}function CurrencyFactor(_0x4e5a58,_0x333237,_0x54f0d9){const _0x1b0c31=_0x246bd7;let _0x1c0515;if(_0x333237===_0x1b0c31(0x29b)||_0x333237===_0x1b0c31(0x21e)||_0x333237===_0x1b0c31(0x125))_0x1c0515=_0x54f0d9===_0x1b0c31(0x1fc)?_0x4e5a58[_0x1b0c31(0x27c)]:_0x4e5a58[_0x1b0c31(0x1b3)];else{if(usdBasecoins[_0x1b0c31(0x1c7)](_0x333237))_0x1c0515=_0x54f0d9===_0x1b0c31(0x1fc)?_0x4e5a58['eur']/_0x4e5a58[_0x1b0c31(0x1b3)]:0x1;else _0x333237===_0x1b0c31(0x1fc)&&(_0x1c0515=_0x54f0d9==='EUR'?0x1:_0x4e5a58[_0x1b0c31(0x1b3)]/_0x4e5a58[_0x1b0c31(0x27c)]);}return _0x1c0515;}function getKPIs(_0x2893d5,_0x208de1=_0x246bd7(0x1fc)){const _0x342fa6=_0x246bd7,_0x5658c7=config['basecoin'],_0x3e5266=lastBalances,_0x49440f=currentCoins,_0x4f2756=getNormalizedPerformance(),_0x39cf3f=CurrencyFactor(_0x3e5266,config[_0x342fa6(0x101)],_0x208de1);let _0x587fb9=0x0;_0x49440f[_0x342fa6(0x189)](_0x4324a4=>{const _0x3d1073=_0x342fa6;_0x587fb9+=_0x4324a4['number']*_0x4324a4[_0x3d1073(0x164)];});_0x2893d5[_0x342fa6(0x1c7)](_0x342fa6(0x24e))&&(_0x587fb9*=_0x39cf3f);let _0x392b83;if(_0x587fb9!==0x0){if(_0x2893d5==='basecoin'||_0x2893d5==='fiat'){if(_0x2893d5==='basecoin')_0x392b83=(_0x587fb9/startingBalances[_0x342fa6(0x101)]-0x1)*0x64;else{if(_0x208de1===_0x342fa6(0x1fc))_0x392b83=(_0x587fb9/startingBalances['eur']-0x1)*0x64;else _0x392b83=(_0x587fb9/startingBalances['usd']-0x1)*0x64;}}if(_0x2893d5['includes'](_0x342fa6(0x11b))){let _0x531c85=0x0;if(startingBalances[_0x342fa6(0x1ae)])_0x49440f[_0x342fa6(0x189)](_0x45c33c=>{const _0x2749eb=_0x342fa6;let _0xfc3b4d=startingBalances[_0x2749eb(0x1ae)][_0x2749eb(0x229)](_0x5a4d46=>_0x5a4d46[_0x2749eb(0x239)]===_0x45c33c[_0x2749eb(0x239)]);if(_0xfc3b4d&&_0xfc3b4d[_0x2749eb(0x239)]&&_0x45c33c[_0x2749eb(0x10e)]!==0x0)_0x531c85+=_0xfc3b4d['number']*_0x45c33c[_0x2749eb(0x164)];});let _0x5cac15=0x0;if(_0x4f2756[_0x342fa6(0x1ec)]!==0x0){let _0x176f64=_0x4f2756[_0x4f2756[_0x342fa6(0x1ec)]-0x1];_0x5cac15=_0x176f64[_0x342fa6(0x257)];}_0x531c85-=_0x5cac15;let _0x20c272;_0x2893d5==='net-basecoin'&&(_0x20c272=startingBalances['basecoin']),_0x2893d5===_0x342fa6(0x246)&&(_0x20c272=_0x208de1===_0x342fa6(0x1fc)?startingBalances[_0x342fa6(0x27c)]:startingBalances['usd'],_0x531c85*=_0x39cf3f),_0x392b83=(_0x587fb9-_0x531c85)/_0x20c272*0x64,_0x587fb9=_0x587fb9-_0x531c85;}if(_0x2893d5[_0x342fa6(0x1c7)](_0x342fa6(0x13c))){if(_0x4f2756[_0x342fa6(0x1ec)]!==0x0&&_0x49440f[_0x342fa6(0x1ec)]!==0x0){let _0x38c7e4,_0x2ffd1e=_0x4f2756[_0x4f2756[_0x342fa6(0x1ec)]-0x1][_0x342fa6(0x13c)];_0x2893d5['includes'](_0x342fa6(0x24e))?(_0x38c7e4=_0x208de1===_0x342fa6(0x1fc)?startingBalances[_0x342fa6(0x27c)]:startingBalances[_0x342fa6(0x1b3)],_0x2ffd1e*=CurrencyFactor(_0x3e5266,_0x5658c7,_0x208de1)):_0x38c7e4=startingBalances['basecoin'],_0x392b83=_0x2ffd1e/_0x38c7e4*0x64,_0x587fb9=_0x2ffd1e;}}if(_0x392b83){if(_0x392b83<0x64)_0x392b83=_0x392b83[_0x342fa6(0x263)](0x2);else{if(_0x392b83<0x3e8)_0x392b83=_0x392b83['toFixed'](0x1);else _0x392b83=_0x392b83[_0x342fa6(0x263)](0x0);}}else _0x392b83=Number('0')[_0x342fa6(0x263)](0x2);if(_0x587fb9){if(Math[_0x342fa6(0xea)](_0x587fb9)<0.000001)_0x587fb9=_0x587fb9[_0x342fa6(0x263)](0x2);else{if(Math[_0x342fa6(0xea)](_0x587fb9)<0.1)_0x587fb9=_0x587fb9[_0x342fa6(0x263)](0x6);else{if(Math[_0x342fa6(0xea)](_0x587fb9)<0x1)_0x587fb9=_0x587fb9[_0x342fa6(0x263)](0x5);else{if(Math[_0x342fa6(0xea)](_0x587fb9)<0xa)_0x587fb9=_0x587fb9[_0x342fa6(0x263)](0x4);else{if(Math[_0x342fa6(0xea)](_0x587fb9)<0x64)_0x587fb9=_0x587fb9[_0x342fa6(0x263)](0x3);else{if(Math[_0x342fa6(0xea)](_0x587fb9)<0x3e8)_0x587fb9=_0x587fb9[_0x342fa6(0x263)](0x2);else _0x587fb9=_0x587fb9[_0x342fa6(0x263)](0x2);}}}}}}else _0x587fb9=Number('0')[_0x342fa6(0x263)](0x2);}else _0x392b83=Number('0')[_0x342fa6(0x263)](0x2);if(_0x392b83>=0x0)_0x392b83='+'+_0x392b83;return{'value':_0x587fb9,'change':_0x392b83};}async function getStartingBalances(_0x25ba81,_0x4ffe11=!![]){const _0xd34feb=_0x246bd7;if(_0x25ba81[_0xd34feb(0x1ec)]!==0x0){const [_0x934724,_0x38621b,_0x483cb5]=getPerf(_0x25ba81[0x0],!![]);let _0x1d46a9=[];config[_0xd34feb(0x1a7)][_0xd34feb(0x189)](_0xc27c7d=>{const _0x3b7511=_0xd34feb;let _0x298fb1=0x0,_0x552dbd;config[_0x3b7511(0x20f)]['forEach'](_0x1bccf2=>{const _0x4a355d=_0x3b7511;let _0x4e6a3b=_0x1bccf2[_0x4a355d(0x13e)][_0x4a355d(0x229)](_0x351356=>_0x351356['coin']==_0xc27c7d[_0x4a355d(0x239)]);if(_0x4e6a3b){_0x298fb1+=_0x4e6a3b[_0x4a355d(0x10e)];if(!_0x552dbd)_0x552dbd=_0x4e6a3b[_0x4a355d(0x1cc)];}}),_0x1d46a9[_0x3b7511(0x12a)]({'coin':_0xc27c7d[_0x3b7511(0x239)],'number':_0x298fb1,'initialprice':_0x552dbd});});const _0x16acb9={'basecoin':_0x934724,'eur':_0x38621b,'usd':_0x483cb5,'coins':_0x1d46a9};if(_0x4ffe11)proxyEmit(_0xd34feb(0x19a),_0x16acb9);startingBalances=_0x16acb9;}}function headlessMode(_0x4f3cbb){const _0xdd6f06=_0x246bd7;let _0x49b98a=_0x4f3cbb[_0xdd6f06(0x1a7)],_0x25bfa1=_0x4f3cbb[_0xdd6f06(0x226)],_0x4d3061=[];for(let _0x551235 of _0x49b98a){if(_0x551235[_0xdd6f06(0x239)]!=config[_0xdd6f06(0x101)]){if(_0x551235[_0xdd6f06(0x19b)]>=_0x25bfa1/0x64){if(_0x551235[_0xdd6f06(0x1db)])_0x4d3061[_0xdd6f06(0x12a)](_0x551235);}else{if(_0x551235[_0xdd6f06(0x19b)]<=-_0x25bfa1/0x64){if(_0x551235[_0xdd6f06(0x1db)])_0x4d3061[_0xdd6f06(0x12a)](_0x551235);}}}}_0x4d3061[_0xdd6f06(0x1ec)]>0x0&&placeOrder(_0x4d3061);}function notifyBalance(_0x55f88b){const _0x55ca53=_0x246bd7;let _0x3d878a=_0x55f88b[_0x55ca53(0x1a7)],_0x526b3b=_0x55f88b[_0x55ca53(0x226)],_0x1598c4=[];for(let _0x3ecc60 of _0x3d878a){if(_0x3ecc60['coin']!=config['basecoin']){if(_0x3ecc60[_0x55ca53(0x19b)]>=_0x526b3b/0x64){if(_0x3ecc60[_0x55ca53(0x1db)])_0x1598c4[_0x55ca53(0x12a)](_0x3ecc60);}else{if(_0x3ecc60[_0x55ca53(0x19b)]<=-_0x526b3b/0x64){if(_0x3ecc60[_0x55ca53(0x1db)])_0x1598c4[_0x55ca53(0x12a)](_0x3ecc60);}}}}if(_0x1598c4['length']>0x0){let _0x4b88bd=_0x1598c4[_0x55ca53(0x180)](_0x22fcf2=>_0x22fcf2[_0x55ca53(0x239)]);_0x4b88bd[_0x55ca53(0x102)]();let _0x196b9a=_0x4b88bd[_0x55ca53(0x212)](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x196b9a;}}function symbolToCoin(_0x273f32){const _0x4e1dd8=_0x246bd7;let _0x141d51;if(_0x273f32['includes']('/'+config[_0x4e1dd8(0x101)]))_0x141d51=_0x273f32['replace']('/'+config[_0x4e1dd8(0x101)],'');if(_0x273f32[_0x4e1dd8(0x1c7)](config[_0x4e1dd8(0x101)]+'/'))_0x141d51=_0x273f32['replace'](config[_0x4e1dd8(0x101)]+'/','');return _0x141d51;}function setLockOrders(_0x4d29c9){const _0xbb1d9d=_0x246bd7;lockOrders=_0x4d29c9,logger[_0xbb1d9d(0x149)](_0xbb1d9d(0x21d)+Object[_0xbb1d9d(0x225)](ORDERS)[lockOrders]);}async function unlockOrders(_0x41a4ef=![]){const _0x16010a=_0x246bd7;if(allOrdersPlaced&&lockOrders==ORDERS[_0x16010a(0xf8)]){setLockOrders(ORDERS[_0x16010a(0x132)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x41a4ef){const _0x4ca43a=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4ca43a,setBlockTransactionDetection(![]);}validateOrdersState=_0x16010a(0x268),persistOpenOrders([]),setLockOrders(ORDERS[_0x16010a(0x126)]);}}async function validateOrders(_0x365e60){const _0x1b577c=_0x246bd7;if(_0x365e60)validateOrdersState=_0x365e60;logger[_0x1b577c(0x149)](_0x1b577c(0x22d)+validateOrdersState+_0x1b577c(0x274)+Object[_0x1b577c(0x225)](ORDERS)[lockOrders]);let _0x2ad5ca=[],_0x155204=config[_0x1b577c(0x24c)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x1b577c(0x133)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x1b577c(0x149)](_0x1b577c(0x12f)+validateOrdersState);for(let _0x4cff56=lastOrders['length']-0x1;_0x4cff56>=0x0;_0x4cff56--){let _0x482fee=lastOrders[_0x4cff56],_0x51d90c=![];_0x482fee['filled']>0x0&&(_0x51d90c=!![]),_0x2ad5ca[_0x1b577c(0x12a)](_0x51d90c),_0x51d90c&&config[_0x1b577c(0x24c)]!=_0x1b577c(0x231)&&logHistory(_0x1b577c(0x1d3),'Order\x20filled:\x20'+_0x482fee[_0x1b577c(0x24a)]+'\x20'+_0x482fee[_0x1b577c(0x27a)]+'\x20#'+formatResult(_0x482fee[_0x1b577c(0x151)],0x8)+'\x20@'+formatResult(_0x482fee[_0x1b577c(0x1cc)],0x8)),_0x51d90c&&lastOrders[_0x1b577c(0x299)](_0x4cff56,0x1);}persistOpenOrders(lastOrders);const _0xc06a72=coolingDown?_0x1b577c(0x15e):_0x1b577c(0x26c);if(validateOrdersState==_0x1b577c(0x268)){validateOrdersState=_0x1b577c(0x18f);if(_0x2ad5ca[_0x1b577c(0x1c7)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x1b577c(0x18f)){if(_0x2ad5ca[_0x1b577c(0x1c7)](![])){}else await unlockOrders();}else{if(validateOrdersState=='final'){let _0x5ad063=!![];if(_0x2ad5ca[_0x1b577c(0x1c7)](![])){if(config[_0x1b577c(0x24c)]==_0x1b577c(0x231))logHistory(_0x1b577c(0x1e6),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x1b577c(0x110)](_0x155204*validateOrderInterval/0xea60)+_0x1b577c(0x155)+_0xc06a72),await unlockOrders(!![]);else{_0x5ad063=await cancelOrders();if(_0x5ad063)logHistory(_0x1b577c(0x1e6),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x155204*validateOrderInterval/0xea60)+_0x1b577c(0x155)+_0xc06a72),await unlockOrders(!![]);else{validateOrdersState=_0x1b577c(0x18f),logHistory('error',_0x1b577c(0x213)+Math[_0x1b577c(0x110)](_0x155204*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0xc06a72),logHistory(_0x1b577c(0x12c),'Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later');const _0x450689=config[_0x1b577c(0x24c)]==_0x1b577c(0x231)?validateOrderTimeout*0x3c*0x3e8:config[_0x1b577c(0x133)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1ae84c=_0x1b577c;validateOrders(_0x1ae84c(0x296));},_0x450689);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x1b577c(0x28f)){if(config[_0x1b577c(0x24c)]!=_0x1b577c(0x231))logHistory(_0x1b577c(0x1e6),_0x1b577c(0x22a)+_0xc06a72);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0xd50447=_0x246bd7;let _0x20485f=!![],_0x3267e9;for(const _0x511e58 of lastOrders){let _0x58a7b4=![],_0x352472=0x0;while(!_0x58a7b4&&_0x352472<maxRetries){try{const _0x4095d1=await exchange[_0xd50447(0xf5)](_0x511e58['orderId'],_0x511e58[_0xd50447(0x24a)]);_0x58a7b4=!![];}catch(_0x28f316){_0x28f316[_0xd50447(0x163)]()[_0xd50447(0x1c7)](_0xd50447(0x1a4))||_0x28f316[_0xd50447(0x163)]()['includes'](_0xd50447(0x25c))?_0x58a7b4=!![]:(_0x3267e9=_0x28f316,_0x58a7b4=![]);}!_0x58a7b4&&(_0x352472++,await sleep(retryInterval));}_0x20485f=_0x20485f&&_0x58a7b4;}return!_0x20485f&&await handleError(_0x3267e9,_0xd50447(0xee)),_0x20485f;}async function initCoinResults(_0x3bdc6b){const _0x221fa4=_0x246bd7;_0x3bdc6b?logger[_0x221fa4(0x149)]('Resetting\x20coin\x20results:\x20'+_0x3bdc6b):logger[_0x221fa4(0x149)](_0x221fa4(0x276)),config[_0x221fa4(0x1a7)]['forEach'](_0x16c0ed=>{const _0x57e50d=_0x221fa4;if(!_0x16c0ed[_0x57e50d(0x152)]&&_0x16c0ed[_0x57e50d(0x239)]!=config[_0x57e50d(0x101)]){const _0x2d8664=currentCoins[_0x57e50d(0x229)](_0x4d437b=>_0x4d437b['coin']==_0x16c0ed['coin']),_0xf4fb13=gTicker[noslash(_0x16c0ed['symbol'])];let _0x17e4ea=_0x2d8664?_0x2d8664[_0x57e50d(0x10e)]:null,_0x4658b3=_0x16c0ed[_0x57e50d(0x153)]?0x1/_0xf4fb13:_0xf4fb13,_0x566dd3;config['liquidity'][_0x57e50d(0x189)](_0x4807d7=>{const _0x5097a3=_0x57e50d;!_0x566dd3&&(_0x566dd3=_0x4807d7['changes'][_0x5097a3(0x229)](_0x206b36=>_0x206b36[_0x5097a3(0x239)]==_0x16c0ed[_0x5097a3(0x239)]),_0x566dd3&&(_0x17e4ea=_0x566dd3[_0x5097a3(0x10e)],_0x4658b3=_0x566dd3['price']));});let _0x2e9d47=dbCoinResults[_0x57e50d(0x19d)]('coins')[_0x57e50d(0x229)]({'coin':_0x16c0ed[_0x57e50d(0x239)]})[_0x57e50d(0x24d)]();if(!_0x2e9d47){const _0xac541={'coin':_0x16c0ed['coin'],'number':_0x17e4ea,'breakeven':_0x4658b3,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x57e50d(0x1ae))['push'](_0xac541)['write']();}else{if(_0x3bdc6b&&_0x16c0ed[_0x57e50d(0x239)]==_0x3bdc6b){const _0x35101f={'coin':_0x16c0ed[_0x57e50d(0x239)],'number':_0x17e4ea,'breakeven':_0x4658b3,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x57e50d(0x19d)](_0x57e50d(0x1ae))['find']({'coin':_0x16c0ed['coin']})[_0x57e50d(0x1d6)](_0x35101f)[_0x57e50d(0x11e)]();}}}});}async function placeOrder(_0x30f654){const _0x1e8fc9=_0x246bd7,_0x3df337=config[_0x1e8fc9(0x24c)]==_0x1e8fc9(0x231)?'market':_0x1e8fc9(0x272);if(lockOrders==ORDERS[_0x1e8fc9(0x126)]&&!coolingDown){setLockOrders(ORDERS[_0x1e8fc9(0xf8)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x1e8fc9(0x149)](_0x1e8fc9(0xf2)+_0x30f654[_0x1e8fc9(0x180)](_0x4a66f3=>_0x4a66f3[_0x1e8fc9(0x239)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x1e8fc9(0x268);let _0x3ce3db=![];lastOrders=[];const _0xbc4859=config[_0x1e8fc9(0x226)];for(const _0x20f80a of _0x30f654){let _0x3584d0,_0x3696af,_0x30372a,_0x924ae6,_0x1ca1e4,_0x12d3e6=_0x20f80a[_0x1e8fc9(0x24a)];logger['debug']('Trigger:\x20'+_0x20f80a[_0x1e8fc9(0x239)]+'\x20'+_0x20f80a[_0x1e8fc9(0x10e)]+'\x20'+_0x20f80a[_0x1e8fc9(0x164)]+'\x20'+_0x20f80a[_0x1e8fc9(0x1e4)]+'%\x20'+_0x20f80a[_0x1e8fc9(0x1ab)]+'%\x20'+(0x64*_0x20f80a[_0x1e8fc9(0x19b)])[_0x1e8fc9(0x263)](0x2)+_0x1e8fc9(0x200)+_0xbc4859['toFixed'](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x1e8fc9(0x297)](_0x321f49=>_0x321f49!==_0x20f80a[_0x1e8fc9(0x239)]);const _0x6a6fed=currentCoins['find'](_0x2aee49=>_0x2aee49['coin']==_0x20f80a['coin']);_0x6a6fed&&(_0x6a6fed['prevnumber']=_0x20f80a[_0x1e8fc9(0x10e)]);try{const _0x39958d=await exchange[_0x1e8fc9(0x177)](_0x12d3e6);_0x3584d0=_0x20f80a[_0x1e8fc9(0x153)]?0x1/_0x20f80a[_0x1e8fc9(0x164)]:_0x20f80a[_0x1e8fc9(0x164)],_0x3696af=_0x39958d[_0x1e8fc9(0xfc)],_0x30372a=_0x39958d[_0x1e8fc9(0xf0)];_0x20f80a['reverse']?(_0x924ae6=_0x20f80a[_0x1e8fc9(0x27a)]=='buy'?_0x1e8fc9(0x219):'buy',_0x1ca1e4=Math[_0x1e8fc9(0xea)](_0x20f80a[_0x1e8fc9(0x1c5)])/_0x3584d0):(_0x924ae6=_0x20f80a[_0x1e8fc9(0x27a)],_0x1ca1e4=Math[_0x1e8fc9(0xea)](_0x20f80a[_0x1e8fc9(0x1c5)]));_0x3df337==_0x1e8fc9(0x272)&&(config[_0x1e8fc9(0x24c)]==_0x1e8fc9(0x22b)&&(_0x3584d0=_0x924ae6==_0x1e8fc9(0x10f)?_0x3696af:_0x30372a),config['ordertype']==_0x1e8fc9(0x21f)&&(_0x3584d0=_0x924ae6=='buy'?_0x30372a:_0x3696af));_0x1ca1e4=formatResult(_0x1ca1e4,0x8),_0x3584d0=formatResult(_0x3584d0,0x8);const _0x501bb8=_0x924ae6==_0x1e8fc9(0x219)?config[_0x1e8fc9(0x1df)]?String[_0x1e8fc9(0x183)]('0x'+config[_0x1e8fc9(0x1df)])+'\x20':'':config[_0x1e8fc9(0x1a1)]?String['fromCodePoint']('0x'+config[_0x1e8fc9(0x1a1)])+'\x20':'',_0x5b57dd=_0x3df337==_0x1e8fc9(0x231)?_0x1e8fc9(0x29e):config[_0x1e8fc9(0x24c)]==_0x1e8fc9(0x22b)?'Limit\x20(high-margin)':_0x1e8fc9(0x2a4),_0x4bf8f2=(Math[_0x1e8fc9(0x114)](Math[_0x1e8fc9(0x294)]()*0x35a4e900)+0x5f5e100)[_0x1e8fc9(0x163)]();lastOrders[_0x1e8fc9(0x12a)]({'customId':_0x4bf8f2,'symbol':_0x12d3e6,'coin':_0x20f80a[_0x1e8fc9(0x239)],'amount':_0x1ca1e4,'price':_0x3584d0,'side':_0x924ae6,'reverse':_0x20f80a[_0x1e8fc9(0x153)],'filled':0x0});let _0x1c2a44;_0x3df337==_0x1e8fc9(0x231)?_0x924ae6==_0x1e8fc9(0x10f)&&['Bybit','Bitget',_0x1e8fc9(0x1f3),_0x1e8fc9(0x1d7),'Huobipro']['includes'](config[_0x1e8fc9(0x1f5)])?_0x1c2a44=await exchange[_0x1e8fc9(0x118)](_0x12d3e6,_0x3df337,_0x924ae6,_0x1ca1e4,_0x3584d0):_0x1c2a44=await exchange['createOrder'](_0x12d3e6,_0x3df337,_0x924ae6,_0x1ca1e4,undefined):_0x1c2a44=await exchange[_0x1e8fc9(0x118)](_0x12d3e6,_0x3df337,_0x924ae6,_0x1ca1e4,_0x3584d0);const _0x3a9c87=lastOrders['length']-0x1;if(_0x3a9c87>=0x0&&lastOrders[_0x3a9c87][_0x1e8fc9(0x128)]==_0x4bf8f2){lastOrders[_0x3a9c87][_0x1e8fc9(0x14b)]=_0x1c2a44['id'];if(_0x1c2a44[_0x1e8fc9(0xe9)])lastOrders[_0x3a9c87][_0x1e8fc9(0xe9)]=_0x1c2a44[_0x1e8fc9(0xe9)];if(_0x1c2a44[_0x1e8fc9(0x1cc)])lastOrders[_0x3a9c87][_0x1e8fc9(0x1cc)]=_0x1c2a44[_0x1e8fc9(0x1cc)];lastOrders[_0x3a9c87][_0x1e8fc9(0x209)]=_0x1c2a44[_0x1e8fc9(0x209)];}if(_0x1c2a44[_0x1e8fc9(0xe9)])_0x1ca1e4=_0x1c2a44[_0x1e8fc9(0xe9)];if(_0x1c2a44[_0x1e8fc9(0x1cc)])_0x3584d0=_0x1c2a44[_0x1e8fc9(0x1cc)];if(_0x3df337==_0x1e8fc9(0x231))logHistory(_0x1e8fc9(0x1d3),''+_0x501bb8+_0x5b57dd+'\x20order:\x20'+_0x12d3e6+'\x20'+_0x924ae6+'\x20#'+formatResult(_0x1ca1e4,0x8)+'\x20@'+formatResult(_0x3584d0,0x8));else logHistory('order',''+_0x501bb8+_0x5b57dd+'\x20order:\x20'+_0x12d3e6+'\x20'+_0x924ae6+'\x20#'+formatResult(_0x1ca1e4,0x8)+'\x20@'+formatResult(_0x3584d0,0x8));logger[_0x1e8fc9(0x149)](_0x1e8fc9(0x158)+_0x1c2a44['id']+'\x20|\x20Custom\x20ID:\x20'+_0x4bf8f2);if(config[_0x1e8fc9(0x242)]!=0x0){let _0x861890=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x861890=cooldownTracker['shift']();const _0x288788=getTimeStamp();cooldownTracker['push'](_0x288788);if(_0x861890){const _0x363f11=fns['differenceInSeconds'](new Date(_0x288788),new Date(_0x861890));if(_0x363f11<cooldownInterval){logHistory(_0x1e8fc9(0x12c),'Executed\x20'+config[_0x1e8fc9(0x242)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x58499a){if(_0x58499a['toString']()[_0x1e8fc9(0x1c7)](_0x1e8fc9(0x217)))lastOrders=lastOrders[_0x1e8fc9(0x297)](_0x5e2a78=>_0x5e2a78[_0x1e8fc9(0x24a)]!=_0x12d3e6),logHistory(_0x1e8fc9(0x12c),_0x1e8fc9(0x182)+_0x12d3e6),_0x3ce3db=!![];else{if(_0x58499a[_0x1e8fc9(0x163)]()[_0x1e8fc9(0x1c7)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x1e8fc9(0x297)](_0x23a384=>_0x23a384['symbol']!=_0x12d3e6),logHistory(_0x1e8fc9(0x12c),_0x1e8fc9(0x214)+_0x12d3e6),_0x3ce3db=!![];else{if(_0x58499a[_0x1e8fc9(0x163)]()['includes'](_0x1e8fc9(0x25c)))lastOrders=lastOrders[_0x1e8fc9(0x297)](_0xaca3f7=>_0xaca3f7[_0x1e8fc9(0x24a)]!=_0x12d3e6),logHistory('error',_0x1e8fc9(0x191)+_0x12d3e6),logger[_0x1e8fc9(0x149)](_0x58499a),_0x3ce3db=!![];else _0x58499a['toString']()[_0x1e8fc9(0x1c7)](_0x1e8fc9(0x2aa))?(lastOrders=lastOrders[_0x1e8fc9(0x297)](_0x26ffac=>_0x26ffac[_0x1e8fc9(0x24a)]!=_0x12d3e6),logHistory(_0x1e8fc9(0x12c),_0x1e8fc9(0x182)+_0x12d3e6),_0x3ce3db=!![]):(lastOrders=lastOrders[_0x1e8fc9(0x297)](_0x31bea9=>_0x31bea9[_0x1e8fc9(0x24a)]!=_0x12d3e6),await handleError(_0x58499a,_0x1e8fc9(0x193),_0x12d3e6));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x1e8fc9(0x1ec)]>0x0){const _0x40ee8e=config[_0x1e8fc9(0x24c)]==_0x1e8fc9(0x231)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x13448e=_0x1e8fc9;validateOrders(_0x13448e(0x296));},_0x40ee8e);}else unlockOrders();_0x3ce3db&&config[_0x1e8fc9(0x279)]&&(logHistory(_0x1e8fc9(0x12c),_0x1e8fc9(0x2a2)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x1e8fc9(0x117)));}else{if(coolingDown)!config['headless']&&logHistory(_0x1e8fc9(0x12c),_0x1e8fc9(0x266));else lockOrders!=ORDERS[_0x1e8fc9(0x126)]&&(!config[_0x1e8fc9(0x279)]&&(config[_0x1e8fc9(0x24c)]==_0x1e8fc9(0x231)?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x1e8fc9(0x12c),_0x1e8fc9(0xfb))));}}function persistOpenOrders(_0x3f07c6){const _0x52d310=_0x246bd7,_0x2d2ef4={...config,'openOrders':_0x3f07c6};let _0x328189=dbConfig['get']('bot')[_0x52d310(0x229)]({'botID':botID})[_0x52d310(0x24d)]();_0x328189&&dbConfig['get']('bot')[_0x52d310(0x229)]({'botID':botID})['assign'](_0x2d2ef4)[_0x52d310(0x11e)]();}function restoreOrders(){const _0x466a26=_0x246bd7;let _0x441d16;config[_0x466a26(0x172)]&&allOpenOrders['forEach'](_0x282780=>{const _0x155565=_0x466a26,_0x3c77ba=config[_0x155565(0x172)][_0x155565(0x229)](_0x4d780f=>_0x4d780f[_0x155565(0x14b)]==_0x282780['id']);_0x3c77ba&&(lastOrders['push'](_0x3c77ba),_0x441d16=_0x282780[_0x155565(0x211)]);});if(lastOrders[_0x466a26(0x1ec)]>0x0){setLockOrders(ORDERS['LOCKED']),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x174382=new Date()[_0x466a26(0x14f)](),_0x145ea5=config[_0x466a26(0x24c)]==_0x466a26(0x231)?validateOrderTimeout*0x3c*0x3e8:config[_0x466a26(0x133)]*0x3c*0x3e8;if(_0x441d16+_0x145ea5>_0x174382){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5e2626=_0x466a26;validateOrders(_0x5e2626(0x296));},_0x441d16+_0x145ea5-_0x174382);}else validateOrders(_0x466a26(0x296));}}async function sendMetricsTelegram(){const _0x401fc3=_0x246bd7;if(!coinsLoaded){process[_0x401fc3(0x1ba)]({'telegrammsg':_0x401fc3(0x1d1)},_0x47d87b=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x18d7b5='';if(config['showname'])_0x18d7b5=_0x401fc3(0xf4)+config[_0x401fc3(0x222)]+_0x401fc3(0x175);else _0x18d7b5=_0x401fc3(0x1ca)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x3a6139=config[_0x401fc3(0x101)],_0x4fdec5=config[_0x401fc3(0x24e)],_0x29f90b=getKPIs(_0x401fc3(0x101)),_0x546191=getKPIs('fiat',_0x4fdec5),_0xb8cc8b=getKPIs(_0x401fc3(0x295)),_0x391f39=getKPIs('net-fiat',_0x4fdec5),_0x59d3be=getKPIs(_0x401fc3(0x1fd)),_0x2867c8=getKPIs(_0x401fc3(0x28d),_0x4fdec5);_0x3a6139[_0x401fc3(0x1c7)](_0x4fdec5)?(_0x18d7b5+=_0x401fc3(0x258),_0x18d7b5+=_0x401fc3(0xe5)+_0x3a6139+':\x20'+_0x29f90b[_0x401fc3(0x24d)]+'\x20('+_0x29f90b[_0x401fc3(0x12e)]+'%)\x0a',_0x18d7b5+=_0x401fc3(0xfd)+_0x3a6139+':\x20'+_0xb8cc8b[_0x401fc3(0x24d)]+'\x20('+_0xb8cc8b[_0x401fc3(0x12e)]+'%)\x0a',_0x18d7b5+=_0x401fc3(0x29c)+_0x3a6139+':\x20'+_0x59d3be[_0x401fc3(0x24d)]+'\x20('+_0x59d3be['change']+_0x401fc3(0x238),_0x18d7b5+='</pre>'):(_0x18d7b5+=_0x401fc3(0x258),_0x18d7b5+='Value\x20'+_0x3a6139+':\x20'+_0x29f90b[_0x401fc3(0x24d)]+'\x20('+_0x29f90b['change']+_0x401fc3(0x238),_0x18d7b5+=_0x401fc3(0xe5)+_0x4fdec5+':\x20'+_0x546191[_0x401fc3(0x24d)]+'\x20('+_0x546191[_0x401fc3(0x12e)]+_0x401fc3(0x238),_0x18d7b5+='Net\x20'+_0x3a6139+':\x20'+_0xb8cc8b[_0x401fc3(0x24d)]+'\x20('+_0xb8cc8b[_0x401fc3(0x12e)]+_0x401fc3(0x238),_0x18d7b5+=_0x401fc3(0xfd)+_0x4fdec5+':\x20'+_0x391f39[_0x401fc3(0x24d)]+'\x20('+_0x391f39['change']+_0x401fc3(0x238),_0x18d7b5+=_0x401fc3(0x29c)+_0x3a6139+':\x20'+_0x59d3be[_0x401fc3(0x24d)]+'\x20('+_0x59d3be['change']+_0x401fc3(0x238),_0x18d7b5+=_0x401fc3(0x29c)+_0x4fdec5+':\x20'+_0x2867c8[_0x401fc3(0x24d)]+'\x20('+_0x2867c8[_0x401fc3(0x12e)]+_0x401fc3(0x238),_0x18d7b5+=_0x401fc3(0x245)),process[_0x401fc3(0x1ba)]({'telegrammsg':_0x18d7b5},_0x307aee=>{});}async function sendPortfolioTelegram(){const _0x842993=_0x246bd7;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x842993(0x1ba)]({'telegrammsg':_0x842993(0x1d1)},_0x1189da=>{});return;}let _0x390fc0='';if(config['showname'])_0x390fc0=_0x842993(0xf4)+config['botname']+_0x842993(0x1b8);else _0x390fc0=_0x842993(0x1ca)+botID+_0x842993(0x1b8);_0x390fc0+=_0x842993(0x258),_0x390fc0+=_0x842993(0x18a),_0x390fc0+=_0x842993(0x1b2),_0x390fc0+=_0x842993(0x18a),currentCoins['forEach'](_0x41b9bf=>{const _0x49d731=_0x842993;_0x390fc0+=_0x41b9bf['coin'][_0x49d731(0x135)](0x7)+'|\x20'+formatPad(_0x41b9bf['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x41b9bf[_0x49d731(0x1ab)],0x2,0x6)+'|\x20'+formatPad(_0x41b9bf[_0x49d731(0x19b)]*0x64,0x2,0x6)+'\x0a';}),_0x390fc0+=_0x842993(0x245),process['send']({'telegrammsg':_0x390fc0},_0x61da1f=>{});}function formatPad(_0x20394e,_0x18a639,_0x84112){const _0x36c646=_0x246bd7,_0x1bce23=formatResultString(_0x20394e,_0x18a639);return _0x1bce23?_0x1bce23[_0x36c646(0x271)](_0x84112):''[_0x36c646(0x271)](_0x84112);}function logHistory(_0x23e25b,_0x545680,_0x3a28cd=''){const _0x41fec8=_0x246bd7;logger['full'](''+_0x545680);let _0x2bd66c={'time':getTimeStamp(),'type':_0x23e25b,'event':_0x545680};dbLogs[_0x41fec8(0x19d)](_0x41fec8(0x1a2))[_0x41fec8(0x12a)](_0x2bd66c)[_0x41fec8(0x11e)]();if(_0x3a28cd=='')_0x3a28cd=_0x545680;proxyEmit('event',{'log':_0x2bd66c,'summary':_0x3a28cd}),process[_0x41fec8(0x1ba)]({'telegram':{..._0x2bd66c,'botname':config[_0x41fec8(0x222)],'showname':config['showname']}},_0x11accf=>{});}function emitHistory(_0x1f4fcd={}){const _0x544049=_0x246bd7;Object[_0x544049(0x225)](_0x1f4fcd)[_0x544049(0x1ec)]==0x0&&(_0x1f4fcd={'type':[_0x544049(0x1d3),_0x544049(0x15f)],'event':'','page':0x1});if(_0x1f4fcd[_0x544049(0x26b)][_0x544049(0x1c7)](_0x544049(0x15f)))_0x1f4fcd['type'][_0x544049(0x299)](_0x1f4fcd['type'][_0x544049(0x23f)](_0x544049(0x15f)),0x1,_0x544049(0x12c),'warning',_0x544049(0x1e6));if(dbLogs[_0x544049(0x206)]('logs')[_0x544049(0x24d)]()){let _0x29af08=dbLogs[_0x544049(0x19d)]('logs')['filter'](_0x22e048=>{const _0x368f92=_0x544049;if(_0x1f4fcd[_0x368f92(0x26b)][_0x368f92(0x1ec)]==0x0)return![];else return _0x1f4fcd[_0x368f92(0x26b)][_0x368f92(0x1c7)](_0x22e048[_0x368f92(0x26b)]);})[_0x544049(0x297)](_0x51a3b9=>{const _0x2ba80c=_0x544049;if(_0x1f4fcd[_0x2ba80c(0x15f)]=='')return!![];else return _0x51a3b9[_0x2ba80c(0x15f)][_0x2ba80c(0x288)]()[_0x2ba80c(0x1c7)](_0x1f4fcd['event'][_0x2ba80c(0x288)]());})[_0x544049(0x20d)](_0x544049(0x159)),_0x482a92=_0x29af08[_0x544049(0x24d)]()[_0x544049(0x1ec)];_0x29af08=_0x29af08[_0x544049(0x153)]()[_0x544049(0x11f)]((_0x1f4fcd[_0x544049(0x24f)]-0x1)*logPageSize,_0x1f4fcd[_0x544049(0x24f)]*logPageSize-0x1)[_0x544049(0x153)]()[_0x544049(0x24d)](),proxyEmit('event-history',{'logs':_0x29af08,'total':_0x482a92});}else proxyEmit(_0x544049(0x287),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4757e0){const _0x4bc4ac=_0x246bd7;if(dbLogs[_0x4bc4ac(0x206)](_0x4bc4ac(0x1a2))[_0x4bc4ac(0x24d)]()){const _0x296b62=dbLogs[_0x4bc4ac(0x19d)](_0x4bc4ac(0x1a2))['sortBy']('time')['filter'](_0x31639e=>{return _0x31639e['type']=='order';})[_0x4bc4ac(0x24d)]();dbLogs[_0x4bc4ac(0x19d)](_0x4bc4ac(0x1a2))[_0x4bc4ac(0x176)]()['write'](),dbLogs[_0x4bc4ac(0x19d)]('logs')[_0x4bc4ac(0x1d6)](_0x296b62)[_0x4bc4ac(0x11e)](),emitHistory(_0x4757e0);}}async function pauseBot(_0x2accde=pauseBotIntervalShort,_0x5b737e,_0x3de3d9,_0x36c958=![]){const _0x564954=_0x246bd7,_0x5e0f15=new Date()[_0x564954(0x14f)]();if(!lastErrorShown||_0x5e0f15-lastErrorShown>=_0x2accde){lastErrorShown=_0x5e0f15;if(!lastBotPause)lastBotPause=_0x5e0f15,consecutivePauses=0x1;else{if(_0x5e0f15-lastBotPause-_0x2accde<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x36c958){logHistory(_0x564954(0x12c),_0x5b737e+'\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();return;}else logHistory(_0x564954(0x12c),_0x5b737e+pauseBotMsg),_0x2accde=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x5e0f15;}_0x3de3d9?logger[_0x564954(0x149)]('('+consecutivePauses+')\x20'+_0x5b737e+_0x564954(0x1dc),_0x3de3d9):logger['debug']('('+consecutivePauses+')\x20'+_0x5b737e);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x2accde),botPaused=![],_0x2accde==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){botPaused=!![],await sleep(0x3e8),process['send']({'stop':'kill'},_0x11a7d0=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x27bf7a,_0xf15a67,_0x51fad1=![]){const _0x5627f8=_0x246bd7;if(botPaused)return;let _0x12a9e1;const _0x39a6ae=config['exchange']||_0x5627f8(0x107);if(_0xf15a67)logger[_0x5627f8(0x149)](_0x5627f8(0x247)+_0xf15a67);const _0x3669be=()=>{const _0x1750ba=_0x5627f8;loading[_0x1750ba(0x12c)]=_0x1750ba(0x19c),emitLoadingProgress();};if(_0x27bf7a[_0x5627f8(0x163)]()[_0x5627f8(0x1c7)](_0x5627f8(0x13d)))logHistory('error',_0x39a6ae+_0x5627f8(0x267)),_0x3669be();else{if(_0x27bf7a[_0x5627f8(0x163)]()[_0x5627f8(0x1c7)](_0x5627f8(0x227)))logHistory('error',_0x39a6ae+_0x5627f8(0x1b4)),_0x3669be();else{if(_0x27bf7a[_0x5627f8(0x163)]()[_0x5627f8(0x1c7)](_0x5627f8(0x289)))config[_0x5627f8(0x236)]?_0x12a9e1=_0x39a6ae+_0x5627f8(0x17e):_0x12a9e1=_0x39a6ae+_0x5627f8(0xec),logHistory(_0x5627f8(0x12c),_0x12a9e1+'\x20(see:\x20hodlerhacks.com/fix/1)'),_0x3669be();else{if(_0x27bf7a[_0x5627f8(0x163)]()[_0x5627f8(0x1c7)](_0x5627f8(0x265)))logHistory(_0x5627f8(0x12c),_0x39a6ae+_0x5627f8(0x259)),_0x3669be();else{if(!_0x51fad1)await handleError(_0x27bf7a,null);}}}}}async function handleError(_0x32b1bf,_0x50f6f8,_0x411efc=''){const _0x2d9cdf=_0x246bd7;if(botPaused)return;let _0x378051;const _0x314d68=config['exchange']||_0x2d9cdf(0x107);if(_0x50f6f8)logger[_0x2d9cdf(0x149)](_0x2d9cdf(0x247)+_0x50f6f8);if(_0x32b1bf['toString']()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x188)))_0x378051=_0x314d68+_0x2d9cdf(0x192),await pauseBot(undefined,_0x378051,_0x32b1bf);else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x13f)))_0x378051=_0x314d68+_0x2d9cdf(0x13b),await pauseBot(undefined,_0x378051,_0x32b1bf);else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x1e5))||_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x240)))_0x378051=_0x314d68+_0x2d9cdf(0x270),await pauseBot(undefined,_0x378051,_0x32b1bf['toString']());else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)]('RequestTimeout'))_0x378051=_0x314d68+_0x2d9cdf(0x22e),await pauseBot(undefined,_0x378051,_0x32b1bf[_0x2d9cdf(0x163)]());else{if(_0x32b1bf['toString']()[_0x2d9cdf(0x1c7)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x378051=_0x314d68+_0x2d9cdf(0x25d),await pauseBot(undefined,_0x378051,_0x32b1bf[_0x2d9cdf(0x163)]());else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x288)]()['includes'](_0x2d9cdf(0x211))||_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x288)]()[_0x2d9cdf(0x1c7)]('request-time'))_0x378051=_0x2d9cdf(0x138),await pauseBot(undefined,_0x378051,_0x32b1bf[_0x2d9cdf(0x163)]());else{if(_0x32b1bf[_0x2d9cdf(0x163)]()['includes'](_0x2d9cdf(0x190)))_0x378051=_0x314d68+_0x2d9cdf(0x16a),await pauseBot(undefined,_0x378051,_0x32b1bf['toString']());else{if(_0x32b1bf instanceof ccxt[_0x2d9cdf(0xf7)])_0x378051=_0x314d68+_0x2d9cdf(0x1ac)+_0x32b1bf['toString'](),logger[_0x2d9cdf(0x149)]('Network\x20error\x20details:',_0x32b1bf),await pauseBot(undefined,_0x378051,_0x32b1bf);else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x13d)))logHistory(_0x2d9cdf(0x12c),_0x314d68+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x2d9cdf(0x12c),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x227)))logHistory(_0x2d9cdf(0x12c),_0x314d68+_0x2d9cdf(0x293)),logHistory(_0x2d9cdf(0x12c),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x32b1bf['toString']()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x289))&&_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)]('token\x20is\x20expired'))_0x378051=_0x314d68+_0x2d9cdf(0x1fb),await pauseBot(undefined,_0x378051,_0x32b1bf,!![]);else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x289)))config[_0x2d9cdf(0x236)]?_0x378051=_0x314d68+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x378051=_0x314d68+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x2d9cdf(0x12c),_0x378051),logHistory(_0x2d9cdf(0x12c),_0x2d9cdf(0xe0)),await killBot();else{if(_0x32b1bf['toString']()['includes'](_0x2d9cdf(0x265)))logHistory('error',_0x314d68+_0x2d9cdf(0x248)),logHistory(_0x2d9cdf(0x12c),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x32b1bf[_0x2d9cdf(0x163)]()[_0x2d9cdf(0x1c7)](_0x2d9cdf(0x144)))logHistory(_0x2d9cdf(0x12c),_0x2d9cdf(0x28b)+_0x411efc),logger[_0x2d9cdf(0x149)](_0x2d9cdf(0x154),_0x32b1bf);else{if(_0x32b1bf instanceof ccxt[_0x2d9cdf(0x1b1)]){_0x378051=_0x314d68+'\x20exchange\x20error:\x20'+_0x32b1bf['toString']();if(_0x411efc)_0x378051+=_0x2d9cdf(0x119)+_0x411efc;await pauseBot(undefined,_0x378051,_0x32b1bf);}else{_0x378051='Unknown\x20error:\x20'+_0x32b1bf[_0x2d9cdf(0x163)]();if(_0x411efc)_0x378051+=_0x2d9cdf(0x119)+_0x411efc;await pauseBot(undefined,_0x378051);}}}}}}}}}}}}}}}}function decryptRSA(_0x300102,_0x502204){const _0x5030f5=_0x246bd7,_0x30d7e9=forge[_0x5030f5(0x205)][_0x5030f5(0x286)](_0x300102),_0x3a9bb2=_0x30d7e9['decrypt'](forge[_0x5030f5(0x1eb)][_0x5030f5(0x264)](_0x502204),'RSA-OAEP',{'md':forge['md'][_0x5030f5(0xe2)]['create'](),'mgf1':{'md':forge['md']['sha256'][_0x5030f5(0x285)]()}});return _0x3a9bb2;}async function withRetry(_0x88d2d0,_0x331f5a){const _0x233f55=_0x246bd7;let _0x1ce43f=![],_0x472f1a=0x0,_0x33ab85,_0x161515;while(_0x472f1a<maxRetries){try{_0x33ab85=await _0x331f5a();break;}catch(_0x10e23e){_0x161515=_0x10e23e,!_0x1ce43f?(_0x1ce43f=!![],logger['debug'](_0x233f55(0x129)+_0x88d2d0+':',_0x10e23e['toString']())):await sleep(retryInterval);}_0x472f1a++;}if(_0x472f1a==0x0)return _0x33ab85;if(_0x472f1a>=maxRetries)throw _0x161515;else return logger[_0x233f55(0x149)](_0x233f55(0x1fe)+_0x472f1a+_0x233f55(0x10c)),_0x33ab85;}function formatResult(_0x4a4b1e,_0x24e9c4){const _0x48fd15=_0x246bd7;return parseFloat(_0x4a4b1e[_0x48fd15(0x263)](_0x24e9c4));}function formatResultTruncate(_0x15c2a6,_0x27d1ee){const _0x49a880=_0x246bd7;let _0x3147af=formatResultString(_0x15c2a6,0xa),_0x142db6=_0x3147af[_0x49a880(0x23f)]('.');return _0x142db6!=-0x1&&(_0x3147af=_0x3147af[_0x49a880(0x11f)](0x0,_0x142db6+_0x27d1ee+0x1)),Number(_0x3147af);}function formatResultString(_0x207756,_0x3c17b8){const _0x283d43=_0x246bd7;let _0x4ddbba;if(!(''+_0x207756)[_0x283d43(0x1c7)]('e'))_0x4ddbba=+(Math[_0x283d43(0x110)](_0x207756+'e+'+_0x3c17b8)+'e-'+_0x3c17b8);else{let _0x2352f9=(''+_0x207756)['split']('e'),_0x2d8404='';+_0x2352f9[0x1]+_0x3c17b8>0x0&&(_0x2d8404='+'),_0x4ddbba=+(Math[_0x283d43(0x110)](+_0x2352f9[0x0]+'e'+_0x2d8404+(+_0x2352f9[0x1]+_0x3c17b8))+'e-'+_0x3c17b8);}return Number(_0x4ddbba)[_0x283d43(0x263)](_0x3c17b8);}function getServerTime(){const _0x4898b4=_0x246bd7,_0x4706a8=new Date();return _0x4706a8[_0x4898b4(0x28c)]()+'/'+(_0x4706a8[_0x4898b4(0x10a)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x4706a8[_0x4898b4(0x131)]()['toString']()[_0x4898b4(0x271)](0x2,'0')+'\x20'+_0x4706a8[_0x4898b4(0x12b)]()[_0x4898b4(0x163)]()[_0x4898b4(0x271)](0x2,'0')+':'+_0x4706a8[_0x4898b4(0x2a8)]()[_0x4898b4(0x163)]()[_0x4898b4(0x271)](0x2,'0')+':'+_0x4706a8['getSeconds']()[_0x4898b4(0x163)]()[_0x4898b4(0x271)](0x2,'0');}function getTimeStamp(){const _0x1c7337=_0x246bd7,_0x2af036=shiftedTime();return _0x2af036['getFullYear']()+'/'+(_0x2af036['getMonth']()+0x1)[_0x1c7337(0x163)]()[_0x1c7337(0x271)](0x2,'0')+'/'+_0x2af036[_0x1c7337(0x131)]()[_0x1c7337(0x163)]()[_0x1c7337(0x271)](0x2,'0')+'\x20'+_0x2af036[_0x1c7337(0x12b)]()[_0x1c7337(0x163)]()[_0x1c7337(0x271)](0x2,'0')+':'+_0x2af036[_0x1c7337(0x2a8)]()[_0x1c7337(0x163)]()[_0x1c7337(0x271)](0x2,'0')+':'+_0x2af036['getSeconds']()[_0x1c7337(0x163)]()[_0x1c7337(0x271)](0x2,'0');}function getDate(){const _0x6b471e=_0x246bd7,_0x37d116=shiftedTime();return _0x37d116[_0x6b471e(0x28c)]()+'/'+(_0x37d116['getMonth']()+0x1)[_0x6b471e(0x163)]()['padStart'](0x2,'0')+'/'+_0x37d116[_0x6b471e(0x131)]()[_0x6b471e(0x163)]()[_0x6b471e(0x271)](0x2,'0');}function getHour(){const _0x436f25=_0x246bd7,_0x57a461=shiftedTime();return _0x57a461[_0x436f25(0x12b)]()[_0x436f25(0x163)]()[_0x436f25(0x271)](0x2,'0');}function sleep(_0x13c187){return new Promise(_0x19a799=>setTimeout(_0x19a799,_0x13c187));}function shiftedTime(){const _0x3465bb=_0x246bd7,_0x57e4c6=new Date();let _0x4a56a6=_0x57e4c6;if(config&&config['timeshift']!==0x0)_0x4a56a6=fns[_0x3465bb(0x104)](_0x57e4c6,{'hours':config[_0x3465bb(0x25b)]});return _0x4a56a6;}function timer(_0x15fe06){const _0x160165=_0x246bd7,_0x19e7a1=new Date();!lasttime?console[_0x160165(0x19e)](getTimeStamp()+_0x160165(0x1f7),_0x15fe06,_0x19e7a1):console['log'](getTimeStamp()+_0x160165(0x1f7),_0x15fe06,(_0x19e7a1-lasttime)/0x3e8),lasttime=_0x19e7a1;}