const _0x19821d=_0x4f4b;(function(_0x16200c,_0x2700b4){const _0x4a8409=_0x4f4b,_0x59a974=_0x16200c();while(!![]){try{const _0x5c8b8d=parseInt(_0x4a8409(0x296))/0x1*(-parseInt(_0x4a8409(0x22f))/0x2)+-parseInt(_0x4a8409(0x1e5))/0x3+-parseInt(_0x4a8409(0x207))/0x4+parseInt(_0x4a8409(0x2f4))/0x5*(-parseInt(_0x4a8409(0x2d2))/0x6)+-parseInt(_0x4a8409(0x263))/0x7*(-parseInt(_0x4a8409(0x29a))/0x8)+parseInt(_0x4a8409(0x2f8))/0x9*(-parseInt(_0x4a8409(0x213))/0xa)+parseInt(_0x4a8409(0x328))/0xb;if(_0x5c8b8d===_0x2700b4)break;else _0x59a974['push'](_0x59a974['shift']());}catch(_0x26352f){_0x59a974['push'](_0x59a974['shift']());}}}(_0x493b,0x76bdd));const _0x277278=function(){let _0x16e0a5=!![];return function(_0x260842,_0xe7d40b){const _0xd383db=_0x16e0a5?function(){const _0x129332=_0x4f4b;if(_0xe7d40b){const _0x579571=_0xe7d40b[_0x129332(0x264)](_0x260842,arguments);return _0xe7d40b=null,_0x579571;}}:function(){};return _0x16e0a5=![],_0xd383db;};}(),_0x3c5abd=_0x277278(this,function(){const _0x5539dd=_0x4f4b;return _0x3c5abd[_0x5539dd(0x2aa)]()['search'](_0x5539dd(0x315))[_0x5539dd(0x2aa)]()[_0x5539dd(0x27d)](_0x3c5abd)[_0x5539dd(0x214)](_0x5539dd(0x315));});_0x3c5abd();'use strict';const ccxt=require(_0x19821d(0x1a7)),low=require('lowdb'),FileSync=require(_0x19821d(0x1c1)),fs=require('fs'),fns=require(_0x19821d(0x223)),forge=require('node-forge'),util=require('util'),argv=require(_0x19821d(0x271))(process[_0x19821d(0x272)]['slice'](0x2))['argv'],path=require(_0x19821d(0x21e)),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x19821d(0x18d),_0x19821d(0x1a0),_0x19821d(0x2cf),'USDT',_0x19821d(0x247),_0x19821d(0x25e)],excludedExchanges=[_0x19821d(0x287)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x19821d(0x2af),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x19821d(0x1b2))['version'],environment=require('./version.json')[_0x19821d(0x2c4)]||_0x19821d(0x290),botID=process[_0x19821d(0x272)][0x2]||_0x19821d(0x1dd),pattern=/^[0-9]{3}$/;!pattern[_0x19821d(0x16f)](botID)&&(console[_0x19821d(0x22b)]('Error:\x20Invalid\x20argument\x20'+botID+_0x19821d(0x19f)),killBot());const userID=process[_0x19821d(0x272)][0x3]||'',configpath=userID?_0x19821d(0x20c)+userID+'/':_0x19821d(0x20c),logspath=userID?_0x19821d(0x30c)+userID+'/':_0x19821d(0x30c),loggerfile=fs['createWriteStream'](logspath+_0x19821d(0x1e4),{'flags':'a'});!fs[_0x19821d(0x319)](configpath)&&fs[_0x19821d(0x297)](configpath);!fs[_0x19821d(0x319)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x19821d(0x205)+botID+_0x19821d(0x309),logfile=configpath+_0x19821d(0x205)+botID+_0x19821d(0x182),performancefile=configpath+_0x19821d(0x205)+botID+_0x19821d(0x188),coinresultsfile=configpath+'bot-'+botID+_0x19821d(0x177),settingsfile=configpath+_0x19821d(0x1eb),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x19821d(0x23f),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x19821d(0x2e1)]({'logs':[],'version':serverversion})[_0x19821d(0x224)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x19821d(0x2e1)]({'data':[],'version':serverversion})[_0x19821d(0x224)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x19821d(0x2e1)]({'bot':[],'version':serverversion})[_0x19821d(0x224)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':{},'version':serverversion})[_0x19821d(0x224)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1b9932=>{const _0x27836e=_0x19821d;console[_0x27836e(0x22b)](_0x1b9932);},'simple':_0x5dfe5e=>{const _0x9f59b2=_0x19821d;console[_0x9f59b2(0x22b)](_0x5dfe5e),loggerfile[_0x9f59b2(0x224)](util['format'](_0x5dfe5e)+'\x0a');},'full':async(_0x2b4728,_0x375a7b='')=>{const _0x1d6865=_0x19821d;let _0x5d8075;if(config[_0x1d6865(0x262)])_0x5d8075=getTimeStamp()+':\x20'+config[_0x1d6865(0x2a3)]+_0x1d6865(0x1cf)+_0x2b4728;else _0x5d8075=getTimeStamp()+_0x1d6865(0x225)+botID+_0x1d6865(0x1cf)+_0x2b4728;console[_0x1d6865(0x22b)](_0x5d8075),loggerfile['write'](util['format'](_0x5d8075)+'\x0a'),_0x375a7b&&(console[_0x1d6865(0x22b)](_0x375a7b),loggerfile[_0x1d6865(0x224)](util[_0x1d6865(0x2d7)](_0x375a7b)+'\x0a'));},'debug':async(_0x29bf85,_0x42969d='')=>{const _0x32f348=_0x19821d;let _0x3f360;if(config[_0x32f348(0x262)])_0x3f360=getTimeStamp()+':\x20'+config['botname']+_0x32f348(0x251)+_0x29bf85;else _0x3f360=getTimeStamp()+_0x32f348(0x225)+botID+'\x20>\x20[DEBUG]\x20'+_0x29bf85;if(debugging)console[_0x32f348(0x22b)](_0x3f360);loggerfile[_0x32f348(0x224)](util[_0x32f348(0x2d7)](_0x3f360)+'\x0a');if(_0x42969d){if(debugging)console[_0x32f348(0x22b)](_0x42969d);loggerfile[_0x32f348(0x224)](util[_0x32f348(0x2d7)](_0x42969d)+'\x0a');}}};process['on'](_0x19821d(0x1f9),function(_0x346359){const _0x43c817=_0x19821d;handleError(_0x346359['stack'],_0x43c817(0x1f9));});settings[_0x19821d(0x2c7)]!=config[_0x19821d(0x2c7)]&&updateTimeshift(settings[_0x19821d(0x2c7)]);settings['onepagemode']!=config[_0x19821d(0x250)]&&updateOnepagemode(settings[_0x19821d(0x250)]);(settings['marketcapApi']&&!config['marketcapApi']||!settings[_0x19821d(0x229)]&&config[_0x19821d(0x229)])&&updateMarketcapApi(settings['marketcapApi']);process[_0x19821d(0x30a)]({'started':_0x19821d(0x2dd)},_0x40a8d2=>{}),initializeProcessListeners();function proxyEmit(_0x39c5da,_0x51db06=null){const _0x4c386c=_0x19821d;process[_0x4c386c(0x30a)]({'function':_0x39c5da,'args':_0x51db06},_0x534cfa=>{});}function initializeProcessListeners(){const _0x33fed2=_0x19821d;process['on'](_0x33fed2(0x280),_0xb68185=>{const _0x52e1ba=_0x33fed2;switch(Object['keys'](_0xb68185)[0x0]){case _0x52e1ba(0x2c7):_0xb68185[_0x52e1ba(0x2c7)]!=undefined&&(settings['timeshift']=_0xb68185[_0x52e1ba(0x2c7)],updateTimeshift(settings[_0x52e1ba(0x2c7)]));break;case _0x52e1ba(0x250):_0xb68185[_0x52e1ba(0x250)]!=undefined&&(settings[_0x52e1ba(0x250)]=_0xb68185[_0x52e1ba(0x250)],updateOnepagemode(settings['onepagemode']));break;case _0x52e1ba(0x229):_0xb68185[_0x52e1ba(0x229)]!=undefined&&(settings[_0x52e1ba(0x229)]=_0xb68185[_0x52e1ba(0x229)],updateMarketcapApi(settings[_0x52e1ba(0x229)]));break;case _0x52e1ba(0x274):_0xb68185['bots']!=undefined&&(bots=JSON[_0x52e1ba(0x175)](_0xb68185[_0x52e1ba(0x274)]),proxyEmit(_0x52e1ba(0x274),bots));break;case _0x52e1ba(0x1f5):switch(_0xb68185[_0x52e1ba(0x1f5)]){case'initclient':initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x52e1ba(0x2d3):emitHistory(_0xb68185[_0x52e1ba(0x1af)]);break;case _0x52e1ba(0x1a5):deleteHistoryAlerts(_0xb68185['args']);break;case'getPortfolio':getPortfolio(_0xb68185[_0x52e1ba(0x1af)]);break;case'storeConfiguration':storeConfiguration(_0xb68185[_0x52e1ba(0x1af)]);break;case _0x52e1ba(0x320):storeHeadless(_0xb68185[_0x52e1ba(0x1af)]);break;case _0x52e1ba(0x2c2):storeFiat(_0xb68185[_0x52e1ba(0x1af)]);break;case _0x52e1ba(0x1a1):resetHistory();break;case _0x52e1ba(0x169):getStartingBalances(getNormalizedPerformance());break;case _0x52e1ba(0x19d):placeOrder(_0xb68185[_0x52e1ba(0x1af)]);break;case _0x52e1ba(0x1a4):cancelLoading();break;case _0x52e1ba(0x1fd):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x52e1ba(0x2ac):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x66f76f=![]){const _0x120c8d=_0x19821d;logger[_0x120c8d(0x2ab)](_0x120c8d(0x195)+(_0x66f76f?'exchange\x20reload':'no\x20exchange\x20reloaded')+_0x120c8d(0x235)+config[_0x120c8d(0x327)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x120c8d(0x24f)]!=''&&config[_0x120c8d(0x24f)]!=_0x120c8d(0x28d)){loadingProgress=0x0;if(_0x66f76f){await initExchange();const _0x1feccb=await testAPI();if(!_0x1feccb)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x120c8d(0x2fa),emittedConfiguration()),initialPerformanceStored=![];}const _0x271e6e=await getCoins();[currentCoins,currentCoinsAll]=_0x271e6e,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x120c8d(0x2ab)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x120c8d(0x2cb)]==0x0&&allOpenOrders[_0x120c8d(0x2cb)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x2fd1ce=![]){const _0x3d9137=_0x19821d;logger[_0x3d9137(0x2ab)](_0x3d9137(0x1a2)+(_0x2fd1ce?'quick':_0x3d9137(0x1e0))+_0x3d9137(0x254)+config[_0x3d9137(0x327)]);if(pidBalances)clearTimeout(pidBalances);if(_0x2fd1ce){getBalances();return;}coinsLoaded=![];if(config[_0x3d9137(0x24f)]!=''&&config[_0x3d9137(0x24f)]!=_0x3d9137(0x28d)){loadingProgress=0x1;const _0x1e087b=await getCoins();[currentCoins,currentCoinsAll]=_0x1e087b,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x3d9137(0x198)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3d9137(0x2cb)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x35b991){const _0x4d74bd=_0x19821d;let _0x163dec=![];if(_0x35b991)_0x163dec=!![];const _0x2c5458=_0x163dec?_0x35b991:currentCoins,_0x363b22=_0x2c5458['map'](_0x2633b1=>_0x2633b1[_0x4d74bd(0x212)]);if(!config[_0x4d74bd(0x229)]||!_0x163dec&&!config['marketcapEnabled']||_0x363b22[_0x4d74bd(0x2cb)]==0x0)return;let _0x31af06=null;try{_0x31af06=await axios[_0x4d74bd(0x163)](_0x4d74bd(0x2f5),{'headers':{'X-CMC_PRO_API_KEY':settings['marketcapApi']}});}catch(_0x2aeed8){_0x31af06=null,_0x2aeed8['toString']()['includes'](_0x4d74bd(0x191))?(config[_0x4d74bd(0x229)]=![],updateConfig(),proxyEmit('configuration',emittedConfiguration()),logHistory(_0x4d74bd(0x16b),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x4d74bd(0x16b),_0x4d74bd(0x1e9)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger['debug'](_0x4d74bd(0x2bb),_0x2aeed8[_0x4d74bd(0x2aa)]()+_0x4d74bd(0x232)+_0x2aeed8['code']));}if(!_0x31af06||!_0x31af06['data'])return;const _0x3f3fac=new Map();let _0x1a8eba=[];_0x363b22[_0x4d74bd(0x200)](_0x5500fc=>{const _0x357406=_0x4d74bd,_0x3b49cf=_0x31af06[_0x357406(0x1c8)][_0x357406(0x1c8)][_0x357406(0x291)](_0x236878=>_0x236878[_0x357406(0x269)]==_0x5500fc);_0x3b49cf&&(_0x3f3fac[_0x357406(0x2df)](_0x5500fc,_0x3b49cf['id']),_0x1a8eba[_0x357406(0x2a9)](_0x3b49cf['id']));});let _0x35f016=null;try{_0x35f016=await axios[_0x4d74bd(0x163)](_0x4d74bd(0x1a3),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x4d74bd(0x229)]},'params':{'id':_0x1a8eba['toString']()}});}catch(_0x141658){_0x35f016=null,_0x141658[_0x4d74bd(0x2aa)]()['includes'](_0x4d74bd(0x191))?(config[_0x4d74bd(0x229)]=![],updateConfig(),proxyEmit(_0x4d74bd(0x2fa),emittedConfiguration()),logHistory(_0x4d74bd(0x16b),_0x4d74bd(0x19b))):(logHistory(_0x4d74bd(0x16b),_0x4d74bd(0x2e0)+schedulerInterval/(0x3c*0x3e8)+_0x4d74bd(0x2af)),logger[_0x4d74bd(0x2ab)]('Error\x20details:',_0x141658[_0x4d74bd(0x2aa)]()+_0x4d74bd(0x232)+_0x141658['code']));}const _0x56fbab=new Map();let _0x10958d=!![];if(_0x35f016){let _0xcd9bdc=0x0;const _0x1fbe68=_0x35f016[_0x4d74bd(0x1c8)];_0x363b22[_0x4d74bd(0x200)](_0x209440=>{const _0x327318=_0x4d74bd,_0x48a83d=_0x3f3fac[_0x327318(0x163)](_0x209440);if(_0x1fbe68[_0x327318(0x1c8)][_0x48a83d]&&_0x1fbe68[_0x327318(0x1c8)][_0x48a83d]['quote'][_0x327318(0x18d)][_0x327318(0x317)])_0x56fbab['set'](_0x209440,_0x1fbe68[_0x327318(0x1c8)][_0x48a83d][_0x327318(0x239)]['USD'][_0x327318(0x317)]),_0xcd9bdc+=_0x1fbe68[_0x327318(0x1c8)][_0x48a83d][_0x327318(0x239)]['USD'][_0x327318(0x317)];else{if(_0x1fbe68[_0x327318(0x1c8)][_0x48a83d]&&_0x1fbe68[_0x327318(0x1c8)][_0x48a83d][_0x327318(0x24a)])_0x56fbab['set'](_0x209440,_0x1fbe68[_0x327318(0x1c8)][_0x48a83d]['self_reported_market_cap']),_0xcd9bdc+=_0x1fbe68[_0x327318(0x1c8)][_0x48a83d][_0x327318(0x24a)];else{if(![_0x327318(0x16d),'USD'][_0x327318(0x2e2)](_0x209440)){if(_0x163dec)logHistory(_0x327318(0x16b),_0x327318(0x220)+_0x209440+_0x327318(0x323));else{const _0x32a6be=config[_0x327318(0x2b3)]['find'](_0x36e6e2=>_0x36e6e2['coin']==_0x209440);_0x32a6be&&!_0x32a6be['excluded']&&_0x32a6be[_0x327318(0x21b)]==-0x1&&(_0x10958d=![],logHistory(_0x327318(0x16b),_0x327318(0x2e7)),logger[_0x327318(0x2ab)]('CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x209440));}}}}});if(!_0x10958d)return;_0x363b22[_0x4d74bd(0x200)](_0x169d0d=>{const _0x441f28=_0x4d74bd,_0x12602d=_0x56fbab['get'](_0x169d0d)?_0x56fbab[_0x441f28(0x163)](_0x169d0d):0x0;if(_0x163dec){const _0x1b7640=_0x35b991['find'](_0x56cdcf=>_0x56cdcf[_0x441f28(0x212)]==_0x169d0d);_0x1b7640&&(_0x1b7640['marketcap']=_0x12602d);}else{const _0x52ed3d=currentCoins[_0x441f28(0x291)](_0x330388=>_0x330388['coin']==_0x169d0d);_0x52ed3d&&(_0x52ed3d['marketcap']=_0x12602d);const _0x4ebf3d=currentCoinsAll[_0x441f28(0x291)](_0x37a043=>_0x37a043['coin']==_0x169d0d);_0x4ebf3d&&(_0x4ebf3d[_0x441f28(0x259)]=_0x12602d);}}),!_0x163dec&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x37bd58=_0x19821d,_0x338664=0x2;let _0x2aa406=0x0,_0x129367=0x0,_0x584cf5=0x0,_0x2bcf80=0x0,_0x2422f5=0x0;config[_0x37bd58(0x2b3)][_0x37bd58(0x200)](_0xfc2fca=>{const _0x544aca=_0x37bd58;if(!_0xfc2fca[_0x544aca(0x306)]){_0x584cf5++,_0x2aa406+=_0xfc2fca[_0x544aca(0x21b)];if(_0xfc2fca[_0x544aca(0x21b)]===-0x1){_0x2aa406++;const _0x5940f5=currentCoinsAll[_0x544aca(0x291)](_0x4dd3a7=>_0x4dd3a7[_0x544aca(0x212)]==_0xfc2fca[_0x544aca(0x212)]);_0x5940f5&&(_0x2bcf80+=_0x5940f5[_0x544aca(0x259)],_0x2422f5+=Math['sqrt'](_0x5940f5[_0x544aca(0x259)]));}if(_0xfc2fca[_0x544aca(0x21b)]!==-0x1)_0x129367++;}});let _0x3a23b3;const _0x1c2102=0x64-_0x2aa406,_0x20f9a5=_0x584cf5-_0x129367;_0x3a23b3=_0x20f9a5===0x0?_0x2aa406:Math[_0x37bd58(0x2c0)](0x64,_0x2aa406),config[_0x37bd58(0x2b3)][_0x37bd58(0x200)](_0x201717=>{const _0x247c19=_0x37bd58,_0x26626d=currentCoinsAll[_0x247c19(0x291)](_0xc618d4=>_0xc618d4[_0x247c19(0x212)]==_0x201717[_0x247c19(0x212)]);_0x26626d&&(_0x201717['marketcap']=_0x26626d[_0x247c19(0x259)]);if(!_0x201717[_0x247c19(0x306)]){if(_0x3a23b3<=0x64){if(_0x201717['slider']===-0x1){if(_0x2bcf80!==0x0&&config['marketcapEnabled']){if(_0x26626d){if(config[_0x247c19(0x295)]==_0x247c19(0x259))_0x201717['distribution']=(_0x1c2102/(_0x2bcf80/_0x26626d['marketcap']))[_0x247c19(0x2b0)](_0x338664);else config[_0x247c19(0x295)]==_0x247c19(0x202)&&(_0x201717[_0x247c19(0x1c5)]=(_0x1c2102/(_0x2422f5/Math[_0x247c19(0x300)](_0x26626d[_0x247c19(0x259)])))[_0x247c19(0x2b0)](_0x338664));}}}}}}),updateConfig();}function updateConfig(){const _0x27ec8d=_0x19821d;let _0x5830fa=dbConfig['get']('bot')[_0x27ec8d(0x291)]({'botID':botID})[_0x27ec8d(0x20d)]();_0x5830fa&&dbConfig[_0x27ec8d(0x163)](_0x27ec8d(0x2db))['find']({'botID':botID})[_0x27ec8d(0x1c6)](config)[_0x27ec8d(0x224)]();}function logMemory(){const _0x24ad0a=_0x19821d;if(environment!='staging')return;const _0x4e090c=process[_0x24ad0a(0x278)]()[_0x24ad0a(0x246)]/0x400/0x400;logger[_0x24ad0a(0x2ab)]('process\x20'+process[_0x24ad0a(0x2d0)]+_0x24ad0a(0x20a)+formatResult(_0x4e090c,0x1)+_0x24ad0a(0x2fe));}async function startScheduler(){const _0x58b168=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0x58b168==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x2051ca=![]){const _0x58fd2d=_0x19821d;logger[_0x58fd2d(0x2ab)](_0x58fd2d(0x26d));if(!_0x2051ca)while(lockOrders!=ORDERS[_0x58fd2d(0x1f7)]||coolingDown){await sleep(0x3e8);}process[_0x58fd2d(0x30a)]({'stop':'restart'},_0x398ad5=>{});}async function initExchange(_0x13288f=config[_0x19821d(0x327)],_0x492b51=config[_0x19821d(0x24f)],_0x596d43=config['apiSecret'],_0x26a2da=config[_0x19821d(0x1ee)],_0x21f0b4=config[_0x19821d(0x1c9)]){const _0x57b2ea=_0x19821d;if(exchange){logger[_0x57b2ea(0x2ab)](_0x57b2ea(0x257));return;}logger[_0x57b2ea(0x2ab)](_0x57b2ea(0x2f7));!supportedExchanges()[_0x57b2ea(0x2e2)](_0x13288f)&&(logHistory(_0x57b2ea(0x16b),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x13288f+_0x57b2ea(0x2b1)),killBot());const _0x10b570=ccxt[_0x57b2ea(0x167)][_0x13288f['toLowerCase']()];exchange=new _0x10b570({'apiKey':_0x492b51,'secret':_0x596d43,'options':{'defaultType':_0x57b2ea(0x2c5)}});if(_0x26a2da)exchange[_0x57b2ea(0x28f)]=_0x26a2da;if(exchange[_0x57b2ea(0x1d3)]['sandbox'])exchange[_0x57b2ea(0x23d)](_0x21f0b4);}function updateExchange(_0x1c9ca8,_0x945a47,_0x4dc9bf=null){const _0x570051=_0x19821d;exchange[_0x570051(0x24f)]=_0x1c9ca8,exchange['secret']=_0x945a47,exchange['password']=_0x4dc9bf,logger['debug'](_0x570051(0x1a8));}function setStableCoins(){const _0x360f90=_0x19821d;let _0x26397f=config[_0x360f90(0x1d8)]=='ETH'?'ETH':config[_0x360f90(0x1d8)]==_0x360f90(0x2ce)?_0x360f90(0x2ce):_0x360f90(0x312),_0x50ed56=allSymbols['includes'](_0x26397f+_0x360f90(0x244))?_0x360f90(0x18d):allSymbols[_0x360f90(0x2e2)](_0x26397f+_0x360f90(0x318))?_0x360f90(0x215):_0x360f90(0x16d),_0x1f7692=allSymbols[_0x360f90(0x2e2)](_0x26397f+_0x360f90(0x22c))?_0x360f90(0x16d):_0x50ed56;enableFiatToggle=!![],_0x50ed56==_0x360f90(0x16d)&&(enableFiatToggle=![],storeFiat(_0x360f90(0x16d))),_0x1f7692!=_0x360f90(0x16d)&&(enableFiatToggle=![],storeFiat(_0x360f90(0x18d))),stablecoins={'eur':{'coin':''+_0x26397f+_0x1f7692,'symbol':_0x26397f+'/'+_0x1f7692},'usd':{'coin':''+_0x26397f+_0x50ed56,'symbol':_0x26397f+'/'+_0x50ed56}};}async function initwsCcxt(){const _0x4d6b6d=_0x19821d;initCycle++;const _0xcc9466=initCycle;let _0x29c4b6=[];config['portfolio'][_0x4d6b6d(0x200)](_0x2de48e=>{const _0x1af19b=_0x4d6b6d;if(!_0x2de48e[_0x1af19b(0x306)]&&_0x2de48e[_0x1af19b(0x212)]!=config['basecoin'])_0x29c4b6[_0x1af19b(0x2a9)](_0x2de48e[_0x1af19b(0x269)]);});if(!_0x29c4b6[_0x4d6b6d(0x2e2)](stablecoins[_0x4d6b6d(0x17a)][_0x4d6b6d(0x269)]))_0x29c4b6[_0x4d6b6d(0x2a9)](stablecoins['eur'][_0x4d6b6d(0x269)]);if(!_0x29c4b6[_0x4d6b6d(0x2e2)](stablecoins[_0x4d6b6d(0x16e)][_0x4d6b6d(0x269)]))_0x29c4b6[_0x4d6b6d(0x2a9)](stablecoins['usd']['symbol']);loadCoins(_0x29c4b6),_0x29c4b6=validateSymbols(_0x29c4b6);const _0x4b4171=async _0x16910a=>{const _0x4bc669=_0x4d6b6d;let _0x4235f4;try{const _0x2552b0=await getTickers(_0x16910a);Object[_0x4bc669(0x1fa)](_0x2552b0)[_0x4bc669(0x200)](_0x544f37=>{const _0xab6834=_0x4bc669;_0x4235f4=_0x544f37[0x1][_0xab6834(0x269)],gTicker[noslash(_0x4235f4)]=_0x544f37[0x1][_0xab6834(0x1d0)],gChange[_0x4235f4]=_0x544f37[0x1][_0xab6834(0x21c)];});}catch(_0x366365){await handleError(_0x366365,_0x4bc669(0x29e),_0x4235f4);}},_0x4983ba=async _0x4822f9=>{const _0x3f28c7=_0x4d6b6d;while(initCycle==_0xcc9466){if(!botPaused)try{const _0x4380b3=await exchange[_0x3f28c7(0x276)](_0x4822f9);gTicker[noslash(_0x4380b3[0x0][_0x3f28c7(0x269)])]=_0x4380b3[0x0][_0x3f28c7(0x2a4)];}catch(_0x33f2ab){if(!exchangeStopped)await handleError(_0x33f2ab,'watchTrades()',_0x4822f9);}else await sleep(0x64);}},_0x53f7e4=async _0xfb46ce=>{const _0x4cbf8c=_0x4d6b6d;while(initCycle==_0xcc9466){if(!botPaused)try{const _0x81a208=await exchange[_0x4cbf8c(0x183)](_0xfb46ce),_0x1db249=_0x81a208[_0x4cbf8c(0x2fb)]();gTicker[noslash(_0x1db249[_0x4cbf8c(0x269)])]=_0x1db249['price'];}catch(_0x5a34ce){if(!exchangeStopped)await handleError(_0x5a34ce,'watchTradesForSymbols()',_0xfb46ce[_0x4cbf8c(0x2aa)]());}else await sleep(0x64);}},_0x460fe5=async _0x5a260d=>{const _0x4fd2a3=_0x4d6b6d;while(initCycle==_0xcc9466){if(!botPaused){let _0x267e8f;try{await sleep(0x3c*0x3e8);const _0x3bd61f=await getTickers(_0x5a260d);Object[_0x4fd2a3(0x1fa)](_0x3bd61f)['forEach'](_0x1aa8d4=>{const _0x4dea92=_0x4fd2a3;_0x267e8f=_0x1aa8d4[0x1]['symbol'],gChange[_0x267e8f]=_0x1aa8d4[0x1][_0x4dea92(0x21c)];});}catch(_0x5a0f4d){if(!exchangeStopped)await handleError(_0x5a0f4d,_0x4fd2a3(0x2d4),_0x267e8f);}}else await sleep(0x64);}},_0x248d5d=async _0x1e6cba=>{const _0x5d4b93=_0x4d6b6d;while(initCycle==_0xcc9466){if(!botPaused)try{const _0x41211d=await exchange[_0x5d4b93(0x283)](_0x1e6cba);initCycle==_0xcc9466&&_0x41211d[_0x5d4b93(0x200)](_0x520fb4=>{updateNumberCoinsCcxt(_0x520fb4);});}catch(_0x570e16){if(!exchangeStopped)await handleError(_0x570e16,'watchOrders()');}else await sleep(0x64);}};_0x4b4171(_0x29c4b6),_0x460fe5(_0x29c4b6),exchange['has'][_0x4d6b6d(0x183)]&&!(config[_0x4d6b6d(0x327)]==_0x4d6b6d(0x31d)&&_0x29c4b6[_0x4d6b6d(0x2cb)]>0xa)?_0x53f7e4(_0x29c4b6):_0x29c4b6[_0x4d6b6d(0x200)](_0x3e73b6=>{_0x4983ba(_0x3e73b6);}),_0x29c4b6[_0x4d6b6d(0x200)](_0x44c88c=>{_0x248d5d(_0x44c88c);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x206827){let _0x17d54b={};try{if(config['exchange']!='Cryptocom')_0x17d54b=await exchange['fetchTickers'](_0x206827);else for(const _0x3f6eea of _0x206827){const _0x3c9266=await exchange['fetchTicker'](_0x3f6eea);_0x17d54b[_0x3f6eea]=_0x3c9266;}return _0x17d54b;}catch(_0x53b44e){throw _0x53b44e;}}function setBlockTransactionDetection(_0xbb1f43){const _0x117d4d=_0x19821d;blockTransactionDetection=_0xbb1f43,logger[_0x117d4d(0x2ab)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x612faf=0x0){const _0x3575a1=_0x19821d;transactionDetectionOngoing=!![];try{const _0xa4eee7=await getCoins(_0x612faf),[_0x55d5d8,_0x4e10e6]=_0xa4eee7;let _0x3d0b38=[];currentCoins['forEach'](_0x39972a=>{const _0x1f3163=_0x4f4b,_0x5f1b6a=_0x55d5d8['find'](_0x1cdd23=>_0x1cdd23[_0x1f3163(0x212)]==_0x39972a['coin']);if(_0x5f1b6a){if(_0x39972a[_0x1f3163(0x2a1)]!=_0x5f1b6a[_0x1f3163(0x2a1)]){let _0x5066a7;if(_0x39972a[_0x1f3163(0x212)]!=config[_0x1f3163(0x1d8)]){const _0x2d91fe=gTicker[noslash(_0x39972a[_0x1f3163(0x269)])];_0x5066a7=_0x39972a[_0x1f3163(0x1f4)]?0x1/_0x2d91fe:_0x2d91fe;}else _0x5066a7=0x1;_0x3d0b38[_0x1f3163(0x2a9)]({'coin':_0x39972a[_0x1f3163(0x212)],'symbol':_0x39972a[_0x1f3163(0x269)],'price':_0x5066a7,'number':Number(formatResult(_0x5f1b6a[_0x1f3163(0x2a1)]-_0x39972a[_0x1f3163(0x2a1)],0x8)),'basecoinvalue':_0x5066a7*(_0x5f1b6a[_0x1f3163(0x2a1)]-_0x39972a[_0x1f3163(0x2a1)])});}}});if(_0x3d0b38[_0x3575a1(0x2cb)]>0x0&&!blockTransactionDetection){for(const _0x811143 of _0x3d0b38){if(config['autoliquidity']){logger['debug'](_0x3575a1(0x2f3)+_0x811143[_0x3575a1(0x190)]+_0x3575a1(0x305)+lastFees[_0x3575a1(0x17c)]);if(lastFees[_0x3575a1(0x17c)]==0x0||Math[_0x3575a1(0x1ff)](_0x811143['basecoinvalue'])>lastFees['highest']*0x3){if(config[_0x3575a1(0x211)]==_0x3575a1(0x184)){delete _0x811143[_0x3575a1(0x269)],delete _0x811143[_0x3575a1(0x190)];let _0x2a95dd=[],_0x26fff4=[...config['liquidity']]||[],_0x2898a9=config[_0x3575a1(0x1b3)];_0x26fff4[_0x3575a1(0x187)]((_0x4fa265,_0x272e77)=>_0x4fa265[_0x3575a1(0x1a6)]>_0x272e77[_0x3575a1(0x1a6)]?-0x1:_0x272e77[_0x3575a1(0x1a6)]>_0x4fa265[_0x3575a1(0x1a6)]?0x1:0x0);const _0x46560f=getDate();if(_0x26fff4[0x0]){const _0xda00d3=fns[_0x3575a1(0x175)](_0x26fff4[0x0]['date'],_0x3575a1(0x1e2),new Date()),_0x3cee49=fns[_0x3575a1(0x175)](_0x46560f,_0x3575a1(0x1e2),new Date());if(fns['isEqual'](_0xda00d3,_0x3cee49)){_0x2a95dd=_0x26fff4[0x0][_0x3575a1(0x208)];const _0x49114c=_0x2a95dd[_0x3575a1(0x291)](_0x338292=>_0x338292[_0x3575a1(0x212)]==_0x811143[_0x3575a1(0x212)]);_0x49114c?(_0x49114c['number']+=_0x811143[_0x3575a1(0x2a1)],_0x49114c[_0x3575a1(0x2a1)]==0x0&&(_0x2a95dd=_0x2a95dd[_0x3575a1(0x2d1)](_0x52811e=>{const _0x4f0479=_0x3575a1;return _0x52811e[_0x4f0479(0x212)]!=_0x811143[_0x4f0479(0x212)];}))):_0x2a95dd[_0x3575a1(0x2a9)](_0x811143);const _0x19dbcd=_0x2898a9[_0x3575a1(0x291)](_0x59d0c4=>_0x59d0c4[_0x3575a1(0x1a6)]==_0x46560f);_0x19dbcd[_0x3575a1(0x208)]=_0x2a95dd;}else _0x2898a9[_0x3575a1(0x2a9)]({'date':_0x46560f,'changes':[_0x811143]});}const _0x8afdb9=_0x2898a9[_0x3575a1(0x291)](_0x3fdefa=>_0x3fdefa[_0x3575a1(0x1a6)]==_0x46560f);if(_0x8afdb9){let _0x21f131=!![];_0x8afdb9[_0x3575a1(0x208)]['forEach'](_0x3b3043=>{const _0x5e46bd=_0x3575a1;if(_0x3b3043[_0x5e46bd(0x2a1)]!=0x0)_0x21f131=![];}),_0x21f131&&(_0x2898a9=_0x2898a9['filter'](_0x391932=>{const _0x191acf=_0x3575a1;return _0x391932[_0x191acf(0x1a6)]!=_0x46560f;}));}let _0x2d0f08=dbConfig[_0x3575a1(0x163)](_0x3575a1(0x2db))[_0x3575a1(0x291)]({'botID':botID})[_0x3575a1(0x20d)]();_0x2d0f08&&(dbConfig[_0x3575a1(0x163)](_0x3575a1(0x2db))[_0x3575a1(0x291)]({'botID':botID})['assign']({'liquidity':_0x2898a9})[_0x3575a1(0x224)](),config[_0x3575a1(0x1b3)]=_0x2898a9);logHistory(_0x3575a1(0x233),_0x3575a1(0x2de)+Math['abs'](_0x811143[_0x3575a1(0x2a1)])+'\x20'+_0x811143[_0x3575a1(0x212)]+'\x20'+(_0x811143[_0x3575a1(0x2a1)]>0x0?_0x3575a1(0x2fd):_0x3575a1(0x2da))+_0x3575a1(0x1c7)),proxyEmit('configuration',emittedConfiguration());const _0x3d731a=getNormalizedPerformance();emitPerformance(_0x3d731a),getStartingBalances(_0x3d731a),logger['debug'](_0x3575a1(0x2fc));}else config[_0x3575a1(0x211)]==_0x3575a1(0x166)&&(config[_0x3575a1(0x2ad)]?(await storeHeadless({'headless':![]}),logHistory(_0x3575a1(0x233),_0x3575a1(0x2de)+Math[_0x3575a1(0x1ff)](_0x811143[_0x3575a1(0x2a1)])+'\x20'+_0x811143[_0x3575a1(0x212)]+'\x20'+(_0x811143[_0x3575a1(0x2a1)]>0x0?_0x3575a1(0x2fd):_0x3575a1(0x2da))+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0x3575a1(0x2ab)](_0x3575a1(0x2de)+Math[_0x3575a1(0x1ff)](_0x811143[_0x3575a1(0x2a1)])+'\x20'+_0x811143[_0x3575a1(0x212)]+'\x20'+(_0x811143[_0x3575a1(0x2a1)]>0x0?_0x3575a1(0x2fd):'removed')+_0x3575a1(0x284)));}else logger['debug'](_0x3575a1(0x314)+Math[_0x3575a1(0x1ff)](_0x811143[_0x3575a1(0x2a1)])+'\x20'+_0x811143['coin']+'\x20'+(_0x811143[_0x3575a1(0x2a1)]>0x0?_0x3575a1(0x2fd):'removed'));}else logger['debug'](_0x3575a1(0x2de)+Math[_0x3575a1(0x1ff)](_0x811143[_0x3575a1(0x2a1)])+'\x20'+_0x811143['coin']+'\x20'+(_0x811143[_0x3575a1(0x2a1)]>0x0?_0x3575a1(0x2fd):_0x3575a1(0x2da))+_0x3575a1(0x27a));}currentCoins=_0x55d5d8,currentCoinsAll=_0x4e10e6;}}catch(_0x382d2d){if(!exchangeStopped)await handleError(_0x382d2d,_0x3575a1(0x252));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x12d7ee=_0x19821d;try{markets=await exchange[_0x12d7ee(0x1cc)](!![]),allSymbols=[],Object[_0x12d7ee(0x1fa)](markets)['forEach'](_0x38303b=>{const _0x208564=_0x12d7ee;_0x38303b[0x1][_0x208564(0x20e)]&&_0x38303b[0x1]['spot']&&allSymbols[_0x208564(0x2a9)](_0x38303b[0x0]);});}catch(_0x3dd3ca){markets?logger[_0x12d7ee(0x2ab)]('Error\x20in\x20loadSymbols():\x20'+_0x3dd3ca['toString']()):(loading[_0x12d7ee(0x30f)]=!![],_0x3dd3ca[_0x12d7ee(0x2aa)]()[_0x12d7ee(0x185)]()[_0x12d7ee(0x2e2)](_0x12d7ee(0x26a))||_0x3dd3ca[_0x12d7ee(0x2aa)]()[_0x12d7ee(0x185)]()[_0x12d7ee(0x2e2)](_0x12d7ee(0x2eb))?(logHistory(_0x12d7ee(0x16b),_0x12d7ee(0x164)),loading[_0x12d7ee(0x16b)]=_0x12d7ee(0x243)):handleErrorNoStop(_0x3dd3ca,_0x12d7ee(0x1de),!![]),logHistory(_0x12d7ee(0x16b),'Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory('error',_0x12d7ee(0x2dc)+loadCoinsRetryInterval/0xea60+_0x12d7ee(0x26b)),logger[_0x12d7ee(0x2ab)](_0x12d7ee(0x2bb),_0x3dd3ca),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x12c6b8){const _0x1b855a=_0x19821d;let _0x29f60a=[];return _0x12c6b8[_0x1b855a(0x200)](_0x324788=>{const _0x389b53=_0x1b855a;!allSymbols[_0x389b53(0x2e2)](_0x324788)?(logHistory(_0x389b53(0x16b),'Invalid\x20symbol:\x20'+_0x324788+_0x389b53(0x31b)),loading[_0x389b53(0x227)]=!![],emitLoadingProgress()):_0x29f60a['push'](_0x324788);}),_0x29f60a;}async function initclient(){const _0xfd5512=_0x19821d;proxyEmit(_0xfd5512(0x2fa),emittedConfiguration()),proxyEmit(_0xfd5512(0x248),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xfd5512(0x2e3),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x182021=getNormalizedPerformance();emitPerformance(_0x182021),getStartingBalances(_0x182021);}function _0x493b(){const _0x13ab9b=['RSA-OAEP','round','showConfig','api-issue','abs','forEach','getTime','marketcapsqrt','limit','enabled','bot-','\x20(see:\x20hodlerhacks.com/fix/1)','515588sxABxh','changes','change24h','\x20uses\x20','RETRY\x20-\x20Error\x20in\x20','./config/','value','active','isBefore','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','autoliquidity','coin','153890QkzLvs','search','USDT','Cex','isEqual','ordertype','AuthenticationError','token\x20is\x20expired','slider','percentage','initial','path','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','kill','pnl-basecoin','date-fns','write',':\x20Bot\x20','Value\x20','timeout','LOCKED','marketcapApi','writeFile','log','/EUR','configstate','Bitget','518iOwnzA','\x20|\x20Custom\x20ID:\x20','limit-low','\x20-\x20','success','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20|\x20exchange:\x20','OrderNotFound','Exception\x20thrown\x20in\x20','enableFiatToggle','quote','version','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','emojisell','setSandboxMode','getSeconds','/backup/','Unknown\x20error:\x20','threshold','Headless:\x20','timestamp-issue','/USD','padEnd','heapUsed','USDC','exchanges','addDays','self_reported_market_cap','\x0aSymbol(s):\x20','PnL\x20','getDate','add','apiKey','onepagemode','\x20>\x20[DEBUG]\x20','detectLiquidityChange()','testApi',')\x20|\x20exchange:\x20','-------------------------------\x0a','.json','Initializing\x20exchange:\x20already\x20done','Saving\x20configuration','marketcap','Order\x20amount\x20is\x20invalid:\x20','portfolio2','market','cooldown','USDP','Valid\x20balance\x20for\x20','trade','average','showname','4470305peEwtr','apply','\x20attempts','coins','Network\x20error\x20details:','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','symbol','timestamp','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','configuration-stored','Initiating\x20bot\x20restart','InvalidOrder','buy','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','yargs/yargs','argv','privateKeyFromPem','bots','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','watchTrades','\x20API\x20key\x20is\x20invalid','memoryUsage','ETH','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','remainingSymbols','\x20/\x20','constructor','status','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','message','startnumber','getMonth','watchOrders','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','bid','bitmex','1\x20-\x20Validate\x20orders:\x20','Trigger:\x20','\x20|\x20lock\x20orders:\x20',')\x20unknown\x20order:\x20','Stopped\x20fetching\x20balance\x20after\x20','***','Manual\x20balancing\x20required','password','production','find','************','map','OnMaintenance','marketcapEnabled','3215IPQpOE','mkdirSync','fetchBalance','performance','8VauNaV','shift','Resetting\x20bot\x20history','1\x20-\x20FILLED\x20unknown\x20order:\x20','initTickers()','valid','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','number','Test\x20new\x20API','botname','price','limit-high','Invalid\x20quantity','Avoiding\x20continuous\x20order\x20attempts','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','push','toString','debug','sendPortfolioTelegram','headless','order','\x20minutes','toFixed','\x20exchange','target','portfolio','startdate','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','padStart','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','util','2.3.5','fetchBalance()','Error\x20details:','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','\x20minutes\x20-\x20','emojibuy','fee','max','offset','storeFiat','random','environment','spot','keys','timeshift','sells','decrypt','no\x20open\x20orders','length','<b>','portfolio1','PAXG','TUSD','pid','filter','55746SRRrDI','emitHistory','fetchTickers()','getFullYear','decode64','format','Error\x20details:\x20','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','removed','bot','Pausing\x20for\x20','running','Portfolio\x20change\x20detected:\x20','set','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','defaults','includes','balances','startprice','differenceInSeconds','split','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','change','create','Invalid\x20balance\x20for\x20','request-time','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','match','API-key\x20format\x20invalid','Huobipro','cancelOrders()','Limit\x20(high-margin)','splice','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','110TNGxgQ','https://pro-api.coinmarketcap.com/v1/cryptocurrency/map','join','Initializing\x20exchange','477xhuzwH','final','configuration','pop','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','added','\x20MB','floor','sqrt','canceled','orderstatus','realizedPnL','toUpperCase','\x20|\x20highest\x20fee:\x20','excluded','openOrders','recent20','-config.json','send','1\x20-\x20FILLED\x20known\x20order:\x20','./logs/','open','PermissionDenied','cancel','sortBy','pki','BTC','pnl','Fee\x20discount\x20refund\x20detected:\x20','(((.+)+)+)+$','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','market_cap','/USDT','existsSync','Limit\x20(low-margin)','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','prevnumber','Bybit','ExchangeError','2.6.23','storeHeadless','buys','net-fiat','\x20-\x20go\x20back\x20and\x20try\x20again','</pre>','loading-canceled','getOpenOrders()','exchange','29319609MNUwKH','Generated\x20PnL\x20data','get','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','createOrder','switch-manual','pro','Order\x20filled','getStartingBalances','currency','error','substring','EUR','usd','test','fetchOpenOrders','warning','\x20API\x20secret\x20is\x20invalid','Market\x20order','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','parse','cloneDeep','-results.json','fetchTicker','unlinkSync','eur','Set\x20lock\x20orders\x20to:\x20','highest','\x20>\x20details:','2\x20-\x20Handled\x20open\x20orders','Exchange','RateLimitExceeded','fetchTickers','-events.json','watchTradesForSymbols','update-liquidity','toLowerCase','Order(s)\x20not\x20validated\x20after\x20','sort','-performance.json','none','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','findIndex','apiSecret','USD','orderId','Net\x20','basecoinvalue','status\x20code\x20401','fiat','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','balancing\x20resumed','Reset\x20|\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','ID:\x20','Loading\x20completed','recreate','delta','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','2\x20-\x20handling\x20FILLED\x20order:\x20','placeOrder','\x20portfolio:</b>\x20\x0a\x0a',',\x20must\x20be\x20a\x203\x20digit\x20number','BUSD','resetHistory','Resuming\x20(','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','cancelLoading','deleteHistoryAlerts','date','ccxt','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','InvalidNonce','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','\x20has\x20a\x2024h\x20drop\x20of\x20','slice','pnl-fiat','secure','args','colorscheme','replace','./version.json','liquidity','event-history','breakeven','%)\x0a','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','net-basecoin','ongoing','filled','fromCodePoint','side','limits','sha256','ExchangeNotAvailable','recovery','lowdb/adapters/FileSync','\x20order:\x20','page','progress','distribution','assign','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','data','sandbox','getHours','\x20metrics:</b>\x20\x0a\x0a','loadMarkets','indexOf','amount','\x20>\x20','last','event','stringify','has','full','RETRY\x20-\x20Problem\x20resolved\x20after\x20','cost','closed','basecoin','\x20hour','logs','getMinutes','\x20due\x20to\x20offset','001','loadSymbols()','2\x20-\x20Validate\x20orders:\x20','complete','\x20orders\x20in\x20less\x20than\x20','yyyy/MM/dd','1\x20-\x20partially\x20FILLED\x20(','/output-000.log','2508204JNLkSF','type','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','Bot\x20','CoinMarketCap\x20ID\x20Map\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','sell','bb-settings.json','\x20|\x20','remove','apiPassword','netoffset','<pre>','privateKey','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','time','reverse','function','starting-balances','UNLOCKED','min','uncaughtException','entries'];_0x493b=function(){return _0x13ab9b;};return _0x493b();}async function toggleBotMode(){const _0x186759=_0x19821d;let _0x44458b=dbConfig[_0x186759(0x163)](_0x186759(0x2db))['find']({'botID':botID})['value']();if(_0x44458b){const _0x4ce3b9=!_0x44458b[_0x186759(0x2ad)];dbConfig[_0x186759(0x163)]('bot')[_0x186759(0x291)]({'botID':botID})['assign']({'headless':_0x4ce3b9})['write'](),config['headless']=_0x4ce3b9,proxyEmit(_0x186759(0x2fa),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x493dca=_0x19821d;process[_0x493dca(0x30a)]({'updatebotmanager':!![]},_0x1589b8=>{}),logger['debug'](_0x493dca(0x242)+config[_0x493dca(0x2ad)]);}async function loadCoins(_0x20b881){const _0x2d5e24=_0x19821d;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x14c203,_0x3b02d8=0x0,_0x58e7e0=0x0;_0x20b881[_0x2d5e24(0x200)](_0x2e4cc5=>{const _0x360a9c=_0x2d5e24;loading[_0x360a9c(0x27b)][_0x360a9c(0x2a9)](_0x2e4cc5);}),loadingCanceled=![];let _0xb9dcfd=![];while(_0x14c203!=_0x20b881[_0x2d5e24(0x2cb)]+maxLoadingProgress){_0x14c203=loadingProgress,_0x20b881['forEach'](_0x4c7c3b=>{const _0x49a407=_0x2d5e24;if(gTicker[noslash(_0x4c7c3b)]){loading[_0x49a407(0x27b)]=loading['remainingSymbols'][_0x49a407(0x2d1)](_0x5b95a2=>_0x5b95a2!=_0x4c7c3b);if(!watchedSymbols[_0x49a407(0x2e2)](_0x4c7c3b))watchedSymbols[_0x49a407(0x2a9)](_0x4c7c3b);_0x14c203++;}}),loading[_0x2d5e24(0x1c4)]=Math['round'](_0x14c203/(_0x20b881[_0x2d5e24(0x2cb)]+maxLoadingProgress)*0x64);loading[_0x2d5e24(0x1c4)]!=0x64&&(_0x58e7e0>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x58e7e0>0x78*0x5&&!_0xb9dcfd&&(_0xb9dcfd=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x2d5e24(0x27b)][_0x2d5e24(0x2f6)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x2d5e24(0x16b),_0x2d5e24(0x2dc)+loadCoinsRetryInterval/0xea60+_0x2d5e24(0x26b)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x3b02d8!=loading[_0x2d5e24(0x1c4)]&&(_0x3b02d8=loading[_0x2d5e24(0x1c4)],emitLoadingProgress()),_0x58e7e0++,await sleep(0xc8);}_0x14c203==_0x20b881[_0x2d5e24(0x2cb)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x2d5e24(0x30a)]({'status':_0x2d5e24(0x204),'live':_0x2d5e24(0x2dd)},_0x35a555=>{}),_0xb9dcfd&&logHistory(_0x2d5e24(0x233),_0x2d5e24(0x2b5)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1c0dd2=_0x19821d;proxyEmit(_0x1c0dd2(0x2fa),{...emittedConfiguration(),'configstate':_0x1c0dd2(0x325)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x3ef0ab=_0x19821d;let _0x2a868e=gTicker[stablecoins[_0x3ef0ab(0x17a)][_0x3ef0ab(0x212)]],_0xe2d5db=gTicker[stablecoins[_0x3ef0ab(0x16e)]['coin']];return{'eur':Number(_0x2a868e),'usd':Number(_0xe2d5db)};}function capitalize(_0xf29e88){const _0x527e51=_0x19821d;return _0xf29e88[_0x527e51(0x16c)](0x0,0x1)[_0x527e51(0x304)]()+_0xf29e88[_0x527e51(0x16c)](0x1);}function supportedExchanges(){const _0x55a9ca=_0x19821d,_0x4e3211=['ws',_0x55a9ca(0x181),_0x55a9ca(0x178),_0x55a9ca(0x276),_0x55a9ca(0x283),'cancelOrder',_0x55a9ca(0x165),_0x55a9ca(0x170),_0x55a9ca(0x298)];let _0x3eaeb3=[],_0x34659d=[],_0x37478f=ccxt[_0x55a9ca(0x167)][_0x55a9ca(0x248)];_0x37478f['forEach'](_0x22a610=>{const _0x3c94d5=_0x55a9ca;try{const _0x294dba=new ccxt['pro'][_0x22a610]();_0x34659d[_0x3c94d5(0x2a9)](_0x294dba);}catch(_0x467559){}}),_0x34659d[_0x55a9ca(0x200)](_0x7d2ec4=>{const _0xad0c41=_0x55a9ca;let _0x146e89=0x0;_0x4e3211[_0xad0c41(0x200)](_0x39668e=>{_0x39668e in _0x7d2ec4['has']&&_0x7d2ec4['has'][_0x39668e]&&_0x146e89++;}),_0x146e89==_0x4e3211[_0xad0c41(0x2cb)]&&(!excludedExchanges[_0xad0c41(0x2e2)](_0x7d2ec4['id'])&&_0x3eaeb3[_0xad0c41(0x2a9)](capitalize(_0x7d2ec4['id'])));});let _0x3b28f1=[];return _0x37478f[_0x55a9ca(0x200)](_0x470dec=>{const _0x507c86=_0x55a9ca;_0x470dec=capitalize(_0x470dec);if(!_0x3eaeb3['includes'](_0x470dec))_0x3b28f1[_0x507c86(0x2a9)](_0x470dec);}),_0x3eaeb3;}function setStartDatePerformance(){const _0x10a5d0=_0x19821d;if(config&&config[_0x10a5d0(0x1b3)][0x0][_0x10a5d0(0x208)][_0x10a5d0(0x2cb)]!=0x0){const _0xa152d3=config[_0x10a5d0(0x1b3)][0x0][_0x10a5d0(0x208)];dbPerformance[_0x10a5d0(0x163)]('data')[_0x10a5d0(0x291)]({'date':config['startdate']})[_0x10a5d0(0x1c6)]({'coins':_0xa152d3})[_0x10a5d0(0x224)]();}}function calculatePnL(_0x2c581c,_0x1504ad,_0x521045,_0x374c96,_0x324791,_0x40ca00){const _0x3ed1bf=_0x19821d;!_0x2c581c[_0x3ed1bf(0x2e2)]('/'+config['basecoin'])&&(_0x521045=_0x521045==_0x3ed1bf(0x26f)?'sell':_0x3ed1bf(0x26f));!_0x40ca00[_0x1504ad]&&(_0x40ca00[_0x1504ad]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x5f25fb=0x0,_0x23b1ca,_0x165243;if(_0x521045==_0x3ed1bf(0x26f))_0x165243=_0x40ca00[_0x1504ad]['number']*_0x40ca00[_0x1504ad][_0x3ed1bf(0x1b5)]+_0x324791*_0x374c96,_0x40ca00[_0x1504ad][_0x3ed1bf(0x2a1)]+=_0x374c96,_0x40ca00[_0x1504ad]['breakeven']=_0x40ca00[_0x1504ad]['number']!=0x0?_0x165243/_0x40ca00[_0x1504ad][_0x3ed1bf(0x2a1)]:0x0,_0x40ca00[_0x1504ad][_0x3ed1bf(0x321)]++;else _0x521045==_0x3ed1bf(0x1ea)&&(_0x23b1ca=Math[_0x3ed1bf(0x1f8)](_0x40ca00[_0x1504ad][_0x3ed1bf(0x2a1)],_0x374c96),_0x5f25fb=(_0x324791-_0x40ca00[_0x1504ad]['breakeven'])*_0x23b1ca,_0x165243=Math['max'](_0x40ca00[_0x1504ad][_0x3ed1bf(0x2a1)]*_0x40ca00[_0x1504ad]['breakeven']-_0x23b1ca*_0x40ca00[_0x1504ad][_0x3ed1bf(0x1b5)],0x0),_0x40ca00[_0x1504ad][_0x3ed1bf(0x2a1)]-=_0x23b1ca,_0x40ca00[_0x1504ad]['breakeven']=_0x40ca00[_0x1504ad][_0x3ed1bf(0x2a1)]!=0x0?_0x165243/_0x40ca00[_0x1504ad][_0x3ed1bf(0x2a1)]:0x0,_0x40ca00[_0x1504ad][_0x3ed1bf(0x303)]+=_0x5f25fb,_0x40ca00[_0x1504ad][_0x3ed1bf(0x2c8)]++);return _0x5f25fb;}async function generatePnL(){const _0xbff8c2=_0x19821d;pnlGenerationNeeded=![],logger[_0xbff8c2(0x2ab)]('Generating\x20PnL\x20data');const _0x160249=dbLogs[_0xbff8c2(0x163)](_0xbff8c2(0x1da))[_0xbff8c2(0x20d)]();let _0x514a50={},_0x488253=0x0,_0x49103d=0x0,_0xd87dfe=config[_0xbff8c2(0x2b4)];const _0x1deac8=fns[_0xbff8c2(0x175)](_0xd87dfe,'yyyy/MM/dd',new Date()),_0x177a37=new Date();let _0x5f0f39=0x0;for(let _0x2fe910=_0x1deac8;!fns[_0xbff8c2(0x20f)](_0x177a37,_0x2fe910);_0x2fe910=fns[_0xbff8c2(0x249)](_0x2fe910,0x1)){const _0x3a02c5=fns['format'](_0x2fe910,'yyyy/MM/dd');while(_0x488253<_0x160249[_0xbff8c2(0x2cb)]){const _0x309d4a=new Date(_0x160249[_0x488253]['time']);if(fns[_0xbff8c2(0x20f)](_0x309d4a,_0x2fe910))_0x488253++;else{if(_0x160249[_0x488253][_0xbff8c2(0x1f3)][_0xbff8c2(0x2e2)](_0x3a02c5)){const _0x5002db=_0x160249[_0x488253];if(_0x5002db[_0xbff8c2(0x1e6)]===_0xbff8c2(0x2ae)&&(_0x5002db[_0xbff8c2(0x1d1)][_0xbff8c2(0x2e2)](_0xbff8c2(0x168))||_0x5002db[_0xbff8c2(0x1d1)][_0xbff8c2(0x2e2)](_0xbff8c2(0x173)))){const _0x2b4f92=_0x5002db['event'][_0xbff8c2(0x2ed)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x2b4f92){const [,_0x164fa4,_0x364b9f,_0x1f0e72,_0x21edc3]=_0x2b4f92,_0x4e26b2=_0x164fa4[_0xbff8c2(0x2e2)]('/'+config[_0xbff8c2(0x1d8)])?_0x164fa4[_0xbff8c2(0x2e6)]('/')[0x0]:_0x164fa4[_0xbff8c2(0x2e6)]('/')[0x1],_0xdfdb64=calculatePnL(_0x164fa4,_0x4e26b2,_0x364b9f,parseFloat(_0x1f0e72),parseFloat(_0x21edc3),_0x514a50);_0x49103d+=_0xdfdb64;}}_0x488253++;}else break;}}dbPerformance['get'](_0xbff8c2(0x1c8))['find']({'date':_0x3a02c5})[_0xbff8c2(0x1c6)]({'pnl':_0x49103d})[_0xbff8c2(0x224)]();}dbCoinResults['set'](_0xbff8c2(0x266),_0x514a50)[_0xbff8c2(0x224)](),logger[_0xbff8c2(0x2ab)](_0xbff8c2(0x329));const _0x2b3c98=getNormalizedPerformance();emitPerformance(_0x2b3c98);}async function updatePnL(_0x2eb91b){const _0x1d0199=_0x19821d,{symbol:_0x765ffe,coin:_0x4c761e,amount:_0x443d68,price:_0x3e35a9,side:_0x1c8997,reverse:_0x77a924}=_0x2eb91b;let _0x5cc13c=dbCoinResults[_0x1d0199(0x163)]('coins')[_0x1d0199(0x20d)]();const _0x4ac6f1=calculatePnL(_0x765ffe,_0x4c761e,_0x1c8997,_0x443d68,_0x3e35a9,_0x5cc13c);dbCoinResults[_0x1d0199(0x2df)](_0x1d0199(0x266),_0x5cc13c)[_0x1d0199(0x224)]();const _0x21acec=getTimeStamp()[_0x1d0199(0x2e6)]('\x20')[0x0];let _0x5dc6a7=dbPerformance[_0x1d0199(0x163)](_0x1d0199(0x1c8))[_0x1d0199(0x291)]({'date':_0x21acec})[_0x1d0199(0x20d)]();_0x5dc6a7?(_0x5dc6a7['pnl']+=_0x4ac6f1,dbPerformance[_0x1d0199(0x163)](_0x1d0199(0x1c8))['find']({'date':_0x21acec})['assign'](_0x5dc6a7)[_0x1d0199(0x224)]()):await storePerformance();const _0x412c15=getNormalizedPerformance();emitPerformance(_0x412c15);}async function validate24hChanges(){const _0x5a089c=_0x19821d;for(const _0x10d734 of currentCoins){if(_0x10d734[_0x5a089c(0x212)]!=config[_0x5a089c(0x1d8)]){let _0x1bf0b7;_0x10d734[_0x5a089c(0x1f4)]?_0x1bf0b7=formatResult((0x1/(gChange[_0x10d734['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x1bf0b7=gChange[_0x10d734[_0x5a089c(0x269)]],_0x1bf0b7<config[_0x5a089c(0x209)]&&(logHistory(_0x5a089c(0x16b),_0x10d734[_0x5a089c(0x212)]+_0x5a089c(0x1ab)+_0x1bf0b7+'%'),logHistory(_0x5a089c(0x16b),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x5a089c(0x16b),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x36d988,_0x55e238){const _0x1ad82e=_0x19821d;if(!_0x36d988)return!![];const _0x5df590=_0x55e238[_0x1ad82e(0x2e6)]('.'),_0x516f10=_0x36d988['split']('.');for(var _0x3319b9=0x0;_0x3319b9<_0x516f10[_0x1ad82e(0x2cb)];_0x3319b9++){const _0x5417b1=~~_0x516f10[_0x3319b9],_0x3f51c9=~~_0x5df590[_0x3319b9];if(_0x5417b1<_0x3f51c9)return!![];if(_0x5417b1>_0x3f51c9)return![];}return![];}async function oneTimeMigration(){const _0x5a5295=_0x19821d;let _0x1f3856=dbLogs[_0x5a5295(0x163)](_0x5a5295(0x23a))[_0x5a5295(0x20d)]();if(isOlderVersion(_0x1f3856,'2.3.5')){let _0x95e80a=[];const _0x54ad7c=dbLogs[_0x5a5295(0x163)](_0x5a5295(0x1da))[_0x5a5295(0x20d)]();_0x54ad7c[_0x5a5295(0x200)](_0x38de1b=>{const _0xe3ae2=_0x5a5295;_0x95e80a[_0xe3ae2(0x2a9)]({'time':_0x38de1b[_0xe3ae2(0x1f3)],'type':_0x38de1b['type'],'event':_0x38de1b['event']});}),dbLogs[_0x5a5295(0x163)](_0x5a5295(0x1da))['assign'](_0x95e80a)[_0x5a5295(0x224)]();}let _0x52ae4a=dbConfig[_0x5a5295(0x163)](_0x5a5295(0x23a))[_0x5a5295(0x20d)]();if(isOlderVersion(_0x52ae4a,_0x5a5295(0x2b9))){let _0x3fd8b5=dbConfig[_0x5a5295(0x163)](_0x5a5295(0x2db))[_0x5a5295(0x291)]({'botID':botID})['value']();if(_0x3fd8b5){let _0x5a1387=[];_0x3fd8b5[_0x5a5295(0x2b3)][_0x5a5295(0x200)](_0x354ac2=>{const _0xa02fbf=_0x5a5295;_0x5a1387[_0xa02fbf(0x2a9)]({'coin':_0x354ac2[_0xa02fbf(0x212)],'number':_0x354ac2[_0xa02fbf(0x281)],'price':_0x354ac2[_0xa02fbf(0x2e4)]}),delete _0x354ac2[_0xa02fbf(0x281)],delete _0x354ac2['startprice'];});if(_0x5a1387['length']!==0x0)fs[_0x5a5295(0x22a)](configbackuppath+('starting-balance-'+botID+_0x5a5295(0x256)),JSON[_0x5a5295(0x1d2)](_0x5a1387,null,0x4),function(_0x51f136){if(_0x51f136){}});const _0x4c0bee=(_0x2d481c,_0x220c56)=>{const _0x5b3ba1=_0x5a5295;let _0x48236c=[];_0x220c56[_0x5b3ba1(0x200)](_0x5b68f4=>{const _0x5c2167=_0x5b3ba1,_0x1652df=_0x2d481c[_0x5c2167(0x291)](_0x339099=>_0x339099[_0x5c2167(0x212)]==_0x5b68f4[_0x5c2167(0x212)]);if(!_0x1652df)_0x48236c[_0x5c2167(0x2a9)](_0x5b68f4);});let _0xaf840=[];return _0x2d481c[_0x5b3ba1(0x200)](_0x45310a=>{const _0x565805=_0x5b3ba1,_0x21e7ff=_0x220c56[_0x565805(0x291)](_0x25dffc=>_0x25dffc[_0x565805(0x212)]==_0x45310a[_0x565805(0x212)]);if(!_0x21e7ff||_0x21e7ff['number']==0x0&&_0x45310a['number']!=0x0)_0xaf840[_0x565805(0x2a9)](_0x45310a);}),{'missingDay1':_0x48236c,'notInDay2':_0xaf840};},_0x355501=dbPerformance[_0x5a5295(0x163)](_0x5a5295(0x1c8))[_0x5a5295(0x176)]()[_0x5a5295(0x20d)]();if(_0x355501[_0x5a5295(0x2cb)]>0x1){const {missingDay1:_0x15b9f5,notInDay2:_0x50dded}=_0x4c0bee(_0x5a1387,_0x355501[0x1][_0x5a5295(0x266)]);_0x5a1387=[..._0x5a1387,..._0x15b9f5],_0x50dded['forEach'](_0x52da92=>{const _0x4cfc6d=_0x5a5295;let _0x515a6b=_0x5a1387[_0x4cfc6d(0x18b)](_0x505ce9=>_0x505ce9[_0x4cfc6d(0x212)]==_0x52da92['coin']);_0x515a6b!=-0x1&&_0x5a1387[_0x4cfc6d(0x2f2)](_0x515a6b,0x1);});}_0x5a1387['sort']((_0x222a8f,_0x2def35)=>_0x222a8f['coin']>_0x2def35[_0x5a5295(0x212)]?0x1:_0x2def35[_0x5a5295(0x212)]>_0x222a8f[_0x5a5295(0x212)]?-0x1:0x0);let _0x2bd405=[{'date':_0x3fd8b5['startdate'],'changes':_0x5a1387}];_0x355501[_0x5a5295(0x2cb)]>0x2&&_0x355501[_0x5a5295(0x200)]((_0x2f8e43,_0x137936)=>{const _0xa9ae90=_0x5a5295;if(_0x137936>0x0&&_0x137936<_0x355501[_0xa9ae90(0x2cb)]-0x1){const {missingDay1:_0x2eb2a8,notInDay2:_0x2c1966}=_0x4c0bee(_0x355501[_0x137936]['coins'],_0x355501[_0x137936+0x1][_0xa9ae90(0x266)]);_0x5a1387=[],(_0x2eb2a8[_0xa9ae90(0x2cb)]!=0x0||_0x2c1966[_0xa9ae90(0x2cb)]!=0x0)&&(_0x2eb2a8[_0xa9ae90(0x2cb)]!=0x0&&_0x5a1387['push'](..._0x2eb2a8),_0x2c1966[_0xa9ae90(0x2cb)]!=0x0&&(_0x2c1966['forEach'](_0x555e13=>{const _0x3624ba=_0xa9ae90;_0x555e13[_0x3624ba(0x2a1)]=-_0x555e13[_0x3624ba(0x2a1)];}),_0x5a1387[_0xa9ae90(0x2a9)](..._0x2c1966)),_0x5a1387[_0xa9ae90(0x187)]((_0x2be134,_0x2179cc)=>_0x2be134[_0xa9ae90(0x212)]>_0x2179cc['coin']?0x1:_0x2179cc[_0xa9ae90(0x212)]>_0x2be134[_0xa9ae90(0x212)]?-0x1:0x0),_0x2bd405[_0xa9ae90(0x2a9)]({'date':_0x355501[_0x137936+0x1]['date'],'changes':_0x5a1387}));}}),dbConfig[_0x5a5295(0x163)](_0x5a5295(0x2db))[_0x5a5295(0x291)]({'botID':botID})[_0x5a5295(0x1c6)]({..._0x3fd8b5,'liquidity':_0x2bd405})[_0x5a5295(0x224)]();}}if(isOlderVersion(_0x52ae4a,'2.6.0')){let _0x2c63a5=dbConfig['get'](_0x5a5295(0x2db))['find']({'botID':botID})[_0x5a5295(0x20d)]();if(_0x2c63a5){const _0x2df94d=_0x2c63a5[_0x5a5295(0x327)],_0x5ca0dd=_0x2df94d?capitalize(_0x2df94d):'Binance';dbConfig[_0x5a5295(0x163)]('bot')[_0x5a5295(0x291)]({'botID':botID})[_0x5a5295(0x1c6)]({'exchange':_0x5ca0dd})[_0x5a5295(0x224)]();}}if(isOlderVersion(_0x52ae4a,'2.6.22')){let _0x12e70c=dbConfig[_0x5a5295(0x163)]('bot')['find']({'botID':botID})[_0x5a5295(0x20d)]();if(_0x12e70c){const _0x1ef503=_0x12e70c[_0x5a5295(0x295)],_0x9a8d3a=_0x1ef503?_0x5a5295(0x259):![];dbConfig[_0x5a5295(0x163)](_0x5a5295(0x2db))['find']({'botID':botID})[_0x5a5295(0x1c6)]({'marketcapEnabled':_0x9a8d3a})[_0x5a5295(0x224)]();}}if(isOlderVersion(_0x52ae4a,_0x5a5295(0x31f))){let _0x2d0a91=dbConfig['get'](_0x5a5295(0x2db))[_0x5a5295(0x291)]({'botID':botID})[_0x5a5295(0x20d)]();if(_0x2d0a91){const _0x5618d0=_0x2d0a91[_0x5a5295(0x211)],_0x394dbf=_0x5618d0?_0x5a5295(0x184):![];dbConfig[_0x5a5295(0x163)]('bot')[_0x5a5295(0x291)]({'botID':botID})[_0x5a5295(0x1c6)]({'autoliquidity':_0x394dbf})[_0x5a5295(0x224)]();}}let _0x5af1c0=dbPerformance[_0x5a5295(0x163)]('version')['value']();isOlderVersion(_0x5af1c0,_0x5a5295(0x2b9))&&setStartDatePerformance();let _0x11baee=dbCoinResults[_0x5a5295(0x163)](_0x5a5295(0x23a))[_0x5a5295(0x20d)]();if(isOlderVersion(_0x11baee,'2.7.1')){let _0x158d89=dbCoinResults['get'](_0x5a5295(0x266))[_0x5a5295(0x20d)]();if(_0x158d89[_0x5a5295(0x2cb)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x48553d=_0x19821d;dbConfig[_0x48553d(0x2df)](_0x48553d(0x23a),serverversion)[_0x48553d(0x224)](),dbPerformance[_0x48553d(0x2df)](_0x48553d(0x23a),serverversion)[_0x48553d(0x224)](),dbLogs[_0x48553d(0x2df)](_0x48553d(0x23a),serverversion)[_0x48553d(0x224)](),dbCoinResults['set'](_0x48553d(0x23a),serverversion)[_0x48553d(0x224)]();}function getConfiguration(_0x52f61c){const _0x40cf13=_0x19821d;let _0x480559=dbConfig['get'](_0x40cf13(0x2db))[_0x40cf13(0x291)]({'botID':_0x52f61c})[_0x40cf13(0x20d)]();if(_0x480559){let _0x239e97=![];typeof _0x480559['threshold']=='string'&&(_0x480559={..._0x480559,'threshold':Number(_0x480559['threshold'])},_0x239e97=!![]),_0x480559[_0x40cf13(0x209)]==undefined&&(_0x480559={..._0x480559,'change24h':-0x14},_0x239e97=!![]),_0x480559[_0x40cf13(0x192)]==undefined&&(_0x480559={..._0x480559,'fiat':_0x40cf13(0x18d)},_0x239e97=!![]),_0x480559[_0x40cf13(0x250)]==undefined&&(_0x480559={..._0x480559,'onepagemode':settings[_0x40cf13(0x250)]},_0x239e97=!![]),_0x480559['colorscheme']==undefined&&(_0x480559={..._0x480559,'colorscheme':'red_yellow_blue'},_0x239e97=!![]),_0x480559['autoliquidity']==undefined&&(_0x480559={..._0x480559,'autoliquidity':_0x40cf13(0x184)},_0x239e97=!![]),_0x480559['marketcapApi']==undefined&&(_0x480559={..._0x480559,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x239e97=!![]),_0x480559['marketcapEnabled']==undefined&&(_0x480559={..._0x480559,'marketcapEnabled':![]},_0x239e97=!![]),_0x480559[_0x40cf13(0x1c9)]==undefined&&(_0x480559={..._0x480559,'sandbox':![]},_0x239e97=!![]),_0x239e97&&(_0x480559={'botID':_0x480559['botID'],'exchange':_0x480559['exchange'],'apiKey':_0x480559[_0x40cf13(0x24f)],'apiSecret':_0x480559[_0x40cf13(0x18c)],'apiPassword':_0x480559[_0x40cf13(0x1ee)],'basecoin':_0x480559[_0x40cf13(0x1d8)],'botname':_0x480559[_0x40cf13(0x2a3)],'showname':_0x480559[_0x40cf13(0x262)],'threshold':_0x480559[_0x40cf13(0x241)],'ordertype':_0x480559[_0x40cf13(0x218)],'timeout':_0x480559['timeout'],'fiat':_0x480559[_0x40cf13(0x192)],'startdate':_0x480559[_0x40cf13(0x2b4)],'recreate':_0x480559[_0x40cf13(0x199)],'timeshift':_0x480559[_0x40cf13(0x2c7)],'onepagemode':_0x480559['onepagemode'],'headless':_0x480559[_0x40cf13(0x2ad)],'cooldown':_0x480559[_0x40cf13(0x25d)],'change24h':_0x480559['change24h'],'emojibuy':_0x480559[_0x40cf13(0x2be)],'emojisell':_0x480559[_0x40cf13(0x23c)],'colorscheme':_0x480559[_0x40cf13(0x1b0)],'marketcapApi':_0x480559[_0x40cf13(0x229)],'marketcapEnabled':_0x480559['marketcapEnabled'],'sandbox':_0x480559[_0x40cf13(0x1c9)],'portfolio':_0x480559[_0x40cf13(0x2b3)],'autoliquidity':_0x480559[_0x40cf13(0x211)],'liquidity':_0x480559[_0x40cf13(0x1b3)],'openOrders':_0x480559['openOrders']},dbConfig[_0x40cf13(0x163)](_0x40cf13(0x2db))['remove']()['write'](),dbConfig[_0x40cf13(0x163)](_0x40cf13(0x2db))[_0x40cf13(0x2a9)](_0x480559)['write']());}else _0x480559={'botID':_0x52f61c,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x40cf13(0x1e8)+_0x52f61c,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x40cf13(0x18d),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x40cf13(0x2c7)],'onepagemode':settings[_0x40cf13(0x250)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x40cf13(0x184),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x480559;}function emittedConfiguration(){const _0x5935ce=_0x19821d;let _0x3faea1;if(config['apiKey']=='')_0x3faea1={...config,'configstate':_0x5935ce(0x21d)};else config[_0x5935ce(0x24f)]=='***'?_0x3faea1={...config,'configstate':_0x5935ce(0x1c0)}:(_0x3faea1={...config,'apiKey':_0x5935ce(0x292),'apiSecret':'************'},config[_0x5935ce(0x1ee)]&&(_0x3faea1[_0x5935ce(0x1ee)]='************'));return _0x3faea1[_0x5935ce(0x238)]=enableFiatToggle,_0x3faea1;}function getSettings(){const _0x43e8a1=_0x19821d;return dbSettings[_0x43e8a1(0x163)]('settings')[_0x43e8a1(0x20d)]();}function getSecure(){const _0x4ff78c=_0x19821d;return dbSecure[_0x4ff78c(0x163)](_0x4ff78c(0x1ae))[_0x4ff78c(0x20d)]()||{};}function updateTimeshift(_0x45770a){const _0x50cce7=_0x19821d;let _0x3d7cd7=dbConfig[_0x50cce7(0x163)]('bot')['find']({'botID':botID})[_0x50cce7(0x20d)]();_0x3d7cd7&&dbConfig['get']('bot')['find']({'botID':botID})[_0x50cce7(0x1c6)]({'timeshift':_0x45770a})['write'](),config['timeshift']=_0x45770a,proxyEmit(_0x50cce7(0x2fa),emittedConfiguration());}function updateOnepagemode(_0x5e9789){const _0x3b408c=_0x19821d;let _0x5b551d=dbConfig[_0x3b408c(0x163)](_0x3b408c(0x2db))['find']({'botID':botID})['value']();_0x5b551d&&dbConfig['get'](_0x3b408c(0x2db))['find']({'botID':botID})[_0x3b408c(0x1c6)]({'onepagemode':_0x5e9789})[_0x3b408c(0x224)](),config[_0x3b408c(0x250)]=_0x5e9789,proxyEmit(_0x3b408c(0x2fa),emittedConfiguration());}function updateMarketcapApi(_0x4a8ac0){const _0x2d3590=_0x19821d,_0x562bab=_0x4a8ac0?!![]:![];let _0x1587a8=dbConfig[_0x2d3590(0x163)]('bot')[_0x2d3590(0x291)]({'botID':botID})[_0x2d3590(0x20d)]();_0x1587a8&&dbConfig['get'](_0x2d3590(0x2db))[_0x2d3590(0x291)]({'botID':botID})[_0x2d3590(0x1c6)]({'marketcapApi':_0x562bab})[_0x2d3590(0x224)](),config[_0x2d3590(0x229)]=_0x562bab,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x3420a5){const _0xc17802=_0x19821d;logger['debug'](_0xc17802(0x258));_0x3420a5[_0xc17802(0x22d)]&&delete _0x3420a5[_0xc17802(0x22d)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x8911dd=![],_0x4c596c=![],_0x5d6db2=[];_0x3420a5['portfolio'][_0xc17802(0x200)](_0x5bff0d=>{const _0x1c15cf=_0xc17802;if(!_0x5bff0d[_0x1c15cf(0x306)]&&_0x5bff0d[_0x1c15cf(0x212)]!=_0x3420a5['basecoin'])_0x5d6db2[_0x1c15cf(0x2a9)](_0x5bff0d[_0x1c15cf(0x269)]);}),_0x5d6db2['forEach'](_0x416dea=>{const _0x596aa0=_0xc17802,_0x57d316=currentCoins['find'](_0x144d81=>_0x144d81[_0x596aa0(0x269)]==_0x416dea);!_0x57d316&&(_0x8911dd=!![]);}),currentCoins[_0xc17802(0x200)](_0x1dfc10=>{const _0x449340=_0xc17802;if(_0x1dfc10[_0x449340(0x212)]!=config[_0x449340(0x1d8)]){const _0x54085f=_0x5d6db2[_0x449340(0x291)](_0x5fe452=>_0x5fe452==_0x1dfc10['symbol']);!_0x54085f&&(_0x8911dd=!![]);}}),_0x3420a5['portfolio']['forEach'](_0x36789c=>{const _0x232a24=_0xc17802,_0x1d6d20=config['portfolio'][_0x232a24(0x291)](_0x4a9aed=>_0x4a9aed[_0x232a24(0x212)]==_0x36789c[_0x232a24(0x212)]);if(_0x1d6d20&&_0x36789c[_0x232a24(0x2c1)]!=_0x1d6d20[_0x232a24(0x2c1)])_0x4c596c=!![];});let _0x4aa80e=dbConfig[_0xc17802(0x163)](_0xc17802(0x2db))[_0xc17802(0x291)]({'botID':botID})[_0xc17802(0x20d)]();_0x3420a5={..._0x3420a5,'apiKey':decryptRSA(secure['privateKey'],_0x3420a5['apiKey']),'apiSecret':decryptRSA(secure['privateKey'],_0x3420a5[_0xc17802(0x18c)])};_0x3420a5[_0xc17802(0x1ee)]&&(_0x3420a5[_0xc17802(0x1ee)]=decryptRSA(secure[_0xc17802(0x1f1)],_0x3420a5[_0xc17802(0x1ee)]));let _0x326f49=![];if(_0x4aa80e){_0x3420a5[_0xc17802(0x24f)]=='************'?_0x3420a5[_0xc17802(0x24f)]=config[_0xc17802(0x24f)]:_0x326f49=!![];_0x3420a5[_0xc17802(0x18c)]=='************'?_0x3420a5['apiSecret']=config[_0xc17802(0x18c)]:_0x326f49=!![];if(_0x3420a5['apiPassword']==_0xc17802(0x292))_0x3420a5['apiPassword']=config[_0xc17802(0x1ee)];else{if(_0x3420a5[_0xc17802(0x1ee)])_0x326f49=!![];}dbConfig[_0xc17802(0x163)](_0xc17802(0x2db))[_0xc17802(0x291)]({'botID':botID})[_0xc17802(0x1c6)](_0x3420a5)[_0xc17802(0x224)]();}else dbConfig[_0xc17802(0x163)]('bot')[_0xc17802(0x2a9)](_0x3420a5)[_0xc17802(0x224)](),_0x326f49=!![],process[_0xc17802(0x30a)]({'status':_0xc17802(0x204),'live':_0xc17802(0x2dd)},_0x13bfec=>{});process[_0xc17802(0x30a)]({'botname':_0x3420a5[_0xc17802(0x2a3)]},_0x36b3ce=>{}),config={..._0x3420a5},updateBotManager(),proxyEmit(_0xc17802(0x26c)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x326f49)await reset(!![]);else _0x8911dd||_0x4c596c?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x206e57){const _0x1285c0=_0x19821d,_0x34708d={...config,'headless':_0x206e57[_0x1285c0(0x2ad)]};let _0x1c56a1=dbConfig[_0x1285c0(0x163)](_0x1285c0(0x2db))[_0x1285c0(0x291)]({'botID':botID})[_0x1285c0(0x20d)]();_0x1c56a1&&dbConfig[_0x1285c0(0x163)](_0x1285c0(0x2db))[_0x1285c0(0x291)]({'botID':botID})['assign'](_0x34708d)['write'](),config={..._0x34708d},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x5d238c){const _0x56c291=_0x19821d,_0x4f3f79={...config,'fiat':_0x5d238c};let _0x46c61e=dbConfig[_0x56c291(0x163)]('bot')[_0x56c291(0x291)]({'botID':botID})['value']();_0x46c61e&&dbConfig[_0x56c291(0x163)]('bot')['find']({'botID':botID})[_0x56c291(0x1c6)](_0x4f3f79)['write'](),config={..._0x4f3f79},proxyEmit(_0x56c291(0x2fa),emittedConfiguration());}function resetHistory(){const _0xcf7399=_0x19821d;logger[_0xcf7399(0x1d4)](_0xcf7399(0x29c));try{if(fs[_0xcf7399(0x319)](path[_0xcf7399(0x2f6)](configpath,_0xcf7399(0x205)+botID+_0xcf7399(0x182))))fs['unlinkSync'](path[_0xcf7399(0x2f6)](configpath,_0xcf7399(0x205)+botID+_0xcf7399(0x182)));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+_0xcf7399(0x188))))fs[_0xcf7399(0x179)](path[_0xcf7399(0x2f6)](configpath,_0xcf7399(0x205)+botID+'-performance.json'));if(fs[_0xcf7399(0x319)](path[_0xcf7399(0x2f6)](configpath,_0xcf7399(0x205)+botID+_0xcf7399(0x177))))fs['unlinkSync'](path[_0xcf7399(0x2f6)](configpath,_0xcf7399(0x205)+botID+'-results.json'));}catch(_0xf7eac4){if(_0xf7eac4)logger[_0xcf7399(0x1d4)]('Error\x20while\x20deleting\x20files:\x20',_0xf7eac4);}const _0x2f5bb6=getDate();let _0x443a67=[];currentCoins[_0xcf7399(0x200)](_0x2119c6=>{const _0xda03f9=_0xcf7399;_0x443a67[_0xda03f9(0x2a9)]({'coin':_0x2119c6[_0xda03f9(0x212)],'number':_0x2119c6['number'],'price':_0x2119c6[_0xda03f9(0x1d0)]});});let _0x179981=dbConfig['get'](_0xcf7399(0x2db))[_0xcf7399(0x291)]({'botID':botID})[_0xcf7399(0x20d)]();_0x179981&&(dbConfig[_0xcf7399(0x163)](_0xcf7399(0x2db))[_0xcf7399(0x291)]({'botID':botID})['assign']({'liquidity':[{'date':_0x2f5bb6,'changes':_0x443a67}]})[_0xcf7399(0x224)](),config[_0xcf7399(0x1b3)]=[]),restartBot(!![]);}function noslash(_0x189e48){const _0x51f106=_0x19821d;return _0x189e48[_0x51f106(0x1b1)]('/','');}function updateHighestFee(_0x231ddf){const _0x2a16d2=_0x19821d;if(_0x231ddf[_0x2a16d2(0x1f4)]){let _0x112b35={'filled':_0x231ddf[_0x2a16d2(0x1ba)]*_0x231ddf[_0x2a16d2(0x2a4)],'amount':_0x231ddf[_0x2a16d2(0x1ba)]*_0x231ddf[_0x2a16d2(0x2a4)],'side':_0x231ddf[_0x2a16d2(0x1bc)]==_0x2a16d2(0x1ea)?_0x2a16d2(0x26f):_0x2a16d2(0x1ea),'price':0x1/_0x231ddf[_0x2a16d2(0x2a4)]};_0x231ddf={..._0x231ddf,..._0x112b35};}const _0x6678cb=defaultFee*_0x231ddf[_0x2a16d2(0x1ba)]*_0x231ddf['price'];lastFees[_0x2a16d2(0x308)][_0x2a16d2(0x2cb)]===0x14&&lastFees[_0x2a16d2(0x308)][_0x2a16d2(0x29b)](),lastFees[_0x2a16d2(0x308)][_0x2a16d2(0x2a9)](_0x6678cb),lastFees['highest']=Math['max'](...lastFees[_0x2a16d2(0x308)]);}async function updateNumberCoinsCcxt(_0x59ebcb){const _0x522bc2=_0x19821d;logger[_0x522bc2(0x2ab)]('0\x20-\x20EXECUTION:\x20'+_0x59ebcb['symbol']+_0x522bc2(0x1ec)+_0x59ebcb[_0x522bc2(0x27e)]+_0x522bc2(0x1ec)+_0x59ebcb[_0x522bc2(0x1ba)]+_0x522bc2(0x27c)+_0x59ebcb['amount']+_0x522bc2(0x1ec)+_0x59ebcb['id']);let _0x48e63a=_0x59ebcb[_0x522bc2(0x27e)],_0x3642c7=![];currentCoins['forEach'](_0x1741dc=>{const _0x2da9f0=_0x522bc2;_0x1741dc['symbol']==_0x59ebcb[_0x2da9f0(0x269)]&&(_0x3642c7=!![]);});if(!_0x3642c7)return;const _0x48778a=currentCoins[_0x522bc2(0x291)](_0x39a5da=>_0x39a5da[_0x522bc2(0x269)]==_0x59ebcb[_0x522bc2(0x269)]),_0x443619=_0x48778a[_0x522bc2(0x212)],_0x29ba0e=_0x4e5ad3=>{const _0x394101=_0x522bc2,_0x14b6c2=currentCoins[_0x394101(0x291)](_0xd3352e=>_0xd3352e[_0x394101(0x269)]==_0x59ebcb[_0x394101(0x269)]);if(_0x14b6c2)_0x14b6c2[_0x394101(0x302)]=_0x4e5ad3;};let _0x5570d2=![];for(const _0x5234b1 of lastOrders){const _0x366285=0x64,_0x2936bd=0x1388;let _0x54dbe8=0x0;while(!_0x5234b1[_0x522bc2(0x18e)]&&_0x54dbe8*_0x366285<_0x2936bd){_0x54dbe8++,await sleep(_0x366285);}if(_0x54dbe8>0x0)logger['debug']('Waited\x20'+_0x54dbe8*_0x366285/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x5234b1[_0x522bc2(0x18e)]==_0x59ebcb['id']&&(_0x5570d2=!![]);}if(_0x48e63a==_0x522bc2(0x30d)){_0x29ba0e(_0x522bc2(0x30d));if(_0x59ebcb[_0x522bc2(0x1ba)]>0x0&&_0x59ebcb[_0x522bc2(0x1ba)]<_0x59ebcb[_0x522bc2(0x1ce)]){if(_0x5570d2){setBlockTransactionDetection(!![]),logger['debug'](_0x522bc2(0x1e3)+_0x59ebcb[_0x522bc2(0x1ba)]+')\x20known\x20order:\x20'+_0x59ebcb['id']);const _0x2e87cf=await getCoins(balanceUpdateDelay,undefined,undefined,_0x443619);[currentCoins,currentCoinsAll]=_0x2e87cf,setBlockTransactionDetection(![]);}else logger['debug'](_0x522bc2(0x1e3)+_0x59ebcb[_0x522bc2(0x1ba)]+_0x522bc2(0x28b)+_0x59ebcb['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x48e63a=='canceled'){_0x29ba0e(_0x522bc2(0x301)),lastOrders=lastOrders[_0x522bc2(0x2d1)](_0x14d720=>_0x14d720[_0x522bc2(0x269)]!=_0x59ebcb[_0x522bc2(0x269)]);const _0x5f044a=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5f044a,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x48e63a==_0x522bc2(0x1d7)){if(lastOrders)for(const _0x2f1939 of lastOrders){if(_0x2f1939['orderId']==_0x59ebcb['id']){logger[_0x522bc2(0x2ab)](_0x522bc2(0x30b)+_0x59ebcb['id']),_0x5570d2=!![];if(_0x2f1939['filled']==0x0){setBlockTransactionDetection(!![]),logger[_0x522bc2(0x2ab)](_0x522bc2(0x19c)+_0x59ebcb['id']);if(_0x59ebcb['average'])_0x2f1939[_0x522bc2(0x2a4)]=_0x59ebcb[_0x522bc2(0x261)];else{if(_0x59ebcb['price'])_0x2f1939[_0x522bc2(0x2a4)]=_0x59ebcb[_0x522bc2(0x2a4)];else{}}_0x2f1939[_0x522bc2(0x1ba)]=_0x59ebcb[_0x522bc2(0x1ba)],updateHighestFee(_0x2f1939);const _0x47af81=await getCoins(balanceUpdateDelay,undefined,undefined,_0x443619);[currentCoins,currentCoinsAll]=_0x47af81,setBlockTransactionDetection(![]),await validateOrders(),_0x29ba0e(_0x522bc2(0x1ba)),_0x2f1939['fee']={'currency':_0x59ebcb['fee']?_0x59ebcb[_0x522bc2(0x2bf)][_0x522bc2(0x16a)]:null,'cost':_0x59ebcb[_0x522bc2(0x2bf)]?_0x59ebcb[_0x522bc2(0x2bf)][_0x522bc2(0x1d6)]:0x0},await updatePnL(_0x2f1939);}}}!_0x5570d2&&(logger[_0x522bc2(0x2ab)](_0x522bc2(0x29d)+_0x59ebcb['id']),_0x29ba0e(_0x522bc2(0x1ba)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x723741=JSON[_0x522bc2(0x175)](lastBalances[_0x522bc2(0x2b3)]);const _0x2ec0c3=_0x723741['find'](_0x57c130=>_0x57c130['symbol']==_0x59ebcb[_0x522bc2(0x269)]);if(_0x2ec0c3){if(_0x48e63a==_0x522bc2(0x30d))_0x2ec0c3[_0x522bc2(0x302)]=_0x2ec0c3['orderstatus']=='filled'?_0x522bc2(0x1ba):'open';else{if(_0x48e63a=='canceled')_0x2ec0c3[_0x522bc2(0x302)]=_0x2ec0c3[_0x522bc2(0x302)]=='filled'?_0x522bc2(0x1ba):_0x522bc2(0x301);else _0x48e63a=='closed'&&(_0x2ec0c3[_0x522bc2(0x302)]=_0x522bc2(0x1ba));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x723741)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x3fcd07=_0x19821d;await getOpenOrders();let _0x2671ff=![];currentCoins[_0x3fcd07(0x200)](_0x4a7922=>{const _0x1ab0ed=_0x3fcd07;_0x2671ff=allOpenOrders[_0x1ab0ed(0x291)](_0x111587=>_0x111587[_0x1ab0ed(0x269)]==_0x4a7922[_0x1ab0ed(0x269)]),_0x4a7922[_0x1ab0ed(0x302)]=_0x2671ff?'open':_0x1ab0ed(0x189);});}async function fetchBalance(_0xc1f1e3=!![]){const _0x510921=_0x19821d;let _0x4b1c14,_0x2eb035,_0x499d78,_0x5c5047=0x0;while(!_0x2eb035&&_0x5c5047<maxRetries){try{return _0x4b1c14=await exchange['fetchBalance'](),_0x2eb035=_0x4b1c14['total'],_0x2eb035;}catch(_0x5534c0){_0x499d78=_0x5534c0,_0x5c5047++,await sleep(retryInterval);}}return!_0xc1f1e3?handleErrorNoStop(_0x499d78,_0x510921(0x2ba)):await handleError(_0x499d78,_0x510921(0x2ba)),![];}async function getCoins(_0x3128a5=0x0,_0x12a2bd=!![],_0x1c9096=config['basecoin'],_0xd4521){const _0x155715=_0x19821d;let _0x45abbe=[],_0x2176e9=[],_0x5bee11=[],_0x27ed8e;if(_0x3128a5)await sleep(_0x3128a5);if(botPaused)return[currentCoins,currentCoinsAll];let _0x4c411c=![],_0x282d4d=0x0,_0x21d4e2,_0x341057;_0xd4521&&(_0x21d4e2=currentCoins[_0x155715(0x291)](_0x3f586b=>_0x3f586b[_0x155715(0x212)]==_0xd4521),_0x21d4e2&&(_0x341057=_0x21d4e2['prevnumber'],delete _0x21d4e2['prevnumber']));while(!_0x4c411c){_0x27ed8e=await fetchBalance(_0x12a2bd);if(_0x27ed8e){if(_0xd4521){if(_0x27ed8e[_0xd4521]!=_0x341057)logger[_0x155715(0x2ab)](_0x155715(0x25f)+_0xd4521+':\x20'+_0x27ed8e[_0xd4521]+'\x20('+_0x341057+')'),_0x4c411c=!![];else{logger[_0x155715(0x2ab)](_0x155715(0x2ea)+_0xd4521+':\x20'+_0x27ed8e[_0xd4521]+'\x20('+_0x341057+')'),_0x282d4d++;if(_0x282d4d<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x155715(0x2ab)](_0x155715(0x28c)+_0x282d4d+_0x155715(0x265));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x40497c,_0x2b6047]of Object[_0x155715(0x1fa)](_0x27ed8e)){_0x5bee11[_0x155715(0x2a9)](_0x40497c);}config['portfolio'][_0x155715(0x200)](_0x3aa699=>{const _0x3698b3=_0x155715;!_0x5bee11[_0x3698b3(0x2e2)](_0x3aa699['coin'])&&(_0x27ed8e[_0x3aa699[_0x3698b3(0x212)]]=0x0);});if(_0x1c9096=='')for(const [_0x8abeb,_0x272c81]of Object[_0x155715(0x1fa)](_0x27ed8e)){_0x272c81!=0x0&&_0x45abbe[_0x155715(0x2a9)]({'coin':_0x8abeb});}else for(const [_0x17bb1f,_0x458329]of Object[_0x155715(0x1fa)](_0x27ed8e)){const _0x13638b=config[_0x155715(0x2b3)][_0x155715(0x291)](_0x110fde=>_0x110fde['coin']==_0x17bb1f),_0x1053de=_0x17bb1f+'/'+_0x1c9096,_0x1df4f3=_0x1c9096+'/'+_0x17bb1f,_0x78536b=currentCoins['find'](_0x4b0116=>_0x4b0116[_0x155715(0x212)]==_0x17bb1f);if((_0x458329!=0x0||_0x13638b)&&(allSymbols[_0x155715(0x2e2)](_0x1053de)||_0x17bb1f==_0x1c9096))_0x78536b?_0x45abbe[_0x155715(0x2a9)]({..._0x78536b,'number':Math[_0x155715(0x2c0)](_0x458329+(_0x13638b&&_0x13638b['offset']||0x0),0x0)}):_0x45abbe[_0x155715(0x2a9)]({'coin':_0x17bb1f,'symbol':_0x1053de,'reverse':![],'number':Math[_0x155715(0x2c0)](_0x458329+(_0x13638b&&_0x13638b[_0x155715(0x2c1)]||0x0),0x0),'orderstatus':_0x155715(0x189)});else{if((_0x458329!=0x0||_0x13638b)&&allSymbols[_0x155715(0x2e2)](_0x1df4f3))_0x78536b?_0x45abbe[_0x155715(0x2a9)]({..._0x78536b,'number':Math[_0x155715(0x2c0)](_0x458329+(_0x13638b&&_0x13638b[_0x155715(0x2c1)]||0x0),0x0)}):_0x45abbe['push']({'coin':_0x17bb1f,'symbol':_0x1df4f3,'reverse':!![],'number':Math[_0x155715(0x2c0)](_0x458329+(_0x13638b&&_0x13638b['offset']||0x0),0x0),'orderstatus':'none'});else _0x13638b&&_0x45abbe[_0x155715(0x2a9)]({'coin':_0x13638b[_0x155715(0x212)],'symbol':_0x13638b[_0x155715(0x269)],'reverse':_0x13638b[_0x155715(0x1f4)],'number':0x0,'orderstatus':'none'});}}return _0x45abbe[_0x155715(0x187)]((_0x13e281,_0x4952b2)=>_0x13e281[_0x155715(0x19a)]<_0x4952b2[_0x155715(0x19a)]?0x1:_0x4952b2['delta']<_0x13e281[_0x155715(0x19a)]?-0x1:0x0),_0x2176e9=cloneDeep(_0x45abbe),_0x45abbe=_0x45abbe[_0x155715(0x2d1)](_0x36613b=>{const _0x481eee=_0x155715,_0xcaf95a=config[_0x481eee(0x2b3)][_0x481eee(0x291)](_0x436336=>_0x436336['coin']==_0x36613b[_0x481eee(0x212)]);return _0xcaf95a&&!_0xcaf95a[_0x481eee(0x306)];}),[_0x45abbe,_0x2176e9];}async function getOpenOrders(){const _0x2b2a60=_0x19821d;let _0x3f5f96;allOpenOrders=[];try{for(const _0x5f3ea1 of config['portfolio']){!_0x5f3ea1[_0x2b2a60(0x306)]&&_0x5f3ea1[_0x2b2a60(0x212)]!=config[_0x2b2a60(0x1d8)]&&(_0x3f5f96=await exchange['fetchOpenOrders'](_0x5f3ea1[_0x2b2a60(0x269)]),_0x3f5f96[_0x2b2a60(0x2cb)]>0x0&&allOpenOrders['push'](_0x3f5f96[0x0]));}}catch(_0xdbbd10){await handleError(_0xdbbd10,_0x2b2a60(0x326));}}async function handleOpenOrders(_0x32344e=0x0){const _0x333035=_0x19821d;allOpenOrders[_0x333035(0x2cb)]==0x0&&lockOrders==ORDERS[_0x333035(0x228)]&&allOrdersPlaced&&(_0x32344e==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x32344e++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x333035(0x17e)),validateOrders(_0x333035(0x2ca))));}async function testAPI(){const _0x58abb7=_0x19821d;try{return await exchange['fetchBalance'](),!![];}catch(_0x15ca8e){loading['cancel']=!![],_0x15ca8e[_0x58abb7(0x2aa)]()[_0x58abb7(0x185)]()['includes'](_0x58abb7(0x26a))||_0x15ca8e[_0x58abb7(0x2aa)]()[_0x58abb7(0x185)]()[_0x58abb7(0x2e2)]('request-time')?(logHistory(_0x58abb7(0x16b),_0x58abb7(0x164)),loading[_0x58abb7(0x16b)]=_0x58abb7(0x243)):handleErrorNoStop(_0x15ca8e,'testAPI()',!![]),logHistory(_0x58abb7(0x16b),'Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started'),logHistory(_0x58abb7(0x16b),_0x58abb7(0x2dc)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger['debug'](_0x58abb7(0x2bb),_0x15ca8e),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x5149e8){const _0x509ed8=_0x19821d;logger['debug'](_0x509ed8(0x2a2));const _0x4eaf96=ccxt['pro'][_0x5149e8['exchange'][_0x509ed8(0x185)]()],_0x4549e6=new _0x4eaf96({'apiKey':_0x5149e8['apiKey'],'secret':_0x5149e8[_0x509ed8(0x18c)],'options':{'defaultType':'spot'}});if(_0x5149e8['apiPassword'])_0x4549e6[_0x509ed8(0x28f)]=_0x5149e8[_0x509ed8(0x1ee)];if(_0x4549e6[_0x509ed8(0x1d3)][_0x509ed8(0x1c9)])_0x4549e6[_0x509ed8(0x23d)](_0x5149e8[_0x509ed8(0x1c9)]);try{await _0x4549e6[_0x509ed8(0x298)](),botPaused=![];}catch(_0x40b607){logger[_0x509ed8(0x2ab)]('Error\x20in\x20testNewAPI():\x20'+_0x40b607[_0x509ed8(0x2aa)]());throw _0x40b607;}}function cloneDeep(_0x47a0ed){const _0x14a01b=_0x19821d;return JSON[_0x14a01b(0x175)](JSON[_0x14a01b(0x1d2)](_0x47a0ed));}async function getPortfolio(_0x365636){const _0x5a7c4f=_0x19821d;let _0x2d09aa=[],_0x206a69=[],_0x58091e=[],_0x33fbbf;_0x365636[_0x5a7c4f(0x24f)]=decryptRSA(secure[_0x5a7c4f(0x1f1)],_0x365636[_0x5a7c4f(0x24f)]),_0x365636[_0x5a7c4f(0x18c)]=decryptRSA(secure[_0x5a7c4f(0x1f1)],_0x365636['apiSecret']);if(_0x365636[_0x5a7c4f(0x1ee)])_0x365636[_0x5a7c4f(0x1ee)]=decryptRSA(secure['privateKey'],_0x365636[_0x5a7c4f(0x1ee)]);if(_0x365636[_0x5a7c4f(0x24f)]!==_0x5a7c4f(0x292)||_0x365636['apiSecret']!==_0x5a7c4f(0x292)||_0x365636['apiPassword']&&_0x365636[_0x5a7c4f(0x1ee)]!=='************'){if(config[_0x5a7c4f(0x327)]){if(_0x365636[_0x5a7c4f(0x24f)]=='************')_0x365636[_0x5a7c4f(0x24f)]=config['apiKey'];if(_0x365636[_0x5a7c4f(0x18c)]==_0x5a7c4f(0x292))_0x365636[_0x5a7c4f(0x18c)]=config[_0x5a7c4f(0x18c)];if(_0x365636[_0x5a7c4f(0x1ee)]==_0x5a7c4f(0x292))_0x365636[_0x5a7c4f(0x1ee)]=config[_0x5a7c4f(0x1ee)];}try{if(_0x365636[_0x5a7c4f(0x253)])await testNewAPI(_0x365636);}catch(_0x3268c7){if(_0x3268c7[_0x5a7c4f(0x2aa)]()[_0x5a7c4f(0x2e2)](_0x5a7c4f(0x219))){logHistory(_0x5a7c4f(0x16b),_0x5a7c4f(0x18a)),logHistory(_0x5a7c4f(0x16b),_0x5a7c4f(0x2d8)+_0x3268c7[_0x5a7c4f(0x2aa)]()),proxyEmit(_0x5a7c4f(0x2cd),![]);return;}else{if(_0x3268c7[_0x5a7c4f(0x2aa)]()['includes']('PermissionDenied')){logHistory(_0x5a7c4f(0x16b),_0x5a7c4f(0x234)),logHistory(_0x5a7c4f(0x16b),'Error\x20details:\x20'+_0x3268c7[_0x5a7c4f(0x2aa)]()),proxyEmit('portfolio1',![]);return;}else{logHistory(_0x5a7c4f(0x16b),'Error\x20occurred:\x20'+_0x3268c7['toString']()),logger[_0x5a7c4f(0x2ab)](_0x5a7c4f(0x2bb),_0x3268c7),proxyEmit(_0x5a7c4f(0x2cd),![]);return;}}}exchange?updateExchange(_0x365636[_0x5a7c4f(0x24f)],_0x365636[_0x5a7c4f(0x18c)],_0x365636[_0x5a7c4f(0x1ee)]):await initExchange(_0x365636[_0x5a7c4f(0x327)],_0x365636[_0x5a7c4f(0x24f)],_0x365636['apiSecret'],_0x365636[_0x5a7c4f(0x1ee)],_0x365636[_0x5a7c4f(0x1c9)]);await loadSymbols();const _0x48c4a6=await getCoins(0x0,![],_0x365636['basecoin']);_0x58091e=cloneDeep(_0x48c4a6[0x1]);}else{const _0x8ea06f=await getCoins();_0x58091e=cloneDeep(_0x8ea06f[0x1]);}if(_0x365636[_0x5a7c4f(0x1d8)]=='')proxyEmit(_0x5a7c4f(0x2cd),!![]),proxyEmit('portfolio2',_0x58091e);else{_0x58091e[_0x5a7c4f(0x200)](_0x4c9231=>{const _0x50c488=_0x5a7c4f;if(_0x4c9231['coin']!=_0x365636[_0x50c488(0x1d8)]&&allSymbols[_0x50c488(0x2e2)](_0x4c9231[_0x50c488(0x269)]))_0x2d09aa['push'](_0x4c9231['symbol']);});if(_0x2d09aa['length']==0x0)logHistory('error',_0x5a7c4f(0x2ec));else{try{_0x206a69=await getTickers(_0x2d09aa);}catch(_0x149e8c){logHistory(_0x5a7c4f(0x16b),'Unknown\x20error\x20-\x20check\x20logs'),logger[_0x5a7c4f(0x2ab)](_0x5a7c4f(0x2bb),_0x149e8c),proxyEmit(_0x5a7c4f(0x2cd),![]);return;}_0x58091e['forEach'](_0x237047=>{const _0x2f8d2d=_0x5a7c4f;_0x237047[_0x2f8d2d(0x212)]!=_0x365636[_0x2f8d2d(0x1d8)]?_0x206a69[_0x237047[_0x2f8d2d(0x269)]]?_0x206a69[_0x237047[_0x2f8d2d(0x269)]]['last']?_0x33fbbf=_0x237047['reverse']?0x1/_0x206a69[_0x237047[_0x2f8d2d(0x269)]]['last']:_0x206a69[_0x237047[_0x2f8d2d(0x269)]][_0x2f8d2d(0x1d0)]:_0x33fbbf=0x0:_0x33fbbf=0x0:_0x33fbbf=0x1,_0x237047[_0x2f8d2d(0x2a4)]=formatResult(_0x33fbbf,0x8);}),await getMarketCap(_0x58091e),proxyEmit(_0x5a7c4f(0x2cd),!![]),proxyEmit(_0x5a7c4f(0x25b),_0x58091e);}}}function truncateTradeAmount(_0x14a5e0,_0x2d9f46){let _0xbf6c7e=0x0;try{_0xbf6c7e=exchange['amountToPrecision'](_0x14a5e0,_0x2d9f46);}catch(_0x39376d){}return _0xbf6c7e;}function checkMinimums(_0x398e6b){const _0x5a33c9=_0x19821d;let _0x18943e=!![];const _0x23407d=!_0x398e6b[_0x5a33c9(0x1f4)]?markets[_0x398e6b[_0x5a33c9(0x269)]][_0x5a33c9(0x1bd)]['amount'][_0x5a33c9(0x1f8)]:markets[_0x398e6b[_0x5a33c9(0x269)]][_0x5a33c9(0x1bd)]['cost']['min'],_0x3c705f=!_0x398e6b['reverse']?markets[_0x398e6b[_0x5a33c9(0x269)]][_0x5a33c9(0x1bd)][_0x5a33c9(0x1d6)][_0x5a33c9(0x1f8)]:markets[_0x398e6b['symbol']][_0x5a33c9(0x1bd)][_0x5a33c9(0x1ce)][_0x5a33c9(0x1f8)],_0x122ef4=truncateTradeAmount(_0x398e6b[_0x5a33c9(0x269)],_0x398e6b[_0x5a33c9(0x260)]);_0x398e6b[_0x5a33c9(0x260)]=_0x122ef4;if(Math['abs'](_0x122ef4)<_0x23407d)_0x18943e=![];if(Math[_0x5a33c9(0x1ff)](_0x122ef4)*_0x398e6b['last']<_0x3c705f)_0x18943e=![];let _0x339a09='';if(_0x398e6b[_0x5a33c9(0x1bc)]==_0x5a33c9(0x1ea)){let _0x39f01a=config[_0x5a33c9(0x2b3)][_0x5a33c9(0x291)](_0x566138=>_0x566138['coin']==_0x398e6b[_0x5a33c9(0x212)]);_0x39f01a[_0x5a33c9(0x2c1)]>0x0?Math['abs'](_0x122ef4)>_0x398e6b[_0x5a33c9(0x2a1)]-_0x39f01a[_0x5a33c9(0x2c1)]&&(_0x18943e=![],_0x339a09=_0x5a33c9(0x193)+_0x39f01a[_0x5a33c9(0x212)]+_0x5a33c9(0x1dc)):Math['abs'](_0x122ef4)>_0x398e6b[_0x5a33c9(0x2a1)]&&(_0x18943e=![]);}if(_0x398e6b[_0x5a33c9(0x1bc)]==_0x5a33c9(0x26f)){let _0x35a67d=config[_0x5a33c9(0x2b3)]['find'](_0x4bd3fe=>_0x4bd3fe[_0x5a33c9(0x212)]==config[_0x5a33c9(0x1d8)]),_0x22e789=currentCoins[_0x5a33c9(0x291)](_0x4f4f44=>_0x4f4f44[_0x5a33c9(0x212)]==config[_0x5a33c9(0x1d8)]);_0x35a67d[_0x5a33c9(0x2c1)]>0x0?Math['abs'](_0x122ef4)*_0x398e6b['last']>_0x22e789[_0x5a33c9(0x2a1)]-_0x35a67d[_0x5a33c9(0x2c1)]&&(_0x18943e=![],_0x339a09=_0x5a33c9(0x193)+config['basecoin']+'\x20due\x20to\x20offset'):Math[_0x5a33c9(0x1ff)](_0x122ef4)*_0x398e6b[_0x5a33c9(0x1d0)]>_0x22e789['number']&&(_0x18943e=![]);}return!_0x18943e&&_0x339a09&&!insufficientFundsWarningSent[_0x5a33c9(0x2e2)](_0x398e6b[_0x5a33c9(0x212)])&&(logHistory(_0x5a33c9(0x171),_0x339a09),insufficientFundsWarningSent[_0x5a33c9(0x2a9)](_0x398e6b[_0x5a33c9(0x212)])),_0x18943e;}async function getBalances(_0x5a550f=!![]){const _0x492bb3=_0x19821d;if(botPaused)return;let _0x3e1b7d=0x0,_0x7c0dee;const _0x5663af=config[_0x492bb3(0x241)];if(config[_0x492bb3(0x2ad)]&&config[_0x492bb3(0x209)]<0x0)await validate24hChanges();currentCoins[_0x492bb3(0x200)](_0x995d61=>{const _0x4f78a4=_0x492bb3;if(_0x995d61[_0x4f78a4(0x212)]!=config[_0x4f78a4(0x1d8)]){let _0xc6324=gTicker[noslash(_0x995d61['symbol'])];_0x7c0dee=_0x995d61[_0x4f78a4(0x1f4)]?0x1/_0xc6324:_0xc6324;}else _0x7c0dee=0x1;let _0x5c7147=_0x995d61[_0x4f78a4(0x2a1)]*_0x7c0dee;_0x3e1b7d+=_0x5c7147,_0x995d61['last']=formatResult(Number(_0x7c0dee),0x8),_0x995d61['value']=_0x5c7147;}),currentCoins[_0x492bb3(0x200)](_0x1e8bc9=>{const _0x4b59af=_0x492bb3;let _0x179145=config[_0x4b59af(0x2b3)][_0x4b59af(0x291)](_0x35f477=>_0x35f477['coin']==_0x1e8bc9[_0x4b59af(0x212)]),_0x441ea9=Number(_0x179145['distribution']),_0x37aec1=_0x1e8bc9[_0x4b59af(0x20d)]/_0x3e1b7d*0x64,_0x27987c=_0x441ea9*_0x3e1b7d/0x64/_0x1e8bc9[_0x4b59af(0x1d0)]-_0x1e8bc9['number'];_0x1e8bc9[_0x4b59af(0x1c5)]=formatResult(_0x37aec1,0x3),_0x1e8bc9['target']=formatResult(_0x441ea9,0x3),_0x1e8bc9[_0x4b59af(0x260)]=formatResult(_0x27987c,0x8),_0x1e8bc9[_0x4b59af(0x1bc)]='',_0x1e8bc9[_0x4b59af(0x29f)]=![];if(_0x1e8bc9[_0x4b59af(0x212)]!=config[_0x4b59af(0x1d8)]){if(_0x1e8bc9[_0x4b59af(0x1c5)]>_0x441ea9)_0x1e8bc9['side']='sell',_0x1e8bc9[_0x4b59af(0x29f)]=checkMinimums(_0x1e8bc9);else _0x1e8bc9[_0x4b59af(0x1c5)]<_0x441ea9&&(_0x1e8bc9['side']=_0x4b59af(0x26f),_0x1e8bc9[_0x4b59af(0x29f)]=checkMinimums(_0x1e8bc9));}_0x1e8bc9[_0x4b59af(0x19a)]=_0x1e8bc9[_0x4b59af(0x1c5)]/_0x1e8bc9[_0x4b59af(0x2b2)]-0x1;if(_0x1e8bc9[_0x4b59af(0x302)]==_0x4b59af(0x1ba)||_0x1e8bc9[_0x4b59af(0x302)]=='canceled')_0x1e8bc9[_0x4b59af(0x302)]=_0x4b59af(0x189);}),currentCoins[_0x492bb3(0x187)]((_0x3b20df,_0x519f91)=>_0x3b20df[_0x492bb3(0x19a)]<_0x519f91[_0x492bb3(0x19a)]?0x1:_0x519f91[_0x492bb3(0x19a)]<_0x3b20df[_0x492bb3(0x19a)]?-0x1:0x0);const _0x402b85=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x402b85[_0x492bb3(0x17a)],'usd':_0x402b85[_0x492bb3(0x16e)],'portfolio':JSON[_0x492bb3(0x1d2)](currentCoins),'threshold':_0x5663af},proxyEmit(_0x492bb3(0x2e3),{'serverversion':serverversion,'balances':lastBalances});if(_0x5a550f){if(config[_0x492bb3(0x2ad)])headlessMode({'portfolio':currentCoins,'threshold':_0x5663af});else lockOrders==ORDERS[_0x492bb3(0x1f7)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x5663af});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x29a73a=getNormalizedPerformance();getStartingBalances(_0x29a73a),emitPerformance(_0x29a73a);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0xfbb73=_0x19821d;let _0x2fbe2e=dbCoinResults[_0xfbb73(0x163)](_0xfbb73(0x266))['value'](),_0xc45852=0x0;return Object[_0xfbb73(0x1fa)](_0x2fbe2e)[_0xfbb73(0x200)](([_0xf9851a,_0x226f9f])=>{const _0x4c3272=_0xfbb73;_0xc45852+=_0x226f9f[_0x4c3272(0x303)];}),_0xc45852;}async function storePerformance(){const _0x4335da=_0x19821d;if(!lastBalances)return;let _0x52d75e=[],_0x19a2d1;const _0x174d7b=getPnL();let _0x1eb60d=JSON[_0x4335da(0x175)](lastBalances[_0x4335da(0x2b3)]);_0x1eb60d['sort']((_0x58df4f,_0x17d93c)=>_0x58df4f[_0x4335da(0x212)]>_0x17d93c[_0x4335da(0x212)]?0x1:_0x17d93c[_0x4335da(0x212)]>_0x58df4f[_0x4335da(0x212)]?-0x1:0x0),_0x1eb60d['forEach'](_0x419bcb=>{const _0xfd3ef5=_0x4335da;let _0x2b7aaa={'coin':_0x419bcb[_0xfd3ef5(0x212)],'number':_0x419bcb['number'],'price':_0x419bcb[_0xfd3ef5(0x1d0)]};_0x52d75e[_0xfd3ef5(0x2a9)](_0x2b7aaa);});const _0xa8d5=await getFiat(),_0x4d5924=getTimeStamp()[_0x4335da(0x2e6)]('\x20')[0x0],_0x55c959=dbPerformance['get'](_0x4335da(0x1c8))[_0x4335da(0x291)]({'date':_0x4d5924})[_0x4335da(0x20d)]();_0x19a2d1={'date':_0x4d5924,'eur':_0xa8d5[_0x4335da(0x17a)],'usd':_0xa8d5[_0x4335da(0x16e)],'coins':_0x52d75e,'pnl':_0x174d7b},_0x55c959?_0x19a2d1[_0x4335da(0x1a6)]!=config[_0x4335da(0x2b4)]&&dbPerformance['get'](_0x4335da(0x1c8))[_0x4335da(0x291)]({'date':_0x4d5924})['assign'](_0x19a2d1)[_0x4335da(0x224)]():dbPerformance[_0x4335da(0x163)]('data')[_0x4335da(0x2a9)](_0x19a2d1)[_0x4335da(0x224)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x2f5575=_0x19821d;let _0x13daf6=[];if(dbPerformance['has'](_0x2f5575(0x1c8))[_0x2f5575(0x20d)]()){let _0x30e4c9=dbPerformance[_0x2f5575(0x163)](_0x2f5575(0x1c8))[_0x2f5575(0x176)]()[_0x2f5575(0x2d1)](_0x4661f5=>{if(_0x4661f5['coins']['length']==0x0)return![];else return!![];})['sortBy']('date')[_0x2f5575(0x20d)](),_0x34bfe3=[...config[_0x2f5575(0x1b3)]];_0x34bfe3[_0x2f5575(0x187)]((_0x27bebd,_0x1ffb30)=>_0x27bebd['date']>_0x1ffb30[_0x2f5575(0x1a6)]?-0x1:_0x1ffb30[_0x2f5575(0x1a6)]>_0x27bebd['date']?0x1:0x0);let _0x34de87=0x1,_0x408623=[],_0x7b16a0=0x0;_0x30e4c9[_0x2f5575(0x1ac)]()[_0x2f5575(0x1f4)]()['forEach']((_0x3a3224,_0x35ceba)=>{const _0x323eef=_0x2f5575;if(_0x34bfe3[_0x7b16a0]){if(_0x30e4c9[_0x30e4c9[_0x323eef(0x2cb)]-_0x35ceba]&&_0x34bfe3[_0x7b16a0][_0x323eef(0x1a6)]==_0x30e4c9[_0x30e4c9[_0x323eef(0x2cb)]-_0x35ceba][_0x323eef(0x1a6)]){if(_0x35ceba<_0x30e4c9['length']){let _0x23b7b4=0x0,_0x55c4dc=0x0;_0x30e4c9[_0x30e4c9[_0x323eef(0x2cb)]-_0x35ceba]['coins'][_0x323eef(0x200)](_0x1aa01d=>{const _0x208ff5=_0x323eef;_0x55c4dc+=_0x1aa01d[_0x208ff5(0x2a1)]*_0x1aa01d[_0x208ff5(0x2a4)];}),_0x34bfe3[_0x7b16a0][_0x323eef(0x208)][_0x323eef(0x200)](_0x57ead4=>{const _0x2b72fb=_0x323eef;_0x23b7b4+=_0x57ead4[_0x2b72fb(0x2a1)]*_0x57ead4[_0x2b72fb(0x2a4)];}),_0x34de87*=_0x23b7b4/(_0x55c4dc-_0x23b7b4)+0x1;}_0x7b16a0++;}}let _0x55b188=0x0;_0x3a3224[_0x323eef(0x266)][_0x323eef(0x200)](_0x32b5cc=>{const _0x58428b=_0x323eef;_0x55b188+=_0x32b5cc['number']*_0x32b5cc[_0x58428b(0x2a4)];}),_0x408623[_0x30e4c9[_0x323eef(0x2cb)]-_0x35ceba-0x1]=_0x55b188*(_0x34de87-0x1);});let _0x31ba42=[];_0x34bfe3=[...config[_0x2f5575(0x1b3)]]||[];let _0x46ce71=0x0;_0x7b16a0=0x0,_0x30e4c9[_0x2f5575(0x200)]((_0x6a9633,_0x5e9966)=>{const _0x2b2d51=_0x2f5575;if(_0x34bfe3[_0x7b16a0]){const _0xc0f49d=fns[_0x2b2d51(0x175)](_0x34bfe3[_0x7b16a0][_0x2b2d51(0x1a6)],_0x2b2d51(0x1e2),new Date()),_0x716f0d=fns[_0x2b2d51(0x175)](_0x6a9633[_0x2b2d51(0x1a6)],'yyyy/MM/dd',new Date());if(fns[_0x2b2d51(0x217)](_0xc0f49d,_0x716f0d)){let _0x7c4c5e=0x0;_0x34bfe3[_0x7b16a0][_0x2b2d51(0x208)][_0x2b2d51(0x200)](_0xd5c1e6=>{const _0xabfb10=_0x2b2d51;!_0x31ba42[_0xd5c1e6[_0xabfb10(0x212)]]?_0x31ba42[_0xd5c1e6[_0xabfb10(0x212)]]=_0xd5c1e6[_0xabfb10(0x2a1)]:(_0x7c4c5e=_0x31ba42[_0xd5c1e6[_0xabfb10(0x212)]],_0x31ba42[_0xd5c1e6[_0xabfb10(0x212)]]+=_0xd5c1e6[_0xabfb10(0x2a1)]);const _0x40ff3b=_0x6a9633[_0xabfb10(0x266)][_0xabfb10(0x291)](_0x2c2f20=>_0x2c2f20[_0xabfb10(0x212)]==_0xd5c1e6[_0xabfb10(0x212)]);(!_0x40ff3b||_0x40ff3b[_0xabfb10(0x2a1)]==0x0)&&(_0x46ce71+=(-_0xd5c1e6[_0xabfb10(0x2a1)]-_0x7c4c5e)*_0xd5c1e6['price']);}),_0x7b16a0++;}}_0x6a9633[_0x2b2d51(0x266)][_0x2b2d51(0x200)]((_0x46b03d,_0x2fcae0)=>{const _0x1924b0=_0x2b2d51;_0x31ba42[_0x46b03d[_0x1924b0(0x212)]]&&(_0x46b03d[_0x1924b0(0x21d)]=_0x31ba42[_0x46b03d[_0x1924b0(0x212)]]);}),_0x13daf6['push']({'date':_0x6a9633[_0x2b2d51(0x1a6)],'eur':_0x6a9633[_0x2b2d51(0x17a)],'usd':_0x6a9633[_0x2b2d51(0x16e)],'offset':_0x408623[_0x5e9966],'netoffset':_0x46ce71,'coins':_0x6a9633['coins'],'pnl':_0x6a9633['pnl']});});}return _0x13daf6;}function emitPerformance(_0x50bc17){const _0x1fcedc=_0x19821d;_0x50bc17[_0x1fcedc(0x2cb)]!==0x0?(proxyEmit('performance',_0x50bc17),lastPerformanceEmitted=getDate()):proxyEmit(_0x1fcedc(0x299),[]);}function getPerf(_0x266a1e,_0x42fb31){const _0x8436fc=_0x19821d;let _0x39f91a=0x0,_0x32e539=0x0,_0x1164d1=0x0;_0x266a1e[_0x8436fc(0x266)]['forEach'](_0x1e56d6=>{const _0xec6904=_0x8436fc;_0x39f91a+=_0x1e56d6['number']*_0x1e56d6[_0xec6904(0x2a4)];});_0x42fb31&&(_0x39f91a+=_0x266a1e['offset']);if(config['basecoin']===_0x8436fc(0x312)||config[_0x8436fc(0x1d8)]===_0x8436fc(0x279)||config[_0x8436fc(0x1d8)]===_0x8436fc(0x2ce))_0x32e539=_0x39f91a*_0x266a1e['eur'],_0x1164d1=_0x39f91a*_0x266a1e['usd'];else{if(usdBasecoins[_0x8436fc(0x2e2)](config[_0x8436fc(0x1d8)]))_0x32e539=_0x39f91a*_0x266a1e[_0x8436fc(0x17a)]/_0x266a1e[_0x8436fc(0x16e)],_0x1164d1=_0x39f91a;else config['basecoin']===_0x8436fc(0x16d)&&(_0x32e539=_0x39f91a,_0x1164d1=_0x39f91a*_0x266a1e[_0x8436fc(0x16e)]/_0x266a1e[_0x8436fc(0x17a)]);}return[_0x39f91a,_0x32e539,_0x1164d1];}function CurrencyFactor(_0x3c6aaa,_0x460f78,_0x5631a6){const _0x4359ef=_0x19821d;let _0x294195;if(_0x460f78===_0x4359ef(0x312)||_0x460f78===_0x4359ef(0x279)||_0x460f78===_0x4359ef(0x2ce))_0x294195=_0x5631a6===_0x4359ef(0x16d)?_0x3c6aaa[_0x4359ef(0x17a)]:_0x3c6aaa[_0x4359ef(0x16e)];else{if(usdBasecoins['includes'](_0x460f78))_0x294195=_0x5631a6===_0x4359ef(0x16d)?_0x3c6aaa['eur']/_0x3c6aaa['usd']:0x1;else _0x460f78===_0x4359ef(0x16d)&&(_0x294195=_0x5631a6===_0x4359ef(0x16d)?0x1:_0x3c6aaa[_0x4359ef(0x16e)]/_0x3c6aaa[_0x4359ef(0x17a)]);}return _0x294195;}function getKPIs(_0x1fb3bc,_0x17351d=_0x19821d(0x16d)){const _0x14160c=_0x19821d,_0x46ecc4=config[_0x14160c(0x1d8)],_0x18754d=lastBalances,_0x2ab603=currentCoins,_0x1c3a55=getNormalizedPerformance(),_0x4f7992=CurrencyFactor(_0x18754d,config[_0x14160c(0x1d8)],_0x17351d);let _0x2c8fd6=0x0;_0x2ab603['forEach'](_0x3089e5=>{const _0xcd8ec0=_0x14160c;_0x2c8fd6+=_0x3089e5['number']*_0x3089e5[_0xcd8ec0(0x1d0)];});_0x1fb3bc[_0x14160c(0x2e2)](_0x14160c(0x192))&&(_0x2c8fd6*=_0x4f7992);let _0x5f4804;if(_0x2c8fd6!==0x0){if(_0x1fb3bc===_0x14160c(0x1d8)||_0x1fb3bc===_0x14160c(0x192)){if(_0x1fb3bc==='basecoin')_0x5f4804=(_0x2c8fd6/startingBalances[_0x14160c(0x1d8)]-0x1)*0x64;else{if(_0x17351d===_0x14160c(0x16d))_0x5f4804=(_0x2c8fd6/startingBalances[_0x14160c(0x17a)]-0x1)*0x64;else _0x5f4804=(_0x2c8fd6/startingBalances['usd']-0x1)*0x64;}}if(_0x1fb3bc[_0x14160c(0x2e2)]('net')){let _0x522aef=0x0;if(startingBalances[_0x14160c(0x266)])_0x2ab603[_0x14160c(0x200)](_0x20c196=>{const _0x3476c7=_0x14160c;let _0x1198e6=startingBalances[_0x3476c7(0x266)][_0x3476c7(0x291)](_0x137b55=>_0x137b55[_0x3476c7(0x212)]===_0x20c196[_0x3476c7(0x212)]);if(_0x1198e6&&_0x1198e6[_0x3476c7(0x212)]&&_0x20c196[_0x3476c7(0x2a1)]!==0x0)_0x522aef+=_0x1198e6[_0x3476c7(0x2a1)]*_0x20c196[_0x3476c7(0x1d0)];});let _0x24c952=0x0;if(_0x1c3a55[_0x14160c(0x2cb)]!==0x0){let _0x21b8bc=_0x1c3a55[_0x1c3a55[_0x14160c(0x2cb)]-0x1];_0x24c952=_0x21b8bc[_0x14160c(0x1ef)];}_0x522aef-=_0x24c952;let _0x59a6e9;_0x1fb3bc==='net-basecoin'&&(_0x59a6e9=startingBalances[_0x14160c(0x1d8)]),_0x1fb3bc===_0x14160c(0x322)&&(_0x59a6e9=_0x17351d===_0x14160c(0x16d)?startingBalances[_0x14160c(0x17a)]:startingBalances[_0x14160c(0x16e)],_0x522aef*=_0x4f7992),_0x5f4804=(_0x2c8fd6-_0x522aef)/_0x59a6e9*0x64,_0x2c8fd6=_0x2c8fd6-_0x522aef;}if(_0x1fb3bc[_0x14160c(0x2e2)](_0x14160c(0x313))){if(_0x1c3a55[_0x14160c(0x2cb)]!==0x0&&_0x2ab603['length']!==0x0){let _0x472584,_0x5ab254=_0x1c3a55[_0x1c3a55[_0x14160c(0x2cb)]-0x1][_0x14160c(0x313)];_0x1fb3bc[_0x14160c(0x2e2)](_0x14160c(0x192))?(_0x472584=_0x17351d===_0x14160c(0x16d)?startingBalances[_0x14160c(0x17a)]:startingBalances[_0x14160c(0x16e)],_0x5ab254*=CurrencyFactor(_0x18754d,_0x46ecc4,_0x17351d)):_0x472584=startingBalances[_0x14160c(0x1d8)],_0x5f4804=_0x5ab254/_0x472584*0x64,_0x2c8fd6=_0x5ab254;}}if(_0x5f4804){if(_0x5f4804<0x64)_0x5f4804=_0x5f4804['toFixed'](0x2);else{if(_0x5f4804<0x3e8)_0x5f4804=_0x5f4804[_0x14160c(0x2b0)](0x1);else _0x5f4804=_0x5f4804[_0x14160c(0x2b0)](0x0);}}else _0x5f4804=Number('0')[_0x14160c(0x2b0)](0x2);if(_0x2c8fd6){if(Math[_0x14160c(0x1ff)](_0x2c8fd6)<0.000001)_0x2c8fd6=_0x2c8fd6['toFixed'](0x2);else{if(Math[_0x14160c(0x1ff)](_0x2c8fd6)<0.1)_0x2c8fd6=_0x2c8fd6[_0x14160c(0x2b0)](0x6);else{if(Math[_0x14160c(0x1ff)](_0x2c8fd6)<0x1)_0x2c8fd6=_0x2c8fd6['toFixed'](0x5);else{if(Math['abs'](_0x2c8fd6)<0xa)_0x2c8fd6=_0x2c8fd6[_0x14160c(0x2b0)](0x4);else{if(Math[_0x14160c(0x1ff)](_0x2c8fd6)<0x64)_0x2c8fd6=_0x2c8fd6[_0x14160c(0x2b0)](0x3);else{if(Math[_0x14160c(0x1ff)](_0x2c8fd6)<0x3e8)_0x2c8fd6=_0x2c8fd6[_0x14160c(0x2b0)](0x2);else _0x2c8fd6=_0x2c8fd6[_0x14160c(0x2b0)](0x2);}}}}}}else _0x2c8fd6=Number('0')[_0x14160c(0x2b0)](0x2);}else _0x5f4804=Number('0')[_0x14160c(0x2b0)](0x2);if(_0x5f4804>=0x0)_0x5f4804='+'+_0x5f4804;return{'value':_0x2c8fd6,'change':_0x5f4804};}function _0x4f4b(_0x3f682e,_0x5cf2f7){const _0x393622=_0x493b();return _0x4f4b=function(_0x3c5abd,_0x277278){_0x3c5abd=_0x3c5abd-0x163;let _0x493b80=_0x393622[_0x3c5abd];return _0x493b80;},_0x4f4b(_0x3f682e,_0x5cf2f7);}async function getStartingBalances(_0x4e3d69,_0x49c8cd=!![]){const _0x205ccb=_0x19821d;if(_0x4e3d69[_0x205ccb(0x2cb)]!==0x0){const [_0x3fbd2a,_0x21e04e,_0x554051]=getPerf(_0x4e3d69[0x0],!![]);let _0x224a22=[];config[_0x205ccb(0x2b3)][_0x205ccb(0x200)](_0x34090a=>{const _0x3faf59=_0x205ccb;let _0x3d7873=0x0,_0x38edbc;config[_0x3faf59(0x1b3)][_0x3faf59(0x200)](_0x318a70=>{const _0x1aebf6=_0x3faf59;let _0x2a4f40=_0x318a70[_0x1aebf6(0x208)][_0x1aebf6(0x291)](_0x5dfaef=>_0x5dfaef[_0x1aebf6(0x212)]==_0x34090a[_0x1aebf6(0x212)]);if(_0x2a4f40){_0x3d7873+=_0x2a4f40['number'];if(!_0x38edbc)_0x38edbc=_0x2a4f40['price'];}}),_0x224a22[_0x3faf59(0x2a9)]({'coin':_0x34090a[_0x3faf59(0x212)],'number':_0x3d7873,'initialprice':_0x38edbc});});const _0x2f223e={'basecoin':_0x3fbd2a,'eur':_0x21e04e,'usd':_0x554051,'coins':_0x224a22};if(_0x49c8cd)proxyEmit(_0x205ccb(0x1f6),_0x2f223e);startingBalances=_0x2f223e;}}function headlessMode(_0x209afa){const _0x1cd39a=_0x19821d;let _0x10943f=_0x209afa[_0x1cd39a(0x2b3)],_0x375e41=_0x209afa[_0x1cd39a(0x241)],_0x5eba6b=[];for(let _0x5e2883 of _0x10943f){if(_0x5e2883[_0x1cd39a(0x212)]!=config[_0x1cd39a(0x1d8)]){if(_0x5e2883[_0x1cd39a(0x19a)]>=_0x375e41/0x64){if(_0x5e2883[_0x1cd39a(0x29f)])_0x5eba6b['push'](_0x5e2883);}else{if(_0x5e2883[_0x1cd39a(0x19a)]<=-_0x375e41/0x64){if(_0x5e2883['valid'])_0x5eba6b[_0x1cd39a(0x2a9)](_0x5e2883);}}}}_0x5eba6b[_0x1cd39a(0x2cb)]>0x0&&placeOrder(_0x5eba6b);}function notifyBalance(_0x29ad46){const _0x153edd=_0x19821d;let _0x59b625=_0x29ad46[_0x153edd(0x2b3)],_0x44da8c=_0x29ad46[_0x153edd(0x241)],_0x1dac2d=[];for(let _0x285e15 of _0x59b625){if(_0x285e15['coin']!=config[_0x153edd(0x1d8)]){if(_0x285e15['delta']>=_0x44da8c/0x64){if(_0x285e15[_0x153edd(0x29f)])_0x1dac2d['push'](_0x285e15);}else{if(_0x285e15[_0x153edd(0x19a)]<=-_0x44da8c/0x64){if(_0x285e15[_0x153edd(0x29f)])_0x1dac2d[_0x153edd(0x2a9)](_0x285e15);}}}}if(_0x1dac2d[_0x153edd(0x2cb)]>0x0){let _0x13c1f5=_0x1dac2d[_0x153edd(0x293)](_0x2d5712=>_0x2d5712[_0x153edd(0x212)]);_0x13c1f5[_0x153edd(0x187)]();let _0xed86fd=_0x13c1f5[_0x153edd(0x2f6)](',\x20');if(!lastCoinsToBalance)logHistory(_0x153edd(0x171),_0x153edd(0x28e));lastCoinsToBalance=_0xed86fd;}}function symbolToCoin(_0x1026d0){const _0x39210f=_0x19821d;let _0x2ef331;if(_0x1026d0[_0x39210f(0x2e2)]('/'+config[_0x39210f(0x1d8)]))_0x2ef331=_0x1026d0[_0x39210f(0x1b1)]('/'+config[_0x39210f(0x1d8)],'');if(_0x1026d0[_0x39210f(0x2e2)](config[_0x39210f(0x1d8)]+'/'))_0x2ef331=_0x1026d0[_0x39210f(0x1b1)](config[_0x39210f(0x1d8)]+'/','');return _0x2ef331;}function setLockOrders(_0x1a9040){const _0x47d71c=_0x19821d;lockOrders=_0x1a9040,logger['debug'](_0x47d71c(0x17b)+Object[_0x47d71c(0x2c6)](ORDERS)[lockOrders]);}async function unlockOrders(_0x5d82de=![]){const _0x550458=_0x19821d;if(allOrdersPlaced&&lockOrders==ORDERS[_0x550458(0x228)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x5d82de){const _0x515084=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x515084,setBlockTransactionDetection(![]);}validateOrdersState='initial',persistOpenOrders([]),setLockOrders(ORDERS['UNLOCKED']);}}async function validateOrders(_0x53dbef){const _0x38a4a6=_0x19821d;if(_0x53dbef)validateOrdersState=_0x53dbef;logger[_0x38a4a6(0x2ab)](_0x38a4a6(0x288)+validateOrdersState+_0x38a4a6(0x28a)+Object['keys'](ORDERS)[lockOrders]);let _0x494c4d=[],_0x1c4481=config[_0x38a4a6(0x218)]==_0x38a4a6(0x25c)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x38a4a6(0x227)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x38a4a6(0x228)])return;logger[_0x38a4a6(0x2ab)](_0x38a4a6(0x1df)+validateOrdersState);for(let _0x118b90=lastOrders[_0x38a4a6(0x2cb)]-0x1;_0x118b90>=0x0;_0x118b90--){let _0x3bf89c=lastOrders[_0x118b90],_0x46fc2a=![];_0x3bf89c[_0x38a4a6(0x1ba)]>0x0&&(_0x46fc2a=!![]),_0x494c4d[_0x38a4a6(0x2a9)](_0x46fc2a),_0x46fc2a&&config[_0x38a4a6(0x218)]!=_0x38a4a6(0x25c)&&logHistory(_0x38a4a6(0x2ae),'Order\x20filled:\x20'+_0x3bf89c['symbol']+'\x20'+_0x3bf89c['side']+'\x20#'+formatResult(_0x3bf89c['filled'],0x8)+'\x20@'+formatResult(_0x3bf89c[_0x38a4a6(0x2a4)],0x8)),_0x46fc2a&&lastOrders['splice'](_0x118b90,0x1);}persistOpenOrders(lastOrders);const _0x143ff3=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x38a4a6(0x194);if(validateOrdersState==_0x38a4a6(0x21d)){validateOrdersState=_0x38a4a6(0x1b9);if(_0x494c4d['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x38a4a6(0x1b9)){if(_0x494c4d[_0x38a4a6(0x2e2)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x38a4a6(0x2f9)){let _0x250eb6=!![];if(_0x494c4d[_0x38a4a6(0x2e2)](![])){if(config[_0x38a4a6(0x218)]=='market')logHistory(_0x38a4a6(0x233),_0x38a4a6(0x186)+Math[_0x38a4a6(0x1fc)](_0x1c4481*validateOrderInterval/0xea60)+_0x38a4a6(0x2bd)+_0x143ff3),await unlockOrders(!![]);else{_0x250eb6=await cancelOrders();if(_0x250eb6)logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x38a4a6(0x1fc)](_0x1c4481*validateOrderInterval/0xea60)+_0x38a4a6(0x2bd)+_0x143ff3),await unlockOrders(!![]);else{validateOrdersState='ongoing',logHistory(_0x38a4a6(0x16b),_0x38a4a6(0x2bc)+Math[_0x38a4a6(0x1fc)](_0x1c4481*validateOrderInterval/0xea60)+_0x38a4a6(0x2bd)+_0x143ff3),logHistory(_0x38a4a6(0x16b),'Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later');const _0x2c1110=config[_0x38a4a6(0x218)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x38a4a6(0x227)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x55a9ae=_0x38a4a6;validateOrders(_0x55a9ae(0x2f9));},_0x2c1110);}}}else await unlockOrders(!![]);}else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x38a4a6(0x218)]!=_0x38a4a6(0x25c))logHistory(_0x38a4a6(0x233),'No\x20more\x20open\x20orders\x20-\x20'+_0x143ff3);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0xedfd6c=_0x19821d;let _0x41d213=!![],_0x1603c5;for(const _0x11190c of lastOrders){let _0x44202d=![],_0x26d5f6=0x0;while(!_0x44202d&&_0x26d5f6<maxRetries){try{const _0x38a0fc=await exchange['cancelOrder'](_0x11190c['orderId'],_0x11190c['symbol']);_0x44202d=!![];}catch(_0x5d2efb){_0x5d2efb[_0xedfd6c(0x2aa)]()[_0xedfd6c(0x2e2)](_0xedfd6c(0x236))||_0x5d2efb[_0xedfd6c(0x2aa)]()[_0xedfd6c(0x2e2)](_0xedfd6c(0x26e))?_0x44202d=!![]:(_0x1603c5=_0x5d2efb,_0x44202d=![]);}!_0x44202d&&(_0x26d5f6++,await sleep(retryInterval));}_0x41d213=_0x41d213&&_0x44202d;}return!_0x41d213&&await handleError(_0x1603c5,_0xedfd6c(0x2f0)),_0x41d213;}async function initCoinResults(_0x509dda){const _0x46046c=_0x19821d;_0x509dda?logger[_0x46046c(0x2ab)]('Resetting\x20coin\x20results:\x20'+_0x509dda):logger[_0x46046c(0x2ab)]('Initializing\x20coin\x20results'),config[_0x46046c(0x2b3)][_0x46046c(0x200)](_0x37e5d7=>{const _0x16f58c=_0x46046c;if(!_0x37e5d7[_0x16f58c(0x306)]&&_0x37e5d7['coin']!=config[_0x16f58c(0x1d8)]){const _0x119dd6=currentCoins['find'](_0x490f8b=>_0x490f8b[_0x16f58c(0x212)]==_0x37e5d7[_0x16f58c(0x212)]),_0x5d60d1=gTicker[noslash(_0x37e5d7[_0x16f58c(0x269)])];let _0x51809c=_0x119dd6?_0x119dd6['number']:null,_0x46bbb7=_0x37e5d7[_0x16f58c(0x1f4)]?0x1/_0x5d60d1:_0x5d60d1,_0x7afc6e;config['liquidity'][_0x16f58c(0x200)](_0x48879e=>{const _0x253b89=_0x16f58c;!_0x7afc6e&&(_0x7afc6e=_0x48879e[_0x253b89(0x208)][_0x253b89(0x291)](_0x1e7c23=>_0x1e7c23[_0x253b89(0x212)]==_0x37e5d7[_0x253b89(0x212)]),_0x7afc6e&&(_0x51809c=_0x7afc6e['number'],_0x46bbb7=_0x7afc6e['price']));});let _0x21081c=dbCoinResults[_0x16f58c(0x163)](_0x16f58c(0x266))[_0x16f58c(0x291)]({'coin':_0x37e5d7[_0x16f58c(0x212)]})[_0x16f58c(0x20d)]();if(!_0x21081c){const _0x5ac166={'coin':_0x37e5d7[_0x16f58c(0x212)],'number':_0x51809c,'breakeven':_0x46bbb7,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x16f58c(0x163)](_0x16f58c(0x266))[_0x16f58c(0x2a9)](_0x5ac166)[_0x16f58c(0x224)]();}else{if(_0x509dda&&_0x37e5d7[_0x16f58c(0x212)]==_0x509dda){const _0x54f71b={'coin':_0x37e5d7[_0x16f58c(0x212)],'number':_0x51809c,'breakeven':_0x46bbb7,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0x16f58c(0x291)]({'coin':_0x37e5d7[_0x16f58c(0x212)]})[_0x16f58c(0x1c6)](_0x54f71b)[_0x16f58c(0x224)]();}}}});}async function placeOrder(_0x183b35){const _0x5e473c=_0x19821d,_0x1f48a9=config[_0x5e473c(0x218)]=='market'?_0x5e473c(0x25c):_0x5e473c(0x203);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS[_0x5e473c(0x228)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x5e473c(0x2ab)]('Placing\x20order\x20for:\x20'+_0x183b35['map'](_0x1e89f7=>_0x1e89f7[_0x5e473c(0x212)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x5e473c(0x21d);let _0x371574=![];lastOrders=[];const _0x258078=config[_0x5e473c(0x241)];for(const _0x1f99f6 of _0x183b35){let _0x1e0eb6,_0x1b8c3a,_0x2679dd,_0x33fe52,_0xf3da85,_0x5793f1=_0x1f99f6[_0x5e473c(0x269)];logger[_0x5e473c(0x2ab)](_0x5e473c(0x289)+_0x1f99f6['coin']+'\x20'+_0x1f99f6[_0x5e473c(0x2a1)]+'\x20'+_0x1f99f6[_0x5e473c(0x1d0)]+'\x20'+_0x1f99f6[_0x5e473c(0x1c5)]+'%\x20'+_0x1f99f6['target']+'%\x20'+(0x64*_0x1f99f6[_0x5e473c(0x19a)])['toFixed'](0x2)+'%\x20('+_0x258078[_0x5e473c(0x2b0)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent['filter'](_0xa09672=>_0xa09672!==_0x1f99f6['coin']);const _0x16f76d=currentCoins[_0x5e473c(0x291)](_0x2ac054=>_0x2ac054[_0x5e473c(0x212)]==_0x1f99f6[_0x5e473c(0x212)]);_0x16f76d&&(_0x16f76d[_0x5e473c(0x31c)]=_0x1f99f6[_0x5e473c(0x2a1)]);try{const _0x3ff8aa=await exchange[_0x5e473c(0x178)](_0x5793f1);_0x1e0eb6=_0x1f99f6[_0x5e473c(0x1f4)]?0x1/_0x1f99f6[_0x5e473c(0x1d0)]:_0x1f99f6[_0x5e473c(0x1d0)],_0x1b8c3a=_0x3ff8aa[_0x5e473c(0x286)],_0x2679dd=_0x3ff8aa['ask'];_0x1f99f6[_0x5e473c(0x1f4)]?(_0x33fe52=_0x1f99f6[_0x5e473c(0x1bc)]==_0x5e473c(0x26f)?_0x5e473c(0x1ea):'buy',_0xf3da85=Math[_0x5e473c(0x1ff)](_0x1f99f6['trade'])/_0x1e0eb6):(_0x33fe52=_0x1f99f6[_0x5e473c(0x1bc)],_0xf3da85=Math[_0x5e473c(0x1ff)](_0x1f99f6[_0x5e473c(0x260)]));_0x1f48a9=='limit'&&(config['ordertype']==_0x5e473c(0x2a5)&&(_0x1e0eb6=_0x33fe52==_0x5e473c(0x26f)?_0x1b8c3a:_0x2679dd),config['ordertype']==_0x5e473c(0x231)&&(_0x1e0eb6=_0x33fe52==_0x5e473c(0x26f)?_0x2679dd:_0x1b8c3a));_0xf3da85=formatResult(_0xf3da85,0x8),_0x1e0eb6=formatResult(_0x1e0eb6,0x8);const _0x18625a=_0x33fe52=='sell'?config[_0x5e473c(0x23c)]?String[_0x5e473c(0x1bb)]('0x'+config['emojisell'])+'\x20':'':config[_0x5e473c(0x2be)]?String[_0x5e473c(0x1bb)]('0x'+config['emojibuy'])+'\x20':'',_0x2bbcee=_0x1f48a9=='market'?'Market':config[_0x5e473c(0x218)]==_0x5e473c(0x2a5)?_0x5e473c(0x2f1):_0x5e473c(0x31a),_0x3c65a0=(Math[_0x5e473c(0x2ff)](Math[_0x5e473c(0x2c3)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x5e473c(0x2a9)]({'customId':_0x3c65a0,'symbol':_0x5793f1,'coin':_0x1f99f6[_0x5e473c(0x212)],'amount':_0xf3da85,'price':_0x1e0eb6,'side':_0x33fe52,'reverse':_0x1f99f6[_0x5e473c(0x1f4)],'filled':0x0});let _0x3fe4fb;_0x1f48a9==_0x5e473c(0x25c)?_0x33fe52==_0x5e473c(0x26f)&&[_0x5e473c(0x31d),_0x5e473c(0x22e),_0x5e473c(0x216),'Gateio','Huobi',_0x5e473c(0x2ef)][_0x5e473c(0x2e2)](config['exchange'])?_0x3fe4fb=await exchange[_0x5e473c(0x165)](_0x5793f1,_0x1f48a9,_0x33fe52,_0xf3da85,_0x1e0eb6):_0x3fe4fb=await exchange[_0x5e473c(0x165)](_0x5793f1,_0x1f48a9,_0x33fe52,_0xf3da85,undefined):_0x3fe4fb=await exchange['createOrder'](_0x5793f1,_0x1f48a9,_0x33fe52,_0xf3da85,_0x1e0eb6);const _0x51a0c8=lastOrders[_0x5e473c(0x2cb)]-0x1;if(_0x51a0c8>=0x0&&lastOrders[_0x51a0c8]['customId']==_0x3c65a0){lastOrders[_0x51a0c8][_0x5e473c(0x18e)]=_0x3fe4fb['id'];if(_0x3fe4fb[_0x5e473c(0x1ce)])lastOrders[_0x51a0c8]['amount']=_0x3fe4fb[_0x5e473c(0x1ce)];if(_0x3fe4fb[_0x5e473c(0x2a4)])lastOrders[_0x51a0c8][_0x5e473c(0x2a4)]=_0x3fe4fb['price'];lastOrders[_0x51a0c8]['fee']=_0x3fe4fb['fee'];}if(_0x3fe4fb[_0x5e473c(0x1ce)])_0xf3da85=_0x3fe4fb['amount'];if(_0x3fe4fb[_0x5e473c(0x2a4)])_0x1e0eb6=_0x3fe4fb[_0x5e473c(0x2a4)];if(_0x1f48a9==_0x5e473c(0x25c))logHistory(_0x5e473c(0x2ae),''+_0x18625a+_0x2bbcee+_0x5e473c(0x1c2)+_0x5793f1+'\x20'+_0x33fe52+'\x20#'+formatResult(_0xf3da85,0x8)+'\x20@'+formatResult(_0x1e0eb6,0x8));else logHistory(_0x5e473c(0x2ae),''+_0x18625a+_0x2bbcee+_0x5e473c(0x1c2)+_0x5793f1+'\x20'+_0x33fe52+'\x20#'+formatResult(_0xf3da85,0x8)+'\x20@'+formatResult(_0x1e0eb6,0x8));logger[_0x5e473c(0x2ab)](_0x5e473c(0x197)+_0x3fe4fb['id']+_0x5e473c(0x230)+_0x3c65a0);if(config[_0x5e473c(0x25d)]!=0x0){let _0x393000=null;if(cooldownTracker['length']==config[_0x5e473c(0x25d)]-0x1)_0x393000=cooldownTracker['shift']();const _0xe037eb=getTimeStamp();cooldownTracker['push'](_0xe037eb);if(_0x393000){const _0x28add0=fns[_0x5e473c(0x2e5)](new Date(_0xe037eb),new Date(_0x393000));if(_0x28add0<cooldownInterval){logHistory(_0x5e473c(0x16b),'Executed\x20'+config[_0x5e473c(0x25d)]+_0x5e473c(0x1e1)+cooldownInterval/0x3c+_0x5e473c(0x1b7)+cooldownPeriod/(0xe10*0x3e8)+_0x5e473c(0x1d9)),coolingDown=!![];break;}}}}catch(_0x5563e6){if(_0x5563e6[_0x5e473c(0x2aa)]()[_0x5e473c(0x2e2)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x5e473c(0x2d1)](_0x10171e=>_0x10171e['symbol']!=_0x5793f1),logHistory(_0x5e473c(0x16b),_0x5e473c(0x268)+_0x5793f1),_0x371574=!![];else{if(_0x5563e6[_0x5e473c(0x2aa)]()[_0x5e473c(0x2e2)](_0x5e473c(0x2a6)))lastOrders=lastOrders[_0x5e473c(0x2d1)](_0x3750b0=>_0x3750b0['symbol']!=_0x5793f1),logHistory(_0x5e473c(0x16b),_0x5e473c(0x25a)+_0x5793f1),_0x371574=!![];else{if(_0x5563e6[_0x5e473c(0x2aa)]()[_0x5e473c(0x2e2)](_0x5e473c(0x26e)))lastOrders=lastOrders[_0x5e473c(0x2d1)](_0xe59ddf=>_0xe59ddf[_0x5e473c(0x269)]!=_0x5793f1),logHistory(_0x5e473c(0x16b),'Order\x20is\x20invalid:\x20'+_0x5793f1),logger[_0x5e473c(0x2ab)](_0x5563e6),_0x371574=!![];else _0x5563e6[_0x5e473c(0x2aa)]()[_0x5e473c(0x2e2)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x5e473c(0x2d1)](_0x59bdaa=>_0x59bdaa[_0x5e473c(0x269)]!=_0x5793f1),logHistory('error',_0x5e473c(0x268)+_0x5793f1),_0x371574=!![]):(lastOrders=lastOrders[_0x5e473c(0x2d1)](_0x40ef44=>_0x40ef44[_0x5e473c(0x269)]!=_0x5793f1),await handleError(_0x5563e6,'placeOrder()',_0x5793f1));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0x273298=config[_0x5e473c(0x218)]==_0x5e473c(0x25c)?validateOrderTimeout*0x3c*0x3e8:config[_0x5e473c(0x227)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x273298);}else unlockOrders();_0x371574&&config['headless']&&(logHistory('error',_0x5e473c(0x2a7)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5e473c(0x233),_0x5e473c(0x196)));}else{if(coolingDown)!config['headless']&&logHistory(_0x5e473c(0x16b),_0x5e473c(0x285));else lockOrders!=ORDERS[_0x5e473c(0x1f7)]&&(!config[_0x5e473c(0x2ad)]&&(config[_0x5e473c(0x218)]==_0x5e473c(0x25c)?logHistory(_0x5e473c(0x16b),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x5e473c(0x16b),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x5b8ffa){const _0x233853=_0x19821d,_0x1b8240={...config,'openOrders':_0x5b8ffa};let _0x655a29=dbConfig[_0x233853(0x163)](_0x233853(0x2db))[_0x233853(0x291)]({'botID':botID})[_0x233853(0x20d)]();_0x655a29&&dbConfig[_0x233853(0x163)](_0x233853(0x2db))[_0x233853(0x291)]({'botID':botID})[_0x233853(0x1c6)](_0x1b8240)[_0x233853(0x224)]();}function restoreOrders(){const _0x4db74e=_0x19821d;let _0x5a1ede;config[_0x4db74e(0x307)]&&allOpenOrders[_0x4db74e(0x200)](_0x3d4f90=>{const _0x38f7a6=_0x4db74e,_0x3c4405=config[_0x38f7a6(0x307)]['find'](_0x267efc=>_0x267efc[_0x38f7a6(0x18e)]==_0x3d4f90['id']);_0x3c4405&&(lastOrders['push'](_0x3c4405),_0x5a1ede=_0x3d4f90[_0x38f7a6(0x26a)]);});if(lastOrders['length']>0x0){setLockOrders(ORDERS[_0x4db74e(0x228)]),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x1b9cd3=new Date()[_0x4db74e(0x201)](),_0x3e1d11=config[_0x4db74e(0x218)]==_0x4db74e(0x25c)?validateOrderTimeout*0x3c*0x3e8:config[_0x4db74e(0x227)]*0x3c*0x3e8;if(_0x5a1ede+_0x3e1d11>_0x1b9cd3){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2d7d30=_0x4db74e;validateOrders(_0x2d7d30(0x2f9));},_0x5a1ede+_0x3e1d11-_0x1b9cd3);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x3daa35=_0x19821d;if(!coinsLoaded){process[_0x3daa35(0x30a)]({'telegrammsg':_0x3daa35(0x1f2)},_0x3e190c=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x58e894='';if(config[_0x3daa35(0x262)])_0x58e894='<b>'+config['botname']+_0x3daa35(0x1cb);else _0x58e894='<b>Bot\x20'+botID+_0x3daa35(0x1cb);const _0x34a3c0=config['basecoin'],_0x506b7f=config[_0x3daa35(0x192)],_0x96fbc5=getKPIs('basecoin'),_0x25f84c=getKPIs(_0x3daa35(0x192),_0x506b7f),_0x2c62bf=getKPIs(_0x3daa35(0x1b8)),_0x59a991=getKPIs(_0x3daa35(0x322),_0x506b7f),_0xb2a95c=getKPIs(_0x3daa35(0x222)),_0xf7aa03=getKPIs(_0x3daa35(0x1ad),_0x506b7f);_0x34a3c0['includes'](_0x506b7f)?(_0x58e894+=_0x3daa35(0x1f0),_0x58e894+=_0x3daa35(0x226)+_0x34a3c0+':\x20'+_0x96fbc5['value']+'\x20('+_0x96fbc5['change']+_0x3daa35(0x1b6),_0x58e894+=_0x3daa35(0x18f)+_0x34a3c0+':\x20'+_0x2c62bf[_0x3daa35(0x20d)]+'\x20('+_0x2c62bf['change']+_0x3daa35(0x1b6),_0x58e894+=_0x3daa35(0x24c)+_0x34a3c0+':\x20'+_0xb2a95c['value']+'\x20('+_0xb2a95c['change']+_0x3daa35(0x1b6),_0x58e894+=_0x3daa35(0x324)):(_0x58e894+=_0x3daa35(0x1f0),_0x58e894+=_0x3daa35(0x226)+_0x34a3c0+':\x20'+_0x96fbc5[_0x3daa35(0x20d)]+'\x20('+_0x96fbc5['change']+_0x3daa35(0x1b6),_0x58e894+=_0x3daa35(0x226)+_0x506b7f+':\x20'+_0x25f84c[_0x3daa35(0x20d)]+'\x20('+_0x25f84c[_0x3daa35(0x2e8)]+_0x3daa35(0x1b6),_0x58e894+='Net\x20'+_0x34a3c0+':\x20'+_0x2c62bf[_0x3daa35(0x20d)]+'\x20('+_0x2c62bf['change']+_0x3daa35(0x1b6),_0x58e894+=_0x3daa35(0x18f)+_0x506b7f+':\x20'+_0x59a991[_0x3daa35(0x20d)]+'\x20('+_0x59a991[_0x3daa35(0x2e8)]+_0x3daa35(0x1b6),_0x58e894+='PnL\x20'+_0x34a3c0+':\x20'+_0xb2a95c['value']+'\x20('+_0xb2a95c[_0x3daa35(0x2e8)]+_0x3daa35(0x1b6),_0x58e894+=_0x3daa35(0x24c)+_0x506b7f+':\x20'+_0xf7aa03[_0x3daa35(0x20d)]+'\x20('+_0xf7aa03['change']+_0x3daa35(0x1b6),_0x58e894+='</pre>'),process[_0x3daa35(0x30a)]({'telegrammsg':_0x58e894},_0x507212=>{});}async function sendPortfolioTelegram(){const _0x4d67be=_0x19821d;if(!coinsLoaded||!currentCoins[0x0][_0x4d67be(0x1c5)]){process[_0x4d67be(0x30a)]({'telegrammsg':_0x4d67be(0x1f2)},_0x1237b2=>{});return;}let _0x44aad8='';if(config[_0x4d67be(0x262)])_0x44aad8=_0x4d67be(0x2cc)+config[_0x4d67be(0x2a3)]+_0x4d67be(0x19e);else _0x44aad8='<b>Bot\x20'+botID+_0x4d67be(0x19e);_0x44aad8+=_0x4d67be(0x1f0),_0x44aad8+=_0x4d67be(0x255),_0x44aad8+=_0x4d67be(0x2a0),_0x44aad8+=_0x4d67be(0x255),currentCoins[_0x4d67be(0x200)](_0x329727=>{const _0x48367a=_0x4d67be;_0x44aad8+=_0x329727['coin'][_0x48367a(0x245)](0x7)+'|\x20'+formatPad(_0x329727[_0x48367a(0x1c5)],0x2,0x6)+'|\x20'+formatPad(_0x329727[_0x48367a(0x2b2)],0x2,0x6)+'|\x20'+formatPad(_0x329727[_0x48367a(0x19a)]*0x64,0x2,0x6)+'\x0a';}),_0x44aad8+=_0x4d67be(0x324),process[_0x4d67be(0x30a)]({'telegrammsg':_0x44aad8},_0xa19876=>{});}function formatPad(_0x35923d,_0x3936e3,_0xbfe59e){const _0x457ecc=_0x19821d,_0x17ec7a=formatResultString(_0x35923d,_0x3936e3);return _0x17ec7a?_0x17ec7a[_0x457ecc(0x2b6)](_0xbfe59e):''[_0x457ecc(0x2b6)](_0xbfe59e);}function logHistory(_0x2c41a6,_0xb2ed4a,_0x4122cd=''){const _0x4aceaa=_0x19821d;logger['full'](''+_0xb2ed4a);let _0x486a0d={'time':getTimeStamp(),'type':_0x2c41a6,'event':_0xb2ed4a};dbLogs[_0x4aceaa(0x163)](_0x4aceaa(0x1da))[_0x4aceaa(0x2a9)](_0x486a0d)['write']();if(_0x4122cd=='')_0x4122cd=_0xb2ed4a;proxyEmit(_0x4aceaa(0x1d1),{'log':_0x486a0d,'summary':_0x4122cd}),process[_0x4aceaa(0x30a)]({'telegram':{..._0x486a0d,'botname':config[_0x4aceaa(0x2a3)],'showname':config['showname']}},_0xc17599=>{});}function emitHistory(_0x20b020={}){const _0x2877ae=_0x19821d;Object[_0x2877ae(0x2c6)](_0x20b020)[_0x2877ae(0x2cb)]==0x0&&(_0x20b020={'type':['order',_0x2877ae(0x1d1)],'event':'','page':0x1});if(_0x20b020[_0x2877ae(0x1e6)][_0x2877ae(0x2e2)](_0x2877ae(0x1d1)))_0x20b020[_0x2877ae(0x1e6)][_0x2877ae(0x2f2)](_0x20b020[_0x2877ae(0x1e6)][_0x2877ae(0x1cd)](_0x2877ae(0x1d1)),0x1,_0x2877ae(0x16b),_0x2877ae(0x171),'success');if(dbLogs['has'](_0x2877ae(0x1da))[_0x2877ae(0x20d)]()){let _0x1ffb98=dbLogs[_0x2877ae(0x163)](_0x2877ae(0x1da))[_0x2877ae(0x2d1)](_0x8fa2c7=>{const _0x23a7ca=_0x2877ae;if(_0x20b020[_0x23a7ca(0x1e6)]['length']==0x0)return![];else return _0x20b020[_0x23a7ca(0x1e6)]['includes'](_0x8fa2c7[_0x23a7ca(0x1e6)]);})[_0x2877ae(0x2d1)](_0xfa0474=>{const _0x3a2261=_0x2877ae;if(_0x20b020[_0x3a2261(0x1d1)]=='')return!![];else return _0xfa0474['event'][_0x3a2261(0x185)]()[_0x3a2261(0x2e2)](_0x20b020[_0x3a2261(0x1d1)][_0x3a2261(0x185)]());})[_0x2877ae(0x310)](_0x2877ae(0x1f3)),_0x18e20e=_0x1ffb98[_0x2877ae(0x20d)]()[_0x2877ae(0x2cb)];_0x1ffb98=_0x1ffb98[_0x2877ae(0x1f4)]()['slice']((_0x20b020['page']-0x1)*logPageSize,_0x20b020[_0x2877ae(0x1c3)]*logPageSize-0x1)[_0x2877ae(0x1f4)]()[_0x2877ae(0x20d)](),proxyEmit('event-history',{'logs':_0x1ffb98,'total':_0x18e20e});}else proxyEmit(_0x2877ae(0x1b4),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2ccfc5){const _0x58335b=_0x19821d;if(dbLogs[_0x58335b(0x1d3)](_0x58335b(0x1da))[_0x58335b(0x20d)]()){const _0x290677=dbLogs[_0x58335b(0x163)](_0x58335b(0x1da))[_0x58335b(0x310)](_0x58335b(0x1f3))[_0x58335b(0x2d1)](_0x2904eb=>{const _0xbbd31a=_0x58335b;return _0x2904eb[_0xbbd31a(0x1e6)]==_0xbbd31a(0x2ae);})[_0x58335b(0x20d)]();dbLogs[_0x58335b(0x163)](_0x58335b(0x1da))[_0x58335b(0x1ed)]()[_0x58335b(0x224)](),dbLogs[_0x58335b(0x163)](_0x58335b(0x1da))[_0x58335b(0x1c6)](_0x290677)[_0x58335b(0x224)](),emitHistory(_0x2ccfc5);}}async function pauseBot(_0x324d60=pauseBotIntervalShort,_0x35047e,_0x13aaf8,_0x3a3ce0=![]){const _0x3e5df5=_0x19821d,_0x45832b=new Date()['getTime']();if(!lastErrorShown||_0x45832b-lastErrorShown>=_0x324d60){lastErrorShown=_0x45832b;if(!lastBotPause)lastBotPause=_0x45832b,consecutivePauses=0x1;else{if(_0x45832b-lastBotPause-_0x324d60<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x3a3ce0){logHistory(_0x3e5df5(0x16b),_0x35047e+_0x3e5df5(0x275)),await killBot();return;}else logHistory('error',_0x35047e+pauseBotMsg),_0x324d60=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x45832b;}_0x13aaf8?logger[_0x3e5df5(0x2ab)]('('+consecutivePauses+')\x20'+_0x35047e+_0x3e5df5(0x17d),_0x13aaf8):logger[_0x3e5df5(0x2ab)]('('+consecutivePauses+')\x20'+_0x35047e);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x324d60),botPaused=![],_0x324d60==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x13f20c=_0x19821d;botPaused=!![],await sleep(0x3e8),process[_0x13f20c(0x30a)]({'stop':_0x13f20c(0x221)},_0x12dbe2=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5b5fa7,_0x1a3711,_0x5475eb=![]){const _0x9350f0=_0x19821d;if(botPaused)return;let _0x56ab0d;const _0x417a1f=config[_0x9350f0(0x327)]||_0x9350f0(0x17f);if(_0x1a3711)logger[_0x9350f0(0x2ab)](_0x9350f0(0x237)+_0x1a3711);const _0x551496=()=>{const _0x54a68d=_0x9350f0;loading[_0x54a68d(0x16b)]=_0x54a68d(0x1fe),emitLoadingProgress();};if(_0x5b5fa7[_0x9350f0(0x2aa)]()[_0x9350f0(0x2e2)](_0x9350f0(0x2ee)))logHistory('error',_0x417a1f+_0x9350f0(0x174)),_0x551496();else{if(_0x5b5fa7[_0x9350f0(0x2aa)]()[_0x9350f0(0x2e2)](_0x9350f0(0x2b7)))logHistory('error',_0x417a1f+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x551496();else{if(_0x5b5fa7[_0x9350f0(0x2aa)]()[_0x9350f0(0x2e2)](_0x9350f0(0x219)))config[_0x9350f0(0x1ee)]?_0x56ab0d=_0x417a1f+_0x9350f0(0x21f):_0x56ab0d=_0x417a1f+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x9350f0(0x16b),_0x56ab0d+_0x9350f0(0x206)),_0x551496();else{if(_0x5b5fa7['toString']()['includes'](_0x9350f0(0x30e)))logHistory(_0x9350f0(0x16b),_0x417a1f+_0x9350f0(0x270)),_0x551496();else{if(!_0x5475eb)await handleError(_0x5b5fa7,null);}}}}}async function handleError(_0x45ebb3,_0x5acfea,_0x2287d6=''){const _0x287584=_0x19821d;if(botPaused)return;let _0x378f7e;const _0x3b89d5=config[_0x287584(0x327)]||'Exchange';if(_0x5acfea)logger['debug'](_0x287584(0x237)+_0x5acfea);if(_0x45ebb3['toString']()[_0x287584(0x2e2)]('DDoSProtection'))_0x378f7e=_0x3b89d5+_0x287584(0x316),await pauseBot(undefined,_0x378f7e,_0x45ebb3);else{if(_0x45ebb3['toString']()[_0x287584(0x2e2)](_0x287584(0x180)))_0x378f7e=_0x3b89d5+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x378f7e,_0x45ebb3);else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)](_0x287584(0x1bf))||_0x45ebb3[_0x287584(0x2aa)]()['includes'](_0x287584(0x294)))_0x378f7e=_0x3b89d5+_0x287584(0x1aa),await pauseBot(undefined,_0x378f7e,_0x45ebb3['toString']());else{if(_0x45ebb3[_0x287584(0x2aa)]()['includes']('RequestTimeout'))_0x378f7e=_0x3b89d5+_0x287584(0x27f),await pauseBot(undefined,_0x378f7e,_0x45ebb3[_0x287584(0x2aa)]());else{if(_0x45ebb3[_0x287584(0x2aa)]()['includes'](_0x287584(0x2d9)))_0x378f7e=_0x3b89d5+_0x287584(0x23b),await pauseBot(undefined,_0x378f7e,_0x45ebb3[_0x287584(0x2aa)]());else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x185)]()['includes'](_0x287584(0x26a))||_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x185)]()[_0x287584(0x2e2)](_0x287584(0x2eb)))_0x378f7e='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',await pauseBot(undefined,_0x378f7e,_0x45ebb3[_0x287584(0x2aa)]());else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)](_0x287584(0x1a9)))_0x378f7e=_0x3b89d5+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',await pauseBot(undefined,_0x378f7e,_0x45ebb3[_0x287584(0x2aa)]());else{if(_0x45ebb3 instanceof ccxt['NetworkError'])_0x378f7e=_0x3b89d5+'\x20network\x20error:\x20'+_0x45ebb3[_0x287584(0x2aa)](),logger[_0x287584(0x2ab)](_0x287584(0x267),_0x45ebb3),await pauseBot(undefined,_0x378f7e,_0x45ebb3);else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)]('API-key\x20format\x20invalid'))logHistory(_0x287584(0x16b),_0x3b89d5+_0x287584(0x277)),logHistory(_0x287584(0x16b),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)](_0x287584(0x2b7)))logHistory('error',_0x3b89d5+_0x287584(0x172)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)](_0x287584(0x219))&&_0x45ebb3['toString']()[_0x287584(0x2e2)](_0x287584(0x21a)))_0x378f7e=_0x3b89d5+_0x287584(0x1e7),await pauseBot(undefined,_0x378f7e,_0x45ebb3,!![]);else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)](_0x287584(0x219)))config['apiPassword']?_0x378f7e=_0x3b89d5+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x378f7e=_0x3b89d5+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x287584(0x16b),_0x378f7e),logHistory(_0x287584(0x16b),_0x287584(0x210)),await killBot();else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)](_0x287584(0x30e)))logHistory(_0x287584(0x16b),_0x3b89d5+_0x287584(0x2a8)),logHistory(_0x287584(0x16b),_0x287584(0x210)),await killBot();else{if(_0x45ebb3[_0x287584(0x2aa)]()[_0x287584(0x2e2)]('InsufficientFunds'))logHistory(_0x287584(0x16b),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x2287d6),logger['debug'](_0x287584(0x2bb),_0x45ebb3);else{if(_0x45ebb3 instanceof ccxt[_0x287584(0x31e)]){_0x378f7e=_0x3b89d5+'\x20exchange\x20error:\x20'+_0x45ebb3['toString']();if(_0x2287d6)_0x378f7e+=_0x287584(0x24b)+_0x2287d6;await pauseBot(undefined,_0x378f7e,_0x45ebb3);}else{_0x378f7e=_0x287584(0x240)+_0x45ebb3[_0x287584(0x2aa)]();if(_0x2287d6)_0x378f7e+=_0x287584(0x24b)+_0x2287d6;await pauseBot(undefined,_0x378f7e);}}}}}}}}}}}}}}}}function decryptRSA(_0x5085fe,_0x14925c){const _0x4a2d60=_0x19821d,_0x2bb7ba=forge[_0x4a2d60(0x311)][_0x4a2d60(0x273)](_0x5085fe),_0x5b3202=_0x2bb7ba[_0x4a2d60(0x2c9)](forge[_0x4a2d60(0x2b8)][_0x4a2d60(0x2d6)](_0x14925c),_0x4a2d60(0x1fb),{'md':forge['md'][_0x4a2d60(0x1be)][_0x4a2d60(0x2e9)](),'mgf1':{'md':forge['md'][_0x4a2d60(0x1be)][_0x4a2d60(0x2e9)]()}});return _0x5b3202;}async function withRetry(_0x6f3688,_0x2144b2){const _0x5e2884=_0x19821d;let _0x34f8d1=![],_0x2810d4=0x0,_0x1e1f51,_0x8de3d6;while(_0x2810d4<maxRetries){try{_0x1e1f51=await _0x2144b2();break;}catch(_0x42476f){_0x8de3d6=_0x42476f,!_0x34f8d1?(_0x34f8d1=!![],logger[_0x5e2884(0x2ab)](_0x5e2884(0x20b)+_0x6f3688+':',_0x42476f[_0x5e2884(0x2aa)]())):await sleep(retryInterval);}_0x2810d4++;}if(_0x2810d4==0x0)return _0x1e1f51;if(_0x2810d4>=maxRetries)throw _0x8de3d6;else return logger[_0x5e2884(0x2ab)](_0x5e2884(0x1d5)+_0x2810d4+'\x20attempts'),_0x1e1f51;}function formatResult(_0x5040e8,_0x1c8f7a){const _0x122553=_0x19821d;return parseFloat(_0x5040e8[_0x122553(0x2b0)](_0x1c8f7a));}function formatResultTruncate(_0x4b37ea,_0x43abba){const _0x286f41=_0x19821d;let _0x5197ef=formatResultString(_0x4b37ea,0xa),_0x3e45ce=_0x5197ef['indexOf']('.');return _0x3e45ce!=-0x1&&(_0x5197ef=_0x5197ef[_0x286f41(0x1ac)](0x0,_0x3e45ce+_0x43abba+0x1)),Number(_0x5197ef);}function formatResultString(_0x5bb6b6,_0x56126d){const _0x532b47=_0x19821d;let _0x3ca4e2;if(!(''+_0x5bb6b6)[_0x532b47(0x2e2)]('e'))_0x3ca4e2=+(Math[_0x532b47(0x1fc)](_0x5bb6b6+'e+'+_0x56126d)+'e-'+_0x56126d);else{let _0xf8f9f1=(''+_0x5bb6b6)[_0x532b47(0x2e6)]('e'),_0x4911f2='';+_0xf8f9f1[0x1]+_0x56126d>0x0&&(_0x4911f2='+'),_0x3ca4e2=+(Math['round'](+_0xf8f9f1[0x0]+'e'+_0x4911f2+(+_0xf8f9f1[0x1]+_0x56126d))+'e-'+_0x56126d);}return Number(_0x3ca4e2)[_0x532b47(0x2b0)](_0x56126d);}function getServerTime(){const _0x178c72=_0x19821d,_0x553955=new Date();return _0x553955['getFullYear']()+'/'+(_0x553955[_0x178c72(0x282)]()+0x1)[_0x178c72(0x2aa)]()[_0x178c72(0x2b6)](0x2,'0')+'/'+_0x553955['getDate']()[_0x178c72(0x2aa)]()[_0x178c72(0x2b6)](0x2,'0')+'\x20'+_0x553955[_0x178c72(0x1ca)]()['toString']()['padStart'](0x2,'0')+':'+_0x553955[_0x178c72(0x1db)]()['toString']()[_0x178c72(0x2b6)](0x2,'0')+':'+_0x553955[_0x178c72(0x23e)]()[_0x178c72(0x2aa)]()[_0x178c72(0x2b6)](0x2,'0');}function getTimeStamp(){const _0x1c4ac9=_0x19821d,_0x2e262a=shiftedTime();return _0x2e262a[_0x1c4ac9(0x2d5)]()+'/'+(_0x2e262a['getMonth']()+0x1)[_0x1c4ac9(0x2aa)]()['padStart'](0x2,'0')+'/'+_0x2e262a['getDate']()[_0x1c4ac9(0x2aa)]()[_0x1c4ac9(0x2b6)](0x2,'0')+'\x20'+_0x2e262a['getHours']()[_0x1c4ac9(0x2aa)]()[_0x1c4ac9(0x2b6)](0x2,'0')+':'+_0x2e262a[_0x1c4ac9(0x1db)]()['toString']()[_0x1c4ac9(0x2b6)](0x2,'0')+':'+_0x2e262a[_0x1c4ac9(0x23e)]()[_0x1c4ac9(0x2aa)]()['padStart'](0x2,'0');}function getDate(){const _0x3c48b5=_0x19821d,_0x58a83c=shiftedTime();return _0x58a83c['getFullYear']()+'/'+(_0x58a83c['getMonth']()+0x1)[_0x3c48b5(0x2aa)]()[_0x3c48b5(0x2b6)](0x2,'0')+'/'+_0x58a83c[_0x3c48b5(0x24d)]()[_0x3c48b5(0x2aa)]()[_0x3c48b5(0x2b6)](0x2,'0');}function getHour(){const _0x24f413=_0x19821d,_0x50a64e=shiftedTime();return _0x50a64e[_0x24f413(0x1ca)]()[_0x24f413(0x2aa)]()['padStart'](0x2,'0');}function sleep(_0x1cb02c){return new Promise(_0x2b45a1=>setTimeout(_0x2b45a1,_0x1cb02c));}function shiftedTime(){const _0x37696f=_0x19821d,_0x51842c=new Date();let _0x45c6f7=_0x51842c;if(config&&config['timeshift']!==0x0)_0x45c6f7=fns[_0x37696f(0x24e)](_0x51842c,{'hours':config[_0x37696f(0x2c7)]});return _0x45c6f7;}function timer(_0x98efff){const _0x475944=_0x19821d,_0x2f518d=new Date();!lasttime?console[_0x475944(0x22b)](getTimeStamp()+':\x20timer\x20>',_0x98efff,_0x2f518d):console[_0x475944(0x22b)](getTimeStamp()+':\x20timer\x20>',_0x98efff,(_0x2f518d-lasttime)/0x3e8),lasttime=_0x2f518d;}