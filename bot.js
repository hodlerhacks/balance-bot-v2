const _0x198f9f=_0x855e;(function(_0x305b85,_0x55d793){const _0x93f2f9=_0x855e,_0x1ef3ae=_0x305b85();while(!![]){try{const _0x601c3=-parseInt(_0x93f2f9(0x229))/0x1+-parseInt(_0x93f2f9(0x1f7))/0x2*(-parseInt(_0x93f2f9(0x14b))/0x3)+parseInt(_0x93f2f9(0x247))/0x4+parseInt(_0x93f2f9(0x1d9))/0x5*(-parseInt(_0x93f2f9(0x21e))/0x6)+-parseInt(_0x93f2f9(0x18a))/0x7*(parseInt(_0x93f2f9(0x1ea))/0x8)+parseInt(_0x93f2f9(0x142))/0x9*(parseInt(_0x93f2f9(0x1dd))/0xa)+parseInt(_0x93f2f9(0x130))/0xb;if(_0x601c3===_0x55d793)break;else _0x1ef3ae['push'](_0x1ef3ae['shift']());}catch(_0x3564b0){_0x1ef3ae['push'](_0x1ef3ae['shift']());}}}(_0x4f6c,0x3fc3e));const _0x404222=function(){let _0xbcfe8e=!![];return function(_0x1136b9,_0x289caf){const _0x3f62c=_0xbcfe8e?function(){if(_0x289caf){const _0x4c07a3=_0x289caf['apply'](_0x1136b9,arguments);return _0x289caf=null,_0x4c07a3;}}:function(){};return _0xbcfe8e=![],_0x3f62c;};}(),_0x323513=_0x404222(this,function(){const _0x33e2e8=_0x855e;return _0x323513[_0x33e2e8(0x11f)]()[_0x33e2e8(0x1ec)](_0x33e2e8(0xe9))['toString']()[_0x33e2e8(0x135)](_0x323513)[_0x33e2e8(0x1ec)](_0x33e2e8(0xe9));});_0x323513();'use strict';const ccxt=require(_0x198f9f(0x1e7)),low=require(_0x198f9f(0x18f)),FileSync=require(_0x198f9f(0x1f4)),fs=require('fs'),fns=require('date-fns'),Crypt=require('hybrid-crypto-js')[_0x198f9f(0x237)],util=require('util'),argv=require(_0x198f9f(0x1b0))(process[_0x198f9f(0xe0)][_0x198f9f(0x12c)](0x2))['argv'],path=require(_0x198f9f(0x12a));let exchange;global[_0x198f9f(0x235)]={},global[_0x198f9f(0x129)]={};const usdBasecoins=['USD',_0x198f9f(0x1f3),'TUSD',_0x198f9f(0x1ca),_0x198f9f(0x19a),_0x198f9f(0x202)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x198f9f(0x165)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x198f9f(0x1ba)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x198f9f(0x264))[_0x198f9f(0x13b)],botID=process[_0x198f9f(0xe0)][0x2]||_0x198f9f(0x1be),pattern=/^[0-9]{3}$/;!pattern[_0x198f9f(0x1eb)](botID)&&(console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x198f9f(0x20b)),killBot());const userID=process[_0x198f9f(0xe0)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x198f9f(0x111),logspath=userID?'./logs/'+userID+'/':_0x198f9f(0x1c6),loggerfile=fs[_0x198f9f(0x160)](logspath+_0x198f9f(0x1a5),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x198f9f(0x183)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x198f9f(0x1dc)+botID+_0x198f9f(0x1aa),logfile=configpath+'bot-'+botID+_0x198f9f(0x1b7),performancefile=configpath+'bot-'+botID+_0x198f9f(0x1a0),coinresultsfile=configpath+'bot-'+botID+_0x198f9f(0x233),settingsfile=configpath+_0x198f9f(0x259),securefile=configpath+_0x198f9f(0x182),configbackuppath=configpath+_0x198f9f(0xfb),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x198f9f(0x1b1)]({'logs':[],'version':serverversion})[_0x198f9f(0x1b3)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x198f9f(0x1b3)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x198f9f(0x1b3)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x198f9f(0x24c),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x19d879=>{const _0x2f48e7=_0x198f9f;console[_0x2f48e7(0x137)](_0x19d879);},'simple':_0x5c0f0b=>{const _0x336523=_0x198f9f;console[_0x336523(0x137)](_0x5c0f0b),loggerfile['write'](util[_0x336523(0x1c9)](_0x5c0f0b)+'\x0a');},'full':async(_0x38e67c,_0x59a314='')=>{const _0x676ca4=_0x198f9f;let _0xca781f;if(config['showname'])_0xca781f=getTimeStamp()+':\x20'+config[_0x676ca4(0xe5)]+'\x20>\x20'+_0x38e67c;else _0xca781f=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x38e67c;console[_0x676ca4(0x137)](_0xca781f),loggerfile['write'](util[_0x676ca4(0x1c9)](_0xca781f)+'\x0a'),_0x59a314&&(console[_0x676ca4(0x137)](_0x59a314),loggerfile[_0x676ca4(0x1b3)](util[_0x676ca4(0x1c9)](_0x59a314)+'\x0a'));},'debug':async(_0x537535,_0x4eb88c='')=>{const _0x5a5602=_0x198f9f;let _0x35b2a4;if(config[_0x5a5602(0x1f9)])_0x35b2a4=getTimeStamp()+':\x20'+config[_0x5a5602(0xe5)]+_0x5a5602(0x145)+_0x537535;else _0x35b2a4=getTimeStamp()+_0x5a5602(0x207)+botID+'\x20>\x20[DEBUG]\x20'+_0x537535;if(debugging)console[_0x5a5602(0x137)](_0x35b2a4);loggerfile[_0x5a5602(0x1b3)](util[_0x5a5602(0x1c9)](_0x35b2a4)+'\x0a');if(_0x4eb88c){if(debugging)console[_0x5a5602(0x137)](_0x4eb88c);loggerfile[_0x5a5602(0x1b3)](util[_0x5a5602(0x1c9)](_0x4eb88c)+'\x0a');}}};process['on'](_0x198f9f(0x163),function(_0x7cc996){const _0x581c17=_0x198f9f;logHistory(_0x581c17(0x1f0),_0x581c17(0x1a8)),logger[_0x581c17(0x199)](_0x581c17(0xf0),_0x7cc996);});settings[_0x198f9f(0x1f2)]!=config[_0x198f9f(0x1f2)]&&updateTimeshift(settings[_0x198f9f(0x1f2)]);settings[_0x198f9f(0x224)]!=config[_0x198f9f(0x224)]&&updateOnepagemode(settings[_0x198f9f(0x224)]);process[_0x198f9f(0x20a)]({'started':_0x198f9f(0x1d0)},_0x305690=>{}),initializeProcessListeners();function proxyEmit(_0x10355b,_0x42f983=null){const _0x3a0151=_0x198f9f;process[_0x3a0151(0x20a)]({'function':_0x10355b,'args':_0x42f983},_0x2a9956=>{});}function initializeProcessListeners(){process['on']('message',_0x7b9607=>{const _0x28a705=_0x855e;switch(Object['keys'](_0x7b9607)[0x0]){case _0x28a705(0x1f2):_0x7b9607['timeshift']!=undefined&&(settings[_0x28a705(0x1f2)]=_0x7b9607['timeshift'],updateTimeshift(settings[_0x28a705(0x1f2)]));break;case _0x28a705(0x224):_0x7b9607['onepagemode']!=undefined&&(settings[_0x28a705(0x224)]=_0x7b9607[_0x28a705(0x224)],updateOnepagemode(settings['onepagemode']));break;case _0x28a705(0x25f):_0x7b9607[_0x28a705(0x25f)]!=undefined&&(bots=JSON[_0x28a705(0x154)](_0x7b9607[_0x28a705(0x25f)]),proxyEmit(_0x28a705(0x25f),bots));break;case _0x28a705(0x1de):switch(_0x7b9607['function']){case _0x28a705(0x216):initclient();break;case'toggleBotMode':toggleBotMode();break;case'emitHistory':emitHistory(_0x7b9607[_0x28a705(0x13d)]);break;case _0x28a705(0x125):deleteHistoryAlerts(_0x7b9607[_0x28a705(0x13d)]);break;case _0x28a705(0xfd):getPortfolio(_0x7b9607[_0x28a705(0x13d)]);break;case _0x28a705(0x249):storeConfiguration(_0x7b9607[_0x28a705(0x13d)]);break;case'storeHeadless':storeHeadless(_0x7b9607[_0x28a705(0x13d)]);break;case _0x28a705(0x168):storeFiat(_0x7b9607['args']);break;case _0x28a705(0x19c):resetHistory();break;case _0x28a705(0x1d3):getStartingBalances(getNormalizedPerformance());break;case _0x28a705(0xed):placeOrder(_0x7b9607[_0x28a705(0x13d)]);break;case'cancelLoading':cancelLoading();break;case _0x28a705(0x17a):showConfig();break;case _0x28a705(0x1ee):sendMetricsTelegram();break;case _0x28a705(0x269):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x48d542=null,_0x1c5cf4=![]){const _0x388cfb=_0x198f9f;logger[_0x388cfb(0x199)](_0x388cfb(0x20f)+(_0x48d542&&_0x48d542[_0x388cfb(0x1d1)]>0x0?_0x388cfb(0x20d)+_0x48d542[_0x388cfb(0x114)](','):_0x388cfb(0x174))+'\x20|\x20'+(_0x1c5cf4?_0x388cfb(0x1d5):_0x388cfb(0x169))+_0x388cfb(0x188)+config[_0x388cfb(0x1da)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x1c5cf4)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x388cfb(0x1fe)]!=_0x388cfb(0x1e4)){loadingProgress=0x0;if(_0x1c5cf4){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x8db3dd){handleErrorNoStop(_0x8db3dd,_0x388cfb(0x228));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x48d542);const _0x332693=await getCoins();[currentCoins,currentCoinsAll]=_0x332693,loadingProgress=maxLoadingProgress,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x388cfb(0x1d1)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x1126a4=_0x198f9f;exchangeStopped=!![];try{await exchange[_0x1126a4(0x21f)]();}catch(_0x46565d){await handleError(_0x46565d,_0x1126a4(0x148));}}async function reloadExchange(){const _0x40e5a0=_0x198f9f;logger['debug'](_0x40e5a0(0x243));while(lockOrders!=ORDERS[_0x40e5a0(0x1ba)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x40e5a0(0x1bf)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x1b5871=config[_0x198f9f(0x1da)],_0x132e88=config[_0x198f9f(0x1fe)],_0x42cc66=config[_0x198f9f(0x242)],_0x3dcfb4=config[_0x198f9f(0x12b)]){const _0x24de10=_0x198f9f;exchange&&await stopExchange();!supportedExchanges()[_0x24de10(0x1df)](_0x1b5871)&&(logHistory('error',_0x24de10(0x220)+_0x1b5871+_0x24de10(0xe2)),killBot());const _0x3ae756=ccxt[_0x24de10(0xe6)][_0x1b5871[_0x24de10(0x22d)]()];exchange=new _0x3ae756({'apiKey':_0x132e88,'secret':_0x42cc66,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x3dcfb4)exchange[_0x24de10(0x262)]=_0x3dcfb4;}function setStableCoins(){const _0x302062=_0x198f9f;let _0x14e78d=config['basecoin']==_0x302062(0x1ae)?'ETH':_0x302062(0x181),_0x16edcd=!allSymbols[_0x302062(0x1df)](_0x14e78d+_0x302062(0x200))?_0x302062(0x1ca):'USD',_0x57eb08=!allSymbols['includes'](_0x14e78d+_0x302062(0x10a))?_0x16edcd:_0x302062(0x258);stablecoins={'eur':{'coin':''+_0x14e78d+_0x57eb08,'symbol':_0x14e78d+'/'+_0x57eb08},'usd':{'coin':''+_0x14e78d+_0x16edcd,'symbol':_0x14e78d+'/'+_0x16edcd}};}async function initwsCcxt(_0x1612c9){const _0x5a2d6a=_0x198f9f;_0x1612c9==null&&(_0x1612c9=[],config[_0x5a2d6a(0x121)][_0x5a2d6a(0x22e)](_0x3161c5=>{const _0x4a59e1=_0x5a2d6a;if(!_0x3161c5[_0x4a59e1(0x241)]&&_0x3161c5['coin']!=config[_0x4a59e1(0x156)])_0x1612c9[_0x4a59e1(0x159)](_0x3161c5[_0x4a59e1(0x23b)]);}));if(!_0x1612c9[_0x5a2d6a(0x1df)](stablecoins[_0x5a2d6a(0xde)][_0x5a2d6a(0x23b)]))_0x1612c9['push'](stablecoins[_0x5a2d6a(0xde)]['symbol']);if(!_0x1612c9[_0x5a2d6a(0x1df)](stablecoins[_0x5a2d6a(0x1d4)][_0x5a2d6a(0x23b)]))_0x1612c9[_0x5a2d6a(0x159)](stablecoins[_0x5a2d6a(0x1d4)][_0x5a2d6a(0x23b)]);if(config['exchange'][_0x5a2d6a(0x26d)](_0x5a2d6a(0x25b))){if(!_0x1612c9[_0x5a2d6a(0x1df)](_0x5a2d6a(0x26e)+config[_0x5a2d6a(0x156)]))_0x1612c9[_0x5a2d6a(0x159)](_0x5a2d6a(0x26e)+config['basecoin']);}loadCoins(_0x1612c9),_0x1612c9=validateSymbols(_0x1612c9);const _0x15a541=async _0x86fbef=>{const _0x2e0b0f=_0x5a2d6a;let _0x1936a3;try{const _0x2f7df3=await exchange[_0x2e0b0f(0x223)](_0x86fbef);Object[_0x2e0b0f(0x240)](_0x2f7df3)['forEach'](_0x5c13d8=>{const _0x521ae5=_0x2e0b0f;_0x1936a3=_0x5c13d8[0x1]['symbol'],global[_0x521ae5(0x235)][noslash(_0x1936a3)]=_0x5c13d8[0x1]['last'];});}catch(_0x145f11){await handleError(_0x145f11,_0x2e0b0f(0x106),_0x1936a3);}},_0x2f6cbc=async _0x172860=>{const _0x305d0b=_0x5a2d6a;while(!![]){if(!botPaused)try{const _0x39ae55=await exchange[_0x305d0b(0x113)](_0x172860);global[_0x305d0b(0x235)][noslash(_0x39ae55[0x0]['symbol'])]=_0x39ae55[0x0]['price'],await sleep(0x3e8);}catch(_0x48bcd6){if(!exchangeStopped)await handleError(_0x48bcd6,'watchTrades(2)',_0x172860);}else await sleep(0x64);}},_0x534639=async _0x210e21=>{const _0x224296=_0x5a2d6a;while(!![]){if(!botPaused)try{const _0x46c8c8=await exchange['fetchTicker'](_0x210e21);global[_0x224296(0x129)][_0x46c8c8[_0x224296(0x23b)]]=_0x46c8c8['percentage'],await sleep(0x3c*0x3e8);}catch(_0x55df8b){if(!exchangeStopped)await handleError(_0x55df8b,_0x224296(0x223),_0x210e21);}else await sleep(0x64);}},_0xd4cf1f=async _0x4afd94=>{const _0x33a25f=_0x5a2d6a;while(!![]){if(!botPaused)try{const _0x36cf38=await exchange[_0x33a25f(0xfa)](_0x4afd94);_0x36cf38[_0x33a25f(0x22e)](_0x3f0ff9=>{updateNumberCoinsCcxt(_0x3f0ff9);});}catch(_0x390d8f){if(!exchangeStopped)await handleError(_0x390d8f,_0x33a25f(0xfa));}else await sleep(0x64);}};_0x15a541(_0x1612c9),_0x1612c9['forEach'](_0x399473=>{_0x2f6cbc(_0x399473),_0x534639(_0x399473),_0xd4cf1f(_0x399473);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function watchTransactions(){const _0x2581fb=_0x198f9f;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x588a0b=await getCoins(),[_0x1faf7c,_0x1a3ead]=_0x588a0b;let _0x122e34=[];currentCoins[_0x2581fb(0x22e)](_0x2c9a7c=>{const _0x187159=_0x2581fb,_0x76579c=_0x1faf7c[_0x187159(0x175)](_0x42e4be=>_0x42e4be[_0x187159(0x18d)]==_0x2c9a7c[_0x187159(0x18d)]);if(_0x76579c){if(_0x2c9a7c[_0x187159(0x12d)]!=_0x76579c[_0x187159(0x12d)]){let _0x4c4bb6;if(_0x2c9a7c[_0x187159(0x18d)]!=config[_0x187159(0x156)]){const _0x8e5cf5=global['ticker'][noslash(_0x2c9a7c[_0x187159(0x23b)])];_0x4c4bb6=_0x2c9a7c[_0x187159(0x1ef)]?0x1/_0x8e5cf5:_0x8e5cf5;}else _0x4c4bb6=0x1;_0x122e34[_0x187159(0x159)]({'coin':_0x2c9a7c[_0x187159(0x18d)],'symbol':_0x2c9a7c[_0x187159(0x23b)],'price':_0x4c4bb6,'number':Number(formatResult(_0x76579c[_0x187159(0x12d)]-_0x2c9a7c['number'],0x8)),'basecoinvalue':_0x4c4bb6*(_0x76579c[_0x187159(0x12d)]-_0x2c9a7c['number'])});}}});if(_0x122e34[_0x2581fb(0x1d1)]==0x1&&!blockTransactionDetection){if(config[_0x2581fb(0x11d)]){logger[_0x2581fb(0x199)](_0x2581fb(0x170)+_0x122e34[0x0][_0x2581fb(0x1e9)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x2581fb(0x166)]);if(lastFees['highest']==0x0||Math[_0x2581fb(0xea)](_0x122e34[0x0][_0x2581fb(0x1e9)])>lastFees['highest']){delete _0x122e34[0x0][_0x2581fb(0x23b)],delete _0x122e34[0x0][_0x2581fb(0x1e9)];let _0x48bb5d=[],_0x5cff87=[...config[_0x2581fb(0x112)]]||[],_0x4ec531=config[_0x2581fb(0x112)];_0x5cff87['sort']((_0x53e74d,_0x439b4d)=>_0x53e74d[_0x2581fb(0x239)]>_0x439b4d['date']?-0x1:_0x439b4d['date']>_0x53e74d['date']?0x1:0x0);const _0xee56f9=getDate();if(_0x5cff87[0x0]){const _0x420c8f=fns[_0x2581fb(0x154)](_0x5cff87[0x0][_0x2581fb(0x239)],'yyyy/MM/dd',new Date()),_0x23b964=fns[_0x2581fb(0x154)](_0xee56f9,_0x2581fb(0x210),new Date());if(fns[_0x2581fb(0x109)](_0x420c8f,_0x23b964)){_0x48bb5d=_0x5cff87[0x0][_0x2581fb(0x1a1)];const _0x1f2683=_0x48bb5d[_0x2581fb(0x175)](_0x314cd7=>_0x314cd7[_0x2581fb(0x18d)]==_0x122e34[0x0]['coin']);_0x1f2683?(_0x1f2683[_0x2581fb(0x12d)]+=_0x122e34[0x0][_0x2581fb(0x12d)],_0x1f2683[_0x2581fb(0x12d)]==0x0&&(_0x48bb5d=_0x48bb5d[_0x2581fb(0x15f)](_0x3eb17e=>{const _0x25ac9a=_0x2581fb;return _0x3eb17e['coin']!=_0x122e34[0x0][_0x25ac9a(0x18d)];}))):_0x48bb5d[_0x2581fb(0x159)](_0x122e34[0x0]);const _0x4c62da=_0x4ec531[_0x2581fb(0x175)](_0x2a6e2e=>_0x2a6e2e['date']==_0xee56f9);_0x4c62da[_0x2581fb(0x1a1)]=_0x48bb5d;}else _0x4ec531[_0x2581fb(0x159)]({'date':_0xee56f9,'changes':[_0x122e34[0x0]]});}const _0x14e5a2=_0x4ec531[_0x2581fb(0x175)](_0x19d7ca=>_0x19d7ca[_0x2581fb(0x239)]==_0xee56f9);if(_0x14e5a2){let _0x52a69b=!![];_0x14e5a2[_0x2581fb(0x1a1)][_0x2581fb(0x22e)](_0x349ec2=>{if(_0x349ec2['number']!=0x0)_0x52a69b=![];}),_0x52a69b&&(_0x4ec531=_0x4ec531[_0x2581fb(0x15f)](_0x3236ff=>{const _0x3125f8=_0x2581fb;return _0x3236ff[_0x3125f8(0x239)]!=_0xee56f9;}));}let _0x505660=dbConfig[_0x2581fb(0x13e)](_0x2581fb(0xee))[_0x2581fb(0x175)]({'botID':botID})[_0x2581fb(0x104)]();_0x505660&&(dbConfig[_0x2581fb(0x13e)](_0x2581fb(0xee))[_0x2581fb(0x175)]({'botID':botID})['assign']({'liquidity':_0x4ec531})[_0x2581fb(0x1b3)](),config['liquidity']=_0x4ec531),logHistory(_0x2581fb(0x260),'Portfolio\x20change\x20detected:\x20'+Math[_0x2581fb(0xea)](_0x122e34[0x0][_0x2581fb(0x12d)])+'\x20'+_0x122e34[0x0]['coin']+'\x20'+(_0x122e34[0x0]['number']>0x0?_0x2581fb(0x1b9):'removed')+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());}else logger[_0x2581fb(0x199)](_0x2581fb(0x246)+Math[_0x2581fb(0xea)](_0x122e34[0x0]['number'])+'\x20'+_0x122e34[0x0][_0x2581fb(0x18d)]+'\x20'+(_0x122e34[0x0][_0x2581fb(0x12d)]>0x0?_0x2581fb(0x1b9):'removed'));transactionDetected=!![],currentCoins=_0x1faf7c,currentCoinsAll=_0x1a3ead;}else logger[_0x2581fb(0x199)](_0x2581fb(0x17f)+Math['abs'](_0x122e34[0x0][_0x2581fb(0x12d)])+'\x20'+_0x122e34[0x0][_0x2581fb(0x18d)]+'\x20'+(_0x122e34[0x0][_0x2581fb(0x12d)]>0x0?'added':'removed')+_0x2581fb(0x209)),currentCoins=_0x1faf7c,currentCoinsAll=_0x1a3ead;}await sleep(watchTransactionsInterval);}catch(_0x5da691){if(!exchangeStopped)await handleError(_0x5da691,_0x2581fb(0x1f8));}else await sleep(0x64);}}async function loadSymbols(){const _0x331e0c=_0x198f9f;try{markets=await exchange[_0x331e0c(0x195)](),allSymbols=[],Object[_0x331e0c(0x240)](markets)[_0x331e0c(0x22e)](_0x4aab4b=>{const _0x2dce2b=_0x331e0c;_0x4aab4b[0x1][_0x2dce2b(0x152)]&&_0x4aab4b[0x1][_0x2dce2b(0x14c)]&&allSymbols['push'](_0x4aab4b[0x0]);});}catch(_0x1dba9d){throw _0x1dba9d;}}function validateSymbols(_0x2e7f12){let _0x17df15=[];return _0x2e7f12['forEach'](_0x3765eb=>{const _0x230f31=_0x855e;!allSymbols[_0x230f31(0x1df)](_0x3765eb)?logHistory(_0x230f31(0x1f0),'Invalid\x20symbol:\x20'+_0x3765eb+'\x20-\x20exclude\x20from\x20balancing\x20in\x20the\x20configuration'):_0x17df15[_0x230f31(0x159)](_0x3765eb);}),_0x17df15;}async function initclient(){const _0x5d020b=_0x198f9f;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x5d020b(0x11a),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5d020b(0x1a9),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2a5c4a=getNormalizedPerformance();emitPerformance(_0x2a5c4a),getStartingBalances(_0x2a5c4a);}async function toggleBotMode(){const _0x2d56e6=_0x198f9f;let _0x169052=dbConfig[_0x2d56e6(0x13e)](_0x2d56e6(0xee))[_0x2d56e6(0x175)]({'botID':botID})['value']();if(_0x169052){const _0x45d22f=!_0x169052[_0x2d56e6(0x128)];dbConfig[_0x2d56e6(0x13e)](_0x2d56e6(0xee))[_0x2d56e6(0x175)]({'botID':botID})['assign']({'headless':_0x45d22f})[_0x2d56e6(0x1b3)](),config[_0x2d56e6(0x128)]=_0x45d22f,proxyEmit(_0x2d56e6(0x197),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x19390d=_0x198f9f;process[_0x19390d(0x20a)]({'updatebotmanager':!![]},_0x4d7cf7=>{});}async function loadCoins(_0x3897c8){const _0x5e0d70=_0x198f9f;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x3e1125,_0x57ccec=0x0,_0x3588be=0x0;_0x3897c8['forEach'](_0x5c2a74=>{const _0xfd62c=_0x855e;loading[_0xfd62c(0x236)]['push'](_0x5c2a74);}),loadingCanceled=![];let _0x40bc9e=![];while(_0x3e1125!=_0x3897c8[_0x5e0d70(0x1d1)]+maxLoadingProgress){_0x3e1125=loadingProgress,_0x3897c8[_0x5e0d70(0x22e)](_0x2578c8=>{const _0x281968=_0x5e0d70;if(global[_0x281968(0x235)][noslash(_0x2578c8)]){loading[_0x281968(0x236)]=loading[_0x281968(0x236)][_0x281968(0x15f)](_0x1517d5=>_0x1517d5!=_0x2578c8);if(!watchedSymbols[_0x281968(0x1df)](_0x2578c8))watchedSymbols[_0x281968(0x159)](_0x2578c8);_0x3e1125++;}}),loading['progress']=Math['round'](_0x3e1125/(_0x3897c8['length']+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x3588be>0x1e*0x5&&(loading[_0x5e0d70(0x1e3)]=!![],emitLoadingProgress()),_0x3588be>0x78*0x5&&!_0x40bc9e&&(loading[_0x5e0d70(0x119)]=!![],emitLoadingProgress(),_0x40bc9e=!![],logHistory(_0x5e0d70(0x1f0),_0x5e0d70(0x179)+loading[_0x5e0d70(0x236)][_0x5e0d70(0x114)](',\x20')+_0x5e0d70(0x211)),logHistory(_0x5e0d70(0x1f0),_0x5e0d70(0x180)+loadCoinsRetryInterval/0xea60+_0x5e0d70(0xec)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x567a70=_0x5e0d70;process[_0x567a70(0x20a)]({'stop':_0x567a70(0x24e)},_0x49779b=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x5e0d70(0x119)]=!![],emitLoadingProgress();break;}else _0x57ccec!=loading[_0x5e0d70(0x196)]&&(_0x57ccec=loading[_0x5e0d70(0x196)],emitLoadingProgress()),_0x3588be++,await sleep(0xc8);}_0x3e1125==_0x3897c8[_0x5e0d70(0x1d1)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x5e0d70(0x20a)]({'status':_0x5e0d70(0x21c),'live':'running'},_0x413afc=>{}),_0x40bc9e&&logHistory(_0x5e0d70(0x260),_0x5e0d70(0x10c)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x36fa51=_0x198f9f;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x36fa51(0x11b)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x59d5d4=_0x198f9f;let _0x3d3d1f=global[_0x59d5d4(0x235)][stablecoins[_0x59d5d4(0xde)][_0x59d5d4(0x18d)]],_0x1aa922=global[_0x59d5d4(0x235)][stablecoins[_0x59d5d4(0x1d4)][_0x59d5d4(0x18d)]];return{'eur':Number(_0x3d3d1f),'usd':Number(_0x1aa922)};}function capitalize(_0x5d3bfe){const _0x26a1ee=_0x198f9f;return _0x5d3bfe[_0x26a1ee(0x208)](0x0,0x1)[_0x26a1ee(0x186)]()+_0x5d3bfe[_0x26a1ee(0x208)](0x1);}function supportedExchanges(){const _0x2f3779=_0x198f9f,_0xb06f6b=['ws','fetchTickers',_0x2f3779(0x155),_0x2f3779(0x113),_0x2f3779(0xfa),_0x2f3779(0x1ff),_0x2f3779(0x117),_0x2f3779(0x18e),_0x2f3779(0x11c),_0x2f3779(0x194)];let _0x3f9128=[],_0xd7f4f7=[],_0x5a477b=ccxt[_0x2f3779(0xe6)]['exchanges'];_0x5a477b['forEach'](_0x14efc1=>{const _0x2bb198=_0x2f3779;try{const _0x26bd03=new ccxt['pro'][_0x14efc1]();_0xd7f4f7[_0x2bb198(0x159)](_0x26bd03);}catch(_0x46adda){}}),_0xd7f4f7[_0x2f3779(0x22e)](_0x243785=>{const _0x5a3316=_0x2f3779;let _0x2e549e=0x0;_0xb06f6b[_0x5a3316(0x22e)](_0x5999a5=>{const _0x20c1cf=_0x5a3316;_0x5999a5 in _0x243785[_0x20c1cf(0x21b)]&&_0x243785[_0x20c1cf(0x21b)][_0x5999a5]&&_0x2e549e++;}),_0x2e549e==_0xb06f6b['length']&&_0x3f9128['push'](capitalize(_0x243785['id']));});let _0x354915=[];return _0x5a477b[_0x2f3779(0x22e)](_0x2f53ac=>{const _0x5eee04=_0x2f3779;_0x2f53ac=capitalize(_0x2f53ac);if(!_0x3f9128['includes'](_0x2f53ac))_0x354915[_0x5eee04(0x159)](_0x2f53ac);}),_0x3f9128;}function setStartDatePerformance(){const _0x43ca02=_0x198f9f;if(config&&config[_0x43ca02(0x112)][0x0][_0x43ca02(0x1a1)][_0x43ca02(0x1d1)]!=0x0){const _0x4622d6=config[_0x43ca02(0x112)][0x0]['changes'];dbPerformance[_0x43ca02(0x13e)](_0x43ca02(0x16a))[_0x43ca02(0x175)]({'date':config[_0x43ca02(0x10b)]})[_0x43ca02(0x184)]({'coins':_0x4622d6})['write']();}}async function recreateCoinResults(){const _0x1f9270=_0x198f9f;let _0x3d50e8,_0xb78ca6=[];try{const _0x344d32=fns[_0x1f9270(0x1c9)](fns[_0x1f9270(0x232)](config[_0x1f9270(0x10b)][_0x1f9270(0x250)](/\//g,'-')),_0x1f9270(0x253));for(const _0x53e7de of currentCoins){if(_0x53e7de[_0x1f9270(0x18d)]!=config['basecoin']){let _0x481425=0x0,_0x30f105,_0x223b40;_0x3d50e8=await getAllEventOrders(_0x53e7de[_0x1f9270(0x23b)]);if(_0x3d50e8[_0x1f9270(0x1d1)]>0x0)_0x3d50e8[_0x1f9270(0x22e)](_0x1407de=>{const _0x417760=_0x1f9270,_0x143619=_0x53e7de[_0x417760(0x23b)]['includes'](config['basecoin']+'/');_0xb78ca6[_0x417760(0x159)]({'datetime':_0x1407de['datetime'],'coin':_0x53e7de[_0x417760(0x18d)],'symbol':_0x53e7de['symbol'],'side':_0x1407de[_0x417760(0xff)],'reverse':_0x143619,'amount':formatResult(_0x1407de[_0x417760(0x1d2)],0x8),'filled':formatResult(_0x1407de[_0x417760(0x1d2)],0x8),'price':formatResult(_0x1407de[_0x417760(0x14e)],0x8)}),_0x481425=_0x1407de[_0x417760(0xff)]=='buy'?_0x481425+_0x1407de[_0x417760(0x1d2)]:_0x481425-_0x1407de['filled'];if(!_0x223b40)_0x223b40=_0x1407de[_0x417760(0x14e)];});_0x30f105=_0x53e7de['number']-_0x481425;let _0x158b98;config[_0x1f9270(0x112)][_0x1f9270(0x22e)](_0x1368ec=>{const _0x3652a5=_0x1f9270;!_0x158b98&&(_0x158b98=_0x1368ec[_0x3652a5(0x1a1)][_0x3652a5(0x175)](_0x47c4f3=>_0x47c4f3[_0x3652a5(0x18d)]==_0x53e7de[_0x3652a5(0x18d)]),_0x158b98&&(_0x30f105=_0x158b98[_0x3652a5(0x12d)],_0x223b40=_0x158b98[_0x3652a5(0x14e)]));});let _0x4592d1=dbCoinResults[_0x1f9270(0x13e)](_0x1f9270(0x162))[_0x1f9270(0x175)]({'coin':_0x53e7de[_0x1f9270(0x18d)]})['value']();_0x4592d1={'coin':_0x53e7de['coin'],'number':_0x30f105,'breakeven':_0x223b40,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1f9270(0x13e)](_0x1f9270(0x162))[_0x1f9270(0x175)]({'coin':_0x53e7de[_0x1f9270(0x18d)]})[_0x1f9270(0x184)](_0x4592d1)[_0x1f9270(0x1b3)]();}}_0xb78ca6[_0x1f9270(0x1d7)]((_0x3dc45b,_0x306baa)=>_0x3dc45b['datetime']>_0x306baa['datetime']?0x1:_0x306baa['datetime']>_0x3dc45b[_0x1f9270(0x1cb)]?-0x1:0x0);let _0x463406=0x0;for(let _0xce7ec4 of _0xb78ca6){await updateCoinResults(_0xce7ec4,!![]);}}catch(_0x3963ca){await handleError(_0x3963ca,_0x1f9270(0x13a));}}async function getAllEventOrders(_0x386b89){const _0x28de85=_0x198f9f;let _0x25b5ee=[],_0x49ca42=dbLogs[_0x28de85(0x13e)](_0x28de85(0xdd))[_0x28de85(0x15f)](_0x17608b=>{const _0x2d5878=_0x28de85,_0x5e8f1f=_0x17608b[_0x2d5878(0x1e1)]['toLowerCase']();return _0x5e8f1f[_0x2d5878(0x1df)](_0x386b89['toLowerCase']())&&(_0x5e8f1f[_0x2d5878(0x1df)]('market')&&_0x5e8f1f[_0x2d5878(0x1df)](_0x2d5878(0x1cc))||_0x5e8f1f[_0x2d5878(0x1df)](_0x2d5878(0x1d2))&&_0x5e8f1f[_0x2d5878(0x1df)](_0x2d5878(0x1cc)));})[_0x28de85(0x191)](_0x28de85(0x103))['value']();return _0x49ca42['forEach'](_0x569673=>{const _0x407b8e=_0x28de85,_0x5029e1=_0x569673['event']['includes']('sell')?_0x407b8e(0x16f):'buy',_0x3f0845=/#([0-9]|\.)+\s/i,_0x28b80b=Number(_0x3f0845[_0x407b8e(0x11e)](_0x569673[_0x407b8e(0x1e1)])[0x0][_0x407b8e(0x12c)](0x1)),_0x3dd284=/@([0-9]|\.)+$/i,_0x29c0fb=Number(_0x3dd284['exec'](_0x569673['event'])[0x0][_0x407b8e(0x12c)](0x1));_0x25b5ee[_0x407b8e(0x159)]({'datetime':_0x569673[_0x407b8e(0x103)],'coin':symbolToCoin(_0x386b89),'symbol':_0x386b89,'side':_0x5029e1,'amount':_0x28b80b,'filled':_0x28b80b,'price':_0x29c0fb});}),_0x25b5ee;}async function getAllOrders(_0x372784,_0x6dadb6){const _0x17f92e=_0x198f9f;let _0x449adc=[];while(_0x6dadb6<exchange['milliseconds']()){const _0x27144d=0x1f4;try{const _0x12a1be=await exchange['fetchClosedOrders'](_0x372784,_0x6dadb6,_0x27144d);if(_0x12a1be[_0x17f92e(0x1d1)])_0x6dadb6=_0x12a1be[_0x12a1be['length']-0x1]['timestamp']+0x1,_0x449adc=_0x449adc['concat'](_0x12a1be);else break;}catch(_0x175ea9){await handleError(_0x175ea9,_0x17f92e(0x1a7),_0x372784);}}return _0x449adc;}async function validate24hChanges(){const _0x3bf3ca=_0x198f9f;for(const _0x438a3d of currentCoins){if(_0x438a3d['coin']!=config[_0x3bf3ca(0x156)]){let _0x41d9a5;_0x438a3d[_0x3bf3ca(0x1ef)]?_0x41d9a5=formatResult((0x1/(global[_0x3bf3ca(0x129)][noslash(_0x438a3d[_0x3bf3ca(0x23b)])]/0x64+0x1)-0x1)*0x64,0x3):_0x41d9a5=global[_0x3bf3ca(0x129)][noslash(_0x438a3d[_0x3bf3ca(0x23b)])],_0x41d9a5<config[_0x3bf3ca(0x231)]&&(logHistory(_0x3bf3ca(0x1f0),_0x438a3d[_0x3bf3ca(0x18d)]+_0x3bf3ca(0x1f6)+_0x41d9a5+'%'),logHistory('error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x3bf3ca(0x1f0),_0x3bf3ca(0x20c)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0xa1710a,_0x3e0aca){const _0x37fad4=_0x198f9f;if(!_0xa1710a)return!![];const _0x1b405a=_0x3e0aca[_0x37fad4(0xf6)]('.'),_0x2400f7=_0xa1710a[_0x37fad4(0xf6)]('.');for(var _0x1cc929=0x0;_0x1cc929<_0x2400f7[_0x37fad4(0x1d1)];_0x1cc929++){const _0x36e836=~~_0x2400f7[_0x1cc929],_0x37d237=~~_0x1b405a[_0x1cc929];if(_0x36e836<_0x37d237)return!![];if(_0x36e836>_0x37d237)return![];}return![];}async function oneTimeMigration(){const _0x243ced=_0x198f9f;let _0xb41968=dbLogs['get'](_0x243ced(0x13b))['value']();if(isOlderVersion(_0xb41968,'2.3.5')){let _0x343a91=[];const _0x753299=dbLogs['get'](_0x243ced(0xdd))[_0x243ced(0x104)]();_0x753299[_0x243ced(0x22e)](_0x22d9ee=>{const _0x5ecae3=_0x243ced;_0x343a91['push']({'time':_0x22d9ee[_0x5ecae3(0x103)],'type':_0x22d9ee[_0x5ecae3(0x218)],'event':_0x22d9ee[_0x5ecae3(0x1e1)]});}),dbLogs['get'](_0x243ced(0xdd))[_0x243ced(0x184)](_0x343a91)[_0x243ced(0x1b3)]();}let _0x44075f=dbConfig[_0x243ced(0x13e)]('version')['value']();if(isOlderVersion(_0x44075f,_0x243ced(0xfe))){let _0x221c12=dbConfig['get'](_0x243ced(0xee))[_0x243ced(0x175)]({'botID':botID})[_0x243ced(0x104)]();if(_0x221c12){let _0x47f8b1=[];_0x221c12['portfolio'][_0x243ced(0x22e)](_0x4d9f10=>{const _0x22b158=_0x243ced;_0x47f8b1['push']({'coin':_0x4d9f10[_0x22b158(0x18d)],'number':_0x4d9f10[_0x22b158(0xe8)],'price':_0x4d9f10['startprice']}),delete _0x4d9f10[_0x22b158(0xe8)],delete _0x4d9f10[_0x22b158(0x17b)];});if(_0x47f8b1[_0x243ced(0x1d1)]!==0x0)fs['writeFile'](configbackuppath+(_0x243ced(0x217)+botID+'.json'),JSON[_0x243ced(0x136)](_0x47f8b1,null,0x4),function(_0x3377ba){if(_0x3377ba){}});const _0x26f4a6=(_0x52d34c,_0x35516b)=>{const _0x177a52=_0x243ced;let _0xd8d1f5=[];_0x35516b[_0x177a52(0x22e)](_0xe920ed=>{const _0x9af739=_0x177a52,_0xc6168a=_0x52d34c[_0x9af739(0x175)](_0xa0bcef=>_0xa0bcef['coin']==_0xe920ed[_0x9af739(0x18d)]);if(!_0xc6168a)_0xd8d1f5['push'](_0xe920ed);});let _0x2c6f4c=[];return _0x52d34c['forEach'](_0x7f9f1d=>{const _0xe1c35d=_0x177a52,_0x511037=_0x35516b[_0xe1c35d(0x175)](_0x3400cb=>_0x3400cb[_0xe1c35d(0x18d)]==_0x7f9f1d[_0xe1c35d(0x18d)]);if(!_0x511037||_0x511037['number']==0x0&&_0x7f9f1d[_0xe1c35d(0x12d)]!=0x0)_0x2c6f4c['push'](_0x7f9f1d);}),{'missingDay1':_0xd8d1f5,'notInDay2':_0x2c6f4c};},_0x58b44d=dbPerformance['get'](_0x243ced(0x16a))[_0x243ced(0xf1)]()['value']();if(_0x58b44d['length']>0x1){const {missingDay1:_0x3f5fb7,notInDay2:_0xdc5173}=_0x26f4a6(_0x47f8b1,_0x58b44d[0x1][_0x243ced(0x162)]);_0x47f8b1=[..._0x47f8b1,..._0x3f5fb7],_0xdc5173[_0x243ced(0x22e)](_0x14db0e=>{const _0x125748=_0x243ced;let _0x3c1a5d=_0x47f8b1[_0x125748(0x26b)](_0x25bdf7=>_0x25bdf7[_0x125748(0x18d)]==_0x14db0e['coin']);_0x3c1a5d!=-0x1&&_0x47f8b1[_0x125748(0x1a4)](_0x3c1a5d,0x1);});}_0x47f8b1[_0x243ced(0x1d7)]((_0x46907c,_0xe48975)=>_0x46907c[_0x243ced(0x18d)]>_0xe48975[_0x243ced(0x18d)]?0x1:_0xe48975[_0x243ced(0x18d)]>_0x46907c[_0x243ced(0x18d)]?-0x1:0x0);let _0x34c021=[{'date':_0x221c12['startdate'],'changes':_0x47f8b1}];_0x58b44d[_0x243ced(0x1d1)]>0x2&&_0x58b44d[_0x243ced(0x22e)]((_0x562a17,_0x2b1b6f)=>{const _0x1200ba=_0x243ced;if(_0x2b1b6f>0x0&&_0x2b1b6f<_0x58b44d[_0x1200ba(0x1d1)]-0x1){const {missingDay1:_0x39649d,notInDay2:_0x1b102c}=_0x26f4a6(_0x58b44d[_0x2b1b6f]['coins'],_0x58b44d[_0x2b1b6f+0x1][_0x1200ba(0x162)]);_0x47f8b1=[],(_0x39649d[_0x1200ba(0x1d1)]!=0x0||_0x1b102c[_0x1200ba(0x1d1)]!=0x0)&&(_0x39649d[_0x1200ba(0x1d1)]!=0x0&&_0x47f8b1[_0x1200ba(0x159)](..._0x39649d),_0x1b102c[_0x1200ba(0x1d1)]!=0x0&&(_0x1b102c['forEach'](_0x28a1c6=>{const _0x223580=_0x1200ba;_0x28a1c6[_0x223580(0x12d)]=-_0x28a1c6[_0x223580(0x12d)];}),_0x47f8b1['push'](..._0x1b102c)),_0x47f8b1[_0x1200ba(0x1d7)]((_0x2ae761,_0x4ed37f)=>_0x2ae761['coin']>_0x4ed37f[_0x1200ba(0x18d)]?0x1:_0x4ed37f[_0x1200ba(0x18d)]>_0x2ae761[_0x1200ba(0x18d)]?-0x1:0x0),_0x34c021[_0x1200ba(0x159)]({'date':_0x58b44d[_0x2b1b6f+0x1][_0x1200ba(0x239)],'changes':_0x47f8b1}));}}),dbConfig['get'](_0x243ced(0xee))[_0x243ced(0x175)]({'botID':botID})['assign']({..._0x221c12,'liquidity':_0x34c021})[_0x243ced(0x1b3)]();}}if(isOlderVersion(_0x44075f,_0x243ced(0x26a))){let _0x579928=dbConfig[_0x243ced(0x13e)](_0x243ced(0xee))[_0x243ced(0x175)]({'botID':botID})[_0x243ced(0x104)]();if(_0x579928){const _0x1c5992=_0x579928[_0x243ced(0x1da)],_0x54f74d=_0x1c5992?capitalize(_0x1c5992):'Binance';dbConfig[_0x243ced(0x13e)](_0x243ced(0xee))[_0x243ced(0x175)]({'botID':botID})[_0x243ced(0x184)]({'exchange':_0x54f74d})['write']();}}let _0x13b54d=dbPerformance[_0x243ced(0x13e)]('version')[_0x243ced(0x104)]();isOlderVersion(_0x13b54d,_0x243ced(0xfe))&&setStartDatePerformance();let _0x1e2392=dbCoinResults[_0x243ced(0x13e)](_0x243ced(0x13b))[_0x243ced(0x104)]();if(isOlderVersion(_0x1e2392,_0x243ced(0x1e8))){let _0xed1b31=dbCoinResults[_0x243ced(0x13e)](_0x243ced(0x162))[_0x243ced(0x104)]();if(_0xed1b31['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x56454d=_0x198f9f;dbConfig[_0x56454d(0x245)](_0x56454d(0x13b),serverversion)[_0x56454d(0x1b3)](),dbPerformance['set'](_0x56454d(0x13b),serverversion)['write'](),dbLogs[_0x56454d(0x245)](_0x56454d(0x13b),serverversion)[_0x56454d(0x1b3)](),dbCoinResults[_0x56454d(0x245)](_0x56454d(0x13b),serverversion)[_0x56454d(0x1b3)]();}function getConfiguration(_0x122777){const _0xd2fef9=_0x198f9f;let _0x52bae6=dbConfig[_0xd2fef9(0x13e)]('bot')['find']({'botID':_0x122777})[_0xd2fef9(0x104)]();if(_0x52bae6){let _0x1d0485=![];typeof _0x52bae6[_0xd2fef9(0x1c0)]==_0xd2fef9(0x144)&&(_0x52bae6={..._0x52bae6,'threshold':Number(_0x52bae6['threshold'])},_0x1d0485=!![]),_0x52bae6['change24h']==undefined&&(_0x52bae6={..._0x52bae6,'change24h':-0x14},_0x1d0485=!![]),_0x52bae6[_0xd2fef9(0x133)]==undefined&&(_0x52bae6={..._0x52bae6,'fiat':_0xd2fef9(0x1ce)},_0x1d0485=!![]),_0x52bae6['onepagemode']==undefined&&(_0x52bae6={..._0x52bae6,'onepagemode':settings['onepagemode']},_0x1d0485=!![]),_0x52bae6[_0xd2fef9(0x15e)]==undefined&&(_0x52bae6={..._0x52bae6,'colorscheme':_0xd2fef9(0x1f1)},_0x1d0485=!![]),_0x52bae6[_0xd2fef9(0x11d)]==undefined&&(_0x52bae6={..._0x52bae6,'autoliquidity':!![]},_0x1d0485=!![]),_0x1d0485&&(_0x52bae6={'botID':_0x52bae6[_0xd2fef9(0x238)],'exchange':_0x52bae6['exchange'],'apiKey':_0x52bae6[_0xd2fef9(0x1fe)],'apiSecret':_0x52bae6[_0xd2fef9(0x242)],'apiPassword':_0x52bae6[_0xd2fef9(0x12b)],'basecoin':_0x52bae6[_0xd2fef9(0x156)],'botname':_0x52bae6[_0xd2fef9(0xe5)],'showname':_0x52bae6[_0xd2fef9(0x1f9)],'threshold':_0x52bae6[_0xd2fef9(0x1c0)],'ordertype':_0x52bae6[_0xd2fef9(0x266)],'timeout':_0x52bae6[_0xd2fef9(0x1e3)],'fiat':_0x52bae6[_0xd2fef9(0x133)],'startdate':_0x52bae6[_0xd2fef9(0x10b)],'recreate':_0x52bae6[_0xd2fef9(0x151)],'timeshift':_0x52bae6['timeshift'],'onepagemode':_0x52bae6[_0xd2fef9(0x224)],'headless':_0x52bae6['headless'],'cooldown':_0x52bae6[_0xd2fef9(0x1b6)],'change24h':_0x52bae6[_0xd2fef9(0x231)],'emojibuy':_0x52bae6[_0xd2fef9(0x201)],'emojisell':_0x52bae6[_0xd2fef9(0x17c)],'colorscheme':_0x52bae6[_0xd2fef9(0x15e)],'portfolio':_0x52bae6[_0xd2fef9(0x121)],'autoliquidity':_0x52bae6['autoliquidity'],'liquidity':_0x52bae6[_0xd2fef9(0x112)],'openOrders':_0x52bae6[_0xd2fef9(0x248)]},dbConfig['get'](_0xd2fef9(0xee))[_0xd2fef9(0x265)]()[_0xd2fef9(0x1b3)](),dbConfig[_0xd2fef9(0x13e)](_0xd2fef9(0xee))[_0xd2fef9(0x159)](_0x52bae6)[_0xd2fef9(0x1b3)]());}else _0x52bae6={'botID':_0x122777,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0xd2fef9(0x23e)+_0x122777,'showname':![],'threshold':0x3,'ordertype':_0xd2fef9(0x1c2),'timeout':0x14,'fiat':_0xd2fef9(0x1ce),'startdate':getDate(),'recreate':![],'timeshift':settings[_0xd2fef9(0x1f2)],'onepagemode':settings[_0xd2fef9(0x224)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0xd2fef9(0x1f1),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x52bae6;}function emittedConfiguration(){const _0x4190a9=_0x198f9f;let _0x573079;if(config[_0x4190a9(0x1fe)]=='')_0x573079={...config,'configstate':'initial'};else config[_0x4190a9(0x1fe)]==_0x4190a9(0x1e4)?_0x573079={...config,'configstate':_0x4190a9(0x143)}:(_0x573079={...config,'apiKey':_0x4190a9(0x1b5),'apiSecret':_0x4190a9(0x1b5)},config[_0x4190a9(0x12b)]&&(_0x573079['apiPassword']=_0x4190a9(0x1b5)));return _0x573079;}function getSettings(){const _0x5a5ffa=_0x198f9f;return dbSettings[_0x5a5ffa(0x13e)](_0x5a5ffa(0x164))['value']();}function getSecure(){const _0x20483c=_0x198f9f;return dbSecure[_0x20483c(0x13e)]('secure')['value']()||{};}function updateTimeshift(_0x511abf){const _0x3337aa=_0x198f9f;let _0x3fad56=dbConfig[_0x3337aa(0x13e)](_0x3337aa(0xee))[_0x3337aa(0x175)]({'botID':botID})[_0x3337aa(0x104)]();_0x3fad56&&dbConfig[_0x3337aa(0x13e)]('bot')[_0x3337aa(0x175)]({'botID':botID})['assign']({'timeshift':_0x511abf})[_0x3337aa(0x1b3)](),config[_0x3337aa(0x1f2)]=_0x511abf,proxyEmit(_0x3337aa(0x197),emittedConfiguration());}function updateOnepagemode(_0x59a0ca){const _0x2ae478=_0x198f9f;let _0x13ed35=dbConfig[_0x2ae478(0x13e)](_0x2ae478(0xee))[_0x2ae478(0x175)]({'botID':botID})['value']();_0x13ed35&&dbConfig['get']('bot')[_0x2ae478(0x175)]({'botID':botID})[_0x2ae478(0x184)]({'onepagemode':_0x59a0ca})['write'](),config[_0x2ae478(0x224)]=_0x59a0ca,proxyEmit(_0x2ae478(0x197),emittedConfiguration());}async function storeConfiguration(_0x144c6f){const _0x57db01=_0x198f9f;logger['debug'](_0x57db01(0xfc));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug'](_0x57db01(0x173));let _0x372e28=[],_0x4abd89=![],_0x5ed589=![],_0x4a21c8=[];_0x144c6f['portfolio'][_0x57db01(0x22e)](_0x45548f=>{const _0x1bf140=_0x57db01;if(!_0x45548f[_0x1bf140(0x241)]&&_0x45548f[_0x1bf140(0x18d)]!=_0x144c6f[_0x1bf140(0x156)])_0x4a21c8[_0x1bf140(0x159)](_0x45548f[_0x1bf140(0x23b)]);}),_0x4a21c8[_0x57db01(0x22e)](_0x3fabc8=>{const _0x58cdb8=watchedSymbols['includes'](_0x3fabc8);!_0x58cdb8&&_0x372e28['push'](_0x3fabc8);}),_0x4a21c8[_0x57db01(0x22e)](_0x2aad43=>{const _0x466b61=_0x57db01,_0x183e02=currentCoins[_0x466b61(0x175)](_0x4caf45=>_0x4caf45[_0x466b61(0x23b)]==_0x2aad43);!_0x183e02&&(_0x4abd89=!![]);}),currentCoins['forEach'](_0x27438f=>{const _0x533337=_0x57db01;if(_0x27438f[_0x533337(0x18d)]!=config['basecoin']){const _0x25c4a9=_0x4a21c8[_0x533337(0x175)](_0x3239e9=>_0x3239e9==_0x27438f[_0x533337(0x23b)]);!_0x25c4a9&&(_0x4abd89=!![]);}}),_0x144c6f['portfolio']['forEach'](_0x341cee=>{const _0x6e6038=_0x57db01,_0x2becfa=config[_0x6e6038(0x121)]['find'](_0x576e6f=>_0x576e6f[_0x6e6038(0x18d)]==_0x341cee[_0x6e6038(0x18d)]);if(_0x2becfa&&_0x341cee[_0x6e6038(0xf4)]!=_0x2becfa[_0x6e6038(0xf4)])_0x5ed589=!![];});let _0xe84cf1=dbConfig[_0x57db01(0x13e)]('bot')[_0x57db01(0x175)]({'botID':botID})['value']();_0x144c6f={..._0x144c6f,'apiKey':crypt[_0x57db01(0x21a)](secure[_0x57db01(0x24b)],_0x144c6f[_0x57db01(0x1fe)])[_0x57db01(0x1ad)],'apiSecret':crypt[_0x57db01(0x21a)](secure[_0x57db01(0x24b)],_0x144c6f[_0x57db01(0x242)])['message']};_0x144c6f[_0x57db01(0x12b)]&&(_0x144c6f[_0x57db01(0x12b)]=crypt['decrypt'](secure['privateKey'],_0x144c6f[_0x57db01(0x12b)])[_0x57db01(0x1ad)]);let _0x2b9616=![];if(_0xe84cf1){_0x144c6f[_0x57db01(0x1fe)]=='************'?_0x144c6f[_0x57db01(0x1fe)]=config['apiKey']:_0x2b9616=!![];_0x144c6f['apiSecret']==_0x57db01(0x1b5)?_0x144c6f[_0x57db01(0x242)]=config[_0x57db01(0x242)]:_0x2b9616=!![];if(_0x144c6f[_0x57db01(0x12b)]==_0x57db01(0x1b5))_0x144c6f[_0x57db01(0x12b)]=config[_0x57db01(0x12b)];else{if(_0x144c6f[_0x57db01(0x12b)])_0x2b9616=!![];}dbConfig['get'](_0x57db01(0xee))[_0x57db01(0x175)]({'botID':botID})['assign'](_0x144c6f)[_0x57db01(0x1b3)]();}else dbConfig[_0x57db01(0x13e)](_0x57db01(0xee))['push'](_0x144c6f)['write'](),_0x2b9616=!![],process['send']({'status':_0x57db01(0x21c),'live':_0x57db01(0x1d0)},_0x3b9ab7=>{});process[_0x57db01(0x20a)]({'botname':_0x144c6f[_0x57db01(0xe5)]},_0x308982=>{}),updateBotManager(),config={..._0x144c6f},proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x2b9616)await reset(_0x372e28,!![]);else _0x4abd89||_0x5ed589?await reset(_0x372e28,![]):getBalances();blockTransactionDetection=![],logger[_0x57db01(0x199)](_0x57db01(0x17e));}async function storeHeadless(_0x274ba3){const _0x3b16ef=_0x198f9f,_0x38eda5={...config,'headless':_0x274ba3[_0x3b16ef(0x128)]};let _0x37f35e=dbConfig['get']('bot')['find']({'botID':botID})[_0x3b16ef(0x104)]();_0x37f35e&&dbConfig[_0x3b16ef(0x13e)](_0x3b16ef(0xee))[_0x3b16ef(0x175)]({'botID':botID})[_0x3b16ef(0x184)](_0x38eda5)[_0x3b16ef(0x1b3)](),config={..._0x38eda5},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x54569b){const _0x226327=_0x198f9f,_0x487120={...config,'fiat':_0x54569b};let _0x2607e4=dbConfig[_0x226327(0x13e)]('bot')[_0x226327(0x175)]({'botID':botID})['value']();_0x2607e4&&dbConfig[_0x226327(0x13e)]('bot')['find']({'botID':botID})[_0x226327(0x184)](_0x487120)[_0x226327(0x1b3)](),config={..._0x487120},proxyEmit(_0x226327(0x197),emittedConfiguration());}function resetHistory(){const _0x3c6837=_0x198f9f;logger[_0x3c6837(0x24d)](_0x3c6837(0x25d));try{if(fs[_0x3c6837(0x15d)](path[_0x3c6837(0x114)](configpath,_0x3c6837(0x1dc)+botID+'-events.json')))fs['unlinkSync'](path[_0x3c6837(0x114)](configpath,_0x3c6837(0x1dc)+botID+'-events.json'));if(fs[_0x3c6837(0x15d)](path[_0x3c6837(0x114)](configpath,_0x3c6837(0x1dc)+botID+_0x3c6837(0x1a0))))fs[_0x3c6837(0x146)](path[_0x3c6837(0x114)](configpath,_0x3c6837(0x1dc)+botID+_0x3c6837(0x1a0)));if(fs[_0x3c6837(0x15d)](path['join'](configpath,_0x3c6837(0x1dc)+botID+_0x3c6837(0x233))))fs[_0x3c6837(0x146)](path[_0x3c6837(0x114)](configpath,'bot-'+botID+_0x3c6837(0x233)));}catch(_0x564733){if(_0x564733)logger['full'](_0x3c6837(0x107),_0x564733);}const _0x9a2da4=getDate();let _0x53893f=[];currentCoins[_0x3c6837(0x22e)](_0x59fe77=>{const _0xa82b5c=_0x3c6837;_0x53893f['push']({'coin':_0x59fe77[_0xa82b5c(0x18d)],'number':_0x59fe77['number'],'price':_0x59fe77['last']});});let _0x35278c=dbConfig[_0x3c6837(0x13e)](_0x3c6837(0xee))[_0x3c6837(0x175)]({'botID':botID})[_0x3c6837(0x104)]();_0x35278c&&(dbConfig[_0x3c6837(0x13e)](_0x3c6837(0xee))[_0x3c6837(0x175)]({'botID':botID})['assign']({'liquidity':[{'date':_0x9a2da4,'changes':_0x53893f}]})[_0x3c6837(0x1b3)](),config[_0x3c6837(0x112)]=[]),process[_0x3c6837(0x20a)]({'stop':_0x3c6837(0x24e)},_0x3ad37d=>{});}function noslash(_0x4f8586){return _0x4f8586['replace']('/','');}function updateHighestFee(_0x45c6f5){const _0x1a7cf3=_0x198f9f;if(_0x45c6f5[_0x1a7cf3(0x1ef)]){let _0x78d66f={'filled':_0x45c6f5[_0x1a7cf3(0x1d2)]*_0x45c6f5['price'],'amount':_0x45c6f5[_0x1a7cf3(0x1d2)]*_0x45c6f5[_0x1a7cf3(0x14e)],'side':_0x45c6f5[_0x1a7cf3(0xff)]==_0x1a7cf3(0x16f)?_0x1a7cf3(0x1bc):_0x1a7cf3(0x16f),'price':0x1/_0x45c6f5['price']};_0x45c6f5={..._0x45c6f5,..._0x78d66f};}const _0x3b416c=defaultFee*_0x45c6f5['filled']*_0x45c6f5['price'];lastFees[_0x1a7cf3(0x101)][_0x1a7cf3(0x1d1)]===0x14&&lastFees[_0x1a7cf3(0x101)]['shift'](),lastFees[_0x1a7cf3(0x101)][_0x1a7cf3(0x159)](_0x3b416c),lastFees[_0x1a7cf3(0x166)]=Math['max'](...lastFees[_0x1a7cf3(0x101)]);}async function updateNumberCoinsCcxt(_0x39c41c){const _0x4fc964=_0x198f9f;logger['debug'](_0x4fc964(0x167)+_0x39c41c[_0x4fc964(0x23b)]+_0x4fc964(0x198)+_0x39c41c[_0x4fc964(0x212)]+_0x4fc964(0x198)+_0x39c41c['id']);let _0x51435b=_0x39c41c['status'],_0x5d176c=![];currentCoins[_0x4fc964(0x22e)](_0x4bb031=>{const _0x42a65d=_0x4fc964;_0x4bb031[_0x42a65d(0x23b)]==_0x39c41c[_0x42a65d(0x23b)]&&(_0x5d176c=!![]);});if(!_0x5d176c)return;const _0x249536=currentCoins[_0x4fc964(0x175)](_0x1b08e9=>_0x1b08e9[_0x4fc964(0x23b)]==_0x39c41c[_0x4fc964(0x23b)]),_0x2ef193=_0x1c69f9=>{const _0x166ea8=_0x4fc964;if(_0x249536)_0x249536[_0x166ea8(0x134)]=_0x1c69f9;};if(_0x51435b=='open')_0x2ef193(_0x4fc964(0x15a));else{if(_0x51435b=='canceled'){_0x2ef193(_0x4fc964(0x131));const _0x4361c4=await getCoins();[currentCoins,currentCoinsAll]=_0x4361c4,await getOpenOrders(),handleOpenOrders();}else{if(_0x51435b==_0x4fc964(0x230)){logger[_0x4fc964(0x199)](_0x4fc964(0x1a3)+_0x39c41c[_0x4fc964(0x23b)]+'\x20|\x20'+_0x39c41c['filled']+_0x4fc964(0x198)+_0x39c41c['id']);let _0x33c56d=![];if(lastOrders)for(const _0x1123a9 of lastOrders){const _0x320a01=0xc8,_0x53bf69=0x1388;let _0x5786fa=0x0;while(!_0x1123a9[_0x4fc964(0x110)]&&_0x5786fa*_0x320a01<_0x53bf69){_0x5786fa++,await sleep(_0x320a01);}if(_0x5786fa>0x0)logger[_0x4fc964(0x199)](_0x4fc964(0x22c)+_0x5786fa*_0x320a01/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x1123a9['orderId']==_0x39c41c['id']){logger[_0x4fc964(0x199)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x39c41c['id']),_0x33c56d=!![];if(_0x1123a9[_0x4fc964(0x1d2)]==0x0){logger[_0x4fc964(0x199)](_0x4fc964(0x124)+_0x39c41c['id']);if(_0x39c41c['average'])_0x1123a9[_0x4fc964(0x14e)]=_0x39c41c['average'];else{if(_0x39c41c[_0x4fc964(0x14e)])_0x1123a9[_0x4fc964(0x14e)]=_0x39c41c[_0x4fc964(0x14e)];else{}}_0x1123a9[_0x4fc964(0x1d2)]=_0x39c41c[_0x4fc964(0x1d2)],updateHighestFee(_0x1123a9),_0x2ef193(_0x4fc964(0x1d2)),await validateOrders();if(lockOrders==ORDERS[_0x4fc964(0x1c5)]){const _0x45258e=await getCoins();[currentCoins,currentCoinsAll]=_0x45258e;}_0x1123a9[_0x4fc964(0x1cf)]={'currency':_0x39c41c[_0x4fc964(0x1cf)]?_0x39c41c[_0x4fc964(0x1cf)]['currency']:null,'cost':_0x39c41c[_0x4fc964(0x1cf)]?_0x39c41c[_0x4fc964(0x1cf)][_0x4fc964(0x251)]:0x0},await updateCoinResults(_0x1123a9);}}}if(!_0x33c56d){logger[_0x4fc964(0x199)](_0x4fc964(0x147)+_0x39c41c['id']),_0x2ef193(_0x4fc964(0x1d2));const _0x84dfa9=await getCoins();[currentCoins,currentCoinsAll]=_0x84dfa9,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1e73e6=JSON[_0x4fc964(0x154)](lastBalances[_0x4fc964(0x121)]);const _0x5e91a4=_0x1e73e6[_0x4fc964(0x175)](_0x4b6e96=>_0x4b6e96['symbol']==_0x39c41c[_0x4fc964(0x23b)]);if(_0x5e91a4){if(_0x51435b==_0x4fc964(0x15a))_0x5e91a4[_0x4fc964(0x134)]=_0x5e91a4[_0x4fc964(0x134)]=='filled'?_0x4fc964(0x1d2):_0x4fc964(0x15a);else{if(_0x51435b==_0x4fc964(0x131))_0x5e91a4[_0x4fc964(0x134)]=_0x5e91a4[_0x4fc964(0x134)]==_0x4fc964(0x1d2)?_0x4fc964(0x1d2):'canceled';else _0x51435b==_0x4fc964(0x230)&&(_0x5e91a4[_0x4fc964(0x134)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x4fc964(0x136)](_0x1e73e6)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x4abb85=_0x198f9f;await getOpenOrders();let _0x2b4ad5=![];currentCoins[_0x4abb85(0x22e)](_0x3a7b6b=>{const _0x5d8043=_0x4abb85;_0x2b4ad5=allOpenOrders[_0x5d8043(0x175)](_0x50e9bc=>_0x50e9bc[_0x5d8043(0x23b)]==_0x3a7b6b[_0x5d8043(0x23b)]),_0x3a7b6b[_0x5d8043(0x134)]=_0x2b4ad5?'open':_0x5d8043(0xe3);});}async function getCoins(_0x570035=!![],_0x4cfaba=config['basecoin']){const _0x2c480c=_0x198f9f;let _0x10709e,_0x4a3723=[],_0x5c9d29=[],_0x58a6db=[],_0x542ada=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x10709e=await exchange[_0x2c480c(0x194)](),mybalances=_0x10709e[_0x2c480c(0x102)];for(const [_0x2535c8,_0x1a6cbe]of Object[_0x2c480c(0x240)](mybalances)){_0x542ada['push'](_0x2535c8);}if(_0x4cfaba=='')for(const [_0x1753ef,_0x2cdf57]of Object[_0x2c480c(0x240)](mybalances)){_0x2cdf57!=0x0&&_0x5c9d29['push']({'coin':_0x1753ef});}else{let _0x598ab9=![];for(const [_0x1f0aab,_0x3337db]of Object[_0x2c480c(0x240)](mybalances)){if(_0x542ada[_0x2c480c(0x1df)](_0x1f0aab)){const _0x16e648=config[_0x2c480c(0x121)][_0x2c480c(0x175)](_0x21c030=>_0x21c030[_0x2c480c(0x18d)]==_0x1f0aab),_0x12fa9f=_0x1f0aab+'/'+_0x4cfaba,_0x6e02d1=_0x4cfaba+'/'+_0x1f0aab,_0x21403f=currentCoins[_0x2c480c(0x175)](_0x110c87=>_0x110c87[_0x2c480c(0x18d)]==_0x1f0aab);_0x598ab9=![];if((_0x3337db!=0x0||_0x16e648)&&(allSymbols['includes'](_0x12fa9f)||_0x1f0aab==_0x4cfaba))_0x1f0aab!=_0x4cfaba&&_0x4a3723[_0x2c480c(0x159)](_0x12fa9f),_0x5c9d29[_0x2c480c(0x159)]({'coin':_0x1f0aab,'symbol':_0x12fa9f,'reverse':![],'number':Math['max'](_0x3337db+(_0x16e648&&_0x16e648[_0x2c480c(0xf4)]||0x0),0x0),'orderstatus':_0x21403f?_0x21403f[_0x2c480c(0x134)]:_0x2c480c(0xe3)});else(_0x3337db!=0x0||_0x16e648)&&allSymbols[_0x2c480c(0x1df)](_0x6e02d1)&&(_0x1f0aab!=_0x4cfaba&&_0x4a3723[_0x2c480c(0x159)](_0x6e02d1),_0x5c9d29[_0x2c480c(0x159)]({'coin':_0x1f0aab,'symbol':_0x6e02d1,'reverse':!![],'number':Math['max'](_0x3337db+(_0x16e648&&_0x16e648['offset']||0x0),0x0),'orderstatus':_0x21403f?_0x21403f[_0x2c480c(0x134)]:_0x2c480c(0xe3)}));}}}}catch(_0x39292c){if(!_0x570035)handleErrorNoStop(_0x39292c,_0x2c480c(0x244));else await handleError(_0x39292c,_0x2c480c(0x244));}return _0x58a6db=cloneDeep(_0x5c9d29),_0x5c9d29=_0x5c9d29[_0x2c480c(0x15f)](_0x2d189b=>{const _0x19eb91=_0x2c480c,_0x2fcae2=config['portfolio'][_0x19eb91(0x175)](_0x6525ad=>_0x6525ad[_0x19eb91(0x18d)]==_0x2d189b[_0x19eb91(0x18d)]);return _0x2fcae2&&!_0x2fcae2[_0x19eb91(0x241)];}),[_0x5c9d29,_0x58a6db];}async function getCoinNumber(_0x648db){const _0x5cc53c=_0x198f9f;let _0x417bce;try{const _0x569808=await exchange[_0x5cc53c(0x194)]();_0x417bce=_0x569808[_0x5cc53c(0x102)][_0x648db];}catch(_0x27b45e){await handleError(_0x27b45e,'getCoinNumber()');}return _0x417bce;}async function getOpenOrders(){const _0x33cd04=_0x198f9f;let _0x414c78;allOpenOrders=[];try{for(const _0x5dc949 of config['portfolio']){!_0x5dc949[_0x33cd04(0x241)]&&_0x5dc949[_0x33cd04(0x18d)]!=config[_0x33cd04(0x156)]&&(_0x414c78=await exchange[_0x33cd04(0x18e)](_0x5dc949[_0x33cd04(0x23b)]),_0x414c78[_0x33cd04(0x1d1)]>0x0&&allOpenOrders[_0x33cd04(0x159)](_0x414c78[0x0]));}}catch(_0x94364c){await handleError(_0x94364c,_0x33cd04(0x225));}}async function handleOpenOrders(_0x9a0aa2=0x0){const _0x373476=_0x198f9f;allOpenOrders[_0x373476(0x1d1)]==0x0&&lockOrders==ORDERS[_0x373476(0x1c5)]&&allOrdersPlaced&&(_0x9a0aa2==0x0?(logger[_0x373476(0x199)](_0x373476(0x14d)),_0x9a0aa2++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x373476(0x199)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x373476(0x122))));}async function testAPI(_0x27ba5d){const _0x424801=_0x198f9f,_0x4c00a4=ccxt['pro'][_0x27ba5d[_0x424801(0x1da)][_0x424801(0x22d)]()],_0x1ea4ea=new _0x4c00a4({'apiKey':_0x27ba5d[_0x424801(0x1fe)],'secret':_0x27ba5d['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x424801(0x14c)}});if(_0x27ba5d[_0x424801(0x12b)])_0x1ea4ea[_0x424801(0x262)]=_0x27ba5d[_0x424801(0x12b)];try{await _0x1ea4ea[_0x424801(0x195)]();}catch(_0x574316){throw _0x574316;}}function cloneDeep(_0x450783){const _0xfa1edc=_0x198f9f;return JSON[_0xfa1edc(0x154)](JSON[_0xfa1edc(0x136)](_0x450783));}async function getPortfolio(_0x41d1a9){const _0x58da7a=_0x198f9f;let _0x2f10bf=[],_0x4c3e59=[],_0x4c75c5=[],_0x39ec39;if(_0x41d1a9['apiKey']!==_0x58da7a(0x1b5)||_0x41d1a9[_0x58da7a(0x242)]!==_0x58da7a(0x1b5)||_0x41d1a9[_0x58da7a(0x12b)]&&_0x41d1a9[_0x58da7a(0x12b)]!==_0x58da7a(0x1b5)){if(config[_0x58da7a(0x1da)]){if(_0x41d1a9['apiKey']==_0x58da7a(0x1b5))_0x41d1a9[_0x58da7a(0x1fe)]=config['apiKey'];if(_0x41d1a9[_0x58da7a(0x242)]==_0x58da7a(0x1b5))_0x41d1a9[_0x58da7a(0x242)]=config[_0x58da7a(0x242)];if(_0x41d1a9[_0x58da7a(0x12b)]==_0x58da7a(0x1b5))_0x41d1a9[_0x58da7a(0x12b)]=config[_0x58da7a(0x12b)];try{await testAPI(_0x41d1a9);}catch(_0x5733eb){if(_0x5733eb[_0x58da7a(0x11f)]()['includes'](_0x58da7a(0x15b))){logger['debug'](_0x58da7a(0x13c)),proxyEmit('portfolio',![]);return;}else{handleError(_0x5733eb,_0x58da7a(0x172));return;}}}await initExchange(_0x41d1a9[_0x58da7a(0x1da)],_0x41d1a9[_0x58da7a(0x1fe)],_0x41d1a9[_0x58da7a(0x242)],_0x41d1a9[_0x58da7a(0x12b)]);try{await loadSymbols();}catch(_0x16af80){if(_0x16af80[_0x58da7a(0x11f)]()['includes'](_0x58da7a(0x15b))){proxyEmit(_0x58da7a(0x121),![]);return;}else{handleError(_0x16af80,_0x58da7a(0x1e2));return;}}const _0x4ad75c=await getCoins(![],_0x41d1a9[_0x58da7a(0x156)]);_0x4c75c5=cloneDeep(_0x4ad75c[0x1]);}else _0x4c75c5=cloneDeep(currentCoinsAll);if(_0x41d1a9['basecoin']=='')proxyEmit('portfolio',_0x4c75c5);else{_0x4c75c5[_0x58da7a(0x22e)](_0x1c59a8=>{const _0x204c24=_0x58da7a;if(_0x1c59a8[_0x204c24(0x18d)]!=_0x41d1a9[_0x204c24(0x156)])_0x2f10bf[_0x204c24(0x159)](_0x1c59a8[_0x204c24(0x23b)]);});if(_0x2f10bf[_0x58da7a(0x1d1)]==0x0)logHistory(_0x58da7a(0x1f0),_0x58da7a(0x1f5));else{try{_0x4c3e59=await exchange[_0x58da7a(0x223)](_0x2f10bf);}catch(_0x36316b){if(_0x36316b['toString']()['includes'](_0x58da7a(0x15b))){proxyEmit('portfolio',![]);return;}else{handleError(_0x36316b,_0x58da7a(0x222));return;}}_0x4c75c5[_0x58da7a(0x22e)](_0x5709d2=>{const _0x4c1adc=_0x58da7a;_0x5709d2[_0x4c1adc(0x18d)]!=_0x41d1a9[_0x4c1adc(0x156)]?_0x39ec39=_0x5709d2['reverse']?0x1/_0x4c3e59[_0x5709d2[_0x4c1adc(0x23b)]][_0x4c1adc(0x22f)]:_0x4c3e59[_0x5709d2['symbol']][_0x4c1adc(0x22f)]:_0x39ec39=0x1,_0x5709d2[_0x4c1adc(0x14e)]=formatResult(_0x39ec39,0x8);}),proxyEmit(_0x58da7a(0x121),_0x4c75c5);}}}function truncateTradeAmount(_0x15cc20,_0x1b5beb){let _0x1f1f95=0x0;try{_0x1f1f95=exchange['amountToPrecision'](_0x15cc20,_0x1b5beb);}catch(_0x7152a5){}return _0x1f1f95;}function checkMinimums(_0x2c8f60){const _0x179b17=_0x198f9f;let _0xd63446=!![];const _0x510665=!_0x2c8f60[_0x179b17(0x1ef)]?markets[_0x2c8f60[_0x179b17(0x23b)]][_0x179b17(0x138)][_0x179b17(0x227)][_0x179b17(0x12e)]:markets[_0x2c8f60[_0x179b17(0x23b)]]['limits'][_0x179b17(0x251)]['min'],_0x2c6d07=!_0x2c8f60[_0x179b17(0x1ef)]?markets[_0x2c8f60[_0x179b17(0x23b)]][_0x179b17(0x138)][_0x179b17(0x251)]['min']:markets[_0x2c8f60[_0x179b17(0x23b)]][_0x179b17(0x138)][_0x179b17(0x227)]['min'],_0x1bf272=truncateTradeAmount(_0x2c8f60[_0x179b17(0x23b)],_0x2c8f60[_0x179b17(0x1cd)]);_0x2c8f60[_0x179b17(0x1cd)]=_0x1bf272;if(Math['abs'](_0x1bf272)<_0x510665)_0xd63446=![];if(Math['abs'](_0x1bf272)*_0x2c8f60[_0x179b17(0x22f)]<_0x2c6d07)_0xd63446=![];if(_0x2c8f60[_0x179b17(0xff)]=='sell'){let _0x539dde=config[_0x179b17(0x121)][_0x179b17(0x175)](_0x489f57=>_0x489f57[_0x179b17(0x18d)]==_0x2c8f60[_0x179b17(0x18d)]);if(_0x539dde['offset']>0x0){if(Math[_0x179b17(0xea)](_0x1bf272)>_0x2c8f60[_0x179b17(0x12d)]-_0x539dde[_0x179b17(0xf4)])_0xd63446=![];}else{if(Math[_0x179b17(0xea)](_0x1bf272)>_0x2c8f60[_0x179b17(0x12d)])_0xd63446=![];}}if(_0x2c8f60['side']==_0x179b17(0x1bc)){let _0x1debd1=config[_0x179b17(0x121)][_0x179b17(0x175)](_0x312a4e=>_0x312a4e['coin']==config[_0x179b17(0x156)]),_0x4c6216=currentCoins[_0x179b17(0x175)](_0x5cc2bc=>_0x5cc2bc[_0x179b17(0x18d)]==config[_0x179b17(0x156)]);if(_0x1debd1[_0x179b17(0xf4)]>0x0){if(Math[_0x179b17(0xea)](_0x1bf272)*_0x2c8f60[_0x179b17(0x22f)]>_0x4c6216[_0x179b17(0x12d)]-_0x1debd1[_0x179b17(0xf4)])_0xd63446=![];}else{if(Math[_0x179b17(0xea)](_0x1bf272)*_0x2c8f60[_0x179b17(0x22f)]>_0x4c6216[_0x179b17(0x12d)])_0xd63446=![];}}return _0xd63446;}async function getBalances(_0x350d7f=!![]){const _0x11b839=_0x198f9f;let _0x43bc66=0x0,_0x178c0b;const _0x49c821=config['threshold'];if(config[_0x11b839(0x128)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x11b839(0x22e)](_0x17fc83=>{const _0x1f5ac9=_0x11b839;if(_0x17fc83[_0x1f5ac9(0x18d)]!=config[_0x1f5ac9(0x156)]){let _0x1ac8f8=global[_0x1f5ac9(0x235)][noslash(_0x17fc83['symbol'])];_0x178c0b=_0x17fc83[_0x1f5ac9(0x1ef)]?0x1/_0x1ac8f8:_0x1ac8f8;}else _0x178c0b=0x1;let _0xa50ad2=_0x17fc83[_0x1f5ac9(0x12d)]*_0x178c0b;_0x43bc66+=_0xa50ad2,_0x17fc83['last']=formatResult(Number(_0x178c0b),0x8),_0x17fc83['value']=_0xa50ad2;}),currentCoins[_0x11b839(0x22e)](_0x4af0ca=>{const _0x72649d=_0x11b839;let _0x27ad07=config[_0x72649d(0x121)]['find'](_0x50c962=>_0x50c962['coin']==_0x4af0ca[_0x72649d(0x18d)]),_0x36a658=Number(_0x27ad07[_0x72649d(0x24f)]),_0x1edd78=_0x4af0ca[_0x72649d(0x104)]/_0x43bc66*0x64,_0x5e2a7b=_0x36a658*_0x43bc66/0x64/_0x4af0ca[_0x72649d(0x22f)]-_0x4af0ca[_0x72649d(0x12d)];_0x4af0ca[_0x72649d(0x24f)]=formatResult(_0x1edd78,0x3),_0x4af0ca[_0x72649d(0x1ab)]=formatResult(_0x36a658,0x3),_0x4af0ca[_0x72649d(0x1cd)]=formatResult(_0x5e2a7b,0x8),_0x4af0ca[_0x72649d(0xff)]='',_0x4af0ca['valid']=![];if(_0x4af0ca[_0x72649d(0x18d)]!=config[_0x72649d(0x156)]){if(_0x4af0ca['distribution']>_0x36a658)_0x4af0ca[_0x72649d(0xff)]='sell',_0x4af0ca[_0x72649d(0x187)]=checkMinimums(_0x4af0ca);else _0x4af0ca[_0x72649d(0x24f)]<_0x36a658&&(_0x4af0ca['side']=_0x72649d(0x1bc),_0x4af0ca[_0x72649d(0x187)]=checkMinimums(_0x4af0ca));}_0x4af0ca['delta']=_0x4af0ca[_0x72649d(0x24f)]/_0x4af0ca['target']-0x1;if(_0x4af0ca[_0x72649d(0x134)]==_0x72649d(0x1d2)||_0x4af0ca[_0x72649d(0x134)]==_0x72649d(0x131))_0x4af0ca[_0x72649d(0x134)]=_0x72649d(0xe3);}),currentCoins[_0x11b839(0x1d7)]((_0xd4c8b,_0x782da0)=>_0xd4c8b[_0x11b839(0x19b)]<_0x782da0[_0x11b839(0x19b)]?0x1:_0x782da0['delta']<_0xd4c8b[_0x11b839(0x19b)]?-0x1:0x0);const _0x2cc94e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2cc94e['eur'],'usd':_0x2cc94e[_0x11b839(0x1d4)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x49c821},proxyEmit(_0x11b839(0x1a9),{'serverversion':serverversion,'balances':lastBalances});if(_0x350d7f){if(config[_0x11b839(0x128)])headlessMode({'portfolio':currentCoins,'threshold':_0x49c821});else{if(lockOrders==ORDERS[_0x11b839(0x1ba)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x49c821});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x3185a9=getNormalizedPerformance();getStartingBalances(_0x3185a9),emitPerformance(_0x3185a9);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x197a8d=getNormalizedPerformance();emitPerformance(_0x197a8d),getStartingBalances(_0x197a8d),logger[_0x11b839(0x199)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x39c71b=_0x198f9f;if(!lastBalances)return;let _0x26f899=[],_0x15b78b,_0x54a6b4=JSON['parse'](lastBalances[_0x39c71b(0x121)]);_0x54a6b4['sort']((_0x12c2e3,_0x570b2d)=>_0x12c2e3[_0x39c71b(0x18d)]>_0x570b2d['coin']?0x1:_0x570b2d[_0x39c71b(0x18d)]>_0x12c2e3[_0x39c71b(0x18d)]?-0x1:0x0),_0x54a6b4[_0x39c71b(0x22e)](_0x21ad69=>{const _0x55dda9=_0x39c71b;let _0x10eb9b={'coin':_0x21ad69[_0x55dda9(0x18d)],'number':_0x21ad69[_0x55dda9(0x12d)],'price':_0x21ad69[_0x55dda9(0x22f)]};_0x26f899['push'](_0x10eb9b);});const _0x4e0bdc=await getFiat();_0x15b78b={'date':lastBalances['time'][_0x39c71b(0xf6)]('\x20')[0x0],'eur':_0x4e0bdc[_0x39c71b(0xde)],'usd':_0x4e0bdc['usd'],'coins':_0x26f899};let _0x343df0=dbPerformance[_0x39c71b(0x13e)](_0x39c71b(0x16a))[_0x39c71b(0x175)]({'date':_0x15b78b[_0x39c71b(0x239)]})[_0x39c71b(0x104)]();_0x343df0?_0x15b78b[_0x39c71b(0x239)]!=config['startdate']&&dbPerformance[_0x39c71b(0x13e)]('data')[_0x39c71b(0x175)]({'date':_0x15b78b[_0x39c71b(0x239)]})[_0x39c71b(0x184)](_0x15b78b)[_0x39c71b(0x1b3)]():dbPerformance['get'](_0x39c71b(0x16a))[_0x39c71b(0x159)](_0x15b78b)[_0x39c71b(0x1b3)](),lastPerformanceStored=getHour();}function _0x4f6c(){const _0x2dfbbf=['timeout','***','getMinutes','Order\x20is\x20invalid:\x20','ccxt','2.5.0','basecoinvalue','3230944GyhyAu','test','search','breakeven','sendMetricsTelegram','reverse','error','red_yellow_blue','timeshift','BUSD','lowdb/adapters/FileSync','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','\x20has\x20a\x2024h\x20drop\x20of\x20','16086QQUmGI','watchTransactions','showname','final','performance','Initializing\x20coin\x20results','net-basecoin','apiKey','cancelOrder','/USD','emojibuy','USDP','placeOrder()','fromCodePoint','buys','OrderNotFound',':\x20Bot\x20','substring','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','send',',\x20must\x20be\x20a\x203\x20digit\x20number','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','additional\x20symbols\x20','\x20:\x20','Reset\x20|\x20','yyyy/MM/dd','\x20-\x20bot\x20not\x20started','status','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','timestamp','Executed\x20','initclient','starting-balance-','type','1\x20-\x20Validate\x20orders:\x20','decrypt','has','enabled','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','21378ySqekQ','close','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','\x20API\x20secret\x20is\x20invalid','getPortfolio(2)','fetchTickers','onepagemode','getOpenOrders()','random','amount','loadSymbols()','120139tNmMtR','realized','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Waited\x20','toLowerCase','forEach','last','closed','change24h','parseISO','-results.json','round','ticker','remainingSymbols','Crypt','botID','date','differenceInSeconds','symbol','InvalidNonce','ORDERS.UNLOCKED','Bot\x20','keys','entries','excluded','apiSecret','Initiating\x20exchange\x20reload','getCoins()','set','Fee\x20discount\x20refund\x20detected:\x20','1682456DEpivT','openOrders','storeConfiguration','ongoing','privateKey','sha256','full','restart','distribution','replace','cost','Exchange','yyyy-MM-dd\x27T\x27HH:mm:ss','Insufficient\x20funds\x20to\x20execute\x20order:\x20','OnMaintenance','indexOf','getMonth','EUR','bb-settings.json','toFixed','Binance','sells','Resetting\x20bot\x20history','RequestTimeout','bots','success','starting-balances','password','<b>Bot\x20','./version.json','remove','ordertype','\x20API\x20key\x20is\x20invalid','<b>','sendPortfolioTelegram','2.6.0','findIndex','Unknown\x20error\x20occured','startsWith','BNB/','customId','logs','eur','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','argv','\x20network\x20error','\x20exchange','none','fees','botname','pro','</pre>','startnumber','(((.+)+)+)+$','abs','\x20not\x20available','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','placeOrder','bot','Bybit','Uncaught\x20Exception:','cloneDeep','\x20portfolio:</b>\x20\x0a\x0a','API-key\x20format\x20invalid','offset','\x20value','split','UNLOCKING','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','2\x20-\x20Orders\x20unlocked','watchOrders','/backup/','Saving\x20configuration','getPortfolio','2.3.5','side','net-fiat','recent20','total','time','value',':\x20timer\x20>','initTickers()','Error\x20while\x20deleting\x20files:\x20','-------------------------------\x0a','isEqual','/EUR','startdate','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Manual\x20balancing\x20required','rightTxt','InvalidOrder','orderId','./config/','liquidity','watchTrades','join','NetworkError','Invalid\x20quantity','createOrder','Huobi','cancel','exchanges','loading-canceled','fetchClosedOrders','autoliquidity','exec','toString','\x20change','portfolio','no\x20open\x20orders','ask','3\x20-\x20handling\x20FILLED\x20order:\x20','deleteHistoryAlerts','getHours','initial','headless','change','path','apiPassword','slice','number','min','balancing\x20resumes\x20when\x20cooldown\x20ends','2127587elrvVc','canceled','floor','fiat','orderstatus','constructor','stringify','log','limits','\x20minutes','recreateCoinResults()','version','Invalid\x20API\x20key\x20or\x20secret\x20entered','args','get','Limit\x20(low-margin)','\x20order:\x20','balancing\x20resumed','71811VgDjsG','recovery','string','\x20>\x20[DEBUG]\x20','unlinkSync','2\x20-\x20FILLED\x20unknown\x20order:\x20','stopExchange()','\x20closed\x20the\x20connection','\x20minutes\x20-\x20','30TdNVWS','spot','1\x20-\x20Handle\x20open\x20orders','price','event-history','Net\x20','recreate','active','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','parse','fetchTicker','basecoin','getSeconds','limit-high','push','open','AuthenticationError','1\x20-\x20Unlock\x20orders','existsSync','colorscheme','filter','createWriteStream','RateLimitExceeded','coins','uncaughtException','settings','freeze','highest','0\x20-\x20EXECUTION:\x20','storeFiat','exchange\x20not\x20reloaded','data','kill','<pre>','padStart','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','sell','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','\x20|\x20Custom\x20ID:\x20','getPortfolio(0)','Transaction\x20detection\x20blocked','no\x20additional\x20symbols','find','cancelOrders()','InsufficientFunds','netoffset','Failed\x20to\x20load\x20coin\x20data\x20for\x20','showConfig','startprice','emojisell','leftTxt','Transaction\x20detection\x20unblocked','Portfolio\x20change\x20detected:\x20','Pausing\x20for\x20','BTC','bb-secure.json','mkdirSync','assign','\x20metrics:</b>\x20\x0a\x0a','toUpperCase','valid','\x20|\x20exchange:\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','7EjJZgq','%\x20(','getFullYear','coin','fetchOpenOrders','lowdb','Order\x20filled:\x20','sortBy','page','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','fetchBalance','loadMarkets','progress','configuration','\x20|\x20','debug','USDC','delta','resetHistory','must\x20be\x20greater\x20than\x20minimum\x20amount','currency','BNB','-performance.json','changes','Huobipro','1\x20-\x20FILLED:\x20','splice','/output-000.log','getTime','getAllOrders','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','balances','-config.json','target','limit-low','message','ETH','MIN_NOTIONAL','yargs/yargs','defaults','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','write','Market','************','cooldown','-events.json','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','added','UNLOCKED','ORDERS.UNLOCKING','buy','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','001','Executing\x20exchange\x20reload','threshold','getDate','market','Limit\x20(high-margin)','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','LOCKED','./logs/','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','limit','format','USDT','datetime','order','trade','USD','fee','running','length','filled','getStartingBalances','usd','exchange\x20reloaded','ExchangeNotAvailable','sort','padEnd','175WDOcTc','exchange','ID:\x20','bot-','270ijovQv','function','includes','Order\x20amount\x20is\x20invalid:\x20','event','getPortfolio(1)'];_0x4f6c=function(){return _0x2dfbbf;};return _0x4f6c();}function getNormalizedPerformance(){const _0x2c526d=_0x198f9f;let _0x186d66=[];if(dbPerformance[_0x2c526d(0x21b)](_0x2c526d(0x16a))[_0x2c526d(0x104)]()){let _0xe3f4de=dbPerformance['get'](_0x2c526d(0x16a))[_0x2c526d(0xf1)]()[_0x2c526d(0x15f)](_0xf46dd6=>{const _0x5ad227=_0x2c526d;if(_0xf46dd6['coins'][_0x5ad227(0x1d1)]==0x0)return![];else return!![];})['sortBy'](_0x2c526d(0x239))[_0x2c526d(0x104)](),_0x499995=[...config['liquidity']];_0x499995['sort']((_0x508927,_0x254c6d)=>_0x508927['date']>_0x254c6d[_0x2c526d(0x239)]?-0x1:_0x254c6d['date']>_0x508927[_0x2c526d(0x239)]?0x1:0x0);let _0x59c8bc=0x1,_0xf9d5e=[],_0xe917dd=0x0;_0xe3f4de[_0x2c526d(0x12c)]()['reverse']()[_0x2c526d(0x22e)]((_0x1d3038,_0x295d75)=>{const _0x33a422=_0x2c526d;if(_0x499995[_0xe917dd]){if(_0xe3f4de[_0xe3f4de[_0x33a422(0x1d1)]-_0x295d75]&&_0x499995[_0xe917dd][_0x33a422(0x239)]==_0xe3f4de[_0xe3f4de[_0x33a422(0x1d1)]-_0x295d75][_0x33a422(0x239)]){if(_0x295d75<_0xe3f4de[_0x33a422(0x1d1)]){let _0x4dcbbf=0x0,_0x3d5b03=0x0;_0xe3f4de[_0xe3f4de[_0x33a422(0x1d1)]-_0x295d75][_0x33a422(0x162)][_0x33a422(0x22e)](_0x7fc702=>{const _0x3354c4=_0x33a422;_0x3d5b03+=_0x7fc702[_0x3354c4(0x12d)]*_0x7fc702[_0x3354c4(0x14e)];}),_0x499995[_0xe917dd][_0x33a422(0x1a1)][_0x33a422(0x22e)](_0x407c31=>{const _0x3995fb=_0x33a422;_0x4dcbbf+=_0x407c31['number']*_0x407c31[_0x3995fb(0x14e)];}),_0x59c8bc*=_0x4dcbbf/(_0x3d5b03-_0x4dcbbf)+0x1;}_0xe917dd++;}}let _0x468c93=0x0;_0x1d3038[_0x33a422(0x162)][_0x33a422(0x22e)](_0x3ea79a=>{const _0x1c2cfe=_0x33a422;_0x468c93+=_0x3ea79a[_0x1c2cfe(0x12d)]*_0x3ea79a[_0x1c2cfe(0x14e)];}),_0xf9d5e[_0xe3f4de['length']-_0x295d75-0x1]=_0x468c93*(_0x59c8bc-0x1);});let _0x4b8ef9=[];_0x499995=[...config[_0x2c526d(0x112)]]||[];let _0x4132c9=0x0;_0xe917dd=0x0,_0xe3f4de['forEach']((_0x16d6fb,_0x58a867)=>{const _0x420659=_0x2c526d;if(_0x499995[_0xe917dd]){const _0x4d1066=fns['parse'](_0x499995[_0xe917dd][_0x420659(0x239)],'yyyy/MM/dd',new Date()),_0x713511=fns[_0x420659(0x154)](_0x16d6fb[_0x420659(0x239)],'yyyy/MM/dd',new Date());if(fns[_0x420659(0x109)](_0x4d1066,_0x713511)){let _0x24b962=0x0;_0x499995[_0xe917dd][_0x420659(0x1a1)]['forEach'](_0x8c3ec2=>{const _0x550106=_0x420659;!_0x4b8ef9[_0x8c3ec2[_0x550106(0x18d)]]?_0x4b8ef9[_0x8c3ec2['coin']]=_0x8c3ec2['number']:(_0x24b962=_0x4b8ef9[_0x8c3ec2[_0x550106(0x18d)]],_0x4b8ef9[_0x8c3ec2[_0x550106(0x18d)]]+=_0x8c3ec2[_0x550106(0x12d)]);const _0x18e133=_0x16d6fb['coins']['find'](_0x621529=>_0x621529[_0x550106(0x18d)]==_0x8c3ec2[_0x550106(0x18d)]);(!_0x18e133||_0x18e133[_0x550106(0x12d)]==0x0)&&(_0x4132c9+=(-_0x8c3ec2[_0x550106(0x12d)]-_0x24b962)*_0x8c3ec2['price']);}),_0xe917dd++;}}_0x16d6fb[_0x420659(0x162)][_0x420659(0x22e)]((_0x5ddcb4,_0x5bf8e7)=>{const _0x1aae15=_0x420659;_0x4b8ef9[_0x5ddcb4[_0x1aae15(0x18d)]]&&(_0x5ddcb4[_0x1aae15(0x127)]=_0x4b8ef9[_0x5ddcb4[_0x1aae15(0x18d)]]);}),_0x186d66[_0x420659(0x159)]({'date':_0x16d6fb['date'],'eur':_0x16d6fb[_0x420659(0xde)],'usd':_0x16d6fb['usd'],'offset':_0xf9d5e[_0x58a867],'netoffset':_0x4132c9,'coins':_0x16d6fb[_0x420659(0x162)]});});}return _0x186d66;}function emitPerformance(_0xa074f2){const _0x46b874=_0x198f9f;_0xa074f2['length']!==0x0?(proxyEmit(_0x46b874(0x1fb),_0xa074f2),lastPerformanceEmitted=getDate()):proxyEmit(_0x46b874(0x1fb),[]);}function getPerf(_0x3e0751,_0x4740e1){const _0x3e4c8a=_0x198f9f;let _0x2bbcd4=0x0,_0x5be1b5=0x0,_0x5e078a=0x0;_0x3e0751[_0x3e4c8a(0x162)][_0x3e4c8a(0x22e)](_0x30d9bf=>{const _0x33d938=_0x3e4c8a;_0x2bbcd4+=_0x30d9bf[_0x33d938(0x12d)]*_0x30d9bf[_0x33d938(0x14e)];});_0x4740e1&&(_0x2bbcd4+=_0x3e0751[_0x3e4c8a(0xf4)]);if(config[_0x3e4c8a(0x156)]===_0x3e4c8a(0x181)||config[_0x3e4c8a(0x156)]==='ETH')_0x5be1b5=_0x2bbcd4*_0x3e0751[_0x3e4c8a(0xde)],_0x5e078a=_0x2bbcd4*_0x3e0751[_0x3e4c8a(0x1d4)];else{if(usdBasecoins[_0x3e4c8a(0x1df)](config[_0x3e4c8a(0x156)]))_0x5be1b5=_0x2bbcd4*_0x3e0751[_0x3e4c8a(0xde)]/_0x3e0751[_0x3e4c8a(0x1d4)],_0x5e078a=_0x2bbcd4;else config['basecoin']===_0x3e4c8a(0x258)&&(_0x5be1b5=_0x2bbcd4,_0x5e078a=_0x2bbcd4*_0x3e0751['usd']/_0x3e0751[_0x3e4c8a(0xde)]);}return[_0x2bbcd4,_0x5be1b5,_0x5e078a];}function getKPIs(_0x1edc37,_0x36cc3d='EUR'){const _0x4841d6=_0x198f9f,_0x2d16cb=config['basecoin'],_0x452b47=lastBalances,_0x4b4d08=currentCoins,_0x52c149=getNormalizedPerformance(),_0x2ba304=_0x1edc37==='basecoin'?_0x2d16cb:_0x1edc37==='fiat'||_0x1edc37==='net-fiat'?_0x36cc3d:_0x4841d6(0x150)+_0x2d16cb,_0x22d599=_0x1edc37===_0x4841d6(0x1fd)?'Net\x20effect':_0x1edc37===_0x4841d6(0x100)?'Net\x20effect':_0x2ba304+_0x4841d6(0xf5),_0x150cdc=_0x1edc37==='net-basecoin'||_0x1edc37===_0x4841d6(0x100)?'Net\x20effect':_0x2ba304+_0x4841d6(0x120);let _0x28fbc5=0x0;_0x4b4d08['forEach'](_0x3db72e=>{const _0x3b6642=_0x4841d6;_0x28fbc5+=_0x3db72e['number']*_0x3db72e[_0x3b6642(0x22f)];});if(_0x1edc37===_0x4841d6(0x133)||_0x1edc37==='net-fiat'){if(_0x2d16cb===_0x4841d6(0x181)||_0x2d16cb==='ETH')_0x28fbc5=_0x28fbc5*(_0x36cc3d===_0x4841d6(0x258)?_0x452b47['eur']:_0x452b47[_0x4841d6(0x1d4)]);else{if(usdBasecoins['includes'](_0x2d16cb))_0x28fbc5=_0x28fbc5*(_0x36cc3d===_0x4841d6(0x258)?_0x452b47[_0x4841d6(0xde)]/_0x452b47[_0x4841d6(0x1d4)]:0x1);else _0x2d16cb===_0x4841d6(0x258)&&(_0x28fbc5=_0x28fbc5*(_0x36cc3d==='EUR'?0x1:_0x452b47[_0x4841d6(0x1d4)]/_0x452b47[_0x4841d6(0xde)]));}}let _0x631095;if(_0x28fbc5!==0x0){if(_0x1edc37===_0x4841d6(0x156))_0x631095=(_0x28fbc5/startingBalances['basecoin']-0x1)*0x64;else{if(_0x36cc3d===_0x4841d6(0x258))_0x631095=(_0x28fbc5/startingBalances[_0x4841d6(0xde)]-0x1)*0x64;else _0x631095=(_0x28fbc5/startingBalances[_0x4841d6(0x1d4)]-0x1)*0x64;}let _0x3ffd26=0x0;if(startingBalances['coins'])_0x4b4d08[_0x4841d6(0x22e)](_0x2ebc11=>{const _0x48f7ca=_0x4841d6;let _0xafe413=startingBalances[_0x48f7ca(0x162)][_0x48f7ca(0x175)](_0x56bb58=>_0x56bb58[_0x48f7ca(0x18d)]===_0x2ebc11[_0x48f7ca(0x18d)]);if(_0xafe413&&_0xafe413['coin']&&_0x2ebc11[_0x48f7ca(0x12d)]!==0x0)_0x3ffd26+=_0xafe413[_0x48f7ca(0x12d)]*_0x2ebc11[_0x48f7ca(0x22f)];});let _0x103dcf=0x0;if(_0x52c149['length']!==0x0){let _0x41383b=_0x52c149[_0x52c149[_0x4841d6(0x1d1)]-0x1];_0x103dcf=_0x41383b[_0x4841d6(0x178)];}_0x3ffd26-=_0x103dcf;_0x1edc37===_0x4841d6(0x1fd)&&(_0x631095=(_0x28fbc5-_0x3ffd26)/startingBalances[_0x4841d6(0x156)]*0x64,_0x28fbc5=_0x28fbc5-_0x3ffd26);if(_0x1edc37===_0x4841d6(0x100)){let _0x83b4c9=_0x36cc3d===_0x4841d6(0x258)?startingBalances[_0x4841d6(0xde)]:startingBalances[_0x4841d6(0x1d4)];if(_0x2d16cb===_0x4841d6(0x181)||_0x2d16cb===_0x4841d6(0x1ae))_0x3ffd26=_0x36cc3d===_0x4841d6(0x258)?_0x3ffd26*_0x452b47[_0x4841d6(0xde)]:_0x3ffd26*_0x452b47['usd'];else{if(usdBasecoins[_0x4841d6(0x1df)](_0x2d16cb))_0x3ffd26=_0x36cc3d===_0x4841d6(0x258)?_0x3ffd26*_0x452b47[_0x4841d6(0xde)]/_0x452b47[_0x4841d6(0x1d4)]:_0x3ffd26;else _0x2d16cb===_0x4841d6(0x258)&&(_0x3ffd26=_0x36cc3d===_0x4841d6(0x258)?_0x3ffd26:_0x3ffd26*_0x452b47[_0x4841d6(0x1d4)]/_0x452b47[_0x4841d6(0xde)]);}_0x631095=(_0x28fbc5-_0x3ffd26)/_0x83b4c9*0x64,_0x28fbc5=_0x28fbc5-_0x3ffd26;}if(_0x631095){if(_0x631095<0x64)_0x631095=_0x631095[_0x4841d6(0x25a)](0x2);else{if(_0x631095<0x3e8)_0x631095=_0x631095[_0x4841d6(0x25a)](0x1);else _0x631095=_0x631095['toFixed'](0x0);}}else _0x631095=Number('0')['toFixed'](0x2);if(_0x28fbc5){if(Math['abs'](_0x28fbc5)<0.000001)_0x28fbc5=_0x28fbc5[_0x4841d6(0x25a)](0x2);else{if(Math[_0x4841d6(0xea)](_0x28fbc5)<0.1)_0x28fbc5=_0x28fbc5[_0x4841d6(0x25a)](0x6);else{if(Math[_0x4841d6(0xea)](_0x28fbc5)<0x1)_0x28fbc5=_0x28fbc5[_0x4841d6(0x25a)](0x5);else{if(Math[_0x4841d6(0xea)](_0x28fbc5)<0xa)_0x28fbc5=_0x28fbc5[_0x4841d6(0x25a)](0x4);else{if(Math[_0x4841d6(0xea)](_0x28fbc5)<0x64)_0x28fbc5=_0x28fbc5[_0x4841d6(0x25a)](0x3);else{if(Math[_0x4841d6(0xea)](_0x28fbc5)<0x3e8)_0x28fbc5=_0x28fbc5[_0x4841d6(0x25a)](0x2);else _0x28fbc5=_0x28fbc5['toFixed'](0x2);}}}}}}else _0x28fbc5=Number('0')[_0x4841d6(0x25a)](0x2);}else _0x631095=Number('0')[_0x4841d6(0x25a)](0x2);return{'value':_0x28fbc5,'change':_0x631095,'leftTxt':_0x22d599,'rightTxt':_0x150cdc};}async function getStartingBalances(_0x4cef58,_0x6db243=!![]){const _0x2218c9=_0x198f9f;if(_0x4cef58[_0x2218c9(0x1d1)]!==0x0){const [_0x32938b,_0x4313b2,_0x255859]=getPerf(_0x4cef58[0x0],!![]);let _0x53fae5=[];config[_0x2218c9(0x121)]['forEach'](_0x598f1c=>{const _0x434dde=_0x2218c9;let _0x2ae487=0x0,_0x346fe9;config[_0x434dde(0x112)]['forEach'](_0xadcf7f=>{const _0x378788=_0x434dde;let _0x3021ce=_0xadcf7f[_0x378788(0x1a1)][_0x378788(0x175)](_0x2a0983=>_0x2a0983[_0x378788(0x18d)]==_0x598f1c[_0x378788(0x18d)]);if(_0x3021ce){_0x2ae487+=_0x3021ce['number'];if(!_0x346fe9)_0x346fe9=_0x3021ce[_0x378788(0x14e)];}}),_0x53fae5[_0x434dde(0x159)]({'coin':_0x598f1c[_0x434dde(0x18d)],'number':_0x2ae487,'initialprice':_0x346fe9});});const _0x54aabe={'basecoin':_0x32938b,'eur':_0x4313b2,'usd':_0x255859,'coins':_0x53fae5};if(_0x6db243)proxyEmit(_0x2218c9(0x261),_0x54aabe);startingBalances=_0x54aabe;}}function headlessMode(_0x5b4cc6){const _0x4d0bea=_0x198f9f;let _0x2fcfb0=_0x5b4cc6[_0x4d0bea(0x121)],_0xa823ef=_0x5b4cc6[_0x4d0bea(0x1c0)],_0x2f9ddc=[];for(let _0x28bee7 of _0x2fcfb0){if(_0x28bee7[_0x4d0bea(0x18d)]!=config[_0x4d0bea(0x156)]){if(_0x28bee7['delta']>=_0xa823ef/0x64){if(_0x28bee7['valid'])_0x2f9ddc[_0x4d0bea(0x159)](_0x28bee7);}else{if(_0x28bee7[_0x4d0bea(0x19b)]<=-_0xa823ef/0x64){if(_0x28bee7['valid'])_0x2f9ddc['push'](_0x28bee7);}}}}_0x2f9ddc[_0x4d0bea(0x1d1)]>0x0&&placeOrder(_0x2f9ddc);}function notifyBalance(_0x5f44c7){const _0x5c4076=_0x198f9f;let _0x16f67b=_0x5f44c7['portfolio'],_0x580c7c=_0x5f44c7['threshold'],_0x4806b6=[];for(let _0x2eb96c of _0x16f67b){if(_0x2eb96c[_0x5c4076(0x18d)]!=config[_0x5c4076(0x156)]){if(_0x2eb96c[_0x5c4076(0x19b)]>=_0x580c7c/0x64){if(_0x2eb96c['valid'])_0x4806b6[_0x5c4076(0x159)](_0x2eb96c);}else{if(_0x2eb96c[_0x5c4076(0x19b)]<=-_0x580c7c/0x64){if(_0x2eb96c[_0x5c4076(0x187)])_0x4806b6[_0x5c4076(0x159)](_0x2eb96c);}}}}if(_0x4806b6[_0x5c4076(0x1d1)]>0x0){let _0x422316=_0x4806b6['map'](_0x2069e5=>_0x2069e5[_0x5c4076(0x18d)]);_0x422316['sort']();let _0x4a7a54=_0x422316[_0x5c4076(0x114)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x5c4076(0x10d));lastCoinsToBalance=_0x4a7a54;}}function symbolToCoin(_0x542fa2){const _0x5c1de7=_0x198f9f;let _0x18b1a8;if(_0x542fa2[_0x5c1de7(0x1df)]('/'+config[_0x5c1de7(0x156)]))_0x18b1a8=_0x542fa2['replace']('/'+config['basecoin'],'');if(_0x542fa2[_0x5c1de7(0x1df)](config[_0x5c1de7(0x156)]+'/'))_0x18b1a8=_0x542fa2[_0x5c1de7(0x250)](config[_0x5c1de7(0x156)]+'/','');return _0x18b1a8;}async function unlockOrders(){const _0x792d78=_0x198f9f;if(allOrdersPlaced&&lockOrders==ORDERS[_0x792d78(0x1c5)]){logger[_0x792d78(0x199)](_0x792d78(0x15c)),lockOrders=ORDERS[_0x792d78(0xf7)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x548cad=await getCoins();[currentCoins,currentCoinsAll]=_0x548cad,validateOrdersState=_0x792d78(0x127),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x792d78(0x199)](_0x792d78(0xf9));}}async function validateOrders(_0x322c46){const _0x5b2380=_0x198f9f;if(_0x322c46)validateOrdersState=_0x322c46;logger[_0x5b2380(0x199)](_0x5b2380(0x219)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x5b2380(0x1bb):_0x5b2380(0x23d)));let _0x227493=[],_0x156343=config[_0x5b2380(0x266)]==_0x5b2380(0x1c2)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x5b2380(0x1e3)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x5b2380(0x1c5)])return;logger[_0x5b2380(0x199)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders['forEach'](_0x171de1=>{const _0x33ef2a=_0x5b2380;let _0x1428e4=![];_0x171de1[_0x33ef2a(0x1d2)]>0x0&&(_0x1428e4=!![]),_0x227493['push'](_0x1428e4),_0x1428e4&&config['ordertype']!=_0x33ef2a(0x1c2)&&logHistory(_0x33ef2a(0x1cc),_0x33ef2a(0x190)+_0x171de1['symbol']+'\x20'+_0x171de1[_0x33ef2a(0xff)]+'\x20#'+formatResult(_0x171de1['filled'],0x8)+'\x20@'+formatResult(_0x171de1[_0x33ef2a(0x14e)],0x8));}),_0x227493[_0x5b2380(0x22e)]((_0x4d9b5e,_0x29c445)=>{const _0x3e2b0b=_0x5b2380;if(_0x4d9b5e)lastOrders[_0x3e2b0b(0x1a4)](_0x29c445,0x1);}),persistOpenOrders(lastOrders);const _0x494c43=coolingDown?_0x5b2380(0x12f):_0x5b2380(0x141);if(validateOrdersState==_0x5b2380(0x127)){validateOrdersState='ongoing';if(_0x227493[_0x5b2380(0x1df)](![])){if(config[_0x5b2380(0x266)]==_0x5b2380(0x1c2)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x5b2380(0x24a)){if(_0x227493[_0x5b2380(0x1df)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x5b2380(0x1c2)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x227493[_0x5b2380(0x1df)](![])&&(config[_0x5b2380(0x266)]==_0x5b2380(0x1c2)?logHistory(_0x5b2380(0x260),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x5b2380(0x234)](_0x156343*validateOrderInterval/0xea60)+_0x5b2380(0x14a)+_0x494c43):(await cancelOrders(),logHistory(_0x5b2380(0x260),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x5b2380(0x234)](_0x156343*validateOrderInterval/0xea60)+_0x5b2380(0x14a)+_0x494c43))),await unlockOrders();else{if(validateOrdersState==_0x5b2380(0x122)){if(config[_0x5b2380(0x266)]!=_0x5b2380(0x1c2))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x494c43);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x53aef7=>{const _0x81f7d0=_0x855e;try{const _0x397387=await exchange[_0x81f7d0(0x1ff)](_0x53aef7[_0x81f7d0(0x110)],_0x53aef7['symbol']);}catch(_0x4c427a){if(_0x4c427a[_0x81f7d0(0x11f)]()[_0x81f7d0(0x1df)](_0x81f7d0(0x206))){}else await handleError(_0x4c427a,_0x81f7d0(0x176));}});}async function initCoinResults(_0x1ec99e){const _0x3e2fdf=_0x198f9f;_0x1ec99e?logger[_0x3e2fdf(0x199)]('Resetting\x20coin\x20results:\x20'+_0x1ec99e):logger[_0x3e2fdf(0x199)](_0x3e2fdf(0x1fc)),config['portfolio'][_0x3e2fdf(0x22e)](_0x201840=>{const _0x5acfd7=_0x3e2fdf;if(!_0x201840[_0x5acfd7(0x241)]&&_0x201840['coin']!=config[_0x5acfd7(0x156)]){const _0x2c6430=currentCoins[_0x5acfd7(0x175)](_0x22bb3e=>_0x22bb3e[_0x5acfd7(0x18d)]==_0x201840[_0x5acfd7(0x18d)]),_0x38ee28=global['ticker'][noslash(_0x201840['symbol'])];let _0xc6140c=_0x2c6430?_0x2c6430[_0x5acfd7(0x12d)]:null,_0x13fb58=_0x201840['reverse']?0x1/_0x38ee28:_0x38ee28,_0x4d8892;config['liquidity'][_0x5acfd7(0x22e)](_0x995c9f=>{const _0xc07e2a=_0x5acfd7;!_0x4d8892&&(_0x4d8892=_0x995c9f[_0xc07e2a(0x1a1)][_0xc07e2a(0x175)](_0x55a9e6=>_0x55a9e6[_0xc07e2a(0x18d)]==_0x201840[_0xc07e2a(0x18d)]),_0x4d8892&&(_0xc6140c=_0x4d8892['number'],_0x13fb58=_0x4d8892[_0xc07e2a(0x14e)]));});let _0x17731a=dbCoinResults[_0x5acfd7(0x13e)](_0x5acfd7(0x162))[_0x5acfd7(0x175)]({'coin':_0x201840[_0x5acfd7(0x18d)]})[_0x5acfd7(0x104)]();if(!_0x17731a){const _0xff3c8c={'coin':_0x201840['coin'],'number':_0xc6140c,'breakeven':_0x13fb58,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5acfd7(0x13e)]('coins')[_0x5acfd7(0x159)](_0xff3c8c)['write']();}else{if(_0x1ec99e&&_0x201840[_0x5acfd7(0x18d)]==_0x1ec99e){const _0x3b8e7c={'coin':_0x201840[_0x5acfd7(0x18d)],'number':_0xc6140c,'breakeven':_0x13fb58,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5acfd7(0x13e)](_0x5acfd7(0x162))[_0x5acfd7(0x175)]({'coin':_0x201840[_0x5acfd7(0x18d)]})['assign'](_0x3b8e7c)[_0x5acfd7(0x1b3)]();}}}});}async function updateCoinResults(_0x2a55e2,_0x45e053=![]){const _0x2dff4c=_0x198f9f;let _0x349157,_0x505e10,_0x77a5e6,_0x3364c4,_0x2115ac,_0x576228,_0x4713aa=dbCoinResults[_0x2dff4c(0x13e)](_0x2dff4c(0x162))[_0x2dff4c(0x175)]({'coin':_0x2a55e2[_0x2dff4c(0x18d)]})[_0x2dff4c(0x104)](),_0x1df1f3=![];_0x4713aa&&Object['entries'](_0x4713aa)[_0x2dff4c(0x22e)](([_0x12bfa0,_0xbeaa80])=>{if(_0xbeaa80==null)_0x1df1f3=!![];});(!_0x4713aa||_0x1df1f3)&&(await initCoinResults(_0x2a55e2[_0x2dff4c(0x18d)]),_0x4713aa=dbCoinResults[_0x2dff4c(0x13e)](_0x2dff4c(0x162))[_0x2dff4c(0x175)]({'coin':_0x2a55e2[_0x2dff4c(0x18d)]})['value']());_0x2a55e2[_0x2dff4c(0x1ef)]&&(_0x576228={'filled':_0x2a55e2[_0x2dff4c(0x1d2)]*_0x2a55e2[_0x2dff4c(0x14e)],'amount':_0x2a55e2[_0x2dff4c(0x1d2)]*_0x2a55e2['price'],'side':_0x2a55e2[_0x2dff4c(0xff)]==_0x2dff4c(0x16f)?'buy':_0x2dff4c(0x16f),'price':0x1/_0x2a55e2[_0x2dff4c(0x14e)]},_0x2a55e2={..._0x2a55e2,..._0x576228});_0x45e053?_0x505e10=_0x2a55e2[_0x2dff4c(0xff)]==_0x2dff4c(0x1bc)?_0x4713aa['number']+_0x2a55e2['filled']:_0x4713aa[_0x2dff4c(0x12d)]-_0x2a55e2['filled']:_0x505e10=await getCoinNumber(_0x2a55e2[_0x2dff4c(0x18d)]);if(_0x2a55e2[_0x2dff4c(0x1cf)]&&_0x2a55e2[_0x2dff4c(0x1cf)][_0x2dff4c(0x19e)]==config[_0x2dff4c(0x156)])_0x349157=_0x2a55e2['fee'][_0x2dff4c(0x251)];else{if(_0x2a55e2[_0x2dff4c(0x1cf)]&&_0x2a55e2['fee']['currency']==_0x2dff4c(0x19f)&&!_0x45e053)_0x349157=_0x2a55e2['fee'][_0x2dff4c(0x251)]*global[_0x2dff4c(0x235)][_0x2dff4c(0x19f)+config[_0x2dff4c(0x156)]];else _0x349157=defaultFee*_0x2a55e2[_0x2dff4c(0x1d2)]*_0x2a55e2[_0x2dff4c(0x14e)];}_0x2a55e2[_0x2dff4c(0xff)]==_0x2dff4c(0x1bc)?(_0x77a5e6=_0x505e10!=0x0?(_0x4713aa[_0x2dff4c(0x1ed)]*_0x4713aa[_0x2dff4c(0x12d)]+_0x2a55e2['price']*(_0x505e10-_0x4713aa[_0x2dff4c(0x12d)])+_0x349157)/_0x505e10:0x0,_0x3364c4=_0x4713aa[_0x2dff4c(0x22a)]):(_0x77a5e6=_0x505e10!=0x0?(_0x4713aa[_0x2dff4c(0x1ed)]*_0x4713aa['number']-_0x2a55e2[_0x2dff4c(0x14e)]*(_0x4713aa[_0x2dff4c(0x12d)]-_0x505e10)+_0x349157)/_0x505e10:0x0,_0x3364c4=_0x4713aa[_0x2dff4c(0x22a)]+(_0x2a55e2[_0x2dff4c(0x14e)]-_0x4713aa['breakeven'])*_0x2a55e2[_0x2dff4c(0x1d2)]);_0x2115ac=(_0x2a55e2[_0x2dff4c(0x14e)]-_0x77a5e6-_0x349157/_0x2a55e2[_0x2dff4c(0x1d2)])*_0x505e10;let _0x1b7054={'coin':_0x2a55e2[_0x2dff4c(0x18d)],'number':_0x505e10,'breakeven':formatResult(_0x77a5e6,0x8),'realized':formatResult(_0x3364c4,0x8),'unrealized':formatResult(_0x2115ac,0x8),'fees':formatResult(_0x4713aa[_0x2dff4c(0xe4)]+_0x349157,0x8),'sells':_0x2a55e2['side']==_0x2dff4c(0x16f)?_0x4713aa[_0x2dff4c(0x25c)]+0x1:_0x4713aa['sells'],'buys':_0x2a55e2[_0x2dff4c(0xff)]==_0x2dff4c(0x1bc)?_0x4713aa[_0x2dff4c(0x205)]+0x1:_0x4713aa[_0x2dff4c(0x205)]};dbCoinResults['get'](_0x2dff4c(0x162))[_0x2dff4c(0x175)]({'coin':_0x2a55e2[_0x2dff4c(0x18d)]})[_0x2dff4c(0x184)](_0x1b7054)[_0x2dff4c(0x1b3)]();if(!_0x45e053){if(_0x2a55e2[_0x2dff4c(0x1cf)]&&_0x2a55e2[_0x2dff4c(0x1cf)][_0x2dff4c(0x19e)]==_0x2dff4c(0x19f)){const _0x2637b3=currentCoins[_0x2dff4c(0x175)](_0x5616dc=>_0x5616dc[_0x2dff4c(0x18d)]==_0x2dff4c(0x19f));if(_0x2637b3){let _0x4cc71c=dbCoinResults['get'](_0x2dff4c(0x162))[_0x2dff4c(0x175)]({'coin':_0x2dff4c(0x19f)})[_0x2dff4c(0x104)]();_0x1b7054={..._0x4cc71c,'number':_0x2637b3[_0x2dff4c(0x12d)]},dbCoinResults[_0x2dff4c(0x13e)](_0x2dff4c(0x162))[_0x2dff4c(0x175)]({'coin':_0x2dff4c(0x19f)})[_0x2dff4c(0x184)](_0x1b7054)[_0x2dff4c(0x1b3)]();}}}}async function placeOrder(_0x37b04f){const _0x8e3e9a=_0x198f9f,_0x5ecfc2=config[_0x8e3e9a(0x266)]==_0x8e3e9a(0x1c2)?'market':'limit';if(lockOrders==ORDERS[_0x8e3e9a(0x1ba)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x8e3e9a(0x127);let _0x3b6d40=![];lastOrders=[];for(const _0x2d0b54 of _0x37b04f){let _0x2bfd06,_0x10f22d,_0x386cd1,_0x393f0c,_0x4deebb,_0x11299f=_0x2d0b54[_0x8e3e9a(0x23b)];try{const _0x3965cf=await exchange['fetchTicker'](_0x11299f);_0x2bfd06=_0x2d0b54[_0x8e3e9a(0x1ef)]?0x1/_0x2d0b54[_0x8e3e9a(0x22f)]:_0x2d0b54[_0x8e3e9a(0x22f)],_0x10f22d=_0x3965cf['bid'],_0x386cd1=_0x3965cf[_0x8e3e9a(0x123)];_0x2d0b54['reverse']?(_0x393f0c=_0x2d0b54['side']=='buy'?_0x8e3e9a(0x16f):_0x8e3e9a(0x1bc),_0x4deebb=Math['abs'](_0x2d0b54[_0x8e3e9a(0x1cd)])/_0x2bfd06):(_0x393f0c=_0x2d0b54[_0x8e3e9a(0xff)],_0x4deebb=Math[_0x8e3e9a(0xea)](_0x2d0b54['trade']));_0x5ecfc2==_0x8e3e9a(0x1c8)&&(config['ordertype']==_0x8e3e9a(0x158)&&(_0x2bfd06=_0x393f0c==_0x8e3e9a(0x1bc)?_0x10f22d:_0x386cd1),config[_0x8e3e9a(0x266)]==_0x8e3e9a(0x1ac)&&(_0x2bfd06=_0x393f0c==_0x8e3e9a(0x1bc)?_0x386cd1:_0x10f22d));_0x4deebb=formatResult(_0x4deebb,0x8),_0x2bfd06=formatResult(_0x2bfd06,0x8);const _0x5ad528=_0x393f0c==_0x8e3e9a(0x16f)?config[_0x8e3e9a(0x17c)]?String[_0x8e3e9a(0x204)]('0x'+config['emojisell'])+'\x20':'':config[_0x8e3e9a(0x201)]?String['fromCodePoint']('0x'+config[_0x8e3e9a(0x201)])+'\x20':'',_0x4ac945=_0x5ecfc2=='market'?_0x8e3e9a(0x1b4):config['ordertype']==_0x8e3e9a(0x158)?_0x8e3e9a(0x1c3):_0x8e3e9a(0x13f),_0xeda7dd=(Math[_0x8e3e9a(0x132)](Math[_0x8e3e9a(0x226)]()*0x35a4e900)+0x5f5e100)[_0x8e3e9a(0x11f)]();lastOrders[_0x8e3e9a(0x159)]({'customId':_0xeda7dd,'symbol':_0x11299f,'coin':_0x2d0b54[_0x8e3e9a(0x18d)],'amount':_0x4deebb,'price':_0x2bfd06,'side':_0x393f0c,'reverse':_0x2d0b54['reverse'],'filled':0x0});if(_0x5ecfc2==_0x8e3e9a(0x1c2))logHistory('order',''+_0x5ad528+_0x4ac945+'\x20order:\x20'+_0x11299f+'\x20'+_0x393f0c+'\x20#'+formatResult(_0x4deebb,0x8)+'\x20@'+formatResult(_0x2bfd06,0x8));else logHistory(_0x8e3e9a(0x1cc),''+_0x5ad528+_0x4ac945+_0x8e3e9a(0x140)+_0x11299f+'\x20'+_0x393f0c+'\x20#'+formatResult(_0x4deebb,0x8)+'\x20@'+formatResult(_0x2bfd06,0x8));let _0x329d6e;_0x5ecfc2==_0x8e3e9a(0x1c2)?_0x393f0c==_0x8e3e9a(0x1bc)&&[_0x8e3e9a(0xef),'Bitget','Cex',_0x8e3e9a(0x118),_0x8e3e9a(0x1a2)][_0x8e3e9a(0x1df)](config['exchange'])?_0x329d6e=await exchange['createOrder'](_0x11299f,_0x5ecfc2,_0x393f0c,_0x4deebb,_0x2bfd06):_0x329d6e=await exchange[_0x8e3e9a(0x117)](_0x11299f,_0x5ecfc2,_0x393f0c,_0x4deebb,undefined):_0x329d6e=await exchange[_0x8e3e9a(0x117)](_0x11299f,_0x5ecfc2,_0x393f0c,_0x4deebb,_0x2bfd06);logger[_0x8e3e9a(0x199)](_0x8e3e9a(0x1db)+_0x329d6e['id']+_0x8e3e9a(0x171)+_0xeda7dd);const _0x3210b6=lastOrders[_0x8e3e9a(0x1d1)]-0x1;if(_0x3210b6>=0x0&&lastOrders[_0x3210b6][_0x8e3e9a(0x26f)]==_0xeda7dd){lastOrders[_0x3210b6][_0x8e3e9a(0x110)]=_0x329d6e['id'];if(_0x329d6e[_0x8e3e9a(0x227)])lastOrders[_0x3210b6][_0x8e3e9a(0x227)]=_0x329d6e[_0x8e3e9a(0x227)];if(_0x329d6e['price'])lastOrders[_0x3210b6][_0x8e3e9a(0x14e)]=_0x329d6e[_0x8e3e9a(0x14e)];lastOrders[_0x3210b6]['fee']=_0x329d6e['fee'];}if(config[_0x8e3e9a(0x1b6)]!=0x0){let _0x1fb929=null;if(cooldownTracker[_0x8e3e9a(0x1d1)]==config[_0x8e3e9a(0x1b6)]-0x1)_0x1fb929=cooldownTracker['shift']();const _0x166f5d=getTimeStamp();cooldownTracker[_0x8e3e9a(0x159)](_0x166f5d);if(_0x1fb929){const _0x40ba5b=fns[_0x8e3e9a(0x23a)](new Date(_0x166f5d),new Date(_0x1fb929));if(_0x40ba5b<cooldownInterval){logHistory(_0x8e3e9a(0x1f0),_0x8e3e9a(0x215)+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x8e3e9a(0x1c7)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x27f50f){if(_0x27f50f['toString']()[_0x8e3e9a(0x1df)](_0x8e3e9a(0x1af)))lastOrders=lastOrders[_0x8e3e9a(0x15f)](_0x276872=>_0x276872[_0x8e3e9a(0x23b)]!=_0x11299f),logHistory(_0x8e3e9a(0x1f0),_0x8e3e9a(0x189)+_0x11299f),_0x3b6d40=!![];else{if(_0x27f50f[_0x8e3e9a(0x11f)]()[_0x8e3e9a(0x1df)](_0x8e3e9a(0x116)))lastOrders=lastOrders[_0x8e3e9a(0x15f)](_0x16997f=>_0x16997f['symbol']!=_0x11299f),logHistory(_0x8e3e9a(0x1f0),_0x8e3e9a(0x1e0)+_0x11299f),_0x3b6d40=!![];else{if(_0x27f50f['toString']()['includes'](_0x8e3e9a(0x10f)))lastOrders=lastOrders[_0x8e3e9a(0x15f)](_0x55098f=>_0x55098f[_0x8e3e9a(0x23b)]!=_0x11299f),logHistory(_0x8e3e9a(0x1f0),_0x8e3e9a(0x1e6)+_0x11299f),logger[_0x8e3e9a(0x199)](_0x27f50f),_0x3b6d40=!![];else _0x27f50f[_0x8e3e9a(0x11f)]()[_0x8e3e9a(0x1df)](_0x8e3e9a(0x19d))?(lastOrders=lastOrders['filter'](_0x17edb5=>_0x17edb5['symbol']!=_0x11299f),logHistory('error',_0x8e3e9a(0x189)+_0x11299f),_0x3b6d40=!![]):(lastOrders=lastOrders[_0x8e3e9a(0x15f)](_0x593750=>_0x593750[_0x8e3e9a(0x23b)]!=_0x11299f),await handleError(_0x27f50f,_0x8e3e9a(0x203),_0x11299f));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x8e3e9a(0x1d1)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x38b0a9=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x8e3e9a(0x1e3)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3603cd=_0x8e3e9a;validateOrders(_0x3603cd(0x1fa));},_0x38b0a9);}else unlockOrders();_0x3b6d40&&config[_0x8e3e9a(0x128)]&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x8e3e9a(0x260),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x8e3e9a(0x128)]&&logHistory(_0x8e3e9a(0x1f0),_0x8e3e9a(0x1b8));else lockOrders!=ORDERS[_0x8e3e9a(0x1ba)]&&(!config[_0x8e3e9a(0x128)]&&(config['ordertype']==_0x8e3e9a(0x1c2)?logHistory(_0x8e3e9a(0x1f0),_0x8e3e9a(0x16e)):logHistory(_0x8e3e9a(0x1f0),_0x8e3e9a(0x213))));}}function persistOpenOrders(_0x11a402){const _0xcb857d=_0x198f9f,_0x123956={...config,'openOrders':_0x11a402};let _0x22a722=dbConfig[_0xcb857d(0x13e)]('bot')[_0xcb857d(0x175)]({'botID':botID})['value']();_0x22a722&&dbConfig['get'](_0xcb857d(0xee))[_0xcb857d(0x175)]({'botID':botID})['assign'](_0x123956)[_0xcb857d(0x1b3)]();}function restoreOrders(){const _0x2e2e1e=_0x198f9f;let _0x4467cc;config[_0x2e2e1e(0x248)]&&allOpenOrders[_0x2e2e1e(0x22e)](_0x669180=>{const _0x49eb15=_0x2e2e1e,_0x20ef80=config[_0x49eb15(0x248)][_0x49eb15(0x175)](_0x252b1e=>_0x252b1e[_0x49eb15(0x110)]==_0x669180['id']);_0x20ef80&&(lastOrders[_0x49eb15(0x159)](_0x20ef80),_0x4467cc=_0x669180[_0x49eb15(0x214)]);});if(lastOrders[_0x2e2e1e(0x1d1)]>0x0){lockOrders=ORDERS[_0x2e2e1e(0x1c5)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x13a80f=new Date()[_0x2e2e1e(0x1a6)](),_0x487fe8=config[_0x2e2e1e(0x266)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x4467cc+_0x487fe8>_0x13a80f){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x4467cc+_0x487fe8-_0x13a80f);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x45514=_0x198f9f;if(!coinsLoaded){process[_0x45514(0x20a)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x1126c5=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x428d5e='';if(config['showname'])_0x428d5e=_0x45514(0x268)+config[_0x45514(0xe5)]+_0x45514(0x185);else _0x428d5e=_0x45514(0x263)+botID+_0x45514(0x185);const _0x29f886=getKPIs(_0x45514(0x156)),_0x13c7c3=getKPIs(_0x45514(0x133),config[_0x45514(0x133)]),_0x16bde5=getKPIs(_0x45514(0x1fd)),_0x26bdb3=getKPIs('net-fiat',config[_0x45514(0x133)]);_0x428d5e+=_0x45514(0x16c),_0x428d5e+=_0x29f886[_0x45514(0x17d)]+_0x45514(0x20e)+_0x29f886[_0x45514(0x104)]+'\x0a',_0x428d5e+=_0x29f886[_0x45514(0x10e)]+':\x20'+_0x29f886[_0x45514(0x129)]+'%\x0a',_0x428d5e+=_0x13c7c3['leftTxt']+_0x45514(0x20e)+_0x13c7c3['value']+'\x0a',_0x428d5e+=_0x13c7c3['rightTxt']+':\x20'+_0x13c7c3[_0x45514(0x129)]+'%\x0a',_0x428d5e+=_0x16bde5[_0x45514(0x17d)]+':\x20'+_0x16bde5[_0x45514(0x104)]+'\x20('+config['basecoin']+')\x0a',_0x428d5e+=_0x16bde5[_0x45514(0x10e)]+':\x20'+_0x16bde5[_0x45514(0x129)]+_0x45514(0x18b)+config['basecoin']+')\x0a',_0x428d5e+=_0x26bdb3[_0x45514(0x17d)]+':\x20'+_0x26bdb3[_0x45514(0x104)]+'\x20('+config[_0x45514(0x133)]+')\x0a',_0x428d5e+=_0x26bdb3[_0x45514(0x10e)]+':\x20'+_0x26bdb3['change']+_0x45514(0x18b)+config[_0x45514(0x133)]+')\x0a',_0x428d5e+='</pre>',process[_0x45514(0x20a)]({'telegrammsg':_0x428d5e},_0x113baf=>{});}async function sendPortfolioTelegram(){const _0x5810af=_0x198f9f;if(!coinsLoaded){process[_0x5810af(0x20a)]({'telegrammsg':_0x5810af(0x21d)},_0x421933=>{});return;}let _0x20798b='';if(config[_0x5810af(0x1f9)])_0x20798b=_0x5810af(0x268)+config[_0x5810af(0xe5)]+_0x5810af(0xf2);else _0x20798b=_0x5810af(0x263)+botID+_0x5810af(0xf2);_0x20798b+=_0x5810af(0x16c),_0x20798b+=_0x5810af(0x108),_0x20798b+=_0x5810af(0x1b2),_0x20798b+=_0x5810af(0x108),currentCoins['forEach'](_0x2ba362=>{const _0x465ccc=_0x5810af;_0x20798b+=_0x2ba362['coin'][_0x465ccc(0x1d8)](0x7)+'|\x20'+formatPad(_0x2ba362[_0x465ccc(0x24f)],0x2,0x6)+'|\x20'+formatPad(_0x2ba362[_0x465ccc(0x1ab)],0x2,0x6)+'|\x20'+formatPad(_0x2ba362[_0x465ccc(0x19b)]*0x64,0x2,0x6)+'\x0a';}),_0x20798b+=_0x5810af(0xe7),process['send']({'telegrammsg':_0x20798b},_0x6895fa=>{});}function formatPad(_0x98d195,_0x1db26d,_0x440275){const _0x17e758=_0x198f9f,_0x5cfa90=formatResultString(_0x98d195,_0x1db26d);return _0x5cfa90?_0x5cfa90['padStart'](_0x440275):''[_0x17e758(0x16d)](_0x440275);}function logHistory(_0xd4eb8b,_0x254a4a,_0x13cdf7=''){const _0x178bde=_0x198f9f;let _0x1623c3={'time':getTimeStamp(),'type':_0xd4eb8b,'event':_0x254a4a};dbLogs['get'](_0x178bde(0xdd))[_0x178bde(0x159)](_0x1623c3)['write']();if(_0x13cdf7=='')_0x13cdf7=_0x254a4a;proxyEmit(_0x178bde(0x1e1),{'log':_0x1623c3,'summary':_0x13cdf7}),process['send']({'telegram':{..._0x1623c3,'botname':config[_0x178bde(0xe5)],'showname':config[_0x178bde(0x1f9)]}},_0x405a64=>{}),logger['full'](''+_0x1623c3['event']);}function emitHistory(_0x451d40={}){const _0x44772c=_0x198f9f;Object[_0x44772c(0x23f)](_0x451d40)[_0x44772c(0x1d1)]==0x0&&(_0x451d40={'type':[_0x44772c(0x1cc),_0x44772c(0x1e1)],'event':'','page':0x1});if(_0x451d40['type'][_0x44772c(0x1df)]('event'))_0x451d40[_0x44772c(0x218)][_0x44772c(0x1a4)](_0x451d40[_0x44772c(0x218)]['indexOf'](_0x44772c(0x1e1)),0x1,_0x44772c(0x1f0),'warning',_0x44772c(0x260));if(dbLogs[_0x44772c(0x21b)]('logs')[_0x44772c(0x104)]()){let _0x52dddc=dbLogs['get']('logs')[_0x44772c(0x15f)](_0x52bcd7=>{const _0x2be106=_0x44772c;if(_0x451d40[_0x2be106(0x218)][_0x2be106(0x1d1)]==0x0)return![];else return _0x451d40['type']['includes'](_0x52bcd7[_0x2be106(0x218)]);})[_0x44772c(0x15f)](_0x1c00fe=>{const _0x5e6f3c=_0x44772c;if(_0x451d40['event']=='')return!![];else return _0x1c00fe[_0x5e6f3c(0x1e1)][_0x5e6f3c(0x22d)]()['includes'](_0x451d40[_0x5e6f3c(0x1e1)][_0x5e6f3c(0x22d)]());})['sortBy'](_0x44772c(0x103)),_0x4e5521=_0x52dddc[_0x44772c(0x104)]()[_0x44772c(0x1d1)];_0x52dddc=_0x52dddc[_0x44772c(0x1ef)]()['slice']((_0x451d40[_0x44772c(0x192)]-0x1)*logPageSize,_0x451d40[_0x44772c(0x192)]*logPageSize-0x1)[_0x44772c(0x1ef)]()[_0x44772c(0x104)](),proxyEmit(_0x44772c(0x14f),{'logs':_0x52dddc,'total':_0x4e5521});}else proxyEmit(_0x44772c(0x14f),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x39d18d){const _0x47ceec=_0x198f9f;if(dbLogs[_0x47ceec(0x21b)](_0x47ceec(0xdd))['value']()){const _0x2c00fd=dbLogs[_0x47ceec(0x13e)](_0x47ceec(0xdd))[_0x47ceec(0x191)]('time')[_0x47ceec(0x15f)](_0x5a4ca1=>{const _0x3ec05b=_0x47ceec;return _0x5a4ca1[_0x3ec05b(0x218)]==_0x3ec05b(0x1cc);})[_0x47ceec(0x104)]();dbLogs[_0x47ceec(0x13e)](_0x47ceec(0xdd))[_0x47ceec(0x265)]()['write'](),dbLogs[_0x47ceec(0x13e)](_0x47ceec(0xdd))[_0x47ceec(0x184)](_0x2c00fd)[_0x47ceec(0x1b3)](),emitHistory(_0x39d18d);}}async function pauseBot(_0x4a0d0c=''){const _0x297d60=_0x198f9f,_0xd0716c=new Date()[_0x297d60(0x1a6)]();if(!lastErrorShown||_0xd0716c-lastErrorShown>=pauseBotInterval){lastErrorShown=_0xd0716c;!lastBotPause?(lastBotPause=_0xd0716c,consecutivePauses=0x1):(_0xd0716c-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x297d60(0x20a)]({'stop':_0x297d60(0x24e)},_0x43eb38=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x297d60(0x1a6)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x4a0d0c)_0x4a0d0c+=_0x297d60(0x198);logHistory(_0x297d60(0x1f0),_0x4a0d0c+_0x297d60(0x180)+pauseBotInterval/0xea60+_0x297d60(0x139)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x2b0927=_0x198f9f;process[_0x2b0927(0x20a)]({'stop':_0x2b0927(0x16b)},_0x586b0d=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5f4e74,_0x5e02eb){const _0x1940c2=_0x198f9f,_0x3ce792=config[_0x1940c2(0x1da)]||_0x1940c2(0x252);if(_0x5f4e74['toString']()[_0x1940c2(0x1df)](_0x1940c2(0xf3)))logHistory(_0x1940c2(0x1f0),_0x3ce792+_0x1940c2(0x193));else{if(_0x5f4e74[_0x1940c2(0x11f)]()[_0x1940c2(0x1df)](_0x1940c2(0x22b)))logHistory('error',_0x3ce792+_0x1940c2(0x1bd));else{if(_0x5f4e74['toString']()[_0x1940c2(0x1df)](_0x1940c2(0x15b)))logHistory(_0x1940c2(0x1f0),_0x3ce792+_0x1940c2(0xf8)),logHistory(_0x1940c2(0x1f0),_0x1940c2(0x1c4));else{await handleError(_0x5f4e74,_0x5e02eb);return;}}}logger[_0x1940c2(0x199)]('\x20Error\x20details\x20|\x20'+_0x5e02eb+':',_0x5f4e74);}async function handleError(_0xae6818,_0x3d9af8,_0x5e248c=''){const _0x403c2b=_0x198f9f,_0x5dc7e2=config[_0x403c2b(0x1da)]||_0x403c2b(0x252);logger['debug']('\x20Error\x20details\x20|\x20'+_0x3d9af8+':',_0xae6818);if(_0xae6818['toString']()[_0x403c2b(0x1df)]('DDoSProtection')||_0xae6818[_0x403c2b(0x11f)]()[_0x403c2b(0x1df)](_0x403c2b(0x161)))await pauseBot(_0x5dc7e2+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0xae6818[_0x403c2b(0x11f)]()[_0x403c2b(0x1df)](_0x403c2b(0x1d6))||_0xae6818['toString']()[_0x403c2b(0x1df)](_0x403c2b(0x255)))await pauseBot(_0x5dc7e2+_0x403c2b(0xeb));else{if(_0xae6818[_0x403c2b(0x11f)]()[_0x403c2b(0x1df)](_0x403c2b(0x25e)))await pauseBot(_0x5dc7e2+'\x20not\x20responding');else{if(_0xae6818[_0x403c2b(0x11f)]()['includes'](_0x403c2b(0xdf)))await pauseBot(_0x5dc7e2+_0x403c2b(0x149));else{if(_0xae6818[_0x403c2b(0x11f)]()[_0x403c2b(0x1df)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x403c2b(0x1f0),'Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x403c2b(0x153)),await killBot();else{if(_0xae6818[_0x403c2b(0x11f)]()[_0x403c2b(0x1df)](_0x403c2b(0x23c)))logHistory(_0x403c2b(0x1f0),'API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x403c2b(0x153)),await killBot();else{if(_0xae6818 instanceof ccxt[_0x403c2b(0x115)])await pauseBot(_0x5dc7e2+_0x403c2b(0xe1));else{if(_0xae6818[_0x403c2b(0x11f)]()[_0x403c2b(0x1df)]('API-key\x20format\x20invalid'))logHistory('error',_0x5dc7e2+_0x403c2b(0x267)),logHistory('error',_0x403c2b(0x153)),await killBot();else{if(_0xae6818[_0x403c2b(0x11f)]()['includes'](_0x403c2b(0x22b)))logHistory(_0x403c2b(0x1f0),_0x5dc7e2+_0x403c2b(0x221)),logHistory(_0x403c2b(0x1f0),_0x403c2b(0x153)),await killBot();else{if(_0xae6818['toString']()[_0x403c2b(0x1df)](_0x403c2b(0x15b)))logHistory(_0x403c2b(0x1f0),_0x5dc7e2+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x403c2b(0x1f0),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xae6818[_0x403c2b(0x11f)]()[_0x403c2b(0x1df)](_0x403c2b(0x177)))logHistory(_0x403c2b(0x1f0),_0x403c2b(0x254)+_0x5e248c);else _0xae6818 instanceof ccxt['ExchangeError']?logHistory(_0x403c2b(0x1f0),_0x5dc7e2+'\x20exchange\x20error'):await pauseBot(_0x403c2b(0x26c));}}}}}}}}}}}function formatResult(_0x2239c5,_0x2433cc){const _0x2e2a39=_0x198f9f;return parseFloat(_0x2239c5[_0x2e2a39(0x25a)](_0x2433cc));}function formatResultTruncate(_0x44d632,_0x1e8806){const _0x5cdc09=_0x198f9f;let _0x3ea036=formatResultString(_0x44d632,0xa),_0x11caea=_0x3ea036[_0x5cdc09(0x256)]('.');return _0x11caea!=-0x1&&(_0x3ea036=_0x3ea036[_0x5cdc09(0x12c)](0x0,_0x11caea+_0x1e8806+0x1)),Number(_0x3ea036);}function _0x855e(_0x1d0795,_0x4d7b49){const _0x144184=_0x4f6c();return _0x855e=function(_0x323513,_0x404222){_0x323513=_0x323513-0xdd;let _0x4f6cd2=_0x144184[_0x323513];return _0x4f6cd2;},_0x855e(_0x1d0795,_0x4d7b49);}function formatResultString(_0x296de8,_0xe86b59){const _0x1e3346=_0x198f9f;let _0x36708e;if(!(''+_0x296de8)[_0x1e3346(0x1df)]('e'))_0x36708e=+(Math[_0x1e3346(0x234)](_0x296de8+'e+'+_0xe86b59)+'e-'+_0xe86b59);else{let _0x5a4216=(''+_0x296de8)[_0x1e3346(0xf6)]('e'),_0x4dc969='';+_0x5a4216[0x1]+_0xe86b59>0x0&&(_0x4dc969='+'),_0x36708e=+(Math[_0x1e3346(0x234)](+_0x5a4216[0x0]+'e'+_0x4dc969+(+_0x5a4216[0x1]+_0xe86b59))+'e-'+_0xe86b59);}return Number(_0x36708e)[_0x1e3346(0x25a)](_0xe86b59);}function getServerTime(){const _0x214166=_0x198f9f,_0x162231=new Date();return _0x162231[_0x214166(0x18c)]()+'/'+(_0x162231['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x162231[_0x214166(0x1c1)]()['toString']()[_0x214166(0x16d)](0x2,'0')+'\x20'+_0x162231['getHours']()['toString']()[_0x214166(0x16d)](0x2,'0')+':'+_0x162231[_0x214166(0x1e5)]()[_0x214166(0x11f)]()[_0x214166(0x16d)](0x2,'0')+':'+_0x162231[_0x214166(0x157)]()[_0x214166(0x11f)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4376b7=_0x198f9f,_0x5033fa=shiftedTime();return _0x5033fa[_0x4376b7(0x18c)]()+'/'+(_0x5033fa[_0x4376b7(0x257)]()+0x1)[_0x4376b7(0x11f)]()[_0x4376b7(0x16d)](0x2,'0')+'/'+_0x5033fa[_0x4376b7(0x1c1)]()['toString']()[_0x4376b7(0x16d)](0x2,'0')+'\x20'+_0x5033fa[_0x4376b7(0x126)]()['toString']()[_0x4376b7(0x16d)](0x2,'0')+':'+_0x5033fa[_0x4376b7(0x1e5)]()[_0x4376b7(0x11f)]()[_0x4376b7(0x16d)](0x2,'0')+':'+_0x5033fa['getSeconds']()[_0x4376b7(0x11f)]()[_0x4376b7(0x16d)](0x2,'0');}function getDate(){const _0x1f7d2b=_0x198f9f,_0x6d8894=shiftedTime();return _0x6d8894[_0x1f7d2b(0x18c)]()+'/'+(_0x6d8894['getMonth']()+0x1)[_0x1f7d2b(0x11f)]()[_0x1f7d2b(0x16d)](0x2,'0')+'/'+_0x6d8894['getDate']()['toString']()[_0x1f7d2b(0x16d)](0x2,'0');}function getHour(){const _0x51538a=_0x198f9f,_0x91b049=shiftedTime();return _0x91b049[_0x51538a(0x126)]()[_0x51538a(0x11f)]()['padStart'](0x2,'0');}function sleep(_0x1d6e36){return new Promise(_0x1c3122=>setTimeout(_0x1c3122,_0x1d6e36));}function shiftedTime(){const _0x24f269=_0x198f9f,_0x41feb2=new Date();let _0x459141=_0x41feb2;if(config&&config[_0x24f269(0x1f2)]!==0x0)_0x459141=fns['add'](_0x41feb2,{'hours':config[_0x24f269(0x1f2)]});return _0x459141;}function timer(_0x43f4eb){const _0x21fd1a=_0x198f9f,_0x266032=new Date();!lasttime?console[_0x21fd1a(0x137)](getTimeStamp()+_0x21fd1a(0x105),_0x43f4eb,_0x266032):console[_0x21fd1a(0x137)](getTimeStamp()+':\x20timer\x20>',_0x43f4eb,(_0x266032-lasttime)/0x3e8),lasttime=_0x266032;}