const _0x3f47f9=_0x98c7;(function(_0x207ea9,_0x250020){const _0x3cd00d=_0x98c7,_0x3742a5=_0x207ea9();while(!![]){try{const _0x34ceed=parseInt(_0x3cd00d(0x252))/0x1+-parseInt(_0x3cd00d(0x212))/0x2+-parseInt(_0x3cd00d(0x173))/0x3*(-parseInt(_0x3cd00d(0x1c5))/0x4)+-parseInt(_0x3cd00d(0x23a))/0x5+parseInt(_0x3cd00d(0x14f))/0x6*(parseInt(_0x3cd00d(0x11d))/0x7)+parseInt(_0x3cd00d(0x24b))/0x8+-parseInt(_0x3cd00d(0x17f))/0x9*(parseInt(_0x3cd00d(0x26c))/0xa);if(_0x34ceed===_0x250020)break;else _0x3742a5['push'](_0x3742a5['shift']());}catch(_0x35e636){_0x3742a5['push'](_0x3742a5['shift']());}}}(_0xd741,0x77248));const _0x3e67f4=function(){let _0x305a7f=!![];return function(_0x455853,_0x702553){const _0x188f43=_0x305a7f?function(){const _0x2aa7f2=_0x98c7;if(_0x702553){const _0x40272c=_0x702553[_0x2aa7f2(0x1f7)](_0x455853,arguments);return _0x702553=null,_0x40272c;}}:function(){};return _0x305a7f=![],_0x188f43;};}(),_0xafe3f7=_0x3e67f4(this,function(){const _0x2f6ab3=_0x98c7;return _0xafe3f7[_0x2f6ab3(0x239)]()[_0x2f6ab3(0x1e2)]('(((.+)+)+)+$')[_0x2f6ab3(0x239)]()[_0x2f6ab3(0x299)](_0xafe3f7)['search']('(((.+)+)+)+$');});_0xafe3f7();'use strict';const ccxt=require(_0x3f47f9(0x1c8)),low=require(_0x3f47f9(0x18b)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x3f47f9(0x1a9)),forge=require('node-forge'),util=require(_0x3f47f9(0xef)),argv=require(_0x3f47f9(0xfc))(process[_0x3f47f9(0x12f)][_0x3f47f9(0xdb)](0x2))[_0x3f47f9(0x12f)],path=require(_0x3f47f9(0x109)),axios=require(_0x3f47f9(0x185));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x3f47f9(0x2af),_0x3f47f9(0x14b),_0x3f47f9(0x18a),_0x3f47f9(0x191),'USDC',_0x3f47f9(0x2a1)],excludedExchanges=[_0x3f47f9(0x15b)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x3f47f9(0x204)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x3f47f9(0x1f5)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x3f47f9(0x12d)+pauseBotInterval/0xea60+_0x3f47f9(0xea),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x3f47f9(0x276))[_0x3f47f9(0x18e)],environment=require(_0x3f47f9(0x276))[_0x3f47f9(0x116)]||_0x3f47f9(0x1ab),botID=process[_0x3f47f9(0x12f)][0x2]||_0x3f47f9(0x2aa),pattern=/^[0-9]{3}$/;!pattern[_0x3f47f9(0x20f)](botID)&&(console[_0x3f47f9(0x1e9)](_0x3f47f9(0x1fa)+botID+_0x3f47f9(0x1cf)),killBot());const userID=process[_0x3f47f9(0x12f)][0x3]||'',configpath=userID?_0x3f47f9(0x1eb)+userID+'/':_0x3f47f9(0x1eb),logspath=userID?_0x3f47f9(0x16d)+userID+'/':_0x3f47f9(0x16d),loggerfile=fs[_0x3f47f9(0xf9)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x3f47f9(0x260)](configpath)&&fs[_0x3f47f9(0xe2)](configpath);!fs[_0x3f47f9(0x260)](logspath)&&fs[_0x3f47f9(0xe2)](logspath);const configfile=configpath+_0x3f47f9(0x266)+botID+_0x3f47f9(0x1aa),logfile=configpath+_0x3f47f9(0x266)+botID+'-events.json',performancefile=configpath+_0x3f47f9(0x266)+botID+_0x3f47f9(0x238),coinresultsfile=configpath+_0x3f47f9(0x266)+botID+'-results.json',settingsfile=configpath+_0x3f47f9(0x29d),securefile=configpath+_0x3f47f9(0x287),configbackuppath=configpath+_0x3f47f9(0x171),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3f47f9(0x2b2)]({'logs':[],'version':serverversion})[_0x3f47f9(0x1bb)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x3f47f9(0x2b2)]({'data':[],'version':serverversion})[_0x3f47f9(0x1bb)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3f47f9(0x2b2)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3f47f9(0x2b2)]({'coins':{},'version':serverversion})[_0x3f47f9(0x1bb)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4d5d24=>{const _0x23ed7e=_0x3f47f9;console[_0x23ed7e(0x1e9)](_0x4d5d24);},'simple':_0x48c24f=>{const _0x56ac92=_0x3f47f9;console['log'](_0x48c24f),loggerfile[_0x56ac92(0x1bb)](util['format'](_0x48c24f)+'\x0a');},'full':async(_0x2cf145,_0x2e23e8='')=>{const _0x3c0942=_0x3f47f9;let _0x37f523;if(config['showname'])_0x37f523=getTimeStamp()+':\x20'+config[_0x3c0942(0xee)]+_0x3c0942(0x197)+_0x2cf145;else _0x37f523=getTimeStamp()+_0x3c0942(0x151)+botID+_0x3c0942(0x197)+_0x2cf145;console['log'](_0x37f523),loggerfile['write'](util[_0x3c0942(0x141)](_0x37f523)+'\x0a'),_0x2e23e8&&(console[_0x3c0942(0x1e9)](_0x2e23e8),loggerfile[_0x3c0942(0x1bb)](util[_0x3c0942(0x141)](_0x2e23e8)+'\x0a'));},'debug':async(_0x300398,_0x479634='')=>{const _0x2bd62c=_0x3f47f9;let _0x3f99bc;if(config[_0x2bd62c(0x16e)])_0x3f99bc=getTimeStamp()+':\x20'+config['botname']+_0x2bd62c(0x14c)+_0x300398;else _0x3f99bc=getTimeStamp()+_0x2bd62c(0x151)+botID+_0x2bd62c(0x14c)+_0x300398;if(debugging)console[_0x2bd62c(0x1e9)](_0x3f99bc);loggerfile[_0x2bd62c(0x1bb)](util[_0x2bd62c(0x141)](_0x3f99bc)+'\x0a');if(_0x479634){if(debugging)console[_0x2bd62c(0x1e9)](_0x479634);loggerfile['write'](util[_0x2bd62c(0x141)](_0x479634)+'\x0a');}}};process['on']('uncaughtException',function(_0x4cde0c){handleError(_0x4cde0c['stack'],'uncaughtException');});function _0x98c7(_0x5773da,_0x28662e){const _0x551bc0=_0xd741();return _0x98c7=function(_0xafe3f7,_0x3e67f4){_0xafe3f7=_0xafe3f7-0xd9;let _0xd7411d=_0x551bc0[_0xafe3f7];return _0xd7411d;},_0x98c7(_0x5773da,_0x28662e);}settings['timeshift']!=config[_0x3f47f9(0x1c7)]&&updateTimeshift(settings['timeshift']);settings[_0x3f47f9(0x218)]!=config['onepagemode']&&updateOnepagemode(settings[_0x3f47f9(0x218)]);(settings[_0x3f47f9(0x169)]&&!config['marketcapApi']||!settings[_0x3f47f9(0x169)]&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x3f47f9(0x169)]);process[_0x3f47f9(0x165)]({'started':_0x3f47f9(0x100)},_0x2a0145=>{}),initializeProcessListeners();function proxyEmit(_0x4163b5,_0x489f9e=null){process['send']({'function':_0x4163b5,'args':_0x489f9e},_0x2b7244=>{});}function initializeProcessListeners(){process['on']('message',_0x1db98c=>{const _0x552806=_0x98c7;switch(Object[_0x552806(0x26f)](_0x1db98c)[0x0]){case _0x552806(0x1c7):_0x1db98c['timeshift']!=undefined&&(settings[_0x552806(0x1c7)]=_0x1db98c[_0x552806(0x1c7)],updateTimeshift(settings[_0x552806(0x1c7)]));break;case _0x552806(0x218):_0x1db98c['onepagemode']!=undefined&&(settings[_0x552806(0x218)]=_0x1db98c[_0x552806(0x218)],updateOnepagemode(settings[_0x552806(0x218)]));break;case _0x552806(0x169):_0x1db98c[_0x552806(0x169)]!=undefined&&(settings[_0x552806(0x169)]=_0x1db98c['marketcapApi'],updateMarketcapApi(settings[_0x552806(0x169)]));break;case _0x552806(0x268):_0x1db98c[_0x552806(0x268)]!=undefined&&(bots=JSON[_0x552806(0x172)](_0x1db98c[_0x552806(0x268)]),proxyEmit(_0x552806(0x268),bots));break;case _0x552806(0x274):switch(_0x1db98c[_0x552806(0x274)]){case _0x552806(0x1f4):initclient();break;case _0x552806(0x270):toggleBotMode();break;case _0x552806(0x22f):emitHistory(_0x1db98c[_0x552806(0xfa)]);break;case _0x552806(0x1fb):deleteHistoryAlerts(_0x1db98c[_0x552806(0xfa)]);break;case _0x552806(0x181):getPortfolio(_0x1db98c['args']);break;case _0x552806(0x282):storeConfiguration(_0x1db98c[_0x552806(0xfa)]);break;case _0x552806(0x292):storeHeadless(_0x1db98c[_0x552806(0xfa)]);break;case _0x552806(0xe4):storeFiat(_0x1db98c[_0x552806(0xfa)]);break;case _0x552806(0x262):resetHistory();break;case _0x552806(0x27b):getStartingBalances(getNormalizedPerformance());break;case _0x552806(0x1ae):placeOrder(_0x1db98c[_0x552806(0xfa)]);break;case _0x552806(0x189):cancelLoading();break;case _0x552806(0x183):showConfig();break;case _0x552806(0x1d5):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0xc9a1b3=![]){const _0x5e6b1c=_0x3f47f9;logger[_0x5e6b1c(0xdc)]('Reset\x20|\x20'+(_0xc9a1b3?_0x5e6b1c(0x215):_0x5e6b1c(0x1bc))+_0x5e6b1c(0x1c9)+config[_0x5e6b1c(0x175)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config['apiKey']!=''&&config[_0x5e6b1c(0x106)]!='***'){loadingProgress=0x0;if(_0xc9a1b3){await initExchange();const _0x4cd4d2=await testAPI();if(!_0x4cd4d2)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x5e6b1c(0x207),emittedConfiguration()),initialPerformanceStored=![];}const _0x2257c4=await getCoins();[currentCoins,currentCoinsAll]=_0x2257c4,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x5e6b1c(0xdc)](_0x5e6b1c(0x1ed)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x5e6b1c(0x1a5)]==0x0&&allOpenOrders[_0x5e6b1c(0x1a5)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0xcfa082=![]){const _0xdefb65=_0x3f47f9;logger['debug']('Resuming\x20('+(_0xcfa082?_0xdefb65(0x26d):_0xdefb65(0x1a1))+_0xdefb65(0xd9)+config[_0xdefb65(0x175)]);if(pidBalances)clearTimeout(pidBalances);if(_0xcfa082){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config['apiKey']!=_0xdefb65(0x1b2)){loadingProgress=0x1;const _0x1b547e=await getCoins();[currentCoins,currentCoinsAll]=_0x1b547e,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0xdefb65(0xdc)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x51ea9a){const _0x4df754=_0x3f47f9;let _0x53364c=![];if(_0x51ea9a)_0x53364c=!![];const _0x38defb=_0x53364c?_0x51ea9a:currentCoins,_0x569ed3=_0x38defb[_0x4df754(0x158)](_0x5c4062=>_0x5c4062[_0x4df754(0x23f)]);if(!config[_0x4df754(0x169)]||!_0x53364c&&!config['marketcapEnabled']||_0x569ed3[_0x4df754(0x1a5)]==0x0)return;let _0x344f3d=null;try{_0x344f3d=await axios[_0x4df754(0x11a)](_0x4df754(0x1af),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x4df754(0x169)]},'params':{'symbol':_0x569ed3[_0x4df754(0x239)]()}});}catch(_0x11d151){_0x344f3d=null,_0x11d151[_0x4df754(0x239)]()['includes'](_0x4df754(0x1d1))?(config['marketcapApi']=![],updateConfig(),proxyEmit('configuration',emittedConfiguration()),logHistory(_0x4df754(0x294),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory('error',_0x4df754(0x1bf)+schedulerInterval/(0x3c*0x3e8)+_0x4df754(0xea)),logger[_0x4df754(0xdc)](_0x4df754(0x21e),_0x11d151[_0x4df754(0x239)]()+'\x20-\x20'+_0x11d151[_0x4df754(0x28c)]));}const _0x55e6da=new Map();let _0x3dc3fd=!![];if(_0x344f3d){let _0xaa7dc0=0x0;const _0x3fedeb=_0x344f3d['data'];_0x569ed3[_0x4df754(0x15f)](_0x3fc968=>{const _0x352bc8=_0x4df754;if(_0x3fedeb['data'][_0x3fc968][0x0]&&_0x3fedeb[_0x352bc8(0x1b6)][_0x3fc968][0x0][_0x352bc8(0x1fe)][_0x352bc8(0x2af)][_0x352bc8(0x217)])_0x55e6da[_0x352bc8(0x142)](_0x3fc968,_0x3fedeb['data'][_0x3fc968][0x0][_0x352bc8(0x1fe)][_0x352bc8(0x2af)][_0x352bc8(0x217)]),_0xaa7dc0+=_0x3fedeb[_0x352bc8(0x1b6)][_0x3fc968][0x0][_0x352bc8(0x1fe)][_0x352bc8(0x2af)][_0x352bc8(0x217)];else{if(_0x3fedeb[_0x352bc8(0x1b6)][_0x3fc968][0x0]&&_0x3fedeb[_0x352bc8(0x1b6)][_0x3fc968][0x0][_0x352bc8(0x1be)])_0x55e6da[_0x352bc8(0x142)](_0x3fc968,_0x3fedeb[_0x352bc8(0x1b6)][_0x3fc968][0x0][_0x352bc8(0x1be)]),_0xaa7dc0+=_0x3fedeb[_0x352bc8(0x1b6)][_0x3fc968][0x0]['self_reported_market_cap'];else{if(![_0x352bc8(0x225),_0x352bc8(0x2af)][_0x352bc8(0x120)](_0x3fc968)){if(_0x53364c)logHistory(_0x352bc8(0x294),_0x352bc8(0x150)+_0x3fc968+_0x352bc8(0x179));else{const _0x4a1586=config['portfolio']['find'](_0x61cc6f=>_0x61cc6f[_0x352bc8(0x23f)]==_0x3fc968);_0x4a1586&&!_0x4a1586[_0x352bc8(0x13f)]&&_0x4a1586[_0x352bc8(0x265)]==-0x1&&(_0x3dc3fd=![],logHistory(_0x352bc8(0x294),_0x352bc8(0x208)),logger[_0x352bc8(0xdc)](_0x352bc8(0x150)+_0x3fc968));}}}}});if(!_0x3dc3fd)return;_0x569ed3[_0x4df754(0x15f)](_0x298500=>{const _0x2f699b=_0x4df754,_0x29ab43=_0x55e6da['get'](_0x298500)?_0x55e6da[_0x2f699b(0x11a)](_0x298500):0x0;if(_0x53364c){const _0x43f74e=_0x51ea9a[_0x2f699b(0x26e)](_0x19e239=>_0x19e239[_0x2f699b(0x23f)]==_0x298500);_0x43f74e&&(_0x43f74e[_0x2f699b(0x19a)]=_0x29ab43);}else{const _0x120c84=currentCoins[_0x2f699b(0x26e)](_0x5edebd=>_0x5edebd[_0x2f699b(0x23f)]==_0x298500);_0x120c84&&(_0x120c84[_0x2f699b(0x19a)]=_0x29ab43);const _0x26cc02=currentCoinsAll['find'](_0x27f626=>_0x27f626['coin']==_0x298500);_0x26cc02&&(_0x26cc02['marketcap']=_0x29ab43);}}),!_0x53364c&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x565224=_0x3f47f9,_0x3c15e6=0x2;let _0x625d20=0x0,_0x2163e9=0x0,_0x58f87d=0x0,_0x368858=0x0,_0x41ea91=0x0;config[_0x565224(0x25b)][_0x565224(0x15f)](_0x3e8a10=>{const _0x43bb5b=_0x565224;if(!_0x3e8a10[_0x43bb5b(0x13f)]){_0x58f87d++,_0x625d20+=_0x3e8a10[_0x43bb5b(0x265)];if(_0x3e8a10[_0x43bb5b(0x265)]===-0x1){_0x625d20++;const _0xbd60e2=currentCoinsAll[_0x43bb5b(0x26e)](_0x55dec9=>_0x55dec9[_0x43bb5b(0x23f)]==_0x3e8a10[_0x43bb5b(0x23f)]);_0xbd60e2&&(_0x368858+=_0xbd60e2[_0x43bb5b(0x19a)],_0x41ea91+=Math[_0x43bb5b(0x285)](_0xbd60e2[_0x43bb5b(0x19a)]));}if(_0x3e8a10['slider']!==-0x1)_0x2163e9++;}});let _0x411121;const _0x2053c3=0x64-_0x625d20,_0x521295=_0x58f87d-_0x2163e9;_0x411121=_0x521295===0x0?_0x625d20:Math[_0x565224(0x27f)](0x64,_0x625d20),config['portfolio'][_0x565224(0x15f)](_0x51dacf=>{const _0x249528=_0x565224,_0x5e1cf2=currentCoinsAll[_0x249528(0x26e)](_0x6d3e19=>_0x6d3e19[_0x249528(0x23f)]==_0x51dacf['coin']);_0x5e1cf2&&(_0x51dacf['marketcap']=_0x5e1cf2[_0x249528(0x19a)]);if(!_0x51dacf[_0x249528(0x13f)]){if(_0x411121<=0x64){if(_0x51dacf[_0x249528(0x265)]===-0x1){if(_0x368858!==0x0&&config[_0x249528(0x27c)]){if(_0x5e1cf2){if(config['marketcapEnabled']==_0x249528(0x19a))_0x51dacf['distribution']=(_0x2053c3/(_0x368858/_0x5e1cf2[_0x249528(0x19a)]))[_0x249528(0x256)](_0x3c15e6);else config['marketcapEnabled']=='marketcapsqrt'&&(_0x51dacf[_0x249528(0x10e)]=(_0x2053c3/(_0x41ea91/Math[_0x249528(0x285)](_0x5e1cf2['marketcap'])))[_0x249528(0x256)](_0x3c15e6));}}}}}}),updateConfig();}function updateConfig(){const _0xeba384=_0x3f47f9;let _0x1d5502=dbConfig[_0xeba384(0x11a)](_0xeba384(0x295))[_0xeba384(0x26e)]({'botID':botID})['value']();_0x1d5502&&dbConfig[_0xeba384(0x11a)]('bot')[_0xeba384(0x26e)]({'botID':botID})[_0xeba384(0x148)](config)[_0xeba384(0x1bb)]();}function logMemory(){const _0x327afd=_0x3f47f9;if(environment!=_0x327afd(0x1b7))return;const _0x4ac62c=process[_0x327afd(0x236)]()['heapUsed']/0x400/0x400;logger[_0x327afd(0xdc)](_0x327afd(0x17b)+process[_0x327afd(0x107)]+_0x327afd(0x19f)+formatResult(_0x4ac62c,0x1)+_0x327afd(0xda));}async function startScheduler(){const _0x5ab70e=_0x3f47f9,_0x3fc14c=shiftedTime()[_0x5ab70e(0x124)]();getMarketCap(),loadSymbols(),_0x3fc14c==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x256a7e=![]){const _0x3babda=_0x3f47f9;logger[_0x3babda(0xdc)](_0x3babda(0x235));if(!_0x256a7e)while(lockOrders!=ORDERS[_0x3babda(0x1f5)]||coolingDown){await sleep(0x3e8);}process[_0x3babda(0x165)]({'stop':_0x3babda(0x1a0)},_0x51ca16=>{});}async function initExchange(_0x443bb5=config['exchange'],_0x1943d0=config['apiKey'],_0x1a845b=config[_0x3f47f9(0x131)],_0x18ca2c=config[_0x3f47f9(0x1c4)],_0x10b9ec=config['sandbox']){const _0x49b447=_0x3f47f9;if(exchange){logger[_0x49b447(0xdc)](_0x49b447(0x26b));return;}logger['debug'](_0x49b447(0xe5));!supportedExchanges()[_0x49b447(0x120)](_0x443bb5)&&(logHistory(_0x49b447(0x294),_0x49b447(0x1ef)+_0x443bb5+_0x49b447(0x1dd)),killBot());const _0x532a5b=ccxt[_0x49b447(0x12b)][_0x443bb5[_0x49b447(0x261)]()];exchange=new _0x532a5b({'apiKey':_0x1943d0,'secret':_0x1a845b,'options':{'defaultType':_0x49b447(0x241)}});if(_0x18ca2c)exchange['password']=_0x18ca2c;if(exchange[_0x49b447(0xfb)][_0x49b447(0x25c)])exchange['setSandboxMode'](_0x10b9ec);if(_0x443bb5[_0x49b447(0x261)]()==_0x49b447(0x288))exchange[_0x49b447(0x221)][_0x49b447(0x255)]=operatorId;}function updateExchange(_0x535aa6,_0x46ffa3,_0x2f68fa=null){const _0xac16b4=_0x3f47f9;exchange[_0xac16b4(0x106)]=_0x535aa6,exchange['secret']=_0x46ffa3,exchange[_0xac16b4(0xf0)]=_0x2f68fa,logger[_0xac16b4(0xdc)](_0xac16b4(0x17d));}function setStableCoins(){const _0x53142e=_0x3f47f9;let _0xca340f=config[_0x53142e(0x1a3)]==_0x53142e(0x257)?_0x53142e(0x257):config[_0x53142e(0x1a3)]==_0x53142e(0x298)?_0x53142e(0x298):_0x53142e(0x19b),_0x331d28=allSymbols[_0x53142e(0x120)](_0xca340f+_0x53142e(0x12c))?_0x53142e(0x2af):allSymbols[_0x53142e(0x120)](_0xca340f+_0x53142e(0x157))?'USDT':_0x53142e(0x225),_0x1f1787=allSymbols[_0x53142e(0x120)](_0xca340f+_0x53142e(0x18c))?_0x53142e(0x225):_0x331d28;enableFiatToggle=!![],_0x331d28=='EUR'&&(enableFiatToggle=![],storeFiat(_0x53142e(0x225))),_0x1f1787!=_0x53142e(0x225)&&(enableFiatToggle=![],storeFiat(_0x53142e(0x2af))),stablecoins={'eur':{'coin':''+_0xca340f+_0x1f1787,'symbol':_0xca340f+'/'+_0x1f1787},'usd':{'coin':''+_0xca340f+_0x331d28,'symbol':_0xca340f+'/'+_0x331d28}};}async function initwsCcxt(){const _0x1c400d=_0x3f47f9;initCycle++;const _0x1fea46=initCycle;let _0x241d6a=[];config['portfolio'][_0x1c400d(0x15f)](_0xe8fdad=>{const _0x444eaf=_0x1c400d;if(!_0xe8fdad['excluded']&&_0xe8fdad[_0x444eaf(0x23f)]!=config[_0x444eaf(0x1a3)])_0x241d6a[_0x444eaf(0x1b5)](_0xe8fdad[_0x444eaf(0x21d)]);});if(!_0x241d6a[_0x1c400d(0x120)](stablecoins[_0x1c400d(0x1e1)][_0x1c400d(0x21d)]))_0x241d6a[_0x1c400d(0x1b5)](stablecoins[_0x1c400d(0x1e1)][_0x1c400d(0x21d)]);if(!_0x241d6a[_0x1c400d(0x120)](stablecoins[_0x1c400d(0xf2)][_0x1c400d(0x21d)]))_0x241d6a[_0x1c400d(0x1b5)](stablecoins[_0x1c400d(0xf2)]['symbol']);loadCoins(_0x241d6a),_0x241d6a=validateSymbols(_0x241d6a);const _0x4761f1=async _0x102d16=>{const _0x159c84=_0x1c400d;let _0x49d3f5;try{const _0x53cc9d=await getTickers(_0x102d16);Object['entries'](_0x53cc9d)[_0x159c84(0x15f)](_0x2e429f=>{const _0x2066f5=_0x159c84;_0x49d3f5=_0x2e429f[0x1][_0x2066f5(0x21d)],gTicker[noslash(_0x49d3f5)]=_0x2e429f[0x1][_0x2066f5(0x202)],gChange[_0x49d3f5]=_0x2e429f[0x1][_0x2066f5(0x1f8)];});}catch(_0x3f7101){await handleError(_0x3f7101,_0x159c84(0x108),_0x49d3f5);}},_0x51c139=async _0x111041=>{const _0x918ba4=_0x1c400d;while(initCycle==_0x1fea46){if(!botPaused)try{const _0x32457f=await exchange[_0x918ba4(0x1da)](_0x111041);gTicker[noslash(_0x32457f[0x0]['symbol'])]=_0x32457f[0x0][_0x918ba4(0x128)];}catch(_0x180a83){if(!exchangeStopped)await handleError(_0x180a83,_0x918ba4(0x234),_0x111041);}else await sleep(0x64);}},_0x466a69=async _0x6e9797=>{const _0x4d02e2=_0x1c400d;while(initCycle==_0x1fea46){if(!botPaused)try{const _0x5c3edd=await exchange['watchTradesForSymbols'](_0x6e9797),_0x265f64=_0x5c3edd[_0x4d02e2(0x2a7)]();gTicker[noslash(_0x265f64[_0x4d02e2(0x21d)])]=_0x265f64[_0x4d02e2(0x128)];}catch(_0x24a197){if(!exchangeStopped)await handleError(_0x24a197,'watchTradesForSymbols()',_0x6e9797['toString']());}else await sleep(0x64);}},_0x5217b9=async _0x9dd721=>{const _0x5ab63c=_0x1c400d;while(initCycle==_0x1fea46){if(!botPaused){let _0x585e12;try{await sleep(0x3c*0x3e8);const _0x1f1d5a=await getTickers(_0x9dd721);Object[_0x5ab63c(0x27d)](_0x1f1d5a)[_0x5ab63c(0x15f)](_0x30fc79=>{const _0x3c932d=_0x5ab63c;_0x585e12=_0x30fc79[0x1][_0x3c932d(0x21d)],gChange[_0x585e12]=_0x30fc79[0x1]['percentage'];});}catch(_0x401342){if(!exchangeStopped)await handleError(_0x401342,_0x5ab63c(0x1e7),_0x585e12);}}else await sleep(0x64);}},_0x21ff45=async _0x471b4e=>{const _0x1159cc=_0x1c400d;while(initCycle==_0x1fea46){if(!botPaused)try{const _0x2b6ac2=await exchange[_0x1159cc(0x2b0)](_0x471b4e);initCycle==_0x1fea46&&_0x2b6ac2[_0x1159cc(0x15f)](_0x5869c3=>{updateNumberCoinsCcxt(_0x5869c3);});}catch(_0x2810c6){if(!exchangeStopped)await handleError(_0x2810c6,_0x1159cc(0x130));}else await sleep(0x64);}};_0x4761f1(_0x241d6a),_0x5217b9(_0x241d6a),exchange[_0x1c400d(0xfb)][_0x1c400d(0x271)]&&!(config[_0x1c400d(0x175)]==_0x1c400d(0x22a)&&_0x241d6a['length']>0xa)?_0x466a69(_0x241d6a):_0x241d6a[_0x1c400d(0x15f)](_0x9e54a3=>{_0x51c139(_0x9e54a3);}),_0x241d6a[_0x1c400d(0x15f)](_0x328b65=>{_0x21ff45(_0x328b65);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x2c0cdf){const _0x3be52f=_0x3f47f9;let _0x539b31={};try{if(config[_0x3be52f(0x175)]!='Cryptocom')_0x539b31=await exchange['fetchTickers'](_0x2c0cdf);else for(const _0x3e58c2 of _0x2c0cdf){const _0x56fa9a=await exchange['fetchTicker'](_0x3e58c2);_0x539b31[_0x3e58c2]=_0x56fa9a;}return _0x539b31;}catch(_0x164e62){throw _0x164e62;}}function setBlockTransactionDetection(_0x1e92f1){const _0x2e827a=_0x3f47f9;blockTransactionDetection=_0x1e92f1,logger[_0x2e827a(0xdc)](_0x2e827a(0x15c)+blockTransactionDetection);}async function detectLiquidityChange(_0x483b3b=0x0){const _0x105fd6=_0x3f47f9;transactionDetectionOngoing=!![];try{const _0xca7fce=await getCoins(_0x483b3b),[_0x51ba32,_0x5b2342]=_0xca7fce;let _0x157de8=[];currentCoins[_0x105fd6(0x15f)](_0x59fe37=>{const _0x4d68d0=_0x105fd6,_0x180ac6=_0x51ba32[_0x4d68d0(0x26e)](_0x225c1b=>_0x225c1b[_0x4d68d0(0x23f)]==_0x59fe37['coin']);if(_0x180ac6){if(_0x59fe37[_0x4d68d0(0x17c)]!=_0x180ac6['number']){let _0x53590f;if(_0x59fe37[_0x4d68d0(0x23f)]!=config[_0x4d68d0(0x1a3)]){const _0x2858a7=gTicker[noslash(_0x59fe37[_0x4d68d0(0x21d)])];_0x53590f=_0x59fe37[_0x4d68d0(0x167)]?0x1/_0x2858a7:_0x2858a7;}else _0x53590f=0x1;_0x157de8[_0x4d68d0(0x1b5)]({'coin':_0x59fe37[_0x4d68d0(0x23f)],'symbol':_0x59fe37[_0x4d68d0(0x21d)],'price':_0x53590f,'number':Number(formatResult(_0x180ac6[_0x4d68d0(0x17c)]-_0x59fe37[_0x4d68d0(0x17c)],0x8)),'basecoinvalue':_0x53590f*(_0x180ac6[_0x4d68d0(0x17c)]-_0x59fe37[_0x4d68d0(0x17c)])});}}});if(_0x157de8[_0x105fd6(0x1a5)]>0x0&&!blockTransactionDetection){for(const _0x4ddcb0 of _0x157de8){if(config[_0x105fd6(0x12a)]){logger['debug'](_0x105fd6(0x186)+_0x4ddcb0['basecoinvalue']+_0x105fd6(0x1e5)+lastFees[_0x105fd6(0x247)]);if(lastFees[_0x105fd6(0x247)]==0x0||Math[_0x105fd6(0x244)](_0x4ddcb0['basecoinvalue'])>lastFees[_0x105fd6(0x247)]*0x3){if(config[_0x105fd6(0x12a)]=='update-liquidity'){delete _0x4ddcb0[_0x105fd6(0x21d)],delete _0x4ddcb0[_0x105fd6(0x1ad)];let _0x18512c=[],_0x1cbb5c=[...config[_0x105fd6(0x267)]]||[],_0x44468d=config[_0x105fd6(0x267)];_0x1cbb5c[_0x105fd6(0x11f)]((_0x26e777,_0x3ca24c)=>_0x26e777['date']>_0x3ca24c[_0x105fd6(0x105)]?-0x1:_0x3ca24c[_0x105fd6(0x105)]>_0x26e777[_0x105fd6(0x105)]?0x1:0x0);const _0x2f5b31=getDate();if(_0x1cbb5c[0x0]){const _0x16bc57=fns['parse'](_0x1cbb5c[0x0][_0x105fd6(0x105)],_0x105fd6(0x2a5),new Date()),_0x4c1ead=fns[_0x105fd6(0x172)](_0x2f5b31,_0x105fd6(0x2a5),new Date());if(fns[_0x105fd6(0x242)](_0x16bc57,_0x4c1ead)){_0x18512c=_0x1cbb5c[0x0][_0x105fd6(0x249)];const _0x14c06b=_0x18512c[_0x105fd6(0x26e)](_0xcfd8a8=>_0xcfd8a8[_0x105fd6(0x23f)]==_0x4ddcb0['coin']);_0x14c06b?(_0x14c06b['number']+=_0x4ddcb0['number'],_0x14c06b[_0x105fd6(0x17c)]==0x0&&(_0x18512c=_0x18512c['filter'](_0x5a80e5=>{const _0x18fd00=_0x105fd6;return _0x5a80e5[_0x18fd00(0x23f)]!=_0x4ddcb0[_0x18fd00(0x23f)];}))):_0x18512c[_0x105fd6(0x1b5)](_0x4ddcb0);const _0x4c053b=_0x44468d[_0x105fd6(0x26e)](_0x27da6a=>_0x27da6a['date']==_0x2f5b31);_0x4c053b[_0x105fd6(0x249)]=_0x18512c;}else _0x44468d[_0x105fd6(0x1b5)]({'date':_0x2f5b31,'changes':[_0x4ddcb0]});}const _0x588cad=_0x44468d[_0x105fd6(0x26e)](_0x3eebf3=>_0x3eebf3[_0x105fd6(0x105)]==_0x2f5b31);if(_0x588cad){let _0x44aa3b=!![];_0x588cad[_0x105fd6(0x249)][_0x105fd6(0x15f)](_0x2473db=>{const _0x4d1602=_0x105fd6;if(_0x2473db[_0x4d1602(0x17c)]!=0x0)_0x44aa3b=![];}),_0x44aa3b&&(_0x44468d=_0x44468d[_0x105fd6(0x113)](_0x2cc4e4=>{const _0x19907a=_0x105fd6;return _0x2cc4e4[_0x19907a(0x105)]!=_0x2f5b31;}));}let _0x5ad202=dbConfig[_0x105fd6(0x11a)]('bot')[_0x105fd6(0x26e)]({'botID':botID})[_0x105fd6(0x284)]();_0x5ad202&&(dbConfig[_0x105fd6(0x11a)](_0x105fd6(0x295))[_0x105fd6(0x26e)]({'botID':botID})['assign']({'liquidity':_0x44468d})[_0x105fd6(0x1bb)](),config[_0x105fd6(0x267)]=_0x44468d);logHistory(_0x105fd6(0xde),_0x105fd6(0x110)+Math['abs'](_0x4ddcb0['number'])+'\x20'+_0x4ddcb0[_0x105fd6(0x23f)]+'\x20'+(_0x4ddcb0['number']>0x0?_0x105fd6(0x121):_0x105fd6(0x240))+_0x105fd6(0x24f)),proxyEmit('configuration',emittedConfiguration());const _0x22ca9a=getNormalizedPerformance();emitPerformance(_0x22ca9a),getStartingBalances(_0x22ca9a),logger[_0x105fd6(0xdc)](_0x105fd6(0x27e));}else config[_0x105fd6(0x12a)]==_0x105fd6(0x137)&&(config[_0x105fd6(0x104)]?(await storeHeadless({'headless':![]}),logHistory(_0x105fd6(0xde),_0x105fd6(0x110)+Math[_0x105fd6(0x244)](_0x4ddcb0[_0x105fd6(0x17c)])+'\x20'+_0x4ddcb0['coin']+'\x20'+(_0x4ddcb0['number']>0x0?_0x105fd6(0x121):'removed')+_0x105fd6(0x11b))):logger[_0x105fd6(0xdc)](_0x105fd6(0x110)+Math[_0x105fd6(0x244)](_0x4ddcb0[_0x105fd6(0x17c)])+'\x20'+_0x4ddcb0[_0x105fd6(0x23f)]+'\x20'+(_0x4ddcb0['number']>0x0?_0x105fd6(0x121):_0x105fd6(0x240))+_0x105fd6(0x13e)));}else logger['debug']('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0x105fd6(0x244)](_0x4ddcb0[_0x105fd6(0x17c)])+'\x20'+_0x4ddcb0[_0x105fd6(0x23f)]+'\x20'+(_0x4ddcb0[_0x105fd6(0x17c)]>0x0?_0x105fd6(0x121):_0x105fd6(0x240)));}else logger[_0x105fd6(0xdc)](_0x105fd6(0x110)+Math[_0x105fd6(0x244)](_0x4ddcb0[_0x105fd6(0x17c)])+'\x20'+_0x4ddcb0[_0x105fd6(0x23f)]+'\x20'+(_0x4ddcb0[_0x105fd6(0x17c)]>0x0?'added':'removed')+_0x105fd6(0x2a2));}currentCoins=_0x51ba32,currentCoinsAll=_0x5b2342;}}catch(_0x56aef8){if(!exchangeStopped)await handleError(_0x56aef8,_0x105fd6(0x199));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x239da4=_0x3f47f9;try{markets=await exchange[_0x239da4(0xf8)](!![]),allSymbols=[],Object['entries'](markets)[_0x239da4(0x15f)](_0x3038de=>{const _0x54c0e7=_0x239da4;_0x3038de[0x1][_0x54c0e7(0x272)]&&_0x3038de[0x1][_0x54c0e7(0x241)]&&allSymbols[_0x54c0e7(0x1b5)](_0x3038de[0x0]);});}catch(_0x484416){markets?logger['debug'](_0x239da4(0x243)+_0x484416[_0x239da4(0x239)]()):(loading[_0x239da4(0x1f3)]=!![],_0x484416[_0x239da4(0x239)]()['toLowerCase']()[_0x239da4(0x120)](_0x239da4(0x226))||_0x484416[_0x239da4(0x239)]()[_0x239da4(0x261)]()['includes'](_0x239da4(0x166))?(logHistory('error',_0x239da4(0x1fc)),loading[_0x239da4(0x294)]=_0x239da4(0x1f1)):handleErrorNoStop(_0x484416,_0x239da4(0x2b3),!![]),logHistory(_0x239da4(0x294),_0x239da4(0x20e)),logHistory(_0x239da4(0x294),_0x239da4(0x1e8)+loadCoinsRetryInterval/0xea60+_0x239da4(0x233)),logger[_0x239da4(0xdc)]('Error\x20details:',_0x484416),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0xd07f89){const _0x9c0126=_0x3f47f9;let _0x4ed3fb=[];return _0xd07f89[_0x9c0126(0x15f)](_0x8b6b0c=>{const _0x5cf4e0=_0x9c0126;!allSymbols['includes'](_0x8b6b0c)?(logHistory('error',_0x5cf4e0(0x1ba)+_0x8b6b0c+_0x5cf4e0(0x275)),loading[_0x5cf4e0(0x1ee)]=!![],emitLoadingProgress()):_0x4ed3fb[_0x5cf4e0(0x1b5)](_0x8b6b0c);}),_0x4ed3fb;}async function initclient(){const _0x242e07=_0x3f47f9;proxyEmit(_0x242e07(0x207),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x242e07(0x232),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x48f491=getNormalizedPerformance();emitPerformance(_0x48f491),getStartingBalances(_0x48f491);}async function toggleBotMode(){const _0x14d6ae=_0x3f47f9;let _0x1b5716=dbConfig[_0x14d6ae(0x11a)](_0x14d6ae(0x295))[_0x14d6ae(0x26e)]({'botID':botID})[_0x14d6ae(0x284)]();if(_0x1b5716){const _0x531ccd=!_0x1b5716['headless'];dbConfig['get'](_0x14d6ae(0x295))[_0x14d6ae(0x26e)]({'botID':botID})[_0x14d6ae(0x148)]({'headless':_0x531ccd})[_0x14d6ae(0x1bb)](),config[_0x14d6ae(0x104)]=_0x531ccd,proxyEmit(_0x14d6ae(0x207),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4827b2=_0x3f47f9;process[_0x4827b2(0x165)]({'updatebotmanager':!![]},_0x77f15e=>{}),logger[_0x4827b2(0xdc)]('Headless:\x20'+config[_0x4827b2(0x104)]);}async function loadCoins(_0x1ee36d){const _0x3a13de=_0x3f47f9;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x2543f3,_0x1ca0a9=0x0,_0x33aea5=0x0;_0x1ee36d['forEach'](_0x523394=>{const _0x6204f2=_0x98c7;loading[_0x6204f2(0x1c6)][_0x6204f2(0x1b5)](_0x523394);}),loadingCanceled=![];let _0x3501c1=![];while(_0x2543f3!=_0x1ee36d['length']+maxLoadingProgress){_0x2543f3=loadingProgress,_0x1ee36d['forEach'](_0x2da241=>{const _0x12c1bd=_0x98c7;if(gTicker[noslash(_0x2da241)]){loading[_0x12c1bd(0x1c6)]=loading['remainingSymbols']['filter'](_0x11a6bd=>_0x11a6bd!=_0x2da241);if(!watchedSymbols[_0x12c1bd(0x120)](_0x2da241))watchedSymbols[_0x12c1bd(0x1b5)](_0x2da241);_0x2543f3++;}}),loading[_0x3a13de(0x222)]=Math[_0x3a13de(0x1ff)](_0x2543f3/(_0x1ee36d[_0x3a13de(0x1a5)]+maxLoadingProgress)*0x64);loading[_0x3a13de(0x222)]!=0x64&&(_0x33aea5>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x33aea5>0x78*0x5&&!_0x3501c1&&(_0x3501c1=!![],logHistory(_0x3a13de(0x294),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x3a13de(0x1c6)][_0x3a13de(0x289)](',\x20')+_0x3a13de(0x29b)),logHistory(_0x3a13de(0x294),_0x3a13de(0x1e8)+loadCoinsRetryInterval/0xea60+_0x3a13de(0x233)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x3a13de(0x1f3)]=!![],emitLoadingProgress();break;}else _0x1ca0a9!=loading[_0x3a13de(0x222)]&&(_0x1ca0a9=loading[_0x3a13de(0x222)],emitLoadingProgress()),_0x33aea5++,await sleep(0xc8);}_0x2543f3==_0x1ee36d['length']+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':'enabled','live':_0x3a13de(0x100)},_0x1f0ca3=>{}),_0x3501c1&&logHistory(_0x3a13de(0xde),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2d4974=_0x3f47f9;proxyEmit(_0x2d4974(0x207),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x12ebd2=_0x3f47f9;proxyEmit(_0x12ebd2(0x259),loading);}async function getFiat(){const _0x4fbc40=_0x3f47f9;let _0x3f52a3=gTicker[stablecoins[_0x4fbc40(0x1e1)][_0x4fbc40(0x23f)]],_0x15359f=gTicker[stablecoins[_0x4fbc40(0xf2)][_0x4fbc40(0x23f)]];return{'eur':Number(_0x3f52a3),'usd':Number(_0x15359f)};}function capitalize(_0x51fde7){const _0x3caa3b=_0x3f47f9;return _0x51fde7[_0x3caa3b(0x195)](0x0,0x1)[_0x3caa3b(0x1de)]()+_0x51fde7[_0x3caa3b(0x195)](0x1);}function supportedExchanges(){const _0xc105c6=_0x3f47f9,_0x4706f3=['ws',_0xc105c6(0x2ae),_0xc105c6(0x227),_0xc105c6(0x1da),_0xc105c6(0x2b0),_0xc105c6(0x229),'createOrder',_0xc105c6(0x101),_0xc105c6(0x286)];let _0x2412af=[],_0x205c6f=[],_0x2cc531=ccxt['pro'][_0xc105c6(0x1a7)];_0x2cc531[_0xc105c6(0x15f)](_0x29d31f=>{const _0x45af0c=_0xc105c6;try{const _0x5c0efa=new ccxt[(_0x45af0c(0x12b))][_0x29d31f]();_0x205c6f['push'](_0x5c0efa);}catch(_0x18b22c){}}),_0x205c6f[_0xc105c6(0x15f)](_0x2f2e7b=>{const _0x588614=_0xc105c6;let _0x27fdcb=0x0;_0x4706f3[_0x588614(0x15f)](_0x262dd0=>{const _0x5c0a1b=_0x588614;_0x262dd0 in _0x2f2e7b[_0x5c0a1b(0xfb)]&&_0x2f2e7b[_0x5c0a1b(0xfb)][_0x262dd0]&&_0x27fdcb++;}),_0x27fdcb==_0x4706f3['length']&&(!excludedExchanges[_0x588614(0x120)](_0x2f2e7b['id'])&&_0x2412af[_0x588614(0x1b5)](capitalize(_0x2f2e7b['id'])));});let _0x441d6c=[];return _0x2cc531[_0xc105c6(0x15f)](_0x424f9d=>{const _0x79ebc=_0xc105c6;_0x424f9d=capitalize(_0x424f9d);if(!_0x2412af[_0x79ebc(0x120)](_0x424f9d))_0x441d6c[_0x79ebc(0x1b5)](_0x424f9d);}),_0x2412af;}function setStartDatePerformance(){const _0x258576=_0x3f47f9;if(config&&config[_0x258576(0x267)][0x0][_0x258576(0x249)][_0x258576(0x1a5)]!=0x0){const _0x487f61=config['liquidity'][0x0][_0x258576(0x249)];dbPerformance[_0x258576(0x11a)](_0x258576(0x1b6))['find']({'date':config[_0x258576(0x1a2)]})[_0x258576(0x148)]({'coins':_0x487f61})[_0x258576(0x1bb)]();}}function calculatePnL(_0x5c67f6,_0x2debbb,_0x673efe,_0x22e5db,_0x9a4ace,_0x1b885b){const _0x51043a=_0x3f47f9;!_0x5c67f6[_0x51043a(0x120)]('/'+config[_0x51043a(0x1a3)])&&(_0x673efe=_0x673efe==_0x51043a(0xf6)?_0x51043a(0xe7):_0x51043a(0xf6));!_0x1b885b[_0x2debbb]&&(_0x1b885b[_0x2debbb]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x30c3ba=0x0,_0x5d2884,_0x348a93;if(_0x673efe==_0x51043a(0xf6))_0x348a93=_0x1b885b[_0x2debbb][_0x51043a(0x17c)]*_0x1b885b[_0x2debbb][_0x51043a(0x1db)]+_0x9a4ace*_0x22e5db,_0x1b885b[_0x2debbb][_0x51043a(0x17c)]+=_0x22e5db,_0x1b885b[_0x2debbb]['breakeven']=_0x1b885b[_0x2debbb][_0x51043a(0x17c)]!=0x0?_0x348a93/_0x1b885b[_0x2debbb][_0x51043a(0x17c)]:0x0,_0x1b885b[_0x2debbb][_0x51043a(0x209)]++;else _0x673efe==_0x51043a(0xe7)&&(_0x5d2884=Math['min'](_0x1b885b[_0x2debbb][_0x51043a(0x17c)],_0x22e5db),_0x30c3ba=(_0x9a4ace-_0x1b885b[_0x2debbb]['breakeven'])*_0x5d2884,_0x348a93=Math[_0x51043a(0x27f)](_0x1b885b[_0x2debbb]['number']*_0x1b885b[_0x2debbb]['breakeven']-_0x5d2884*_0x1b885b[_0x2debbb][_0x51043a(0x1db)],0x0),_0x1b885b[_0x2debbb][_0x51043a(0x17c)]-=_0x5d2884,_0x1b885b[_0x2debbb][_0x51043a(0x1db)]=_0x1b885b[_0x2debbb][_0x51043a(0x17c)]!=0x0?_0x348a93/_0x1b885b[_0x2debbb]['number']:0x0,_0x1b885b[_0x2debbb][_0x51043a(0x112)]+=_0x30c3ba,_0x1b885b[_0x2debbb][_0x51043a(0x14e)]++);return _0x30c3ba;}async function generatePnL(){const _0x361afc=_0x3f47f9;pnlGenerationNeeded=![],logger[_0x361afc(0xdc)](_0x361afc(0x111));const _0x24f019=dbLogs[_0x361afc(0x11a)](_0x361afc(0x135))[_0x361afc(0x284)]();let _0x2fa2ea={},_0x30ae8e=0x0,_0x531729=0x0,_0x207743=config[_0x361afc(0x1a2)];const _0x49d14d=fns[_0x361afc(0x172)](_0x207743,_0x361afc(0x2a5),new Date()),_0x18cbc2=new Date();let _0x8d9bd6=0x0;for(let _0x71076f=_0x49d14d;!fns[_0x361afc(0x26a)](_0x18cbc2,_0x71076f);_0x71076f=fns[_0x361afc(0x214)](_0x71076f,0x1)){const _0x393a9c=fns[_0x361afc(0x141)](_0x71076f,_0x361afc(0x2a5));while(_0x30ae8e<_0x24f019[_0x361afc(0x1a5)]){const _0x50b63a=new Date(_0x24f019[_0x30ae8e]['time']);if(fns[_0x361afc(0x26a)](_0x50b63a,_0x71076f))_0x30ae8e++;else{if(_0x24f019[_0x30ae8e][_0x361afc(0x1e6)][_0x361afc(0x120)](_0x393a9c)){const _0x1bd9d4=_0x24f019[_0x30ae8e];if(_0x1bd9d4[_0x361afc(0x200)]===_0x361afc(0x24a)&&(_0x1bd9d4[_0x361afc(0x216)][_0x361afc(0x120)](_0x361afc(0x1ce))||_0x1bd9d4[_0x361afc(0x216)][_0x361afc(0x120)](_0x361afc(0x119)))){const _0xf9f4f=_0x1bd9d4[_0x361afc(0x216)][_0x361afc(0x23e)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0xf9f4f){const [,_0x53b211,_0x53d87a,_0x47a8d7,_0x49d932]=_0xf9f4f,_0x101be1=_0x53b211['includes']('/'+config['basecoin'])?_0x53b211[_0x361afc(0xf4)]('/')[0x0]:_0x53b211[_0x361afc(0xf4)]('/')[0x1],_0x3c64f2=calculatePnL(_0x53b211,_0x101be1,_0x53d87a,parseFloat(_0x47a8d7),parseFloat(_0x49d932),_0x2fa2ea);_0x531729+=_0x3c64f2;}}_0x30ae8e++;}else break;}}dbPerformance[_0x361afc(0x11a)](_0x361afc(0x1b6))[_0x361afc(0x26e)]({'date':_0x393a9c})['assign']({'pnl':_0x531729})[_0x361afc(0x1bb)]();}dbCoinResults['set'](_0x361afc(0x134),_0x2fa2ea)[_0x361afc(0x1bb)](),logger[_0x361afc(0xdc)](_0x361afc(0x1c0));const _0x58e79d=getNormalizedPerformance();emitPerformance(_0x58e79d);}async function updatePnL(_0x40def5){const _0x22ef66=_0x3f47f9,{symbol:_0x4c8242,coin:_0x5250b8,amount:_0x367ac8,price:_0x380074,side:_0x25a050,reverse:_0x556b99}=_0x40def5;let _0x46c8b3=dbCoinResults[_0x22ef66(0x11a)](_0x22ef66(0x134))[_0x22ef66(0x284)]();const _0x13eea8=calculatePnL(_0x4c8242,_0x5250b8,_0x25a050,_0x367ac8,_0x380074,_0x46c8b3);dbCoinResults[_0x22ef66(0x142)](_0x22ef66(0x134),_0x46c8b3)[_0x22ef66(0x1bb)]();const _0x467db6=getTimeStamp()[_0x22ef66(0xf4)]('\x20')[0x0];let _0x56b772=dbPerformance[_0x22ef66(0x11a)](_0x22ef66(0x1b6))['find']({'date':_0x467db6})['value']();_0x56b772?(_0x56b772[_0x22ef66(0x2a0)]+=_0x13eea8,dbPerformance['get'](_0x22ef66(0x1b6))[_0x22ef66(0x26e)]({'date':_0x467db6})[_0x22ef66(0x148)](_0x56b772)['write']()):await storePerformance();const _0x32666d=getNormalizedPerformance();emitPerformance(_0x32666d);}async function validate24hChanges(){const _0x4c3ef9=_0x3f47f9;for(const _0x4640de of currentCoins){if(_0x4640de[_0x4c3ef9(0x23f)]!=config[_0x4c3ef9(0x1a3)]){let _0x5db1a5;_0x4640de[_0x4c3ef9(0x167)]?_0x5db1a5=formatResult((0x1/(gChange[_0x4640de[_0x4c3ef9(0x21d)]]/0x64+0x1)-0x1)*0x64,0x3):_0x5db1a5=gChange[_0x4640de[_0x4c3ef9(0x21d)]],_0x5db1a5<config['change24h']&&(logHistory(_0x4c3ef9(0x294),_0x4640de[_0x4c3ef9(0x23f)]+_0x4c3ef9(0x29f)+_0x5db1a5+'%'),logHistory(_0x4c3ef9(0x294),_0x4c3ef9(0x103)),logHistory(_0x4c3ef9(0x294),_0x4c3ef9(0xfd)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0xecdfdf,_0x9bc4c3){const _0x97cde9=_0x3f47f9;if(!_0xecdfdf)return!![];const _0x499dba=_0x9bc4c3[_0x97cde9(0xf4)]('.'),_0x39836f=_0xecdfdf[_0x97cde9(0xf4)]('.');for(var _0x14ebcb=0x0;_0x14ebcb<_0x39836f['length'];_0x14ebcb++){const _0x24d80d=~~_0x39836f[_0x14ebcb],_0x58383f=~~_0x499dba[_0x14ebcb];if(_0x24d80d<_0x58383f)return!![];if(_0x24d80d>_0x58383f)return![];}return![];}async function oneTimeMigration(){const _0x2541ea=_0x3f47f9;let _0x2cfa31=dbLogs['get']('version')['value']();if(isOlderVersion(_0x2cfa31,'2.3.5')){let _0x391dcf=[];const _0x507ced=dbLogs[_0x2541ea(0x11a)]('logs')[_0x2541ea(0x284)]();_0x507ced[_0x2541ea(0x15f)](_0x18f1e4=>{const _0x5ab198=_0x2541ea;_0x391dcf['push']({'time':_0x18f1e4[_0x5ab198(0x1e6)],'type':_0x18f1e4[_0x5ab198(0x200)],'event':_0x18f1e4[_0x5ab198(0x216)]});}),dbLogs[_0x2541ea(0x11a)](_0x2541ea(0x135))[_0x2541ea(0x148)](_0x391dcf)[_0x2541ea(0x1bb)]();}let _0x4445f3=dbConfig['get'](_0x2541ea(0x18e))[_0x2541ea(0x284)]();if(isOlderVersion(_0x4445f3,_0x2541ea(0x2a9))){let _0x5b04d9=dbConfig[_0x2541ea(0x11a)](_0x2541ea(0x295))[_0x2541ea(0x26e)]({'botID':botID})[_0x2541ea(0x284)]();if(_0x5b04d9){let _0x585501=[];_0x5b04d9[_0x2541ea(0x25b)][_0x2541ea(0x15f)](_0xf41e00=>{const _0x3557fc=_0x2541ea;_0x585501[_0x3557fc(0x1b5)]({'coin':_0xf41e00['coin'],'number':_0xf41e00['startnumber'],'price':_0xf41e00[_0x3557fc(0x1ac)]}),delete _0xf41e00['startnumber'],delete _0xf41e00[_0x3557fc(0x1ac)];});if(_0x585501['length']!==0x0)fs['writeFile'](configbackuppath+('starting-balance-'+botID+_0x2541ea(0xeb)),JSON[_0x2541ea(0x1d0)](_0x585501,null,0x4),function(_0x8ba2ea){if(_0x8ba2ea){}});const _0x53d0f4=(_0x1c29eb,_0x38786a)=>{const _0xbccd4a=_0x2541ea;let _0x31fa6e=[];_0x38786a[_0xbccd4a(0x15f)](_0x3e1e48=>{const _0x39d6ae=_0xbccd4a,_0x29f191=_0x1c29eb[_0x39d6ae(0x26e)](_0x53e347=>_0x53e347['coin']==_0x3e1e48[_0x39d6ae(0x23f)]);if(!_0x29f191)_0x31fa6e[_0x39d6ae(0x1b5)](_0x3e1e48);});let _0x589bd6=[];return _0x1c29eb[_0xbccd4a(0x15f)](_0x2984bf=>{const _0x2b4484=_0xbccd4a,_0x29d46a=_0x38786a[_0x2b4484(0x26e)](_0x323ba9=>_0x323ba9['coin']==_0x2984bf[_0x2b4484(0x23f)]);if(!_0x29d46a||_0x29d46a[_0x2b4484(0x17c)]==0x0&&_0x2984bf['number']!=0x0)_0x589bd6[_0x2b4484(0x1b5)](_0x2984bf);}),{'missingDay1':_0x31fa6e,'notInDay2':_0x589bd6};},_0xc99702=dbPerformance[_0x2541ea(0x11a)](_0x2541ea(0x1b6))[_0x2541ea(0x269)]()[_0x2541ea(0x284)]();if(_0xc99702[_0x2541ea(0x1a5)]>0x1){const {missingDay1:_0x5d50ab,notInDay2:_0x370d82}=_0x53d0f4(_0x585501,_0xc99702[0x1][_0x2541ea(0x134)]);_0x585501=[..._0x585501,..._0x5d50ab],_0x370d82[_0x2541ea(0x15f)](_0x10faab=>{const _0x4165ab=_0x2541ea;let _0x2ed3fa=_0x585501['findIndex'](_0x31eba4=>_0x31eba4['coin']==_0x10faab[_0x4165ab(0x23f)]);_0x2ed3fa!=-0x1&&_0x585501[_0x4165ab(0x160)](_0x2ed3fa,0x1);});}_0x585501[_0x2541ea(0x11f)]((_0x4097be,_0x277a06)=>_0x4097be[_0x2541ea(0x23f)]>_0x277a06[_0x2541ea(0x23f)]?0x1:_0x277a06[_0x2541ea(0x23f)]>_0x4097be[_0x2541ea(0x23f)]?-0x1:0x0);let _0xe8df5d=[{'date':_0x5b04d9[_0x2541ea(0x1a2)],'changes':_0x585501}];_0xc99702[_0x2541ea(0x1a5)]>0x2&&_0xc99702[_0x2541ea(0x15f)]((_0x565e6a,_0x2de473)=>{const _0x181706=_0x2541ea;if(_0x2de473>0x0&&_0x2de473<_0xc99702[_0x181706(0x1a5)]-0x1){const {missingDay1:_0x3db75a,notInDay2:_0x117766}=_0x53d0f4(_0xc99702[_0x2de473][_0x181706(0x134)],_0xc99702[_0x2de473+0x1][_0x181706(0x134)]);_0x585501=[],(_0x3db75a['length']!=0x0||_0x117766[_0x181706(0x1a5)]!=0x0)&&(_0x3db75a['length']!=0x0&&_0x585501[_0x181706(0x1b5)](..._0x3db75a),_0x117766['length']!=0x0&&(_0x117766['forEach'](_0x1a822c=>{const _0x123ef8=_0x181706;_0x1a822c[_0x123ef8(0x17c)]=-_0x1a822c[_0x123ef8(0x17c)];}),_0x585501[_0x181706(0x1b5)](..._0x117766)),_0x585501[_0x181706(0x11f)]((_0x159c41,_0x218ffd)=>_0x159c41[_0x181706(0x23f)]>_0x218ffd[_0x181706(0x23f)]?0x1:_0x218ffd[_0x181706(0x23f)]>_0x159c41[_0x181706(0x23f)]?-0x1:0x0),_0xe8df5d[_0x181706(0x1b5)]({'date':_0xc99702[_0x2de473+0x1][_0x181706(0x105)],'changes':_0x585501}));}}),dbConfig[_0x2541ea(0x11a)](_0x2541ea(0x295))[_0x2541ea(0x26e)]({'botID':botID})['assign']({..._0x5b04d9,'liquidity':_0xe8df5d})['write']();}}if(isOlderVersion(_0x4445f3,_0x2541ea(0x1b9))){let _0x579c28=dbConfig[_0x2541ea(0x11a)](_0x2541ea(0x295))['find']({'botID':botID})['value']();if(_0x579c28){const _0x5c2fd4=_0x579c28[_0x2541ea(0x175)],_0x394130=_0x5c2fd4?capitalize(_0x5c2fd4):_0x2541ea(0xfe);dbConfig[_0x2541ea(0x11a)](_0x2541ea(0x295))[_0x2541ea(0x26e)]({'botID':botID})['assign']({'exchange':_0x394130})[_0x2541ea(0x1bb)]();}}if(isOlderVersion(_0x4445f3,_0x2541ea(0x1f9))){let _0x5c1b9d=dbConfig[_0x2541ea(0x11a)](_0x2541ea(0x295))['find']({'botID':botID})[_0x2541ea(0x284)]();if(_0x5c1b9d){const _0xf87c=_0x5c1b9d[_0x2541ea(0x27c)],_0xd7120b=_0xf87c?_0x2541ea(0x19a):![];dbConfig['get']('bot')[_0x2541ea(0x26e)]({'botID':botID})[_0x2541ea(0x148)]({'marketcapEnabled':_0xd7120b})['write']();}}if(isOlderVersion(_0x4445f3,_0x2541ea(0x10c))){let _0x257159=dbConfig[_0x2541ea(0x11a)](_0x2541ea(0x295))[_0x2541ea(0x26e)]({'botID':botID})[_0x2541ea(0x284)]();if(_0x257159){const _0x1d2ec2=_0x257159['autoliquidity'],_0x257fbe=_0x1d2ec2?'update-liquidity':![];dbConfig['get']('bot')[_0x2541ea(0x26e)]({'botID':botID})['assign']({'autoliquidity':_0x257fbe})[_0x2541ea(0x1bb)]();}}let _0x5ef904=dbPerformance[_0x2541ea(0x11a)](_0x2541ea(0x18e))[_0x2541ea(0x284)]();isOlderVersion(_0x5ef904,_0x2541ea(0x2a9))&&setStartDatePerformance();let _0x2479ae=dbCoinResults['get'](_0x2541ea(0x18e))[_0x2541ea(0x284)]();if(isOlderVersion(_0x2479ae,_0x2541ea(0x19c))){let _0x1d731a=dbCoinResults[_0x2541ea(0x11a)](_0x2541ea(0x134))[_0x2541ea(0x284)]();if(_0x1d731a[_0x2541ea(0x1a5)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x5ed9a1=_0x3f47f9;dbConfig[_0x5ed9a1(0x142)]('version',serverversion)[_0x5ed9a1(0x1bb)](),dbPerformance[_0x5ed9a1(0x142)](_0x5ed9a1(0x18e),serverversion)['write'](),dbLogs[_0x5ed9a1(0x142)](_0x5ed9a1(0x18e),serverversion)[_0x5ed9a1(0x1bb)](),dbCoinResults[_0x5ed9a1(0x142)](_0x5ed9a1(0x18e),serverversion)[_0x5ed9a1(0x1bb)]();}function getConfiguration(_0x33394e){const _0x3d0af4=_0x3f47f9;let _0x2b6d32=dbConfig['get']('bot')['find']({'botID':_0x33394e})[_0x3d0af4(0x284)]();if(_0x2b6d32){let _0x186f41=![];typeof _0x2b6d32[_0x3d0af4(0x19d)]==_0x3d0af4(0x254)&&(_0x2b6d32={..._0x2b6d32,'threshold':Number(_0x2b6d32[_0x3d0af4(0x19d)])},_0x186f41=!![]),_0x2b6d32[_0x3d0af4(0x1b0)]==undefined&&(_0x2b6d32={..._0x2b6d32,'change24h':-0x14},_0x186f41=!![]),_0x2b6d32[_0x3d0af4(0x206)]==undefined&&(_0x2b6d32={..._0x2b6d32,'fiat':'USD'},_0x186f41=!![]),_0x2b6d32[_0x3d0af4(0x218)]==undefined&&(_0x2b6d32={..._0x2b6d32,'onepagemode':settings[_0x3d0af4(0x218)]},_0x186f41=!![]),_0x2b6d32[_0x3d0af4(0x210)]==undefined&&(_0x2b6d32={..._0x2b6d32,'colorscheme':'red_yellow_blue'},_0x186f41=!![]),_0x2b6d32[_0x3d0af4(0x12a)]==undefined&&(_0x2b6d32={..._0x2b6d32,'autoliquidity':'update-liquidity'},_0x186f41=!![]),_0x2b6d32['marketcapApi']==undefined&&(_0x2b6d32={..._0x2b6d32,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x186f41=!![]),_0x2b6d32[_0x3d0af4(0x27c)]==undefined&&(_0x2b6d32={..._0x2b6d32,'marketcapEnabled':![]},_0x186f41=!![]),_0x2b6d32[_0x3d0af4(0x25c)]==undefined&&(_0x2b6d32={..._0x2b6d32,'sandbox':![]},_0x186f41=!![]),_0x186f41&&(_0x2b6d32={'botID':_0x2b6d32['botID'],'exchange':_0x2b6d32[_0x3d0af4(0x175)],'apiKey':_0x2b6d32['apiKey'],'apiSecret':_0x2b6d32[_0x3d0af4(0x131)],'apiPassword':_0x2b6d32[_0x3d0af4(0x1c4)],'basecoin':_0x2b6d32[_0x3d0af4(0x1a3)],'botname':_0x2b6d32[_0x3d0af4(0xee)],'showname':_0x2b6d32[_0x3d0af4(0x16e)],'threshold':_0x2b6d32[_0x3d0af4(0x19d)],'ordertype':_0x2b6d32[_0x3d0af4(0x22e)],'timeout':_0x2b6d32[_0x3d0af4(0x1ee)],'fiat':_0x2b6d32['fiat'],'startdate':_0x2b6d32[_0x3d0af4(0x1a2)],'recreate':_0x2b6d32['recreate'],'timeshift':_0x2b6d32[_0x3d0af4(0x1c7)],'onepagemode':_0x2b6d32[_0x3d0af4(0x218)],'headless':_0x2b6d32['headless'],'cooldown':_0x2b6d32[_0x3d0af4(0x153)],'change24h':_0x2b6d32[_0x3d0af4(0x1b0)],'emojibuy':_0x2b6d32['emojibuy'],'emojisell':_0x2b6d32['emojisell'],'colorscheme':_0x2b6d32[_0x3d0af4(0x210)],'marketcapApi':_0x2b6d32[_0x3d0af4(0x169)],'marketcapEnabled':_0x2b6d32[_0x3d0af4(0x27c)],'sandbox':_0x2b6d32[_0x3d0af4(0x25c)],'portfolio':_0x2b6d32['portfolio'],'autoliquidity':_0x2b6d32[_0x3d0af4(0x12a)],'liquidity':_0x2b6d32['liquidity'],'openOrders':_0x2b6d32[_0x3d0af4(0x248)]},dbConfig[_0x3d0af4(0x11a)]('bot')[_0x3d0af4(0x2b5)]()['write'](),dbConfig[_0x3d0af4(0x11a)](_0x3d0af4(0x295))[_0x3d0af4(0x1b5)](_0x2b6d32)[_0x3d0af4(0x1bb)]());}else _0x2b6d32={'botID':_0x33394e,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x33394e,'showname':![],'threshold':0x3,'ordertype':_0x3d0af4(0x144),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x3d0af4(0x1c7)],'onepagemode':settings[_0x3d0af4(0x218)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x3d0af4(0x1f6),'marketcapApi':settings[_0x3d0af4(0x169)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x3d0af4(0x18d),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2b6d32;}function emittedConfiguration(){const _0x23a432=_0x3f47f9;let _0x58483e;if(config['apiKey']=='')_0x58483e={...config,'configstate':_0x23a432(0x1cd)};else config[_0x23a432(0x106)]==_0x23a432(0x1b2)?_0x58483e={...config,'configstate':_0x23a432(0x23c)}:(_0x58483e={...config,'apiKey':_0x23a432(0x1ec),'apiSecret':_0x23a432(0x1ec)},config[_0x23a432(0x1c4)]&&(_0x58483e[_0x23a432(0x1c4)]=_0x23a432(0x1ec)));return _0x58483e[_0x23a432(0x176)]=enableFiatToggle,_0x58483e;}function getSettings(){const _0x420209=_0x3f47f9;return dbSettings['get'](_0x420209(0x28f))[_0x420209(0x284)]();}function getSecure(){const _0x89fa32=_0x3f47f9;return dbSecure['get']('secure')[_0x89fa32(0x284)]()||{};}function updateTimeshift(_0x4a9cc2){const _0x224af2=_0x3f47f9;let _0x113ef6=dbConfig[_0x224af2(0x11a)](_0x224af2(0x295))['find']({'botID':botID})[_0x224af2(0x284)]();_0x113ef6&&dbConfig[_0x224af2(0x11a)](_0x224af2(0x295))['find']({'botID':botID})['assign']({'timeshift':_0x4a9cc2})['write'](),config['timeshift']=_0x4a9cc2,proxyEmit(_0x224af2(0x207),emittedConfiguration());}function updateOnepagemode(_0x344599){const _0x3cefb3=_0x3f47f9;let _0x4cca3a=dbConfig[_0x3cefb3(0x11a)](_0x3cefb3(0x295))[_0x3cefb3(0x26e)]({'botID':botID})[_0x3cefb3(0x284)]();_0x4cca3a&&dbConfig[_0x3cefb3(0x11a)]('bot')['find']({'botID':botID})['assign']({'onepagemode':_0x344599})[_0x3cefb3(0x1bb)](),config[_0x3cefb3(0x218)]=_0x344599,proxyEmit(_0x3cefb3(0x207),emittedConfiguration());}function updateMarketcapApi(_0x2c2175){const _0x5a7895=_0x3f47f9,_0xcad085=_0x2c2175?!![]:![];let _0x503638=dbConfig[_0x5a7895(0x11a)](_0x5a7895(0x295))[_0x5a7895(0x26e)]({'botID':botID})['value']();_0x503638&&dbConfig['get']('bot')['find']({'botID':botID})[_0x5a7895(0x148)]({'marketcapApi':_0xcad085})[_0x5a7895(0x1bb)](),config[_0x5a7895(0x169)]=_0xcad085,getMarketCap(),proxyEmit(_0x5a7895(0x207),emittedConfiguration());}async function storeConfiguration(_0xa0571f){const _0x4c2c03=_0x3f47f9;logger[_0x4c2c03(0xdc)](_0x4c2c03(0x125));_0xa0571f[_0x4c2c03(0x174)]&&delete _0xa0571f['configstate'];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x568f35=![],_0x416aad=![],_0x413ee0=[];_0xa0571f[_0x4c2c03(0x25b)][_0x4c2c03(0x15f)](_0x2b3496=>{const _0x25b0d4=_0x4c2c03;if(!_0x2b3496['excluded']&&_0x2b3496['coin']!=_0xa0571f[_0x25b0d4(0x1a3)])_0x413ee0[_0x25b0d4(0x1b5)](_0x2b3496[_0x25b0d4(0x21d)]);}),_0x413ee0[_0x4c2c03(0x15f)](_0x147249=>{const _0x5420f8=_0x4c2c03,_0xa5fe3=currentCoins[_0x5420f8(0x26e)](_0x2276c0=>_0x2276c0['symbol']==_0x147249);!_0xa5fe3&&(_0x568f35=!![]);}),currentCoins[_0x4c2c03(0x15f)](_0x19f4c4=>{const _0x5f0316=_0x4c2c03;if(_0x19f4c4['coin']!=config[_0x5f0316(0x1a3)]){const _0x590574=_0x413ee0[_0x5f0316(0x26e)](_0x2e9649=>_0x2e9649==_0x19f4c4['symbol']);!_0x590574&&(_0x568f35=!![]);}}),_0xa0571f[_0x4c2c03(0x25b)][_0x4c2c03(0x15f)](_0x4afeaf=>{const _0x3c4306=_0x4c2c03,_0x1147eb=config[_0x3c4306(0x25b)]['find'](_0x5c0ae5=>_0x5c0ae5['coin']==_0x4afeaf['coin']);if(_0x1147eb&&_0x4afeaf[_0x3c4306(0x19e)]!=_0x1147eb[_0x3c4306(0x19e)])_0x416aad=!![];});let _0x59f086=dbConfig['get']('bot')['find']({'botID':botID})[_0x4c2c03(0x284)]();_0xa0571f={..._0xa0571f,'apiKey':decryptRSA(secure[_0x4c2c03(0x1c2)],_0xa0571f[_0x4c2c03(0x106)]),'apiSecret':decryptRSA(secure[_0x4c2c03(0x1c2)],_0xa0571f[_0x4c2c03(0x131)])};_0xa0571f[_0x4c2c03(0x1c4)]&&(_0xa0571f[_0x4c2c03(0x1c4)]=decryptRSA(secure[_0x4c2c03(0x1c2)],_0xa0571f[_0x4c2c03(0x1c4)]));let _0x535f4f=![];if(_0x59f086){_0xa0571f[_0x4c2c03(0x106)]=='************'?_0xa0571f[_0x4c2c03(0x106)]=config['apiKey']:_0x535f4f=!![];_0xa0571f[_0x4c2c03(0x131)]==_0x4c2c03(0x1ec)?_0xa0571f['apiSecret']=config[_0x4c2c03(0x131)]:_0x535f4f=!![];if(_0xa0571f['apiPassword']==_0x4c2c03(0x1ec))_0xa0571f[_0x4c2c03(0x1c4)]=config['apiPassword'];else{if(_0xa0571f['apiPassword'])_0x535f4f=!![];}dbConfig[_0x4c2c03(0x11a)](_0x4c2c03(0x295))[_0x4c2c03(0x26e)]({'botID':botID})['assign'](_0xa0571f)[_0x4c2c03(0x1bb)]();}else dbConfig[_0x4c2c03(0x11a)](_0x4c2c03(0x295))[_0x4c2c03(0x1b5)](_0xa0571f)['write'](),_0x535f4f=!![],process[_0x4c2c03(0x165)]({'status':_0x4c2c03(0xe0),'live':_0x4c2c03(0x100)},_0x37bfe3=>{});process[_0x4c2c03(0x165)]({'botname':_0xa0571f['botname']},_0x30e4de=>{}),config={..._0xa0571f},updateBotManager(),proxyEmit(_0x4c2c03(0x1e0)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x535f4f)await reset(!![]);else _0x568f35||_0x416aad?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x345241){const _0x629af1=_0x3f47f9,_0x3eb1fd={...config,'headless':_0x345241['headless']};let _0x82d9a1=dbConfig['get']('bot')[_0x629af1(0x26e)]({'botID':botID})['value']();_0x82d9a1&&dbConfig[_0x629af1(0x11a)](_0x629af1(0x295))[_0x629af1(0x26e)]({'botID':botID})[_0x629af1(0x148)](_0x3eb1fd)[_0x629af1(0x1bb)](),config={..._0x3eb1fd},updateBotManager(),proxyEmit(_0x629af1(0x207),emittedConfiguration());}async function storeFiat(_0x34c342){const _0xdf4773=_0x3f47f9,_0x972a7c={...config,'fiat':_0x34c342};let _0x34e210=dbConfig[_0xdf4773(0x11a)](_0xdf4773(0x295))['find']({'botID':botID})['value']();_0x34e210&&dbConfig[_0xdf4773(0x11a)](_0xdf4773(0x295))[_0xdf4773(0x26e)]({'botID':botID})[_0xdf4773(0x148)](_0x972a7c)[_0xdf4773(0x1bb)](),config={..._0x972a7c},proxyEmit(_0xdf4773(0x207),emittedConfiguration());}function resetHistory(){const _0x559d5e=_0x3f47f9;logger['full'](_0x559d5e(0x15a));try{if(fs['existsSync'](path[_0x559d5e(0x289)](configpath,'bot-'+botID+_0x559d5e(0x213))))fs['unlinkSync'](path[_0x559d5e(0x289)](configpath,_0x559d5e(0x266)+botID+'-events.json'));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+_0x559d5e(0x238))))fs[_0x559d5e(0x2a3)](path[_0x559d5e(0x289)](configpath,'bot-'+botID+_0x559d5e(0x238)));if(fs['existsSync'](path[_0x559d5e(0x289)](configpath,_0x559d5e(0x266)+botID+_0x559d5e(0x18f))))fs[_0x559d5e(0x2a3)](path['join'](configpath,_0x559d5e(0x266)+botID+_0x559d5e(0x18f)));}catch(_0xffc03b){if(_0xffc03b)logger['full'](_0x559d5e(0x245),_0xffc03b);}const _0xd7f376=getDate();let _0x1fdf3b=[];currentCoins[_0x559d5e(0x15f)](_0x567143=>{const _0x465e68=_0x559d5e;_0x1fdf3b[_0x465e68(0x1b5)]({'coin':_0x567143[_0x465e68(0x23f)],'number':_0x567143['number'],'price':_0x567143[_0x465e68(0x202)]});});let _0x340e98=dbConfig[_0x559d5e(0x11a)](_0x559d5e(0x295))[_0x559d5e(0x26e)]({'botID':botID})[_0x559d5e(0x284)]();_0x340e98&&(dbConfig[_0x559d5e(0x11a)](_0x559d5e(0x295))[_0x559d5e(0x26e)]({'botID':botID})[_0x559d5e(0x148)]({'liquidity':[{'date':_0xd7f376,'changes':_0x1fdf3b}]})[_0x559d5e(0x1bb)](),config[_0x559d5e(0x267)]=[]),restartBot(!![]);}function noslash(_0x1e0444){const _0x1f4365=_0x3f47f9;return _0x1e0444[_0x1f4365(0x11e)]('/','');}function updateHighestFee(_0x8758fe){const _0x3946c6=_0x3f47f9;if(_0x8758fe[_0x3946c6(0x167)]){let _0xd48008={'filled':_0x8758fe['filled']*_0x8758fe[_0x3946c6(0x128)],'amount':_0x8758fe[_0x3946c6(0x290)]*_0x8758fe[_0x3946c6(0x128)],'side':_0x8758fe[_0x3946c6(0x2ab)]==_0x3946c6(0xe7)?_0x3946c6(0xf6):_0x3946c6(0xe7),'price':0x1/_0x8758fe[_0x3946c6(0x128)]};_0x8758fe={..._0x8758fe,..._0xd48008};}const _0x5239d=defaultFee*_0x8758fe[_0x3946c6(0x290)]*_0x8758fe[_0x3946c6(0x128)];lastFees['recent20'][_0x3946c6(0x1a5)]===0x14&&lastFees[_0x3946c6(0x2ac)]['shift'](),lastFees[_0x3946c6(0x2ac)][_0x3946c6(0x1b5)](_0x5239d),lastFees[_0x3946c6(0x247)]=Math[_0x3946c6(0x27f)](...lastFees[_0x3946c6(0x2ac)]);}async function updateNumberCoinsCcxt(_0x3241d0){const _0x19e126=_0x3f47f9;logger['debug'](_0x19e126(0xf5)+_0x3241d0[_0x19e126(0x21d)]+'\x20|\x20'+_0x3241d0[_0x19e126(0x1b4)]+_0x19e126(0x10f)+_0x3241d0[_0x19e126(0x290)]+'\x20/\x20'+_0x3241d0[_0x19e126(0x25e)]+_0x19e126(0x10f)+_0x3241d0['id']);let _0x2d62cc=_0x3241d0[_0x19e126(0x1b4)],_0x251cae=![];currentCoins[_0x19e126(0x15f)](_0x4ad5d6=>{const _0x428a6e=_0x19e126;_0x4ad5d6[_0x428a6e(0x21d)]==_0x3241d0['symbol']&&(_0x251cae=!![]);});if(!_0x251cae)return;const _0x40b6ae=currentCoins[_0x19e126(0x26e)](_0x335d0e=>_0x335d0e[_0x19e126(0x21d)]==_0x3241d0['symbol']),_0x455eb9=_0x40b6ae[_0x19e126(0x23f)],_0x12f184=_0xff6780=>{const _0x114e0e=_0x19e126,_0x383a90=currentCoins[_0x114e0e(0x26e)](_0x296708=>_0x296708[_0x114e0e(0x21d)]==_0x3241d0[_0x114e0e(0x21d)]);if(_0x383a90)_0x383a90['orderstatus']=_0xff6780;};let _0xb924c2=![];for(const _0x3da304 of lastOrders){const _0x248427=0x64,_0x481ac9=0x1388;let _0x2eae02=0x0;while(!_0x3da304[_0x19e126(0x162)]&&_0x2eae02*_0x248427<_0x481ac9){_0x2eae02++,await sleep(_0x248427);}if(_0x2eae02>0x0)logger[_0x19e126(0xdc)](_0x19e126(0x127)+_0x2eae02*_0x248427/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x3da304[_0x19e126(0x162)]==_0x3241d0['id']&&(_0xb924c2=!![]);}if(_0x2d62cc==_0x19e126(0x223)){_0x12f184(_0x19e126(0x223));if(_0x3241d0[_0x19e126(0x290)]>0x0&&_0x3241d0[_0x19e126(0x290)]<_0x3241d0['amount']){if(_0xb924c2){setBlockTransactionDetection(!![]),logger[_0x19e126(0xdc)](_0x19e126(0x291)+_0x3241d0[_0x19e126(0x290)]+_0x19e126(0xdf)+_0x3241d0['id']);const _0x5c22b7=await getCoins(balanceUpdateDelay,undefined,undefined,_0x455eb9);[currentCoins,currentCoinsAll]=_0x5c22b7,setBlockTransactionDetection(![]);}else logger[_0x19e126(0xdc)](_0x19e126(0x291)+_0x3241d0[_0x19e126(0x290)]+_0x19e126(0x188)+_0x3241d0['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x2d62cc=='canceled'){_0x12f184(_0x19e126(0x278)),lastOrders=lastOrders[_0x19e126(0x113)](_0x4ec044=>_0x4ec044[_0x19e126(0x21d)]!=_0x3241d0[_0x19e126(0x21d)]);const _0x2f6737=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2f6737,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x2d62cc=='closed'){if(lastOrders)for(const _0x1876ac of lastOrders){if(_0x1876ac['orderId']==_0x3241d0['id']){logger[_0x19e126(0xdc)](_0x19e126(0x228)+_0x3241d0['id']),_0xb924c2=!![];if(_0x1876ac[_0x19e126(0x290)]==0x0){setBlockTransactionDetection(!![]),logger['debug']('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x3241d0['id']);if(_0x3241d0[_0x19e126(0x16c)])_0x1876ac[_0x19e126(0x128)]=_0x3241d0[_0x19e126(0x16c)];else{if(_0x3241d0[_0x19e126(0x128)])_0x1876ac[_0x19e126(0x128)]=_0x3241d0[_0x19e126(0x128)];else{}}_0x1876ac['filled']=_0x3241d0[_0x19e126(0x290)],updateHighestFee(_0x1876ac);const _0x56b2d6=await getCoins(balanceUpdateDelay,undefined,undefined,_0x455eb9);[currentCoins,currentCoinsAll]=_0x56b2d6,setBlockTransactionDetection(![]),await validateOrders(),_0x12f184(_0x19e126(0x290)),_0x1876ac[_0x19e126(0x168)]={'currency':_0x3241d0[_0x19e126(0x168)]?_0x3241d0[_0x19e126(0x168)][_0x19e126(0x1b8)]:null,'cost':_0x3241d0[_0x19e126(0x168)]?_0x3241d0['fee'][_0x19e126(0x146)]:0x0},await updatePnL(_0x1876ac);}}}!_0xb924c2&&(logger[_0x19e126(0xdc)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x3241d0['id']),_0x12f184(_0x19e126(0x290)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x1f56ec=JSON[_0x19e126(0x172)](lastBalances[_0x19e126(0x25b)]);const _0x30e2c8=_0x1f56ec[_0x19e126(0x26e)](_0x32817a=>_0x32817a[_0x19e126(0x21d)]==_0x3241d0[_0x19e126(0x21d)]);if(_0x30e2c8){if(_0x2d62cc=='open')_0x30e2c8['orderstatus']=_0x30e2c8['orderstatus']==_0x19e126(0x290)?_0x19e126(0x290):'open';else{if(_0x2d62cc==_0x19e126(0x278))_0x30e2c8[_0x19e126(0x177)]=_0x30e2c8[_0x19e126(0x177)]==_0x19e126(0x290)?_0x19e126(0x290):_0x19e126(0x278);else _0x2d62cc=='closed'&&(_0x30e2c8['orderstatus']=_0x19e126(0x290));}}lastBalances={...lastBalances,'portfolio':JSON[_0x19e126(0x1d0)](_0x1f56ec)},proxyEmit(_0x19e126(0x232),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x52200d=_0x3f47f9;await getOpenOrders();let _0x178916=![];currentCoins[_0x52200d(0x15f)](_0x4410c1=>{const _0x42c421=_0x52200d;_0x178916=allOpenOrders[_0x42c421(0x26e)](_0x5d01f1=>_0x5d01f1['symbol']==_0x4410c1['symbol']),_0x4410c1['orderstatus']=_0x178916?_0x42c421(0x223):_0x42c421(0x220);});}async function fetchBalance(_0x9bf688=!![]){const _0x2633d6=_0x3f47f9;let _0x34c9d4,_0x1d6013,_0x368699,_0xec10ea=0x0;while(!_0x1d6013&&_0xec10ea<maxRetries){try{return _0x34c9d4=await exchange[_0x2633d6(0x286)](),_0x1d6013=_0x34c9d4[_0x2633d6(0x230)],_0x1d6013;}catch(_0x5a75f3){_0x368699=_0x5a75f3,_0xec10ea++,await sleep(retryInterval);}}return!_0x9bf688?handleErrorNoStop(_0x368699,_0x2633d6(0x13c)):await handleError(_0x368699,'fetchBalance()'),![];}async function getCoins(_0x89743b=0x0,_0x272292=!![],_0x4b355d=config['basecoin'],_0x5a3a60){const _0x17dd1e=_0x3f47f9;let _0xc43b70=[],_0x5a8288=[],_0x35224a=[],_0x4830df;if(_0x89743b)await sleep(_0x89743b);if(botPaused)return[currentCoins,currentCoinsAll];let _0x3458ef=![],_0x100d85=0x0,_0x31da89,_0x251293;_0x5a3a60&&(_0x31da89=currentCoins['find'](_0x3b2e54=>_0x3b2e54[_0x17dd1e(0x23f)]==_0x5a3a60),_0x31da89&&(_0x251293=_0x31da89[_0x17dd1e(0x163)],delete _0x31da89[_0x17dd1e(0x163)]));while(!_0x3458ef){_0x4830df=await fetchBalance(_0x272292);if(_0x4830df){if(_0x5a3a60){if(_0x4830df[_0x5a3a60]!=_0x251293)logger['debug'](_0x17dd1e(0x2b1)+_0x5a3a60+':\x20'+_0x4830df[_0x5a3a60]+'\x20('+_0x251293+')'),_0x3458ef=!![];else{logger[_0x17dd1e(0xdc)](_0x17dd1e(0x1c3)+_0x5a3a60+':\x20'+_0x4830df[_0x5a3a60]+'\x20('+_0x251293+')'),_0x100d85++;if(_0x100d85<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x17dd1e(0xdc)](_0x17dd1e(0x1f0)+_0x100d85+_0x17dd1e(0x1c1));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x498679,_0x40b9a8]of Object[_0x17dd1e(0x27d)](_0x4830df)){_0x35224a['push'](_0x498679);}config[_0x17dd1e(0x25b)]['forEach'](_0x20eb3a=>{const _0x16d149=_0x17dd1e;!_0x35224a[_0x16d149(0x120)](_0x20eb3a[_0x16d149(0x23f)])&&(_0x4830df[_0x20eb3a['coin']]=0x0);});if(_0x4b355d=='')for(const [_0x15f7f2,_0x12cbab]of Object[_0x17dd1e(0x27d)](_0x4830df)){_0x12cbab!=0x0&&_0xc43b70['push']({'coin':_0x15f7f2});}else for(const [_0x171d66,_0x2d4613]of Object['entries'](_0x4830df)){const _0x40b77b=config[_0x17dd1e(0x25b)][_0x17dd1e(0x26e)](_0x1223e9=>_0x1223e9[_0x17dd1e(0x23f)]==_0x171d66),_0x3e6e7c=_0x171d66+'/'+_0x4b355d,_0x2ac3a4=_0x4b355d+'/'+_0x171d66,_0x23bafa=currentCoins['find'](_0x17f1c3=>_0x17f1c3[_0x17dd1e(0x23f)]==_0x171d66);if((_0x2d4613!=0x0||_0x40b77b)&&(allSymbols[_0x17dd1e(0x120)](_0x3e6e7c)||_0x171d66==_0x4b355d))_0x23bafa?_0xc43b70['push']({..._0x23bafa,'number':Math[_0x17dd1e(0x27f)](_0x2d4613+(_0x40b77b&&_0x40b77b[_0x17dd1e(0x19e)]||0x0),0x0)}):_0xc43b70['push']({'coin':_0x171d66,'symbol':_0x3e6e7c,'reverse':![],'number':Math[_0x17dd1e(0x27f)](_0x2d4613+(_0x40b77b&&_0x40b77b[_0x17dd1e(0x19e)]||0x0),0x0),'orderstatus':'none'});else{if((_0x2d4613!=0x0||_0x40b77b)&&allSymbols[_0x17dd1e(0x120)](_0x2ac3a4))_0x23bafa?_0xc43b70[_0x17dd1e(0x1b5)]({..._0x23bafa,'number':Math[_0x17dd1e(0x27f)](_0x2d4613+(_0x40b77b&&_0x40b77b[_0x17dd1e(0x19e)]||0x0),0x0)}):_0xc43b70[_0x17dd1e(0x1b5)]({'coin':_0x171d66,'symbol':_0x2ac3a4,'reverse':!![],'number':Math[_0x17dd1e(0x27f)](_0x2d4613+(_0x40b77b&&_0x40b77b[_0x17dd1e(0x19e)]||0x0),0x0),'orderstatus':'none'});else _0x40b77b&&_0xc43b70[_0x17dd1e(0x1b5)]({'coin':_0x40b77b[_0x17dd1e(0x23f)],'symbol':_0x40b77b[_0x17dd1e(0x21d)],'reverse':_0x40b77b[_0x17dd1e(0x167)],'number':0x0,'orderstatus':_0x17dd1e(0x220)});}}return _0xc43b70[_0x17dd1e(0x11f)]((_0x481094,_0x1cc8b8)=>_0x481094['delta']<_0x1cc8b8[_0x17dd1e(0x102)]?0x1:_0x1cc8b8['delta']<_0x481094[_0x17dd1e(0x102)]?-0x1:0x0),_0x5a8288=cloneDeep(_0xc43b70),_0xc43b70=_0xc43b70[_0x17dd1e(0x113)](_0x4e4c9f=>{const _0x2ab04b=_0x17dd1e,_0x1379dd=config[_0x2ab04b(0x25b)][_0x2ab04b(0x26e)](_0x37ae79=>_0x37ae79[_0x2ab04b(0x23f)]==_0x4e4c9f[_0x2ab04b(0x23f)]);return _0x1379dd&&!_0x1379dd[_0x2ab04b(0x13f)];}),[_0xc43b70,_0x5a8288];}async function getOpenOrders(){const _0x320c3e=_0x3f47f9;let _0x51bb08;allOpenOrders=[];try{for(const _0x1b5980 of config[_0x320c3e(0x25b)]){!_0x1b5980[_0x320c3e(0x13f)]&&_0x1b5980[_0x320c3e(0x23f)]!=config['basecoin']&&(_0x51bb08=await exchange['fetchOpenOrders'](_0x1b5980[_0x320c3e(0x21d)]),_0x51bb08[_0x320c3e(0x1a5)]>0x0&&allOpenOrders['push'](_0x51bb08[0x0]));}}catch(_0x1ecb50){await handleError(_0x1ecb50,_0x320c3e(0x1d4));}}async function handleOpenOrders(_0x4daf80=0x0){const _0x310a04=_0x3f47f9;allOpenOrders[_0x310a04(0x1a5)]==0x0&&lockOrders==ORDERS[_0x310a04(0x201)]&&allOrdersPlaced&&(_0x4daf80==0x0?(logger[_0x310a04(0xdc)](_0x310a04(0x2a8)),_0x4daf80++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x310a04(0xdc)](_0x310a04(0x21f)),validateOrders(_0x310a04(0x190))));}async function testAPI(){const _0x13a8f8=_0x3f47f9;try{return await exchange[_0x13a8f8(0x286)](),!![];}catch(_0x48b7bc){loading[_0x13a8f8(0x1f3)]=!![],_0x48b7bc[_0x13a8f8(0x239)]()['toLowerCase']()['includes']('timestamp')||_0x48b7bc['toString']()[_0x13a8f8(0x261)]()[_0x13a8f8(0x120)](_0x13a8f8(0x166))?(logHistory(_0x13a8f8(0x294),_0x13a8f8(0x1fc)),loading['error']=_0x13a8f8(0x1f1)):handleErrorNoStop(_0x48b7bc,_0x13a8f8(0x13b),!![]),logHistory(_0x13a8f8(0x294),_0x13a8f8(0x196)),logHistory('error',_0x13a8f8(0x1e8)+loadCoinsRetryInterval/0xea60+_0x13a8f8(0x233)),logger['debug'](_0x13a8f8(0x21e),_0x48b7bc),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x34e615){const _0x2b0022=_0x3f47f9;logger[_0x2b0022(0xdc)](_0x2b0022(0x2a6));const _0x124797=ccxt[_0x2b0022(0x12b)][_0x34e615[_0x2b0022(0x175)][_0x2b0022(0x261)]()],_0x51de5d=new _0x124797({'apiKey':_0x34e615['apiKey'],'secret':_0x34e615[_0x2b0022(0x131)],'options':{'defaultType':'spot'}});if(_0x34e615[_0x2b0022(0x1c4)])_0x51de5d['password']=_0x34e615[_0x2b0022(0x1c4)];if(_0x51de5d[_0x2b0022(0xfb)]['sandbox'])_0x51de5d[_0x2b0022(0x11c)](_0x34e615[_0x2b0022(0x25c)]);if(_0x34e615[_0x2b0022(0x175)][_0x2b0022(0x261)]()==_0x2b0022(0x288))exchange[_0x2b0022(0x221)][_0x2b0022(0x255)]=operatorId;try{await _0x51de5d[_0x2b0022(0x286)](),botPaused=![];}catch(_0x178577){logger[_0x2b0022(0xdc)]('Error\x20in\x20testNewAPI():\x20'+_0x178577['toString']());throw _0x178577;}}function cloneDeep(_0xff35c2){const _0x5b77cb=_0x3f47f9;return JSON[_0x5b77cb(0x172)](JSON[_0x5b77cb(0x1d0)](_0xff35c2));}async function getPortfolio(_0x503ae9){const _0x344082=_0x3f47f9;let _0x362b87=[],_0x3c2303=[],_0x111b9b=[],_0x3bc399;_0x503ae9[_0x344082(0x106)]=decryptRSA(secure[_0x344082(0x1c2)],_0x503ae9['apiKey']),_0x503ae9['apiSecret']=decryptRSA(secure[_0x344082(0x1c2)],_0x503ae9['apiSecret']);if(_0x503ae9['apiPassword'])_0x503ae9['apiPassword']=decryptRSA(secure['privateKey'],_0x503ae9[_0x344082(0x1c4)]);if(_0x503ae9[_0x344082(0x106)]!==_0x344082(0x1ec)||_0x503ae9['apiSecret']!==_0x344082(0x1ec)||_0x503ae9[_0x344082(0x1c4)]&&_0x503ae9[_0x344082(0x1c4)]!==_0x344082(0x1ec)){if(config[_0x344082(0x175)]){if(_0x503ae9['apiKey']==_0x344082(0x1ec))_0x503ae9[_0x344082(0x106)]=config[_0x344082(0x106)];if(_0x503ae9['apiSecret']==_0x344082(0x1ec))_0x503ae9[_0x344082(0x131)]=config[_0x344082(0x131)];if(_0x503ae9[_0x344082(0x1c4)]==_0x344082(0x1ec))_0x503ae9['apiPassword']=config[_0x344082(0x1c4)];}try{if(_0x503ae9[_0x344082(0x277)])await testNewAPI(_0x503ae9);}catch(_0x98e43c){if(_0x98e43c[_0x344082(0x239)]()[_0x344082(0x120)](_0x344082(0xe1))){logHistory(_0x344082(0x294),_0x344082(0x145)),logHistory(_0x344082(0x294),_0x344082(0x251)+_0x98e43c['toString']()),proxyEmit(_0x344082(0x10d),![]);return;}else{if(_0x98e43c[_0x344082(0x239)]()[_0x344082(0x120)]('PermissionDenied')){logHistory(_0x344082(0x294),'Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x344082(0x294),_0x344082(0x251)+_0x98e43c[_0x344082(0x239)]()),proxyEmit('portfolio1',![]);return;}else{logHistory(_0x344082(0x294),'Error\x20occurred:\x20'+_0x98e43c[_0x344082(0x239)]()),logger[_0x344082(0xdc)](_0x344082(0x21e),_0x98e43c),proxyEmit('portfolio1',![]);return;}}}exchange?updateExchange(_0x503ae9[_0x344082(0x106)],_0x503ae9[_0x344082(0x131)],_0x503ae9[_0x344082(0x1c4)]):await initExchange(_0x503ae9['exchange'],_0x503ae9[_0x344082(0x106)],_0x503ae9[_0x344082(0x131)],_0x503ae9[_0x344082(0x1c4)],_0x503ae9[_0x344082(0x25c)]);await loadSymbols();const _0x33d31c=await getCoins(0x0,![],_0x503ae9[_0x344082(0x1a3)]);_0x111b9b=cloneDeep(_0x33d31c[0x1]);}else{const _0x29cc2c=await getCoins();_0x111b9b=cloneDeep(_0x29cc2c[0x1]);}if(_0x503ae9['basecoin']=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x344082(0x161),_0x111b9b);else{_0x111b9b['forEach'](_0x152ada=>{const _0x1cf652=_0x344082;if(_0x152ada[_0x1cf652(0x23f)]!=_0x503ae9[_0x1cf652(0x1a3)]&&allSymbols['includes'](_0x152ada[_0x1cf652(0x21d)]))_0x362b87[_0x1cf652(0x1b5)](_0x152ada[_0x1cf652(0x21d)]);});if(_0x362b87[_0x344082(0x1a5)]==0x0)logHistory('error','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x3c2303=await getTickers(_0x362b87);}catch(_0x395e82){logHistory('error',_0x344082(0x203)),logger[_0x344082(0xdc)](_0x344082(0x21e),_0x395e82),proxyEmit('portfolio1',![]);return;}_0x111b9b[_0x344082(0x15f)](_0x24d477=>{const _0x8c0286=_0x344082;_0x24d477[_0x8c0286(0x23f)]!=_0x503ae9[_0x8c0286(0x1a3)]?_0x3c2303[_0x24d477[_0x8c0286(0x21d)]]?_0x3c2303[_0x24d477[_0x8c0286(0x21d)]]['last']?_0x3bc399=_0x24d477[_0x8c0286(0x167)]?0x1/_0x3c2303[_0x24d477[_0x8c0286(0x21d)]][_0x8c0286(0x202)]:_0x3c2303[_0x24d477['symbol']][_0x8c0286(0x202)]:_0x3bc399=0x0:_0x3bc399=0x0:_0x3bc399=0x1,_0x24d477['price']=formatResult(_0x3bc399,0x8);}),await getMarketCap(_0x111b9b),proxyEmit(_0x344082(0x10d),!![]),proxyEmit(_0x344082(0x161),_0x111b9b);}}}function truncateTradeAmount(_0x546532,_0x3fcca5){const _0x349658=_0x3f47f9;let _0x2c03c2=0x0;try{_0x2c03c2=exchange[_0x349658(0x10a)](_0x546532,_0x3fcca5);}catch(_0x534b27){}return _0x2c03c2;}function checkMinimums(_0xfcac3b){const _0x4b372a=_0x3f47f9;let _0x29bfee=!![];const _0x41ad38=!_0xfcac3b['reverse']?markets[_0xfcac3b[_0x4b372a(0x21d)]]['limits']['amount']['min']:markets[_0xfcac3b[_0x4b372a(0x21d)]][_0x4b372a(0xe8)][_0x4b372a(0x146)]['min'],_0x3c2f80=!_0xfcac3b[_0x4b372a(0x167)]?markets[_0xfcac3b[_0x4b372a(0x21d)]][_0x4b372a(0xe8)]['cost'][_0x4b372a(0x28a)]:markets[_0xfcac3b['symbol']][_0x4b372a(0xe8)][_0x4b372a(0x25e)][_0x4b372a(0x28a)],_0x119717=truncateTradeAmount(_0xfcac3b['symbol'],_0xfcac3b[_0x4b372a(0x28b)]);_0xfcac3b[_0x4b372a(0x28b)]=_0x119717;if(Math[_0x4b372a(0x244)](_0x119717)<_0x41ad38)_0x29bfee=![];if(Math[_0x4b372a(0x244)](_0x119717)*_0xfcac3b[_0x4b372a(0x202)]<_0x3c2f80)_0x29bfee=![];let _0x1974e0='';if(_0xfcac3b[_0x4b372a(0x2ab)]==_0x4b372a(0xe7)){let _0x57ed92=config[_0x4b372a(0x25b)][_0x4b372a(0x26e)](_0x18bc68=>_0x18bc68[_0x4b372a(0x23f)]==_0xfcac3b['coin']);_0x57ed92[_0x4b372a(0x19e)]>0x0?Math[_0x4b372a(0x244)](_0x119717)>_0xfcac3b[_0x4b372a(0x17c)]-_0x57ed92['offset']&&(_0x29bfee=![],_0x1974e0=_0x4b372a(0xdd)+_0x57ed92[_0x4b372a(0x23f)]+'\x20due\x20to\x20offset'):Math[_0x4b372a(0x244)](_0x119717)>_0xfcac3b['number']&&(_0x29bfee=![]);}if(_0xfcac3b['side']=='buy'){let _0x4fdb3c=config[_0x4b372a(0x25b)]['find'](_0x1a9f75=>_0x1a9f75[_0x4b372a(0x23f)]==config['basecoin']),_0x37cd10=currentCoins[_0x4b372a(0x26e)](_0x311bdf=>_0x311bdf[_0x4b372a(0x23f)]==config[_0x4b372a(0x1a3)]);_0x4fdb3c[_0x4b372a(0x19e)]>0x0?Math[_0x4b372a(0x244)](_0x119717)*_0xfcac3b[_0x4b372a(0x202)]>_0x37cd10[_0x4b372a(0x17c)]-_0x4fdb3c[_0x4b372a(0x19e)]&&(_0x29bfee=![],_0x1974e0=_0x4b372a(0xdd)+config[_0x4b372a(0x1a3)]+_0x4b372a(0x117)):Math[_0x4b372a(0x244)](_0x119717)*_0xfcac3b[_0x4b372a(0x202)]>_0x37cd10[_0x4b372a(0x17c)]&&(_0x29bfee=![]);}return!_0x29bfee&&_0x1974e0&&!insufficientFundsWarningSent['includes'](_0xfcac3b[_0x4b372a(0x23f)])&&(logHistory(_0x4b372a(0xf3),_0x1974e0),insufficientFundsWarningSent[_0x4b372a(0x1b5)](_0xfcac3b[_0x4b372a(0x23f)])),_0x29bfee;}async function getBalances(_0x233721=!![]){const _0x100301=_0x3f47f9;if(botPaused)return;let _0x50bb0c=0x0,_0xff3e12;const _0x4aa434=config['threshold'];if(config[_0x100301(0x104)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x100301(0x15f)](_0x45975c=>{const _0x3ca0b4=_0x100301;if(_0x45975c['coin']!=config[_0x3ca0b4(0x1a3)]){let _0x3d4255=gTicker[noslash(_0x45975c['symbol'])];_0xff3e12=_0x45975c[_0x3ca0b4(0x167)]?0x1/_0x3d4255:_0x3d4255;}else _0xff3e12=0x1;let _0x1ee6b4=_0x45975c[_0x3ca0b4(0x17c)]*_0xff3e12;_0x50bb0c+=_0x1ee6b4,_0x45975c[_0x3ca0b4(0x202)]=formatResult(Number(_0xff3e12),0x8),_0x45975c[_0x3ca0b4(0x284)]=_0x1ee6b4;}),currentCoins[_0x100301(0x15f)](_0x335dd5=>{const _0x2d8123=_0x100301;let _0x339eb2=config[_0x2d8123(0x25b)][_0x2d8123(0x26e)](_0x4863f1=>_0x4863f1['coin']==_0x335dd5['coin']),_0x52942b=Number(_0x339eb2[_0x2d8123(0x10e)]),_0x4b4156=_0x335dd5[_0x2d8123(0x284)]/_0x50bb0c*0x64,_0x3efeb3=_0x52942b*_0x50bb0c/0x64/_0x335dd5['last']-_0x335dd5[_0x2d8123(0x17c)];_0x335dd5[_0x2d8123(0x10e)]=formatResult(_0x4b4156,0x3),_0x335dd5[_0x2d8123(0xf7)]=formatResult(_0x52942b,0x3),_0x335dd5[_0x2d8123(0x28b)]=formatResult(_0x3efeb3,0x8),_0x335dd5['side']='',_0x335dd5['valid']=![];if(_0x335dd5[_0x2d8123(0x23f)]!=config[_0x2d8123(0x1a3)]){if(_0x335dd5[_0x2d8123(0x10e)]>_0x52942b)_0x335dd5[_0x2d8123(0x2ab)]=_0x2d8123(0xe7),_0x335dd5[_0x2d8123(0x182)]=checkMinimums(_0x335dd5);else _0x335dd5[_0x2d8123(0x10e)]<_0x52942b&&(_0x335dd5[_0x2d8123(0x2ab)]=_0x2d8123(0xf6),_0x335dd5[_0x2d8123(0x182)]=checkMinimums(_0x335dd5));}_0x335dd5[_0x2d8123(0x102)]=_0x335dd5[_0x2d8123(0xf7)]==0x0?0x270f:_0x335dd5['distribution']/_0x335dd5[_0x2d8123(0xf7)]-0x1;if(_0x335dd5[_0x2d8123(0x177)]==_0x2d8123(0x290)||_0x335dd5[_0x2d8123(0x177)]=='canceled')_0x335dd5[_0x2d8123(0x177)]='none';}),currentCoins['sort']((_0x19d281,_0x5cff02)=>_0x19d281[_0x100301(0x102)]<_0x5cff02[_0x100301(0x102)]?0x1:_0x5cff02[_0x100301(0x102)]<_0x19d281['delta']?-0x1:0x0);const _0x2e361e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2e361e[_0x100301(0x1e1)],'usd':_0x2e361e[_0x100301(0xf2)],'portfolio':JSON[_0x100301(0x1d0)](currentCoins),'threshold':_0x4aa434},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x233721){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x4aa434});else lockOrders==ORDERS[_0x100301(0x1f5)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x4aa434});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x82764d=getNormalizedPerformance();getStartingBalances(_0x82764d),emitPerformance(_0x82764d);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x3c86dd=_0x3f47f9;let _0x101b21=dbCoinResults[_0x3c86dd(0x11a)](_0x3c86dd(0x134))['value'](),_0x2a7432=0x0;return Object[_0x3c86dd(0x27d)](_0x101b21)['forEach'](([_0x3ec090,_0x534129])=>{const _0x2ccd0c=_0x3c86dd;_0x2a7432+=_0x534129[_0x2ccd0c(0x112)];}),_0x2a7432;}async function storePerformance(){const _0x7be878=_0x3f47f9;if(!lastBalances)return;let _0x4415e9=[],_0x5f09ec;const _0x18c822=getPnL();let _0x4f5c74=JSON[_0x7be878(0x172)](lastBalances[_0x7be878(0x25b)]);_0x4f5c74[_0x7be878(0x11f)]((_0x50df1a,_0x5c84c9)=>_0x50df1a[_0x7be878(0x23f)]>_0x5c84c9[_0x7be878(0x23f)]?0x1:_0x5c84c9[_0x7be878(0x23f)]>_0x50df1a['coin']?-0x1:0x0),_0x4f5c74[_0x7be878(0x15f)](_0x5a274e=>{const _0x19da64=_0x7be878;let _0x224a9f={'coin':_0x5a274e[_0x19da64(0x23f)],'number':_0x5a274e['number'],'price':_0x5a274e[_0x19da64(0x202)]};_0x4415e9['push'](_0x224a9f);});const _0x3a6afe=await getFiat(),_0x40c85b=getTimeStamp()[_0x7be878(0xf4)]('\x20')[0x0],_0xa6c9b8=dbPerformance['get'](_0x7be878(0x1b6))[_0x7be878(0x26e)]({'date':_0x40c85b})['value']();_0x5f09ec={'date':_0x40c85b,'eur':_0x3a6afe[_0x7be878(0x1e1)],'usd':_0x3a6afe[_0x7be878(0xf2)],'coins':_0x4415e9,'pnl':_0x18c822},_0xa6c9b8?_0x5f09ec[_0x7be878(0x105)]!=config[_0x7be878(0x1a2)]&&dbPerformance['get'](_0x7be878(0x1b6))[_0x7be878(0x26e)]({'date':_0x40c85b})[_0x7be878(0x148)](_0x5f09ec)[_0x7be878(0x1bb)]():dbPerformance['get'](_0x7be878(0x1b6))[_0x7be878(0x1b5)](_0x5f09ec)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3c9d9d=_0x3f47f9;let _0x304689=[];if(dbPerformance[_0x3c9d9d(0xfb)]('data')[_0x3c9d9d(0x284)]()){let _0x524787=dbPerformance['get']('data')[_0x3c9d9d(0x269)]()[_0x3c9d9d(0x113)](_0x48e71c=>{const _0x54ae23=_0x3c9d9d;if(_0x48e71c[_0x54ae23(0x134)][_0x54ae23(0x1a5)]==0x0)return![];else return!![];})[_0x3c9d9d(0x1bd)](_0x3c9d9d(0x105))[_0x3c9d9d(0x284)](),_0x2fa503=[...config['liquidity']];_0x2fa503[_0x3c9d9d(0x11f)]((_0x2fc09f,_0x4173a3)=>_0x2fc09f['date']>_0x4173a3[_0x3c9d9d(0x105)]?-0x1:_0x4173a3['date']>_0x2fc09f[_0x3c9d9d(0x105)]?0x1:0x0);let _0x41da87=0x1,_0x97dfee=[],_0x4832b6=0x0;_0x524787[_0x3c9d9d(0xdb)]()[_0x3c9d9d(0x167)]()[_0x3c9d9d(0x15f)]((_0x397014,_0x3cb97b)=>{const _0x4b8c00=_0x3c9d9d;if(_0x2fa503[_0x4832b6]){if(_0x524787[_0x524787[_0x4b8c00(0x1a5)]-_0x3cb97b]&&_0x2fa503[_0x4832b6][_0x4b8c00(0x105)]==_0x524787[_0x524787[_0x4b8c00(0x1a5)]-_0x3cb97b][_0x4b8c00(0x105)]){if(_0x3cb97b<_0x524787[_0x4b8c00(0x1a5)]){let _0x568c9e=0x0,_0x645274=0x0;_0x524787[_0x524787[_0x4b8c00(0x1a5)]-_0x3cb97b][_0x4b8c00(0x134)][_0x4b8c00(0x15f)](_0x1e9075=>{const _0x2c9af9=_0x4b8c00;_0x645274+=_0x1e9075[_0x2c9af9(0x17c)]*_0x1e9075[_0x2c9af9(0x128)];}),_0x2fa503[_0x4832b6][_0x4b8c00(0x249)][_0x4b8c00(0x15f)](_0x1d4647=>{const _0x3e4b77=_0x4b8c00;_0x568c9e+=_0x1d4647['number']*_0x1d4647[_0x3e4b77(0x128)];}),_0x41da87*=_0x568c9e/(_0x645274-_0x568c9e)+0x1;}_0x4832b6++;}}let _0x44e212=0x0;_0x397014['coins']['forEach'](_0x56bb6a=>{const _0x4abe37=_0x4b8c00;_0x44e212+=_0x56bb6a[_0x4abe37(0x17c)]*_0x56bb6a[_0x4abe37(0x128)];}),_0x97dfee[_0x524787['length']-_0x3cb97b-0x1]=_0x44e212*(_0x41da87-0x1);});let _0x352d1e=[];_0x2fa503=[...config[_0x3c9d9d(0x267)]]||[];let _0x32c86b=0x0;_0x4832b6=0x0,_0x524787[_0x3c9d9d(0x15f)]((_0x26477c,_0x67ea18)=>{const _0x3ab27c=_0x3c9d9d;if(_0x2fa503[_0x4832b6]){const _0x542afd=fns[_0x3ab27c(0x172)](_0x2fa503[_0x4832b6][_0x3ab27c(0x105)],'yyyy/MM/dd',new Date()),_0x1e0c47=fns[_0x3ab27c(0x172)](_0x26477c[_0x3ab27c(0x105)],_0x3ab27c(0x2a5),new Date());if(fns[_0x3ab27c(0x242)](_0x542afd,_0x1e0c47)){let _0x21391b=0x0;_0x2fa503[_0x4832b6][_0x3ab27c(0x249)][_0x3ab27c(0x15f)](_0x582b7f=>{const _0x307b40=_0x3ab27c;!_0x352d1e[_0x582b7f[_0x307b40(0x23f)]]?_0x352d1e[_0x582b7f[_0x307b40(0x23f)]]=_0x582b7f[_0x307b40(0x17c)]:(_0x21391b=_0x352d1e[_0x582b7f[_0x307b40(0x23f)]],_0x352d1e[_0x582b7f[_0x307b40(0x23f)]]+=_0x582b7f[_0x307b40(0x17c)]);const _0x215f74=_0x26477c[_0x307b40(0x134)]['find'](_0x3ebd57=>_0x3ebd57['coin']==_0x582b7f['coin']);(!_0x215f74||_0x215f74['number']==0x0)&&(_0x32c86b+=(-_0x582b7f[_0x307b40(0x17c)]-_0x21391b)*_0x582b7f[_0x307b40(0x128)]);}),_0x4832b6++;}}_0x26477c['coins'][_0x3ab27c(0x15f)]((_0x23d80a,_0x544ac3)=>{const _0x5bd37a=_0x3ab27c;_0x352d1e[_0x23d80a[_0x5bd37a(0x23f)]]&&(_0x23d80a[_0x5bd37a(0x1cd)]=_0x352d1e[_0x23d80a[_0x5bd37a(0x23f)]]);}),_0x304689[_0x3ab27c(0x1b5)]({'date':_0x26477c[_0x3ab27c(0x105)],'eur':_0x26477c[_0x3ab27c(0x1e1)],'usd':_0x26477c[_0x3ab27c(0xf2)],'offset':_0x97dfee[_0x67ea18],'netoffset':_0x32c86b,'coins':_0x26477c[_0x3ab27c(0x134)],'pnl':_0x26477c['pnl']});});}return _0x304689;}function emitPerformance(_0x204727){const _0xab6e19=_0x3f47f9;_0x204727[_0xab6e19(0x1a5)]!==0x0?(proxyEmit(_0xab6e19(0x2ad),_0x204727),lastPerformanceEmitted=getDate()):proxyEmit(_0xab6e19(0x2ad),[]);}function getPerf(_0x55d274,_0x434495){const _0x4adbf4=_0x3f47f9;let _0x5c2db7=0x0,_0xcad2c5=0x0,_0x155d1f=0x0;_0x55d274[_0x4adbf4(0x134)]['forEach'](_0x19ce96=>{const _0x4c59f4=_0x4adbf4;_0x5c2db7+=_0x19ce96[_0x4c59f4(0x17c)]*_0x19ce96[_0x4c59f4(0x128)];});_0x434495&&(_0x5c2db7+=_0x55d274[_0x4adbf4(0x19e)]);if(config[_0x4adbf4(0x1a3)]===_0x4adbf4(0x19b)||config[_0x4adbf4(0x1a3)]===_0x4adbf4(0x257)||config[_0x4adbf4(0x1a3)]==='PAXG')_0xcad2c5=_0x5c2db7*_0x55d274[_0x4adbf4(0x1e1)],_0x155d1f=_0x5c2db7*_0x55d274['usd'];else{if(usdBasecoins[_0x4adbf4(0x120)](config['basecoin']))_0xcad2c5=_0x5c2db7*_0x55d274[_0x4adbf4(0x1e1)]/_0x55d274['usd'],_0x155d1f=_0x5c2db7;else config[_0x4adbf4(0x1a3)]===_0x4adbf4(0x225)&&(_0xcad2c5=_0x5c2db7,_0x155d1f=_0x5c2db7*_0x55d274[_0x4adbf4(0xf2)]/_0x55d274[_0x4adbf4(0x1e1)]);}return[_0x5c2db7,_0xcad2c5,_0x155d1f];}function CurrencyFactor(_0x43e0e4,_0x929960,_0xbb5a45){const _0x3ad5ec=_0x3f47f9;let _0x5094ae;if(_0x929960===_0x3ad5ec(0x19b)||_0x929960===_0x3ad5ec(0x257)||_0x929960===_0x3ad5ec(0x298))_0x5094ae=_0xbb5a45===_0x3ad5ec(0x225)?_0x43e0e4[_0x3ad5ec(0x1e1)]:_0x43e0e4[_0x3ad5ec(0xf2)];else{if(usdBasecoins['includes'](_0x929960))_0x5094ae=_0xbb5a45===_0x3ad5ec(0x225)?_0x43e0e4['eur']/_0x43e0e4['usd']:0x1;else _0x929960==='EUR'&&(_0x5094ae=_0xbb5a45===_0x3ad5ec(0x225)?0x1:_0x43e0e4[_0x3ad5ec(0xf2)]/_0x43e0e4[_0x3ad5ec(0x1e1)]);}return _0x5094ae;}function getKPIs(_0x2a0d5e,_0x499315=_0x3f47f9(0x225)){const _0x298077=_0x3f47f9,_0xa25ec8=config['basecoin'],_0x1cec74=lastBalances,_0x287f5f=currentCoins,_0x550e60=getNormalizedPerformance(),_0x8f7787=CurrencyFactor(_0x1cec74,config[_0x298077(0x1a3)],_0x499315);let _0xd1cb11=0x0;_0x287f5f[_0x298077(0x15f)](_0x438d22=>{const _0x914d28=_0x298077;_0xd1cb11+=_0x438d22[_0x914d28(0x17c)]*_0x438d22['last'];});_0x2a0d5e[_0x298077(0x120)](_0x298077(0x206))&&(_0xd1cb11*=_0x8f7787);let _0xf13dd2;if(_0xd1cb11!==0x0){if(_0x2a0d5e===_0x298077(0x1a3)||_0x2a0d5e==='fiat'){if(_0x2a0d5e===_0x298077(0x1a3))_0xf13dd2=(_0xd1cb11/startingBalances[_0x298077(0x1a3)]-0x1)*0x64;else{if(_0x499315===_0x298077(0x225))_0xf13dd2=(_0xd1cb11/startingBalances[_0x298077(0x1e1)]-0x1)*0x64;else _0xf13dd2=(_0xd1cb11/startingBalances[_0x298077(0xf2)]-0x1)*0x64;}}if(_0x2a0d5e[_0x298077(0x120)](_0x298077(0x22b))){let _0x3aabba=0x0;if(startingBalances['coins'])_0x287f5f[_0x298077(0x15f)](_0x54aa85=>{const _0x32753e=_0x298077;let _0x5138d9=startingBalances[_0x32753e(0x134)][_0x32753e(0x26e)](_0x5c1765=>_0x5c1765[_0x32753e(0x23f)]===_0x54aa85[_0x32753e(0x23f)]);if(_0x5138d9&&_0x5138d9[_0x32753e(0x23f)]&&_0x54aa85[_0x32753e(0x17c)]!==0x0)_0x3aabba+=_0x5138d9[_0x32753e(0x17c)]*_0x54aa85[_0x32753e(0x202)];});let _0x526e50=0x0;if(_0x550e60[_0x298077(0x1a5)]!==0x0){let _0x1512f4=_0x550e60[_0x550e60['length']-0x1];_0x526e50=_0x1512f4[_0x298077(0x1e3)];}_0x3aabba-=_0x526e50;let _0x374e6a;_0x2a0d5e===_0x298077(0x280)&&(_0x374e6a=startingBalances[_0x298077(0x1a3)]),_0x2a0d5e==='net-fiat'&&(_0x374e6a=_0x499315===_0x298077(0x225)?startingBalances[_0x298077(0x1e1)]:startingBalances[_0x298077(0xf2)],_0x3aabba*=_0x8f7787),_0xf13dd2=(_0xd1cb11-_0x3aabba)/_0x374e6a*0x64,_0xd1cb11=_0xd1cb11-_0x3aabba;}if(_0x2a0d5e['includes'](_0x298077(0x2a0))){if(_0x550e60[_0x298077(0x1a5)]!==0x0&&_0x287f5f[_0x298077(0x1a5)]!==0x0){let _0x2a9c50,_0x478d87=_0x550e60[_0x550e60[_0x298077(0x1a5)]-0x1][_0x298077(0x2a0)];_0x2a0d5e[_0x298077(0x120)](_0x298077(0x206))?(_0x2a9c50=_0x499315===_0x298077(0x225)?startingBalances[_0x298077(0x1e1)]:startingBalances[_0x298077(0xf2)],_0x478d87*=CurrencyFactor(_0x1cec74,_0xa25ec8,_0x499315)):_0x2a9c50=startingBalances[_0x298077(0x1a3)],_0xf13dd2=_0x478d87/_0x2a9c50*0x64,_0xd1cb11=_0x478d87;}}if(_0xf13dd2){if(_0xf13dd2<0x64)_0xf13dd2=_0xf13dd2[_0x298077(0x256)](0x2);else{if(_0xf13dd2<0x3e8)_0xf13dd2=_0xf13dd2['toFixed'](0x1);else _0xf13dd2=_0xf13dd2[_0x298077(0x256)](0x0);}}else _0xf13dd2=Number('0')[_0x298077(0x256)](0x2);if(_0xd1cb11){if(Math[_0x298077(0x244)](_0xd1cb11)<0.000001)_0xd1cb11=_0xd1cb11['toFixed'](0x2);else{if(Math[_0x298077(0x244)](_0xd1cb11)<0.1)_0xd1cb11=_0xd1cb11['toFixed'](0x6);else{if(Math['abs'](_0xd1cb11)<0x1)_0xd1cb11=_0xd1cb11[_0x298077(0x256)](0x5);else{if(Math[_0x298077(0x244)](_0xd1cb11)<0xa)_0xd1cb11=_0xd1cb11[_0x298077(0x256)](0x4);else{if(Math[_0x298077(0x244)](_0xd1cb11)<0x64)_0xd1cb11=_0xd1cb11[_0x298077(0x256)](0x3);else{if(Math[_0x298077(0x244)](_0xd1cb11)<0x3e8)_0xd1cb11=_0xd1cb11[_0x298077(0x256)](0x2);else _0xd1cb11=_0xd1cb11[_0x298077(0x256)](0x2);}}}}}}else _0xd1cb11=Number('0')[_0x298077(0x256)](0x2);}else _0xf13dd2=Number('0')[_0x298077(0x256)](0x2);if(_0xf13dd2>=0x0)_0xf13dd2='+'+_0xf13dd2;return{'value':_0xd1cb11,'change':_0xf13dd2};}async function getStartingBalances(_0x2f0c7b,_0x2cf24a=!![]){const _0x4aae6a=_0x3f47f9;if(_0x2f0c7b[_0x4aae6a(0x1a5)]!==0x0){const [_0x13598a,_0x1173b3,_0x4c199c]=getPerf(_0x2f0c7b[0x0],!![]);let _0x1411f3=[];config[_0x4aae6a(0x25b)]['forEach'](_0x109a12=>{const _0x2fc845=_0x4aae6a;let _0x1b1d8b=0x0,_0x4bee25;config[_0x2fc845(0x267)][_0x2fc845(0x15f)](_0x3e9510=>{const _0x3cd76b=_0x2fc845;let _0x50698d=_0x3e9510[_0x3cd76b(0x249)][_0x3cd76b(0x26e)](_0x27ec03=>_0x27ec03['coin']==_0x109a12['coin']);if(_0x50698d){_0x1b1d8b+=_0x50698d[_0x3cd76b(0x17c)];if(!_0x4bee25)_0x4bee25=_0x50698d[_0x3cd76b(0x128)];}}),_0x1411f3[_0x2fc845(0x1b5)]({'coin':_0x109a12[_0x2fc845(0x23f)],'number':_0x1b1d8b,'initialprice':_0x4bee25});});const _0x28d7de={'basecoin':_0x13598a,'eur':_0x1173b3,'usd':_0x4c199c,'coins':_0x1411f3};if(_0x2cf24a)proxyEmit(_0x4aae6a(0x129),_0x28d7de);startingBalances=_0x28d7de;}}function headlessMode(_0xb21ba8){const _0x2a052a=_0x3f47f9;let _0x41ea02=_0xb21ba8[_0x2a052a(0x25b)],_0xaaa8be=_0xb21ba8[_0x2a052a(0x19d)],_0x1dbd7f=[];for(let _0x2cbd0f of _0x41ea02){if(_0x2cbd0f[_0x2a052a(0x23f)]!=config[_0x2a052a(0x1a3)]){if(_0x2cbd0f[_0x2a052a(0x102)]>=_0xaaa8be/0x64){if(_0x2cbd0f[_0x2a052a(0x182)])_0x1dbd7f['push'](_0x2cbd0f);}else{if(_0x2cbd0f[_0x2a052a(0x102)]<=-_0xaaa8be/0x64){if(_0x2cbd0f['valid'])_0x1dbd7f[_0x2a052a(0x1b5)](_0x2cbd0f);}}}}_0x1dbd7f['length']>0x0&&placeOrder(_0x1dbd7f);}function notifyBalance(_0x1d9d3e){const _0x57ec9b=_0x3f47f9;let _0x192a42=_0x1d9d3e[_0x57ec9b(0x25b)],_0x5d3ff8=_0x1d9d3e['threshold'],_0x45f2c8=[];for(let _0x451e8d of _0x192a42){if(_0x451e8d[_0x57ec9b(0x23f)]!=config[_0x57ec9b(0x1a3)]){if(_0x451e8d['delta']>=_0x5d3ff8/0x64){if(_0x451e8d[_0x57ec9b(0x182)])_0x45f2c8[_0x57ec9b(0x1b5)](_0x451e8d);}else{if(_0x451e8d[_0x57ec9b(0x102)]<=-_0x5d3ff8/0x64){if(_0x451e8d[_0x57ec9b(0x182)])_0x45f2c8[_0x57ec9b(0x1b5)](_0x451e8d);}}}}if(_0x45f2c8[_0x57ec9b(0x1a5)]>0x0){let _0x39989f=_0x45f2c8[_0x57ec9b(0x158)](_0xe3ebe5=>_0xe3ebe5[_0x57ec9b(0x23f)]);_0x39989f[_0x57ec9b(0x11f)]();let _0x481dfd=_0x39989f[_0x57ec9b(0x289)](',\x20');if(!lastCoinsToBalance)logHistory(_0x57ec9b(0xf3),_0x57ec9b(0x20c));lastCoinsToBalance=_0x481dfd;}}function symbolToCoin(_0x16104c){const _0x56ebf1=_0x3f47f9;let _0x3ff745;if(_0x16104c[_0x56ebf1(0x120)]('/'+config[_0x56ebf1(0x1a3)]))_0x3ff745=_0x16104c['replace']('/'+config['basecoin'],'');if(_0x16104c[_0x56ebf1(0x120)](config[_0x56ebf1(0x1a3)]+'/'))_0x3ff745=_0x16104c[_0x56ebf1(0x11e)](config['basecoin']+'/','');return _0x3ff745;}function setLockOrders(_0x3d79e8){const _0x7ec304=_0x3f47f9;lockOrders=_0x3d79e8,logger[_0x7ec304(0xdc)](_0x7ec304(0x29c)+Object[_0x7ec304(0x26f)](ORDERS)[lockOrders]);}async function unlockOrders(_0x37ab94=![]){const _0x485575=_0x3f47f9;if(allOrdersPlaced&&lockOrders==ORDERS[_0x485575(0x201)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x37ab94){const _0x28e175=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x28e175,setBlockTransactionDetection(![]);}validateOrdersState='initial',persistOpenOrders([]),setLockOrders(ORDERS[_0x485575(0x1f5)]);}}function _0xd741(){const _0x107210=['Loading\x20completed','timeout','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','Stopped\x20fetching\x20balance\x20after\x20','timestamp-issue','PnL\x20','cancel','initclient','UNLOCKED','red_yellow_blue','apply','percentage','2.6.22','Error:\x20Invalid\x20argument\x20','deleteHistoryAlerts','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','padStart','quote','round','type','LOCKED','last','Unknown\x20error\x20-\x20check\x20logs','freeze','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','fiat','configuration','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','buys','Huobipro','token\x20is\x20expired','Manual\x20balancing\x20required','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','test','colorscheme','emojibuy','1919126xCQBXV','-events.json','addDays','exchange\x20reload','event','market_cap','onepagemode','API-key\x20format\x20invalid','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Avoiding\x20continuous\x20order\x20attempts','limit','symbol','Error\x20details:','2\x20-\x20Handled\x20open\x20orders','none','options','progress','open','\x20hour','EUR','timestamp','fetchTicker','1\x20-\x20FILLED\x20known\x20order:\x20','cancelOrder','Bybit','net','MIN_NOTIONAL','Value\x20','ordertype','emitHistory','total','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','balances','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','watchTrades()','Initiating\x20bot\x20restart','memoryUsage','RequestTimeout','-performance.json','toString','2087175RdfHGc','InvalidNonce','recovery','page','match','coin','removed','spot','isEqual','Error\x20in\x20loadSymbols():\x20','abs','Error\x20while\x20deleting\x20files:\x20','sha256','highest','openOrders','changes','order','7623688VOXpCj','pnl-fiat','\x20metrics:</b>\x20\x0a\x0a','getMonth','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Error\x20details:\x20','221169FrcNST','</pre>','string','operatorId','toFixed','ETH','Unknown\x20error:\x20','coin-loading-progress','Gateio','portfolio','sandbox','\x20minutes\x20-\x20','amount','create','existsSync','toLowerCase','resetHistory','change','fromCodePoint','slider','bot-','liquidity','bots','cloneDeep','isBefore','Initializing\x20exchange:\x20already\x20done','1220440muPNXN','quick','find','keys','toggleBotMode','watchTradesForSymbols','active','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','function','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','./version.json','testApi','canceled','ask','\x0aSymbol(s):\x20','getStartingBalances','marketcapEnabled','entries','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','max','net-basecoin','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','storeConfiguration','customId','value','sqrt','fetchBalance','bb-secure.json','bitvavo','join','min','trade','code','limit-high','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','settings','filled','1\x20-\x20partially\x20FILLED\x20(','storeHeadless','Invalid\x20quantity','error','bot','Cooldown\x20ended\x20-\x20balancing\x20resumed','Order(s)\x20not\x20validated\x20after\x20','PAXG','constructor','limit-low','\x20-\x20bot\x20not\x20started','Set\x20lock\x20orders\x20to:\x20','bb-settings.json','Order\x20amount\x20is\x20invalid:\x20','\x20has\x20a\x2024h\x20drop\x20of\x20','pnl','USDP','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','unlinkSync','getFullYear','yyyy/MM/dd','Test\x20new\x20API','pop','1\x20-\x20Handle\x20open\x20orders','2.3.5','001','side','recent20','performance','fetchTickers','USD','watchOrders','Valid\x20balance\x20for\x20','defaults','loadSymbols()','Limit\x20(high-margin)','remove','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)',')\x20|\x20exchange:\x20','\x20MB','slice','debug','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','success',')\x20known\x20order:\x20','enabled','AuthenticationError','mkdirSync','Trigger:\x20','storeFiat','Initializing\x20exchange','\x20|\x20lock\x20orders:\x20','sell','limits','decrypt','\x20minutes','.json','getDate','\x20exchange\x20error:\x20','botname','util','password','emojisell','usd','warning','split','0\x20-\x20EXECUTION:\x20','buy','target','loadMarkets','createWriteStream','args','has','yargs/yargs','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','Binance','shift','running','fetchOpenOrders','delta','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','headless','date','apiKey','pid','initTickers()','path','amountToPrecision','final','2.6.23','portfolio1','distribution','\x20|\x20','Portfolio\x20change\x20detected:\x20','Generating\x20PnL\x20data','realizedPnL','filter','Exchange','<pre>','environment','\x20due\x20to\x20offset','getSeconds','Market\x20order','get','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','setSandboxMode','341033HgzItQ','replace','sort','includes','added','indexOf','No\x20more\x20open\x20orders\x20-\x20','getHours','Saving\x20configuration','\x20orders\x20in\x20less\x20than\x20','Waited\x20','price','starting-balances','autoliquidity','pro','/USD','\x20>\x20pausing\x20bot\x20for\x20','must\x20be\x20greater\x20than\x20minimum\x20amount','argv','watchOrders()','apiSecret','<b>Bot\x20','RETRY\x20-\x20Problem\x20resolved\x20after\x20','coins','logs','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','switch-manual','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Market','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','testAPI()','fetchBalance()','ongoing','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','excluded','pnl-basecoin','format','set','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','market','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','cost','\x20network\x20error:\x20','assign','<b>','Huobi','BUSD','\x20>\x20[DEBUG]\x20','Network\x20error\x20details:','sells','42nflgWw','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20',':\x20Bot\x20','RETRY\x20-\x20Error\x20in\x20','cooldown','add','InsufficientFunds','balancing\x20resumes\x20when\x20cooldown\x20ends','/USDT','map','\x20portfolio:</b>\x20\x0a\x0a','Resetting\x20bot\x20history','bitmex','Block\x20transaction\x20detection:\x20','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','ExchangeError','forEach','splice','portfolio2','orderId','prevnumber','ID:\x20','send','request-time','reverse','fee','marketcapApi',':\x20timer\x20>','event-history','average','./logs/','showname','Placing\x20order\x20for:\x20','Resetting\x20coin\x20results:\x20','/backup/','parse','1415661QmeEsw','configstate','exchange','enableFiatToggle','orderstatus','InvalidOrder','\x20-\x20go\x20back\x20and\x20try\x20again','\x20order:\x20','process\x20','number','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','createOrder','9dspsOq','OnMaintenance','getPortfolio','valid','showConfig','placeOrder()','axios','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','\x20API\x20key\x20is\x20invalid',')\x20unknown\x20order:\x20','cancelLoading','TUSD','lowdb','/EUR','update-liquidity','version','-results.json','no\x20open\x20orders','USDT','bid','%\x20(','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','substring','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','\x20>\x20','Insufficient\x20funds\x20to\x20execute\x20order:\x20','detectLiquidityChange()','marketcap','BTC','2.7.1','threshold','offset','\x20uses\x20','restart','complete','startdate','basecoin','\x20(see:\x20hodlerhacks.com/fix/1)','length','Unfilled\x20order(s)\x20canceled\x20after\x20','exchanges','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','date-fns','-config.json','production','startprice','basecoinvalue','placeOrder','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','change24h','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','***','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','status','push','data','staging','currency','2.6.0','Invalid\x20symbol:\x20','write','no\x20exchange\x20reloaded','sortBy','self_reported_market_cap','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','Generated\x20PnL\x20data','\x20attempts','privateKey','Invalid\x20balance\x20for\x20','apiPassword','4DymGOj','remainingSymbols','timeshift','ccxt','\x20|\x20exchange:\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','balancing\x20resumed','getMinutes','initial','Order\x20filled',',\x20must\x20be\x20a\x203\x20digit\x20number','stringify','status\x20code\x20401','PermissionDenied','%)\x0a','getOpenOrders()','sendMetricsTelegram','net-fiat','Net\x20','Exception\x20thrown\x20in\x20','RateLimitExceeded','watchTrades','breakeven','random','\x20exchange','toUpperCase','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','configuration-stored','eur','search','netoffset','\x20>\x20details:','\x20|\x20highest\x20fee:\x20','time','fetchTickers()','Pausing\x20for\x20','log','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','./config/','************'];_0xd741=function(){return _0x107210;};return _0xd741();}async function validateOrders(_0x3e6945){const _0x104ebe=_0x3f47f9;if(_0x3e6945)validateOrdersState=_0x3e6945;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x104ebe(0xe6)+Object[_0x104ebe(0x26f)](ORDERS)[lockOrders]);let _0x4807fc=[],_0x976bd5=config[_0x104ebe(0x22e)]==_0x104ebe(0x144)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x104ebe(0x201)])return;logger[_0x104ebe(0xdc)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState);for(let _0x448c90=lastOrders['length']-0x1;_0x448c90>=0x0;_0x448c90--){let _0xbdaae1=lastOrders[_0x448c90],_0x9b6583=![];_0xbdaae1[_0x104ebe(0x290)]>0x0&&(_0x9b6583=!![]),_0x4807fc[_0x104ebe(0x1b5)](_0x9b6583),_0x9b6583&&config['ordertype']!=_0x104ebe(0x144)&&logHistory(_0x104ebe(0x24a),'Order\x20filled:\x20'+_0xbdaae1[_0x104ebe(0x21d)]+'\x20'+_0xbdaae1[_0x104ebe(0x2ab)]+'\x20#'+formatResult(_0xbdaae1[_0x104ebe(0x290)],0x8)+'\x20@'+formatResult(_0xbdaae1[_0x104ebe(0x128)],0x8)),_0x9b6583&&lastOrders[_0x104ebe(0x160)](_0x448c90,0x1);}persistOpenOrders(lastOrders);const _0x5cdaab=coolingDown?_0x104ebe(0x156):_0x104ebe(0x1cb);if(validateOrdersState=='initial'){validateOrdersState='ongoing';if(_0x4807fc[_0x104ebe(0x120)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x104ebe(0x13d)){if(_0x4807fc[_0x104ebe(0x120)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x104ebe(0x10b)){let _0x545077=!![];if(_0x4807fc[_0x104ebe(0x120)](![])){if(config[_0x104ebe(0x22e)]==_0x104ebe(0x144))logHistory(_0x104ebe(0xde),_0x104ebe(0x297)+Math['round'](_0x976bd5*validateOrderInterval/0xea60)+_0x104ebe(0x25d)+_0x5cdaab),await unlockOrders(!![]);else{_0x545077=await cancelOrders();if(_0x545077)logHistory(_0x104ebe(0xde),_0x104ebe(0x1a6)+Math[_0x104ebe(0x1ff)](_0x976bd5*validateOrderInterval/0xea60)+_0x104ebe(0x25d)+_0x5cdaab),await unlockOrders(!![]);else{validateOrdersState=_0x104ebe(0x13d),logHistory(_0x104ebe(0x294),'Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20'+Math[_0x104ebe(0x1ff)](_0x976bd5*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x5cdaab),logHistory(_0x104ebe(0x294),_0x104ebe(0x28e));const _0x2728e6=config['ordertype']==_0x104ebe(0x144)?validateOrderTimeout*0x3c*0x3e8:config[_0x104ebe(0x1ee)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4382cf=_0x104ebe;validateOrders(_0x4382cf(0x10b));},_0x2728e6);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x104ebe(0x190)){if(config['ordertype']!=_0x104ebe(0x144))logHistory(_0x104ebe(0xde),_0x104ebe(0x123)+_0x5cdaab);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x589ce0=_0x3f47f9;let _0x17312f=!![],_0x54aca7;for(const _0x58978c of lastOrders){let _0x2e89a1=![],_0x1558ac=0x0;while(!_0x2e89a1&&_0x1558ac<maxRetries){try{const _0x1a602d=await exchange[_0x589ce0(0x229)](_0x58978c[_0x589ce0(0x162)],_0x58978c[_0x589ce0(0x21d)]);_0x2e89a1=!![];}catch(_0x2c8261){_0x2c8261[_0x589ce0(0x239)]()['includes']('OrderNotFound')||_0x2c8261[_0x589ce0(0x239)]()[_0x589ce0(0x120)](_0x589ce0(0x178))?_0x2e89a1=!![]:(_0x54aca7=_0x2c8261,_0x2e89a1=![]);}!_0x2e89a1&&(_0x1558ac++,await sleep(retryInterval));}_0x17312f=_0x17312f&&_0x2e89a1;}return!_0x17312f&&await handleError(_0x54aca7,'cancelOrders()'),_0x17312f;}async function initCoinResults(_0x3cc95f){const _0x14c15f=_0x3f47f9;_0x3cc95f?logger[_0x14c15f(0xdc)](_0x14c15f(0x170)+_0x3cc95f):logger[_0x14c15f(0xdc)]('Initializing\x20coin\x20results'),config[_0x14c15f(0x25b)][_0x14c15f(0x15f)](_0x170b11=>{const _0x28117b=_0x14c15f;if(!_0x170b11[_0x28117b(0x13f)]&&_0x170b11[_0x28117b(0x23f)]!=config[_0x28117b(0x1a3)]){const _0x1a0822=currentCoins[_0x28117b(0x26e)](_0x4d54e8=>_0x4d54e8['coin']==_0x170b11[_0x28117b(0x23f)]),_0x106533=gTicker[noslash(_0x170b11[_0x28117b(0x21d)])];let _0x52e6b8=_0x1a0822?_0x1a0822[_0x28117b(0x17c)]:null,_0x596feb=_0x170b11[_0x28117b(0x167)]?0x1/_0x106533:_0x106533,_0x1009a0;config[_0x28117b(0x267)][_0x28117b(0x15f)](_0x15ac51=>{const _0x168310=_0x28117b;!_0x1009a0&&(_0x1009a0=_0x15ac51['changes']['find'](_0x2f134b=>_0x2f134b[_0x168310(0x23f)]==_0x170b11['coin']),_0x1009a0&&(_0x52e6b8=_0x1009a0[_0x168310(0x17c)],_0x596feb=_0x1009a0[_0x168310(0x128)]));});let _0x4c3c29=dbCoinResults[_0x28117b(0x11a)]('coins')[_0x28117b(0x26e)]({'coin':_0x170b11[_0x28117b(0x23f)]})[_0x28117b(0x284)]();if(!_0x4c3c29){const _0xbbb3a={'coin':_0x170b11[_0x28117b(0x23f)],'number':_0x52e6b8,'breakeven':_0x596feb,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0x28117b(0x1b5)](_0xbbb3a)[_0x28117b(0x1bb)]();}else{if(_0x3cc95f&&_0x170b11[_0x28117b(0x23f)]==_0x3cc95f){const _0x1c199b={'coin':_0x170b11[_0x28117b(0x23f)],'number':_0x52e6b8,'breakeven':_0x596feb,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x28117b(0x11a)](_0x28117b(0x134))[_0x28117b(0x26e)]({'coin':_0x170b11['coin']})[_0x28117b(0x148)](_0x1c199b)[_0x28117b(0x1bb)]();}}}});}async function placeOrder(_0x4e529c){const _0x5ce445=_0x3f47f9,_0x4bf6a1=config[_0x5ce445(0x22e)]==_0x5ce445(0x144)?_0x5ce445(0x144):_0x5ce445(0x21c);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS[_0x5ce445(0x201)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x5ce445(0xdc)](_0x5ce445(0x16f)+_0x4e529c[_0x5ce445(0x158)](_0x29380d=>_0x29380d[_0x5ce445(0x23f)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x5ce445(0x1cd);let _0x39c84a=![];lastOrders=[];const _0x43fb25=config[_0x5ce445(0x19d)];for(const _0x10671b of _0x4e529c){let _0x4666d7,_0x4b514b,_0x1ff175,_0x3920b0,_0x350ccd,_0x31e9d9=_0x10671b['symbol'];logger[_0x5ce445(0xdc)](_0x5ce445(0xe3)+_0x10671b[_0x5ce445(0x23f)]+'\x20'+_0x10671b['number']+'\x20'+_0x10671b[_0x5ce445(0x202)]+'\x20'+_0x10671b[_0x5ce445(0x10e)]+'%\x20'+_0x10671b[_0x5ce445(0xf7)]+'%\x20'+(0x64*_0x10671b[_0x5ce445(0x102)])[_0x5ce445(0x256)](0x2)+_0x5ce445(0x193)+_0x43fb25[_0x5ce445(0x256)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x5ce445(0x113)](_0x3c1a18=>_0x3c1a18!==_0x10671b['coin']);const _0x2c4ef4=currentCoins[_0x5ce445(0x26e)](_0x513037=>_0x513037[_0x5ce445(0x23f)]==_0x10671b[_0x5ce445(0x23f)]);_0x2c4ef4&&(_0x2c4ef4['prevnumber']=_0x10671b['number']);try{const _0x3ab53c=await exchange['fetchTicker'](_0x31e9d9);_0x4666d7=_0x10671b[_0x5ce445(0x167)]?0x1/_0x10671b[_0x5ce445(0x202)]:_0x10671b[_0x5ce445(0x202)],_0x4b514b=_0x3ab53c[_0x5ce445(0x192)],_0x1ff175=_0x3ab53c[_0x5ce445(0x279)];_0x10671b[_0x5ce445(0x167)]?(_0x3920b0=_0x10671b['side']==_0x5ce445(0xf6)?'sell':'buy',_0x350ccd=Math[_0x5ce445(0x244)](_0x10671b[_0x5ce445(0x28b)])/_0x4666d7):(_0x3920b0=_0x10671b['side'],_0x350ccd=Math[_0x5ce445(0x244)](_0x10671b[_0x5ce445(0x28b)]));_0x4bf6a1==_0x5ce445(0x21c)&&(config[_0x5ce445(0x22e)]==_0x5ce445(0x28d)&&(_0x4666d7=_0x3920b0==_0x5ce445(0xf6)?_0x4b514b:_0x1ff175),config[_0x5ce445(0x22e)]==_0x5ce445(0x29a)&&(_0x4666d7=_0x3920b0==_0x5ce445(0xf6)?_0x1ff175:_0x4b514b));_0x350ccd=formatResult(_0x350ccd,0x8),_0x4666d7=formatResult(_0x4666d7,0x8);const _0xa320b=_0x3920b0==_0x5ce445(0xe7)?config[_0x5ce445(0xf1)]?String[_0x5ce445(0x264)]('0x'+config['emojisell'])+'\x20':'':config['emojibuy']?String['fromCodePoint']('0x'+config[_0x5ce445(0x211)])+'\x20':'',_0xf46516=_0x4bf6a1=='market'?_0x5ce445(0x139):config[_0x5ce445(0x22e)]=='limit-high'?_0x5ce445(0x2b4):'Limit\x20(low-margin)',_0x51a44b=(Math['floor'](Math[_0x5ce445(0x1dc)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x5ce445(0x1b5)]({'customId':_0x51a44b,'symbol':_0x31e9d9,'coin':_0x10671b[_0x5ce445(0x23f)],'amount':_0x350ccd,'price':_0x4666d7,'side':_0x3920b0,'reverse':_0x10671b[_0x5ce445(0x167)],'filled':0x0});let _0x3c6e94;_0x4bf6a1==_0x5ce445(0x144)?_0x3920b0==_0x5ce445(0xf6)&&[_0x5ce445(0x22a),'Bitget','Cex',_0x5ce445(0x25a),_0x5ce445(0x14a),_0x5ce445(0x20a)]['includes'](config[_0x5ce445(0x175)])?_0x3c6e94=await exchange[_0x5ce445(0x17e)](_0x31e9d9,_0x4bf6a1,_0x3920b0,_0x350ccd,_0x4666d7):_0x3c6e94=await exchange[_0x5ce445(0x17e)](_0x31e9d9,_0x4bf6a1,_0x3920b0,_0x350ccd,undefined):_0x3c6e94=await exchange[_0x5ce445(0x17e)](_0x31e9d9,_0x4bf6a1,_0x3920b0,_0x350ccd,_0x4666d7);const _0x28a1b8=lastOrders[_0x5ce445(0x1a5)]-0x1;if(_0x28a1b8>=0x0&&lastOrders[_0x28a1b8][_0x5ce445(0x283)]==_0x51a44b){lastOrders[_0x28a1b8][_0x5ce445(0x162)]=_0x3c6e94['id'];if(_0x3c6e94[_0x5ce445(0x25e)])lastOrders[_0x28a1b8][_0x5ce445(0x25e)]=_0x3c6e94[_0x5ce445(0x25e)];if(_0x3c6e94[_0x5ce445(0x128)])lastOrders[_0x28a1b8][_0x5ce445(0x128)]=_0x3c6e94['price'];lastOrders[_0x28a1b8]['fee']=_0x3c6e94[_0x5ce445(0x168)];}if(_0x3c6e94[_0x5ce445(0x25e)])_0x350ccd=_0x3c6e94[_0x5ce445(0x25e)];if(_0x3c6e94[_0x5ce445(0x128)])_0x4666d7=_0x3c6e94[_0x5ce445(0x128)];if(_0x4bf6a1==_0x5ce445(0x144))logHistory(_0x5ce445(0x24a),''+_0xa320b+_0xf46516+_0x5ce445(0x17a)+_0x31e9d9+'\x20'+_0x3920b0+'\x20#'+formatResult(_0x350ccd,0x8)+'\x20@'+formatResult(_0x4666d7,0x8));else logHistory('order',''+_0xa320b+_0xf46516+_0x5ce445(0x17a)+_0x31e9d9+'\x20'+_0x3920b0+'\x20#'+formatResult(_0x350ccd,0x8)+'\x20@'+formatResult(_0x4666d7,0x8));logger[_0x5ce445(0xdc)](_0x5ce445(0x164)+_0x3c6e94['id']+'\x20|\x20Custom\x20ID:\x20'+_0x51a44b);if(config[_0x5ce445(0x153)]!=0x0){let _0x496fe0=null;if(cooldownTracker[_0x5ce445(0x1a5)]==config[_0x5ce445(0x153)]-0x1)_0x496fe0=cooldownTracker[_0x5ce445(0xff)]();const _0x1ff44b=getTimeStamp();cooldownTracker[_0x5ce445(0x1b5)](_0x1ff44b);if(_0x496fe0){const _0x12b26f=fns['differenceInSeconds'](new Date(_0x1ff44b),new Date(_0x496fe0));if(_0x12b26f<cooldownInterval){logHistory('error','Executed\x20'+config[_0x5ce445(0x153)]+_0x5ce445(0x126)+cooldownInterval/0x3c+_0x5ce445(0x20d)+cooldownPeriod/(0xe10*0x3e8)+_0x5ce445(0x224)),coolingDown=!![];break;}}}}catch(_0xb4309c){if(_0xb4309c[_0x5ce445(0x239)]()[_0x5ce445(0x120)](_0x5ce445(0x22c)))lastOrders=lastOrders['filter'](_0x222d42=>_0x222d42[_0x5ce445(0x21d)]!=_0x31e9d9),logHistory(_0x5ce445(0x294),_0x5ce445(0x1b3)+_0x31e9d9),_0x39c84a=!![];else{if(_0xb4309c[_0x5ce445(0x239)]()[_0x5ce445(0x120)](_0x5ce445(0x293)))lastOrders=lastOrders[_0x5ce445(0x113)](_0x109e2a=>_0x109e2a[_0x5ce445(0x21d)]!=_0x31e9d9),logHistory(_0x5ce445(0x294),_0x5ce445(0x29e)+_0x31e9d9),_0x39c84a=!![];else{if(_0xb4309c['toString']()[_0x5ce445(0x120)](_0x5ce445(0x178)))lastOrders=lastOrders['filter'](_0x4ee8ea=>_0x4ee8ea[_0x5ce445(0x21d)]!=_0x31e9d9),logHistory(_0x5ce445(0x294),'Order\x20is\x20invalid:\x20'+_0x31e9d9),logger['debug'](_0xb4309c),_0x39c84a=!![];else _0xb4309c[_0x5ce445(0x239)]()['includes'](_0x5ce445(0x12e))?(lastOrders=lastOrders['filter'](_0x36cec6=>_0x36cec6[_0x5ce445(0x21d)]!=_0x31e9d9),logHistory('error',_0x5ce445(0x1b3)+_0x31e9d9),_0x39c84a=!![]):(lastOrders=lastOrders[_0x5ce445(0x113)](_0x5d499d=>_0x5d499d[_0x5ce445(0x21d)]!=_0x31e9d9),await handleError(_0xb4309c,_0x5ce445(0x184),_0x31e9d9));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5ce445(0x1a5)]>0x0){const _0x3fe61c=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x5ce445(0x1ee)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5e6c4b=_0x5ce445;validateOrders(_0x5e6c4b(0x10b));},_0x3fe61c);}else unlockOrders();_0x39c84a&&config[_0x5ce445(0x104)]&&(logHistory(_0x5ce445(0x294),_0x5ce445(0x21b)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5ce445(0xde),_0x5ce445(0x296)));}else{if(coolingDown)!config['headless']&&logHistory(_0x5ce445(0x294),_0x5ce445(0x205));else lockOrders!=ORDERS[_0x5ce445(0x1f5)]&&(!config['headless']&&(config[_0x5ce445(0x22e)]=='market'?logHistory(_0x5ce445(0x294),_0x5ce445(0x273)):logHistory(_0x5ce445(0x294),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x1a6174){const _0x44e14e=_0x3f47f9,_0x335740={...config,'openOrders':_0x1a6174};let _0x418aaa=dbConfig[_0x44e14e(0x11a)](_0x44e14e(0x295))[_0x44e14e(0x26e)]({'botID':botID})['value']();_0x418aaa&&dbConfig[_0x44e14e(0x11a)]('bot')[_0x44e14e(0x26e)]({'botID':botID})[_0x44e14e(0x148)](_0x335740)[_0x44e14e(0x1bb)]();}function restoreOrders(){const _0x4e2c5a=_0x3f47f9;let _0xa96f03;config[_0x4e2c5a(0x248)]&&allOpenOrders['forEach'](_0x41ea18=>{const _0x471190=_0x4e2c5a,_0x103103=config[_0x471190(0x248)][_0x471190(0x26e)](_0x6029f5=>_0x6029f5[_0x471190(0x162)]==_0x41ea18['id']);_0x103103&&(lastOrders['push'](_0x103103),_0xa96f03=_0x41ea18['timestamp']);});if(lastOrders[_0x4e2c5a(0x1a5)]>0x0){setLockOrders(ORDERS['LOCKED']),validateOrdersState=_0x4e2c5a(0x13d),allOrdersPlaced=!![];const _0x5854fb=new Date()['getTime'](),_0x2a74e4=config[_0x4e2c5a(0x22e)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4e2c5a(0x1ee)]*0x3c*0x3e8;if(_0xa96f03+_0x2a74e4>_0x5854fb){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x43beab=_0x4e2c5a;validateOrders(_0x43beab(0x10b));},_0xa96f03+_0x2a74e4-_0x5854fb);}else validateOrders(_0x4e2c5a(0x10b));}}async function sendMetricsTelegram(){const _0x2fadf5=_0x3f47f9;if(!coinsLoaded){process[_0x2fadf5(0x165)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0xf2eb1b=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3a276b='';if(config[_0x2fadf5(0x16e)])_0x3a276b=_0x2fadf5(0x149)+config[_0x2fadf5(0xee)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x3a276b=_0x2fadf5(0x132)+botID+_0x2fadf5(0x24d);const _0x40e85c=config['basecoin'],_0xafbef0=config[_0x2fadf5(0x206)],_0x5270d6=getKPIs(_0x2fadf5(0x1a3)),_0x5ba7b2=getKPIs(_0x2fadf5(0x206),_0xafbef0),_0x234389=getKPIs('net-basecoin'),_0x2ae63b=getKPIs(_0x2fadf5(0x1d6),_0xafbef0),_0x3891f1=getKPIs(_0x2fadf5(0x140)),_0x27d49e=getKPIs(_0x2fadf5(0x24c),_0xafbef0);_0x40e85c['includes'](_0xafbef0)?(_0x3a276b+=_0x2fadf5(0x115),_0x3a276b+='Value\x20'+_0x40e85c+':\x20'+_0x5270d6[_0x2fadf5(0x284)]+'\x20('+_0x5270d6[_0x2fadf5(0x263)]+_0x2fadf5(0x1d3),_0x3a276b+='Net\x20'+_0x40e85c+':\x20'+_0x234389[_0x2fadf5(0x284)]+'\x20('+_0x234389['change']+'%)\x0a',_0x3a276b+=_0x2fadf5(0x1f2)+_0x40e85c+':\x20'+_0x3891f1[_0x2fadf5(0x284)]+'\x20('+_0x3891f1[_0x2fadf5(0x263)]+'%)\x0a',_0x3a276b+='</pre>'):(_0x3a276b+=_0x2fadf5(0x115),_0x3a276b+=_0x2fadf5(0x22d)+_0x40e85c+':\x20'+_0x5270d6[_0x2fadf5(0x284)]+'\x20('+_0x5270d6[_0x2fadf5(0x263)]+_0x2fadf5(0x1d3),_0x3a276b+=_0x2fadf5(0x22d)+_0xafbef0+':\x20'+_0x5ba7b2[_0x2fadf5(0x284)]+'\x20('+_0x5ba7b2['change']+_0x2fadf5(0x1d3),_0x3a276b+=_0x2fadf5(0x1d7)+_0x40e85c+':\x20'+_0x234389[_0x2fadf5(0x284)]+'\x20('+_0x234389[_0x2fadf5(0x263)]+_0x2fadf5(0x1d3),_0x3a276b+=_0x2fadf5(0x1d7)+_0xafbef0+':\x20'+_0x2ae63b[_0x2fadf5(0x284)]+'\x20('+_0x2ae63b[_0x2fadf5(0x263)]+_0x2fadf5(0x1d3),_0x3a276b+=_0x2fadf5(0x1f2)+_0x40e85c+':\x20'+_0x3891f1['value']+'\x20('+_0x3891f1[_0x2fadf5(0x263)]+_0x2fadf5(0x1d3),_0x3a276b+='PnL\x20'+_0xafbef0+':\x20'+_0x27d49e[_0x2fadf5(0x284)]+'\x20('+_0x27d49e[_0x2fadf5(0x263)]+_0x2fadf5(0x1d3),_0x3a276b+=_0x2fadf5(0x253)),process['send']({'telegrammsg':_0x3a276b},_0x1eb562=>{});}async function sendPortfolioTelegram(){const _0x3b916c=_0x3f47f9;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x3b916c(0x165)]({'telegrammsg':_0x3b916c(0x1b1)},_0x4e32cd=>{});return;}let _0xc7729c='';if(config[_0x3b916c(0x16e)])_0xc7729c=_0x3b916c(0x149)+config['botname']+_0x3b916c(0x159);else _0xc7729c='<b>Bot\x20'+botID+_0x3b916c(0x159);_0xc7729c+='<pre>',_0xc7729c+='-------------------------------\x0a',_0xc7729c+=_0x3b916c(0x1ea),_0xc7729c+='-------------------------------\x0a',currentCoins[_0x3b916c(0x15f)](_0x5a2d08=>{const _0x4f7f5c=_0x3b916c;_0xc7729c+=_0x5a2d08[_0x4f7f5c(0x23f)]['padEnd'](0x7)+'|\x20'+formatPad(_0x5a2d08[_0x4f7f5c(0x10e)],0x2,0x6)+'|\x20'+formatPad(_0x5a2d08[_0x4f7f5c(0xf7)],0x2,0x6)+'|\x20'+(_0x5a2d08[_0x4f7f5c(0xf7)]==0x0?'∞'['padStart'](0x6):formatPad(_0x5a2d08[_0x4f7f5c(0x102)]*0x64,0x2,0x6))+'\x0a';}),_0xc7729c+=_0x3b916c(0x253),process[_0x3b916c(0x165)]({'telegrammsg':_0xc7729c},_0x5bca4b=>{});}function formatPad(_0x5ef2b9,_0x11b088,_0xe5225f){const _0x405e7d=_0x3f47f9,_0x4e37fd=formatResultString(_0x5ef2b9,_0x11b088);return _0x4e37fd?_0x4e37fd[_0x405e7d(0x1fd)](_0xe5225f):''[_0x405e7d(0x1fd)](_0xe5225f);}function logHistory(_0x30549e,_0x3539b9,_0x3144f8=''){const _0x4785df=_0x3f47f9;logger['full'](''+_0x3539b9);let _0x2b2eba={'time':getTimeStamp(),'type':_0x30549e,'event':_0x3539b9};dbLogs['get'](_0x4785df(0x135))[_0x4785df(0x1b5)](_0x2b2eba)[_0x4785df(0x1bb)]();if(_0x3144f8=='')_0x3144f8=_0x3539b9;proxyEmit('event',{'log':_0x2b2eba,'summary':_0x3144f8}),process[_0x4785df(0x165)]({'telegram':{..._0x2b2eba,'botname':config[_0x4785df(0xee)],'showname':config[_0x4785df(0x16e)]}},_0x2bea7d=>{});}function emitHistory(_0x3894a7={}){const _0x2aa5a4=_0x3f47f9;Object[_0x2aa5a4(0x26f)](_0x3894a7)[_0x2aa5a4(0x1a5)]==0x0&&(_0x3894a7={'type':[_0x2aa5a4(0x24a),'event'],'event':'','page':0x1});if(_0x3894a7[_0x2aa5a4(0x200)][_0x2aa5a4(0x120)](_0x2aa5a4(0x216)))_0x3894a7[_0x2aa5a4(0x200)]['splice'](_0x3894a7['type']['indexOf']('event'),0x1,_0x2aa5a4(0x294),_0x2aa5a4(0xf3),_0x2aa5a4(0xde));if(dbLogs[_0x2aa5a4(0xfb)](_0x2aa5a4(0x135))[_0x2aa5a4(0x284)]()){let _0xdb6fea=dbLogs[_0x2aa5a4(0x11a)]('logs')[_0x2aa5a4(0x113)](_0x216e68=>{const _0x192866=_0x2aa5a4;if(_0x3894a7[_0x192866(0x200)][_0x192866(0x1a5)]==0x0)return![];else return _0x3894a7[_0x192866(0x200)][_0x192866(0x120)](_0x216e68[_0x192866(0x200)]);})[_0x2aa5a4(0x113)](_0x32ea8=>{const _0x93ba48=_0x2aa5a4;if(_0x3894a7[_0x93ba48(0x216)]=='')return!![];else return _0x32ea8['event'][_0x93ba48(0x261)]()[_0x93ba48(0x120)](_0x3894a7[_0x93ba48(0x216)]['toLowerCase']());})[_0x2aa5a4(0x1bd)](_0x2aa5a4(0x1e6)),_0xab3334=_0xdb6fea[_0x2aa5a4(0x284)]()[_0x2aa5a4(0x1a5)];_0xdb6fea=_0xdb6fea[_0x2aa5a4(0x167)]()[_0x2aa5a4(0xdb)]((_0x3894a7[_0x2aa5a4(0x23d)]-0x1)*logPageSize,_0x3894a7[_0x2aa5a4(0x23d)]*logPageSize-0x1)[_0x2aa5a4(0x167)]()[_0x2aa5a4(0x284)](),proxyEmit('event-history',{'logs':_0xdb6fea,'total':_0xab3334});}else proxyEmit(_0x2aa5a4(0x16b),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4ca20a){const _0x2e9c77=_0x3f47f9;if(dbLogs['has']('logs')['value']()){const _0x15ad66=dbLogs['get'](_0x2e9c77(0x135))['sortBy']('time')[_0x2e9c77(0x113)](_0x321fe0=>{const _0x17aa45=_0x2e9c77;return _0x321fe0[_0x17aa45(0x200)]==_0x17aa45(0x24a);})[_0x2e9c77(0x284)]();dbLogs['get'](_0x2e9c77(0x135))[_0x2e9c77(0x2b5)]()[_0x2e9c77(0x1bb)](),dbLogs[_0x2e9c77(0x11a)](_0x2e9c77(0x135))[_0x2e9c77(0x148)](_0x15ad66)[_0x2e9c77(0x1bb)](),emitHistory(_0x4ca20a);}}async function pauseBot(_0x56628c=pauseBotIntervalShort,_0xd4f8c7,_0x3b53a9,_0x5ae669=![]){const _0x1b596e=_0x3f47f9,_0x317f64=new Date()['getTime']();if(!lastErrorShown||_0x317f64-lastErrorShown>=_0x56628c){lastErrorShown=_0x317f64;if(!lastBotPause)lastBotPause=_0x317f64,consecutivePauses=0x1;else{if(_0x317f64-lastBotPause-_0x56628c<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x5ae669){logHistory(_0x1b596e(0x294),_0xd4f8c7+_0x1b596e(0x250)),await killBot();return;}else logHistory(_0x1b596e(0x294),_0xd4f8c7+pauseBotMsg),_0x56628c=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x317f64;}_0x3b53a9?logger[_0x1b596e(0xdc)]('('+consecutivePauses+')\x20'+_0xd4f8c7+_0x1b596e(0x1e4),_0x3b53a9):logger[_0x1b596e(0xdc)]('('+consecutivePauses+')\x20'+_0xd4f8c7);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x56628c),botPaused=![],_0x56628c==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x4aafe2=_0x3f47f9;botPaused=!![],await sleep(0x3e8),process[_0x4aafe2(0x165)]({'stop':'kill'},_0x4cb89a=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xf1682b,_0x4b94b8,_0x4320a3=![]){const _0x5ad90c=_0x3f47f9;if(botPaused)return;let _0x1f49da;const _0x1221a6=config[_0x5ad90c(0x175)]||_0x5ad90c(0x114);if(_0x4b94b8)logger[_0x5ad90c(0xdc)](_0x5ad90c(0x1d8)+_0x4b94b8);const _0xb05a9c=()=>{const _0x100667=_0x5ad90c;loading[_0x100667(0x294)]='api-issue',emitLoadingProgress();};if(_0xf1682b[_0x5ad90c(0x239)]()[_0x5ad90c(0x120)](_0x5ad90c(0x219)))logHistory('error',_0x1221a6+_0x5ad90c(0x2b6)),_0xb05a9c();else{if(_0xf1682b[_0x5ad90c(0x239)]()[_0x5ad90c(0x120)](_0x5ad90c(0x138)))logHistory('error',_0x1221a6+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0xb05a9c();else{if(_0xf1682b['toString']()[_0x5ad90c(0x120)](_0x5ad90c(0xe1)))config['apiPassword']?_0x1f49da=_0x1221a6+_0x5ad90c(0x21a):_0x1f49da=_0x1221a6+_0x5ad90c(0x1ca),logHistory(_0x5ad90c(0x294),_0x1f49da+_0x5ad90c(0x1a4)),_0xb05a9c();else{if(_0xf1682b['toString']()[_0x5ad90c(0x120)]('PermissionDenied'))logHistory(_0x5ad90c(0x294),_0x1221a6+_0x5ad90c(0x136)),_0xb05a9c();else{if(!_0x4320a3)await handleError(_0xf1682b,null);}}}}}async function handleError(_0x2fb95f,_0x2c4a85,_0x1fe658=''){const _0x5bf97d=_0x3f47f9;if(botPaused)return;let _0x517683;const _0x505664=config[_0x5bf97d(0x175)]||_0x5bf97d(0x114);if(_0x2c4a85)logger[_0x5bf97d(0xdc)](_0x5bf97d(0x1d8)+_0x2c4a85);if(_0x2fb95f['toString']()[_0x5bf97d(0x120)]('DDoSProtection'))_0x517683=_0x505664+_0x5bf97d(0x143),await pauseBot(undefined,_0x517683,_0x2fb95f);else{if(_0x2fb95f['toString']()['includes'](_0x5bf97d(0x1d9)))_0x517683=_0x505664+_0x5bf97d(0x1a8),await pauseBot(undefined,_0x517683,_0x2fb95f);else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)]('ExchangeNotAvailable')||_0x2fb95f[_0x5bf97d(0x239)]()['includes'](_0x5bf97d(0x180)))_0x517683=_0x505664+_0x5bf97d(0x231),await pauseBot(undefined,_0x517683,_0x2fb95f[_0x5bf97d(0x239)]());else{if(_0x2fb95f['toString']()['includes'](_0x5bf97d(0x237)))_0x517683=_0x505664+_0x5bf97d(0x281),await pauseBot(undefined,_0x517683,_0x2fb95f['toString']());else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)](_0x5bf97d(0x15d)))_0x517683=_0x505664+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x517683,_0x2fb95f[_0x5bf97d(0x239)]());else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x261)]()[_0x5bf97d(0x120)](_0x5bf97d(0x226))||_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x261)]()['includes'](_0x5bf97d(0x166)))_0x517683=_0x5bf97d(0x1fc),await pauseBot(undefined,_0x517683,_0x2fb95f[_0x5bf97d(0x239)]());else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)](_0x5bf97d(0x23b)))_0x517683=_0x505664+_0x5bf97d(0x194),await pauseBot(undefined,_0x517683,_0x2fb95f[_0x5bf97d(0x239)]());else{if(_0x2fb95f instanceof ccxt['NetworkError'])_0x517683=_0x505664+_0x5bf97d(0x147)+_0x2fb95f[_0x5bf97d(0x239)](),logger[_0x5bf97d(0xdc)](_0x5bf97d(0x14d),_0x2fb95f),await pauseBot(undefined,_0x517683,_0x2fb95f);else{if(_0x2fb95f['toString']()[_0x5bf97d(0x120)]('API-key\x20format\x20invalid'))logHistory('error',_0x505664+_0x5bf97d(0x187)),logHistory(_0x5bf97d(0x294),_0x5bf97d(0x1df)),await killBot();else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)](_0x5bf97d(0x138)))logHistory(_0x5bf97d(0x294),_0x505664+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x5bf97d(0x294),_0x5bf97d(0x1df)),await killBot();else{if(_0x2fb95f[_0x5bf97d(0x239)]()['includes'](_0x5bf97d(0xe1))&&_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)](_0x5bf97d(0x20b)))_0x517683=_0x505664+_0x5bf97d(0x13a),await pauseBot(undefined,_0x517683,_0x2fb95f,!![]);else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)](_0x5bf97d(0xe1)))config['apiPassword']?_0x517683=_0x505664+_0x5bf97d(0x21a):_0x517683=_0x505664+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x5bf97d(0x294),_0x517683),logHistory(_0x5bf97d(0x294),_0x5bf97d(0x1df)),await killBot();else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)](_0x5bf97d(0x1d2)))logHistory(_0x5bf97d(0x294),_0x505664+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x5bf97d(0x294),_0x5bf97d(0x1df)),await killBot();else{if(_0x2fb95f[_0x5bf97d(0x239)]()[_0x5bf97d(0x120)](_0x5bf97d(0x155)))logHistory(_0x5bf97d(0x294),_0x5bf97d(0x198)+_0x1fe658),logger[_0x5bf97d(0xdc)]('Error\x20details:',_0x2fb95f);else{if(_0x2fb95f instanceof ccxt[_0x5bf97d(0x15e)]){_0x517683=_0x505664+_0x5bf97d(0xed)+_0x2fb95f['toString']();if(_0x1fe658)_0x517683+=_0x5bf97d(0x27a)+_0x1fe658;await pauseBot(undefined,_0x517683,_0x2fb95f);}else{_0x517683=_0x5bf97d(0x258)+_0x2fb95f[_0x5bf97d(0x239)]();if(_0x1fe658)_0x517683+='\x0aSymbol(s):\x20'+_0x1fe658;await pauseBot(undefined,_0x517683);}}}}}}}}}}}}}}}}function decryptRSA(_0x441050,_0x14c110){const _0x46de82=_0x3f47f9,_0x316e78=forge['pki']['privateKeyFromPem'](_0x441050),_0x1435eb=_0x316e78[_0x46de82(0xe9)](forge[_0x46de82(0xef)]['decode64'](_0x14c110),'RSA-OAEP',{'md':forge['md'][_0x46de82(0x246)][_0x46de82(0x25f)](),'mgf1':{'md':forge['md'][_0x46de82(0x246)][_0x46de82(0x25f)]()}});return _0x1435eb;}async function withRetry(_0x4abe7f,_0x573d77){const _0x53dc67=_0x3f47f9;let _0x557640=![],_0x5c2e16=0x0,_0x2ebec3,_0x37a036;while(_0x5c2e16<maxRetries){try{_0x2ebec3=await _0x573d77();break;}catch(_0x4cbcb2){_0x37a036=_0x4cbcb2,!_0x557640?(_0x557640=!![],logger['debug'](_0x53dc67(0x152)+_0x4abe7f+':',_0x4cbcb2['toString']())):await sleep(retryInterval);}_0x5c2e16++;}if(_0x5c2e16==0x0)return _0x2ebec3;if(_0x5c2e16>=maxRetries)throw _0x37a036;else return logger[_0x53dc67(0xdc)](_0x53dc67(0x133)+_0x5c2e16+_0x53dc67(0x1c1)),_0x2ebec3;}function formatResult(_0x3fc940,_0x493925){return parseFloat(_0x3fc940['toFixed'](_0x493925));}function formatResultTruncate(_0xdf230f,_0x155d9c){const _0x52bd18=_0x3f47f9;let _0x7e3657=formatResultString(_0xdf230f,0xa),_0x2cdf1b=_0x7e3657[_0x52bd18(0x122)]('.');return _0x2cdf1b!=-0x1&&(_0x7e3657=_0x7e3657['slice'](0x0,_0x2cdf1b+_0x155d9c+0x1)),Number(_0x7e3657);}function formatResultString(_0xc6c220,_0x1ff75e){const _0x11c6a2=_0x3f47f9;let _0x5cbb06;if(!(''+_0xc6c220)[_0x11c6a2(0x120)]('e'))_0x5cbb06=+(Math[_0x11c6a2(0x1ff)](_0xc6c220+'e+'+_0x1ff75e)+'e-'+_0x1ff75e);else{let _0x4de16d=(''+_0xc6c220)[_0x11c6a2(0xf4)]('e'),_0x2ea22f='';+_0x4de16d[0x1]+_0x1ff75e>0x0&&(_0x2ea22f='+'),_0x5cbb06=+(Math[_0x11c6a2(0x1ff)](+_0x4de16d[0x0]+'e'+_0x2ea22f+(+_0x4de16d[0x1]+_0x1ff75e))+'e-'+_0x1ff75e);}return Number(_0x5cbb06)[_0x11c6a2(0x256)](_0x1ff75e);}function getServerTime(){const _0x4c93a7=_0x3f47f9,_0x3884f2=new Date();return _0x3884f2['getFullYear']()+'/'+(_0x3884f2['getMonth']()+0x1)[_0x4c93a7(0x239)]()[_0x4c93a7(0x1fd)](0x2,'0')+'/'+_0x3884f2[_0x4c93a7(0xec)]()[_0x4c93a7(0x239)]()['padStart'](0x2,'0')+'\x20'+_0x3884f2[_0x4c93a7(0x124)]()[_0x4c93a7(0x239)]()[_0x4c93a7(0x1fd)](0x2,'0')+':'+_0x3884f2[_0x4c93a7(0x1cc)]()[_0x4c93a7(0x239)]()['padStart'](0x2,'0')+':'+_0x3884f2[_0x4c93a7(0x118)]()[_0x4c93a7(0x239)]()[_0x4c93a7(0x1fd)](0x2,'0');}function getTimeStamp(){const _0x1a901b=_0x3f47f9,_0x5c1c21=shiftedTime();return _0x5c1c21[_0x1a901b(0x2a4)]()+'/'+(_0x5c1c21[_0x1a901b(0x24e)]()+0x1)[_0x1a901b(0x239)]()[_0x1a901b(0x1fd)](0x2,'0')+'/'+_0x5c1c21[_0x1a901b(0xec)]()['toString']()[_0x1a901b(0x1fd)](0x2,'0')+'\x20'+_0x5c1c21[_0x1a901b(0x124)]()['toString']()['padStart'](0x2,'0')+':'+_0x5c1c21['getMinutes']()['toString']()[_0x1a901b(0x1fd)](0x2,'0')+':'+_0x5c1c21[_0x1a901b(0x118)]()[_0x1a901b(0x239)]()[_0x1a901b(0x1fd)](0x2,'0');}function getDate(){const _0x541ab2=_0x3f47f9,_0x54cacd=shiftedTime();return _0x54cacd['getFullYear']()+'/'+(_0x54cacd[_0x541ab2(0x24e)]()+0x1)[_0x541ab2(0x239)]()['padStart'](0x2,'0')+'/'+_0x54cacd[_0x541ab2(0xec)]()['toString']()[_0x541ab2(0x1fd)](0x2,'0');}function getHour(){const _0x2d275e=_0x3f47f9,_0x449c92=shiftedTime();return _0x449c92[_0x2d275e(0x124)]()['toString']()[_0x2d275e(0x1fd)](0x2,'0');}function sleep(_0x179a9a){return new Promise(_0x219637=>setTimeout(_0x219637,_0x179a9a));}function shiftedTime(){const _0x5a1472=_0x3f47f9,_0x2d1648=new Date();let _0x4ca9b9=_0x2d1648;if(config&&config[_0x5a1472(0x1c7)]!==0x0)_0x4ca9b9=fns[_0x5a1472(0x154)](_0x2d1648,{'hours':config[_0x5a1472(0x1c7)]});return _0x4ca9b9;}function timer(_0x15cac9){const _0x21139c=_0x3f47f9,_0x2cb250=new Date();!lasttime?console[_0x21139c(0x1e9)](getTimeStamp()+_0x21139c(0x16a),_0x15cac9,_0x2cb250):console[_0x21139c(0x1e9)](getTimeStamp()+':\x20timer\x20>',_0x15cac9,(_0x2cb250-lasttime)/0x3e8),lasttime=_0x2cb250;}