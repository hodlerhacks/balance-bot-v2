const _0xb5c0dc=_0x9f4b;(function(_0xb6773d,_0x3f7b3c){const _0x20f086=_0x9f4b,_0x50eef6=_0xb6773d();while(!![]){try{const _0x5a498a=-parseInt(_0x20f086(0x264))/0x1+parseInt(_0x20f086(0xc5))/0x2*(-parseInt(_0x20f086(0x128))/0x3)+parseInt(_0x20f086(0x147))/0x4+-parseInt(_0x20f086(0x105))/0x5+parseInt(_0x20f086(0x1d4))/0x6+parseInt(_0x20f086(0x205))/0x7*(parseInt(_0x20f086(0x245))/0x8)+-parseInt(_0x20f086(0x155))/0x9*(-parseInt(_0x20f086(0x116))/0xa);if(_0x5a498a===_0x3f7b3c)break;else _0x50eef6['push'](_0x50eef6['shift']());}catch(_0x4a2fd0){_0x50eef6['push'](_0x50eef6['shift']());}}}(_0x3bd1,0xd2d8f));const _0x4815fa=function(){let _0xef0792=!![];return function(_0x228ff1,_0x3f2ea8){const _0x51406e=_0xef0792?function(){const _0x43ad82=_0x9f4b;if(_0x3f2ea8){const _0x1fa3f9=_0x3f2ea8[_0x43ad82(0xdd)](_0x228ff1,arguments);return _0x3f2ea8=null,_0x1fa3f9;}}:function(){};return _0xef0792=![],_0x51406e;};}(),_0x2dc9d0=_0x4815fa(this,function(){const _0x43fcf9=_0x9f4b;return _0x2dc9d0[_0x43fcf9(0x1dd)]()[_0x43fcf9(0x9c)](_0x43fcf9(0x113))['toString']()[_0x43fcf9(0x251)](_0x2dc9d0)[_0x43fcf9(0x9c)]('(((.+)+)+)+$');});_0x2dc9d0();'use strict';const ccxt=require(_0xb5c0dc(0x23d)),low=require(_0xb5c0dc(0x19e)),FileSync=require(_0xb5c0dc(0x10d)),fs=require('fs'),fns=require(_0xb5c0dc(0x22a)),forge=require(_0xb5c0dc(0x16b)),util=require(_0xb5c0dc(0xa5)),argv=require(_0xb5c0dc(0x175))(process[_0xb5c0dc(0x16c)][_0xb5c0dc(0x218)](0x2))[_0xb5c0dc(0x16c)],path=require('path'),axios=require('axios');let exchange,gTicker={},gChange={};function _0x9f4b(_0x1662c6,_0x1e262d){const _0x1f63af=_0x3bd1();return _0x9f4b=function(_0x2dc9d0,_0x4815fa){_0x2dc9d0=_0x2dc9d0-0x93;let _0x3bd174=_0x1f63af[_0x2dc9d0];return _0x3bd174;},_0x9f4b(_0x1662c6,_0x1e262d);}const usdBasecoins=[_0xb5c0dc(0x269),_0xb5c0dc(0x108),_0xb5c0dc(0x129),'USDT',_0xb5c0dc(0xe0),'USDP'],excludedExchanges=['bitmex'],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xb5c0dc(0xc3)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0xb5c0dc(0xb7),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0xb5c0dc(0x272))[_0xb5c0dc(0x260)],environment=require(_0xb5c0dc(0x272))['environment']||_0xb5c0dc(0xb8),botID=process[_0xb5c0dc(0x16c)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0xb5c0dc(0xdb)](botID)&&(console[_0xb5c0dc(0xf7)](_0xb5c0dc(0x1fe)+botID+_0xb5c0dc(0x100)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0xb5c0dc(0x1ee)+userID+'/':_0xb5c0dc(0x1ee),logspath=userID?_0xb5c0dc(0x93)+userID+'/':_0xb5c0dc(0x93),loggerfile=fs['createWriteStream'](logspath+_0xb5c0dc(0x1df),{'flags':'a'});!fs[_0xb5c0dc(0x14e)](configpath)&&fs[_0xb5c0dc(0xd1)](configpath);!fs[_0xb5c0dc(0x14e)](logspath)&&fs[_0xb5c0dc(0xd1)](logspath);const configfile=configpath+_0xb5c0dc(0x212)+botID+_0xb5c0dc(0x1a1),logfile=configpath+'bot-'+botID+_0xb5c0dc(0x140),performancefile=configpath+_0xb5c0dc(0x212)+botID+_0xb5c0dc(0x154),coinresultsfile=configpath+_0xb5c0dc(0x212)+botID+'-results.json',settingsfile=configpath+_0xb5c0dc(0xd8),securefile=configpath+_0xb5c0dc(0x117),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0xb5c0dc(0x1de)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xb5c0dc(0x270)]({'data':[],'version':serverversion})[_0xb5c0dc(0x1de)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xb5c0dc(0x270)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xb5c0dc(0x270)]({'coins':{},'version':serverversion})[_0xb5c0dc(0x1de)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x172be4=>{const _0x936df2=_0xb5c0dc;console[_0x936df2(0xf7)](_0x172be4);},'simple':_0xb3bdbd=>{const _0x29c4b6=_0xb5c0dc;console['log'](_0xb3bdbd),loggerfile[_0x29c4b6(0x1de)](util['format'](_0xb3bdbd)+'\x0a');},'full':async(_0x5716e6,_0x1ede13='')=>{const _0x416633=_0xb5c0dc;let _0x33dbd2;if(config['showname'])_0x33dbd2=getTimeStamp()+':\x20'+config[_0x416633(0x226)]+'\x20>\x20'+_0x5716e6;else _0x33dbd2=getTimeStamp()+_0x416633(0x153)+botID+_0x416633(0x1fb)+_0x5716e6;console[_0x416633(0xf7)](_0x33dbd2),loggerfile[_0x416633(0x1de)](util['format'](_0x33dbd2)+'\x0a'),_0x1ede13&&(console['log'](_0x1ede13),loggerfile[_0x416633(0x1de)](util[_0x416633(0x26d)](_0x1ede13)+'\x0a'));},'debug':async(_0x41e8b8,_0xbee953='')=>{const _0x1327f8=_0xb5c0dc;let _0x16b484;if(config['showname'])_0x16b484=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0x41e8b8;else _0x16b484=getTimeStamp()+_0x1327f8(0x153)+botID+_0x1327f8(0x256)+_0x41e8b8;if(debugging)console[_0x1327f8(0xf7)](_0x16b484);loggerfile['write'](util[_0x1327f8(0x26d)](_0x16b484)+'\x0a');if(_0xbee953){if(debugging)console[_0x1327f8(0xf7)](_0xbee953);loggerfile[_0x1327f8(0x1de)](util['format'](_0xbee953)+'\x0a');}}};process['on'](_0xb5c0dc(0x259),function(_0x3d4553){const _0x431523=_0xb5c0dc;handleError(_0x3d4553[_0x431523(0xe7)],_0x431523(0x259));});settings[_0xb5c0dc(0xbc)]!=config[_0xb5c0dc(0xbc)]&&updateTimeshift(settings[_0xb5c0dc(0xbc)]);settings[_0xb5c0dc(0x19d)]!=config[_0xb5c0dc(0x19d)]&&updateOnepagemode(settings['onepagemode']);(settings[_0xb5c0dc(0x17a)]&&!config[_0xb5c0dc(0x17a)]||!settings[_0xb5c0dc(0x17a)]&&config[_0xb5c0dc(0x17a)])&&updateMarketcapApi(settings[_0xb5c0dc(0x17a)]);process[_0xb5c0dc(0x1e8)]({'started':_0xb5c0dc(0x247)},_0x3d6e72=>{}),initializeProcessListeners();function proxyEmit(_0x530ca7,_0x495888=null){const _0x3ceb8=_0xb5c0dc;process[_0x3ceb8(0x1e8)]({'function':_0x530ca7,'args':_0x495888},_0x51d29e=>{});}function initializeProcessListeners(){process['on']('message',_0x57829e=>{const _0x18b5c6=_0x9f4b;switch(Object[_0x18b5c6(0x118)](_0x57829e)[0x0]){case _0x18b5c6(0xbc):_0x57829e['timeshift']!=undefined&&(settings[_0x18b5c6(0xbc)]=_0x57829e[_0x18b5c6(0xbc)],updateTimeshift(settings[_0x18b5c6(0xbc)]));break;case'onepagemode':_0x57829e[_0x18b5c6(0x19d)]!=undefined&&(settings[_0x18b5c6(0x19d)]=_0x57829e['onepagemode'],updateOnepagemode(settings[_0x18b5c6(0x19d)]));break;case'marketcapApi':_0x57829e[_0x18b5c6(0x17a)]!=undefined&&(settings[_0x18b5c6(0x17a)]=_0x57829e['marketcapApi'],updateMarketcapApi(settings[_0x18b5c6(0x17a)]));break;case _0x18b5c6(0x1cc):_0x57829e[_0x18b5c6(0x1cc)]!=undefined&&(bots=JSON[_0x18b5c6(0x1a4)](_0x57829e[_0x18b5c6(0x1cc)]),proxyEmit(_0x18b5c6(0x1cc),bots));break;case'function':switch(_0x57829e[_0x18b5c6(0xd7)]){case _0x18b5c6(0x1c9):initclient();break;case _0x18b5c6(0xee):toggleBotMode();break;case _0x18b5c6(0x203):emitHistory(_0x57829e[_0x18b5c6(0x18e)]);break;case _0x18b5c6(0x1eb):deleteHistoryAlerts(_0x57829e[_0x18b5c6(0x18e)]);break;case'getPortfolio':getPortfolio(_0x57829e[_0x18b5c6(0x18e)]);break;case _0x18b5c6(0x110):storeConfiguration(_0x57829e['args']);break;case _0x18b5c6(0xec):storeHeadless(_0x57829e['args']);break;case _0x18b5c6(0xf1):storeFiat(_0x57829e[_0x18b5c6(0x18e)]);break;case'resetHistory':resetHistory();break;case _0x18b5c6(0xcf):getStartingBalances(getNormalizedPerformance());break;case _0x18b5c6(0x12f):placeOrder(_0x57829e[_0x18b5c6(0x18e)]);break;case _0x18b5c6(0x23e):cancelLoading();break;case _0x18b5c6(0x182):showConfig();break;case _0x18b5c6(0x24e):sendMetricsTelegram();break;case _0x18b5c6(0x231):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0xfc58ec=![]){const _0x421b20=_0xb5c0dc;logger[_0x421b20(0x206)](_0x421b20(0x221)+(_0xfc58ec?_0x421b20(0x1c6):'no\x20exchange\x20reloaded')+_0x421b20(0x181)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x421b20(0x1a8)]!=''&&config[_0x421b20(0x1a8)]!=_0x421b20(0x186)){loadingProgress=0x0;if(_0xfc58ec){await initExchange();const _0x59028b=await testAPI();if(!_0x59028b)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x421b20(0x165),emittedConfiguration()),initialPerformanceStored=![];}const _0x1e2e56=await getCoins();[currentCoins,currentCoinsAll]=_0x1e2e56,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x421b20(0x14f)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x421b20(0x1c5)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x5964b2=![]){const _0x23128b=_0xb5c0dc;logger[_0x23128b(0x206)](_0x23128b(0x268)+(_0x5964b2?_0x23128b(0xf5):_0x23128b(0x201))+_0x23128b(0xfb)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x5964b2){getBalances();return;}coinsLoaded=![];if(config[_0x23128b(0x1a8)]!=''&&config[_0x23128b(0x1a8)]!=_0x23128b(0x186)){loadingProgress=0x1;const _0x5c6ebf=await getCoins();[currentCoins,currentCoinsAll]=_0x5c6ebf,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x23128b(0x14f)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x23128b(0x1c5)]==0x0&&allOpenOrders[_0x23128b(0x1c5)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x53555a){const _0x4956a4=_0xb5c0dc;let _0x305729=![];if(_0x53555a)_0x305729=!![];const _0x193af1=_0x305729?_0x53555a:currentCoins,_0x1ea022=_0x193af1[_0x4956a4(0x193)](_0x5129ad=>_0x5129ad['coin']);if(!config[_0x4956a4(0x17a)]||!_0x305729&&!config[_0x4956a4(0xf6)]||_0x1ea022[_0x4956a4(0x1c5)]==0x0)return;let _0x1f5cf0=null;try{_0x1f5cf0=await axios[_0x4956a4(0x242)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x4956a4(0x17a)]},'params':{'symbol':_0x1ea022['toString']()}});}catch(_0x4aa564){_0x1f5cf0=null,_0x4aa564[_0x4956a4(0x1dd)]()['includes'](_0x4956a4(0x255))?(config[_0x4956a4(0x17a)]=![],updateConfig(),proxyEmit(_0x4956a4(0x165),emittedConfiguration()),logHistory(_0x4956a4(0x238),_0x4956a4(0x213))):(logHistory('error',_0x4956a4(0x250)+schedulerInterval/(0x3c*0x3e8)+_0x4956a4(0xb7)),logger[_0x4956a4(0x206)](_0x4956a4(0x14a),_0x4aa564['toString']()+_0x4956a4(0x18c)+_0x4aa564[_0x4956a4(0x196)]));}const _0x49b70b=new Map();let _0x255233=!![];if(_0x1f5cf0){let _0x46516a=0x0;const _0x4b0742=_0x1f5cf0[_0x4956a4(0x25d)];_0x1ea022[_0x4956a4(0x12e)](_0x39a914=>{const _0x749017=_0x4956a4;if(_0x4b0742[_0x749017(0x25d)][_0x39a914][0x0]&&_0x4b0742['data'][_0x39a914][0x0][_0x749017(0xfd)][_0x749017(0x269)]['market_cap'])_0x49b70b['set'](_0x39a914,_0x4b0742[_0x749017(0x25d)][_0x39a914][0x0]['quote']['USD'][_0x749017(0x233)]),_0x46516a+=_0x4b0742[_0x749017(0x25d)][_0x39a914][0x0][_0x749017(0xfd)]['USD'][_0x749017(0x233)];else{if(_0x4b0742[_0x749017(0x25d)][_0x39a914][0x0]&&_0x4b0742['data'][_0x39a914][0x0][_0x749017(0x16d)])_0x49b70b[_0x749017(0x216)](_0x39a914,_0x4b0742[_0x749017(0x25d)][_0x39a914][0x0][_0x749017(0x16d)]),_0x46516a+=_0x4b0742[_0x749017(0x25d)][_0x39a914][0x0][_0x749017(0x16d)];else{if(![_0x749017(0x1d7),_0x749017(0x269)][_0x749017(0x13d)](_0x39a914)){if(_0x305729)logHistory(_0x749017(0x238),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x39a914+_0x749017(0x204));else{const _0x4068b8=config['portfolio'][_0x749017(0x102)](_0x1c4ca6=>_0x1c4ca6[_0x749017(0xd6)]==_0x39a914);_0x4068b8&&!_0x4068b8[_0x749017(0xbf)]&&_0x4068b8[_0x749017(0x1f3)]==-0x1&&(_0x255233=![],logHistory(_0x749017(0x238),_0x749017(0x187)),logger[_0x749017(0x206)](_0x749017(0x170)+_0x39a914));}}}}});if(!_0x255233)return;_0x1ea022[_0x4956a4(0x12e)](_0x368abe=>{const _0x124593=_0x4956a4,_0x3f0caf=_0x49b70b[_0x124593(0x242)](_0x368abe)?_0x49b70b[_0x124593(0x242)](_0x368abe):0x0;if(_0x305729){const _0x59140d=_0x53555a[_0x124593(0x102)](_0x581d8d=>_0x581d8d[_0x124593(0xd6)]==_0x368abe);_0x59140d&&(_0x59140d[_0x124593(0x179)]=_0x3f0caf);}else{const _0xf42ee5=currentCoins[_0x124593(0x102)](_0x56db63=>_0x56db63[_0x124593(0xd6)]==_0x368abe);_0xf42ee5&&(_0xf42ee5[_0x124593(0x179)]=_0x3f0caf);const _0x2fbc8a=currentCoinsAll[_0x124593(0x102)](_0x4cefe9=>_0x4cefe9[_0x124593(0xd6)]==_0x368abe);_0x2fbc8a&&(_0x2fbc8a[_0x124593(0x179)]=_0x3f0caf);}}),!_0x305729&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x47c7fe=_0xb5c0dc,_0x4bc6d1=0x2;let _0x46901f=0x0,_0x4a9b19=0x0,_0x46a4a3=0x0,_0x233541=0x0,_0x127033=0x0;config[_0x47c7fe(0x1f4)]['forEach'](_0x49fe30=>{const _0x52e8e9=_0x47c7fe;if(!_0x49fe30[_0x52e8e9(0xbf)]){_0x46a4a3++,_0x46901f+=_0x49fe30[_0x52e8e9(0x1f3)];if(_0x49fe30[_0x52e8e9(0x1f3)]===-0x1){_0x46901f++;const _0x21cecb=currentCoinsAll[_0x52e8e9(0x102)](_0x2a2dba=>_0x2a2dba[_0x52e8e9(0xd6)]==_0x49fe30[_0x52e8e9(0xd6)]);_0x21cecb&&(_0x233541+=_0x21cecb['marketcap'],_0x127033+=Math[_0x52e8e9(0x1c7)](_0x21cecb['marketcap']));}if(_0x49fe30[_0x52e8e9(0x1f3)]!==-0x1)_0x4a9b19++;}});let _0x37b163;const _0xe574fb=0x64-_0x46901f,_0x28a4df=_0x46a4a3-_0x4a9b19;_0x37b163=_0x28a4df===0x0?_0x46901f:Math[_0x47c7fe(0x14c)](0x64,_0x46901f),config[_0x47c7fe(0x1f4)][_0x47c7fe(0x12e)](_0x12a1bf=>{const _0x33ec87=_0x47c7fe,_0x3ebbe3=currentCoinsAll[_0x33ec87(0x102)](_0x1c47b8=>_0x1c47b8['coin']==_0x12a1bf[_0x33ec87(0xd6)]);_0x3ebbe3&&(_0x12a1bf[_0x33ec87(0x179)]=_0x3ebbe3[_0x33ec87(0x179)]);if(!_0x12a1bf['excluded']){if(_0x37b163<=0x64){if(_0x12a1bf['slider']===-0x1){if(_0x233541!==0x0&&config[_0x33ec87(0xf6)]){if(_0x3ebbe3){if(config[_0x33ec87(0xf6)]==_0x33ec87(0x179))_0x12a1bf[_0x33ec87(0x200)]=(_0xe574fb/(_0x233541/_0x3ebbe3[_0x33ec87(0x179)]))[_0x33ec87(0x21d)](_0x4bc6d1);else config[_0x33ec87(0xf6)]==_0x33ec87(0x16e)&&(_0x12a1bf['distribution']=(_0xe574fb/(_0x127033/Math[_0x33ec87(0x1c7)](_0x3ebbe3[_0x33ec87(0x179)])))[_0x33ec87(0x21d)](_0x4bc6d1));}}}}}}),updateConfig();}function updateConfig(){const _0xc5c7ae=_0xb5c0dc;let _0x1caf0c=dbConfig[_0xc5c7ae(0x242)](_0xc5c7ae(0xab))[_0xc5c7ae(0x102)]({'botID':botID})[_0xc5c7ae(0xaf)]();_0x1caf0c&&dbConfig['get'](_0xc5c7ae(0xab))[_0xc5c7ae(0x102)]({'botID':botID})['assign'](config)[_0xc5c7ae(0x1de)]();}function logMemory(){const _0x480848=_0xb5c0dc;if(environment!='staging')return;const _0x7ffd21=process[_0x480848(0x124)]()[_0x480848(0x202)]/0x400/0x400;logger[_0x480848(0x206)](_0x480848(0xea)+process[_0x480848(0xe2)]+_0x480848(0x26b)+formatResult(_0x7ffd21,0x1)+_0x480848(0x143));}async function startScheduler(){const _0x932f6d=_0xb5c0dc,_0x3b1d92=shiftedTime()[_0x932f6d(0x166)]();getMarketCap(),loadSymbols(),_0x3b1d92==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x111a1f=![]){const _0x1af815=_0xb5c0dc;logger[_0x1af815(0x206)](_0x1af815(0x9d));if(!_0x111a1f)while(lockOrders!=ORDERS[_0x1af815(0x18f)]||coolingDown){await sleep(0x3e8);}process[_0x1af815(0x1e8)]({'stop':_0x1af815(0x11a)},_0x4d1d1e=>{});}async function initExchange(_0x5e5690=config[_0xb5c0dc(0x208)],_0x2eb437=config[_0xb5c0dc(0x1a8)],_0x2ace33=config[_0xb5c0dc(0x207)],_0x3b73df=config[_0xb5c0dc(0x1e6)],_0x12a3ec=config['sandbox']){const _0x258a31=_0xb5c0dc;if(exchange){logger[_0x258a31(0x206)](_0x258a31(0x228));return;}logger['debug']('Initializing\x20exchange');!supportedExchanges()[_0x258a31(0x13d)](_0x5e5690)&&(logHistory(_0x258a31(0x238),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x5e5690+_0x258a31(0x1f7)),killBot());const _0x74d98=ccxt['pro'][_0x5e5690['toLowerCase']()];exchange=new _0x74d98({'apiKey':_0x2eb437,'secret':_0x2ace33,'options':{'defaultType':'spot'}});if(_0x3b73df)exchange[_0x258a31(0x215)]=_0x3b73df;if(exchange['has']['sandbox'])exchange['setSandboxMode'](_0x12a3ec);if(_0x5e5690[_0x258a31(0xc2)]()==_0x258a31(0x1ab))exchange[_0x258a31(0x1d0)]['operatorId']=operatorId;}function updateExchange(_0x258f22,_0x589b24,_0x416a7f=null){const _0x4fd16d=_0xb5c0dc;exchange[_0x4fd16d(0x1a8)]=_0x258f22,exchange[_0x4fd16d(0x149)]=_0x589b24,exchange[_0x4fd16d(0x215)]=_0x416a7f,logger[_0x4fd16d(0x206)]('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x514f55=_0xb5c0dc;let _0x36f2ca=config[_0x514f55(0x1ca)]==_0x514f55(0x1f5)?_0x514f55(0x1f5):config[_0x514f55(0x1ca)]=='PAXG'?_0x514f55(0xf3):'BTC',_0xec27ae=allSymbols[_0x514f55(0x13d)](_0x36f2ca+_0x514f55(0x1b8))?_0x514f55(0x269):allSymbols['includes'](_0x36f2ca+_0x514f55(0x9b))?_0x514f55(0x14d):allSymbols[_0x514f55(0x13d)](_0x36f2ca+'/USDC')?_0x514f55(0xe0):'EUR',_0x5e6902=allSymbols[_0x514f55(0x13d)](_0x36f2ca+_0x514f55(0xd5))?'EUR':_0xec27ae;enableFiatToggle=!![],_0xec27ae==_0x514f55(0x1d7)&&(enableFiatToggle=![],storeFiat(_0x514f55(0x1d7))),_0x5e6902!=_0x514f55(0x1d7)&&(enableFiatToggle=![],storeFiat(_0x514f55(0x269))),stablecoins={'eur':{'coin':''+_0x36f2ca+_0x5e6902,'symbol':_0x36f2ca+'/'+_0x5e6902},'usd':{'coin':''+_0x36f2ca+_0xec27ae,'symbol':_0x36f2ca+'/'+_0xec27ae}};}async function initwsCcxt(){const _0x5b7f36=_0xb5c0dc;initCycle++;const _0x10b170=initCycle;let _0x33ef21=[];config[_0x5b7f36(0x1f4)][_0x5b7f36(0x12e)](_0x101437=>{const _0x1d1288=_0x5b7f36;if(!_0x101437[_0x1d1288(0xbf)]&&_0x101437['coin']!=config['basecoin'])_0x33ef21[_0x1d1288(0x178)](_0x101437[_0x1d1288(0x172)]);});if(!_0x33ef21['includes'](stablecoins[_0x5b7f36(0x160)]['symbol']))_0x33ef21[_0x5b7f36(0x178)](stablecoins['eur'][_0x5b7f36(0x172)]);if(!_0x33ef21[_0x5b7f36(0x13d)](stablecoins[_0x5b7f36(0x13f)]['symbol']))_0x33ef21[_0x5b7f36(0x178)](stablecoins[_0x5b7f36(0x13f)][_0x5b7f36(0x172)]);loadCoins(_0x33ef21),_0x33ef21=validateSymbols(_0x33ef21);const _0x1c70e4=async _0x1bdbb0=>{const _0x5b7001=_0x5b7f36;let _0x1ecbc9;try{const _0x10e242=await getTickers(_0x1bdbb0);Object[_0x5b7001(0x17b)](_0x10e242)[_0x5b7001(0x12e)](_0x431f91=>{const _0x21059a=_0x5b7001;_0x1ecbc9=_0x431f91[0x1][_0x21059a(0x172)],gTicker[noslash(_0x1ecbc9)]=_0x431f91[0x1]['last'],gChange[_0x1ecbc9]=_0x431f91[0x1][_0x21059a(0x150)];});}catch(_0x8f9133){await handleError(_0x8f9133,_0x5b7001(0x122),_0x1ecbc9);}},_0x37c100=async _0x5cb5f2=>{const _0x125eb0=_0x5b7f36;while(initCycle==_0x10b170){if(!botPaused)try{const _0x5b6225=await exchange[_0x125eb0(0x111)](_0x5cb5f2);gTicker[noslash(_0x5b6225[0x0]['symbol'])]=_0x5b6225[0x0][_0x125eb0(0x1bb)];}catch(_0x3e7044){if(!exchangeStopped)await handleError(_0x3e7044,'watchTrades()',_0x5cb5f2);}else await sleep(0x64);}},_0x511eb3=async _0x452915=>{const _0x48cbbf=_0x5b7f36;while(initCycle==_0x10b170){if(!botPaused)try{const _0x4eb727=await exchange[_0x48cbbf(0x1f9)](_0x452915),_0x55595a=_0x4eb727[_0x48cbbf(0x199)]();gTicker[noslash(_0x55595a[_0x48cbbf(0x172)])]=_0x55595a[_0x48cbbf(0x1bb)];}catch(_0x40335d){if(!exchangeStopped)await handleError(_0x40335d,_0x48cbbf(0xb1),_0x452915[_0x48cbbf(0x1dd)]());}else await sleep(0x64);}},_0x65bde0=async _0x1a685c=>{const _0x479cb6=_0x5b7f36;while(initCycle==_0x10b170){if(!botPaused){let _0x197204;try{await sleep(0x3c*0x3e8);const _0x2970b3=await getTickers(_0x1a685c);Object[_0x479cb6(0x17b)](_0x2970b3)[_0x479cb6(0x12e)](_0x144b10=>{const _0x388c48=_0x479cb6;_0x197204=_0x144b10[0x1][_0x388c48(0x172)],gChange[_0x197204]=_0x144b10[0x1][_0x388c48(0x150)];});}catch(_0x50cdd3){if(!exchangeStopped)await handleError(_0x50cdd3,_0x479cb6(0x157),_0x197204);}}else await sleep(0x64);}},_0xfaece2=async _0x1ea74e=>{const _0x401e2b=_0x5b7f36;while(initCycle==_0x10b170){if(!botPaused)try{const _0x209016=await exchange['watchOrders'](_0x1ea74e);initCycle==_0x10b170&&_0x209016[_0x401e2b(0x12e)](_0x47cdfe=>{updateNumberCoinsCcxt(_0x47cdfe);});}catch(_0x476bd9){if(!exchangeStopped)await handleError(_0x476bd9,_0x401e2b(0x23c));}else await sleep(0x64);}};_0x1c70e4(_0x33ef21),_0x65bde0(_0x33ef21),exchange['has'][_0x5b7f36(0x1f9)]&&!(config[_0x5b7f36(0x208)]=='Bybit'&&_0x33ef21[_0x5b7f36(0x1c5)]>0xa)?_0x511eb3(_0x33ef21):_0x33ef21[_0x5b7f36(0x12e)](_0x5b230e=>{_0x37c100(_0x5b230e);}),_0x33ef21['forEach'](_0x574750=>{_0xfaece2(_0x574750);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x4ca450){const _0x21e01d=_0xb5c0dc;let _0x371868={};try{if(config[_0x21e01d(0x208)]!='Cryptocom')_0x371868=await exchange[_0x21e01d(0x156)](_0x4ca450);else for(const _0x59ee43 of _0x4ca450){const _0x31fdd9=await exchange[_0x21e01d(0x163)](_0x59ee43);_0x371868[_0x59ee43]=_0x31fdd9;}return _0x371868;}catch(_0x227373){throw _0x227373;}}function setBlockTransactionDetection(_0x42813b){const _0x1f50a4=_0xb5c0dc;blockTransactionDetection=_0x42813b,logger[_0x1f50a4(0x206)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x4ca49=0x0){const _0x2c582a=_0xb5c0dc;transactionDetectionOngoing=!![];try{const _0x3eb2af=await getCoins(_0x4ca49),[_0xcc144a,_0x1b956b]=_0x3eb2af;let _0x5adb0e=[];currentCoins['forEach'](_0x45f831=>{const _0x25cf8e=_0x9f4b,_0xe42405=_0xcc144a[_0x25cf8e(0x102)](_0x214d21=>_0x214d21[_0x25cf8e(0xd6)]==_0x45f831[_0x25cf8e(0xd6)]);if(_0xe42405){if(_0x45f831[_0x25cf8e(0xd3)]!=_0xe42405[_0x25cf8e(0xd3)]){let _0x48f073;if(_0x45f831[_0x25cf8e(0xd6)]!=config['basecoin']){const _0x210b97=gTicker[noslash(_0x45f831[_0x25cf8e(0x172)])];_0x48f073=_0x45f831[_0x25cf8e(0x230)]?0x1/_0x210b97:_0x210b97;}else _0x48f073=0x1;_0x5adb0e[_0x25cf8e(0x178)]({'coin':_0x45f831['coin'],'symbol':_0x45f831[_0x25cf8e(0x172)],'price':_0x48f073,'number':Number(formatResult(_0xe42405[_0x25cf8e(0xd3)]-_0x45f831[_0x25cf8e(0xd3)],0x8)),'basecoinvalue':_0x48f073*(_0xe42405[_0x25cf8e(0xd3)]-_0x45f831['number'])});}}});if(_0x5adb0e[_0x2c582a(0x1c5)]>0x0&&!blockTransactionDetection){for(const _0x4e6a04 of _0x5adb0e){if(config[_0x2c582a(0x96)]){logger[_0x2c582a(0x206)](_0x2c582a(0x26e)+_0x4e6a04[_0x2c582a(0x236)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x2c582a(0x13e)]);if(lastFees[_0x2c582a(0x13e)]==0x0||Math['abs'](_0x4e6a04[_0x2c582a(0x236)])>lastFees[_0x2c582a(0x13e)]*0x3){if(config['autoliquidity']==_0x2c582a(0xb4)){delete _0x4e6a04[_0x2c582a(0x172)],delete _0x4e6a04['basecoinvalue'];let _0x3456ae=[],_0x5ad429=[...config[_0x2c582a(0x18d)]]||[],_0x11317c=config['liquidity'];_0x5ad429[_0x2c582a(0x1f2)]((_0xe8ba97,_0x20eeb9)=>_0xe8ba97['date']>_0x20eeb9[_0x2c582a(0x22f)]?-0x1:_0x20eeb9['date']>_0xe8ba97[_0x2c582a(0x22f)]?0x1:0x0);const _0x17187a=getDate();if(_0x5ad429[0x0]){const _0x31a535=fns[_0x2c582a(0x1a4)](_0x5ad429[0x0][_0x2c582a(0x22f)],_0x2c582a(0x180),new Date()),_0x28cd8d=fns[_0x2c582a(0x1a4)](_0x17187a,_0x2c582a(0x180),new Date());if(fns[_0x2c582a(0x10e)](_0x31a535,_0x28cd8d)){_0x3456ae=_0x5ad429[0x0][_0x2c582a(0x174)];const _0x35b4e7=_0x3456ae[_0x2c582a(0x102)](_0x13b1eb=>_0x13b1eb['coin']==_0x4e6a04[_0x2c582a(0xd6)]);_0x35b4e7?(_0x35b4e7[_0x2c582a(0xd3)]+=_0x4e6a04['number'],_0x35b4e7[_0x2c582a(0xd3)]==0x0&&(_0x3456ae=_0x3456ae[_0x2c582a(0x139)](_0x123c6b=>{const _0x14b6ed=_0x2c582a;return _0x123c6b[_0x14b6ed(0xd6)]!=_0x4e6a04[_0x14b6ed(0xd6)];}))):_0x3456ae[_0x2c582a(0x178)](_0x4e6a04);const _0xc47834=_0x11317c['find'](_0x5ee226=>_0x5ee226[_0x2c582a(0x22f)]==_0x17187a);_0xc47834[_0x2c582a(0x174)]=_0x3456ae;}else _0x11317c[_0x2c582a(0x178)]({'date':_0x17187a,'changes':[_0x4e6a04]});}const _0x523d44=_0x11317c[_0x2c582a(0x102)](_0x1beed7=>_0x1beed7['date']==_0x17187a);if(_0x523d44){let _0x1e15d9=!![];_0x523d44[_0x2c582a(0x174)]['forEach'](_0x3e5048=>{const _0x34a8aa=_0x2c582a;if(_0x3e5048[_0x34a8aa(0xd3)]!=0x0)_0x1e15d9=![];}),_0x1e15d9&&(_0x11317c=_0x11317c[_0x2c582a(0x139)](_0x5ae8c9=>{return _0x5ae8c9['date']!=_0x17187a;}));}let _0x1be73d=dbConfig[_0x2c582a(0x242)](_0x2c582a(0xab))[_0x2c582a(0x102)]({'botID':botID})['value']();_0x1be73d&&(dbConfig[_0x2c582a(0x242)](_0x2c582a(0xab))['find']({'botID':botID})[_0x2c582a(0x1b4)]({'liquidity':_0x11317c})[_0x2c582a(0x1de)](),config[_0x2c582a(0x18d)]=_0x11317c);logHistory(_0x2c582a(0x144),_0x2c582a(0x19b)+Math[_0x2c582a(0x1ef)](_0x4e6a04[_0x2c582a(0xd3)])+'\x20'+_0x4e6a04['coin']+'\x20'+(_0x4e6a04[_0x2c582a(0xd3)]>0x0?_0x2c582a(0x103):_0x2c582a(0x20c))+_0x2c582a(0x1ea)),proxyEmit('configuration',emittedConfiguration());const _0x271f0c=getNormalizedPerformance();emitPerformance(_0x271f0c),getStartingBalances(_0x271f0c),logger[_0x2c582a(0x206)]('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x2c582a(0x96)]=='switch-manual'&&(config[_0x2c582a(0x1d6)]?(await storeHeadless({'headless':![]}),logHistory(_0x2c582a(0x144),'Portfolio\x20change\x20detected:\x20'+Math[_0x2c582a(0x1ef)](_0x4e6a04[_0x2c582a(0xd3)])+'\x20'+_0x4e6a04[_0x2c582a(0xd6)]+'\x20'+(_0x4e6a04['number']>0x0?_0x2c582a(0x103):_0x2c582a(0x20c))+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0x2c582a(0x206)](_0x2c582a(0x19b)+Math[_0x2c582a(0x1ef)](_0x4e6a04[_0x2c582a(0xd3)])+'\x20'+_0x4e6a04[_0x2c582a(0xd6)]+'\x20'+(_0x4e6a04[_0x2c582a(0xd3)]>0x0?_0x2c582a(0x103):_0x2c582a(0x20c))+_0x2c582a(0x11f)));}else logger[_0x2c582a(0x206)]('Fee\x20discount\x20refund\x20detected:\x20'+Math['abs'](_0x4e6a04['number'])+'\x20'+_0x4e6a04[_0x2c582a(0xd6)]+'\x20'+(_0x4e6a04[_0x2c582a(0xd3)]>0x0?_0x2c582a(0x103):_0x2c582a(0x20c)));}else logger['debug']('Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x4e6a04[_0x2c582a(0xd3)])+'\x20'+_0x4e6a04[_0x2c582a(0xd6)]+'\x20'+(_0x4e6a04[_0x2c582a(0xd3)]>0x0?_0x2c582a(0x103):_0x2c582a(0x20c))+'\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0xcc144a,currentCoinsAll=_0x1b956b;}}catch(_0x3bd41f){if(!exchangeStopped)await handleError(_0x3bd41f,_0x2c582a(0xb6));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x449511=_0xb5c0dc;try{markets=await exchange[_0x449511(0x1fc)](!![]),allSymbols=[],Object['entries'](markets)[_0x449511(0x12e)](_0x9c3643=>{const _0x4ebf14=_0x449511;_0x9c3643[0x1]['active']&&_0x9c3643[0x1][_0x4ebf14(0x1ce)]&&allSymbols[_0x4ebf14(0x178)](_0x9c3643[0x0]);});}catch(_0x3521f1){markets?logger[_0x449511(0x206)](_0x449511(0x107)+_0x3521f1[_0x449511(0x1dd)]()):(loading[_0x449511(0xeb)]=!![],_0x3521f1['toString']()[_0x449511(0xc2)]()[_0x449511(0x13d)](_0x449511(0x1b1))||_0x3521f1[_0x449511(0x1dd)]()['toLowerCase']()[_0x449511(0x13d)](_0x449511(0x12b))?(logHistory('error',_0x449511(0x1ad)),loading[_0x449511(0x238)]=_0x449511(0x1f1)):handleErrorNoStop(_0x3521f1,'loadSymbols()',!![]),logHistory(_0x449511(0x238),'Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory('error','Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x449511(0x206)](_0x449511(0x14a),_0x3521f1),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x524df5){const _0x1cf04c=_0xb5c0dc;let _0x57e9dc=[];return _0x524df5[_0x1cf04c(0x12e)](_0x9c1ff8=>{const _0x463b83=_0x1cf04c;!allSymbols[_0x463b83(0x13d)](_0x9c1ff8)?(logHistory(_0x463b83(0x238),_0x463b83(0xfe)+_0x9c1ff8+_0x463b83(0x114)),loading[_0x463b83(0x119)]=!![],emitLoadingProgress()):_0x57e9dc[_0x463b83(0x178)](_0x9c1ff8);}),_0x57e9dc;}async function initclient(){const _0x7d5ea0=_0xb5c0dc;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x7d5ea0(0xcc),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x7d5ea0(0xfc),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x330ae9=getNormalizedPerformance();emitPerformance(_0x330ae9),getStartingBalances(_0x330ae9);}async function toggleBotMode(){const _0x5c0727=_0xb5c0dc;let _0x28cc20=dbConfig[_0x5c0727(0x242)]('bot')[_0x5c0727(0x102)]({'botID':botID})[_0x5c0727(0xaf)]();if(_0x28cc20){const _0x2d1628=!_0x28cc20[_0x5c0727(0x1d6)];dbConfig[_0x5c0727(0x242)](_0x5c0727(0xab))[_0x5c0727(0x102)]({'botID':botID})['assign']({'headless':_0x2d1628})[_0x5c0727(0x1de)](),config[_0x5c0727(0x1d6)]=_0x2d1628,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x38eed2=_0xb5c0dc;process[_0x38eed2(0x1e8)]({'updatebotmanager':!![]},_0x20d375=>{}),logger[_0x38eed2(0x206)](_0x38eed2(0x24b)+config[_0x38eed2(0x1d6)]);}async function loadCoins(_0x5ab8c5){const _0x46ba82=_0xb5c0dc;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x512e0d,_0x4d1611=0x0,_0x189e9d=0x0;_0x5ab8c5[_0x46ba82(0x12e)](_0x511ad8=>{loading['remainingSymbols']['push'](_0x511ad8);}),loadingCanceled=![];let _0x2be5bf=![];while(_0x512e0d!=_0x5ab8c5[_0x46ba82(0x1c5)]+maxLoadingProgress){_0x512e0d=loadingProgress,_0x5ab8c5[_0x46ba82(0x12e)](_0x44831c=>{const _0x5252de=_0x46ba82;if(gTicker[noslash(_0x44831c)]){loading[_0x5252de(0x1bd)]=loading[_0x5252de(0x1bd)][_0x5252de(0x139)](_0xa44c52=>_0xa44c52!=_0x44831c);if(!watchedSymbols[_0x5252de(0x13d)](_0x44831c))watchedSymbols[_0x5252de(0x178)](_0x44831c);_0x512e0d++;}}),loading[_0x46ba82(0x11c)]=Math['round'](_0x512e0d/(_0x5ab8c5[_0x46ba82(0x1c5)]+maxLoadingProgress)*0x64);loading[_0x46ba82(0x11c)]!=0x64&&(_0x189e9d>0x1e*0x5&&(loading[_0x46ba82(0x119)]=!![],emitLoadingProgress()),_0x189e9d>0x78*0x5&&!_0x2be5bf&&(_0x2be5bf=!![],logHistory(_0x46ba82(0x238),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x46ba82(0x1bd)][_0x46ba82(0xd2)](',\x20')+_0x46ba82(0x254)),logHistory(_0x46ba82(0x238),_0x46ba82(0x121)+loadCoinsRetryInterval/0xea60+_0x46ba82(0xb9)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x4d1611!=loading['progress']&&(_0x4d1611=loading[_0x46ba82(0x11c)],emitLoadingProgress()),_0x189e9d++,await sleep(0xc8);}_0x512e0d==_0x5ab8c5[_0x46ba82(0x1c5)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x46ba82(0x1e8)]({'status':'enabled','live':_0x46ba82(0x247)},_0x13e862=>{}),_0x2be5bf&&logHistory(_0x46ba82(0x144),_0x46ba82(0x1a0)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1b373d=_0xb5c0dc;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x1b373d(0x1b2)});}function emitLoadingProgress(){const _0x2ae128=_0xb5c0dc;proxyEmit(_0x2ae128(0x20b),loading);}async function getFiat(){const _0x2fd301=_0xb5c0dc;let _0x40a459=gTicker[stablecoins[_0x2fd301(0x160)][_0x2fd301(0xd6)]],_0x1962ad=gTicker[stablecoins[_0x2fd301(0x13f)][_0x2fd301(0xd6)]];return{'eur':Number(_0x40a459),'usd':Number(_0x1962ad)};}function capitalize(_0x4fcee8){const _0x206281=_0xb5c0dc;return _0x4fcee8[_0x206281(0x237)](0x0,0x1)[_0x206281(0x267)]()+_0x4fcee8[_0x206281(0x237)](0x1);}function supportedExchanges(){const _0x186cb3=_0xb5c0dc,_0x28ae19=['ws',_0x186cb3(0x156),_0x186cb3(0x163),_0x186cb3(0x111),_0x186cb3(0x1a6),'cancelOrder','createOrder',_0x186cb3(0x248),_0x186cb3(0x219)];let _0x443934=[],_0x5d05ed=[],_0x54ba12=ccxt['pro'][_0x186cb3(0xcc)];_0x54ba12[_0x186cb3(0x12e)](_0x578b6b=>{try{const _0x5a6a6a=new ccxt['pro'][_0x578b6b]();_0x5d05ed['push'](_0x5a6a6a);}catch(_0x59d862){}}),_0x5d05ed[_0x186cb3(0x12e)](_0x39477b=>{const _0x881cd4=_0x186cb3;let _0x1aadc9=0x0;_0x28ae19[_0x881cd4(0x12e)](_0x293e9e=>{const _0x16bed2=_0x881cd4;_0x293e9e in _0x39477b['has']&&_0x39477b[_0x16bed2(0xa6)][_0x293e9e]&&_0x1aadc9++;}),_0x1aadc9==_0x28ae19[_0x881cd4(0x1c5)]&&(!excludedExchanges[_0x881cd4(0x13d)](_0x39477b['id'])&&_0x443934[_0x881cd4(0x178)](capitalize(_0x39477b['id'])));});let _0x2f6789=[];return _0x54ba12[_0x186cb3(0x12e)](_0x39752b=>{const _0x1702e4=_0x186cb3;_0x39752b=capitalize(_0x39752b);if(!_0x443934[_0x1702e4(0x13d)](_0x39752b))_0x2f6789[_0x1702e4(0x178)](_0x39752b);}),_0x443934;}function setStartDatePerformance(){const _0x3c6058=_0xb5c0dc;if(config&&config[_0x3c6058(0x18d)][0x0][_0x3c6058(0x174)][_0x3c6058(0x1c5)]!=0x0){const _0x55d031=config[_0x3c6058(0x18d)][0x0][_0x3c6058(0x174)];dbPerformance[_0x3c6058(0x242)]('data')[_0x3c6058(0x102)]({'date':config['startdate']})['assign']({'coins':_0x55d031})[_0x3c6058(0x1de)]();}}function calculatePnL(_0x42f540,_0x3b8446,_0x156eb3,_0x4151a4,_0x587a8a,_0x168216){const _0x4bb610=_0xb5c0dc;!_0x42f540[_0x4bb610(0x13d)]('/'+config['basecoin'])&&(_0x156eb3=_0x156eb3=='buy'?_0x4bb610(0x10a):_0x4bb610(0x191));!_0x168216[_0x3b8446]&&(_0x168216[_0x3b8446]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x543128=0x0,_0x3d68c2,_0x58cb4d;if(_0x156eb3=='buy')_0x58cb4d=_0x168216[_0x3b8446]['number']*_0x168216[_0x3b8446][_0x4bb610(0x135)]+_0x587a8a*_0x4151a4,_0x168216[_0x3b8446][_0x4bb610(0xd3)]+=_0x4151a4,_0x168216[_0x3b8446]['breakeven']=_0x168216[_0x3b8446][_0x4bb610(0xd3)]!=0x0?_0x58cb4d/_0x168216[_0x3b8446][_0x4bb610(0xd3)]:0x0,_0x168216[_0x3b8446][_0x4bb610(0x184)]++;else _0x156eb3==_0x4bb610(0x10a)&&(_0x3d68c2=Math[_0x4bb610(0x1a2)](_0x168216[_0x3b8446][_0x4bb610(0xd3)],_0x4151a4),_0x543128=(_0x587a8a-_0x168216[_0x3b8446]['breakeven'])*_0x3d68c2,_0x58cb4d=Math[_0x4bb610(0x14c)](_0x168216[_0x3b8446][_0x4bb610(0xd3)]*_0x168216[_0x3b8446][_0x4bb610(0x135)]-_0x3d68c2*_0x168216[_0x3b8446][_0x4bb610(0x135)],0x0),_0x168216[_0x3b8446][_0x4bb610(0xd3)]-=_0x3d68c2,_0x168216[_0x3b8446][_0x4bb610(0x135)]=_0x168216[_0x3b8446][_0x4bb610(0xd3)]!=0x0?_0x58cb4d/_0x168216[_0x3b8446][_0x4bb610(0xd3)]:0x0,_0x168216[_0x3b8446][_0x4bb610(0xcb)]+=_0x543128,_0x168216[_0x3b8446][_0x4bb610(0x15e)]++);return _0x543128;}async function generatePnL(){const _0x3b5148=_0xb5c0dc;pnlGenerationNeeded=![],logger[_0x3b5148(0x206)]('Generating\x20PnL\x20data');const _0x4884a0=dbLogs['get'](_0x3b5148(0x127))[_0x3b5148(0xaf)]();let _0x59f127={},_0x214361=0x0,_0x26485a=0x0,_0x3d7c6c=config[_0x3b5148(0x1e5)];const _0x7cca02=fns[_0x3b5148(0x1a4)](_0x3d7c6c,_0x3b5148(0x180),new Date()),_0x4ae769=new Date();let _0x141f55=0x0;for(let _0x289c55=_0x7cca02;!fns[_0x3b5148(0x263)](_0x4ae769,_0x289c55);_0x289c55=fns[_0x3b5148(0xc7)](_0x289c55,0x1)){const _0x563512=fns[_0x3b5148(0x26d)](_0x289c55,'yyyy/MM/dd');while(_0x214361<_0x4884a0[_0x3b5148(0x1c5)]){const _0x56a179=new Date(_0x4884a0[_0x214361][_0x3b5148(0x24f)]);if(fns[_0x3b5148(0x263)](_0x56a179,_0x289c55))_0x214361++;else{if(_0x4884a0[_0x214361][_0x3b5148(0x24f)][_0x3b5148(0x13d)](_0x563512)){const _0x447703=_0x4884a0[_0x214361];if(_0x447703['type']===_0x3b5148(0x106)&&(_0x447703[_0x3b5148(0x1d9)][_0x3b5148(0x13d)](_0x3b5148(0x1d2))||_0x447703[_0x3b5148(0x1d9)][_0x3b5148(0x13d)](_0x3b5148(0x161)))){const _0x420f8d=_0x447703[_0x3b5148(0x1d9)]['match'](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x420f8d){const [,_0x55b25a,_0x51ef8f,_0x341b8c,_0x19c106]=_0x420f8d,_0x55bf45=_0x55b25a[_0x3b5148(0x13d)]('/'+config[_0x3b5148(0x1ca)])?_0x55b25a['split']('/')[0x0]:_0x55b25a[_0x3b5148(0x1d1)]('/')[0x1],_0x38c3a9=calculatePnL(_0x55b25a,_0x55bf45,_0x51ef8f,parseFloat(_0x341b8c),parseFloat(_0x19c106),_0x59f127);_0x26485a+=_0x38c3a9;}}_0x214361++;}else break;}}dbPerformance[_0x3b5148(0x242)]('data')['find']({'date':_0x563512})[_0x3b5148(0x1b4)]({'pnl':_0x26485a})[_0x3b5148(0x1de)]();}dbCoinResults[_0x3b5148(0x216)](_0x3b5148(0x21a),_0x59f127)['write'](),logger[_0x3b5148(0x206)](_0x3b5148(0x1d3));const _0x5123f8=getNormalizedPerformance();emitPerformance(_0x5123f8);}async function updatePnL(_0x5a0504){const _0x1eae59=_0xb5c0dc,{symbol:_0x4a4e35,coin:_0x6c5254,amount:_0x5d9229,price:_0x4161f0,side:_0x40b043,reverse:_0x2a822b}=_0x5a0504;let _0x24ec6d=dbCoinResults['get'](_0x1eae59(0x21a))[_0x1eae59(0xaf)]();const _0x198baa=calculatePnL(_0x4a4e35,_0x6c5254,_0x40b043,_0x5d9229,_0x4161f0,_0x24ec6d);dbCoinResults[_0x1eae59(0x216)](_0x1eae59(0x21a),_0x24ec6d)['write']();const _0xf9f159=getTimeStamp()['split']('\x20')[0x0];let _0x4344be=dbPerformance[_0x1eae59(0x242)](_0x1eae59(0x25d))[_0x1eae59(0x102)]({'date':_0xf9f159})[_0x1eae59(0xaf)]();_0x4344be?(_0x4344be['pnl']+=_0x198baa,dbPerformance[_0x1eae59(0x242)](_0x1eae59(0x25d))['find']({'date':_0xf9f159})['assign'](_0x4344be)[_0x1eae59(0x1de)]()):await storePerformance();const _0x888aa2=getNormalizedPerformance();emitPerformance(_0x888aa2);}async function validate24hChanges(){const _0x573e18=_0xb5c0dc;for(const _0x2db491 of currentCoins){if(_0x2db491['coin']!=config[_0x573e18(0x1ca)]){let _0x136b36;_0x2db491[_0x573e18(0x230)]?_0x136b36=formatResult((0x1/(gChange[_0x2db491[_0x573e18(0x172)]]/0x64+0x1)-0x1)*0x64,0x3):_0x136b36=gChange[_0x2db491[_0x573e18(0x172)]],_0x136b36<config[_0x573e18(0x22b)]&&(logHistory('error',_0x2db491[_0x573e18(0xd6)]+_0x573e18(0x19a)+_0x136b36+'%'),logHistory(_0x573e18(0x238),_0x573e18(0x120)),logHistory(_0x573e18(0x238),_0x573e18(0xaa)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x62f59e,_0x50fce4){if(!_0x62f59e)return!![];const _0x56864f=_0x50fce4['split']('.'),_0x35712b=_0x62f59e['split']('.');for(var _0x251672=0x0;_0x251672<_0x35712b['length'];_0x251672++){const _0x530a08=~~_0x35712b[_0x251672],_0x4e782c=~~_0x56864f[_0x251672];if(_0x530a08<_0x4e782c)return!![];if(_0x530a08>_0x4e782c)return![];}return![];}async function oneTimeMigration(){const _0x5d578d=_0xb5c0dc;let _0x3cdec0=dbLogs[_0x5d578d(0x242)](_0x5d578d(0x260))[_0x5d578d(0xaf)]();if(isOlderVersion(_0x3cdec0,_0x5d578d(0x1e7))){let _0x5b5cb3=[];const _0x580fe8=dbLogs[_0x5d578d(0x242)](_0x5d578d(0x127))[_0x5d578d(0xaf)]();_0x580fe8[_0x5d578d(0x12e)](_0x33e4b0=>{const _0x585b50=_0x5d578d;_0x5b5cb3[_0x585b50(0x178)]({'time':_0x33e4b0[_0x585b50(0x24f)],'type':_0x33e4b0[_0x585b50(0xdf)],'event':_0x33e4b0[_0x585b50(0x1d9)]});}),dbLogs['get'](_0x5d578d(0x127))['assign'](_0x5b5cb3)[_0x5d578d(0x1de)]();}let _0x32d815=dbConfig[_0x5d578d(0x242)](_0x5d578d(0x260))[_0x5d578d(0xaf)]();if(isOlderVersion(_0x32d815,_0x5d578d(0x1e7))){let _0x2be738=dbConfig['get'](_0x5d578d(0xab))['find']({'botID':botID})[_0x5d578d(0xaf)]();if(_0x2be738){let _0x3e7e7=[];_0x2be738[_0x5d578d(0x1f4)][_0x5d578d(0x12e)](_0x1505db=>{const _0x5629be=_0x5d578d;_0x3e7e7[_0x5629be(0x178)]({'coin':_0x1505db[_0x5629be(0xd6)],'number':_0x1505db[_0x5629be(0x239)],'price':_0x1505db['startprice']}),delete _0x1505db[_0x5629be(0x239)],delete _0x1505db[_0x5629be(0xf9)];});if(_0x3e7e7[_0x5d578d(0x1c5)]!==0x0)fs['writeFile'](configbackuppath+(_0x5d578d(0x1af)+botID+'.json'),JSON[_0x5d578d(0x9a)](_0x3e7e7,null,0x4),function(_0x2e722b){if(_0x2e722b){}});const _0x13ab70=(_0x340166,_0x21d61b)=>{const _0x99ca47=_0x5d578d;let _0x1efb67=[];_0x21d61b['forEach'](_0x4f6945=>{const _0x239601=_0x9f4b,_0x2ed037=_0x340166[_0x239601(0x102)](_0x142957=>_0x142957[_0x239601(0xd6)]==_0x4f6945[_0x239601(0xd6)]);if(!_0x2ed037)_0x1efb67['push'](_0x4f6945);});let _0x11139d=[];return _0x340166[_0x99ca47(0x12e)](_0x27c049=>{const _0x1cce31=_0x99ca47,_0x25a6aa=_0x21d61b[_0x1cce31(0x102)](_0x3a814f=>_0x3a814f['coin']==_0x27c049[_0x1cce31(0xd6)]);if(!_0x25a6aa||_0x25a6aa[_0x1cce31(0xd3)]==0x0&&_0x27c049[_0x1cce31(0xd3)]!=0x0)_0x11139d[_0x1cce31(0x178)](_0x27c049);}),{'missingDay1':_0x1efb67,'notInDay2':_0x11139d};},_0x5a1378=dbPerformance[_0x5d578d(0x242)](_0x5d578d(0x25d))[_0x5d578d(0x137)]()[_0x5d578d(0xaf)]();if(_0x5a1378[_0x5d578d(0x1c5)]>0x1){const {missingDay1:_0x174991,notInDay2:_0x34ee98}=_0x13ab70(_0x3e7e7,_0x5a1378[0x1][_0x5d578d(0x21a)]);_0x3e7e7=[..._0x3e7e7,..._0x174991],_0x34ee98['forEach'](_0x5974f6=>{const _0x18540e=_0x5d578d;let _0x3b27d0=_0x3e7e7['findIndex'](_0x5b55c1=>_0x5b55c1[_0x18540e(0xd6)]==_0x5974f6[_0x18540e(0xd6)]);_0x3b27d0!=-0x1&&_0x3e7e7['splice'](_0x3b27d0,0x1);});}_0x3e7e7[_0x5d578d(0x1f2)]((_0x4e78c6,_0x28e77b)=>_0x4e78c6['coin']>_0x28e77b[_0x5d578d(0xd6)]?0x1:_0x28e77b[_0x5d578d(0xd6)]>_0x4e78c6['coin']?-0x1:0x0);let _0x475f62=[{'date':_0x2be738['startdate'],'changes':_0x3e7e7}];_0x5a1378[_0x5d578d(0x1c5)]>0x2&&_0x5a1378[_0x5d578d(0x12e)]((_0xb10425,_0x41a206)=>{const _0x18c864=_0x5d578d;if(_0x41a206>0x0&&_0x41a206<_0x5a1378['length']-0x1){const {missingDay1:_0x14b964,notInDay2:_0x5806e2}=_0x13ab70(_0x5a1378[_0x41a206]['coins'],_0x5a1378[_0x41a206+0x1][_0x18c864(0x21a)]);_0x3e7e7=[],(_0x14b964[_0x18c864(0x1c5)]!=0x0||_0x5806e2[_0x18c864(0x1c5)]!=0x0)&&(_0x14b964['length']!=0x0&&_0x3e7e7[_0x18c864(0x178)](..._0x14b964),_0x5806e2[_0x18c864(0x1c5)]!=0x0&&(_0x5806e2[_0x18c864(0x12e)](_0x1794a1=>{const _0x59f819=_0x18c864;_0x1794a1[_0x59f819(0xd3)]=-_0x1794a1['number'];}),_0x3e7e7[_0x18c864(0x178)](..._0x5806e2)),_0x3e7e7['sort']((_0x46eeb9,_0xd0cb73)=>_0x46eeb9[_0x18c864(0xd6)]>_0xd0cb73[_0x18c864(0xd6)]?0x1:_0xd0cb73['coin']>_0x46eeb9[_0x18c864(0xd6)]?-0x1:0x0),_0x475f62['push']({'date':_0x5a1378[_0x41a206+0x1][_0x18c864(0x22f)],'changes':_0x3e7e7}));}}),dbConfig['get'](_0x5d578d(0xab))['find']({'botID':botID})[_0x5d578d(0x1b4)]({..._0x2be738,'liquidity':_0x475f62})[_0x5d578d(0x1de)]();}}if(isOlderVersion(_0x32d815,_0x5d578d(0x17f))){let _0x3adacf=dbConfig[_0x5d578d(0x242)](_0x5d578d(0xab))[_0x5d578d(0x102)]({'botID':botID})[_0x5d578d(0xaf)]();if(_0x3adacf){const _0x3fb8c5=_0x3adacf[_0x5d578d(0x208)],_0xe55603=_0x3fb8c5?capitalize(_0x3fb8c5):_0x5d578d(0x164);dbConfig[_0x5d578d(0x242)](_0x5d578d(0xab))[_0x5d578d(0x102)]({'botID':botID})['assign']({'exchange':_0xe55603})[_0x5d578d(0x1de)]();}}if(isOlderVersion(_0x32d815,'2.6.22')){let _0xb9f912=dbConfig[_0x5d578d(0x242)]('bot')[_0x5d578d(0x102)]({'botID':botID})[_0x5d578d(0xaf)]();if(_0xb9f912){const _0x56f1a2=_0xb9f912[_0x5d578d(0xf6)],_0x5bf5a5=_0x56f1a2?_0x5d578d(0x179):![];dbConfig[_0x5d578d(0x242)](_0x5d578d(0xab))[_0x5d578d(0x102)]({'botID':botID})[_0x5d578d(0x1b4)]({'marketcapEnabled':_0x5bf5a5})[_0x5d578d(0x1de)]();}}if(isOlderVersion(_0x32d815,_0x5d578d(0x168))){let _0x10d1c2=dbConfig[_0x5d578d(0x242)](_0x5d578d(0xab))['find']({'botID':botID})[_0x5d578d(0xaf)]();if(_0x10d1c2){const _0x3c1bac=_0x10d1c2[_0x5d578d(0x96)],_0xc98028=_0x3c1bac?_0x5d578d(0xb4):![];dbConfig[_0x5d578d(0x242)]('bot')[_0x5d578d(0x102)]({'botID':botID})[_0x5d578d(0x1b4)]({'autoliquidity':_0xc98028})[_0x5d578d(0x1de)]();}}let _0x58d95e=dbPerformance['get'](_0x5d578d(0x260))[_0x5d578d(0xaf)]();isOlderVersion(_0x58d95e,_0x5d578d(0x1e7))&&setStartDatePerformance();let _0xbb3101=dbCoinResults[_0x5d578d(0x242)](_0x5d578d(0x260))['value']();if(isOlderVersion(_0xbb3101,_0x5d578d(0x11d))){let _0xce6a6f=dbCoinResults[_0x5d578d(0x242)](_0x5d578d(0x21a))['value']();if(_0xce6a6f[_0x5d578d(0x1c5)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x5af466=_0xb5c0dc;dbConfig[_0x5af466(0x216)]('version',serverversion)[_0x5af466(0x1de)](),dbPerformance[_0x5af466(0x216)](_0x5af466(0x260),serverversion)[_0x5af466(0x1de)](),dbLogs[_0x5af466(0x216)](_0x5af466(0x260),serverversion)[_0x5af466(0x1de)](),dbCoinResults[_0x5af466(0x216)](_0x5af466(0x260),serverversion)['write']();}function getConfiguration(_0x2ede70){const _0x476db3=_0xb5c0dc;let _0x33046b=dbConfig[_0x476db3(0x242)](_0x476db3(0xab))[_0x476db3(0x102)]({'botID':_0x2ede70})['value']();if(_0x33046b){let _0x110f07=![];typeof _0x33046b[_0x476db3(0xfa)]=='string'&&(_0x33046b={..._0x33046b,'threshold':Number(_0x33046b[_0x476db3(0xfa)])},_0x110f07=!![]),_0x33046b[_0x476db3(0x22b)]==undefined&&(_0x33046b={..._0x33046b,'change24h':-0x14},_0x110f07=!![]),_0x33046b[_0x476db3(0x223)]==undefined&&(_0x33046b={..._0x33046b,'fiat':'USD'},_0x110f07=!![]),_0x33046b['onepagemode']==undefined&&(_0x33046b={..._0x33046b,'onepagemode':settings[_0x476db3(0x19d)]},_0x110f07=!![]),_0x33046b[_0x476db3(0xb3)]==undefined&&(_0x33046b={..._0x33046b,'colorscheme':_0x476db3(0x98)},_0x110f07=!![]),_0x33046b[_0x476db3(0x96)]==undefined&&(_0x33046b={..._0x33046b,'autoliquidity':_0x476db3(0xb4)},_0x110f07=!![]),_0x33046b[_0x476db3(0x17a)]==undefined&&(_0x33046b={..._0x33046b,'marketcapApi':settings[_0x476db3(0x17a)]?!![]:![]},_0x110f07=!![]),_0x33046b[_0x476db3(0xf6)]==undefined&&(_0x33046b={..._0x33046b,'marketcapEnabled':![]},_0x110f07=!![]),_0x33046b[_0x476db3(0xb5)]==undefined&&(_0x33046b={..._0x33046b,'sandbox':![]},_0x110f07=!![]),_0x110f07&&(_0x33046b={'botID':_0x33046b[_0x476db3(0x167)],'exchange':_0x33046b[_0x476db3(0x208)],'apiKey':_0x33046b[_0x476db3(0x1a8)],'apiSecret':_0x33046b['apiSecret'],'apiPassword':_0x33046b[_0x476db3(0x1e6)],'basecoin':_0x33046b[_0x476db3(0x1ca)],'botname':_0x33046b[_0x476db3(0x226)],'showname':_0x33046b[_0x476db3(0xe1)],'threshold':_0x33046b[_0x476db3(0xfa)],'ordertype':_0x33046b[_0x476db3(0xc6)],'timeout':_0x33046b[_0x476db3(0x119)],'fiat':_0x33046b[_0x476db3(0x223)],'startdate':_0x33046b[_0x476db3(0x1e5)],'recreate':_0x33046b[_0x476db3(0xad)],'timeshift':_0x33046b[_0x476db3(0xbc)],'onepagemode':_0x33046b['onepagemode'],'headless':_0x33046b[_0x476db3(0x1d6)],'cooldown':_0x33046b[_0x476db3(0x1b6)],'change24h':_0x33046b[_0x476db3(0x22b)],'emojibuy':_0x33046b[_0x476db3(0x1b3)],'emojisell':_0x33046b[_0x476db3(0x1cd)],'colorscheme':_0x33046b[_0x476db3(0xb3)],'marketcapApi':_0x33046b['marketcapApi'],'marketcapEnabled':_0x33046b['marketcapEnabled'],'sandbox':_0x33046b['sandbox'],'portfolio':_0x33046b[_0x476db3(0x1f4)],'autoliquidity':_0x33046b['autoliquidity'],'liquidity':_0x33046b[_0x476db3(0x18d)],'openOrders':_0x33046b[_0x476db3(0xbd)]},dbConfig['get'](_0x476db3(0xab))[_0x476db3(0x234)]()[_0x476db3(0x1de)](),dbConfig['get'](_0x476db3(0xab))[_0x476db3(0x178)](_0x33046b)[_0x476db3(0x1de)]());}else _0x33046b={'botID':_0x2ede70,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x476db3(0x261)+_0x2ede70,'showname':![],'threshold':0x3,'ordertype':_0x476db3(0x1b5),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x476db3(0x19d)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x476db3(0x98),'marketcapApi':settings[_0x476db3(0x17a)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x476db3(0xb4),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x33046b;}function emittedConfiguration(){const _0x40e016=_0xb5c0dc;let _0x5117e7;if(config['apiKey']=='')_0x5117e7={...config,'configstate':_0x40e016(0x266)};else config['apiKey']=='***'?_0x5117e7={...config,'configstate':_0x40e016(0x198)}:(_0x5117e7={...config,'apiKey':_0x40e016(0x1be),'apiSecret':_0x40e016(0x1be)},config[_0x40e016(0x1e6)]&&(_0x5117e7[_0x40e016(0x1e6)]='************'));return _0x5117e7[_0x40e016(0x25a)]=enableFiatToggle,_0x5117e7;}function getSettings(){const _0x44b04f=_0xb5c0dc;return dbSettings[_0x44b04f(0x242)]('settings')[_0x44b04f(0xaf)]();}function getSecure(){const _0x22790b=_0xb5c0dc;return dbSecure['get'](_0x22790b(0x176))[_0x22790b(0xaf)]()||{};}function updateTimeshift(_0x2d2ae1){const _0x46bce6=_0xb5c0dc;let _0x17d629=dbConfig['get']('bot')[_0x46bce6(0x102)]({'botID':botID})[_0x46bce6(0xaf)]();_0x17d629&&dbConfig[_0x46bce6(0x242)](_0x46bce6(0xab))[_0x46bce6(0x102)]({'botID':botID})[_0x46bce6(0x1b4)]({'timeshift':_0x2d2ae1})[_0x46bce6(0x1de)](),config['timeshift']=_0x2d2ae1,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x31fa12){const _0x47bf17=_0xb5c0dc;let _0x58c58e=dbConfig[_0x47bf17(0x242)](_0x47bf17(0xab))[_0x47bf17(0x102)]({'botID':botID})['value']();_0x58c58e&&dbConfig[_0x47bf17(0x242)](_0x47bf17(0xab))[_0x47bf17(0x102)]({'botID':botID})[_0x47bf17(0x1b4)]({'onepagemode':_0x31fa12})['write'](),config[_0x47bf17(0x19d)]=_0x31fa12,proxyEmit(_0x47bf17(0x165),emittedConfiguration());}function updateMarketcapApi(_0x55996d){const _0x49fc28=_0xb5c0dc,_0xe18889=_0x55996d?!![]:![];let _0x3ba945=dbConfig['get'](_0x49fc28(0xab))['find']({'botID':botID})[_0x49fc28(0xaf)]();_0x3ba945&&dbConfig['get'](_0x49fc28(0xab))['find']({'botID':botID})[_0x49fc28(0x1b4)]({'marketcapApi':_0xe18889})[_0x49fc28(0x1de)](),config[_0x49fc28(0x17a)]=_0xe18889,getMarketCap(),proxyEmit(_0x49fc28(0x165),emittedConfiguration());}async function storeConfiguration(_0x4a2154){const _0x27c082=_0xb5c0dc;logger[_0x27c082(0x206)](_0x27c082(0x134));_0x4a2154[_0x27c082(0x17e)]&&delete _0x4a2154[_0x27c082(0x17e)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0xbe4c65=![],_0x2fe139=![],_0x28bf45=[];_0x4a2154['portfolio']['forEach'](_0x3c7c89=>{const _0x34ff07=_0x27c082;if(!_0x3c7c89[_0x34ff07(0xbf)]&&_0x3c7c89[_0x34ff07(0xd6)]!=_0x4a2154[_0x34ff07(0x1ca)])_0x28bf45['push'](_0x3c7c89[_0x34ff07(0x172)]);}),_0x28bf45[_0x27c082(0x12e)](_0x129935=>{const _0x430227=_0x27c082,_0x2daa01=currentCoins[_0x430227(0x102)](_0x5f5c00=>_0x5f5c00['symbol']==_0x129935);!_0x2daa01&&(_0xbe4c65=!![]);}),currentCoins['forEach'](_0x230352=>{const _0x11b000=_0x27c082;if(_0x230352['coin']!=config[_0x11b000(0x1ca)]){const _0x6aa796=_0x28bf45[_0x11b000(0x102)](_0x32705f=>_0x32705f==_0x230352[_0x11b000(0x172)]);!_0x6aa796&&(_0xbe4c65=!![]);}}),_0x4a2154[_0x27c082(0x1f4)][_0x27c082(0x12e)](_0x574483=>{const _0x149cd9=_0x27c082,_0x366bcc=config[_0x149cd9(0x1f4)][_0x149cd9(0x102)](_0x1f41ad=>_0x1f41ad[_0x149cd9(0xd6)]==_0x574483['coin']);if(_0x366bcc&&_0x574483[_0x149cd9(0x10f)]!=_0x366bcc[_0x149cd9(0x10f)])_0x2fe139=!![];});let _0x147dfc=dbConfig[_0x27c082(0x242)](_0x27c082(0xab))[_0x27c082(0x102)]({'botID':botID})[_0x27c082(0xaf)]();_0x4a2154={..._0x4a2154,'apiKey':decryptRSA(secure[_0x27c082(0x20a)],_0x4a2154[_0x27c082(0x1a8)]),'apiSecret':decryptRSA(secure['privateKey'],_0x4a2154[_0x27c082(0x207)])};_0x4a2154['apiPassword']&&(_0x4a2154['apiPassword']=decryptRSA(secure['privateKey'],_0x4a2154['apiPassword']));let _0x20c846=![];if(_0x147dfc){_0x4a2154[_0x27c082(0x1a8)]==_0x27c082(0x1be)?_0x4a2154[_0x27c082(0x1a8)]=config['apiKey']:_0x20c846=!![];_0x4a2154[_0x27c082(0x207)]==_0x27c082(0x1be)?_0x4a2154['apiSecret']=config[_0x27c082(0x207)]:_0x20c846=!![];if(_0x4a2154[_0x27c082(0x1e6)]==_0x27c082(0x1be))_0x4a2154[_0x27c082(0x1e6)]=config[_0x27c082(0x1e6)];else{if(_0x4a2154['apiPassword'])_0x20c846=!![];}dbConfig[_0x27c082(0x242)](_0x27c082(0xab))[_0x27c082(0x102)]({'botID':botID})[_0x27c082(0x1b4)](_0x4a2154)['write']();}else dbConfig[_0x27c082(0x242)](_0x27c082(0xab))[_0x27c082(0x178)](_0x4a2154)['write'](),_0x20c846=!![],process[_0x27c082(0x1e8)]({'status':_0x27c082(0x25b),'live':_0x27c082(0x247)},_0x55c4c3=>{});process[_0x27c082(0x1e8)]({'botname':_0x4a2154[_0x27c082(0x226)]},_0x56285d=>{}),config={..._0x4a2154},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x20c846)await reset(!![]);else _0xbe4c65||_0x2fe139?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x326d90){const _0x4d84d8=_0xb5c0dc,_0x34d7aa={...config,'headless':_0x326d90['headless']};let _0x232e40=dbConfig[_0x4d84d8(0x242)](_0x4d84d8(0xab))[_0x4d84d8(0x102)]({'botID':botID})[_0x4d84d8(0xaf)]();_0x232e40&&dbConfig[_0x4d84d8(0x242)](_0x4d84d8(0xab))[_0x4d84d8(0x102)]({'botID':botID})[_0x4d84d8(0x1b4)](_0x34d7aa)[_0x4d84d8(0x1de)](),config={..._0x34d7aa},updateBotManager(),proxyEmit(_0x4d84d8(0x165),emittedConfiguration());}async function storeFiat(_0x34a4ed){const _0x597043=_0xb5c0dc,_0x1073f4={...config,'fiat':_0x34a4ed};let _0x4f65e6=dbConfig[_0x597043(0x242)](_0x597043(0xab))[_0x597043(0x102)]({'botID':botID})[_0x597043(0xaf)]();_0x4f65e6&&dbConfig[_0x597043(0x242)]('bot')[_0x597043(0x102)]({'botID':botID})[_0x597043(0x1b4)](_0x1073f4)['write'](),config={..._0x1073f4},proxyEmit(_0x597043(0x165),emittedConfiguration());}function resetHistory(){const _0x7a6a6=_0xb5c0dc;logger[_0x7a6a6(0x189)](_0x7a6a6(0x249));try{if(fs['existsSync'](path[_0x7a6a6(0xd2)](configpath,'bot-'+botID+_0x7a6a6(0x140))))fs[_0x7a6a6(0x1cf)](path[_0x7a6a6(0xd2)](configpath,_0x7a6a6(0x212)+botID+'-events.json'));if(fs['existsSync'](path[_0x7a6a6(0xd2)](configpath,'bot-'+botID+_0x7a6a6(0x154))))fs['unlinkSync'](path[_0x7a6a6(0xd2)](configpath,'bot-'+botID+_0x7a6a6(0x154)));if(fs[_0x7a6a6(0x14e)](path[_0x7a6a6(0xd2)](configpath,_0x7a6a6(0x212)+botID+_0x7a6a6(0x9f))))fs['unlinkSync'](path['join'](configpath,_0x7a6a6(0x212)+botID+_0x7a6a6(0x9f)));}catch(_0x3ec584){if(_0x3ec584)logger[_0x7a6a6(0x189)](_0x7a6a6(0x94),_0x3ec584);}const _0x586726=getDate();let _0x1c0312=[];currentCoins['forEach'](_0x1b2355=>{const _0x589781=_0x7a6a6;_0x1c0312[_0x589781(0x178)]({'coin':_0x1b2355['coin'],'number':_0x1b2355[_0x589781(0xd3)],'price':_0x1b2355[_0x589781(0x148)]});});let _0x1c50ee=dbConfig[_0x7a6a6(0x242)]('bot')['find']({'botID':botID})[_0x7a6a6(0xaf)]();_0x1c50ee&&(dbConfig['get'](_0x7a6a6(0xab))[_0x7a6a6(0x102)]({'botID':botID})[_0x7a6a6(0x1b4)]({'liquidity':[{'date':_0x586726,'changes':_0x1c0312}]})[_0x7a6a6(0x1de)](),config[_0x7a6a6(0x18d)]=[]),restartBot(!![]);}function noslash(_0x18dcb3){const _0x3192b6=_0xb5c0dc;return _0x18dcb3[_0x3192b6(0x1cb)]('/','');}function updateHighestFee(_0x15c97e){const _0x4119b2=_0xb5c0dc;if(_0x15c97e[_0x4119b2(0x230)]){let _0x43d6d8={'filled':_0x15c97e[_0x4119b2(0x1ac)]*_0x15c97e[_0x4119b2(0x1bb)],'amount':_0x15c97e[_0x4119b2(0x1ac)]*_0x15c97e[_0x4119b2(0x1bb)],'side':_0x15c97e['side']==_0x4119b2(0x10a)?_0x4119b2(0x191):'sell','price':0x1/_0x15c97e[_0x4119b2(0x1bb)]};_0x15c97e={..._0x15c97e,..._0x43d6d8};}const _0x3fee31=defaultFee*_0x15c97e[_0x4119b2(0x1ac)]*_0x15c97e[_0x4119b2(0x1bb)];lastFees[_0x4119b2(0x13c)]['length']===0x14&&lastFees[_0x4119b2(0x13c)][_0x4119b2(0x1a9)](),lastFees[_0x4119b2(0x13c)][_0x4119b2(0x178)](_0x3fee31),lastFees[_0x4119b2(0x13e)]=Math[_0x4119b2(0x14c)](...lastFees[_0x4119b2(0x13c)]);}async function updateNumberCoinsCcxt(_0x510655){const _0x376fca=_0xb5c0dc;logger[_0x376fca(0x206)](_0x376fca(0x1ae)+_0x510655['symbol']+_0x376fca(0x18a)+_0x510655[_0x376fca(0xc0)]+_0x376fca(0x18a)+_0x510655[_0x376fca(0x1ac)]+_0x376fca(0x217)+_0x510655[_0x376fca(0x24d)]+_0x376fca(0x18a)+_0x510655['id']);let _0x1758bd=_0x510655['status'],_0x1e0db4=![];currentCoins[_0x376fca(0x12e)](_0xc77ca3=>{_0xc77ca3['symbol']==_0x510655['symbol']&&(_0x1e0db4=!![]);});if(!_0x1e0db4)return;const _0x2382fd=currentCoins['find'](_0xa5cb31=>_0xa5cb31[_0x376fca(0x172)]==_0x510655[_0x376fca(0x172)]),_0x55e62b=_0x2382fd['coin'],_0x4f6d07=_0x3032f3=>{const _0x202bd2=_0x376fca,_0x10d63d=currentCoins[_0x202bd2(0x102)](_0x1cff61=>_0x1cff61[_0x202bd2(0x172)]==_0x510655[_0x202bd2(0x172)]);if(_0x10d63d)_0x10d63d[_0x202bd2(0x173)]=_0x3032f3;};let _0x2e5361=![];for(const _0x335039 of lastOrders){const _0x5bc9e4=0x64,_0x56784f=0x1388;let _0x42df7b=0x0;while(!_0x335039[_0x376fca(0x253)]&&_0x42df7b*_0x5bc9e4<_0x56784f){_0x42df7b++,await sleep(_0x5bc9e4);}if(_0x42df7b>0x0)logger[_0x376fca(0x206)](_0x376fca(0x240)+_0x42df7b*_0x5bc9e4/0x3e8+_0x376fca(0xe3));_0x335039[_0x376fca(0x253)]==_0x510655['id']&&(_0x2e5361=!![]);}if(_0x1758bd==_0x376fca(0x271)){_0x4f6d07('open');if(_0x510655[_0x376fca(0x1ac)]>0x0&&_0x510655[_0x376fca(0x1ac)]<_0x510655[_0x376fca(0x24d)]){if(_0x2e5361){setBlockTransactionDetection(!![]),logger[_0x376fca(0x206)](_0x376fca(0xd4)+_0x510655[_0x376fca(0x1ac)]+_0x376fca(0x1e3)+_0x510655['id']);const _0x14c6e3=await getCoins(balanceUpdateDelay,undefined,undefined,_0x55e62b);[currentCoins,currentCoinsAll]=_0x14c6e3,setBlockTransactionDetection(![]);}else logger[_0x376fca(0x206)]('1\x20-\x20partially\x20FILLED\x20('+_0x510655[_0x376fca(0x1ac)]+')\x20unknown\x20order:\x20'+_0x510655['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x1758bd==_0x376fca(0x23b)){_0x4f6d07(_0x376fca(0x23b)),lastOrders=lastOrders[_0x376fca(0x139)](_0x250607=>_0x250607[_0x376fca(0x172)]!=_0x510655[_0x376fca(0x172)]);const _0x252ffc=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x252ffc,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x1758bd==_0x376fca(0x1aa)){if(lastOrders)for(const _0xb8d013 of lastOrders){if(_0xb8d013[_0x376fca(0x253)]==_0x510655['id']){logger[_0x376fca(0x206)]('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x510655['id']),_0x2e5361=!![];if(_0xb8d013[_0x376fca(0x1ac)]==0x0){setBlockTransactionDetection(!![]),logger['debug'](_0x376fca(0x20f)+_0x510655['id']);if(_0x510655[_0x376fca(0x1ed)])_0xb8d013[_0x376fca(0x1bb)]=_0x510655[_0x376fca(0x1ed)];else{if(_0x510655[_0x376fca(0x1bb)])_0xb8d013[_0x376fca(0x1bb)]=_0x510655[_0x376fca(0x1bb)];else{}}_0xb8d013[_0x376fca(0x1ac)]=_0x510655['filled'],updateHighestFee(_0xb8d013);const _0xa86c63=await getCoins(balanceUpdateDelay,undefined,undefined,_0x55e62b);[currentCoins,currentCoinsAll]=_0xa86c63,setBlockTransactionDetection(![]),await validateOrders(),_0x4f6d07('filled'),_0xb8d013[_0x376fca(0xc1)]={'currency':_0x510655['fee']?_0x510655['fee'][_0x376fca(0x1f0)]:null,'cost':_0x510655['fee']?_0x510655[_0x376fca(0xc1)][_0x376fca(0xa0)]:0x0},await updatePnL(_0xb8d013);}}}!_0x2e5361&&(logger[_0x376fca(0x206)](_0x376fca(0xe6)+_0x510655['id']),_0x4f6d07('filled'),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x5f4c59=JSON[_0x376fca(0x1a4)](lastBalances[_0x376fca(0x1f4)]);const _0x2f6991=_0x5f4c59[_0x376fca(0x102)](_0x34e742=>_0x34e742[_0x376fca(0x172)]==_0x510655[_0x376fca(0x172)]);if(_0x2f6991){if(_0x1758bd==_0x376fca(0x271))_0x2f6991[_0x376fca(0x173)]=_0x2f6991['orderstatus']==_0x376fca(0x1ac)?_0x376fca(0x1ac):_0x376fca(0x271);else{if(_0x1758bd==_0x376fca(0x23b))_0x2f6991[_0x376fca(0x173)]=_0x2f6991['orderstatus']==_0x376fca(0x1ac)?_0x376fca(0x1ac):_0x376fca(0x23b);else _0x1758bd==_0x376fca(0x1aa)&&(_0x2f6991[_0x376fca(0x173)]=_0x376fca(0x1ac));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x5f4c59)},proxyEmit(_0x376fca(0xfc),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x4e59e5=_0xb5c0dc;await getOpenOrders();let _0x2f699e=![];currentCoins[_0x4e59e5(0x12e)](_0x2025a4=>{const _0x4d1c46=_0x4e59e5;_0x2f699e=allOpenOrders[_0x4d1c46(0x102)](_0x475e0a=>_0x475e0a[_0x4d1c46(0x172)]==_0x2025a4['symbol']),_0x2025a4[_0x4d1c46(0x173)]=_0x2f699e?'open':_0x4d1c46(0x188);});}async function fetchBalance(_0x285b69=!![]){const _0x2ecb3f=_0xb5c0dc;let _0x15f55f,_0x425c64,_0x2c405f,_0x1d4a8e=0x0;while(!_0x425c64&&_0x1d4a8e<maxRetries){try{return _0x15f55f=await exchange[_0x2ecb3f(0x219)](),_0x425c64=_0x15f55f[_0x2ecb3f(0x222)],_0x425c64;}catch(_0x1e41e7){_0x2c405f=_0x1e41e7,_0x1d4a8e++,await sleep(retryInterval);}}return!_0x285b69?handleErrorNoStop(_0x2c405f,'fetchBalance()'):await handleError(_0x2c405f,_0x2ecb3f(0xa3)),![];}async function getCoins(_0x4c61c0=0x0,_0x39bc7b=!![],_0xa6fca2=config['basecoin'],_0x43edd5){const _0x3cfdb5=_0xb5c0dc;let _0x4941bc=[],_0x5bd709=[],_0x327e2d=[],_0x8064a9;if(_0x4c61c0)await sleep(_0x4c61c0);if(botPaused)return[currentCoins,currentCoinsAll];let _0x474c38=![],_0x42a7fb=0x0,_0x38d27e,_0x1d6786;_0x43edd5&&(_0x38d27e=currentCoins['find'](_0x21efbe=>_0x21efbe[_0x3cfdb5(0xd6)]==_0x43edd5),_0x38d27e&&(_0x1d6786=_0x38d27e[_0x3cfdb5(0x252)],delete _0x38d27e['prevnumber']));while(!_0x474c38){_0x8064a9=await fetchBalance(_0x39bc7b);if(_0x8064a9){if(_0x43edd5){if(_0x8064a9[_0x43edd5]!=_0x1d6786)logger[_0x3cfdb5(0x206)](_0x3cfdb5(0x26a)+_0x43edd5+':\x20'+_0x8064a9[_0x43edd5]+'\x20('+_0x1d6786+')'),_0x474c38=!![];else{logger[_0x3cfdb5(0x206)]('Invalid\x20balance\x20for\x20'+_0x43edd5+':\x20'+_0x8064a9[_0x43edd5]+'\x20('+_0x1d6786+')'),_0x42a7fb++;if(_0x42a7fb<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger['debug']('Stopped\x20fetching\x20balance\x20after\x20'+_0x42a7fb+_0x3cfdb5(0x142));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x41eb8b,_0x5acdb6]of Object[_0x3cfdb5(0x17b)](_0x8064a9)){_0x327e2d[_0x3cfdb5(0x178)](_0x41eb8b);}config[_0x3cfdb5(0x1f4)][_0x3cfdb5(0x12e)](_0x50f463=>{const _0x3d8fa6=_0x3cfdb5;!_0x327e2d[_0x3d8fa6(0x13d)](_0x50f463[_0x3d8fa6(0xd6)])&&(_0x8064a9[_0x50f463[_0x3d8fa6(0xd6)]]=0x0);});if(_0xa6fca2=='')for(const [_0x24bfe2,_0x510a90]of Object[_0x3cfdb5(0x17b)](_0x8064a9)){_0x510a90!=0x0&&_0x4941bc['push']({'coin':_0x24bfe2});}else for(const [_0x5116c4,_0x2294ab]of Object[_0x3cfdb5(0x17b)](_0x8064a9)){const _0x5c458c=config[_0x3cfdb5(0x1f4)]['find'](_0x4c9e03=>_0x4c9e03[_0x3cfdb5(0xd6)]==_0x5116c4),_0x27237e=_0x5116c4+'/'+_0xa6fca2,_0x341228=_0xa6fca2+'/'+_0x5116c4,_0x459ab3=currentCoins['find'](_0x14d6d7=>_0x14d6d7[_0x3cfdb5(0xd6)]==_0x5116c4);if((_0x2294ab!=0x0||_0x5c458c)&&(allSymbols[_0x3cfdb5(0x13d)](_0x27237e)||_0x5116c4==_0xa6fca2))_0x459ab3?_0x4941bc['push']({..._0x459ab3,'number':Math[_0x3cfdb5(0x14c)](_0x2294ab+(_0x5c458c&&_0x5c458c[_0x3cfdb5(0x10f)]||0x0),0x0)}):_0x4941bc[_0x3cfdb5(0x178)]({'coin':_0x5116c4,'symbol':_0x27237e,'reverse':![],'number':Math[_0x3cfdb5(0x14c)](_0x2294ab+(_0x5c458c&&_0x5c458c[_0x3cfdb5(0x10f)]||0x0),0x0),'orderstatus':'none'});else{if((_0x2294ab!=0x0||_0x5c458c)&&allSymbols['includes'](_0x341228))_0x459ab3?_0x4941bc[_0x3cfdb5(0x178)]({..._0x459ab3,'number':Math[_0x3cfdb5(0x14c)](_0x2294ab+(_0x5c458c&&_0x5c458c[_0x3cfdb5(0x10f)]||0x0),0x0)}):_0x4941bc['push']({'coin':_0x5116c4,'symbol':_0x341228,'reverse':!![],'number':Math['max'](_0x2294ab+(_0x5c458c&&_0x5c458c[_0x3cfdb5(0x10f)]||0x0),0x0),'orderstatus':_0x3cfdb5(0x188)});else _0x5c458c&&_0x4941bc['push']({'coin':_0x5c458c['coin'],'symbol':_0x5c458c[_0x3cfdb5(0x172)],'reverse':_0x5c458c[_0x3cfdb5(0x230)],'number':0x0,'orderstatus':_0x3cfdb5(0x188)});}}return _0x4941bc[_0x3cfdb5(0x1f2)]((_0x24d52c,_0x490db4)=>_0x24d52c[_0x3cfdb5(0x1e0)]<_0x490db4[_0x3cfdb5(0x1e0)]?0x1:_0x490db4['delta']<_0x24d52c[_0x3cfdb5(0x1e0)]?-0x1:0x0),_0x5bd709=cloneDeep(_0x4941bc),_0x4941bc=_0x4941bc[_0x3cfdb5(0x139)](_0x270aec=>{const _0x4d3587=_0x3cfdb5,_0x5d63c9=config['portfolio']['find'](_0x1d8598=>_0x1d8598['coin']==_0x270aec['coin']);return _0x5d63c9&&!_0x5d63c9[_0x4d3587(0xbf)];}),[_0x4941bc,_0x5bd709];}async function getOpenOrders(){const _0x20a8d0=_0xb5c0dc;let _0x93bf49;allOpenOrders=[];try{for(const _0x893cfe of config[_0x20a8d0(0x1f4)]){!_0x893cfe[_0x20a8d0(0xbf)]&&_0x893cfe['coin']!=config['basecoin']&&(_0x93bf49=await exchange[_0x20a8d0(0x248)](_0x893cfe[_0x20a8d0(0x172)]),_0x93bf49[_0x20a8d0(0x1c5)]>0x0&&allOpenOrders[_0x20a8d0(0x178)](_0x93bf49[0x0]));}}catch(_0x2d258d){await handleError(_0x2d258d,_0x20a8d0(0xe4));}}async function handleOpenOrders(_0x58e956=0x0){const _0x1c6b25=_0xb5c0dc;allOpenOrders[_0x1c6b25(0x1c5)]==0x0&&lockOrders==ORDERS[_0x1c6b25(0x131)]&&allOrdersPlaced&&(_0x58e956==0x0?(logger['debug'](_0x1c6b25(0xa2)),_0x58e956++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x1c6b25(0x206)](_0x1c6b25(0x1da)),validateOrders(_0x1c6b25(0xa9))));}async function testAPI(){const _0x2513d5=_0xb5c0dc;try{return await exchange[_0x2513d5(0x219)](),!![];}catch(_0x57bc3a){loading[_0x2513d5(0xeb)]=!![],_0x57bc3a[_0x2513d5(0x1dd)]()['toLowerCase']()['includes'](_0x2513d5(0x1b1))||_0x57bc3a[_0x2513d5(0x1dd)]()[_0x2513d5(0xc2)]()['includes'](_0x2513d5(0x12b))?(logHistory('error',_0x2513d5(0x1ad)),loading['error']=_0x2513d5(0x1f1)):handleErrorNoStop(_0x57bc3a,_0x2513d5(0xae),!![]),logHistory(_0x2513d5(0x238),'Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started'),logHistory('error',_0x2513d5(0x121)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger['debug'](_0x2513d5(0x14a),_0x57bc3a),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0xa0c2ab){const _0x510f72=_0xb5c0dc;logger['debug'](_0x510f72(0x232));const _0x369cf8=ccxt[_0x510f72(0x171)][_0xa0c2ab[_0x510f72(0x208)][_0x510f72(0xc2)]()],_0x6f21c7=new _0x369cf8({'apiKey':_0xa0c2ab['apiKey'],'secret':_0xa0c2ab[_0x510f72(0x207)],'options':{'defaultType':'spot'}});if(_0xa0c2ab[_0x510f72(0x1e6)])_0x6f21c7['password']=_0xa0c2ab[_0x510f72(0x1e6)];if(_0x6f21c7[_0x510f72(0xa6)]['sandbox'])_0x6f21c7[_0x510f72(0x210)](_0xa0c2ab[_0x510f72(0xb5)]);if(_0xa0c2ab[_0x510f72(0x208)][_0x510f72(0xc2)]()==_0x510f72(0x1ab))_0x6f21c7[_0x510f72(0x1d0)][_0x510f72(0x1b0)]=operatorId;try{await _0x6f21c7['fetchBalance'](),botPaused=![];}catch(_0x1ebe51){logger[_0x510f72(0x206)](_0x510f72(0x17c)+_0x1ebe51[_0x510f72(0x1dd)]());throw _0x1ebe51;}}function cloneDeep(_0x594b21){const _0x524101=_0xb5c0dc;return JSON[_0x524101(0x1a4)](JSON[_0x524101(0x9a)](_0x594b21));}async function getPortfolio(_0xf4efab){const _0xc6cee5=_0xb5c0dc;let _0x755acc=[],_0x521d57=[],_0x4f9fc=[],_0x199efe;_0xf4efab[_0xc6cee5(0x1a8)]=decryptRSA(secure[_0xc6cee5(0x20a)],_0xf4efab[_0xc6cee5(0x1a8)]),_0xf4efab[_0xc6cee5(0x207)]=decryptRSA(secure[_0xc6cee5(0x20a)],_0xf4efab[_0xc6cee5(0x207)]);if(_0xf4efab[_0xc6cee5(0x1e6)])_0xf4efab['apiPassword']=decryptRSA(secure[_0xc6cee5(0x20a)],_0xf4efab['apiPassword']);if(_0xf4efab['apiKey']!==_0xc6cee5(0x1be)||_0xf4efab[_0xc6cee5(0x207)]!==_0xc6cee5(0x1be)||_0xf4efab[_0xc6cee5(0x1e6)]&&_0xf4efab['apiPassword']!==_0xc6cee5(0x1be)){if(config[_0xc6cee5(0x208)]){if(_0xf4efab[_0xc6cee5(0x1a8)]=='************')_0xf4efab[_0xc6cee5(0x1a8)]=config[_0xc6cee5(0x1a8)];if(_0xf4efab['apiSecret']=='************')_0xf4efab[_0xc6cee5(0x207)]=config[_0xc6cee5(0x207)];if(_0xf4efab['apiPassword']==_0xc6cee5(0x1be))_0xf4efab[_0xc6cee5(0x1e6)]=config['apiPassword'];}try{if(_0xf4efab['testApi'])await testNewAPI(_0xf4efab);}catch(_0x547426){if(_0x547426['toString']()[_0xc6cee5(0x13d)]('AuthenticationError')){logHistory(_0xc6cee5(0x238),'Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0xc6cee5(0x238),_0xc6cee5(0x220)+_0x547426['toString']()),proxyEmit('portfolio1',![]);return;}else{if(_0x547426[_0xc6cee5(0x1dd)]()[_0xc6cee5(0x13d)](_0xc6cee5(0x229))){logHistory(_0xc6cee5(0x238),_0xc6cee5(0x20e)),logHistory(_0xc6cee5(0x238),'Error\x20details:\x20'+_0x547426[_0xc6cee5(0x1dd)]()),proxyEmit('portfolio1',![]);return;}else{logHistory(_0xc6cee5(0x238),_0xc6cee5(0x17d)+_0x547426[_0xc6cee5(0x1dd)]()),logger[_0xc6cee5(0x206)]('Error\x20details:',_0x547426),proxyEmit(_0xc6cee5(0x185),![]);return;}}}exchange?updateExchange(_0xf4efab['apiKey'],_0xf4efab[_0xc6cee5(0x207)],_0xf4efab[_0xc6cee5(0x1e6)]):await initExchange(_0xf4efab[_0xc6cee5(0x208)],_0xf4efab[_0xc6cee5(0x1a8)],_0xf4efab[_0xc6cee5(0x207)],_0xf4efab[_0xc6cee5(0x1e6)],_0xf4efab[_0xc6cee5(0xb5)]);await loadSymbols();const _0x33bf33=await getCoins(0x0,![],_0xf4efab[_0xc6cee5(0x1ca)]);_0x4f9fc=cloneDeep(_0x33bf33[0x1]);}else{const _0x3064de=await getCoins();_0x4f9fc=cloneDeep(_0x3064de[0x1]);}if(_0xf4efab[_0xc6cee5(0x1ca)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0xc6cee5(0x15d),_0x4f9fc);else{_0x4f9fc['forEach'](_0x318c8c=>{const _0x4ee8e7=_0xc6cee5;if(_0x318c8c[_0x4ee8e7(0xd6)]!=_0xf4efab[_0x4ee8e7(0x1ca)]&&allSymbols['includes'](_0x318c8c['symbol']))_0x755acc[_0x4ee8e7(0x178)](_0x318c8c['symbol']);});if(_0x755acc['length']==0x0)logHistory(_0xc6cee5(0x238),_0xc6cee5(0xe9));else{try{_0x521d57=await getTickers(_0x755acc);}catch(_0x637d55){logHistory(_0xc6cee5(0x238),_0xc6cee5(0xe5)),logger['debug'](_0xc6cee5(0x14a),_0x637d55),proxyEmit('portfolio1',![]);return;}_0x4f9fc[_0xc6cee5(0x12e)](_0x1dd3da=>{const _0x2cb911=_0xc6cee5;_0x1dd3da[_0x2cb911(0xd6)]!=_0xf4efab[_0x2cb911(0x1ca)]?_0x521d57[_0x1dd3da['symbol']]?_0x521d57[_0x1dd3da[_0x2cb911(0x172)]][_0x2cb911(0x148)]?_0x199efe=_0x1dd3da[_0x2cb911(0x230)]?0x1/_0x521d57[_0x1dd3da['symbol']]['last']:_0x521d57[_0x1dd3da[_0x2cb911(0x172)]][_0x2cb911(0x148)]:_0x199efe=0x0:_0x199efe=0x0:_0x199efe=0x1,_0x1dd3da[_0x2cb911(0x1bb)]=formatResult(_0x199efe,0x8);}),await getMarketCap(_0x4f9fc),proxyEmit('portfolio1',!![]),proxyEmit(_0xc6cee5(0x15d),_0x4f9fc);}}}function truncateTradeAmount(_0x4e3c3e,_0x4d790b){const _0x7d6969=_0xb5c0dc;let _0x3e32e5=0x0;try{_0x3e32e5=exchange[_0x7d6969(0xd9)](_0x4e3c3e,_0x4d790b);}catch(_0x40d8e8){}return _0x3e32e5;}function checkMinimums(_0x56cf82){const _0x2d4c5f=_0xb5c0dc;let _0x216051=!![];const _0x43a282=!_0x56cf82[_0x2d4c5f(0x230)]?markets[_0x56cf82[_0x2d4c5f(0x172)]][_0x2d4c5f(0x123)][_0x2d4c5f(0x24d)][_0x2d4c5f(0x1a2)]:markets[_0x56cf82[_0x2d4c5f(0x172)]][_0x2d4c5f(0x123)]['cost']['min'],_0x4639cb=!_0x56cf82[_0x2d4c5f(0x230)]?markets[_0x56cf82['symbol']][_0x2d4c5f(0x123)]['cost'][_0x2d4c5f(0x1a2)]:markets[_0x56cf82['symbol']][_0x2d4c5f(0x123)][_0x2d4c5f(0x24d)][_0x2d4c5f(0x1a2)],_0x152c53=truncateTradeAmount(_0x56cf82[_0x2d4c5f(0x172)],_0x56cf82['trade']);_0x56cf82[_0x2d4c5f(0x1b7)]=_0x152c53;if(Math['abs'](_0x152c53)<_0x43a282)_0x216051=![];if(Math['abs'](_0x152c53)*_0x56cf82['last']<_0x4639cb)_0x216051=![];let _0x3686d5='';if(_0x56cf82['side']==_0x2d4c5f(0x10a)){let _0x373d53=config['portfolio'][_0x2d4c5f(0x102)](_0x138188=>_0x138188[_0x2d4c5f(0xd6)]==_0x56cf82['coin']);_0x373d53[_0x2d4c5f(0x10f)]>0x0?Math[_0x2d4c5f(0x1ef)](_0x152c53)>_0x56cf82['number']-_0x373d53[_0x2d4c5f(0x10f)]&&(_0x216051=![],_0x3686d5=_0x2d4c5f(0x159)+_0x373d53[_0x2d4c5f(0xd6)]+'\x20due\x20to\x20offset'):Math[_0x2d4c5f(0x1ef)](_0x152c53)>_0x56cf82[_0x2d4c5f(0xd3)]&&(_0x216051=![]);}if(_0x56cf82[_0x2d4c5f(0xce)]==_0x2d4c5f(0x191)){let _0x2b2d85=config[_0x2d4c5f(0x1f4)][_0x2d4c5f(0x102)](_0x305537=>_0x305537[_0x2d4c5f(0xd6)]==config['basecoin']),_0x5356d1=currentCoins[_0x2d4c5f(0x102)](_0x197a22=>_0x197a22[_0x2d4c5f(0xd6)]==config[_0x2d4c5f(0x1ca)]);_0x2b2d85['offset']>0x0?Math[_0x2d4c5f(0x1ef)](_0x152c53)*_0x56cf82['last']>_0x5356d1[_0x2d4c5f(0xd3)]-_0x2b2d85[_0x2d4c5f(0x10f)]&&(_0x216051=![],_0x3686d5=_0x2d4c5f(0x159)+config[_0x2d4c5f(0x1ca)]+'\x20due\x20to\x20offset'):Math['abs'](_0x152c53)*_0x56cf82[_0x2d4c5f(0x148)]>_0x5356d1[_0x2d4c5f(0xd3)]&&(_0x216051=![]);}return!_0x216051&&_0x3686d5&&!insufficientFundsWarningSent[_0x2d4c5f(0x13d)](_0x56cf82['coin'])&&(logHistory(_0x2d4c5f(0x1a3),_0x3686d5),insufficientFundsWarningSent[_0x2d4c5f(0x178)](_0x56cf82['coin'])),_0x216051;}async function getBalances(_0x1b7978=!![]){const _0x362654=_0xb5c0dc;if(botPaused)return;let _0xa314b4=0x0,_0x3098d7;const _0xe04e2f=config[_0x362654(0xfa)];if(config['headless']&&config[_0x362654(0x22b)]<0x0)await validate24hChanges();currentCoins[_0x362654(0x12e)](_0x569a41=>{const _0x2c1afa=_0x362654;if(_0x569a41['coin']!=config[_0x2c1afa(0x1ca)]){let _0x4547a8=gTicker[noslash(_0x569a41[_0x2c1afa(0x172)])];_0x3098d7=_0x569a41[_0x2c1afa(0x230)]?0x1/_0x4547a8:_0x4547a8;}else _0x3098d7=0x1;let _0xb6f792=_0x569a41[_0x2c1afa(0xd3)]*_0x3098d7;_0xa314b4+=_0xb6f792,_0x569a41[_0x2c1afa(0x148)]=formatResult(Number(_0x3098d7),0x8),_0x569a41['value']=_0xb6f792;}),currentCoins[_0x362654(0x12e)](_0x104c3d=>{const _0x1c7d25=_0x362654;let _0x3bfff6=config[_0x1c7d25(0x1f4)][_0x1c7d25(0x102)](_0x10569d=>_0x10569d['coin']==_0x104c3d[_0x1c7d25(0xd6)]),_0x3884d0=Number(_0x3bfff6[_0x1c7d25(0x200)]),_0x58ed5a=_0x104c3d[_0x1c7d25(0xaf)]/_0xa314b4*0x64,_0x21424d=_0x3884d0*_0xa314b4/0x64/_0x104c3d[_0x1c7d25(0x148)]-_0x104c3d[_0x1c7d25(0xd3)];_0x104c3d[_0x1c7d25(0x200)]=formatResult(_0x58ed5a,0x3),_0x104c3d['target']=formatResult(_0x3884d0,0x3),_0x104c3d['trade']=formatResult(_0x21424d,0x8),_0x104c3d['side']='',_0x104c3d[_0x1c7d25(0x1c8)]=![];if(_0x104c3d[_0x1c7d25(0xd6)]!=config['basecoin']){if(_0x104c3d[_0x1c7d25(0x200)]>_0x3884d0)_0x104c3d[_0x1c7d25(0xce)]=_0x1c7d25(0x10a),_0x104c3d['valid']=checkMinimums(_0x104c3d);else _0x104c3d['distribution']<_0x3884d0&&(_0x104c3d[_0x1c7d25(0xce)]=_0x1c7d25(0x191),_0x104c3d[_0x1c7d25(0x1c8)]=checkMinimums(_0x104c3d));}_0x104c3d[_0x1c7d25(0x1e0)]=_0x104c3d[_0x1c7d25(0x1a5)]==0x0?0x270f:_0x104c3d['distribution']/_0x104c3d[_0x1c7d25(0x1a5)]-0x1;if(_0x104c3d[_0x1c7d25(0x173)]=='filled'||_0x104c3d[_0x1c7d25(0x173)]==_0x1c7d25(0x23b))_0x104c3d['orderstatus']=_0x1c7d25(0x188);}),currentCoins['sort']((_0x45982c,_0x57de0f)=>_0x45982c[_0x362654(0x1e0)]<_0x57de0f[_0x362654(0x1e0)]?0x1:_0x57de0f[_0x362654(0x1e0)]<_0x45982c[_0x362654(0x1e0)]?-0x1:0x0);const _0x41b4a1=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x41b4a1[_0x362654(0x160)],'usd':_0x41b4a1[_0x362654(0x13f)],'portfolio':JSON[_0x362654(0x9a)](currentCoins),'threshold':_0xe04e2f},proxyEmit(_0x362654(0xfc),{'serverversion':serverversion,'balances':lastBalances});if(_0x1b7978){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0xe04e2f});else lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0xe04e2f});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x53acd2=getNormalizedPerformance();getStartingBalances(_0x53acd2),emitPerformance(_0x53acd2);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x14ad83=_0xb5c0dc;let _0x5a699f=dbCoinResults[_0x14ad83(0x242)](_0x14ad83(0x21a))[_0x14ad83(0xaf)](),_0x4ceb0f=0x0;return Object[_0x14ad83(0x17b)](_0x5a699f)['forEach'](([_0x6d8053,_0xf4b8f9])=>{_0x4ceb0f+=_0xf4b8f9['realizedPnL'];}),_0x4ceb0f;}async function storePerformance(){const _0x285677=_0xb5c0dc;if(!lastBalances)return;let _0x5740a9=[],_0x1ec108;const _0x2f69a5=getPnL();let _0x2ba5e1=JSON['parse'](lastBalances[_0x285677(0x1f4)]);_0x2ba5e1['sort']((_0x2b8f1b,_0x35809b)=>_0x2b8f1b[_0x285677(0xd6)]>_0x35809b[_0x285677(0xd6)]?0x1:_0x35809b['coin']>_0x2b8f1b[_0x285677(0xd6)]?-0x1:0x0),_0x2ba5e1[_0x285677(0x12e)](_0x2d9899=>{const _0x3c7abd=_0x285677;let _0x1467a6={'coin':_0x2d9899[_0x3c7abd(0xd6)],'number':_0x2d9899['number'],'price':_0x2d9899[_0x3c7abd(0x148)]};_0x5740a9[_0x3c7abd(0x178)](_0x1467a6);});const _0x163ce7=await getFiat(),_0x2b564f=getTimeStamp()['split']('\x20')[0x0],_0xb6b4a1=dbPerformance[_0x285677(0x242)]('data')[_0x285677(0x102)]({'date':_0x2b564f})[_0x285677(0xaf)]();_0x1ec108={'date':_0x2b564f,'eur':_0x163ce7[_0x285677(0x160)],'usd':_0x163ce7[_0x285677(0x13f)],'coins':_0x5740a9,'pnl':_0x2f69a5},_0xb6b4a1?_0x1ec108[_0x285677(0x22f)]!=config[_0x285677(0x1e5)]&&dbPerformance['get'](_0x285677(0x25d))[_0x285677(0x102)]({'date':_0x2b564f})[_0x285677(0x1b4)](_0x1ec108)[_0x285677(0x1de)]():dbPerformance[_0x285677(0x242)]('data')[_0x285677(0x178)](_0x1ec108)[_0x285677(0x1de)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5e88cf=_0xb5c0dc;let _0x522688=[];if(dbPerformance[_0x5e88cf(0xa6)](_0x5e88cf(0x25d))[_0x5e88cf(0xaf)]()){let _0x20a6a6=dbPerformance['get'](_0x5e88cf(0x25d))[_0x5e88cf(0x137)]()[_0x5e88cf(0x139)](_0x2a226a=>{const _0x2b4164=_0x5e88cf;if(_0x2a226a[_0x2b4164(0x21a)][_0x2b4164(0x1c5)]==0x0)return![];else return!![];})[_0x5e88cf(0xba)](_0x5e88cf(0x22f))[_0x5e88cf(0xaf)](),_0x22052f=[...config['liquidity']];_0x22052f[_0x5e88cf(0x1f2)]((_0x37fab8,_0x29706d)=>_0x37fab8['date']>_0x29706d['date']?-0x1:_0x29706d[_0x5e88cf(0x22f)]>_0x37fab8['date']?0x1:0x0);let _0x134bb0=0x1,_0x4ab0ae=[],_0x2550f0=0x0;_0x20a6a6['slice']()['reverse']()[_0x5e88cf(0x12e)]((_0x26d9ca,_0x1a33fe)=>{const _0x140baf=_0x5e88cf;if(_0x22052f[_0x2550f0]){if(_0x20a6a6[_0x20a6a6[_0x140baf(0x1c5)]-_0x1a33fe]&&_0x22052f[_0x2550f0][_0x140baf(0x22f)]==_0x20a6a6[_0x20a6a6[_0x140baf(0x1c5)]-_0x1a33fe]['date']){if(_0x1a33fe<_0x20a6a6['length']){let _0x1ffedc=0x0,_0x47beb2=0x0;_0x20a6a6[_0x20a6a6[_0x140baf(0x1c5)]-_0x1a33fe]['coins']['forEach'](_0x1cba99=>{const _0x3ba47c=_0x140baf;_0x47beb2+=_0x1cba99[_0x3ba47c(0xd3)]*_0x1cba99[_0x3ba47c(0x1bb)];}),_0x22052f[_0x2550f0][_0x140baf(0x174)][_0x140baf(0x12e)](_0x491132=>{const _0x75c953=_0x140baf;_0x1ffedc+=_0x491132[_0x75c953(0xd3)]*_0x491132['price'];}),_0x134bb0*=_0x1ffedc/(_0x47beb2-_0x1ffedc)+0x1;}_0x2550f0++;}}let _0xcef04f=0x0;_0x26d9ca['coins'][_0x140baf(0x12e)](_0x198ee7=>{const _0x139a99=_0x140baf;_0xcef04f+=_0x198ee7[_0x139a99(0xd3)]*_0x198ee7[_0x139a99(0x1bb)];}),_0x4ab0ae[_0x20a6a6[_0x140baf(0x1c5)]-_0x1a33fe-0x1]=_0xcef04f*(_0x134bb0-0x1);});let _0x1c0344=[];_0x22052f=[...config['liquidity']]||[];let _0x4ebf06=0x0;_0x2550f0=0x0,_0x20a6a6['forEach']((_0x257acf,_0x15222f)=>{const _0x4a57a7=_0x5e88cf;if(_0x22052f[_0x2550f0]){const _0x5c1056=fns[_0x4a57a7(0x1a4)](_0x22052f[_0x2550f0][_0x4a57a7(0x22f)],_0x4a57a7(0x180),new Date()),_0x3d0a33=fns[_0x4a57a7(0x1a4)](_0x257acf[_0x4a57a7(0x22f)],_0x4a57a7(0x180),new Date());if(fns[_0x4a57a7(0x10e)](_0x5c1056,_0x3d0a33)){let _0x123634=0x0;_0x22052f[_0x2550f0][_0x4a57a7(0x174)]['forEach'](_0x471420=>{const _0x40c5ed=_0x4a57a7;!_0x1c0344[_0x471420[_0x40c5ed(0xd6)]]?_0x1c0344[_0x471420[_0x40c5ed(0xd6)]]=_0x471420[_0x40c5ed(0xd3)]:(_0x123634=_0x1c0344[_0x471420[_0x40c5ed(0xd6)]],_0x1c0344[_0x471420[_0x40c5ed(0xd6)]]+=_0x471420[_0x40c5ed(0xd3)]);const _0x87354=_0x257acf[_0x40c5ed(0x21a)]['find'](_0x282ed2=>_0x282ed2[_0x40c5ed(0xd6)]==_0x471420[_0x40c5ed(0xd6)]);(!_0x87354||_0x87354[_0x40c5ed(0xd3)]==0x0)&&(_0x4ebf06+=(-_0x471420[_0x40c5ed(0xd3)]-_0x123634)*_0x471420[_0x40c5ed(0x1bb)]);}),_0x2550f0++;}}_0x257acf['coins'][_0x4a57a7(0x12e)]((_0x2d4490,_0x1fa3c9)=>{const _0x417033=_0x4a57a7;_0x1c0344[_0x2d4490['coin']]&&(_0x2d4490['initial']=_0x1c0344[_0x2d4490[_0x417033(0xd6)]]);}),_0x522688[_0x4a57a7(0x178)]({'date':_0x257acf[_0x4a57a7(0x22f)],'eur':_0x257acf[_0x4a57a7(0x160)],'usd':_0x257acf['usd'],'offset':_0x4ab0ae[_0x15222f],'netoffset':_0x4ebf06,'coins':_0x257acf[_0x4a57a7(0x21a)],'pnl':_0x257acf[_0x4a57a7(0x25f)]});});}return _0x522688;}function emitPerformance(_0x438d3a){const _0x118f1b=_0xb5c0dc;_0x438d3a[_0x118f1b(0x1c5)]!==0x0?(proxyEmit('performance',_0x438d3a),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function _0x3bd1(){const _0x3c3f85=['lowdb/adapters/FileSync','isEqual','offset','storeConfiguration','watchTrades','privateKeyFromPem','(((.+)+)+)+$','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','Resetting\x20coin\x20results:\x20','1060JTGigD','bb-secure.json','keys','timeout','restart','RETRY\x20-\x20Problem\x20resolved\x20after\x20','progress','2.7.1','cancelOrder','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Pausing\x20for\x20','initTickers()','limits','memoryUsage','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','MIN_NOTIONAL','logs','83451dcsSCP','TUSD','OrderNotFound','request-time','limit-high','Limit\x20(low-margin)','forEach','placeOrder','Exchange','LOCKED','PnL\x20','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Saving\x20configuration','breakeven','getFullYear','cloneDeep','RequestTimeout','filter','change','limit','recent20','includes','highest','usd','-events.json','padEnd','\x20attempts','\x20MB','success','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','1906596hxpBeN','last','secret','Error\x20details:','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','max','USDT','existsSync','Loading\x20completed','percentage','Market','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',':\x20Bot\x20','-performance.json','111429bnJdao','fetchTickers','fetchTickers()','starting-balances','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','RETRY\x20-\x20Error\x20in\x20','\x20portfolio:</b>\x20\x0a\x0a','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','portfolio2','sells','random','eur','Market\x20order','Cex','fetchTicker','Binance','configuration','getHours','botID','2.6.23','Huobi','BTC','node-forge','argv','self_reported_market_cap','marketcapsqrt','Net\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','pro','symbol','orderstatus','changes','yargs/yargs','secure','create','push','marketcap','marketcapApi','entries','Error\x20in\x20testNewAPI():\x20','Error\x20occurred:\x20','configstate','2.6.0','yyyy/MM/dd','\x20|\x20exchange:\x20','showConfig','getTime','buys','portfolio1','***','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','none','full','\x20|\x20','InvalidNonce','\x20-\x20','liquidity','args','UNLOCKED',':\x20timer\x20>','buy','indexOf','map','limit-low','\x20hour','code','Order\x20is\x20invalid:\x20','recovery','pop','\x20has\x20a\x2024h\x20drop\x20of\x20','Portfolio\x20change\x20detected:\x20','fromCodePoint','onepagemode','lowdb','getSeconds','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','-config.json','min','warning','parse','target','watchOrders','Creating\x20order:\x20','apiKey','shift','closed','bitvavo','filled','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','0\x20-\x20EXECUTION:\x20','starting-balance-','operatorId','timestamp','loading-canceled','emojibuy','assign','market','cooldown','trade','/USD','padStart','api-issue','price','\x20|\x20lock\x20orders:\x20','remainingSymbols','************','%)\x0a','<b>','2\x20-\x20Validate\x20orders:\x20','API-key\x20format\x20invalid','InvalidOrder','\x0aSymbol(s):\x20','length','exchange\x20reload','sqrt','valid','initclient','basecoin','replace','bots','emojisell','spot','unlinkSync','options','split','Order\x20filled','Generated\x20PnL\x20data','6962436ZAUnES','<pre>','headless','EUR','netoffset','event','2\x20-\x20Handled\x20open\x20orders','Unfilled\x20order(s)\x20canceled\x20after\x20','Set\x20lock\x20orders\x20to:\x20','toString','write','/output-000.log','delta','balancing\x20resumed','Insufficient\x20funds\x20to\x20execute\x20order:\x20',')\x20known\x20order:\x20','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','startdate','apiPassword','2.3.5','send','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','deleteHistoryAlerts','Value\x20','average','./config/','abs','currency','timestamp-issue','sort','slider','portfolio','ETH','ask','\x20exchange','event-history','watchTradesForSymbols','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','\x20>\x20','loadMarkets','token\x20is\x20expired','Error:\x20Invalid\x20argument\x20','\x20network\x20error:\x20','distribution','complete','heapUsed','emitHistory','\x20-\x20go\x20back\x20and\x20try\x20again','2688rSlYxJ','debug','apiSecret','exchange','Bitget','privateKey','coin-loading-progress','removed','\x20orders\x20in\x20less\x20than\x20','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','2\x20-\x20handling\x20FILLED\x20order:\x20','setSandboxMode','net-fiat','bot-','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','-------------------------------\x0a','password','set','\x20/\x20','slice','fetchBalance','coins','Bybit','sha256','toFixed','\x20minutes\x20-\x20','splice','Error\x20details:\x20','Reset\x20|\x20','total','fiat','pnl-fiat','ExchangeError','botname','Gateio','Initializing\x20exchange:\x20already\x20done','PermissionDenied','date-fns','change24h','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Manual\x20balancing\x20required','\x20(see:\x20hodlerhacks.com/fix/1)','date','reverse','sendPortfolioTelegram','Test\x20new\x20API','market_cap','remove','page','basecoinvalue','substring','error','startnumber','decrypt','canceled','watchOrders()','ccxt','cancelLoading','add','Waited\x20','\x20API\x20secret\x20is\x20invalid','get','Order\x20filled:\x20','customId','15592AmSkii','</pre>','running','fetchOpenOrders','Resetting\x20bot\x20history','round','Headless:\x20','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','amount','sendMetricsTelegram','time','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','constructor','prevnumber','orderId','\x20-\x20bot\x20not\x20started','status\x20code\x20401','\x20>\x20[DEBUG]\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','differenceInSeconds','uncaughtException','enableFiatToggle','enabled','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','data','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','pnl','version','Bot\x20','floor','isBefore','1187303UNhdPJ','Avoiding\x20continuous\x20order\x20attempts','initial','toUpperCase','Resuming\x20(','USD','Valid\x20balance\x20for\x20','\x20uses\x20','\x20@undefined','format','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Invalid\x20quantity','defaults','open','./version.json','./logs/','Error\x20while\x20deleting\x20files:\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','autoliquidity','NetworkError','red_yellow_blue','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','stringify','/USDT','search','Initiating\x20bot\x20restart','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','-results.json','cost','bid','1\x20-\x20Handle\x20open\x20orders','fetchBalance()','AuthenticationError','util','has','<b>Bot\x20','getDate','no\x20open\x20orders','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','bot','balancing\x20resumes\x20when\x20cooldown\x20ends','recreate','testAPI()','value','InsufficientFunds','watchTradesForSymbols()','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','colorscheme','update-liquidity','sandbox','detectLiquidityChange()','\x20minutes','production','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','sortBy','\x20metrics:</b>\x20\x0a\x0a','timeshift','openOrders','decode64','excluded','status','fee','toLowerCase','freeze','Exception\x20thrown\x20in\x20','74zGdLaV','ordertype','addDays','createOrder','1\x20-\x20Validate\x20orders:\x20','No\x20more\x20open\x20orders\x20-\x20','realizedPnL','exchanges','getMonth','side','getStartingBalances','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','mkdirSync','join','number','1\x20-\x20partially\x20FILLED\x20(','/EUR','coin','function','bb-settings.json','amountToPrecision','\x20order:\x20','test','ongoing','apply','kill','type','USDC','showname','pid','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','getOpenOrders()','Unknown\x20error\x20-\x20check\x20logs','1\x20-\x20FILLED\x20unknown\x20order:\x20','stack','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','process\x20','cancel','storeHeadless','Placing\x20order\x20for:\x20','toggleBotMode','Limit\x20(high-margin)','final','storeFiat','cancelOrders()','PAXG','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','quick','marketcapEnabled','log','pki','startprice','threshold',')\x20|\x20exchange:\x20','balances','quote','Invalid\x20symbol:\x20','Order\x20amount\x20is\x20invalid:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20API\x20key\x20is\x20invalid','find','added','must\x20be\x20greater\x20than\x20minimum\x20amount','3088470HSvddT','order','Error\x20in\x20loadSymbols():\x20','BUSD','ExchangeNotAvailable','sell','net-basecoin','%\x20('];_0x3bd1=function(){return _0x3c3f85;};return _0x3bd1();}function getPerf(_0x8ffc56,_0x226f99){const _0x4f364b=_0xb5c0dc;let _0x2b2495=0x0,_0xb8a28e=0x0,_0x4db47f=0x0;_0x8ffc56['coins'][_0x4f364b(0x12e)](_0x266236=>{const _0xca28c=_0x4f364b;_0x2b2495+=_0x266236[_0xca28c(0xd3)]*_0x266236['price'];});_0x226f99&&(_0x2b2495+=_0x8ffc56[_0x4f364b(0x10f)]);if(config[_0x4f364b(0x1ca)]===_0x4f364b(0x16a)||config['basecoin']==='ETH'||config[_0x4f364b(0x1ca)]===_0x4f364b(0xf3))_0xb8a28e=_0x2b2495*_0x8ffc56['eur'],_0x4db47f=_0x2b2495*_0x8ffc56[_0x4f364b(0x13f)];else{if(usdBasecoins[_0x4f364b(0x13d)](config[_0x4f364b(0x1ca)]))_0xb8a28e=_0x2b2495*_0x8ffc56['eur']/_0x8ffc56[_0x4f364b(0x13f)],_0x4db47f=_0x2b2495;else config['basecoin']===_0x4f364b(0x1d7)&&(_0xb8a28e=_0x2b2495,_0x4db47f=_0x2b2495*_0x8ffc56['usd']/_0x8ffc56[_0x4f364b(0x160)]);}return[_0x2b2495,_0xb8a28e,_0x4db47f];}function CurrencyFactor(_0x352a91,_0x49ecdb,_0x12c771){const _0x3e96c8=_0xb5c0dc;let _0x57c3e9;if(_0x49ecdb===_0x3e96c8(0x16a)||_0x49ecdb===_0x3e96c8(0x1f5)||_0x49ecdb===_0x3e96c8(0xf3))_0x57c3e9=_0x12c771===_0x3e96c8(0x1d7)?_0x352a91[_0x3e96c8(0x160)]:_0x352a91['usd'];else{if(usdBasecoins[_0x3e96c8(0x13d)](_0x49ecdb))_0x57c3e9=_0x12c771==='EUR'?_0x352a91[_0x3e96c8(0x160)]/_0x352a91['usd']:0x1;else _0x49ecdb===_0x3e96c8(0x1d7)&&(_0x57c3e9=_0x12c771==='EUR'?0x1:_0x352a91[_0x3e96c8(0x13f)]/_0x352a91['eur']);}return _0x57c3e9;}function getKPIs(_0x4047b4,_0x4ab55e=_0xb5c0dc(0x1d7)){const _0x2b4108=_0xb5c0dc,_0x322101=config['basecoin'],_0x5a2ba2=lastBalances,_0x563fa8=currentCoins,_0x436e84=getNormalizedPerformance(),_0x3b56c9=CurrencyFactor(_0x5a2ba2,config[_0x2b4108(0x1ca)],_0x4ab55e);let _0x789004=0x0;_0x563fa8[_0x2b4108(0x12e)](_0x29c132=>{const _0x58c7d5=_0x2b4108;_0x789004+=_0x29c132['number']*_0x29c132[_0x58c7d5(0x148)];});_0x4047b4[_0x2b4108(0x13d)](_0x2b4108(0x223))&&(_0x789004*=_0x3b56c9);let _0x938ae8;if(_0x789004!==0x0){if(_0x4047b4==='basecoin'||_0x4047b4==='fiat'){if(_0x4047b4===_0x2b4108(0x1ca))_0x938ae8=(_0x789004/startingBalances[_0x2b4108(0x1ca)]-0x1)*0x64;else{if(_0x4ab55e===_0x2b4108(0x1d7))_0x938ae8=(_0x789004/startingBalances[_0x2b4108(0x160)]-0x1)*0x64;else _0x938ae8=(_0x789004/startingBalances[_0x2b4108(0x13f)]-0x1)*0x64;}}if(_0x4047b4['includes']('net')){let _0x257aca=0x0;if(startingBalances[_0x2b4108(0x21a)])_0x563fa8[_0x2b4108(0x12e)](_0x19dbff=>{const _0x2028ed=_0x2b4108;let _0x3c1f69=startingBalances['coins'][_0x2028ed(0x102)](_0x5ddfdd=>_0x5ddfdd['coin']===_0x19dbff[_0x2028ed(0xd6)]);if(_0x3c1f69&&_0x3c1f69['coin']&&_0x19dbff[_0x2028ed(0xd3)]!==0x0)_0x257aca+=_0x3c1f69[_0x2028ed(0xd3)]*_0x19dbff[_0x2028ed(0x148)];});let _0x44efa4=0x0;if(_0x436e84['length']!==0x0){let _0x580e69=_0x436e84[_0x436e84['length']-0x1];_0x44efa4=_0x580e69[_0x2b4108(0x1d8)];}_0x257aca-=_0x44efa4;let _0x1c23eb;_0x4047b4===_0x2b4108(0x10b)&&(_0x1c23eb=startingBalances['basecoin']),_0x4047b4==='net-fiat'&&(_0x1c23eb=_0x4ab55e===_0x2b4108(0x1d7)?startingBalances[_0x2b4108(0x160)]:startingBalances['usd'],_0x257aca*=_0x3b56c9),_0x938ae8=(_0x789004-_0x257aca)/_0x1c23eb*0x64,_0x789004=_0x789004-_0x257aca;}if(_0x4047b4[_0x2b4108(0x13d)](_0x2b4108(0x25f))){if(_0x436e84[_0x2b4108(0x1c5)]!==0x0&&_0x563fa8['length']!==0x0){let _0x132b57,_0x267dcc=_0x436e84[_0x436e84['length']-0x1][_0x2b4108(0x25f)];_0x4047b4['includes']('fiat')?(_0x132b57=_0x4ab55e===_0x2b4108(0x1d7)?startingBalances[_0x2b4108(0x160)]:startingBalances['usd'],_0x267dcc*=CurrencyFactor(_0x5a2ba2,_0x322101,_0x4ab55e)):_0x132b57=startingBalances['basecoin'],_0x938ae8=_0x267dcc/_0x132b57*0x64,_0x789004=_0x267dcc;}}if(_0x938ae8){if(_0x938ae8<0x64)_0x938ae8=_0x938ae8[_0x2b4108(0x21d)](0x2);else{if(_0x938ae8<0x3e8)_0x938ae8=_0x938ae8[_0x2b4108(0x21d)](0x1);else _0x938ae8=_0x938ae8[_0x2b4108(0x21d)](0x0);}}else _0x938ae8=Number('0')['toFixed'](0x2);if(_0x789004){if(Math[_0x2b4108(0x1ef)](_0x789004)<0.000001)_0x789004=_0x789004[_0x2b4108(0x21d)](0x2);else{if(Math[_0x2b4108(0x1ef)](_0x789004)<0.1)_0x789004=_0x789004['toFixed'](0x6);else{if(Math['abs'](_0x789004)<0x1)_0x789004=_0x789004['toFixed'](0x5);else{if(Math['abs'](_0x789004)<0xa)_0x789004=_0x789004[_0x2b4108(0x21d)](0x4);else{if(Math[_0x2b4108(0x1ef)](_0x789004)<0x64)_0x789004=_0x789004[_0x2b4108(0x21d)](0x3);else{if(Math[_0x2b4108(0x1ef)](_0x789004)<0x3e8)_0x789004=_0x789004['toFixed'](0x2);else _0x789004=_0x789004[_0x2b4108(0x21d)](0x2);}}}}}}else _0x789004=Number('0')[_0x2b4108(0x21d)](0x2);}else _0x938ae8=Number('0')['toFixed'](0x2);if(_0x938ae8>=0x0)_0x938ae8='+'+_0x938ae8;return{'value':_0x789004,'change':_0x938ae8};}async function getStartingBalances(_0xc65e5f,_0x202813=!![]){const _0x17752a=_0xb5c0dc;if(_0xc65e5f['length']!==0x0){const [_0x319a47,_0x4dc559,_0x2a2e92]=getPerf(_0xc65e5f[0x0],!![]);let _0x3c997d=[];config[_0x17752a(0x1f4)][_0x17752a(0x12e)](_0x4687c3=>{const _0x517197=_0x17752a;let _0x36f7c3=0x0,_0x52d58f;config['liquidity'][_0x517197(0x12e)](_0x152ca8=>{const _0x193195=_0x517197;let _0x151b33=_0x152ca8[_0x193195(0x174)][_0x193195(0x102)](_0x3fbdfb=>_0x3fbdfb[_0x193195(0xd6)]==_0x4687c3[_0x193195(0xd6)]);if(_0x151b33){_0x36f7c3+=_0x151b33[_0x193195(0xd3)];if(!_0x52d58f)_0x52d58f=_0x151b33[_0x193195(0x1bb)];}}),_0x3c997d[_0x517197(0x178)]({'coin':_0x4687c3[_0x517197(0xd6)],'number':_0x36f7c3,'initialprice':_0x52d58f});});const _0x563c54={'basecoin':_0x319a47,'eur':_0x4dc559,'usd':_0x2a2e92,'coins':_0x3c997d};if(_0x202813)proxyEmit(_0x17752a(0x158),_0x563c54);startingBalances=_0x563c54;}}function headlessMode(_0x54166c){const _0x1ad43e=_0xb5c0dc;let _0x56278f=_0x54166c[_0x1ad43e(0x1f4)],_0x3b2f61=_0x54166c[_0x1ad43e(0xfa)],_0xb0fa2f=[];for(let _0x4133c4 of _0x56278f){if(_0x4133c4['coin']!=config['basecoin']){if(_0x4133c4[_0x1ad43e(0x1e0)]>=_0x3b2f61/0x64){if(_0x4133c4[_0x1ad43e(0x1c8)])_0xb0fa2f[_0x1ad43e(0x178)](_0x4133c4);}else{if(_0x4133c4[_0x1ad43e(0x1e0)]<=-_0x3b2f61/0x64){if(_0x4133c4[_0x1ad43e(0x1c8)])_0xb0fa2f[_0x1ad43e(0x178)](_0x4133c4);}}}}_0xb0fa2f[_0x1ad43e(0x1c5)]>0x0&&placeOrder(_0xb0fa2f);}function notifyBalance(_0x1ebfc7){const _0xc7e428=_0xb5c0dc;let _0x2ad05c=_0x1ebfc7['portfolio'],_0x12dcd2=_0x1ebfc7[_0xc7e428(0xfa)],_0x3e811a=[];for(let _0x65ee87 of _0x2ad05c){if(_0x65ee87['coin']!=config['basecoin']){if(_0x65ee87[_0xc7e428(0x1e0)]>=_0x12dcd2/0x64){if(_0x65ee87[_0xc7e428(0x1c8)])_0x3e811a[_0xc7e428(0x178)](_0x65ee87);}else{if(_0x65ee87['delta']<=-_0x12dcd2/0x64){if(_0x65ee87[_0xc7e428(0x1c8)])_0x3e811a[_0xc7e428(0x178)](_0x65ee87);}}}}if(_0x3e811a[_0xc7e428(0x1c5)]>0x0){let _0x11d306=_0x3e811a['map'](_0x4a4b8d=>_0x4a4b8d[_0xc7e428(0xd6)]);_0x11d306[_0xc7e428(0x1f2)]();let _0x16a018=_0x11d306['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0xc7e428(0x1a3),_0xc7e428(0x22d));lastCoinsToBalance=_0x16a018;}}function symbolToCoin(_0x24548f){const _0xbc7ff8=_0xb5c0dc;let _0x41ebfa;if(_0x24548f['includes']('/'+config['basecoin']))_0x41ebfa=_0x24548f[_0xbc7ff8(0x1cb)]('/'+config[_0xbc7ff8(0x1ca)],'');if(_0x24548f['includes'](config[_0xbc7ff8(0x1ca)]+'/'))_0x41ebfa=_0x24548f[_0xbc7ff8(0x1cb)](config[_0xbc7ff8(0x1ca)]+'/','');return _0x41ebfa;}function setLockOrders(_0x1d37fd){const _0x408f63=_0xb5c0dc;lockOrders=_0x1d37fd,logger['debug'](_0x408f63(0x1dc)+Object[_0x408f63(0x118)](ORDERS)[lockOrders]);}async function unlockOrders(_0x1b8cda=![]){const _0x3370e3=_0xb5c0dc;if(allOrdersPlaced&&lockOrders==ORDERS[_0x3370e3(0x131)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x1b8cda){const _0x5e6a8e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5e6a8e,setBlockTransactionDetection(![]);}validateOrdersState=_0x3370e3(0x266),persistOpenOrders([]),setLockOrders(ORDERS['UNLOCKED']);}}async function validateOrders(_0x277285){const _0x28d7b3=_0xb5c0dc;if(_0x277285)validateOrdersState=_0x277285;logger['debug'](_0x28d7b3(0xc9)+validateOrdersState+_0x28d7b3(0x1bc)+Object[_0x28d7b3(0x118)](ORDERS)[lockOrders]);let _0xc6318f=[],_0x37d19c=config[_0x28d7b3(0xc6)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x28d7b3(0x119)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x28d7b3(0x131)])return;logger[_0x28d7b3(0x206)](_0x28d7b3(0x1c1)+validateOrdersState);for(let _0x12925f=lastOrders[_0x28d7b3(0x1c5)]-0x1;_0x12925f>=0x0;_0x12925f--){let _0x495079=lastOrders[_0x12925f],_0x4585ae=![];_0x495079[_0x28d7b3(0x1ac)]>0x0&&(_0x4585ae=!![]),_0xc6318f['push'](_0x4585ae),_0x4585ae&&config[_0x28d7b3(0xc6)]!=_0x28d7b3(0x1b5)&&logHistory(_0x28d7b3(0x106),_0x28d7b3(0x243)+_0x495079[_0x28d7b3(0x172)]+'\x20'+_0x495079[_0x28d7b3(0xce)]+'\x20#'+formatResult(_0x495079[_0x28d7b3(0x1ac)],0x8)+'\x20@'+formatResult(_0x495079[_0x28d7b3(0x1bb)],0x8)),_0x4585ae&&lastOrders['splice'](_0x12925f,0x1);}persistOpenOrders(lastOrders);const _0x41ff51=coolingDown?_0x28d7b3(0xac):_0x28d7b3(0x1e1);if(validateOrdersState==_0x28d7b3(0x266)){validateOrdersState='ongoing';if(_0xc6318f[_0x28d7b3(0x13d)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x28d7b3(0xdc)){if(_0xc6318f['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState=='final'){let _0x2f7f2f=!![];if(_0xc6318f[_0x28d7b3(0x13d)](![])){if(config['ordertype']==_0x28d7b3(0x1b5))logHistory(_0x28d7b3(0x144),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x28d7b3(0x24a)](_0x37d19c*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x41ff51),await unlockOrders(!![]);else{_0x2f7f2f=await cancelOrders();if(_0x2f7f2f)logHistory('success',_0x28d7b3(0x1db)+Math[_0x28d7b3(0x24a)](_0x37d19c*validateOrderInterval/0xea60)+_0x28d7b3(0x21e)+_0x41ff51),await unlockOrders(!![]);else{validateOrdersState=_0x28d7b3(0xdc),logHistory(_0x28d7b3(0x238),_0x28d7b3(0x1e4)+Math['round'](_0x37d19c*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x41ff51),logHistory(_0x28d7b3(0x238),_0x28d7b3(0xb2));const _0x22b852=config[_0x28d7b3(0xc6)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x28d7b3(0x119)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x32a644=_0x28d7b3;validateOrders(_0x32a644(0xf0));},_0x22b852);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x28d7b3(0xa9)){if(config[_0x28d7b3(0xc6)]!=_0x28d7b3(0x1b5))logHistory(_0x28d7b3(0x144),_0x28d7b3(0xca)+_0x41ff51);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x4d8c15=_0xb5c0dc;let _0x5cbf15=!![],_0x2e700d;for(const _0x482515 of lastOrders){let _0x3a8786=![],_0x1b5cbf=0x0;while(!_0x3a8786&&_0x1b5cbf<maxRetries){try{const _0x2acec7=await exchange[_0x4d8c15(0x11e)](_0x482515['orderId'],_0x482515['symbol']);_0x3a8786=!![];}catch(_0x45bb0d){_0x45bb0d['toString']()[_0x4d8c15(0x13d)](_0x4d8c15(0x12a))||_0x45bb0d[_0x4d8c15(0x1dd)]()['includes'](_0x4d8c15(0x1c3))?_0x3a8786=!![]:(_0x2e700d=_0x45bb0d,_0x3a8786=![]);}!_0x3a8786&&(_0x1b5cbf++,await sleep(retryInterval));}_0x5cbf15=_0x5cbf15&&_0x3a8786;}return!_0x5cbf15&&await handleError(_0x2e700d,_0x4d8c15(0xf2)),_0x5cbf15;}async function initCoinResults(_0x5ebeac){const _0x42f0ea=_0xb5c0dc;_0x5ebeac?logger[_0x42f0ea(0x206)](_0x42f0ea(0x115)+_0x5ebeac):logger[_0x42f0ea(0x206)]('Initializing\x20coin\x20results'),config['portfolio'][_0x42f0ea(0x12e)](_0x4d0487=>{const _0x199bc3=_0x42f0ea;if(!_0x4d0487[_0x199bc3(0xbf)]&&_0x4d0487['coin']!=config[_0x199bc3(0x1ca)]){const _0x3d61a4=currentCoins[_0x199bc3(0x102)](_0x74ad8d=>_0x74ad8d[_0x199bc3(0xd6)]==_0x4d0487[_0x199bc3(0xd6)]),_0x4f76e2=gTicker[noslash(_0x4d0487[_0x199bc3(0x172)])];let _0x309da0=_0x3d61a4?_0x3d61a4[_0x199bc3(0xd3)]:null,_0x3c87ac=_0x4d0487[_0x199bc3(0x230)]?0x1/_0x4f76e2:_0x4f76e2,_0x20e2a5;config[_0x199bc3(0x18d)][_0x199bc3(0x12e)](_0x5bffc0=>{const _0xe164ab=_0x199bc3;!_0x20e2a5&&(_0x20e2a5=_0x5bffc0[_0xe164ab(0x174)][_0xe164ab(0x102)](_0x2f3b17=>_0x2f3b17[_0xe164ab(0xd6)]==_0x4d0487['coin']),_0x20e2a5&&(_0x309da0=_0x20e2a5[_0xe164ab(0xd3)],_0x3c87ac=_0x20e2a5['price']));});let _0x3fe216=dbCoinResults['get'](_0x199bc3(0x21a))[_0x199bc3(0x102)]({'coin':_0x4d0487[_0x199bc3(0xd6)]})[_0x199bc3(0xaf)]();if(!_0x3fe216){const _0x575821={'coin':_0x4d0487[_0x199bc3(0xd6)],'number':_0x309da0,'breakeven':_0x3c87ac,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0x199bc3(0x178)](_0x575821)['write']();}else{if(_0x5ebeac&&_0x4d0487[_0x199bc3(0xd6)]==_0x5ebeac){const _0x1b406c={'coin':_0x4d0487[_0x199bc3(0xd6)],'number':_0x309da0,'breakeven':_0x3c87ac,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x199bc3(0x242)](_0x199bc3(0x21a))['find']({'coin':_0x4d0487[_0x199bc3(0xd6)]})[_0x199bc3(0x1b4)](_0x1b406c)[_0x199bc3(0x1de)]();}}}});}async function placeOrder(_0x2c6481){const _0x2775aa=_0xb5c0dc,_0x219e70=config[_0x2775aa(0xc6)]==_0x2775aa(0x1b5)?_0x2775aa(0x1b5):_0x2775aa(0x13b);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS[_0x2775aa(0x131)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x2775aa(0x206)](_0x2775aa(0xed)+_0x2c6481[_0x2775aa(0x193)](_0x5b4782=>_0x5b4782[_0x2775aa(0xd6)])[_0x2775aa(0xd2)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x2775aa(0x266);let _0x4d8f59=![];lastOrders=[];const _0x92b7dc=config[_0x2775aa(0xfa)];for(const _0x24ca1a of _0x2c6481){let _0x15504c,_0x238d61,_0x979b24,_0x78d10a,_0x3dc1c0,_0x34d9d1=_0x24ca1a[_0x2775aa(0x172)];logger[_0x2775aa(0x206)]('Trigger:\x20'+_0x24ca1a[_0x2775aa(0xd6)]+'\x20'+_0x24ca1a['number']+'\x20'+_0x24ca1a[_0x2775aa(0x148)]+'\x20'+_0x24ca1a[_0x2775aa(0x200)]+'%\x20'+_0x24ca1a[_0x2775aa(0x1a5)]+'%\x20'+(0x64*_0x24ca1a['delta'])[_0x2775aa(0x21d)](0x2)+_0x2775aa(0x10c)+_0x92b7dc['toFixed'](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent['filter'](_0x55bec7=>_0x55bec7!==_0x24ca1a[_0x2775aa(0xd6)]);const _0x24066e=currentCoins[_0x2775aa(0x102)](_0x53381a=>_0x53381a[_0x2775aa(0xd6)]==_0x24ca1a[_0x2775aa(0xd6)]);_0x24066e&&(_0x24066e[_0x2775aa(0x252)]=_0x24ca1a['number']);try{const _0x27937d=await exchange[_0x2775aa(0x163)](_0x34d9d1);_0x15504c=_0x24ca1a[_0x2775aa(0x230)]?0x1/_0x24ca1a['last']:_0x24ca1a['last'],_0x238d61=_0x27937d[_0x2775aa(0xa1)],_0x979b24=_0x27937d[_0x2775aa(0x1f6)];_0x24ca1a[_0x2775aa(0x230)]?(_0x78d10a=_0x24ca1a['side']==_0x2775aa(0x191)?_0x2775aa(0x10a):_0x2775aa(0x191),_0x3dc1c0=Math[_0x2775aa(0x1ef)](_0x24ca1a[_0x2775aa(0x1b7)])/_0x15504c):(_0x78d10a=_0x24ca1a[_0x2775aa(0xce)],_0x3dc1c0=Math[_0x2775aa(0x1ef)](_0x24ca1a[_0x2775aa(0x1b7)]));_0x219e70==_0x2775aa(0x13b)&&(config[_0x2775aa(0xc6)]==_0x2775aa(0x12c)&&(_0x15504c=_0x78d10a=='buy'?_0x238d61:_0x979b24),config['ordertype']==_0x2775aa(0x194)&&(_0x15504c=_0x78d10a==_0x2775aa(0x191)?_0x979b24:_0x238d61));_0x3dc1c0=formatResult(_0x3dc1c0,0x8),_0x15504c=formatResult(_0x15504c,0x8);const _0x370378=_0x78d10a==_0x2775aa(0x10a)?config['emojisell']?String[_0x2775aa(0x19c)]('0x'+config[_0x2775aa(0x1cd)])+'\x20':'':config[_0x2775aa(0x1b3)]?String[_0x2775aa(0x19c)]('0x'+config[_0x2775aa(0x1b3)])+'\x20':'',_0x776f1e=_0x219e70==_0x2775aa(0x1b5)?_0x2775aa(0x151):config['ordertype']==_0x2775aa(0x12c)?_0x2775aa(0xef):_0x2775aa(0x12d),_0x4fd1b0=(Math[_0x2775aa(0x262)](Math[_0x2775aa(0x15f)]()*0x35a4e900)+0x5f5e100)[_0x2775aa(0x1dd)]();lastOrders[_0x2775aa(0x178)]({'customId':_0x4fd1b0,'symbol':_0x34d9d1,'coin':_0x24ca1a[_0x2775aa(0xd6)],'amount':_0x3dc1c0,'price':_0x15504c,'side':_0x78d10a,'reverse':_0x24ca1a['reverse'],'filled':0x0});let _0x25ffa8;_0x219e70==_0x2775aa(0x1b5)?_0x78d10a==_0x2775aa(0x191)&&[_0x2775aa(0x21b),_0x2775aa(0x209),_0x2775aa(0x162),_0x2775aa(0x227),_0x2775aa(0x169),'Huobipro']['includes'](config['exchange'])?(logger[_0x2775aa(0x206)]('Creating\x20order:\x20'+_0x34d9d1+'\x20'+_0x219e70+'\x20'+_0x78d10a+'\x20#'+_0x3dc1c0+'\x20@'+_0x15504c),_0x25ffa8=await exchange['createOrder'](_0x34d9d1,_0x219e70,_0x78d10a,_0x3dc1c0,_0x15504c)):(logger[_0x2775aa(0x206)](_0x2775aa(0x1a7)+_0x34d9d1+'\x20'+_0x219e70+'\x20'+_0x78d10a+'\x20#'+_0x3dc1c0+_0x2775aa(0x26c)),_0x25ffa8=await exchange['createOrder'](_0x34d9d1,_0x219e70,_0x78d10a,_0x3dc1c0,undefined)):(logger[_0x2775aa(0x206)](_0x2775aa(0x1a7)+_0x34d9d1+'\x20'+_0x219e70+'\x20'+_0x78d10a+'\x20#'+_0x3dc1c0+'\x20@'+_0x15504c),_0x25ffa8=await exchange[_0x2775aa(0xc8)](_0x34d9d1,_0x219e70,_0x78d10a,_0x3dc1c0,_0x15504c));const _0x1c9ecc=lastOrders[_0x2775aa(0x1c5)]-0x1;if(_0x1c9ecc>=0x0&&lastOrders[_0x1c9ecc][_0x2775aa(0x244)]==_0x4fd1b0){lastOrders[_0x1c9ecc][_0x2775aa(0x253)]=_0x25ffa8['id'];if(_0x25ffa8['amount'])lastOrders[_0x1c9ecc][_0x2775aa(0x24d)]=_0x25ffa8['amount'];if(_0x25ffa8['price'])lastOrders[_0x1c9ecc][_0x2775aa(0x1bb)]=_0x25ffa8[_0x2775aa(0x1bb)];lastOrders[_0x1c9ecc][_0x2775aa(0xc1)]=_0x25ffa8[_0x2775aa(0xc1)];}if(_0x25ffa8[_0x2775aa(0x24d)])_0x3dc1c0=_0x25ffa8[_0x2775aa(0x24d)];if(_0x25ffa8['price'])_0x15504c=_0x25ffa8[_0x2775aa(0x1bb)];if(_0x219e70==_0x2775aa(0x1b5))logHistory('order',''+_0x370378+_0x776f1e+_0x2775aa(0xda)+_0x34d9d1+'\x20'+_0x78d10a+'\x20#'+formatResult(_0x3dc1c0,0x8)+'\x20@'+formatResult(_0x15504c,0x8));else logHistory(_0x2775aa(0x106),''+_0x370378+_0x776f1e+_0x2775aa(0xda)+_0x34d9d1+'\x20'+_0x78d10a+'\x20#'+formatResult(_0x3dc1c0,0x8)+'\x20@'+formatResult(_0x15504c,0x8));logger['debug']('ID:\x20'+_0x25ffa8['id']+'\x20|\x20Custom\x20ID:\x20'+_0x4fd1b0);if(config[_0x2775aa(0x1b6)]!=0x0){let _0x179f55=null;if(cooldownTracker[_0x2775aa(0x1c5)]==config['cooldown']-0x1)_0x179f55=cooldownTracker['shift']();const _0x117c08=getTimeStamp();cooldownTracker['push'](_0x117c08);if(_0x179f55){const _0x3ff8b8=fns[_0x2775aa(0x258)](new Date(_0x117c08),new Date(_0x179f55));if(_0x3ff8b8<cooldownInterval){logHistory(_0x2775aa(0x238),'Executed\x20'+config[_0x2775aa(0x1b6)]+_0x2775aa(0x20d)+cooldownInterval/0x3c+_0x2775aa(0x99)+cooldownPeriod/(0xe10*0x3e8)+_0x2775aa(0x195)),coolingDown=!![];break;}}}}catch(_0x9abf43){if(_0x9abf43[_0x2775aa(0x1dd)]()[_0x2775aa(0x13d)](_0x2775aa(0x126)))lastOrders=lastOrders['filter'](_0x419f09=>_0x419f09['symbol']!=_0x34d9d1),logHistory('error',_0x2775aa(0x95)+_0x34d9d1),_0x4d8f59=!![];else{if(_0x9abf43[_0x2775aa(0x1dd)]()[_0x2775aa(0x13d)](_0x2775aa(0x26f)))lastOrders=lastOrders[_0x2775aa(0x139)](_0x14e4ea=>_0x14e4ea['symbol']!=_0x34d9d1),logHistory(_0x2775aa(0x238),_0x2775aa(0xff)+_0x34d9d1),_0x4d8f59=!![];else{if(_0x9abf43[_0x2775aa(0x1dd)]()[_0x2775aa(0x13d)](_0x2775aa(0x1c3)))lastOrders=lastOrders[_0x2775aa(0x139)](_0x48108a=>_0x48108a[_0x2775aa(0x172)]!=_0x34d9d1),logHistory(_0x2775aa(0x238),_0x2775aa(0x197)+_0x34d9d1),logger[_0x2775aa(0x206)](_0x9abf43),_0x4d8f59=!![];else _0x9abf43[_0x2775aa(0x1dd)]()[_0x2775aa(0x13d)](_0x2775aa(0x104))?(lastOrders=lastOrders['filter'](_0x3144a7=>_0x3144a7[_0x2775aa(0x172)]!=_0x34d9d1),logHistory(_0x2775aa(0x238),_0x2775aa(0x95)+_0x34d9d1),_0x4d8f59=!![]):(lastOrders=lastOrders['filter'](_0x3c3a50=>_0x3c3a50[_0x2775aa(0x172)]!=_0x34d9d1),await handleError(_0x9abf43,'placeOrder()',_0x34d9d1));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x2775aa(0x1c5)]>0x0){const _0x11021f=config[_0x2775aa(0xc6)]==_0x2775aa(0x1b5)?validateOrderTimeout*0x3c*0x3e8:config[_0x2775aa(0x119)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2c69b1=_0x2775aa;validateOrders(_0x2c69b1(0xf0));},_0x11021f);}else unlockOrders();_0x4d8f59&&config[_0x2775aa(0x1d6)]&&(logHistory(_0x2775aa(0x238),_0x2775aa(0x265)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x2775aa(0x144),_0x2775aa(0x257)));}else{if(coolingDown)!config[_0x2775aa(0x1d6)]&&logHistory('error',_0x2775aa(0x125));else lockOrders!=ORDERS[_0x2775aa(0x18f)]&&(!config[_0x2775aa(0x1d6)]&&(config[_0x2775aa(0xc6)]==_0x2775aa(0x1b5)?logHistory(_0x2775aa(0x238),_0x2775aa(0x145)):logHistory(_0x2775aa(0x238),_0x2775aa(0x25c))));}}function persistOpenOrders(_0x442024){const _0x4a5a02=_0xb5c0dc,_0x2260dd={...config,'openOrders':_0x442024};let _0x5ac8e6=dbConfig['get']('bot')['find']({'botID':botID})['value']();_0x5ac8e6&&dbConfig[_0x4a5a02(0x242)](_0x4a5a02(0xab))[_0x4a5a02(0x102)]({'botID':botID})[_0x4a5a02(0x1b4)](_0x2260dd)[_0x4a5a02(0x1de)]();}function restoreOrders(){const _0x493632=_0xb5c0dc;let _0x227ded;config[_0x493632(0xbd)]&&allOpenOrders[_0x493632(0x12e)](_0x1a9006=>{const _0xc81e27=_0x493632,_0x2c6efd=config['openOrders'][_0xc81e27(0x102)](_0x178c19=>_0x178c19[_0xc81e27(0x253)]==_0x1a9006['id']);_0x2c6efd&&(lastOrders['push'](_0x2c6efd),_0x227ded=_0x1a9006[_0xc81e27(0x1b1)]);});if(lastOrders[_0x493632(0x1c5)]>0x0){setLockOrders(ORDERS[_0x493632(0x131)]),validateOrdersState=_0x493632(0xdc),allOrdersPlaced=!![];const _0x3757b9=new Date()['getTime'](),_0x351c2a=config[_0x493632(0xc6)]==_0x493632(0x1b5)?validateOrderTimeout*0x3c*0x3e8:config[_0x493632(0x119)]*0x3c*0x3e8;if(_0x227ded+_0x351c2a>_0x3757b9){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x227ded+_0x351c2a-_0x3757b9);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x25e270=_0xb5c0dc;if(!coinsLoaded){process['send']({'telegrammsg':_0x25e270(0xd0)},_0x404ddb=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x6b3d90='';if(config[_0x25e270(0xe1)])_0x6b3d90=_0x25e270(0x1c0)+config[_0x25e270(0x226)]+_0x25e270(0xbb);else _0x6b3d90=_0x25e270(0xa7)+botID+_0x25e270(0xbb);const _0x41435f=config['basecoin'],_0x2214de=config[_0x25e270(0x223)],_0x36e7e4=getKPIs(_0x25e270(0x1ca)),_0x42fdef=getKPIs(_0x25e270(0x223),_0x2214de),_0x158df8=getKPIs(_0x25e270(0x10b)),_0x4757f8=getKPIs(_0x25e270(0x211),_0x2214de),_0x45ca9a=getKPIs('pnl-basecoin'),_0x29af4d=getKPIs(_0x25e270(0x224),_0x2214de);_0x41435f['includes'](_0x2214de)?(_0x6b3d90+=_0x25e270(0x1d5),_0x6b3d90+=_0x25e270(0x1ec)+_0x41435f+':\x20'+_0x36e7e4[_0x25e270(0xaf)]+'\x20('+_0x36e7e4[_0x25e270(0x13a)]+'%)\x0a',_0x6b3d90+=_0x25e270(0x16f)+_0x41435f+':\x20'+_0x158df8[_0x25e270(0xaf)]+'\x20('+_0x158df8[_0x25e270(0x13a)]+_0x25e270(0x1bf),_0x6b3d90+=_0x25e270(0x132)+_0x41435f+':\x20'+_0x45ca9a[_0x25e270(0xaf)]+'\x20('+_0x45ca9a[_0x25e270(0x13a)]+'%)\x0a',_0x6b3d90+=_0x25e270(0x246)):(_0x6b3d90+=_0x25e270(0x1d5),_0x6b3d90+='Value\x20'+_0x41435f+':\x20'+_0x36e7e4[_0x25e270(0xaf)]+'\x20('+_0x36e7e4[_0x25e270(0x13a)]+_0x25e270(0x1bf),_0x6b3d90+=_0x25e270(0x1ec)+_0x2214de+':\x20'+_0x42fdef[_0x25e270(0xaf)]+'\x20('+_0x42fdef[_0x25e270(0x13a)]+_0x25e270(0x1bf),_0x6b3d90+=_0x25e270(0x16f)+_0x41435f+':\x20'+_0x158df8[_0x25e270(0xaf)]+'\x20('+_0x158df8[_0x25e270(0x13a)]+_0x25e270(0x1bf),_0x6b3d90+=_0x25e270(0x16f)+_0x2214de+':\x20'+_0x4757f8[_0x25e270(0xaf)]+'\x20('+_0x4757f8[_0x25e270(0x13a)]+'%)\x0a',_0x6b3d90+='PnL\x20'+_0x41435f+':\x20'+_0x45ca9a[_0x25e270(0xaf)]+'\x20('+_0x45ca9a[_0x25e270(0x13a)]+_0x25e270(0x1bf),_0x6b3d90+=_0x25e270(0x132)+_0x2214de+':\x20'+_0x29af4d[_0x25e270(0xaf)]+'\x20('+_0x29af4d[_0x25e270(0x13a)]+'%)\x0a',_0x6b3d90+=_0x25e270(0x246)),process['send']({'telegrammsg':_0x6b3d90},_0x1b559b=>{});}async function sendPortfolioTelegram(){const _0xb30b36=_0xb5c0dc;if(!coinsLoaded||!currentCoins[0x0][_0xb30b36(0x200)]&&currentCoins[0x0]['distribution']!=0x0){process[_0xb30b36(0x1e8)]({'telegrammsg':_0xb30b36(0xd0)},_0x3388c9=>{});return;}let _0x5d879c='';if(config[_0xb30b36(0xe1)])_0x5d879c=_0xb30b36(0x1c0)+config[_0xb30b36(0x226)]+_0xb30b36(0x15b);else _0x5d879c='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x5d879c+=_0xb30b36(0x1d5),_0x5d879c+=_0xb30b36(0x214),_0x5d879c+=_0xb30b36(0x152),_0x5d879c+=_0xb30b36(0x214),currentCoins[_0xb30b36(0x12e)](_0x37985a=>{const _0x3dcb9b=_0xb30b36;_0x5d879c+=_0x37985a[_0x3dcb9b(0xd6)][_0x3dcb9b(0x141)](0x7)+'|\x20'+formatPad(_0x37985a[_0x3dcb9b(0x200)],0x2,0x6)+'|\x20'+formatPad(_0x37985a['target'],0x2,0x6)+'|\x20'+(_0x37985a['target']==0x0?''[_0x3dcb9b(0x1b9)](0x6):formatPad(_0x37985a[_0x3dcb9b(0x1e0)]*0x64,0x2,0x6))+'\x0a';}),_0x5d879c+='</pre>',process['send']({'telegrammsg':_0x5d879c},_0x3f63ea=>{});}function formatPad(_0x1798dd,_0x3b758d,_0x4c0409){const _0x1a7008=_0xb5c0dc,_0x5219ac=formatResultString(_0x1798dd,_0x3b758d);return _0x5219ac?_0x5219ac[_0x1a7008(0x1b9)](_0x4c0409):''[_0x1a7008(0x1b9)](_0x4c0409);}function logHistory(_0x164825,_0xc10f3b,_0x21c6a9=''){const _0x2527d7=_0xb5c0dc;logger[_0x2527d7(0x189)](''+_0xc10f3b);let _0x1ee171={'time':getTimeStamp(),'type':_0x164825,'event':_0xc10f3b};dbLogs[_0x2527d7(0x242)](_0x2527d7(0x127))[_0x2527d7(0x178)](_0x1ee171)['write']();if(_0x21c6a9=='')_0x21c6a9=_0xc10f3b;proxyEmit(_0x2527d7(0x1d9),{'log':_0x1ee171,'summary':_0x21c6a9}),process[_0x2527d7(0x1e8)]({'telegram':{..._0x1ee171,'botname':config[_0x2527d7(0x226)],'showname':config[_0x2527d7(0xe1)]}},_0x7e0f78=>{});}function emitHistory(_0x4caa23={}){const _0x17818c=_0xb5c0dc;Object['keys'](_0x4caa23)['length']==0x0&&(_0x4caa23={'type':[_0x17818c(0x106),'event'],'event':'','page':0x1});if(_0x4caa23[_0x17818c(0xdf)]['includes'](_0x17818c(0x1d9)))_0x4caa23[_0x17818c(0xdf)][_0x17818c(0x21f)](_0x4caa23['type']['indexOf'](_0x17818c(0x1d9)),0x1,'error',_0x17818c(0x1a3),_0x17818c(0x144));if(dbLogs[_0x17818c(0xa6)](_0x17818c(0x127))['value']()){let _0x5ce355=dbLogs[_0x17818c(0x242)](_0x17818c(0x127))[_0x17818c(0x139)](_0x452ff7=>{const _0x1dfce2=_0x17818c;if(_0x4caa23[_0x1dfce2(0xdf)][_0x1dfce2(0x1c5)]==0x0)return![];else return _0x4caa23['type'][_0x1dfce2(0x13d)](_0x452ff7['type']);})[_0x17818c(0x139)](_0x3f5740=>{const _0x3822a0=_0x17818c;if(_0x4caa23[_0x3822a0(0x1d9)]=='')return!![];else return _0x3f5740[_0x3822a0(0x1d9)]['toLowerCase']()[_0x3822a0(0x13d)](_0x4caa23[_0x3822a0(0x1d9)]['toLowerCase']());})[_0x17818c(0xba)](_0x17818c(0x24f)),_0x44a881=_0x5ce355['value']()[_0x17818c(0x1c5)];_0x5ce355=_0x5ce355[_0x17818c(0x230)]()[_0x17818c(0x218)]((_0x4caa23[_0x17818c(0x235)]-0x1)*logPageSize,_0x4caa23[_0x17818c(0x235)]*logPageSize-0x1)['reverse']()[_0x17818c(0xaf)](),proxyEmit('event-history',{'logs':_0x5ce355,'total':_0x44a881});}else proxyEmit(_0x17818c(0x1f8),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0xa3bfa8){const _0x13ff6f=_0xb5c0dc;if(dbLogs[_0x13ff6f(0xa6)]('logs')[_0x13ff6f(0xaf)]()){const _0x8d9e98=dbLogs[_0x13ff6f(0x242)](_0x13ff6f(0x127))[_0x13ff6f(0xba)](_0x13ff6f(0x24f))[_0x13ff6f(0x139)](_0x434d67=>{const _0x464d44=_0x13ff6f;return _0x434d67[_0x464d44(0xdf)]==_0x464d44(0x106);})[_0x13ff6f(0xaf)]();dbLogs[_0x13ff6f(0x242)](_0x13ff6f(0x127))['remove']()[_0x13ff6f(0x1de)](),dbLogs[_0x13ff6f(0x242)](_0x13ff6f(0x127))[_0x13ff6f(0x1b4)](_0x8d9e98)[_0x13ff6f(0x1de)](),emitHistory(_0xa3bfa8);}}async function pauseBot(_0x34b83d=pauseBotIntervalShort,_0x18989d,_0x107118,_0x3da3ad=![]){const _0x3629f5=_0xb5c0dc,_0x17b0f0=new Date()[_0x3629f5(0x183)]();if(!lastErrorShown||_0x17b0f0-lastErrorShown>=_0x34b83d){lastErrorShown=_0x17b0f0;if(!lastBotPause)lastBotPause=_0x17b0f0,consecutivePauses=0x1;else{if(_0x17b0f0-lastBotPause-_0x34b83d<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x3da3ad){logHistory(_0x3629f5(0x238),_0x18989d+'\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();return;}else logHistory('error',_0x18989d+pauseBotMsg),_0x34b83d=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x17b0f0;}_0x107118?logger[_0x3629f5(0x206)]('('+consecutivePauses+')\x20'+_0x18989d+'\x20>\x20details:',_0x107118):logger['debug']('('+consecutivePauses+')\x20'+_0x18989d);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x34b83d),botPaused=![],_0x34b83d==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x2b81a3=_0xb5c0dc;botPaused=!![],await sleep(0x3e8),process[_0x2b81a3(0x1e8)]({'stop':_0x2b81a3(0xde)},_0x28ad84=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1e28a5,_0x3a3fa9,_0xee2ed2=![]){const _0x3a4db7=_0xb5c0dc;if(botPaused)return;let _0x52cc93;const _0x2b15fd=config[_0x3a4db7(0x208)]||_0x3a4db7(0x130);if(_0x3a3fa9)logger[_0x3a4db7(0x206)](_0x3a4db7(0xc4)+_0x3a3fa9);const _0x37ecfc=()=>{const _0xa47be7=_0x3a4db7;loading[_0xa47be7(0x238)]=_0xa47be7(0x1ba),emitLoadingProgress();};if(_0x1e28a5[_0x3a4db7(0x1dd)]()[_0x3a4db7(0x13d)]('API-key\x20format\x20invalid'))logHistory('error',_0x2b15fd+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x37ecfc();else{if(_0x1e28a5[_0x3a4db7(0x1dd)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x2b15fd+_0x3a4db7(0x1fa)),_0x37ecfc();else{if(_0x1e28a5[_0x3a4db7(0x1dd)]()[_0x3a4db7(0x13d)](_0x3a4db7(0xa4)))config[_0x3a4db7(0x1e6)]?_0x52cc93=_0x2b15fd+_0x3a4db7(0x15c):_0x52cc93=_0x2b15fd+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x3a4db7(0x238),_0x52cc93+_0x3a4db7(0x22e)),_0x37ecfc();else{if(_0x1e28a5[_0x3a4db7(0x1dd)]()[_0x3a4db7(0x13d)](_0x3a4db7(0x229)))logHistory(_0x3a4db7(0x238),_0x2b15fd+_0x3a4db7(0x9e)),_0x37ecfc();else{if(!_0xee2ed2)await handleError(_0x1e28a5,null);}}}}}async function handleError(_0x1ee975,_0x25dc58,_0x318914=''){const _0x2147b2=_0xb5c0dc;if(botPaused)return;let _0x55509e;const _0x589e5b=config[_0x2147b2(0x208)]||_0x2147b2(0x130);if(_0x25dc58)logger['debug']('Exception\x20thrown\x20in\x20'+_0x25dc58);if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)]('DDoSProtection'))_0x55509e=_0x589e5b+_0x2147b2(0x22c),await pauseBot(undefined,_0x55509e,_0x1ee975);else{if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)]('RateLimitExceeded'))_0x55509e=_0x589e5b+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x55509e,_0x1ee975);else{if(_0x1ee975['toString']()[_0x2147b2(0x13d)](_0x2147b2(0x109))||_0x1ee975['toString']()['includes']('OnMaintenance'))_0x55509e=_0x589e5b+_0x2147b2(0x24c),await pauseBot(undefined,_0x55509e,_0x1ee975[_0x2147b2(0x1dd)]());else{if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)](_0x2147b2(0x138)))_0x55509e=_0x589e5b+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x55509e,_0x1ee975[_0x2147b2(0x1dd)]());else{if(_0x1ee975['toString']()[_0x2147b2(0x13d)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x55509e=_0x589e5b+_0x2147b2(0x14b),await pauseBot(undefined,_0x55509e,_0x1ee975[_0x2147b2(0x1dd)]());else{if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0xc2)]()[_0x2147b2(0x13d)]('timestamp')||_0x1ee975['toString']()[_0x2147b2(0xc2)]()[_0x2147b2(0x13d)](_0x2147b2(0x12b)))_0x55509e=_0x2147b2(0x1ad),await pauseBot(undefined,_0x55509e,_0x1ee975[_0x2147b2(0x1dd)]());else{if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)](_0x2147b2(0x18b)))_0x55509e=_0x589e5b+_0x2147b2(0x1e9),await pauseBot(undefined,_0x55509e,_0x1ee975[_0x2147b2(0x1dd)]());else{if(_0x1ee975 instanceof ccxt[_0x2147b2(0x97)])_0x55509e=_0x589e5b+_0x2147b2(0x1ff)+_0x1ee975['toString'](),logger['debug']('Network\x20error\x20details:',_0x1ee975),await pauseBot(undefined,_0x55509e,_0x1ee975);else{if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)](_0x2147b2(0x1c2)))logHistory(_0x2147b2(0x238),_0x589e5b+_0x2147b2(0x101)),logHistory(_0x2147b2(0x238),_0x2147b2(0xe8)),await killBot();else{if(_0x1ee975[_0x2147b2(0x1dd)]()['includes'](_0x2147b2(0x25e)))logHistory('error',_0x589e5b+_0x2147b2(0x241)),logHistory('error',_0x2147b2(0xe8)),await killBot();else{if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)](_0x2147b2(0xa4))&&_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)](_0x2147b2(0x1fd)))_0x55509e=_0x589e5b+_0x2147b2(0xf4),await pauseBot(undefined,_0x55509e,_0x1ee975,!![]);else{if(_0x1ee975[_0x2147b2(0x1dd)]()['includes'](_0x2147b2(0xa4)))config[_0x2147b2(0x1e6)]?_0x55509e=_0x589e5b+_0x2147b2(0x15c):_0x55509e=_0x589e5b+_0x2147b2(0x146),logHistory(_0x2147b2(0x238),_0x55509e),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1ee975[_0x2147b2(0x1dd)]()[_0x2147b2(0x13d)]('PermissionDenied'))logHistory(_0x2147b2(0x238),_0x589e5b+_0x2147b2(0x133)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1ee975['toString']()[_0x2147b2(0x13d)](_0x2147b2(0xb0)))logHistory(_0x2147b2(0x238),_0x2147b2(0x1e2)+_0x318914),logger['debug'](_0x2147b2(0x14a),_0x1ee975);else{if(_0x1ee975 instanceof ccxt[_0x2147b2(0x225)]){_0x55509e=_0x589e5b+'\x20exchange\x20error:\x20'+_0x1ee975[_0x2147b2(0x1dd)]();if(_0x318914)_0x55509e+='\x0aSymbol(s):\x20'+_0x318914;await pauseBot(undefined,_0x55509e,_0x1ee975);}else{_0x55509e='Unknown\x20error:\x20'+_0x1ee975[_0x2147b2(0x1dd)]();if(_0x318914)_0x55509e+=_0x2147b2(0x1c4)+_0x318914;await pauseBot(undefined,_0x55509e);}}}}}}}}}}}}}}}}function decryptRSA(_0x4989ee,_0x24688e){const _0x52b466=_0xb5c0dc,_0x331974=forge[_0x52b466(0xf8)][_0x52b466(0x112)](_0x4989ee),_0x53da89=_0x331974[_0x52b466(0x23a)](forge['util'][_0x52b466(0xbe)](_0x24688e),'RSA-OAEP',{'md':forge['md'][_0x52b466(0x21c)]['create'](),'mgf1':{'md':forge['md'][_0x52b466(0x21c)][_0x52b466(0x177)]()}});return _0x53da89;}async function withRetry(_0x3e756b,_0x549ef4){const _0x4751a8=_0xb5c0dc;let _0x232325=![],_0xf3fbc6=0x0,_0x36d736,_0x47c2cd;while(_0xf3fbc6<maxRetries){try{_0x36d736=await _0x549ef4();break;}catch(_0x2f60b2){_0x47c2cd=_0x2f60b2,!_0x232325?(_0x232325=!![],logger[_0x4751a8(0x206)](_0x4751a8(0x15a)+_0x3e756b+':',_0x2f60b2['toString']())):await sleep(retryInterval);}_0xf3fbc6++;}if(_0xf3fbc6==0x0)return _0x36d736;if(_0xf3fbc6>=maxRetries)throw _0x47c2cd;else return logger['debug'](_0x4751a8(0x11b)+_0xf3fbc6+_0x4751a8(0x142)),_0x36d736;}function formatResult(_0x19efc7,_0x5de4a0){const _0x3fb8ed=_0xb5c0dc;return parseFloat(_0x19efc7[_0x3fb8ed(0x21d)](_0x5de4a0));}function formatResultTruncate(_0x311c69,_0x3eeecf){const _0x180a11=_0xb5c0dc;let _0x337d3b=formatResultString(_0x311c69,0xa),_0x146c01=_0x337d3b[_0x180a11(0x192)]('.');return _0x146c01!=-0x1&&(_0x337d3b=_0x337d3b['slice'](0x0,_0x146c01+_0x3eeecf+0x1)),Number(_0x337d3b);}function formatResultString(_0x2045bd,_0x19fd68){const _0x5b7700=_0xb5c0dc;let _0x195be0;if(!(''+_0x2045bd)['includes']('e'))_0x195be0=+(Math[_0x5b7700(0x24a)](_0x2045bd+'e+'+_0x19fd68)+'e-'+_0x19fd68);else{let _0x2d895d=(''+_0x2045bd)[_0x5b7700(0x1d1)]('e'),_0x2d5d76='';+_0x2d895d[0x1]+_0x19fd68>0x0&&(_0x2d5d76='+'),_0x195be0=+(Math[_0x5b7700(0x24a)](+_0x2d895d[0x0]+'e'+_0x2d5d76+(+_0x2d895d[0x1]+_0x19fd68))+'e-'+_0x19fd68);}return Number(_0x195be0)['toFixed'](_0x19fd68);}function getServerTime(){const _0x32fec0=_0xb5c0dc,_0x171e98=new Date();return _0x171e98[_0x32fec0(0x136)]()+'/'+(_0x171e98[_0x32fec0(0xcd)]()+0x1)['toString']()[_0x32fec0(0x1b9)](0x2,'0')+'/'+_0x171e98['getDate']()['toString']()[_0x32fec0(0x1b9)](0x2,'0')+'\x20'+_0x171e98['getHours']()[_0x32fec0(0x1dd)]()[_0x32fec0(0x1b9)](0x2,'0')+':'+_0x171e98['getMinutes']()[_0x32fec0(0x1dd)]()[_0x32fec0(0x1b9)](0x2,'0')+':'+_0x171e98[_0x32fec0(0x19f)]()[_0x32fec0(0x1dd)]()[_0x32fec0(0x1b9)](0x2,'0');}function getTimeStamp(){const _0x4d868e=_0xb5c0dc,_0x39500b=shiftedTime();return _0x39500b[_0x4d868e(0x136)]()+'/'+(_0x39500b[_0x4d868e(0xcd)]()+0x1)[_0x4d868e(0x1dd)]()[_0x4d868e(0x1b9)](0x2,'0')+'/'+_0x39500b[_0x4d868e(0xa8)]()['toString']()[_0x4d868e(0x1b9)](0x2,'0')+'\x20'+_0x39500b[_0x4d868e(0x166)]()[_0x4d868e(0x1dd)]()[_0x4d868e(0x1b9)](0x2,'0')+':'+_0x39500b['getMinutes']()[_0x4d868e(0x1dd)]()['padStart'](0x2,'0')+':'+_0x39500b[_0x4d868e(0x19f)]()['toString']()[_0x4d868e(0x1b9)](0x2,'0');}function getDate(){const _0x5313f7=_0xb5c0dc,_0x50c4ea=shiftedTime();return _0x50c4ea[_0x5313f7(0x136)]()+'/'+(_0x50c4ea['getMonth']()+0x1)['toString']()[_0x5313f7(0x1b9)](0x2,'0')+'/'+_0x50c4ea['getDate']()[_0x5313f7(0x1dd)]()['padStart'](0x2,'0');}function getHour(){const _0x1cec39=_0xb5c0dc,_0x3e9ca8=shiftedTime();return _0x3e9ca8['getHours']()[_0x1cec39(0x1dd)]()['padStart'](0x2,'0');}function sleep(_0x525baa){return new Promise(_0x31eb8f=>setTimeout(_0x31eb8f,_0x525baa));}function shiftedTime(){const _0x2f28fa=_0xb5c0dc,_0x3fd763=new Date();let _0x325f46=_0x3fd763;if(config&&config['timeshift']!==0x0)_0x325f46=fns[_0x2f28fa(0x23f)](_0x3fd763,{'hours':config[_0x2f28fa(0xbc)]});return _0x325f46;}function timer(_0x46f49e){const _0x5f543d=_0xb5c0dc,_0x7335ed=new Date();!lasttime?console['log'](getTimeStamp()+_0x5f543d(0x190),_0x46f49e,_0x7335ed):console[_0x5f543d(0xf7)](getTimeStamp()+_0x5f543d(0x190),_0x46f49e,(_0x7335ed-lasttime)/0x3e8),lasttime=_0x7335ed;}