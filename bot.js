const _0x7676bb=_0x2bb6;(function(_0x392d33,_0x23bade){const _0x5f4ba0=_0x2bb6,_0x323c10=_0x392d33();while(!![]){try{const _0x124587=parseInt(_0x5f4ba0(0x2a1))/0x1+parseInt(_0x5f4ba0(0x1f3))/0x2*(-parseInt(_0x5f4ba0(0x1b9))/0x3)+-parseInt(_0x5f4ba0(0x2e7))/0x4*(-parseInt(_0x5f4ba0(0x312))/0x5)+-parseInt(_0x5f4ba0(0x1aa))/0x6*(parseInt(_0x5f4ba0(0x22c))/0x7)+parseInt(_0x5f4ba0(0x323))/0x8*(parseInt(_0x5f4ba0(0x2e1))/0x9)+parseInt(_0x5f4ba0(0x216))/0xa*(-parseInt(_0x5f4ba0(0x353))/0xb)+-parseInt(_0x5f4ba0(0x200))/0xc*(parseInt(_0x5f4ba0(0x2db))/0xd);if(_0x124587===_0x23bade)break;else _0x323c10['push'](_0x323c10['shift']());}catch(_0x44e4d7){_0x323c10['push'](_0x323c10['shift']());}}}(_0x2dce,0x1aa4f));const _0x5a97bd=function(){let _0x1a76fc=!![];return function(_0x23d7e7,_0x23d8d3){const _0x2641ad=_0x1a76fc?function(){const _0x2d4398=_0x2bb6;if(_0x23d8d3){const _0x5f57e0=_0x23d8d3[_0x2d4398(0x357)](_0x23d7e7,arguments);return _0x23d8d3=null,_0x5f57e0;}}:function(){};return _0x1a76fc=![],_0x2641ad;};}(),_0x10bbd0=_0x5a97bd(this,function(){const _0x94e24d=_0x2bb6;return _0x10bbd0[_0x94e24d(0x1d9)]()['search'](_0x94e24d(0x231))[_0x94e24d(0x1d9)]()[_0x94e24d(0x25c)](_0x10bbd0)[_0x94e24d(0x289)](_0x94e24d(0x231));});_0x10bbd0();'use strict';const ccxt=require(_0x7676bb(0x24e)),low=require(_0x7676bb(0x27b)),FileSync=require(_0x7676bb(0x21c)),fs=require('fs'),fns=require('date-fns'),forge=require(_0x7676bb(0x252)),util=require(_0x7676bb(0x28f)),argv=require(_0x7676bb(0x2d1))(process['argv'][_0x7676bb(0x340)](0x2))['argv'],path=require(_0x7676bb(0x331)),axios=require(_0x7676bb(0x255));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x7676bb(0x278),_0x7676bb(0x301),_0x7676bb(0x1a4),'USDT','USDC','USDP'],excludedExchanges=['bitmex'],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x7676bb(0x1fb)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x7676bb(0x18b)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x7676bb(0x20d),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x7676bb(0x287))[_0x7676bb(0x20f)],environment=require(_0x7676bb(0x287))[_0x7676bb(0x2b8)]||'production',botID=process[_0x7676bb(0x271)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x7676bb(0x25e)](botID)&&(console['log'](_0x7676bb(0x332)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x7676bb(0x271)][0x3]||'',configpath=userID?_0x7676bb(0x32d)+userID+'/':'./config/',logspath=userID?_0x7676bb(0x1dd)+userID+'/':_0x7676bb(0x1dd),loggerfile=fs[_0x7676bb(0x1de)](logspath+_0x7676bb(0x302),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x7676bb(0x2b6)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+_0x7676bb(0x284),logfile=configpath+_0x7676bb(0x2da)+botID+_0x7676bb(0x193),performancefile=configpath+_0x7676bb(0x2da)+botID+'-performance.json',coinresultsfile=configpath+_0x7676bb(0x2da)+botID+_0x7676bb(0x232),settingsfile=configpath+_0x7676bb(0x1f7),securefile=configpath+_0x7676bb(0x1ba),configbackuppath=configpath+_0x7676bb(0x2c8),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x7676bb(0x337)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x7676bb(0x1e5)]({'data':[],'version':serverversion})[_0x7676bb(0x337)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x7676bb(0x1e5)]({'bot':[],'version':serverversion})[_0x7676bb(0x337)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':{},'version':serverversion})[_0x7676bb(0x337)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0xebeaa7=>{const _0x28cdeb=_0x7676bb;console[_0x28cdeb(0x28c)](_0xebeaa7);},'simple':_0x1ec78a=>{const _0x265389=_0x7676bb;console['log'](_0x1ec78a),loggerfile[_0x265389(0x337)](util[_0x265389(0x1ee)](_0x1ec78a)+'\x0a');},'full':async(_0x148080,_0x396863='')=>{const _0x2bb430=_0x7676bb;let _0xc93fb4;if(config['showname'])_0xc93fb4=getTimeStamp()+':\x20'+config['botname']+_0x2bb430(0x1c7)+_0x148080;else _0xc93fb4=getTimeStamp()+_0x2bb430(0x2ba)+botID+'\x20>\x20'+_0x148080;console[_0x2bb430(0x28c)](_0xc93fb4),loggerfile[_0x2bb430(0x337)](util[_0x2bb430(0x1ee)](_0xc93fb4)+'\x0a'),_0x396863&&(console[_0x2bb430(0x28c)](_0x396863),loggerfile[_0x2bb430(0x337)](util[_0x2bb430(0x1ee)](_0x396863)+'\x0a'));},'debug':async(_0x3c33cb,_0x3ddfc9='')=>{const _0x43e9dd=_0x7676bb;let _0x388fdf;if(config[_0x43e9dd(0x23b)])_0x388fdf=getTimeStamp()+':\x20'+config[_0x43e9dd(0x263)]+_0x43e9dd(0x2d6)+_0x3c33cb;else _0x388fdf=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20[DEBUG]\x20'+_0x3c33cb;if(debugging)console[_0x43e9dd(0x28c)](_0x388fdf);loggerfile[_0x43e9dd(0x337)](util[_0x43e9dd(0x1ee)](_0x388fdf)+'\x0a');if(_0x3ddfc9){if(debugging)console[_0x43e9dd(0x28c)](_0x3ddfc9);loggerfile['write'](util[_0x43e9dd(0x1ee)](_0x3ddfc9)+'\x0a');}}};process['on']('uncaughtException',function(_0x4e49ba){handleError(_0x4e49ba['stack'],'uncaughtException');});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x7676bb(0x207)]);settings[_0x7676bb(0x20e)]!=config[_0x7676bb(0x20e)]&&updateOnepagemode(settings[_0x7676bb(0x20e)]);(settings['marketcapApi']&&!config[_0x7676bb(0x2c5)]||!settings[_0x7676bb(0x2c5)]&&config[_0x7676bb(0x2c5)])&&updateMarketcapApi(settings[_0x7676bb(0x2c5)]);process[_0x7676bb(0x336)]({'started':_0x7676bb(0x2b7)},_0xab9dcf=>{}),initializeProcessListeners();function proxyEmit(_0x306e65,_0x5e69bf=null){process['send']({'function':_0x306e65,'args':_0x5e69bf},_0x5e22ed=>{});}function initializeProcessListeners(){const _0x284de2=_0x7676bb;process['on'](_0x284de2(0x1e8),_0x484a47=>{const _0x69c4b4=_0x284de2;switch(Object[_0x69c4b4(0x2ed)](_0x484a47)[0x0]){case _0x69c4b4(0x207):_0x484a47[_0x69c4b4(0x207)]!=undefined&&(settings[_0x69c4b4(0x207)]=_0x484a47[_0x69c4b4(0x207)],updateTimeshift(settings['timeshift']));break;case _0x69c4b4(0x20e):_0x484a47[_0x69c4b4(0x20e)]!=undefined&&(settings['onepagemode']=_0x484a47[_0x69c4b4(0x20e)],updateOnepagemode(settings[_0x69c4b4(0x20e)]));break;case _0x69c4b4(0x2c5):_0x484a47['marketcapApi']!=undefined&&(settings[_0x69c4b4(0x2c5)]=_0x484a47[_0x69c4b4(0x2c5)],updateMarketcapApi(settings['marketcapApi']));break;case _0x69c4b4(0x1c4):_0x484a47[_0x69c4b4(0x1c4)]!=undefined&&(bots=JSON[_0x69c4b4(0x199)](_0x484a47['bots']),proxyEmit('bots',bots));break;case _0x69c4b4(0x341):switch(_0x484a47[_0x69c4b4(0x341)]){case _0x69c4b4(0x243):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x69c4b4(0x303):emitHistory(_0x484a47[_0x69c4b4(0x203)]);break;case _0x69c4b4(0x269):deleteHistoryAlerts(_0x484a47[_0x69c4b4(0x203)]);break;case'getPortfolio':getPortfolio(_0x484a47[_0x69c4b4(0x203)]);break;case _0x69c4b4(0x347):storeConfiguration(_0x484a47[_0x69c4b4(0x203)]);break;case _0x69c4b4(0x2cf):storeHeadless(_0x484a47[_0x69c4b4(0x203)]);break;case _0x69c4b4(0x297):storeFiat(_0x484a47[_0x69c4b4(0x203)]);break;case _0x69c4b4(0x274):resetHistory();break;case _0x69c4b4(0x213):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x484a47[_0x69c4b4(0x203)]);break;case'cancelLoading':cancelLoading();break;case _0x69c4b4(0x218):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x69c4b4(0x254):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x22d4c2=![]){const _0x1833f1=_0x7676bb;logger[_0x1833f1(0x264)]('Reset\x20|\x20'+(_0x22d4c2?_0x1833f1(0x198):'no\x20exchange\x20reloaded')+_0x1833f1(0x23f)+config[_0x1833f1(0x1f5)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x1833f1(0x356)]!=''&&config[_0x1833f1(0x356)]!=_0x1833f1(0x22f)){loadingProgress=0x0;if(_0x22d4c2){await initExchange();const _0xd496d0=await testAPI();if(!_0xd496d0)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit('configuration',emittedConfiguration()),initialPerformanceStored=![];}const _0xbe8e25=await getCoins();[currentCoins,currentCoinsAll]=_0xbe8e25,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x1833f1(0x264)](_0x1833f1(0x21d)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x1833f1(0x1ea)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x2d4a6d=![]){const _0x2ad9b2=_0x7676bb;logger[_0x2ad9b2(0x264)](_0x2ad9b2(0x2f6)+(_0x2d4a6d?_0x2ad9b2(0x1b1):_0x2ad9b2(0x299))+_0x2ad9b2(0x242)+config[_0x2ad9b2(0x1f5)]);if(pidBalances)clearTimeout(pidBalances);if(_0x2d4a6d){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x2ad9b2(0x356)]!='***'){loadingProgress=0x1;const _0x19151f=await getCoins();[currentCoins,currentCoinsAll]=_0x19151f,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x2ad9b2(0x21d)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2ad9b2(0x1ea)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}function _0x2bb6(_0x237941,_0x5e609d){const _0x5817f2=_0x2dce();return _0x2bb6=function(_0x10bbd0,_0x5a97bd){_0x10bbd0=_0x10bbd0-0x182;let _0x2dce72=_0x5817f2[_0x10bbd0];return _0x2dce72;},_0x2bb6(_0x237941,_0x5e609d);}async function getMarketCap(_0x316fbe){const _0xd58f4=_0x7676bb;let _0x166ee7=![];if(_0x316fbe)_0x166ee7=!![];const _0x5b12e5=_0x166ee7?_0x316fbe:currentCoins,_0x1997e9=_0x5b12e5[_0xd58f4(0x26d)](_0x1b88bd=>_0x1b88bd['coin']);if(!config[_0xd58f4(0x2c5)]||!_0x166ee7&&!config[_0xd58f4(0x21a)]||_0x1997e9['length']==0x0)return;let _0x25a31b=null;try{_0x25a31b=await axios[_0xd58f4(0x30d)](_0xd58f4(0x24c),{'headers':{'X-CMC_PRO_API_KEY':settings[_0xd58f4(0x2c5)]},'params':{'symbol':_0x1997e9[_0xd58f4(0x1d9)]()}});}catch(_0x2b67db){_0x25a31b=null,_0x2b67db[_0xd58f4(0x1d9)]()['includes']('status\x20code\x20401')?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0xd58f4(0x2a9),emittedConfiguration()),logHistory(_0xd58f4(0x350),_0xd58f4(0x1a3))):(logHistory(_0xd58f4(0x350),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0xd58f4(0x20d)),logger[_0xd58f4(0x264)]('Error\x20details:',_0x2b67db[_0xd58f4(0x1d9)]()+_0xd58f4(0x258)+_0x2b67db['code']));}let _0x191e13=!![];if(_0x25a31b){let _0x33f6ac=0x0;const _0x39f32a=_0x25a31b[_0xd58f4(0x1b6)];_0x1997e9[_0xd58f4(0x239)](_0x265063=>{const _0x3c4fe7=_0xd58f4;if(_0x39f32a[_0x3c4fe7(0x1b6)][_0x265063][0x0]&&_0x39f32a[_0x3c4fe7(0x1b6)][_0x265063][0x0][_0x3c4fe7(0x23c)][_0x3c4fe7(0x278)][_0x3c4fe7(0x2b1)])_0x33f6ac+=_0x39f32a[_0x3c4fe7(0x1b6)][_0x265063][0x0][_0x3c4fe7(0x23c)]['USD'][_0x3c4fe7(0x2b1)];else{if(![_0x3c4fe7(0x2df),_0x3c4fe7(0x278)][_0x3c4fe7(0x32c)](_0x265063)){if(_0x166ee7)logHistory(_0x3c4fe7(0x350),_0x3c4fe7(0x308)+_0x265063+_0x3c4fe7(0x1d6));else{const _0x5c8b1a=config[_0x3c4fe7(0x29b)][_0x3c4fe7(0x1a2)](_0x425210=>_0x425210[_0x3c4fe7(0x1cc)]==_0x265063);_0x5c8b1a&&!_0x5c8b1a[_0x3c4fe7(0x2ab)]&&_0x5c8b1a[_0x3c4fe7(0x34b)]==-0x1&&(_0x191e13=![],logHistory('error',_0x3c4fe7(0x2ae)),logger[_0x3c4fe7(0x264)](_0x3c4fe7(0x308)+_0x265063));}}}});if(!_0x191e13)return;_0x1997e9[_0xd58f4(0x239)](_0x24cd92=>{const _0x1720da=_0xd58f4,_0x37cbb6=_0x39f32a['data'][_0x24cd92][0x0]?_0x39f32a[_0x1720da(0x1b6)][_0x24cd92][0x0][_0x1720da(0x23c)][_0x1720da(0x278)]['market_cap']:0x0;if(_0x166ee7){const _0x46e248=_0x316fbe[_0x1720da(0x1a2)](_0x2ba4eb=>_0x2ba4eb[_0x1720da(0x1cc)]==_0x24cd92);_0x46e248&&(_0x46e248[_0x1720da(0x22d)]=_0x37cbb6);}else{const _0x56d961=currentCoins[_0x1720da(0x1a2)](_0x3dc016=>_0x3dc016[_0x1720da(0x1cc)]==_0x24cd92);_0x56d961&&(_0x56d961[_0x1720da(0x22d)]=_0x37cbb6);const _0x30a55e=currentCoinsAll[_0x1720da(0x1a2)](_0x54e152=>_0x54e152[_0x1720da(0x1cc)]==_0x24cd92);_0x30a55e&&(_0x30a55e[_0x1720da(0x22d)]=_0x37cbb6);}}),!_0x166ee7&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x536578=_0x7676bb,_0x561932=0x2;let _0x4b75d5=0x0,_0x25d607=0x0,_0x16a9b5=0x0,_0x526f83=0x0,_0x480616=0x0;config[_0x536578(0x29b)][_0x536578(0x239)](_0x577fa1=>{const _0x2eb785=_0x536578;if(!_0x577fa1[_0x2eb785(0x2ab)]){_0x16a9b5++,_0x4b75d5+=_0x577fa1['slider'];if(_0x577fa1['slider']===-0x1){_0x4b75d5++;const _0x329e0c=currentCoinsAll[_0x2eb785(0x1a2)](_0x29b293=>_0x29b293[_0x2eb785(0x1cc)]==_0x577fa1[_0x2eb785(0x1cc)]);_0x329e0c&&(_0x526f83+=_0x329e0c['marketcap'],_0x480616+=Math['sqrt'](_0x329e0c['marketcap']));}if(_0x577fa1[_0x2eb785(0x34b)]!==-0x1)_0x25d607++;}});let _0x146b45;const _0x24dff1=0x64-_0x4b75d5,_0x4bc5b7=_0x16a9b5-_0x25d607;_0x146b45=_0x4bc5b7===0x0?_0x4b75d5:Math[_0x536578(0x2bc)](0x64,_0x4b75d5),config[_0x536578(0x29b)][_0x536578(0x239)](_0x5ed385=>{const _0x255316=_0x536578,_0x17a7f5=currentCoinsAll[_0x255316(0x1a2)](_0x1ce604=>_0x1ce604['coin']==_0x5ed385[_0x255316(0x1cc)]);_0x17a7f5&&(_0x5ed385[_0x255316(0x22d)]=_0x17a7f5['marketcap']);if(!_0x5ed385[_0x255316(0x2ab)]){if(_0x146b45<=0x64){if(_0x5ed385[_0x255316(0x34b)]===-0x1){if(_0x526f83!==0x0&&config['marketcapEnabled']){if(_0x17a7f5){if(config[_0x255316(0x21a)]==_0x255316(0x22d))_0x5ed385[_0x255316(0x307)]=(_0x24dff1/(_0x526f83/_0x17a7f5['marketcap']))[_0x255316(0x344)](_0x561932);else config[_0x255316(0x21a)]==_0x255316(0x2b9)&&(_0x5ed385[_0x255316(0x307)]=(_0x24dff1/(_0x480616/Math[_0x255316(0x2fe)](_0x17a7f5[_0x255316(0x22d)])))[_0x255316(0x344)](_0x561932));}}}}}}),updateConfig();}function updateConfig(){const _0x543d69=_0x7676bb;let _0xbaeee5=dbConfig[_0x543d69(0x30d)]('bot')[_0x543d69(0x1a2)]({'botID':botID})[_0x543d69(0x224)]();_0xbaeee5&&dbConfig[_0x543d69(0x30d)]('bot')[_0x543d69(0x1a2)]({'botID':botID})[_0x543d69(0x330)](config)['write']();}function logMemory(){const _0x226eec=_0x7676bb;if(environment!=_0x226eec(0x21f))return;const _0x38a5a6=process[_0x226eec(0x298)]()[_0x226eec(0x293)]/0x400/0x400;logger[_0x226eec(0x264)](_0x226eec(0x235)+process[_0x226eec(0x1e6)]+'\x20uses\x20'+formatResult(_0x38a5a6,0x1)+'\x20MB');}async function startScheduler(){const _0x2a98f5=_0x7676bb,_0x15f21f=shiftedTime()[_0x2a98f5(0x277)]();getMarketCap(),loadSymbols(),_0x15f21f==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x4b42a8=![]){const _0x71c220=_0x7676bb;logger[_0x71c220(0x264)](_0x71c220(0x333));if(!_0x4b42a8)while(lockOrders!=ORDERS[_0x71c220(0x18b)]||coolingDown){await sleep(0x3e8);}process['send']({'stop':'restart'},_0x22266f=>{});}async function initExchange(_0x157a99=config[_0x7676bb(0x1f5)],_0x5c64ee=config[_0x7676bb(0x356)],_0x5eafca=config[_0x7676bb(0x34d)],_0x588b24=config[_0x7676bb(0x285)],_0x157cf8=config[_0x7676bb(0x1c6)]){const _0x3ff04b=_0x7676bb;if(exchange){logger['debug'](_0x3ff04b(0x1be));return;}logger[_0x3ff04b(0x264)](_0x3ff04b(0x35b));!supportedExchanges()[_0x3ff04b(0x32c)](_0x157a99)&&(logHistory(_0x3ff04b(0x350),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x157a99+'\x20exchange'),killBot());const _0x1f927c=ccxt[_0x3ff04b(0x204)][_0x157a99[_0x3ff04b(0x19b)]()];exchange=new _0x1f927c({'apiKey':_0x5c64ee,'secret':_0x5eafca,'options':{'defaultType':_0x3ff04b(0x1f1)}});if(_0x588b24)exchange['password']=_0x588b24;if(exchange[_0x3ff04b(0x1a7)][_0x3ff04b(0x1c6)])exchange[_0x3ff04b(0x1a5)](_0x157cf8);}function updateExchange(_0x3e3de1,_0x4f421c,_0x12a55d=null){const _0x2f790b=_0x7676bb;exchange[_0x2f790b(0x356)]=_0x3e3de1,exchange[_0x2f790b(0x2e6)]=_0x4f421c,exchange[_0x2f790b(0x205)]=_0x12a55d,logger[_0x2f790b(0x264)](_0x2f790b(0x1dc));}function setStableCoins(){const _0x1a1670=_0x7676bb;let _0x50fde9=config[_0x1a1670(0x1cd)]==_0x1a1670(0x1a8)?_0x1a1670(0x1a8):config[_0x1a1670(0x1cd)]=='PAXG'?_0x1a1670(0x2d8):_0x1a1670(0x24a),_0x3fc5a7=allSymbols['includes'](_0x50fde9+_0x1a1670(0x24f))?_0x1a1670(0x278):allSymbols[_0x1a1670(0x32c)](_0x50fde9+'/USDT')?_0x1a1670(0x27f):_0x1a1670(0x2df),_0xa1e0c6=allSymbols[_0x1a1670(0x32c)](_0x50fde9+_0x1a1670(0x2bd))?_0x1a1670(0x2df):_0x3fc5a7;enableFiatToggle=!![],_0x3fc5a7==_0x1a1670(0x2df)&&(enableFiatToggle=![],storeFiat(_0x1a1670(0x2df))),_0xa1e0c6!='EUR'&&(enableFiatToggle=![],storeFiat(_0x1a1670(0x278))),stablecoins={'eur':{'coin':''+_0x50fde9+_0xa1e0c6,'symbol':_0x50fde9+'/'+_0xa1e0c6},'usd':{'coin':''+_0x50fde9+_0x3fc5a7,'symbol':_0x50fde9+'/'+_0x3fc5a7}};}async function initwsCcxt(){const _0xdaad62=_0x7676bb;initCycle++;const _0x24ebed=initCycle;let _0x10f319=[];config['portfolio'][_0xdaad62(0x239)](_0x3ce05e=>{const _0x4810fd=_0xdaad62;if(!_0x3ce05e['excluded']&&_0x3ce05e[_0x4810fd(0x1cc)]!=config['basecoin'])_0x10f319[_0x4810fd(0x2c3)](_0x3ce05e['symbol']);});if(!_0x10f319['includes'](stablecoins[_0xdaad62(0x32e)]['symbol']))_0x10f319[_0xdaad62(0x2c3)](stablecoins['eur'][_0xdaad62(0x1c0)]);if(!_0x10f319[_0xdaad62(0x32c)](stablecoins['usd']['symbol']))_0x10f319[_0xdaad62(0x2c3)](stablecoins[_0xdaad62(0x2c4)][_0xdaad62(0x1c0)]);loadCoins(_0x10f319),_0x10f319=validateSymbols(_0x10f319);const _0x592704=async _0x1938e9=>{const _0xef8a2=_0xdaad62;let _0x45398e;try{const _0x3a0498=await getTickers(_0x1938e9);Object[_0xef8a2(0x225)](_0x3a0498)[_0xef8a2(0x239)](_0x473cab=>{const _0x2a0b1a=_0xef8a2;_0x45398e=_0x473cab[0x1]['symbol'],gTicker[noslash(_0x45398e)]=_0x473cab[0x1][_0x2a0b1a(0x2bf)],gChange[_0x45398e]=_0x473cab[0x1][_0x2a0b1a(0x245)];});}catch(_0x53d5f8){await handleError(_0x53d5f8,_0xef8a2(0x291),_0x45398e);}},_0x5eefb6=async _0x188374=>{const _0x13d81e=_0xdaad62;while(initCycle==_0x24ebed){if(!botPaused)try{const _0x1ca16e=await exchange[_0x13d81e(0x18a)](_0x188374);gTicker[noslash(_0x1ca16e[0x0][_0x13d81e(0x1c0)])]=_0x1ca16e[0x0][_0x13d81e(0x241)];}catch(_0x2c9762){if(!exchangeStopped)await handleError(_0x2c9762,_0x13d81e(0x2c1),_0x188374);}else await sleep(0x64);}},_0x593e19=async _0x3e252e=>{const _0x140742=_0xdaad62;while(initCycle==_0x24ebed){if(!botPaused)try{const _0xe56a14=await exchange['watchTradesForSymbols'](_0x3e252e),_0x311320=_0xe56a14['pop']();gTicker[noslash(_0x311320[_0x140742(0x1c0)])]=_0x311320[_0x140742(0x241)];}catch(_0x25ce8d){if(!exchangeStopped)await handleError(_0x25ce8d,_0x140742(0x229),_0x3e252e[_0x140742(0x1d9)]());}else await sleep(0x64);}},_0x427ead=async _0x5cd897=>{const _0x521401=_0xdaad62;while(initCycle==_0x24ebed){if(!botPaused){let _0x3d0c84;try{await sleep(0x3c*0x3e8);const _0xea13b9=await getTickers(_0x5cd897);Object['entries'](_0xea13b9)[_0x521401(0x239)](_0x250f32=>{const _0x461469=_0x521401;_0x3d0c84=_0x250f32[0x1][_0x461469(0x1c0)],gChange[_0x3d0c84]=_0x250f32[0x1][_0x461469(0x245)];});}catch(_0x5bb85f){if(!exchangeStopped)await handleError(_0x5bb85f,'fetchTickers()',_0x3d0c84);}}else await sleep(0x64);}},_0xb60c07=async _0x13c35f=>{const _0x93dd24=_0xdaad62;while(initCycle==_0x24ebed){if(!botPaused)try{const _0xef88c0=await exchange[_0x93dd24(0x2f4)](_0x13c35f);initCycle==_0x24ebed&&_0xef88c0['forEach'](_0x571ed0=>{updateNumberCoinsCcxt(_0x571ed0);});}catch(_0x10924a){if(!exchangeStopped)await handleError(_0x10924a,_0x93dd24(0x236));}else await sleep(0x64);}};_0x592704(_0x10f319),_0x427ead(_0x10f319),exchange['has'][_0xdaad62(0x305)]&&!(config[_0xdaad62(0x1f5)]==_0xdaad62(0x1a0)&&_0x10f319['length']>0xa)?_0x593e19(_0x10f319):_0x10f319[_0xdaad62(0x239)](_0x3930c6=>{_0x5eefb6(_0x3930c6);}),_0x10f319[_0xdaad62(0x239)](_0x15142d=>{_0xb60c07(_0x15142d);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x1b4792){const _0x422ead=_0x7676bb;let _0x572228={};try{if(config[_0x422ead(0x1f5)]!=_0x422ead(0x351))_0x572228=await exchange[_0x422ead(0x28a)](_0x1b4792);else for(const _0x440d78 of _0x1b4792){const _0x444375=await exchange[_0x422ead(0x18f)](_0x440d78);_0x572228[_0x440d78]=_0x444375;}return _0x572228;}catch(_0x1d5499){throw _0x1d5499;}}function setBlockTransactionDetection(_0x2d34c9){blockTransactionDetection=_0x2d34c9,logger['debug']('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x4f0aaf=0x0){const _0x338c9b=_0x7676bb;transactionDetectionOngoing=!![];try{const _0x5a9b7a=await getCoins(_0x4f0aaf),[_0x4263d5,_0x32617a]=_0x5a9b7a;let _0x5bc37e=[];currentCoins[_0x338c9b(0x239)](_0xd6eb87=>{const _0x173d18=_0x338c9b,_0x216df6=_0x4263d5[_0x173d18(0x1a2)](_0x503e4b=>_0x503e4b[_0x173d18(0x1cc)]==_0xd6eb87[_0x173d18(0x1cc)]);if(_0x216df6){if(_0xd6eb87[_0x173d18(0x1af)]!=_0x216df6[_0x173d18(0x1af)]){let _0x2ee987;if(_0xd6eb87[_0x173d18(0x1cc)]!=config[_0x173d18(0x1cd)]){const _0x272799=gTicker[noslash(_0xd6eb87[_0x173d18(0x1c0)])];_0x2ee987=_0xd6eb87[_0x173d18(0x261)]?0x1/_0x272799:_0x272799;}else _0x2ee987=0x1;_0x5bc37e['push']({'coin':_0xd6eb87[_0x173d18(0x1cc)],'symbol':_0xd6eb87[_0x173d18(0x1c0)],'price':_0x2ee987,'number':Number(formatResult(_0x216df6[_0x173d18(0x1af)]-_0xd6eb87[_0x173d18(0x1af)],0x8)),'basecoinvalue':_0x2ee987*(_0x216df6[_0x173d18(0x1af)]-_0xd6eb87[_0x173d18(0x1af)])});}}});if(_0x5bc37e[_0x338c9b(0x1ea)]>0x0&&!blockTransactionDetection){for(const _0x1a5999 of _0x5bc37e){if(config[_0x338c9b(0x275)]){logger['debug'](_0x338c9b(0x247)+_0x1a5999['basecoinvalue']+_0x338c9b(0x1e7)+lastFees[_0x338c9b(0x1bb)]);if(lastFees[_0x338c9b(0x1bb)]==0x0||Math[_0x338c9b(0x1b4)](_0x1a5999['basecoinvalue'])>lastFees[_0x338c9b(0x1bb)]*0x3){if(config[_0x338c9b(0x275)]==_0x338c9b(0x2ac)){delete _0x1a5999['symbol'],delete _0x1a5999[_0x338c9b(0x196)];let _0xdd177b=[],_0x294816=[...config[_0x338c9b(0x2f3)]]||[],_0x14fd17=config[_0x338c9b(0x2f3)];_0x294816[_0x338c9b(0x1c1)]((_0x6e1c09,_0x3271f8)=>_0x6e1c09[_0x338c9b(0x19f)]>_0x3271f8['date']?-0x1:_0x3271f8['date']>_0x6e1c09[_0x338c9b(0x19f)]?0x1:0x0);const _0x287515=getDate();if(_0x294816[0x0]){const _0x3e2306=fns[_0x338c9b(0x199)](_0x294816[0x0][_0x338c9b(0x19f)],_0x338c9b(0x290),new Date()),_0x479934=fns[_0x338c9b(0x199)](_0x287515,_0x338c9b(0x290),new Date());if(fns['isEqual'](_0x3e2306,_0x479934)){_0xdd177b=_0x294816[0x0][_0x338c9b(0x2f5)];const _0x5b8523=_0xdd177b[_0x338c9b(0x1a2)](_0x1f52b3=>_0x1f52b3[_0x338c9b(0x1cc)]==_0x1a5999['coin']);_0x5b8523?(_0x5b8523[_0x338c9b(0x1af)]+=_0x1a5999['number'],_0x5b8523[_0x338c9b(0x1af)]==0x0&&(_0xdd177b=_0xdd177b[_0x338c9b(0x338)](_0x37f737=>{const _0xc453f6=_0x338c9b;return _0x37f737[_0xc453f6(0x1cc)]!=_0x1a5999[_0xc453f6(0x1cc)];}))):_0xdd177b['push'](_0x1a5999);const _0x4124c7=_0x14fd17[_0x338c9b(0x1a2)](_0x5e0c08=>_0x5e0c08['date']==_0x287515);_0x4124c7['changes']=_0xdd177b;}else _0x14fd17[_0x338c9b(0x2c3)]({'date':_0x287515,'changes':[_0x1a5999]});}const _0x26eec8=_0x14fd17['find'](_0x5a9638=>_0x5a9638[_0x338c9b(0x19f)]==_0x287515);if(_0x26eec8){let _0x5e9f6f=!![];_0x26eec8[_0x338c9b(0x2f5)][_0x338c9b(0x239)](_0x569b8a=>{const _0x39132e=_0x338c9b;if(_0x569b8a[_0x39132e(0x1af)]!=0x0)_0x5e9f6f=![];}),_0x5e9f6f&&(_0x14fd17=_0x14fd17[_0x338c9b(0x338)](_0x2a6e6c=>{const _0x3f7bde=_0x338c9b;return _0x2a6e6c[_0x3f7bde(0x19f)]!=_0x287515;}));}let _0x1d5f85=dbConfig[_0x338c9b(0x30d)](_0x338c9b(0x2fc))[_0x338c9b(0x1a2)]({'botID':botID})['value']();_0x1d5f85&&(dbConfig[_0x338c9b(0x30d)]('bot')['find']({'botID':botID})[_0x338c9b(0x330)]({'liquidity':_0x14fd17})[_0x338c9b(0x337)](),config['liquidity']=_0x14fd17);logHistory(_0x338c9b(0x25f),_0x338c9b(0x29f)+Math['abs'](_0x1a5999[_0x338c9b(0x1af)])+'\x20'+_0x1a5999[_0x338c9b(0x1cc)]+'\x20'+(_0x1a5999[_0x338c9b(0x1af)]>0x0?_0x338c9b(0x28b):_0x338c9b(0x34e))+_0x338c9b(0x2ad)),proxyEmit(_0x338c9b(0x2a9),emittedConfiguration());const _0x3b4a9=getNormalizedPerformance();emitPerformance(_0x3b4a9),getStartingBalances(_0x3b4a9),logger[_0x338c9b(0x264)](_0x338c9b(0x30a));}else config['autoliquidity']==_0x338c9b(0x20c)&&(config[_0x338c9b(0x26c)]?(await storeHeadless({'headless':![]}),logHistory(_0x338c9b(0x25f),_0x338c9b(0x29f)+Math[_0x338c9b(0x1b4)](_0x1a5999['number'])+'\x20'+_0x1a5999[_0x338c9b(0x1cc)]+'\x20'+(_0x1a5999[_0x338c9b(0x1af)]>0x0?'added':_0x338c9b(0x34e))+_0x338c9b(0x20b))):logger[_0x338c9b(0x264)](_0x338c9b(0x29f)+Math[_0x338c9b(0x1b4)](_0x1a5999[_0x338c9b(0x1af)])+'\x20'+_0x1a5999[_0x338c9b(0x1cc)]+'\x20'+(_0x1a5999[_0x338c9b(0x1af)]>0x0?'added':_0x338c9b(0x34e))+'\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode'));}else logger[_0x338c9b(0x264)]('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0x338c9b(0x1b4)](_0x1a5999[_0x338c9b(0x1af)])+'\x20'+_0x1a5999[_0x338c9b(0x1cc)]+'\x20'+(_0x1a5999[_0x338c9b(0x1af)]>0x0?_0x338c9b(0x28b):_0x338c9b(0x34e)));}else logger[_0x338c9b(0x264)](_0x338c9b(0x29f)+Math[_0x338c9b(0x1b4)](_0x1a5999[_0x338c9b(0x1af)])+'\x20'+_0x1a5999[_0x338c9b(0x1cc)]+'\x20'+(_0x1a5999[_0x338c9b(0x1af)]>0x0?_0x338c9b(0x28b):_0x338c9b(0x34e))+_0x338c9b(0x2bb));}currentCoins=_0x4263d5,currentCoinsAll=_0x32617a;}}catch(_0x574fab){if(!exchangeStopped)await handleError(_0x574fab,_0x338c9b(0x295));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x283dab=_0x7676bb;try{markets=await exchange[_0x283dab(0x2a7)](!![]),allSymbols=[],Object[_0x283dab(0x225)](markets)['forEach'](_0x470e41=>{const _0x58195a=_0x283dab;_0x470e41[0x1]['active']&&_0x470e41[0x1]['spot']&&allSymbols[_0x58195a(0x2c3)](_0x470e41[0x0]);});}catch(_0x5297f6){markets?logger[_0x283dab(0x264)](_0x283dab(0x349)+_0x5297f6[_0x283dab(0x1d9)]()):(loading[_0x283dab(0x31f)]=!![],_0x5297f6['toString']()[_0x283dab(0x19b)]()[_0x283dab(0x32c)](_0x283dab(0x273))||_0x5297f6[_0x283dab(0x1d9)]()[_0x283dab(0x19b)]()[_0x283dab(0x32c)]('request-time')?(logHistory(_0x283dab(0x350),_0x283dab(0x320)),loading['error']=_0x283dab(0x25a)):handleErrorNoStop(_0x5297f6,_0x283dab(0x1c3),!![]),logHistory('error',_0x283dab(0x18d)),logHistory(_0x283dab(0x350),_0x283dab(0x348)+loadCoinsRetryInterval/0xea60+_0x283dab(0x27e)),logger[_0x283dab(0x264)](_0x283dab(0x31d),_0x5297f6),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x1b1b03){const _0x507987=_0x7676bb;let _0x38b19f=[];return _0x1b1b03[_0x507987(0x239)](_0x2c92ca=>{const _0x37c8dc=_0x507987;!allSymbols[_0x37c8dc(0x32c)](_0x2c92ca)?(logHistory(_0x37c8dc(0x350),_0x37c8dc(0x2e3)+_0x2c92ca+_0x37c8dc(0x1cf)),loading[_0x37c8dc(0x22b)]=!![],emitLoadingProgress()):_0x38b19f[_0x37c8dc(0x2c3)](_0x2c92ca);}),_0x38b19f;}async function initclient(){const _0x299068=_0x7676bb;proxyEmit(_0x299068(0x2a9),emittedConfiguration()),proxyEmit(_0x299068(0x1fc),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x299068(0x31c),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4d811e=getNormalizedPerformance();emitPerformance(_0x4d811e),getStartingBalances(_0x4d811e);}async function toggleBotMode(){const _0x254ff4=_0x7676bb;let _0x362dd8=dbConfig[_0x254ff4(0x30d)](_0x254ff4(0x2fc))['find']({'botID':botID})[_0x254ff4(0x224)]();if(_0x362dd8){const _0x2108e5=!_0x362dd8[_0x254ff4(0x26c)];dbConfig[_0x254ff4(0x30d)]('bot')['find']({'botID':botID})[_0x254ff4(0x330)]({'headless':_0x2108e5})[_0x254ff4(0x337)](),config[_0x254ff4(0x26c)]=_0x2108e5,proxyEmit(_0x254ff4(0x2a9),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x28aa65=_0x7676bb;process[_0x28aa65(0x336)]({'updatebotmanager':!![]},_0x2edfc1=>{}),logger[_0x28aa65(0x264)](_0x28aa65(0x21e)+config[_0x28aa65(0x26c)]);}async function loadCoins(_0x4383eb){const _0x103ec9=_0x7676bb;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x517819,_0x404982=0x0,_0x329a7c=0x0;_0x4383eb[_0x103ec9(0x239)](_0x5507d4=>{const _0x4cc9a6=_0x103ec9;loading[_0x4cc9a6(0x2a4)][_0x4cc9a6(0x2c3)](_0x5507d4);}),loadingCanceled=![];let _0x551548=![];while(_0x517819!=_0x4383eb[_0x103ec9(0x1ea)]+maxLoadingProgress){_0x517819=loadingProgress,_0x4383eb[_0x103ec9(0x239)](_0xef9c2c=>{const _0x309ecf=_0x103ec9;if(gTicker[noslash(_0xef9c2c)]){loading[_0x309ecf(0x2a4)]=loading[_0x309ecf(0x2a4)]['filter'](_0x241bc0=>_0x241bc0!=_0xef9c2c);if(!watchedSymbols['includes'](_0xef9c2c))watchedSymbols[_0x309ecf(0x2c3)](_0xef9c2c);_0x517819++;}}),loading[_0x103ec9(0x315)]=Math['round'](_0x517819/(_0x4383eb[_0x103ec9(0x1ea)]+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x329a7c>0x1e*0x5&&(loading[_0x103ec9(0x22b)]=!![],emitLoadingProgress()),_0x329a7c>0x78*0x5&&!_0x551548&&(_0x551548=!![],logHistory(_0x103ec9(0x350),_0x103ec9(0x343)+loading[_0x103ec9(0x2a4)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x103ec9(0x350),_0x103ec9(0x348)+loadCoinsRetryInterval/0xea60+_0x103ec9(0x27e)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x103ec9(0x31f)]=!![],emitLoadingProgress();break;}else _0x404982!=loading[_0x103ec9(0x315)]&&(_0x404982=loading[_0x103ec9(0x315)],emitLoadingProgress()),_0x329a7c++,await sleep(0xc8);}_0x517819==_0x4383eb[_0x103ec9(0x1ea)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x103ec9(0x336)]({'status':_0x103ec9(0x24d),'live':_0x103ec9(0x2b7)},_0x5a4da2=>{}),_0x551548&&logHistory(_0x103ec9(0x25f),_0x103ec9(0x22e)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){proxyEmit('configuration',{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x2b6ee5=_0x7676bb;proxyEmit(_0x2b6ee5(0x230),loading);}async function getFiat(){const _0x314614=_0x7676bb;let _0x241509=gTicker[stablecoins[_0x314614(0x32e)][_0x314614(0x1cc)]],_0x5d2b93=gTicker[stablecoins[_0x314614(0x2c4)]['coin']];return{'eur':Number(_0x241509),'usd':Number(_0x5d2b93)};}function capitalize(_0x5f164d){const _0x4dc7be=_0x7676bb;return _0x5f164d[_0x4dc7be(0x2ea)](0x0,0x1)[_0x4dc7be(0x234)]()+_0x5f164d['substring'](0x1);}function supportedExchanges(){const _0x3463f8=_0x7676bb,_0x45dd94=['ws',_0x3463f8(0x28a),_0x3463f8(0x18f),_0x3463f8(0x18a),_0x3463f8(0x2f4),_0x3463f8(0x35a),_0x3463f8(0x1fd),_0x3463f8(0x1a6),_0x3463f8(0x2c2)];let _0x3d021e=[],_0x4e2448=[],_0x10eae6=ccxt[_0x3463f8(0x204)][_0x3463f8(0x1fc)];_0x10eae6[_0x3463f8(0x239)](_0x1091e2=>{try{const _0x5277fd=new ccxt['pro'][_0x1091e2]();_0x4e2448['push'](_0x5277fd);}catch(_0x20508f){}}),_0x4e2448[_0x3463f8(0x239)](_0x47dbce=>{const _0x2d9517=_0x3463f8;let _0x169d1f=0x0;_0x45dd94[_0x2d9517(0x239)](_0x35f922=>{const _0x2dcee4=_0x2d9517;_0x35f922 in _0x47dbce[_0x2dcee4(0x1a7)]&&_0x47dbce[_0x2dcee4(0x1a7)][_0x35f922]&&_0x169d1f++;}),_0x169d1f==_0x45dd94[_0x2d9517(0x1ea)]&&(!excludedExchanges[_0x2d9517(0x32c)](_0x47dbce['id'])&&_0x3d021e[_0x2d9517(0x2c3)](capitalize(_0x47dbce['id'])));});let _0xf3e6af=[];return _0x10eae6[_0x3463f8(0x239)](_0x4211e2=>{const _0x59f311=_0x3463f8;_0x4211e2=capitalize(_0x4211e2);if(!_0x3d021e[_0x59f311(0x32c)](_0x4211e2))_0xf3e6af[_0x59f311(0x2c3)](_0x4211e2);}),_0x3d021e;}function setStartDatePerformance(){const _0x3e31b1=_0x7676bb;if(config&&config['liquidity'][0x0][_0x3e31b1(0x2f5)][_0x3e31b1(0x1ea)]!=0x0){const _0x1ffad3=config[_0x3e31b1(0x2f3)][0x0][_0x3e31b1(0x2f5)];dbPerformance[_0x3e31b1(0x30d)]('data')[_0x3e31b1(0x1a2)]({'date':config[_0x3e31b1(0x29a)]})[_0x3e31b1(0x330)]({'coins':_0x1ffad3})['write']();}}function calculatePnL(_0x4a80a4,_0x103299,_0x4c04ba,_0x5ba61e,_0x8f5b4f,_0x4caf23){const _0xf08323=_0x7676bb;!_0x4a80a4[_0xf08323(0x32c)]('/'+config[_0xf08323(0x1cd)])&&(_0x4c04ba=_0x4c04ba=='buy'?_0xf08323(0x2b3):'buy');!_0x4caf23[_0x103299]&&(_0x4caf23[_0x103299]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x415f7d=0x0,_0x3687ad,_0x5d7d22;if(_0x4c04ba==_0xf08323(0x1e1))_0x5d7d22=_0x4caf23[_0x103299]['number']*_0x4caf23[_0x103299][_0xf08323(0x18c)]+_0x8f5b4f*_0x5ba61e,_0x4caf23[_0x103299][_0xf08323(0x1af)]+=_0x5ba61e,_0x4caf23[_0x103299][_0xf08323(0x18c)]=_0x4caf23[_0x103299][_0xf08323(0x1af)]!=0x0?_0x5d7d22/_0x4caf23[_0x103299]['number']:0x0,_0x4caf23[_0x103299]['buys']++;else _0x4c04ba=='sell'&&(_0x3687ad=Math[_0xf08323(0x2a8)](_0x4caf23[_0x103299][_0xf08323(0x1af)],_0x5ba61e),_0x415f7d=(_0x8f5b4f-_0x4caf23[_0x103299][_0xf08323(0x18c)])*_0x3687ad,_0x5d7d22=Math[_0xf08323(0x2bc)](_0x4caf23[_0x103299][_0xf08323(0x1af)]*_0x4caf23[_0x103299]['breakeven']-_0x3687ad*_0x4caf23[_0x103299][_0xf08323(0x18c)],0x0),_0x4caf23[_0x103299][_0xf08323(0x1af)]-=_0x3687ad,_0x4caf23[_0x103299]['breakeven']=_0x4caf23[_0x103299][_0xf08323(0x1af)]!=0x0?_0x5d7d22/_0x4caf23[_0x103299][_0xf08323(0x1af)]:0x0,_0x4caf23[_0x103299][_0xf08323(0x2fb)]+=_0x415f7d,_0x4caf23[_0x103299]['sells']++);return _0x415f7d;}async function generatePnL(){const _0x5eaf70=_0x7676bb;pnlGenerationNeeded=![],logger[_0x5eaf70(0x264)](_0x5eaf70(0x1d5));const _0x1823ae=dbLogs[_0x5eaf70(0x30d)]('logs')[_0x5eaf70(0x224)]();let _0x2f1809={},_0xb1045d=0x0,_0x109ef1=0x0,_0x120dc2=config['startdate'];const _0x193b41=fns[_0x5eaf70(0x199)](_0x120dc2,_0x5eaf70(0x290),new Date()),_0x5f42c9=new Date();let _0x4d1d33=0x0;for(let _0x2826b4=_0x193b41;!fns[_0x5eaf70(0x270)](_0x5f42c9,_0x2826b4);_0x2826b4=fns[_0x5eaf70(0x317)](_0x2826b4,0x1)){const _0x16bd26=fns[_0x5eaf70(0x1ee)](_0x2826b4,_0x5eaf70(0x290));while(_0xb1045d<_0x1823ae['length']){const _0x485676=new Date(_0x1823ae[_0xb1045d][_0x5eaf70(0x2ec)]);if(fns[_0x5eaf70(0x270)](_0x485676,_0x2826b4))_0xb1045d++;else{if(_0x1823ae[_0xb1045d][_0x5eaf70(0x2ec)]['includes'](_0x16bd26)){const _0x4079fc=_0x1823ae[_0xb1045d];if(_0x4079fc[_0x5eaf70(0x2fa)]===_0x5eaf70(0x268)&&(_0x4079fc[_0x5eaf70(0x212)][_0x5eaf70(0x32c)](_0x5eaf70(0x319))||_0x4079fc[_0x5eaf70(0x212)][_0x5eaf70(0x32c)](_0x5eaf70(0x1e4)))){const _0x207b5a=_0x4079fc[_0x5eaf70(0x212)][_0x5eaf70(0x244)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x207b5a){const [,_0x425ec5,_0x491d91,_0x45fca2,_0x256000]=_0x207b5a,_0x92d427=_0x425ec5[_0x5eaf70(0x32c)]('/'+config['basecoin'])?_0x425ec5[_0x5eaf70(0x313)]('/')[0x0]:_0x425ec5[_0x5eaf70(0x313)]('/')[0x1],_0xd04c8e=calculatePnL(_0x425ec5,_0x92d427,_0x491d91,parseFloat(_0x45fca2),parseFloat(_0x256000),_0x2f1809);_0x109ef1+=_0xd04c8e;}}_0xb1045d++;}else break;}}dbPerformance[_0x5eaf70(0x30d)]('data')[_0x5eaf70(0x1a2)]({'date':_0x16bd26})[_0x5eaf70(0x330)]({'pnl':_0x109ef1})[_0x5eaf70(0x337)]();}dbCoinResults[_0x5eaf70(0x1ae)](_0x5eaf70(0x1e0),_0x2f1809)[_0x5eaf70(0x337)](),logger['debug'](_0x5eaf70(0x1b7));const _0xea4a64=getNormalizedPerformance();emitPerformance(_0xea4a64);}async function updatePnL(_0x367d96){const _0x2b068c=_0x7676bb,{symbol:_0x4110be,coin:_0x13260f,amount:_0x33f563,price:_0x54e619,side:_0x3ba9a2,reverse:_0x1ef714}=_0x367d96;let _0x29109c=dbCoinResults['get']('coins')[_0x2b068c(0x224)]();const _0x4947c9=calculatePnL(_0x4110be,_0x13260f,_0x3ba9a2,_0x33f563,_0x54e619,_0x29109c);dbCoinResults[_0x2b068c(0x1ae)]('coins',_0x29109c)[_0x2b068c(0x337)]();const _0x227a1d=getTimeStamp()[_0x2b068c(0x313)]('\x20')[0x0];let _0x4cbd9d=dbPerformance[_0x2b068c(0x30d)](_0x2b068c(0x1b6))[_0x2b068c(0x1a2)]({'date':_0x227a1d})[_0x2b068c(0x224)]();_0x4cbd9d?(_0x4cbd9d[_0x2b068c(0x2d9)]+=_0x4947c9,dbPerformance[_0x2b068c(0x30d)](_0x2b068c(0x1b6))[_0x2b068c(0x1a2)]({'date':_0x227a1d})['assign'](_0x4cbd9d)[_0x2b068c(0x337)]()):await storePerformance();const _0x5e84e0=getNormalizedPerformance();emitPerformance(_0x5e84e0);}async function validate24hChanges(){const _0x19ca1d=_0x7676bb;for(const _0x55c20b of currentCoins){if(_0x55c20b['coin']!=config[_0x19ca1d(0x1cd)]){let _0x46ca72;_0x55c20b[_0x19ca1d(0x261)]?_0x46ca72=formatResult((0x1/(gChange[_0x55c20b[_0x19ca1d(0x1c0)]]/0x64+0x1)-0x1)*0x64,0x3):_0x46ca72=gChange[_0x55c20b[_0x19ca1d(0x1c0)]],_0x46ca72<config['change24h']&&(logHistory(_0x19ca1d(0x350),_0x55c20b[_0x19ca1d(0x1cc)]+_0x19ca1d(0x2f0)+_0x46ca72+'%'),logHistory(_0x19ca1d(0x350),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x19ca1d(0x350),_0x19ca1d(0x2ff)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x467ab2,_0x51a30a){const _0x3620fa=_0x7676bb;if(!_0x467ab2)return!![];const _0x3042c3=_0x51a30a['split']('.'),_0x27f923=_0x467ab2[_0x3620fa(0x313)]('.');for(var _0xa7e5cb=0x0;_0xa7e5cb<_0x27f923[_0x3620fa(0x1ea)];_0xa7e5cb++){const _0x127fd9=~~_0x27f923[_0xa7e5cb],_0x1246fe=~~_0x3042c3[_0xa7e5cb];if(_0x127fd9<_0x1246fe)return!![];if(_0x127fd9>_0x1246fe)return![];}return![];}async function oneTimeMigration(){const _0x59e4db=_0x7676bb;let _0x95aa84=dbLogs[_0x59e4db(0x30d)](_0x59e4db(0x20f))['value']();if(isOlderVersion(_0x95aa84,_0x59e4db(0x19c))){let _0x2adc57=[];const _0x1bba64=dbLogs['get']('logs')['value']();_0x1bba64[_0x59e4db(0x239)](_0x5d1d8f=>{const _0x441165=_0x59e4db;_0x2adc57[_0x441165(0x2c3)]({'time':_0x5d1d8f[_0x441165(0x2ec)],'type':_0x5d1d8f['type'],'event':_0x5d1d8f[_0x441165(0x212)]});}),dbLogs[_0x59e4db(0x30d)](_0x59e4db(0x1ad))[_0x59e4db(0x330)](_0x2adc57)[_0x59e4db(0x337)]();}let _0x209f62=dbConfig[_0x59e4db(0x30d)]('version')[_0x59e4db(0x224)]();if(isOlderVersion(_0x209f62,_0x59e4db(0x19c))){let _0x54ec2c=dbConfig[_0x59e4db(0x30d)](_0x59e4db(0x2fc))[_0x59e4db(0x1a2)]({'botID':botID})[_0x59e4db(0x224)]();if(_0x54ec2c){let _0x38a9d3=[];_0x54ec2c[_0x59e4db(0x29b)][_0x59e4db(0x239)](_0x306beb=>{const _0x32282e=_0x59e4db;_0x38a9d3['push']({'coin':_0x306beb[_0x32282e(0x1cc)],'number':_0x306beb[_0x32282e(0x283)],'price':_0x306beb[_0x32282e(0x228)]}),delete _0x306beb[_0x32282e(0x283)],delete _0x306beb[_0x32282e(0x228)];});if(_0x38a9d3['length']!==0x0)fs[_0x59e4db(0x1bd)](configbackuppath+(_0x59e4db(0x2a2)+botID+_0x59e4db(0x1f8)),JSON[_0x59e4db(0x33d)](_0x38a9d3,null,0x4),function(_0x2032a2){if(_0x2032a2){}});const _0x66abd8=(_0x1ffa61,_0xaa88d)=>{const _0x11ba98=_0x59e4db;let _0x4dd5cc=[];_0xaa88d[_0x11ba98(0x239)](_0x334c12=>{const _0x4b075e=_0x11ba98,_0x53efde=_0x1ffa61[_0x4b075e(0x1a2)](_0x50fdba=>_0x50fdba[_0x4b075e(0x1cc)]==_0x334c12[_0x4b075e(0x1cc)]);if(!_0x53efde)_0x4dd5cc[_0x4b075e(0x2c3)](_0x334c12);});let _0x126113=[];return _0x1ffa61['forEach'](_0x446105=>{const _0x267100=_0x11ba98,_0x1ff4f0=_0xaa88d['find'](_0x285acb=>_0x285acb[_0x267100(0x1cc)]==_0x446105[_0x267100(0x1cc)]);if(!_0x1ff4f0||_0x1ff4f0[_0x267100(0x1af)]==0x0&&_0x446105[_0x267100(0x1af)]!=0x0)_0x126113['push'](_0x446105);}),{'missingDay1':_0x4dd5cc,'notInDay2':_0x126113};},_0x1bd88e=dbPerformance[_0x59e4db(0x30d)](_0x59e4db(0x1b6))[_0x59e4db(0x202)]()['value']();if(_0x1bd88e['length']>0x1){const {missingDay1:_0x1a1894,notInDay2:_0x4b77e5}=_0x66abd8(_0x38a9d3,_0x1bd88e[0x1][_0x59e4db(0x1e0)]);_0x38a9d3=[..._0x38a9d3,..._0x1a1894],_0x4b77e5['forEach'](_0x518946=>{const _0x1a2126=_0x59e4db;let _0x356fb2=_0x38a9d3[_0x1a2126(0x217)](_0x577630=>_0x577630[_0x1a2126(0x1cc)]==_0x518946[_0x1a2126(0x1cc)]);_0x356fb2!=-0x1&&_0x38a9d3[_0x1a2126(0x346)](_0x356fb2,0x1);});}_0x38a9d3['sort']((_0x42056d,_0x38b66a)=>_0x42056d[_0x59e4db(0x1cc)]>_0x38b66a['coin']?0x1:_0x38b66a[_0x59e4db(0x1cc)]>_0x42056d['coin']?-0x1:0x0);let _0x492480=[{'date':_0x54ec2c[_0x59e4db(0x29a)],'changes':_0x38a9d3}];_0x1bd88e[_0x59e4db(0x1ea)]>0x2&&_0x1bd88e[_0x59e4db(0x239)]((_0x16a77c,_0xfc77cb)=>{const _0x57cf34=_0x59e4db;if(_0xfc77cb>0x0&&_0xfc77cb<_0x1bd88e[_0x57cf34(0x1ea)]-0x1){const {missingDay1:_0x3da151,notInDay2:_0x4ef73d}=_0x66abd8(_0x1bd88e[_0xfc77cb][_0x57cf34(0x1e0)],_0x1bd88e[_0xfc77cb+0x1][_0x57cf34(0x1e0)]);_0x38a9d3=[],(_0x3da151[_0x57cf34(0x1ea)]!=0x0||_0x4ef73d[_0x57cf34(0x1ea)]!=0x0)&&(_0x3da151[_0x57cf34(0x1ea)]!=0x0&&_0x38a9d3['push'](..._0x3da151),_0x4ef73d['length']!=0x0&&(_0x4ef73d[_0x57cf34(0x239)](_0x3e09d0=>{const _0x367e56=_0x57cf34;_0x3e09d0[_0x367e56(0x1af)]=-_0x3e09d0[_0x367e56(0x1af)];}),_0x38a9d3['push'](..._0x4ef73d)),_0x38a9d3[_0x57cf34(0x1c1)]((_0x214e8e,_0x59cf43)=>_0x214e8e[_0x57cf34(0x1cc)]>_0x59cf43[_0x57cf34(0x1cc)]?0x1:_0x59cf43['coin']>_0x214e8e[_0x57cf34(0x1cc)]?-0x1:0x0),_0x492480['push']({'date':_0x1bd88e[_0xfc77cb+0x1][_0x57cf34(0x19f)],'changes':_0x38a9d3}));}}),dbConfig[_0x59e4db(0x30d)](_0x59e4db(0x2fc))[_0x59e4db(0x1a2)]({'botID':botID})[_0x59e4db(0x330)]({..._0x54ec2c,'liquidity':_0x492480})[_0x59e4db(0x337)]();}}if(isOlderVersion(_0x209f62,_0x59e4db(0x294))){let _0x15db4f=dbConfig['get'](_0x59e4db(0x2fc))[_0x59e4db(0x1a2)]({'botID':botID})[_0x59e4db(0x224)]();if(_0x15db4f){const _0x3d1bb3=_0x15db4f[_0x59e4db(0x1f5)],_0x3c622c=_0x3d1bb3?capitalize(_0x3d1bb3):_0x59e4db(0x32b);dbConfig[_0x59e4db(0x30d)](_0x59e4db(0x2fc))['find']({'botID':botID})['assign']({'exchange':_0x3c622c})[_0x59e4db(0x337)]();}}if(isOlderVersion(_0x209f62,'2.6.22')){let _0x2cbd8f=dbConfig[_0x59e4db(0x30d)](_0x59e4db(0x2fc))[_0x59e4db(0x1a2)]({'botID':botID})[_0x59e4db(0x224)]();if(_0x2cbd8f){const _0x5b3e18=_0x2cbd8f[_0x59e4db(0x21a)],_0x1d07fd=_0x5b3e18?'marketcap':![];dbConfig[_0x59e4db(0x30d)](_0x59e4db(0x2fc))[_0x59e4db(0x1a2)]({'botID':botID})[_0x59e4db(0x330)]({'marketcapEnabled':_0x1d07fd})[_0x59e4db(0x337)]();}}if(isOlderVersion(_0x209f62,_0x59e4db(0x221))){let _0x581e10=dbConfig[_0x59e4db(0x30d)](_0x59e4db(0x2fc))[_0x59e4db(0x1a2)]({'botID':botID})['value']();if(_0x581e10){const _0x383378=_0x581e10['autoliquidity'],_0x429e33=_0x383378?_0x59e4db(0x2ac):![];dbConfig[_0x59e4db(0x30d)]('bot')['find']({'botID':botID})[_0x59e4db(0x330)]({'autoliquidity':_0x429e33})['write']();}}let _0x77aa18=dbPerformance['get']('version')['value']();isOlderVersion(_0x77aa18,_0x59e4db(0x19c))&&setStartDatePerformance();let _0x3555c2=dbCoinResults[_0x59e4db(0x30d)](_0x59e4db(0x20f))['value']();if(isOlderVersion(_0x3555c2,_0x59e4db(0x31b))){let _0x4bf1c4=dbCoinResults[_0x59e4db(0x30d)]('coins')[_0x59e4db(0x224)]();if(_0x4bf1c4[_0x59e4db(0x1ea)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x23e763=_0x7676bb;dbConfig[_0x23e763(0x1ae)](_0x23e763(0x20f),serverversion)[_0x23e763(0x337)](),dbPerformance[_0x23e763(0x1ae)](_0x23e763(0x20f),serverversion)['write'](),dbLogs[_0x23e763(0x1ae)](_0x23e763(0x20f),serverversion)[_0x23e763(0x337)](),dbCoinResults[_0x23e763(0x1ae)](_0x23e763(0x20f),serverversion)[_0x23e763(0x337)]();}function getConfiguration(_0x41bfc8){const _0x56cf81=_0x7676bb;let _0x466c52=dbConfig[_0x56cf81(0x30d)](_0x56cf81(0x2fc))[_0x56cf81(0x1a2)]({'botID':_0x41bfc8})[_0x56cf81(0x224)]();if(_0x466c52){let _0x4c92ac=![];typeof _0x466c52[_0x56cf81(0x1d1)]==_0x56cf81(0x23a)&&(_0x466c52={..._0x466c52,'threshold':Number(_0x466c52[_0x56cf81(0x1d1)])},_0x4c92ac=!![]),_0x466c52['change24h']==undefined&&(_0x466c52={..._0x466c52,'change24h':-0x14},_0x4c92ac=!![]),_0x466c52[_0x56cf81(0x2cb)]==undefined&&(_0x466c52={..._0x466c52,'fiat':'USD'},_0x4c92ac=!![]),_0x466c52[_0x56cf81(0x20e)]==undefined&&(_0x466c52={..._0x466c52,'onepagemode':settings[_0x56cf81(0x20e)]},_0x4c92ac=!![]),_0x466c52[_0x56cf81(0x29e)]==undefined&&(_0x466c52={..._0x466c52,'colorscheme':_0x56cf81(0x220)},_0x4c92ac=!![]),_0x466c52[_0x56cf81(0x275)]==undefined&&(_0x466c52={..._0x466c52,'autoliquidity':_0x56cf81(0x2ac)},_0x4c92ac=!![]),_0x466c52[_0x56cf81(0x2c5)]==undefined&&(_0x466c52={..._0x466c52,'marketcapApi':settings[_0x56cf81(0x2c5)]?!![]:![]},_0x4c92ac=!![]),_0x466c52[_0x56cf81(0x21a)]==undefined&&(_0x466c52={..._0x466c52,'marketcapEnabled':![]},_0x4c92ac=!![]),_0x466c52['sandbox']==undefined&&(_0x466c52={..._0x466c52,'sandbox':![]},_0x4c92ac=!![]),_0x4c92ac&&(_0x466c52={'botID':_0x466c52[_0x56cf81(0x32a)],'exchange':_0x466c52[_0x56cf81(0x1f5)],'apiKey':_0x466c52[_0x56cf81(0x356)],'apiSecret':_0x466c52['apiSecret'],'apiPassword':_0x466c52['apiPassword'],'basecoin':_0x466c52[_0x56cf81(0x1cd)],'botname':_0x466c52[_0x56cf81(0x263)],'showname':_0x466c52[_0x56cf81(0x23b)],'threshold':_0x466c52[_0x56cf81(0x1d1)],'ordertype':_0x466c52[_0x56cf81(0x316)],'timeout':_0x466c52['timeout'],'fiat':_0x466c52[_0x56cf81(0x2cb)],'startdate':_0x466c52[_0x56cf81(0x29a)],'recreate':_0x466c52['recreate'],'timeshift':_0x466c52[_0x56cf81(0x207)],'onepagemode':_0x466c52[_0x56cf81(0x20e)],'headless':_0x466c52['headless'],'cooldown':_0x466c52[_0x56cf81(0x21b)],'change24h':_0x466c52[_0x56cf81(0x189)],'emojibuy':_0x466c52['emojibuy'],'emojisell':_0x466c52[_0x56cf81(0x2d0)],'colorscheme':_0x466c52[_0x56cf81(0x29e)],'marketcapApi':_0x466c52[_0x56cf81(0x2c5)],'marketcapEnabled':_0x466c52[_0x56cf81(0x21a)],'sandbox':_0x466c52[_0x56cf81(0x1c6)],'portfolio':_0x466c52[_0x56cf81(0x29b)],'autoliquidity':_0x466c52['autoliquidity'],'liquidity':_0x466c52['liquidity'],'openOrders':_0x466c52[_0x56cf81(0x1d8)]},dbConfig['get'](_0x56cf81(0x2fc))[_0x56cf81(0x282)]()[_0x56cf81(0x337)](),dbConfig[_0x56cf81(0x30d)](_0x56cf81(0x2fc))[_0x56cf81(0x2c3)](_0x466c52)['write']());}else _0x466c52={'botID':_0x41bfc8,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x41bfc8,'showname':![],'threshold':0x3,'ordertype':_0x56cf81(0x192),'timeout':0x14,'fiat':_0x56cf81(0x278),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x56cf81(0x20e)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x56cf81(0x220),'marketcapApi':settings[_0x56cf81(0x2c5)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x56cf81(0x2ac),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x466c52;}function emittedConfiguration(){const _0x19b29d=_0x7676bb;let _0x50a265;if(config[_0x19b29d(0x356)]=='')_0x50a265={...config,'configstate':_0x19b29d(0x2a6)};else config[_0x19b29d(0x356)]==_0x19b29d(0x22f)?_0x50a265={...config,'configstate':_0x19b29d(0x1f9)}:(_0x50a265={...config,'apiKey':_0x19b29d(0x27a),'apiSecret':_0x19b29d(0x27a)},config['apiPassword']&&(_0x50a265[_0x19b29d(0x285)]='************'));return _0x50a265['enableFiatToggle']=enableFiatToggle,_0x50a265;}function getSettings(){const _0x1a534c=_0x7676bb;return dbSettings[_0x1a534c(0x30d)]('settings')['value']();}function getSecure(){const _0x1999f1=_0x7676bb;return dbSecure['get'](_0x1999f1(0x2b2))['value']()||{};}function updateTimeshift(_0x3c3789){const _0x4912db=_0x7676bb;let _0x14d3af=dbConfig[_0x4912db(0x30d)](_0x4912db(0x2fc))['find']({'botID':botID})['value']();_0x14d3af&&dbConfig['get']('bot')['find']({'botID':botID})[_0x4912db(0x330)]({'timeshift':_0x3c3789})[_0x4912db(0x337)](),config[_0x4912db(0x207)]=_0x3c3789,proxyEmit(_0x4912db(0x2a9),emittedConfiguration());}function updateOnepagemode(_0x378999){const _0x7c0e67=_0x7676bb;let _0x1d579f=dbConfig[_0x7c0e67(0x30d)](_0x7c0e67(0x2fc))['find']({'botID':botID})['value']();_0x1d579f&&dbConfig['get'](_0x7c0e67(0x2fc))[_0x7c0e67(0x1a2)]({'botID':botID})[_0x7c0e67(0x330)]({'onepagemode':_0x378999})[_0x7c0e67(0x337)](),config[_0x7c0e67(0x20e)]=_0x378999,proxyEmit(_0x7c0e67(0x2a9),emittedConfiguration());}function updateMarketcapApi(_0x4614dd){const _0x543c33=_0x7676bb,_0x51db70=_0x4614dd?!![]:![];let _0x134431=dbConfig[_0x543c33(0x30d)](_0x543c33(0x2fc))['find']({'botID':botID})['value']();_0x134431&&dbConfig['get'](_0x543c33(0x2fc))[_0x543c33(0x1a2)]({'botID':botID})[_0x543c33(0x330)]({'marketcapApi':_0x51db70})[_0x543c33(0x337)](),config[_0x543c33(0x2c5)]=_0x51db70,getMarketCap(),proxyEmit(_0x543c33(0x2a9),emittedConfiguration());}async function storeConfiguration(_0x110b3e){const _0x4625cc=_0x7676bb;logger[_0x4625cc(0x264)](_0x4625cc(0x233));_0x110b3e['configstate']&&delete _0x110b3e[_0x4625cc(0x2c0)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x223e37=![],_0x2da97f=![],_0x1ccbd7=[];_0x110b3e[_0x4625cc(0x29b)][_0x4625cc(0x239)](_0xf3b144=>{const _0x4df868=_0x4625cc;if(!_0xf3b144[_0x4df868(0x2ab)]&&_0xf3b144['coin']!=_0x110b3e['basecoin'])_0x1ccbd7[_0x4df868(0x2c3)](_0xf3b144[_0x4df868(0x1c0)]);}),_0x1ccbd7['forEach'](_0xe362e3=>{const _0x5aeeb7=_0x4625cc,_0x569654=currentCoins[_0x5aeeb7(0x1a2)](_0x460f52=>_0x460f52[_0x5aeeb7(0x1c0)]==_0xe362e3);!_0x569654&&(_0x223e37=!![]);}),currentCoins[_0x4625cc(0x239)](_0x32dcc6=>{const _0x11e883=_0x4625cc;if(_0x32dcc6[_0x11e883(0x1cc)]!=config[_0x11e883(0x1cd)]){const _0x50b2a5=_0x1ccbd7['find'](_0x2c3da0=>_0x2c3da0==_0x32dcc6[_0x11e883(0x1c0)]);!_0x50b2a5&&(_0x223e37=!![]);}}),_0x110b3e[_0x4625cc(0x29b)][_0x4625cc(0x239)](_0x1644e7=>{const _0x260ed3=_0x4625cc,_0x19c246=config[_0x260ed3(0x29b)]['find'](_0x47c6c7=>_0x47c6c7[_0x260ed3(0x1cc)]==_0x1644e7[_0x260ed3(0x1cc)]);if(_0x19c246&&_0x1644e7[_0x260ed3(0x2a0)]!=_0x19c246[_0x260ed3(0x2a0)])_0x2da97f=!![];});let _0x355ffd=dbConfig[_0x4625cc(0x30d)](_0x4625cc(0x2fc))[_0x4625cc(0x1a2)]({'botID':botID})[_0x4625cc(0x224)]();_0x110b3e={..._0x110b3e,'apiKey':decryptRSA(secure['privateKey'],_0x110b3e[_0x4625cc(0x356)]),'apiSecret':decryptRSA(secure[_0x4625cc(0x28e)],_0x110b3e[_0x4625cc(0x34d)])};_0x110b3e[_0x4625cc(0x285)]&&(_0x110b3e[_0x4625cc(0x285)]=decryptRSA(secure[_0x4625cc(0x28e)],_0x110b3e['apiPassword']));let _0x5035d6=![];if(_0x355ffd){_0x110b3e[_0x4625cc(0x356)]==_0x4625cc(0x27a)?_0x110b3e[_0x4625cc(0x356)]=config[_0x4625cc(0x356)]:_0x5035d6=!![];_0x110b3e[_0x4625cc(0x34d)]==_0x4625cc(0x27a)?_0x110b3e[_0x4625cc(0x34d)]=config[_0x4625cc(0x34d)]:_0x5035d6=!![];if(_0x110b3e[_0x4625cc(0x285)]==_0x4625cc(0x27a))_0x110b3e['apiPassword']=config['apiPassword'];else{if(_0x110b3e[_0x4625cc(0x285)])_0x5035d6=!![];}dbConfig[_0x4625cc(0x30d)](_0x4625cc(0x2fc))[_0x4625cc(0x1a2)]({'botID':botID})[_0x4625cc(0x330)](_0x110b3e)[_0x4625cc(0x337)]();}else dbConfig['get'](_0x4625cc(0x2fc))['push'](_0x110b3e)[_0x4625cc(0x337)](),_0x5035d6=!![],process[_0x4625cc(0x336)]({'status':_0x4625cc(0x24d),'live':_0x4625cc(0x2b7)},_0x44316c=>{});process[_0x4625cc(0x336)]({'botname':_0x110b3e[_0x4625cc(0x263)]},_0x249540=>{}),config={..._0x110b3e},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x5035d6)await reset(!![]);else _0x223e37||_0x2da97f?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x1deb92){const _0x11b611=_0x7676bb,_0x23a36f={...config,'headless':_0x1deb92[_0x11b611(0x26c)]};let _0x140bda=dbConfig['get'](_0x11b611(0x2fc))[_0x11b611(0x1a2)]({'botID':botID})[_0x11b611(0x224)]();_0x140bda&&dbConfig[_0x11b611(0x30d)]('bot')[_0x11b611(0x1a2)]({'botID':botID})[_0x11b611(0x330)](_0x23a36f)[_0x11b611(0x337)](),config={..._0x23a36f},updateBotManager(),proxyEmit(_0x11b611(0x2a9),emittedConfiguration());}async function storeFiat(_0x100b13){const _0x14dad1=_0x7676bb,_0x39b6b5={...config,'fiat':_0x100b13};let _0x2cdeb6=dbConfig[_0x14dad1(0x30d)]('bot')[_0x14dad1(0x1a2)]({'botID':botID})[_0x14dad1(0x224)]();_0x2cdeb6&&dbConfig[_0x14dad1(0x30d)](_0x14dad1(0x2fc))[_0x14dad1(0x1a2)]({'botID':botID})['assign'](_0x39b6b5)[_0x14dad1(0x337)](),config={..._0x39b6b5},proxyEmit(_0x14dad1(0x2a9),emittedConfiguration());}function resetHistory(){const _0x116bd5=_0x7676bb;logger['full'](_0x116bd5(0x26a));try{if(fs['existsSync'](path[_0x116bd5(0x31a)](configpath,_0x116bd5(0x2da)+botID+_0x116bd5(0x193))))fs['unlinkSync'](path['join'](configpath,'bot-'+botID+'-events.json'));if(fs[_0x116bd5(0x1f2)](path[_0x116bd5(0x31a)](configpath,_0x116bd5(0x2da)+botID+_0x116bd5(0x194))))fs[_0x116bd5(0x352)](path[_0x116bd5(0x31a)](configpath,_0x116bd5(0x2da)+botID+_0x116bd5(0x194)));if(fs[_0x116bd5(0x1f2)](path[_0x116bd5(0x31a)](configpath,_0x116bd5(0x2da)+botID+_0x116bd5(0x232))))fs[_0x116bd5(0x352)](path[_0x116bd5(0x31a)](configpath,_0x116bd5(0x2da)+botID+_0x116bd5(0x232)));}catch(_0x45f2d6){if(_0x45f2d6)logger[_0x116bd5(0x246)](_0x116bd5(0x201),_0x45f2d6);}const _0xd45385=getDate();let _0x28607b=[];currentCoins[_0x116bd5(0x239)](_0x3bfbf0=>{const _0x1febf4=_0x116bd5;_0x28607b[_0x1febf4(0x2c3)]({'coin':_0x3bfbf0[_0x1febf4(0x1cc)],'number':_0x3bfbf0[_0x1febf4(0x1af)],'price':_0x3bfbf0[_0x1febf4(0x2bf)]});});let _0x4d738b=dbConfig[_0x116bd5(0x30d)](_0x116bd5(0x2fc))['find']({'botID':botID})['value']();_0x4d738b&&(dbConfig['get'](_0x116bd5(0x2fc))[_0x116bd5(0x1a2)]({'botID':botID})[_0x116bd5(0x330)]({'liquidity':[{'date':_0xd45385,'changes':_0x28607b}]})[_0x116bd5(0x337)](),config[_0x116bd5(0x2f3)]=[]),restartBot(!![]);}function noslash(_0x302d43){const _0x534f16=_0x7676bb;return _0x302d43[_0x534f16(0x2c9)]('/','');}function updateHighestFee(_0x103110){const _0x575443=_0x7676bb;if(_0x103110[_0x575443(0x261)]){let _0x1a22eb={'filled':_0x103110['filled']*_0x103110[_0x575443(0x241)],'amount':_0x103110[_0x575443(0x314)]*_0x103110['price'],'side':_0x103110[_0x575443(0x33e)]=='sell'?_0x575443(0x1e1):_0x575443(0x2b3),'price':0x1/_0x103110[_0x575443(0x241)]};_0x103110={..._0x103110,..._0x1a22eb};}const _0x1e6938=defaultFee*_0x103110[_0x575443(0x314)]*_0x103110[_0x575443(0x241)];lastFees[_0x575443(0x188)]['length']===0x14&&lastFees[_0x575443(0x188)]['shift'](),lastFees[_0x575443(0x188)][_0x575443(0x2c3)](_0x1e6938),lastFees[_0x575443(0x1bb)]=Math[_0x575443(0x2bc)](...lastFees[_0x575443(0x188)]);}async function updateNumberCoinsCcxt(_0x243758){const _0x3a0517=_0x7676bb;logger[_0x3a0517(0x264)](_0x3a0517(0x2e9)+_0x243758[_0x3a0517(0x1c0)]+_0x3a0517(0x19d)+_0x243758[_0x3a0517(0x238)]+'\x20|\x20'+_0x243758[_0x3a0517(0x314)]+_0x3a0517(0x2f8)+_0x243758[_0x3a0517(0x1c5)]+'\x20|\x20'+_0x243758['id']);let _0x2f7031=_0x243758['status'],_0x34d792=![];currentCoins['forEach'](_0x233760=>{const _0x362154=_0x3a0517;_0x233760[_0x362154(0x1c0)]==_0x243758['symbol']&&(_0x34d792=!![]);});if(!_0x34d792)return;const _0x41be98=currentCoins[_0x3a0517(0x1a2)](_0x47e37b=>_0x47e37b[_0x3a0517(0x1c0)]==_0x243758['symbol']),_0x3f5104=_0x41be98['coin'],_0x33c11b=_0x3056ee=>{const _0x15cd00=_0x3a0517,_0x3021c3=currentCoins[_0x15cd00(0x1a2)](_0x381594=>_0x381594['symbol']==_0x243758[_0x15cd00(0x1c0)]);if(_0x3021c3)_0x3021c3[_0x15cd00(0x288)]=_0x3056ee;};let _0x15cc2c=![];for(const _0x111e12 of lastOrders){const _0x4130a2=0x64,_0x482dad=0x1388;let _0x3ea6f5=0x0;while(!_0x111e12[_0x3a0517(0x1f0)]&&_0x3ea6f5*_0x4130a2<_0x482dad){_0x3ea6f5++,await sleep(_0x4130a2);}if(_0x3ea6f5>0x0)logger['debug'](_0x3a0517(0x185)+_0x3ea6f5*_0x4130a2/0x3e8+_0x3a0517(0x19e));_0x111e12[_0x3a0517(0x1f0)]==_0x243758['id']&&(_0x15cc2c=!![]);}if(_0x2f7031=='open'){_0x33c11b(_0x3a0517(0x1ab));if(_0x243758[_0x3a0517(0x314)]>0x0&&_0x243758[_0x3a0517(0x314)]<_0x243758[_0x3a0517(0x1c5)]){if(_0x15cc2c){setBlockTransactionDetection(!![]),logger[_0x3a0517(0x264)](_0x3a0517(0x354)+_0x243758[_0x3a0517(0x314)]+')\x20known\x20order:\x20'+_0x243758['id']);const _0x1384fc=await getCoins(balanceUpdateDelay,undefined,undefined,_0x3f5104);[currentCoins,currentCoinsAll]=_0x1384fc,setBlockTransactionDetection(![]);}else logger[_0x3a0517(0x264)](_0x3a0517(0x354)+_0x243758['filled']+_0x3a0517(0x227)+_0x243758['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x2f7031==_0x3a0517(0x182)){_0x33c11b(_0x3a0517(0x182)),lastOrders=lastOrders[_0x3a0517(0x338)](_0x2b3e50=>_0x2b3e50[_0x3a0517(0x1c0)]!=_0x243758[_0x3a0517(0x1c0)]);const _0x40305b=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x40305b,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x2f7031==_0x3a0517(0x279)){if(lastOrders)for(const _0x570b1d of lastOrders){if(_0x570b1d['orderId']==_0x243758['id']){logger['debug'](_0x3a0517(0x2aa)+_0x243758['id']),_0x15cc2c=!![];if(_0x570b1d[_0x3a0517(0x314)]==0x0){setBlockTransactionDetection(!![]),logger[_0x3a0517(0x264)](_0x3a0517(0x2ee)+_0x243758['id']);if(_0x243758[_0x3a0517(0x2af)])_0x570b1d[_0x3a0517(0x241)]=_0x243758[_0x3a0517(0x2af)];else{if(_0x243758['price'])_0x570b1d[_0x3a0517(0x241)]=_0x243758[_0x3a0517(0x241)];else{}}_0x570b1d[_0x3a0517(0x314)]=_0x243758['filled'],updateHighestFee(_0x570b1d);const _0x5444a3=await getCoins(balanceUpdateDelay,undefined,undefined,_0x3f5104);[currentCoins,currentCoinsAll]=_0x5444a3,setBlockTransactionDetection(![]),await validateOrders(),_0x33c11b('filled'),_0x570b1d['fee']={'currency':_0x243758[_0x3a0517(0x1bf)]?_0x243758[_0x3a0517(0x1bf)][_0x3a0517(0x2cc)]:null,'cost':_0x243758['fee']?_0x243758['fee'][_0x3a0517(0x34a)]:0x0},await updatePnL(_0x570b1d);}}}!_0x15cc2c&&(logger[_0x3a0517(0x264)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x243758['id']),_0x33c11b(_0x3a0517(0x314)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x46f8b6=JSON[_0x3a0517(0x199)](lastBalances[_0x3a0517(0x29b)]);const _0x405b38=_0x46f8b6['find'](_0x1dbaec=>_0x1dbaec[_0x3a0517(0x1c0)]==_0x243758[_0x3a0517(0x1c0)]);if(_0x405b38){if(_0x2f7031=='open')_0x405b38[_0x3a0517(0x288)]=_0x405b38[_0x3a0517(0x288)]==_0x3a0517(0x314)?_0x3a0517(0x314):'open';else{if(_0x2f7031=='canceled')_0x405b38[_0x3a0517(0x288)]=_0x405b38[_0x3a0517(0x288)]==_0x3a0517(0x314)?_0x3a0517(0x314):_0x3a0517(0x182);else _0x2f7031==_0x3a0517(0x279)&&(_0x405b38[_0x3a0517(0x288)]=_0x3a0517(0x314));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x46f8b6)},proxyEmit(_0x3a0517(0x31c),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x574c87=![];currentCoins['forEach'](_0xe9eec3=>{const _0x927433=_0x2bb6;_0x574c87=allOpenOrders['find'](_0x5218d=>_0x5218d[_0x927433(0x1c0)]==_0xe9eec3[_0x927433(0x1c0)]),_0xe9eec3['orderstatus']=_0x574c87?_0x927433(0x1ab):_0x927433(0x1ac);});}async function fetchBalance(_0x1ee601=!![]){const _0x1a1631=_0x7676bb;let _0x2d488e,_0x12576a,_0x322245,_0x4d31ce=0x0;while(!_0x12576a&&_0x4d31ce<maxRetries){try{return _0x2d488e=await exchange[_0x1a1631(0x2c2)](),_0x12576a=_0x2d488e[_0x1a1631(0x18e)],_0x12576a;}catch(_0x55cd63){_0x322245=_0x55cd63,_0x4d31ce++,await sleep(retryInterval);}}return!_0x1ee601?handleErrorNoStop(_0x322245,'fetchBalance()'):await handleError(_0x322245,_0x1a1631(0x223)),![];}async function getCoins(_0x4ebf33=0x0,_0x36f713=!![],_0x23e37d=config[_0x7676bb(0x1cd)],_0x3dcb95){const _0x3475e8=_0x7676bb;let _0x3083ad=[],_0x1a56be=[],_0x40cc04=[],_0x272a7e;if(_0x4ebf33)await sleep(_0x4ebf33);if(botPaused)return[currentCoins,currentCoinsAll];let _0x5402b0=![],_0x42b41f=0x0,_0x28a3ea,_0x172d27;_0x3dcb95&&(_0x28a3ea=currentCoins[_0x3475e8(0x1a2)](_0x3edd10=>_0x3edd10[_0x3475e8(0x1cc)]==_0x3dcb95),_0x28a3ea&&(_0x172d27=_0x28a3ea[_0x3475e8(0x2d4)],delete _0x28a3ea[_0x3475e8(0x2d4)]));while(!_0x5402b0){_0x272a7e=await fetchBalance(_0x36f713);if(_0x272a7e){if(_0x3dcb95){if(_0x272a7e[_0x3dcb95]!=_0x172d27)logger[_0x3475e8(0x264)](_0x3475e8(0x281)+_0x3dcb95+':\x20'+_0x272a7e[_0x3dcb95]+'\x20('+_0x172d27+')'),_0x5402b0=!![];else{logger['debug'](_0x3475e8(0x1d0)+_0x3dcb95+':\x20'+_0x272a7e[_0x3dcb95]+'\x20('+_0x172d27+')'),_0x42b41f++;if(_0x42b41f<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x3475e8(0x264)](_0x3475e8(0x1b5)+_0x42b41f+_0x3475e8(0x324));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x5aa228,_0x13e19c]of Object['entries'](_0x272a7e)){_0x40cc04[_0x3475e8(0x2c3)](_0x5aa228);}config[_0x3475e8(0x29b)]['forEach'](_0xa4d3b2=>{const _0x52f113=_0x3475e8;!_0x40cc04[_0x52f113(0x32c)](_0xa4d3b2[_0x52f113(0x1cc)])&&(_0x272a7e[_0xa4d3b2[_0x52f113(0x1cc)]]=0x0);});if(_0x23e37d=='')for(const [_0x318b12,_0x294952]of Object[_0x3475e8(0x225)](_0x272a7e)){_0x294952!=0x0&&_0x3083ad[_0x3475e8(0x2c3)]({'coin':_0x318b12});}else for(const [_0x219ccf,_0x1fc059]of Object[_0x3475e8(0x225)](_0x272a7e)){const _0x12d067=config['portfolio'][_0x3475e8(0x1a2)](_0x271b1c=>_0x271b1c[_0x3475e8(0x1cc)]==_0x219ccf),_0x211c45=_0x219ccf+'/'+_0x23e37d,_0x3357ee=_0x23e37d+'/'+_0x219ccf,_0x278497=currentCoins[_0x3475e8(0x1a2)](_0x152890=>_0x152890['coin']==_0x219ccf);if((_0x1fc059!=0x0||_0x12d067)&&(allSymbols[_0x3475e8(0x32c)](_0x211c45)||_0x219ccf==_0x23e37d))_0x278497?_0x3083ad[_0x3475e8(0x2c3)]({..._0x278497,'number':Math[_0x3475e8(0x2bc)](_0x1fc059+(_0x12d067&&_0x12d067[_0x3475e8(0x2a0)]||0x0),0x0)}):_0x3083ad[_0x3475e8(0x2c3)]({'coin':_0x219ccf,'symbol':_0x211c45,'reverse':![],'number':Math['max'](_0x1fc059+(_0x12d067&&_0x12d067[_0x3475e8(0x2a0)]||0x0),0x0),'orderstatus':'none'});else{if((_0x1fc059!=0x0||_0x12d067)&&allSymbols[_0x3475e8(0x32c)](_0x3357ee))_0x278497?_0x3083ad['push']({..._0x278497,'number':Math[_0x3475e8(0x2bc)](_0x1fc059+(_0x12d067&&_0x12d067[_0x3475e8(0x2a0)]||0x0),0x0)}):_0x3083ad[_0x3475e8(0x2c3)]({'coin':_0x219ccf,'symbol':_0x3357ee,'reverse':!![],'number':Math[_0x3475e8(0x2bc)](_0x1fc059+(_0x12d067&&_0x12d067['offset']||0x0),0x0),'orderstatus':_0x3475e8(0x1ac)});else _0x12d067&&_0x3083ad[_0x3475e8(0x2c3)]({'coin':_0x12d067[_0x3475e8(0x1cc)],'symbol':_0x12d067[_0x3475e8(0x1c0)],'reverse':_0x12d067['reverse'],'number':0x0,'orderstatus':_0x3475e8(0x1ac)});}}return _0x3083ad['sort']((_0x2ed9dd,_0x1c41c7)=>_0x2ed9dd[_0x3475e8(0x248)]<_0x1c41c7[_0x3475e8(0x248)]?0x1:_0x1c41c7[_0x3475e8(0x248)]<_0x2ed9dd[_0x3475e8(0x248)]?-0x1:0x0),_0x1a56be=cloneDeep(_0x3083ad),_0x3083ad=_0x3083ad['filter'](_0x218eb5=>{const _0x43a58a=_0x3475e8,_0x139e69=config['portfolio']['find'](_0x12cba1=>_0x12cba1[_0x43a58a(0x1cc)]==_0x218eb5['coin']);return _0x139e69&&!_0x139e69[_0x43a58a(0x2ab)];}),[_0x3083ad,_0x1a56be];}async function getOpenOrders(){const _0x4d90b6=_0x7676bb;let _0x3686a0;allOpenOrders=[];try{for(const _0x4ec9f1 of config[_0x4d90b6(0x29b)]){!_0x4ec9f1[_0x4d90b6(0x2ab)]&&_0x4ec9f1[_0x4d90b6(0x1cc)]!=config[_0x4d90b6(0x1cd)]&&(_0x3686a0=await exchange[_0x4d90b6(0x1a6)](_0x4ec9f1[_0x4d90b6(0x1c0)]),_0x3686a0['length']>0x0&&allOpenOrders[_0x4d90b6(0x2c3)](_0x3686a0[0x0]));}}catch(_0x24c24d){await handleError(_0x24c24d,'getOpenOrders()');}}async function handleOpenOrders(_0x1e55da=0x0){const _0x27b9a1=_0x7676bb;allOpenOrders[_0x27b9a1(0x1ea)]==0x0&&lockOrders==ORDERS[_0x27b9a1(0x2e2)]&&allOrdersPlaced&&(_0x1e55da==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x1e55da++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x27b9a1(0x264)](_0x27b9a1(0x2b0)),validateOrders(_0x27b9a1(0x2a5))));}async function testAPI(){const _0x58f9f1=_0x7676bb;try{return await exchange['fetchBalance'](),!![];}catch(_0x1e0656){loading[_0x58f9f1(0x31f)]=!![],_0x1e0656['toString']()[_0x58f9f1(0x19b)]()[_0x58f9f1(0x32c)](_0x58f9f1(0x273))||_0x1e0656[_0x58f9f1(0x1d9)]()[_0x58f9f1(0x19b)]()[_0x58f9f1(0x32c)]('request-time')?(logHistory(_0x58f9f1(0x350),_0x58f9f1(0x320)),loading['error']=_0x58f9f1(0x25a)):handleErrorNoStop(_0x1e0656,_0x58f9f1(0x2e0),!![]),logHistory(_0x58f9f1(0x350),_0x58f9f1(0x326)),logHistory(_0x58f9f1(0x350),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x58f9f1(0x27e)),logger[_0x58f9f1(0x264)]('Error\x20details:',_0x1e0656),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x7d923e){const _0x5e8106=_0x7676bb;logger['debug'](_0x5e8106(0x214));const _0x1835cf=ccxt[_0x5e8106(0x204)][_0x7d923e['exchange'][_0x5e8106(0x19b)]()],_0x3990ec=new _0x1835cf({'apiKey':_0x7d923e[_0x5e8106(0x356)],'secret':_0x7d923e[_0x5e8106(0x34d)],'options':{'defaultType':_0x5e8106(0x1f1)}});if(_0x7d923e[_0x5e8106(0x285)])_0x3990ec['password']=_0x7d923e[_0x5e8106(0x285)];if(_0x3990ec[_0x5e8106(0x1a7)][_0x5e8106(0x1c6)])_0x3990ec[_0x5e8106(0x1a5)](_0x7d923e[_0x5e8106(0x1c6)]);try{await _0x3990ec[_0x5e8106(0x2c2)](),botPaused=![];}catch(_0x451275){logger[_0x5e8106(0x264)](_0x5e8106(0x1b2)+_0x451275['toString']());throw _0x451275;}}function cloneDeep(_0x1a5d17){const _0x5b8bba=_0x7676bb;return JSON[_0x5b8bba(0x199)](JSON[_0x5b8bba(0x33d)](_0x1a5d17));}async function getPortfolio(_0x4252ad){const _0xb2a29b=_0x7676bb;let _0x342360=[],_0x3eb679=[],_0x39467a=[],_0x1830b4;_0x4252ad[_0xb2a29b(0x356)]=decryptRSA(secure[_0xb2a29b(0x28e)],_0x4252ad[_0xb2a29b(0x356)]),_0x4252ad['apiSecret']=decryptRSA(secure[_0xb2a29b(0x28e)],_0x4252ad['apiSecret']);if(_0x4252ad[_0xb2a29b(0x285)])_0x4252ad[_0xb2a29b(0x285)]=decryptRSA(secure[_0xb2a29b(0x28e)],_0x4252ad[_0xb2a29b(0x285)]);if(_0x4252ad[_0xb2a29b(0x356)]!==_0xb2a29b(0x27a)||_0x4252ad['apiSecret']!==_0xb2a29b(0x27a)||_0x4252ad[_0xb2a29b(0x285)]&&_0x4252ad['apiPassword']!==_0xb2a29b(0x27a)){if(config[_0xb2a29b(0x1f5)]){if(_0x4252ad[_0xb2a29b(0x356)]==_0xb2a29b(0x27a))_0x4252ad['apiKey']=config[_0xb2a29b(0x356)];if(_0x4252ad['apiSecret']==_0xb2a29b(0x27a))_0x4252ad[_0xb2a29b(0x34d)]=config[_0xb2a29b(0x34d)];if(_0x4252ad[_0xb2a29b(0x285)]==_0xb2a29b(0x27a))_0x4252ad[_0xb2a29b(0x285)]=config['apiPassword'];}try{if(_0x4252ad[_0xb2a29b(0x2f1)])await testNewAPI(_0x4252ad);}catch(_0x5868a1){if(_0x5868a1[_0xb2a29b(0x1d9)]()[_0xb2a29b(0x32c)]('AuthenticationError')){logHistory(_0xb2a29b(0x350),'Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0xb2a29b(0x350),_0xb2a29b(0x26f)+_0x5868a1[_0xb2a29b(0x1d9)]()),proxyEmit('portfolio1',![]);return;}else{if(_0x5868a1['toString']()[_0xb2a29b(0x32c)](_0xb2a29b(0x2e4))){logHistory(_0xb2a29b(0x350),_0xb2a29b(0x2f7)),logHistory(_0xb2a29b(0x350),_0xb2a29b(0x26f)+_0x5868a1[_0xb2a29b(0x1d9)]()),proxyEmit(_0xb2a29b(0x23d),![]);return;}else{logHistory(_0xb2a29b(0x350),_0xb2a29b(0x1eb)+_0x5868a1[_0xb2a29b(0x1d9)]()),logger[_0xb2a29b(0x264)]('Error\x20details:',_0x5868a1),proxyEmit(_0xb2a29b(0x23d),![]);return;}}}exchange?updateExchange(_0x4252ad[_0xb2a29b(0x356)],_0x4252ad[_0xb2a29b(0x34d)],_0x4252ad[_0xb2a29b(0x285)]):await initExchange(_0x4252ad['exchange'],_0x4252ad['apiKey'],_0x4252ad['apiSecret'],_0x4252ad['apiPassword'],_0x4252ad[_0xb2a29b(0x1c6)]);await loadSymbols();const _0x3317a2=await getCoins(0x0,![],_0x4252ad[_0xb2a29b(0x1cd)]);_0x39467a=cloneDeep(_0x3317a2[0x1]);}else{const _0x26231e=await getCoins();_0x39467a=cloneDeep(_0x26231e[0x1]);}if(_0x4252ad['basecoin']=='')proxyEmit(_0xb2a29b(0x23d),!![]),proxyEmit(_0xb2a29b(0x1db),_0x39467a);else{_0x39467a[_0xb2a29b(0x239)](_0x442ef6=>{const _0x388163=_0xb2a29b;if(_0x442ef6['coin']!=_0x4252ad['basecoin']&&allSymbols[_0x388163(0x32c)](_0x442ef6[_0x388163(0x1c0)]))_0x342360['push'](_0x442ef6[_0x388163(0x1c0)]);});if(_0x342360['length']==0x0)logHistory(_0xb2a29b(0x350),_0xb2a29b(0x327));else{try{_0x3eb679=await getTickers(_0x342360);}catch(_0x27c868){logHistory(_0xb2a29b(0x350),_0xb2a29b(0x29c)),logger['debug']('Error\x20details:',_0x27c868),proxyEmit(_0xb2a29b(0x23d),![]);return;}_0x39467a[_0xb2a29b(0x239)](_0x285b7a=>{const _0x227759=_0xb2a29b;_0x285b7a[_0x227759(0x1cc)]!=_0x4252ad['basecoin']?_0x3eb679[_0x285b7a[_0x227759(0x1c0)]]?_0x3eb679[_0x285b7a[_0x227759(0x1c0)]][_0x227759(0x2bf)]?_0x1830b4=_0x285b7a['reverse']?0x1/_0x3eb679[_0x285b7a['symbol']][_0x227759(0x2bf)]:_0x3eb679[_0x285b7a[_0x227759(0x1c0)]]['last']:_0x1830b4=0x0:_0x1830b4=0x0:_0x1830b4=0x1,_0x285b7a[_0x227759(0x241)]=formatResult(_0x1830b4,0x8);}),await getMarketCap(_0x39467a),proxyEmit('portfolio1',!![]),proxyEmit(_0xb2a29b(0x1db),_0x39467a);}}}function truncateTradeAmount(_0x25eda1,_0x4fb4fe){const _0x24a785=_0x7676bb;let _0x527bd1=0x0;try{_0x527bd1=exchange[_0x24a785(0x1e2)](_0x25eda1,_0x4fb4fe);}catch(_0x1388ad){}return _0x527bd1;}function checkMinimums(_0x163683){const _0x30844d=_0x7676bb;let _0x121d28=!![];const _0x4f8909=!_0x163683[_0x30844d(0x261)]?markets[_0x163683[_0x30844d(0x1c0)]]['limits'][_0x30844d(0x1c5)][_0x30844d(0x2a8)]:markets[_0x163683[_0x30844d(0x1c0)]][_0x30844d(0x206)][_0x30844d(0x34a)][_0x30844d(0x2a8)],_0xc5ccb3=!_0x163683[_0x30844d(0x261)]?markets[_0x163683[_0x30844d(0x1c0)]][_0x30844d(0x206)]['cost'][_0x30844d(0x2a8)]:markets[_0x163683[_0x30844d(0x1c0)]][_0x30844d(0x206)][_0x30844d(0x1c5)][_0x30844d(0x2a8)],_0x40335b=truncateTradeAmount(_0x163683[_0x30844d(0x1c0)],_0x163683[_0x30844d(0x1c9)]);_0x163683['trade']=_0x40335b;if(Math[_0x30844d(0x1b4)](_0x40335b)<_0x4f8909)_0x121d28=![];if(Math[_0x30844d(0x1b4)](_0x40335b)*_0x163683[_0x30844d(0x2bf)]<_0xc5ccb3)_0x121d28=![];let _0x4e0465='';if(_0x163683['side']=='sell'){let _0x5d7c9d=config['portfolio'][_0x30844d(0x1a2)](_0x2eece1=>_0x2eece1['coin']==_0x163683['coin']);_0x5d7c9d[_0x30844d(0x2a0)]>0x0?Math[_0x30844d(0x1b4)](_0x40335b)>_0x163683[_0x30844d(0x1af)]-_0x5d7c9d[_0x30844d(0x2a0)]&&(_0x121d28=![],_0x4e0465=_0x30844d(0x33a)+_0x5d7c9d[_0x30844d(0x1cc)]+_0x30844d(0x1ec)):Math[_0x30844d(0x1b4)](_0x40335b)>_0x163683[_0x30844d(0x1af)]&&(_0x121d28=![]);}if(_0x163683[_0x30844d(0x33e)]==_0x30844d(0x1e1)){let _0x2cca0e=config['portfolio'][_0x30844d(0x1a2)](_0x5f27f2=>_0x5f27f2[_0x30844d(0x1cc)]==config['basecoin']),_0x52bc07=currentCoins[_0x30844d(0x1a2)](_0x2c288e=>_0x2c288e[_0x30844d(0x1cc)]==config['basecoin']);_0x2cca0e[_0x30844d(0x2a0)]>0x0?Math['abs'](_0x40335b)*_0x163683['last']>_0x52bc07[_0x30844d(0x1af)]-_0x2cca0e[_0x30844d(0x2a0)]&&(_0x121d28=![],_0x4e0465=_0x30844d(0x33a)+config[_0x30844d(0x1cd)]+'\x20due\x20to\x20offset'):Math['abs'](_0x40335b)*_0x163683[_0x30844d(0x2bf)]>_0x52bc07[_0x30844d(0x1af)]&&(_0x121d28=![]);}return!_0x121d28&&_0x4e0465&&!insufficientFundsWarningSent['includes'](_0x163683['coin'])&&(logHistory(_0x30844d(0x33b),_0x4e0465),insufficientFundsWarningSent[_0x30844d(0x2c3)](_0x163683[_0x30844d(0x1cc)])),_0x121d28;}async function getBalances(_0x17c8f0=!![]){const _0xe53025=_0x7676bb;if(botPaused)return;let _0x2d8717=0x0,_0x3a9d62;const _0x1133d6=config[_0xe53025(0x1d1)];if(config[_0xe53025(0x26c)]&&config[_0xe53025(0x189)]<0x0)await validate24hChanges();currentCoins[_0xe53025(0x239)](_0x5d482e=>{const _0x3472a3=_0xe53025;if(_0x5d482e['coin']!=config[_0x3472a3(0x1cd)]){let _0x14392e=gTicker[noslash(_0x5d482e[_0x3472a3(0x1c0)])];_0x3a9d62=_0x5d482e[_0x3472a3(0x261)]?0x1/_0x14392e:_0x14392e;}else _0x3a9d62=0x1;let _0xcfea9=_0x5d482e[_0x3472a3(0x1af)]*_0x3a9d62;_0x2d8717+=_0xcfea9,_0x5d482e[_0x3472a3(0x2bf)]=formatResult(Number(_0x3a9d62),0x8),_0x5d482e[_0x3472a3(0x224)]=_0xcfea9;}),currentCoins[_0xe53025(0x239)](_0x58940a=>{const _0x1645e0=_0xe53025;let _0x5dec7b=config[_0x1645e0(0x29b)][_0x1645e0(0x1a2)](_0x51615a=>_0x51615a[_0x1645e0(0x1cc)]==_0x58940a[_0x1645e0(0x1cc)]),_0x218bb9=Number(_0x5dec7b[_0x1645e0(0x307)]),_0x31c578=_0x58940a[_0x1645e0(0x224)]/_0x2d8717*0x64,_0x25f8a8=_0x218bb9*_0x2d8717/0x64/_0x58940a[_0x1645e0(0x2bf)]-_0x58940a[_0x1645e0(0x1af)];_0x58940a[_0x1645e0(0x307)]=formatResult(_0x31c578,0x3),_0x58940a[_0x1645e0(0x311)]=formatResult(_0x218bb9,0x3),_0x58940a[_0x1645e0(0x1c9)]=formatResult(_0x25f8a8,0x8),_0x58940a[_0x1645e0(0x33e)]='',_0x58940a[_0x1645e0(0x1c8)]=![];if(_0x58940a['coin']!=config['basecoin']){if(_0x58940a[_0x1645e0(0x307)]>_0x218bb9)_0x58940a[_0x1645e0(0x33e)]=_0x1645e0(0x2b3),_0x58940a['valid']=checkMinimums(_0x58940a);else _0x58940a[_0x1645e0(0x307)]<_0x218bb9&&(_0x58940a[_0x1645e0(0x33e)]=_0x1645e0(0x1e1),_0x58940a[_0x1645e0(0x1c8)]=checkMinimums(_0x58940a));}_0x58940a[_0x1645e0(0x248)]=_0x58940a[_0x1645e0(0x307)]/_0x58940a[_0x1645e0(0x311)]-0x1;if(_0x58940a[_0x1645e0(0x288)]==_0x1645e0(0x314)||_0x58940a['orderstatus']==_0x1645e0(0x182))_0x58940a['orderstatus']=_0x1645e0(0x1ac);}),currentCoins['sort']((_0x53981a,_0x33f51b)=>_0x53981a[_0xe53025(0x248)]<_0x33f51b['delta']?0x1:_0x33f51b[_0xe53025(0x248)]<_0x53981a[_0xe53025(0x248)]?-0x1:0x0);const _0x1ad4c2=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1ad4c2[_0xe53025(0x32e)],'usd':_0x1ad4c2[_0xe53025(0x2c4)],'portfolio':JSON[_0xe53025(0x33d)](currentCoins),'threshold':_0x1133d6},proxyEmit(_0xe53025(0x31c),{'serverversion':serverversion,'balances':lastBalances});if(_0x17c8f0){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x1133d6});else lockOrders==ORDERS[_0xe53025(0x18b)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x1133d6});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x335bc0=getNormalizedPerformance();getStartingBalances(_0x335bc0),emitPerformance(_0x335bc0);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x4328e7=_0x7676bb;let _0x5b23b5=dbCoinResults[_0x4328e7(0x30d)](_0x4328e7(0x1e0))[_0x4328e7(0x224)](),_0x46bdee=0x0;return Object[_0x4328e7(0x225)](_0x5b23b5)[_0x4328e7(0x239)](([_0x63bc82,_0x25f3e3])=>{const _0x4dc693=_0x4328e7;_0x46bdee+=_0x25f3e3[_0x4dc693(0x2fb)];}),_0x46bdee;}async function storePerformance(){const _0x487322=_0x7676bb;if(!lastBalances)return;let _0x67ba4d=[],_0x4c89b1;const _0x8e1a53=getPnL();let _0x1cd20d=JSON[_0x487322(0x199)](lastBalances[_0x487322(0x29b)]);_0x1cd20d['sort']((_0x5ee96b,_0x118c0b)=>_0x5ee96b['coin']>_0x118c0b['coin']?0x1:_0x118c0b['coin']>_0x5ee96b['coin']?-0x1:0x0),_0x1cd20d[_0x487322(0x239)](_0x35c9a8=>{const _0x5b6bbc=_0x487322;let _0xa7ac8b={'coin':_0x35c9a8[_0x5b6bbc(0x1cc)],'number':_0x35c9a8[_0x5b6bbc(0x1af)],'price':_0x35c9a8[_0x5b6bbc(0x2bf)]};_0x67ba4d[_0x5b6bbc(0x2c3)](_0xa7ac8b);});const _0x244779=await getFiat(),_0x2e94a4=getTimeStamp()[_0x487322(0x313)]('\x20')[0x0],_0x4d5931=dbPerformance[_0x487322(0x30d)](_0x487322(0x1b6))[_0x487322(0x1a2)]({'date':_0x2e94a4})[_0x487322(0x224)]();_0x4c89b1={'date':_0x2e94a4,'eur':_0x244779[_0x487322(0x32e)],'usd':_0x244779[_0x487322(0x2c4)],'coins':_0x67ba4d,'pnl':_0x8e1a53},_0x4d5931?_0x4c89b1[_0x487322(0x19f)]!=config[_0x487322(0x29a)]&&dbPerformance[_0x487322(0x30d)](_0x487322(0x1b6))[_0x487322(0x1a2)]({'date':_0x2e94a4})[_0x487322(0x330)](_0x4c89b1)[_0x487322(0x337)]():dbPerformance['get'](_0x487322(0x1b6))[_0x487322(0x2c3)](_0x4c89b1)[_0x487322(0x337)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4bdd12=_0x7676bb;let _0x40e214=[];if(dbPerformance[_0x4bdd12(0x1a7)](_0x4bdd12(0x1b6))[_0x4bdd12(0x224)]()){let _0x2d63c9=dbPerformance[_0x4bdd12(0x30d)](_0x4bdd12(0x1b6))[_0x4bdd12(0x202)]()[_0x4bdd12(0x338)](_0x2ff3af=>{const _0x10ea81=_0x4bdd12;if(_0x2ff3af['coins'][_0x10ea81(0x1ea)]==0x0)return![];else return!![];})[_0x4bdd12(0x1fa)]('date')[_0x4bdd12(0x224)](),_0x4aa3dd=[...config[_0x4bdd12(0x2f3)]];_0x4aa3dd[_0x4bdd12(0x1c1)]((_0x4635c9,_0x4f6270)=>_0x4635c9[_0x4bdd12(0x19f)]>_0x4f6270[_0x4bdd12(0x19f)]?-0x1:_0x4f6270[_0x4bdd12(0x19f)]>_0x4635c9[_0x4bdd12(0x19f)]?0x1:0x0);let _0x421eff=0x1,_0x426aba=[],_0x45e882=0x0;_0x2d63c9[_0x4bdd12(0x340)]()[_0x4bdd12(0x261)]()['forEach']((_0x54af40,_0x4bf46c)=>{const _0x1419bc=_0x4bdd12;if(_0x4aa3dd[_0x45e882]){if(_0x2d63c9[_0x2d63c9['length']-_0x4bf46c]&&_0x4aa3dd[_0x45e882][_0x1419bc(0x19f)]==_0x2d63c9[_0x2d63c9[_0x1419bc(0x1ea)]-_0x4bf46c][_0x1419bc(0x19f)]){if(_0x4bf46c<_0x2d63c9[_0x1419bc(0x1ea)]){let _0x27c403=0x0,_0x2b98e9=0x0;_0x2d63c9[_0x2d63c9[_0x1419bc(0x1ea)]-_0x4bf46c][_0x1419bc(0x1e0)][_0x1419bc(0x239)](_0x2f866d=>{const _0x122eec=_0x1419bc;_0x2b98e9+=_0x2f866d[_0x122eec(0x1af)]*_0x2f866d[_0x122eec(0x241)];}),_0x4aa3dd[_0x45e882]['changes'][_0x1419bc(0x239)](_0x2378e5=>{const _0x18779e=_0x1419bc;_0x27c403+=_0x2378e5[_0x18779e(0x1af)]*_0x2378e5[_0x18779e(0x241)];}),_0x421eff*=_0x27c403/(_0x2b98e9-_0x27c403)+0x1;}_0x45e882++;}}let _0x371248=0x0;_0x54af40[_0x1419bc(0x1e0)][_0x1419bc(0x239)](_0x24be8c=>{const _0x24a0f8=_0x1419bc;_0x371248+=_0x24be8c[_0x24a0f8(0x1af)]*_0x24be8c[_0x24a0f8(0x241)];}),_0x426aba[_0x2d63c9[_0x1419bc(0x1ea)]-_0x4bf46c-0x1]=_0x371248*(_0x421eff-0x1);});let _0x3e530c=[];_0x4aa3dd=[...config['liquidity']]||[];let _0x4b6d35=0x0;_0x45e882=0x0,_0x2d63c9[_0x4bdd12(0x239)]((_0x38c4b3,_0x6acbd1)=>{const _0x4a4db9=_0x4bdd12;if(_0x4aa3dd[_0x45e882]){const _0x335344=fns[_0x4a4db9(0x199)](_0x4aa3dd[_0x45e882][_0x4a4db9(0x19f)],'yyyy/MM/dd',new Date()),_0x387baa=fns[_0x4a4db9(0x199)](_0x38c4b3[_0x4a4db9(0x19f)],_0x4a4db9(0x290),new Date());if(fns[_0x4a4db9(0x1ff)](_0x335344,_0x387baa)){let _0x33a48e=0x0;_0x4aa3dd[_0x45e882][_0x4a4db9(0x2f5)][_0x4a4db9(0x239)](_0x46b24c=>{const _0x396c9c=_0x4a4db9;!_0x3e530c[_0x46b24c[_0x396c9c(0x1cc)]]?_0x3e530c[_0x46b24c[_0x396c9c(0x1cc)]]=_0x46b24c[_0x396c9c(0x1af)]:(_0x33a48e=_0x3e530c[_0x46b24c[_0x396c9c(0x1cc)]],_0x3e530c[_0x46b24c[_0x396c9c(0x1cc)]]+=_0x46b24c[_0x396c9c(0x1af)]);const _0x576cad=_0x38c4b3[_0x396c9c(0x1e0)][_0x396c9c(0x1a2)](_0x2420ec=>_0x2420ec[_0x396c9c(0x1cc)]==_0x46b24c['coin']);(!_0x576cad||_0x576cad[_0x396c9c(0x1af)]==0x0)&&(_0x4b6d35+=(-_0x46b24c[_0x396c9c(0x1af)]-_0x33a48e)*_0x46b24c[_0x396c9c(0x241)]);}),_0x45e882++;}}_0x38c4b3['coins'][_0x4a4db9(0x239)]((_0x2bc736,_0x5ac758)=>{const _0x1bac6f=_0x4a4db9;_0x3e530c[_0x2bc736[_0x1bac6f(0x1cc)]]&&(_0x2bc736[_0x1bac6f(0x2a6)]=_0x3e530c[_0x2bc736[_0x1bac6f(0x1cc)]]);}),_0x40e214[_0x4a4db9(0x2c3)]({'date':_0x38c4b3[_0x4a4db9(0x19f)],'eur':_0x38c4b3['eur'],'usd':_0x38c4b3[_0x4a4db9(0x2c4)],'offset':_0x426aba[_0x6acbd1],'netoffset':_0x4b6d35,'coins':_0x38c4b3[_0x4a4db9(0x1e0)],'pnl':_0x38c4b3[_0x4a4db9(0x2d9)]});});}return _0x40e214;}function emitPerformance(_0x544800){const _0x4fb94e=_0x7676bb;_0x544800[_0x4fb94e(0x1ea)]!==0x0?(proxyEmit(_0x4fb94e(0x2a3),_0x544800),lastPerformanceEmitted=getDate()):proxyEmit(_0x4fb94e(0x2a3),[]);}function getPerf(_0x322dc2,_0x40eb58){const _0x3acf19=_0x7676bb;let _0x314aff=0x0,_0x206c05=0x0,_0xeaaa6f=0x0;_0x322dc2[_0x3acf19(0x1e0)]['forEach'](_0xc038bd=>{const _0x106ed4=_0x3acf19;_0x314aff+=_0xc038bd['number']*_0xc038bd[_0x106ed4(0x241)];});_0x40eb58&&(_0x314aff+=_0x322dc2[_0x3acf19(0x2a0)]);if(config[_0x3acf19(0x1cd)]===_0x3acf19(0x24a)||config['basecoin']==='ETH'||config[_0x3acf19(0x1cd)]==='PAXG')_0x206c05=_0x314aff*_0x322dc2[_0x3acf19(0x32e)],_0xeaaa6f=_0x314aff*_0x322dc2['usd'];else{if(usdBasecoins[_0x3acf19(0x32c)](config[_0x3acf19(0x1cd)]))_0x206c05=_0x314aff*_0x322dc2['eur']/_0x322dc2[_0x3acf19(0x2c4)],_0xeaaa6f=_0x314aff;else config[_0x3acf19(0x1cd)]==='EUR'&&(_0x206c05=_0x314aff,_0xeaaa6f=_0x314aff*_0x322dc2['usd']/_0x322dc2[_0x3acf19(0x32e)]);}return[_0x314aff,_0x206c05,_0xeaaa6f];}function CurrencyFactor(_0x47f3e9,_0x570525,_0x5cca10){const _0x128cf3=_0x7676bb;let _0x27bf3b;if(_0x570525===_0x128cf3(0x24a)||_0x570525===_0x128cf3(0x1a8)||_0x570525==='PAXG')_0x27bf3b=_0x5cca10===_0x128cf3(0x2df)?_0x47f3e9[_0x128cf3(0x32e)]:_0x47f3e9[_0x128cf3(0x2c4)];else{if(usdBasecoins['includes'](_0x570525))_0x27bf3b=_0x5cca10===_0x128cf3(0x2df)?_0x47f3e9[_0x128cf3(0x32e)]/_0x47f3e9[_0x128cf3(0x2c4)]:0x1;else _0x570525===_0x128cf3(0x2df)&&(_0x27bf3b=_0x5cca10===_0x128cf3(0x2df)?0x1:_0x47f3e9[_0x128cf3(0x2c4)]/_0x47f3e9[_0x128cf3(0x32e)]);}return _0x27bf3b;}function getKPIs(_0x3dd50d,_0x4f5a04=_0x7676bb(0x2df)){const _0x1047f7=_0x7676bb,_0x19c069=config[_0x1047f7(0x1cd)],_0x40a6e7=lastBalances,_0x129460=currentCoins,_0x4b1b1e=getNormalizedPerformance(),_0x253370=CurrencyFactor(_0x40a6e7,config['basecoin'],_0x4f5a04);let _0x17cd38=0x0;_0x129460['forEach'](_0x1d2e7b=>{const _0x1eedc6=_0x1047f7;_0x17cd38+=_0x1d2e7b['number']*_0x1d2e7b[_0x1eedc6(0x2bf)];});_0x3dd50d[_0x1047f7(0x32c)](_0x1047f7(0x2cb))&&(_0x17cd38*=_0x253370);let _0x50d2e7;if(_0x17cd38!==0x0){if(_0x3dd50d===_0x1047f7(0x1cd)||_0x3dd50d===_0x1047f7(0x2cb)){if(_0x3dd50d===_0x1047f7(0x1cd))_0x50d2e7=(_0x17cd38/startingBalances[_0x1047f7(0x1cd)]-0x1)*0x64;else{if(_0x4f5a04===_0x1047f7(0x2df))_0x50d2e7=(_0x17cd38/startingBalances[_0x1047f7(0x32e)]-0x1)*0x64;else _0x50d2e7=(_0x17cd38/startingBalances[_0x1047f7(0x2c4)]-0x1)*0x64;}}if(_0x3dd50d[_0x1047f7(0x32c)](_0x1047f7(0x1b8))){let _0x5b8b5b=0x0;if(startingBalances['coins'])_0x129460[_0x1047f7(0x239)](_0x5996a0=>{const _0x903e6f=_0x1047f7;let _0x1e326d=startingBalances[_0x903e6f(0x1e0)][_0x903e6f(0x1a2)](_0x44781c=>_0x44781c[_0x903e6f(0x1cc)]===_0x5996a0[_0x903e6f(0x1cc)]);if(_0x1e326d&&_0x1e326d[_0x903e6f(0x1cc)]&&_0x5996a0[_0x903e6f(0x1af)]!==0x0)_0x5b8b5b+=_0x1e326d[_0x903e6f(0x1af)]*_0x5996a0[_0x903e6f(0x2bf)];});let _0x34af82=0x0;if(_0x4b1b1e['length']!==0x0){let _0x4682fe=_0x4b1b1e[_0x4b1b1e['length']-0x1];_0x34af82=_0x4682fe[_0x1047f7(0x31e)];}_0x5b8b5b-=_0x34af82;let _0x54e5a3;_0x3dd50d==='net-basecoin'&&(_0x54e5a3=startingBalances[_0x1047f7(0x1cd)]),_0x3dd50d==='net-fiat'&&(_0x54e5a3=_0x4f5a04===_0x1047f7(0x2df)?startingBalances[_0x1047f7(0x32e)]:startingBalances[_0x1047f7(0x2c4)],_0x5b8b5b*=_0x253370),_0x50d2e7=(_0x17cd38-_0x5b8b5b)/_0x54e5a3*0x64,_0x17cd38=_0x17cd38-_0x5b8b5b;}if(_0x3dd50d['includes'](_0x1047f7(0x2d9))){if(_0x4b1b1e[_0x1047f7(0x1ea)]!==0x0&&_0x129460['length']!==0x0){let _0x4b0fa0,_0xf9074b=_0x4b1b1e[_0x4b1b1e[_0x1047f7(0x1ea)]-0x1][_0x1047f7(0x2d9)];_0x3dd50d[_0x1047f7(0x32c)](_0x1047f7(0x2cb))?(_0x4b0fa0=_0x4f5a04===_0x1047f7(0x2df)?startingBalances[_0x1047f7(0x32e)]:startingBalances[_0x1047f7(0x2c4)],_0xf9074b*=CurrencyFactor(_0x40a6e7,_0x19c069,_0x4f5a04)):_0x4b0fa0=startingBalances[_0x1047f7(0x1cd)],_0x50d2e7=_0xf9074b/_0x4b0fa0*0x64,_0x17cd38=_0xf9074b;}}if(_0x50d2e7){if(_0x50d2e7<0x64)_0x50d2e7=_0x50d2e7[_0x1047f7(0x344)](0x2);else{if(_0x50d2e7<0x3e8)_0x50d2e7=_0x50d2e7[_0x1047f7(0x344)](0x1);else _0x50d2e7=_0x50d2e7[_0x1047f7(0x344)](0x0);}}else _0x50d2e7=Number('0')[_0x1047f7(0x344)](0x2);if(_0x17cd38){if(Math[_0x1047f7(0x1b4)](_0x17cd38)<0.000001)_0x17cd38=_0x17cd38[_0x1047f7(0x344)](0x2);else{if(Math[_0x1047f7(0x1b4)](_0x17cd38)<0.1)_0x17cd38=_0x17cd38[_0x1047f7(0x344)](0x6);else{if(Math[_0x1047f7(0x1b4)](_0x17cd38)<0x1)_0x17cd38=_0x17cd38[_0x1047f7(0x344)](0x5);else{if(Math['abs'](_0x17cd38)<0xa)_0x17cd38=_0x17cd38[_0x1047f7(0x344)](0x4);else{if(Math[_0x1047f7(0x1b4)](_0x17cd38)<0x64)_0x17cd38=_0x17cd38[_0x1047f7(0x344)](0x3);else{if(Math[_0x1047f7(0x1b4)](_0x17cd38)<0x3e8)_0x17cd38=_0x17cd38['toFixed'](0x2);else _0x17cd38=_0x17cd38[_0x1047f7(0x344)](0x2);}}}}}}else _0x17cd38=Number('0')[_0x1047f7(0x344)](0x2);}else _0x50d2e7=Number('0')[_0x1047f7(0x344)](0x2);if(_0x50d2e7>=0x0)_0x50d2e7='+'+_0x50d2e7;return{'value':_0x17cd38,'change':_0x50d2e7};}async function getStartingBalances(_0x35a7fb,_0x57124d=!![]){const _0x478adf=_0x7676bb;if(_0x35a7fb[_0x478adf(0x1ea)]!==0x0){const [_0x3b2bfe,_0x10d1a3,_0x84242c]=getPerf(_0x35a7fb[0x0],!![]);let _0x36e394=[];config[_0x478adf(0x29b)][_0x478adf(0x239)](_0x307782=>{const _0x256806=_0x478adf;let _0x5cb3d0=0x0,_0x5a644a;config['liquidity'][_0x256806(0x239)](_0x373387=>{const _0x3d8b51=_0x256806;let _0x1cddac=_0x373387[_0x3d8b51(0x2f5)][_0x3d8b51(0x1a2)](_0xe203df=>_0xe203df['coin']==_0x307782['coin']);if(_0x1cddac){_0x5cb3d0+=_0x1cddac['number'];if(!_0x5a644a)_0x5a644a=_0x1cddac[_0x3d8b51(0x241)];}}),_0x36e394['push']({'coin':_0x307782['coin'],'number':_0x5cb3d0,'initialprice':_0x5a644a});});const _0x3908c7={'basecoin':_0x3b2bfe,'eur':_0x10d1a3,'usd':_0x84242c,'coins':_0x36e394};if(_0x57124d)proxyEmit(_0x478adf(0x1ef),_0x3908c7);startingBalances=_0x3908c7;}}function headlessMode(_0x4aea6f){const _0x46abb6=_0x7676bb;let _0x587c1a=_0x4aea6f[_0x46abb6(0x29b)],_0x11a96e=_0x4aea6f[_0x46abb6(0x1d1)],_0x3bac50=[];for(let _0xa0a9d1 of _0x587c1a){if(_0xa0a9d1[_0x46abb6(0x1cc)]!=config[_0x46abb6(0x1cd)]){if(_0xa0a9d1[_0x46abb6(0x248)]>=_0x11a96e/0x64){if(_0xa0a9d1[_0x46abb6(0x1c8)])_0x3bac50[_0x46abb6(0x2c3)](_0xa0a9d1);}else{if(_0xa0a9d1[_0x46abb6(0x248)]<=-_0x11a96e/0x64){if(_0xa0a9d1[_0x46abb6(0x1c8)])_0x3bac50[_0x46abb6(0x2c3)](_0xa0a9d1);}}}}_0x3bac50[_0x46abb6(0x1ea)]>0x0&&placeOrder(_0x3bac50);}function notifyBalance(_0x1b4ea8){const _0x4c034e=_0x7676bb;let _0x207d5a=_0x1b4ea8[_0x4c034e(0x29b)],_0xe920f0=_0x1b4ea8[_0x4c034e(0x1d1)],_0xb8e8e6=[];for(let _0x6bf60 of _0x207d5a){if(_0x6bf60[_0x4c034e(0x1cc)]!=config[_0x4c034e(0x1cd)]){if(_0x6bf60[_0x4c034e(0x248)]>=_0xe920f0/0x64){if(_0x6bf60['valid'])_0xb8e8e6[_0x4c034e(0x2c3)](_0x6bf60);}else{if(_0x6bf60[_0x4c034e(0x248)]<=-_0xe920f0/0x64){if(_0x6bf60[_0x4c034e(0x1c8)])_0xb8e8e6[_0x4c034e(0x2c3)](_0x6bf60);}}}}if(_0xb8e8e6[_0x4c034e(0x1ea)]>0x0){let _0x31eff7=_0xb8e8e6[_0x4c034e(0x26d)](_0x529485=>_0x529485[_0x4c034e(0x1cc)]);_0x31eff7[_0x4c034e(0x1c1)]();let _0x39666d=_0x31eff7[_0x4c034e(0x31a)](',\x20');if(!lastCoinsToBalance)logHistory(_0x4c034e(0x33b),_0x4c034e(0x2fd));lastCoinsToBalance=_0x39666d;}}function symbolToCoin(_0x26b8f4){const _0xad151f=_0x7676bb;let _0x2720b4;if(_0x26b8f4['includes']('/'+config[_0xad151f(0x1cd)]))_0x2720b4=_0x26b8f4[_0xad151f(0x2c9)]('/'+config[_0xad151f(0x1cd)],'');if(_0x26b8f4[_0xad151f(0x32c)](config['basecoin']+'/'))_0x2720b4=_0x26b8f4[_0xad151f(0x2c9)](config[_0xad151f(0x1cd)]+'/','');return _0x2720b4;}function setLockOrders(_0x188850){const _0x496046=_0x7676bb;lockOrders=_0x188850,logger[_0x496046(0x264)](_0x496046(0x310)+Object[_0x496046(0x2ed)](ORDERS)[lockOrders]);}async function unlockOrders(_0x6641d6=![]){const _0x2d69f7=_0x7676bb;if(allOrdersPlaced&&lockOrders==ORDERS[_0x2d69f7(0x2e2)]){setLockOrders(ORDERS[_0x2d69f7(0x1e9)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x6641d6){const _0x306796=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x306796,setBlockTransactionDetection(![]);}validateOrdersState=_0x2d69f7(0x2a6),persistOpenOrders([]),setLockOrders(ORDERS['UNLOCKED']);}}async function validateOrders(_0x17bd31){const _0x3dbef2=_0x7676bb;if(_0x17bd31)validateOrdersState=_0x17bd31;logger[_0x3dbef2(0x264)](_0x3dbef2(0x249)+validateOrdersState+_0x3dbef2(0x2c7)+Object[_0x3dbef2(0x2ed)](ORDERS)[lockOrders]);let _0x2e40bd=[],_0x3baa60=config['ordertype']==_0x3dbef2(0x192)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3dbef2(0x2e2)])return;logger[_0x3dbef2(0x264)](_0x3dbef2(0x27c)+validateOrdersState);for(let _0x3dc66f=lastOrders['length']-0x1;_0x3dc66f>=0x0;_0x3dc66f--){let _0x525407=lastOrders[_0x3dc66f],_0x110c3b=![];_0x525407[_0x3dbef2(0x314)]>0x0&&(_0x110c3b=!![]),_0x2e40bd['push'](_0x110c3b),_0x110c3b&&config['ordertype']!=_0x3dbef2(0x192)&&logHistory(_0x3dbef2(0x268),_0x3dbef2(0x339)+_0x525407[_0x3dbef2(0x1c0)]+'\x20'+_0x525407['side']+'\x20#'+formatResult(_0x525407['filled'],0x8)+'\x20@'+formatResult(_0x525407[_0x3dbef2(0x241)],0x8)),_0x110c3b&&lastOrders[_0x3dbef2(0x346)](_0x3dc66f,0x1);}persistOpenOrders(lastOrders);const _0x5033fc=coolingDown?_0x3dbef2(0x30f):'balancing\x20resumed';if(validateOrdersState==_0x3dbef2(0x2a6)){validateOrdersState=_0x3dbef2(0x2c6);if(_0x2e40bd['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x2e40bd[_0x3dbef2(0x32c)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x3dbef2(0x334)){let _0x3c919b=!![];if(_0x2e40bd[_0x3dbef2(0x32c)](![])){if(config[_0x3dbef2(0x316)]==_0x3dbef2(0x192))logHistory(_0x3dbef2(0x25f),_0x3dbef2(0x186)+Math[_0x3dbef2(0x23e)](_0x3baa60*validateOrderInterval/0xea60)+_0x3dbef2(0x2b4)+_0x5033fc),await unlockOrders(!![]);else{_0x3c919b=await cancelOrders();if(_0x3c919b)logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x3dbef2(0x23e)](_0x3baa60*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x5033fc),await unlockOrders(!![]);else{validateOrdersState=_0x3dbef2(0x2c6),logHistory(_0x3dbef2(0x350),'Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20'+Math[_0x3dbef2(0x23e)](_0x3baa60*validateOrderInterval/0xea60)+_0x3dbef2(0x2b4)+_0x5033fc),logHistory(_0x3dbef2(0x350),_0x3dbef2(0x345));const _0x2e2eb8=config[_0x3dbef2(0x316)]==_0x3dbef2(0x192)?validateOrderTimeout*0x3c*0x3e8:config[_0x3dbef2(0x22b)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x2e2eb8);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x3dbef2(0x2a5)){if(config['ordertype']!=_0x3dbef2(0x192))logHistory(_0x3dbef2(0x25f),_0x3dbef2(0x1da)+_0x5033fc);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x571343=_0x7676bb;let _0x57c114=!![],_0x42a8e6;for(const _0xb7b4ba of lastOrders){let _0x2ebc39=![],_0x266afe=0x0;while(!_0x2ebc39&&_0x266afe<maxRetries){try{const _0x3352d7=await exchange[_0x571343(0x35a)](_0xb7b4ba[_0x571343(0x1f0)],_0xb7b4ba['symbol']);_0x2ebc39=!![];}catch(_0x40072c){_0x40072c[_0x571343(0x1d9)]()[_0x571343(0x32c)](_0x571343(0x1c2))||_0x40072c[_0x571343(0x1d9)]()['includes'](_0x571343(0x209))?_0x2ebc39=!![]:(_0x42a8e6=_0x40072c,_0x2ebc39=![]);}!_0x2ebc39&&(_0x266afe++,await sleep(retryInterval));}_0x57c114=_0x57c114&&_0x2ebc39;}return!_0x57c114&&await handleError(_0x42a8e6,_0x571343(0x322)),_0x57c114;}async function initCoinResults(_0x4871b7){const _0x45eb8f=_0x7676bb;_0x4871b7?logger[_0x45eb8f(0x264)](_0x45eb8f(0x1b3)+_0x4871b7):logger[_0x45eb8f(0x264)](_0x45eb8f(0x30e)),config[_0x45eb8f(0x29b)][_0x45eb8f(0x239)](_0x227579=>{const _0x80e531=_0x45eb8f;if(!_0x227579[_0x80e531(0x2ab)]&&_0x227579['coin']!=config[_0x80e531(0x1cd)]){const _0x21b2c6=currentCoins[_0x80e531(0x1a2)](_0x18eb8c=>_0x18eb8c[_0x80e531(0x1cc)]==_0x227579[_0x80e531(0x1cc)]),_0x4cb299=gTicker[noslash(_0x227579[_0x80e531(0x1c0)])];let _0x58dc57=_0x21b2c6?_0x21b2c6[_0x80e531(0x1af)]:null,_0x4d487f=_0x227579[_0x80e531(0x261)]?0x1/_0x4cb299:_0x4cb299,_0x3613f0;config[_0x80e531(0x2f3)][_0x80e531(0x239)](_0x3ca153=>{const _0x1f2d85=_0x80e531;!_0x3613f0&&(_0x3613f0=_0x3ca153['changes'][_0x1f2d85(0x1a2)](_0xc5e403=>_0xc5e403[_0x1f2d85(0x1cc)]==_0x227579[_0x1f2d85(0x1cc)]),_0x3613f0&&(_0x58dc57=_0x3613f0[_0x1f2d85(0x1af)],_0x4d487f=_0x3613f0[_0x1f2d85(0x241)]));});let _0x42c79b=dbCoinResults['get'](_0x80e531(0x1e0))[_0x80e531(0x1a2)]({'coin':_0x227579[_0x80e531(0x1cc)]})['value']();if(!_0x42c79b){const _0x5b8124={'coin':_0x227579['coin'],'number':_0x58dc57,'breakeven':_0x4d487f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x80e531(0x30d)](_0x80e531(0x1e0))[_0x80e531(0x2c3)](_0x5b8124)[_0x80e531(0x337)]();}else{if(_0x4871b7&&_0x227579[_0x80e531(0x1cc)]==_0x4871b7){const _0x26e125={'coin':_0x227579['coin'],'number':_0x58dc57,'breakeven':_0x4d487f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x80e531(0x30d)](_0x80e531(0x1e0))[_0x80e531(0x1a2)]({'coin':_0x227579[_0x80e531(0x1cc)]})[_0x80e531(0x330)](_0x26e125)['write']();}}}});}async function placeOrder(_0x2b3435){const _0x43f5ed=_0x7676bb,_0x3f2af7=config[_0x43f5ed(0x316)]=='market'?_0x43f5ed(0x192):_0x43f5ed(0x34f);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS['LOCKED']);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x43f5ed(0x264)](_0x43f5ed(0x286)+_0x2b3435['map'](_0x1fbc85=>_0x1fbc85['coin'])[_0x43f5ed(0x31a)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState='initial';let _0x31af38=![];lastOrders=[];const _0x2889ba=config[_0x43f5ed(0x1d1)];for(const _0x43c51e of _0x2b3435){let _0x98bee,_0x5bc115,_0xfcee58,_0x103a23,_0x19641a,_0x115ca7=_0x43c51e[_0x43f5ed(0x1c0)];logger[_0x43f5ed(0x264)](_0x43f5ed(0x190)+_0x43c51e['coin']+'\x20'+_0x43c51e[_0x43f5ed(0x1af)]+'\x20'+_0x43c51e['last']+'\x20'+_0x43c51e[_0x43f5ed(0x307)]+'%\x20'+_0x43c51e[_0x43f5ed(0x311)]+'%\x20'+(0x64*_0x43c51e[_0x43f5ed(0x248)])[_0x43f5ed(0x344)](0x2)+_0x43f5ed(0x1ce)+_0x2889ba[_0x43f5ed(0x344)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x43f5ed(0x338)](_0xee5edd=>_0xee5edd!==_0x43c51e[_0x43f5ed(0x1cc)]);const _0x4cb703=currentCoins['find'](_0x509302=>_0x509302[_0x43f5ed(0x1cc)]==_0x43c51e['coin']);_0x4cb703&&(_0x4cb703[_0x43f5ed(0x2d4)]=_0x43c51e[_0x43f5ed(0x1af)]);try{const _0x40c0d3=await exchange['fetchTicker'](_0x115ca7);_0x98bee=_0x43c51e[_0x43f5ed(0x261)]?0x1/_0x43c51e[_0x43f5ed(0x2bf)]:_0x43c51e[_0x43f5ed(0x2bf)],_0x5bc115=_0x40c0d3[_0x43f5ed(0x257)],_0xfcee58=_0x40c0d3['ask'];_0x43c51e[_0x43f5ed(0x261)]?(_0x103a23=_0x43c51e['side']==_0x43f5ed(0x1e1)?'sell':_0x43f5ed(0x1e1),_0x19641a=Math[_0x43f5ed(0x1b4)](_0x43c51e[_0x43f5ed(0x1c9)])/_0x98bee):(_0x103a23=_0x43c51e[_0x43f5ed(0x33e)],_0x19641a=Math[_0x43f5ed(0x1b4)](_0x43c51e[_0x43f5ed(0x1c9)]));_0x3f2af7==_0x43f5ed(0x34f)&&(config[_0x43f5ed(0x316)]==_0x43f5ed(0x260)&&(_0x98bee=_0x103a23==_0x43f5ed(0x1e1)?_0x5bc115:_0xfcee58),config[_0x43f5ed(0x316)]==_0x43f5ed(0x1ed)&&(_0x98bee=_0x103a23==_0x43f5ed(0x1e1)?_0xfcee58:_0x5bc115));_0x19641a=formatResult(_0x19641a,0x8),_0x98bee=formatResult(_0x98bee,0x8);const _0x3ea371=_0x103a23==_0x43f5ed(0x2b3)?config[_0x43f5ed(0x2d0)]?String['fromCodePoint']('0x'+config[_0x43f5ed(0x2d0)])+'\x20':'':config[_0x43f5ed(0x35c)]?String[_0x43f5ed(0x1f4)]('0x'+config[_0x43f5ed(0x35c)])+'\x20':'',_0x2b272e=_0x3f2af7==_0x43f5ed(0x192)?_0x43f5ed(0x27d):config['ordertype']==_0x43f5ed(0x260)?_0x43f5ed(0x20a):_0x43f5ed(0x2ef),_0x558024=(Math[_0x43f5ed(0x256)](Math[_0x43f5ed(0x342)]()*0x35a4e900)+0x5f5e100)[_0x43f5ed(0x1d9)]();lastOrders['push']({'customId':_0x558024,'symbol':_0x115ca7,'coin':_0x43c51e[_0x43f5ed(0x1cc)],'amount':_0x19641a,'price':_0x98bee,'side':_0x103a23,'reverse':_0x43c51e[_0x43f5ed(0x261)],'filled':0x0});let _0x58b6f3;_0x3f2af7==_0x43f5ed(0x192)?_0x103a23==_0x43f5ed(0x1e1)&&[_0x43f5ed(0x1a0),'Bitget',_0x43f5ed(0x28d),_0x43f5ed(0x240),_0x43f5ed(0x280),'Huobipro'][_0x43f5ed(0x32c)](config['exchange'])?_0x58b6f3=await exchange['createOrder'](_0x115ca7,_0x3f2af7,_0x103a23,_0x19641a,_0x98bee):_0x58b6f3=await exchange['createOrder'](_0x115ca7,_0x3f2af7,_0x103a23,_0x19641a,undefined):_0x58b6f3=await exchange['createOrder'](_0x115ca7,_0x3f2af7,_0x103a23,_0x19641a,_0x98bee);const _0x1d5ead=lastOrders[_0x43f5ed(0x1ea)]-0x1;if(_0x1d5ead>=0x0&&lastOrders[_0x1d5ead]['customId']==_0x558024){lastOrders[_0x1d5ead][_0x43f5ed(0x1f0)]=_0x58b6f3['id'];if(_0x58b6f3[_0x43f5ed(0x1c5)])lastOrders[_0x1d5ead]['amount']=_0x58b6f3[_0x43f5ed(0x1c5)];if(_0x58b6f3[_0x43f5ed(0x241)])lastOrders[_0x1d5ead][_0x43f5ed(0x241)]=_0x58b6f3[_0x43f5ed(0x241)];lastOrders[_0x1d5ead][_0x43f5ed(0x1bf)]=_0x58b6f3['fee'];}if(_0x58b6f3['amount'])_0x19641a=_0x58b6f3['amount'];if(_0x58b6f3[_0x43f5ed(0x241)])_0x98bee=_0x58b6f3[_0x43f5ed(0x241)];if(_0x3f2af7=='market')logHistory(_0x43f5ed(0x268),''+_0x3ea371+_0x2b272e+_0x43f5ed(0x2e5)+_0x115ca7+'\x20'+_0x103a23+'\x20#'+formatResult(_0x19641a,0x8)+'\x20@'+formatResult(_0x98bee,0x8));else logHistory(_0x43f5ed(0x268),''+_0x3ea371+_0x2b272e+'\x20order:\x20'+_0x115ca7+'\x20'+_0x103a23+'\x20#'+formatResult(_0x19641a,0x8)+'\x20@'+formatResult(_0x98bee,0x8));logger['debug'](_0x43f5ed(0x2d2)+_0x58b6f3['id']+'\x20|\x20Custom\x20ID:\x20'+_0x558024);if(config[_0x43f5ed(0x21b)]!=0x0){let _0x1c04c5=null;if(cooldownTracker[_0x43f5ed(0x1ea)]==config[_0x43f5ed(0x21b)]-0x1)_0x1c04c5=cooldownTracker[_0x43f5ed(0x266)]();const _0x5eebf3=getTimeStamp();cooldownTracker[_0x43f5ed(0x2c3)](_0x5eebf3);if(_0x1c04c5){const _0x20ede3=fns[_0x43f5ed(0x191)](new Date(_0x5eebf3),new Date(_0x1c04c5));if(_0x20ede3<cooldownInterval){logHistory(_0x43f5ed(0x350),_0x43f5ed(0x1a9)+config[_0x43f5ed(0x21b)]+_0x43f5ed(0x24b)+cooldownInterval/0x3c+_0x43f5ed(0x2dc)+cooldownPeriod/(0xe10*0x3e8)+_0x43f5ed(0x2b5)),coolingDown=!![];break;}}}}catch(_0xe28464){if(_0xe28464[_0x43f5ed(0x1d9)]()[_0x43f5ed(0x32c)](_0x43f5ed(0x2dd)))lastOrders=lastOrders['filter'](_0x524152=>_0x524152['symbol']!=_0x115ca7),logHistory('error',_0x43f5ed(0x195)+_0x115ca7),_0x31af38=!![];else{if(_0xe28464['toString']()[_0x43f5ed(0x32c)]('Invalid\x20quantity'))lastOrders=lastOrders['filter'](_0x1abc37=>_0x1abc37[_0x43f5ed(0x1c0)]!=_0x115ca7),logHistory(_0x43f5ed(0x350),_0x43f5ed(0x25d)+_0x115ca7),_0x31af38=!![];else{if(_0xe28464[_0x43f5ed(0x1d9)]()[_0x43f5ed(0x32c)](_0x43f5ed(0x209)))lastOrders=lastOrders[_0x43f5ed(0x338)](_0x51cc92=>_0x51cc92[_0x43f5ed(0x1c0)]!=_0x115ca7),logHistory(_0x43f5ed(0x350),_0x43f5ed(0x259)+_0x115ca7),logger[_0x43f5ed(0x264)](_0xe28464),_0x31af38=!![];else _0xe28464[_0x43f5ed(0x1d9)]()[_0x43f5ed(0x32c)](_0x43f5ed(0x2d5))?(lastOrders=lastOrders[_0x43f5ed(0x338)](_0x3c2193=>_0x3c2193[_0x43f5ed(0x1c0)]!=_0x115ca7),logHistory(_0x43f5ed(0x350),_0x43f5ed(0x195)+_0x115ca7),_0x31af38=!![]):(lastOrders=lastOrders[_0x43f5ed(0x338)](_0x160a5b=>_0x160a5b['symbol']!=_0x115ca7),await handleError(_0xe28464,_0x43f5ed(0x2de),_0x115ca7));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0x2b791e=config['ordertype']==_0x43f5ed(0x192)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1c339d=_0x43f5ed;validateOrders(_0x1c339d(0x334));},_0x2b791e);}else unlockOrders();_0x31af38&&config[_0x43f5ed(0x26c)]&&(logHistory('error','Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success','Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x43f5ed(0x26c)]&&logHistory('error',_0x43f5ed(0x1ca));else lockOrders!=ORDERS[_0x43f5ed(0x18b)]&&(!config[_0x43f5ed(0x26c)]&&(config[_0x43f5ed(0x316)]=='market'?logHistory(_0x43f5ed(0x350),_0x43f5ed(0x26e)):logHistory(_0x43f5ed(0x350),_0x43f5ed(0x211))));}}function persistOpenOrders(_0x2c6868){const _0x3d5018=_0x7676bb,_0x598f4d={...config,'openOrders':_0x2c6868};let _0x33f0fa=dbConfig[_0x3d5018(0x30d)](_0x3d5018(0x2fc))[_0x3d5018(0x1a2)]({'botID':botID})[_0x3d5018(0x224)]();_0x33f0fa&&dbConfig[_0x3d5018(0x30d)](_0x3d5018(0x2fc))[_0x3d5018(0x1a2)]({'botID':botID})[_0x3d5018(0x330)](_0x598f4d)[_0x3d5018(0x337)]();}function restoreOrders(){const _0xcc88b1=_0x7676bb;let _0x5b93d7;config[_0xcc88b1(0x1d8)]&&allOpenOrders[_0xcc88b1(0x239)](_0x225de=>{const _0xe46a84=_0xcc88b1,_0x66801b=config[_0xe46a84(0x1d8)]['find'](_0xf567ad=>_0xf567ad['orderId']==_0x225de['id']);_0x66801b&&(lastOrders[_0xe46a84(0x2c3)](_0x66801b),_0x5b93d7=_0x225de[_0xe46a84(0x273)]);});if(lastOrders[_0xcc88b1(0x1ea)]>0x0){setLockOrders(ORDERS[_0xcc88b1(0x2e2)]),validateOrdersState=_0xcc88b1(0x2c6),allOrdersPlaced=!![];const _0x3920d7=new Date()[_0xcc88b1(0x1df)](),_0x3fbd10=config[_0xcc88b1(0x316)]==_0xcc88b1(0x192)?validateOrderTimeout*0x3c*0x3e8:config[_0xcc88b1(0x22b)]*0x3c*0x3e8;if(_0x5b93d7+_0x3fbd10>_0x3920d7){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3d7724=_0xcc88b1;validateOrders(_0x3d7724(0x334));},_0x5b93d7+_0x3fbd10-_0x3920d7);}else validateOrders(_0xcc88b1(0x334));}}async function sendMetricsTelegram(){const _0x515c7c=_0x7676bb;if(!coinsLoaded){process['send']({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x446fc4=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x297cd7='';if(config['showname'])_0x297cd7='<b>'+config[_0x515c7c(0x263)]+_0x515c7c(0x22a);else _0x297cd7=_0x515c7c(0x1d7)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x547320=config[_0x515c7c(0x1cd)],_0x370b19=config[_0x515c7c(0x2cb)],_0x12d8bb=getKPIs(_0x515c7c(0x1cd)),_0x50a492=getKPIs(_0x515c7c(0x2cb),_0x370b19),_0x4342fb=getKPIs(_0x515c7c(0x2ca)),_0x292a76=getKPIs(_0x515c7c(0x296),_0x370b19),_0x15a6c7=getKPIs(_0x515c7c(0x306)),_0xae2771=getKPIs('pnl-fiat',_0x370b19);_0x547320[_0x515c7c(0x32c)](_0x370b19)?(_0x297cd7+=_0x515c7c(0x33f),_0x297cd7+='Value\x20'+_0x547320+':\x20'+_0x12d8bb[_0x515c7c(0x224)]+'\x20('+_0x12d8bb['change']+_0x515c7c(0x251),_0x297cd7+='Net\x20'+_0x547320+':\x20'+_0x4342fb[_0x515c7c(0x224)]+'\x20('+_0x4342fb[_0x515c7c(0x1d3)]+_0x515c7c(0x251),_0x297cd7+=_0x515c7c(0x253)+_0x547320+':\x20'+_0x15a6c7['value']+'\x20('+_0x15a6c7['change']+_0x515c7c(0x251),_0x297cd7+=_0x515c7c(0x226)):(_0x297cd7+='<pre>',_0x297cd7+=_0x515c7c(0x197)+_0x547320+':\x20'+_0x12d8bb[_0x515c7c(0x224)]+'\x20('+_0x12d8bb[_0x515c7c(0x1d3)]+_0x515c7c(0x251),_0x297cd7+=_0x515c7c(0x197)+_0x370b19+':\x20'+_0x50a492[_0x515c7c(0x224)]+'\x20('+_0x50a492[_0x515c7c(0x1d3)]+'%)\x0a',_0x297cd7+=_0x515c7c(0x1f6)+_0x547320+':\x20'+_0x4342fb['value']+'\x20('+_0x4342fb['change']+_0x515c7c(0x251),_0x297cd7+=_0x515c7c(0x1f6)+_0x370b19+':\x20'+_0x292a76[_0x515c7c(0x224)]+'\x20('+_0x292a76[_0x515c7c(0x1d3)]+_0x515c7c(0x251),_0x297cd7+=_0x515c7c(0x253)+_0x547320+':\x20'+_0x15a6c7[_0x515c7c(0x224)]+'\x20('+_0x15a6c7[_0x515c7c(0x1d3)]+_0x515c7c(0x251),_0x297cd7+=_0x515c7c(0x253)+_0x370b19+':\x20'+_0xae2771['value']+'\x20('+_0xae2771[_0x515c7c(0x1d3)]+_0x515c7c(0x251),_0x297cd7+=_0x515c7c(0x226)),process[_0x515c7c(0x336)]({'telegrammsg':_0x297cd7},_0x47fafe=>{});}async function sendPortfolioTelegram(){const _0x5993ea=_0x7676bb;if(!coinsLoaded||!currentCoins[0x0][_0x5993ea(0x307)]){process[_0x5993ea(0x336)]({'telegrammsg':_0x5993ea(0x1d2)},_0x2b61f7=>{});return;}let _0x84fa39='';if(config[_0x5993ea(0x23b)])_0x84fa39=_0x5993ea(0x1fe)+config['botname']+_0x5993ea(0x2d7);else _0x84fa39=_0x5993ea(0x1d7)+botID+_0x5993ea(0x2d7);_0x84fa39+='<pre>',_0x84fa39+=_0x5993ea(0x355),_0x84fa39+=_0x5993ea(0x328),_0x84fa39+=_0x5993ea(0x355),currentCoins[_0x5993ea(0x239)](_0xf3d642=>{const _0x5b31c1=_0x5993ea;_0x84fa39+=_0xf3d642[_0x5b31c1(0x1cc)][_0x5b31c1(0x215)](0x7)+'|\x20'+formatPad(_0xf3d642[_0x5b31c1(0x307)],0x2,0x6)+'|\x20'+formatPad(_0xf3d642['target'],0x2,0x6)+'|\x20'+formatPad(_0xf3d642[_0x5b31c1(0x248)]*0x64,0x2,0x6)+'\x0a';}),_0x84fa39+=_0x5993ea(0x226),process[_0x5993ea(0x336)]({'telegrammsg':_0x84fa39},_0x3d9748=>{});}function formatPad(_0x558058,_0x51671e,_0x4b2e72){const _0x7dd3c4=formatResultString(_0x558058,_0x51671e);return _0x7dd3c4?_0x7dd3c4['padStart'](_0x4b2e72):''['padStart'](_0x4b2e72);}function logHistory(_0x290565,_0x1aff97,_0x1769b8=''){const _0x23fb43=_0x7676bb;logger[_0x23fb43(0x246)](''+_0x1aff97);let _0x13d2dd={'time':getTimeStamp(),'type':_0x290565,'event':_0x1aff97};dbLogs[_0x23fb43(0x30d)](_0x23fb43(0x1ad))[_0x23fb43(0x2c3)](_0x13d2dd)[_0x23fb43(0x337)]();if(_0x1769b8=='')_0x1769b8=_0x1aff97;proxyEmit(_0x23fb43(0x212),{'log':_0x13d2dd,'summary':_0x1769b8}),process[_0x23fb43(0x336)]({'telegram':{..._0x13d2dd,'botname':config[_0x23fb43(0x263)],'showname':config['showname']}},_0x47c4ae=>{});}function emitHistory(_0x3ad4c5={}){const _0x4e2e03=_0x7676bb;Object[_0x4e2e03(0x2ed)](_0x3ad4c5)[_0x4e2e03(0x1ea)]==0x0&&(_0x3ad4c5={'type':[_0x4e2e03(0x268),'event'],'event':'','page':0x1});if(_0x3ad4c5[_0x4e2e03(0x2fa)]['includes'](_0x4e2e03(0x212)))_0x3ad4c5['type'][_0x4e2e03(0x346)](_0x3ad4c5[_0x4e2e03(0x2fa)][_0x4e2e03(0x219)]('event'),0x1,_0x4e2e03(0x350),_0x4e2e03(0x33b),_0x4e2e03(0x25f));if(dbLogs[_0x4e2e03(0x1a7)]('logs')[_0x4e2e03(0x224)]()){let _0x3f5403=dbLogs[_0x4e2e03(0x30d)](_0x4e2e03(0x1ad))[_0x4e2e03(0x338)](_0x464148=>{const _0x5b5e60=_0x4e2e03;if(_0x3ad4c5[_0x5b5e60(0x2fa)][_0x5b5e60(0x1ea)]==0x0)return![];else return _0x3ad4c5['type'][_0x5b5e60(0x32c)](_0x464148[_0x5b5e60(0x2fa)]);})[_0x4e2e03(0x338)](_0x1c20de=>{const _0x38d820=_0x4e2e03;if(_0x3ad4c5[_0x38d820(0x212)]=='')return!![];else return _0x1c20de[_0x38d820(0x212)]['toLowerCase']()[_0x38d820(0x32c)](_0x3ad4c5[_0x38d820(0x212)][_0x38d820(0x19b)]());})[_0x4e2e03(0x1fa)](_0x4e2e03(0x2ec)),_0x50967b=_0x3f5403[_0x4e2e03(0x224)]()['length'];_0x3f5403=_0x3f5403['reverse']()[_0x4e2e03(0x340)]((_0x3ad4c5[_0x4e2e03(0x276)]-0x1)*logPageSize,_0x3ad4c5['page']*logPageSize-0x1)[_0x4e2e03(0x261)]()[_0x4e2e03(0x224)](),proxyEmit(_0x4e2e03(0x304),{'logs':_0x3f5403,'total':_0x50967b});}else proxyEmit(_0x4e2e03(0x304),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1bdf78){const _0x40f4bc=_0x7676bb;if(dbLogs[_0x40f4bc(0x1a7)]('logs')['value']()){const _0x1dd839=dbLogs['get'](_0x40f4bc(0x1ad))[_0x40f4bc(0x1fa)]('time')[_0x40f4bc(0x338)](_0x44d26f=>{const _0xf5b402=_0x40f4bc;return _0x44d26f[_0xf5b402(0x2fa)]==_0xf5b402(0x268);})[_0x40f4bc(0x224)]();dbLogs[_0x40f4bc(0x30d)]('logs')['remove']()[_0x40f4bc(0x337)](),dbLogs[_0x40f4bc(0x30d)](_0x40f4bc(0x1ad))[_0x40f4bc(0x330)](_0x1dd839)[_0x40f4bc(0x337)](),emitHistory(_0x1bdf78);}}async function pauseBot(_0x28d297=pauseBotIntervalShort,_0x4d3995,_0x467887,_0x12265a=![]){const _0x2d0d4c=_0x7676bb,_0x1904b8=new Date()[_0x2d0d4c(0x1df)]();if(!lastErrorShown||_0x1904b8-lastErrorShown>=_0x28d297){lastErrorShown=_0x1904b8;if(!lastBotPause)lastBotPause=_0x1904b8,consecutivePauses=0x1;else{if(_0x1904b8-lastBotPause-_0x28d297<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x12265a){logHistory(_0x2d0d4c(0x350),_0x4d3995+_0x2d0d4c(0x358)),await killBot();return;}else logHistory(_0x2d0d4c(0x350),_0x4d3995+pauseBotMsg),_0x28d297=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x1904b8;}_0x467887?logger['debug']('('+consecutivePauses+')\x20'+_0x4d3995+_0x2d0d4c(0x318),_0x467887):logger[_0x2d0d4c(0x264)]('('+consecutivePauses+')\x20'+_0x4d3995);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x28d297),botPaused=![],_0x28d297==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x36d1bc=_0x7676bb;botPaused=!![],await sleep(0x3e8),process['send']({'stop':_0x36d1bc(0x2f9)},_0x808ac4=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2ad9a6,_0x5cc44b,_0x40b353=![]){const _0x59b006=_0x7676bb;if(botPaused)return;let _0x2355f7;const _0x12a926=config[_0x59b006(0x1f5)]||_0x59b006(0x335);if(_0x5cc44b)logger[_0x59b006(0x264)](_0x59b006(0x250)+_0x5cc44b);const _0x5b932a=()=>{loading['error']='api-issue',emitLoadingProgress();};if(_0x2ad9a6[_0x59b006(0x1d9)]()[_0x59b006(0x32c)]('API-key\x20format\x20invalid'))logHistory('error',_0x12a926+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x5b932a();else{if(_0x2ad9a6[_0x59b006(0x1d9)]()['includes'](_0x59b006(0x183)))logHistory('error',_0x12a926+_0x59b006(0x325)),_0x5b932a();else{if(_0x2ad9a6['toString']()[_0x59b006(0x32c)](_0x59b006(0x25b)))config[_0x59b006(0x285)]?_0x2355f7=_0x12a926+_0x59b006(0x29d):_0x2355f7=_0x12a926+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x59b006(0x350),_0x2355f7+'\x20(see:\x20hodlerhacks.com/fix/1)'),_0x5b932a();else{if(_0x2ad9a6[_0x59b006(0x1d9)]()[_0x59b006(0x32c)](_0x59b006(0x2e4)))logHistory(_0x59b006(0x350),_0x12a926+_0x59b006(0x237)),_0x5b932a();else{if(!_0x40b353)await handleError(_0x2ad9a6,null);}}}}}async function handleError(_0x110084,_0x5b781a,_0x1ca121=''){const _0x2b504e=_0x7676bb;if(botPaused)return;let _0x214b9c;const _0x3c0cd5=config[_0x2b504e(0x1f5)]||'Exchange';if(_0x5b781a)logger['debug'](_0x2b504e(0x250)+_0x5b781a);if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)](_0x2b504e(0x2d3)))_0x214b9c=_0x3c0cd5+_0x2b504e(0x187),await pauseBot(undefined,_0x214b9c,_0x110084);else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)]('RateLimitExceeded'))_0x214b9c=_0x3c0cd5+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x214b9c,_0x110084);else{if(_0x110084['toString']()[_0x2b504e(0x32c)](_0x2b504e(0x19a))||_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)](_0x2b504e(0x2f2)))_0x214b9c=_0x3c0cd5+_0x2b504e(0x222),await pauseBot(undefined,_0x214b9c,_0x110084['toString']());else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)](_0x2b504e(0x32f)))_0x214b9c=_0x3c0cd5+_0x2b504e(0x359),await pauseBot(undefined,_0x214b9c,_0x110084[_0x2b504e(0x1d9)]());else{if(_0x110084['toString']()[_0x2b504e(0x32c)](_0x2b504e(0x272)))_0x214b9c=_0x3c0cd5+_0x2b504e(0x30c),await pauseBot(undefined,_0x214b9c,_0x110084[_0x2b504e(0x1d9)]());else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x19b)]()[_0x2b504e(0x32c)]('timestamp')||_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x19b)]()[_0x2b504e(0x32c)]('request-time'))_0x214b9c=_0x2b504e(0x320),await pauseBot(undefined,_0x214b9c,_0x110084['toString']());else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)]('InvalidNonce'))_0x214b9c=_0x3c0cd5+_0x2b504e(0x2be),await pauseBot(undefined,_0x214b9c,_0x110084[_0x2b504e(0x1d9)]());else{if(_0x110084 instanceof ccxt['NetworkError'])_0x214b9c=_0x3c0cd5+'\x20network\x20error:\x20'+_0x110084[_0x2b504e(0x1d9)](),logger[_0x2b504e(0x264)]('Network\x20error\x20details:',_0x110084),await pauseBot(undefined,_0x214b9c,_0x110084);else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)]('API-key\x20format\x20invalid'))logHistory(_0x2b504e(0x350),_0x3c0cd5+_0x2b504e(0x1e3)),logHistory(_0x2b504e(0x350),_0x2b504e(0x321)),await killBot();else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)](_0x2b504e(0x183)))logHistory('error',_0x3c0cd5+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x2b504e(0x350),_0x2b504e(0x321)),await killBot();else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)]('AuthenticationError')&&_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)]('token\x20is\x20expired'))_0x214b9c=_0x3c0cd5+_0x2b504e(0x292),await pauseBot(undefined,_0x214b9c,_0x110084,!![]);else{if(_0x110084[_0x2b504e(0x1d9)]()[_0x2b504e(0x32c)](_0x2b504e(0x25b)))config[_0x2b504e(0x285)]?_0x214b9c=_0x3c0cd5+_0x2b504e(0x29d):_0x214b9c=_0x3c0cd5+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x2b504e(0x350),_0x214b9c),logHistory(_0x2b504e(0x350),_0x2b504e(0x321)),await killBot();else{if(_0x110084[_0x2b504e(0x1d9)]()['includes'](_0x2b504e(0x2e4)))logHistory('error',_0x3c0cd5+_0x2b504e(0x2e8)),logHistory('error',_0x2b504e(0x321)),await killBot();else{if(_0x110084['toString']()[_0x2b504e(0x32c)](_0x2b504e(0x329)))logHistory('error',_0x2b504e(0x1a1)+_0x1ca121),logger[_0x2b504e(0x264)](_0x2b504e(0x31d),_0x110084);else{if(_0x110084 instanceof ccxt[_0x2b504e(0x184)]){_0x214b9c=_0x3c0cd5+_0x2b504e(0x33c)+_0x110084[_0x2b504e(0x1d9)]();if(_0x1ca121)_0x214b9c+=_0x2b504e(0x208)+_0x1ca121;await pauseBot(undefined,_0x214b9c,_0x110084);}else{_0x214b9c='Unknown\x20error:\x20'+_0x110084[_0x2b504e(0x1d9)]();if(_0x1ca121)_0x214b9c+=_0x2b504e(0x208)+_0x1ca121;await pauseBot(undefined,_0x214b9c);}}}}}}}}}}}}}}}}function decryptRSA(_0x2c0167,_0x410f11){const _0x387cbe=_0x7676bb,_0x5f246a=forge[_0x387cbe(0x1cb)][_0x387cbe(0x2ce)](_0x2c0167),_0x40266b=_0x5f246a[_0x387cbe(0x26b)](forge['util'][_0x387cbe(0x309)](_0x410f11),_0x387cbe(0x2cd),{'md':forge['md'][_0x387cbe(0x34c)]['create'](),'mgf1':{'md':forge['md'][_0x387cbe(0x34c)][_0x387cbe(0x30b)]()}});return _0x40266b;}function _0x2dce(){const _0x330cf3=['isEqual','588lfpUKC','Error\x20while\x20deleting\x20files:\x20','cloneDeep','args','pro','password','limits','timeshift','\x0aSymbol(s):\x20','InvalidOrder','Limit\x20(high-margin)','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','switch-manual','\x20minutes','onepagemode','version','getDate','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','event','getStartingBalances','Test\x20new\x20API','padEnd','511670ICsfyc','findIndex','showConfig','indexOf','marketcapEnabled','cooldown','lowdb/adapters/FileSync','Loading\x20completed','Headless:\x20','staging','red_yellow_blue','2.6.23','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','fetchBalance()','value','entries','</pre>',')\x20unknown\x20order:\x20','startprice','watchTradesForSymbols()','\x20metrics:</b>\x20\x0a\x0a','timeout','84InBQgK','marketcap','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','***','coin-loading-progress','(((.+)+)+)+$','-results.json','Saving\x20configuration','toUpperCase','process\x20','watchOrders()','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','status','forEach','string','showname','quote','portfolio1','round','\x20|\x20exchange:\x20','Gateio','price',')\x20|\x20exchange:\x20','initclient','match','percentage','full','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','delta','1\x20-\x20Validate\x20orders:\x20','BTC','\x20orders\x20in\x20less\x20than\x20','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','enabled','ccxt','/USD','Exception\x20thrown\x20in\x20','%)\x0a','node-forge','PnL\x20','sendPortfolioTelegram','axios','floor','bid','\x20-\x20','Order\x20is\x20invalid:\x20','timestamp-issue','AuthenticationError','constructor','Order\x20amount\x20is\x20invalid:\x20','test','success','limit-high','reverse','padStart','botname','debug','getMinutes','shift','getMonth','order','deleteHistoryAlerts','Resetting\x20bot\x20history','decrypt','headless','map','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Error\x20details:\x20','isBefore','argv','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','timestamp','resetHistory','autoliquidity','page','getHours','USD','closed','************','lowdb','2\x20-\x20Validate\x20orders:\x20','Market','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','USDT','Huobi','Valid\x20balance\x20for\x20','remove','startnumber','-config.json','apiPassword','Placing\x20order\x20for:\x20','./version.json','orderstatus','search','fetchTickers','added','log','Cex','privateKey','util','yyyy/MM/dd','initTickers()','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','heapUsed','2.6.0','detectLiquidityChange()','net-fiat','storeFiat','memoryUsage','complete','startdate','portfolio','Unknown\x20error\x20-\x20check\x20logs','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','colorscheme','Portfolio\x20change\x20detected:\x20','offset','89831gQfclI','starting-balance-','performance','remainingSymbols','no\x20open\x20orders','initial','loadMarkets','min','configuration','1\x20-\x20FILLED\x20known\x20order:\x20','excluded','update-liquidity','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','average','2\x20-\x20Handled\x20open\x20orders','market_cap','secure','sell','\x20minutes\x20-\x20','\x20hour','mkdirSync','running','environment','marketcapsqrt',':\x20Bot\x20','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','max','/EUR','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','last','configstate','watchTrades()','fetchBalance','push','usd','marketcapApi','ongoing','\x20|\x20lock\x20orders:\x20','/backup/','replace','net-basecoin','fiat','currency','RSA-OAEP','privateKeyFromPem','storeHeadless','emojisell','yargs/yargs','ID:\x20','DDoSProtection','prevnumber','must\x20be\x20greater\x20than\x20minimum\x20amount','\x20>\x20[DEBUG]\x20','\x20portfolio:</b>\x20\x0a\x0a','PAXG','pnl','bot-','14599jYTVul','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','MIN_NOTIONAL','placeOrder()','EUR','testAPI()','147366TBjuJj','LOCKED','Invalid\x20symbol:\x20','PermissionDenied','\x20order:\x20','secret','28172Ywapcu','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','0\x20-\x20EXECUTION:\x20','substring','RETRY\x20-\x20Problem\x20resolved\x20after\x20','time','keys','2\x20-\x20handling\x20FILLED\x20order:\x20','Limit\x20(low-margin)','\x20has\x20a\x2024h\x20drop\x20of\x20','testApi','OnMaintenance','liquidity','watchOrders','changes','Resuming\x20(','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20/\x20','kill','type','realizedPnL','bot','Manual\x20balancing\x20required','sqrt','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','getFullYear','BUSD','/output-000.log','emitHistory','event-history','watchTradesForSymbols','pnl-basecoin','distribution','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','decode64','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','create','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','get','Initializing\x20coin\x20results','balancing\x20resumes\x20when\x20cooldown\x20ends','Set\x20lock\x20orders\x20to:\x20','target','115XPOxbl','split','filled','progress','ordertype','addDays','\x20>\x20details:','Order\x20filled','join','2.7.1','balances','Error\x20details:','netoffset','cancel','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','cancelOrders()','72EcdbQQ','\x20attempts','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','InsufficientFunds','botID','Binance','includes','./config/','eur','RequestTimeout','assign','path','Error:\x20Invalid\x20argument\x20','Initiating\x20bot\x20restart','final','Exchange','send','write','filter','Order\x20filled:\x20','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','warning','\x20exchange\x20error:\x20','stringify','side','<pre>','slice','function','random','Failed\x20to\x20load\x20coin\x20data\x20for\x20','toFixed','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','splice','storeConfiguration','Pausing\x20for\x20','Error\x20in\x20loadSymbols():\x20','cost','slider','sha256','apiSecret','removed','limit','error','Cryptocom','unlinkSync','33OjljSO','1\x20-\x20partially\x20FILLED\x20(','-------------------------------\x0a','apiKey','apply','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','cancelOrder','Initializing\x20exchange','emojibuy','canceled','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','ExchangeError','Waited\x20','Order(s)\x20not\x20validated\x20after\x20','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','recent20','change24h','watchTrades','UNLOCKED','breakeven','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','total','fetchTicker','Trigger:\x20','differenceInSeconds','market','-events.json','-performance.json','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','basecoinvalue','Value\x20','exchange\x20reload','parse','ExchangeNotAvailable','toLowerCase','2.3.5','\x20|\x20','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','date','Bybit','Insufficient\x20funds\x20to\x20execute\x20order:\x20','find','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','TUSD','setSandboxMode','fetchOpenOrders','has','ETH','Executed\x20','3960XeUgWW','open','none','logs','set','number',':\x20timer\x20>','quick','Error\x20in\x20testNewAPI():\x20','Resetting\x20coin\x20results:\x20','abs','Stopped\x20fetching\x20balance\x20after\x20','data','Generated\x20PnL\x20data','net','2481BxIqWP','bb-secure.json','highest','RETRY\x20-\x20Error\x20in\x20','writeFile','Initializing\x20exchange:\x20already\x20done','fee','symbol','sort','OrderNotFound','loadSymbols()','bots','amount','sandbox','\x20>\x20','valid','trade','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','pki','coin','basecoin','%\x20(','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','Invalid\x20balance\x20for\x20','threshold','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','change','getSeconds','Generating\x20PnL\x20data','\x20-\x20go\x20back\x20and\x20try\x20again','<b>Bot\x20','openOrders','toString','No\x20more\x20open\x20orders\x20-\x20','portfolio2','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','./logs/','createWriteStream','getTime','coins','buy','amountToPrecision','\x20API\x20key\x20is\x20invalid','Market\x20order','defaults','pid','\x20|\x20highest\x20fee:\x20','message','UNLOCKING','length','Error\x20occurred:\x20','\x20due\x20to\x20offset','limit-low','format','starting-balances','orderId','spot','existsSync','178TdhRoD','fromCodePoint','exchange','Net\x20','bb-settings.json','.json','recovery','sortBy','freeze','exchanges','createOrder','<b>'];_0x2dce=function(){return _0x330cf3;};return _0x2dce();}async function withRetry(_0x2cfd7d,_0x37d975){const _0x286a73=_0x7676bb;let _0x477e04=![],_0x1ae28e=0x0,_0x3e0f73,_0x148315;while(_0x1ae28e<maxRetries){try{_0x3e0f73=await _0x37d975();break;}catch(_0x359462){_0x148315=_0x359462,!_0x477e04?(_0x477e04=!![],logger[_0x286a73(0x264)](_0x286a73(0x1bc)+_0x2cfd7d+':',_0x359462[_0x286a73(0x1d9)]())):await sleep(retryInterval);}_0x1ae28e++;}if(_0x1ae28e==0x0)return _0x3e0f73;if(_0x1ae28e>=maxRetries)throw _0x148315;else return logger[_0x286a73(0x264)](_0x286a73(0x2eb)+_0x1ae28e+_0x286a73(0x324)),_0x3e0f73;}function formatResult(_0x448aa0,_0x5a86ab){const _0xe44c3e=_0x7676bb;return parseFloat(_0x448aa0[_0xe44c3e(0x344)](_0x5a86ab));}function formatResultTruncate(_0x4cf21e,_0x49fd37){const _0x28d250=_0x7676bb;let _0xce5af8=formatResultString(_0x4cf21e,0xa),_0x4b848d=_0xce5af8[_0x28d250(0x219)]('.');return _0x4b848d!=-0x1&&(_0xce5af8=_0xce5af8[_0x28d250(0x340)](0x0,_0x4b848d+_0x49fd37+0x1)),Number(_0xce5af8);}function formatResultString(_0x162f60,_0x250ae3){const _0x2e7e3d=_0x7676bb;let _0x39d1ae;if(!(''+_0x162f60)[_0x2e7e3d(0x32c)]('e'))_0x39d1ae=+(Math[_0x2e7e3d(0x23e)](_0x162f60+'e+'+_0x250ae3)+'e-'+_0x250ae3);else{let _0x48c7c7=(''+_0x162f60)[_0x2e7e3d(0x313)]('e'),_0x757767='';+_0x48c7c7[0x1]+_0x250ae3>0x0&&(_0x757767='+'),_0x39d1ae=+(Math[_0x2e7e3d(0x23e)](+_0x48c7c7[0x0]+'e'+_0x757767+(+_0x48c7c7[0x1]+_0x250ae3))+'e-'+_0x250ae3);}return Number(_0x39d1ae)[_0x2e7e3d(0x344)](_0x250ae3);}function getServerTime(){const _0x24f9c5=_0x7676bb,_0x5b91c8=new Date();return _0x5b91c8[_0x24f9c5(0x300)]()+'/'+(_0x5b91c8[_0x24f9c5(0x267)]()+0x1)[_0x24f9c5(0x1d9)]()[_0x24f9c5(0x262)](0x2,'0')+'/'+_0x5b91c8[_0x24f9c5(0x210)]()[_0x24f9c5(0x1d9)]()[_0x24f9c5(0x262)](0x2,'0')+'\x20'+_0x5b91c8[_0x24f9c5(0x277)]()[_0x24f9c5(0x1d9)]()[_0x24f9c5(0x262)](0x2,'0')+':'+_0x5b91c8[_0x24f9c5(0x265)]()['toString']()[_0x24f9c5(0x262)](0x2,'0')+':'+_0x5b91c8[_0x24f9c5(0x1d4)]()[_0x24f9c5(0x1d9)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x5109dd=_0x7676bb,_0x2cb2d6=shiftedTime();return _0x2cb2d6[_0x5109dd(0x300)]()+'/'+(_0x2cb2d6['getMonth']()+0x1)[_0x5109dd(0x1d9)]()['padStart'](0x2,'0')+'/'+_0x2cb2d6[_0x5109dd(0x210)]()[_0x5109dd(0x1d9)]()[_0x5109dd(0x262)](0x2,'0')+'\x20'+_0x2cb2d6[_0x5109dd(0x277)]()['toString']()['padStart'](0x2,'0')+':'+_0x2cb2d6[_0x5109dd(0x265)]()['toString']()[_0x5109dd(0x262)](0x2,'0')+':'+_0x2cb2d6[_0x5109dd(0x1d4)]()['toString']()[_0x5109dd(0x262)](0x2,'0');}function getDate(){const _0x15e44d=_0x7676bb,_0x1d537f=shiftedTime();return _0x1d537f[_0x15e44d(0x300)]()+'/'+(_0x1d537f[_0x15e44d(0x267)]()+0x1)[_0x15e44d(0x1d9)]()[_0x15e44d(0x262)](0x2,'0')+'/'+_0x1d537f[_0x15e44d(0x210)]()[_0x15e44d(0x1d9)]()[_0x15e44d(0x262)](0x2,'0');}function getHour(){const _0x34e8eb=_0x7676bb,_0x2559bb=shiftedTime();return _0x2559bb[_0x34e8eb(0x277)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x3b329f){return new Promise(_0x53ff9b=>setTimeout(_0x53ff9b,_0x3b329f));}function shiftedTime(){const _0x450f64=_0x7676bb,_0x40a5e0=new Date();let _0x288455=_0x40a5e0;if(config&&config[_0x450f64(0x207)]!==0x0)_0x288455=fns['add'](_0x40a5e0,{'hours':config[_0x450f64(0x207)]});return _0x288455;}function timer(_0x3f64fd){const _0x442647=_0x7676bb,_0x5e6b1d=new Date();!lasttime?console[_0x442647(0x28c)](getTimeStamp()+_0x442647(0x1b0),_0x3f64fd,_0x5e6b1d):console['log'](getTimeStamp()+':\x20timer\x20>',_0x3f64fd,(_0x5e6b1d-lasttime)/0x3e8),lasttime=_0x5e6b1d;}