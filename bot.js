const _0x5f4e08=_0x5596;(function(_0xaba8c1,_0x5800c8){const _0x479c60=_0x5596,_0x3da3c0=_0xaba8c1();while(!![]){try{const _0x160e26=-parseInt(_0x479c60(0x291))/0x1*(-parseInt(_0x479c60(0x323))/0x2)+parseInt(_0x479c60(0x326))/0x3*(-parseInt(_0x479c60(0x340))/0x4)+-parseInt(_0x479c60(0x3ae))/0x5*(parseInt(_0x479c60(0x36a))/0x6)+parseInt(_0x479c60(0x35c))/0x7*(-parseInt(_0x479c60(0x1fd))/0x8)+parseInt(_0x479c60(0x2f4))/0x9*(parseInt(_0x479c60(0x34f))/0xa)+parseInt(_0x479c60(0x249))/0xb*(parseInt(_0x479c60(0x3a4))/0xc)+parseInt(_0x479c60(0x338))/0xd*(parseInt(_0x479c60(0x35b))/0xe);if(_0x160e26===_0x5800c8)break;else _0x3da3c0['push'](_0x3da3c0['shift']());}catch(_0x34d868){_0x3da3c0['push'](_0x3da3c0['shift']());}}}(_0x5cdb,0x9d1d1));const _0x95328=function(){let _0x424909=!![];return function(_0x311f9e,_0x2fb972){const _0x14417c=_0x424909?function(){const _0x5528ae=_0x5596;if(_0x2fb972){const _0x568330=_0x2fb972[_0x5528ae(0x239)](_0x311f9e,arguments);return _0x2fb972=null,_0x568330;}}:function(){};return _0x424909=![],_0x14417c;};}(),_0x2f555a=_0x95328(this,function(){const _0x898001=_0x5596;return _0x2f555a[_0x898001(0x245)]()[_0x898001(0x3bb)](_0x898001(0x2a7))['toString']()[_0x898001(0x330)](_0x2f555a)[_0x898001(0x3bb)](_0x898001(0x2a7));});_0x2f555a();'use strict';const ccxt=require('ccxt'),low=require(_0x5f4e08(0x3c0)),FileSync=require(_0x5f4e08(0x2be)),fs=require('fs'),fns=require(_0x5f4e08(0x2ee)),forge=require(_0x5f4e08(0x20e)),util=require(_0x5f4e08(0x248)),argv=require(_0x5f4e08(0x231))(process['argv'][_0x5f4e08(0x26e)](0x2))[_0x5f4e08(0x392)],path=require(_0x5f4e08(0x33e)),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=['USD','BUSD',_0x5f4e08(0x32d),_0x5f4e08(0x21d),_0x5f4e08(0x3ad),_0x5f4e08(0x31e)],excludedExchanges=[_0x5f4e08(0x3b6)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5f4e08(0x373)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x5f4e08(0x2b0)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x5f4e08(0x378)+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require('./version.json')['version'],environment=require(_0x5f4e08(0x36b))[_0x5f4e08(0x375)]||_0x5f4e08(0x214),botID=process[_0x5f4e08(0x392)][0x2]||_0x5f4e08(0x342),pattern=/^[0-9]{3}$/;!pattern[_0x5f4e08(0x2fb)](botID)&&(console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x5f4e08(0x336)),killBot());const userID=process[_0x5f4e08(0x392)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x5f4e08(0x30b),logspath=userID?_0x5f4e08(0x25b)+userID+'/':_0x5f4e08(0x25b),loggerfile=fs[_0x5f4e08(0x32a)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x5f4e08(0x2dd)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x5f4e08(0x2dd)](logspath)&&fs[_0x5f4e08(0x209)](logspath);const configfile=configpath+_0x5f4e08(0x362)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x5f4e08(0x3ba),performancefile=configpath+_0x5f4e08(0x362)+botID+_0x5f4e08(0x24e),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x5f4e08(0x389),configbackuppath=configpath+_0x5f4e08(0x27a),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5f4e08(0x2fe)]({'logs':[],'version':serverversion})[_0x5f4e08(0x2ba)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5f4e08(0x2fe)]({'data':[],'version':serverversion})[_0x5f4e08(0x2ba)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':{},'version':serverversion})[_0x5f4e08(0x2ba)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4bd443=>{const _0x164526=_0x5f4e08;console[_0x164526(0x2a0)](_0x4bd443);},'simple':_0x39e958=>{const _0x1acab9=_0x5f4e08;console[_0x1acab9(0x2a0)](_0x39e958),loggerfile[_0x1acab9(0x2ba)](util[_0x1acab9(0x272)](_0x39e958)+'\x0a');},'full':async(_0x5897d7,_0x22906c='')=>{const _0x3caccf=_0x5f4e08;let _0x4bb36a;if(config[_0x3caccf(0x22f)])_0x4bb36a=getTimeStamp()+':\x20'+config[_0x3caccf(0x36d)]+_0x3caccf(0x315)+_0x5897d7;else _0x4bb36a=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x5897d7;console[_0x3caccf(0x2a0)](_0x4bb36a),loggerfile[_0x3caccf(0x2ba)](util[_0x3caccf(0x272)](_0x4bb36a)+'\x0a'),_0x22906c&&(console['log'](_0x22906c),loggerfile[_0x3caccf(0x2ba)](util['format'](_0x22906c)+'\x0a'));},'debug':async(_0x3b9ef0,_0xc2854a='')=>{const _0x5140cb=_0x5f4e08;let _0x1bf447;if(config['showname'])_0x1bf447=getTimeStamp()+':\x20'+config[_0x5140cb(0x36d)]+'\x20>\x20[DEBUG]\x20'+_0x3b9ef0;else _0x1bf447=getTimeStamp()+':\x20Bot\x20'+botID+_0x5140cb(0x359)+_0x3b9ef0;if(debugging)console['log'](_0x1bf447);loggerfile[_0x5140cb(0x2ba)](util[_0x5140cb(0x272)](_0x1bf447)+'\x0a');if(_0xc2854a){if(debugging)console[_0x5140cb(0x2a0)](_0xc2854a);loggerfile[_0x5140cb(0x2ba)](util[_0x5140cb(0x272)](_0xc2854a)+'\x0a');}}};process['on'](_0x5f4e08(0x21e),function(_0x3e1f0f){const _0x3f6670=_0x5f4e08;handleError(_0x3e1f0f[_0x3f6670(0x299)],_0x3f6670(0x21e));});settings[_0x5f4e08(0x268)]!=config[_0x5f4e08(0x268)]&&updateTimeshift(settings[_0x5f4e08(0x268)]);settings['onepagemode']!=config['onepagemode']&&updateOnepagemode(settings[_0x5f4e08(0x28e)]);(settings[_0x5f4e08(0x247)]&&!config[_0x5f4e08(0x247)]||!settings[_0x5f4e08(0x247)]&&config[_0x5f4e08(0x247)])&&updateMarketcapApi(settings[_0x5f4e08(0x247)]);process[_0x5f4e08(0x35f)]({'started':'running'},_0x2134d9=>{}),initializeProcessListeners();function proxyEmit(_0x34cc4a,_0x5e8e53=null){const _0x129e98=_0x5f4e08;process[_0x129e98(0x35f)]({'function':_0x34cc4a,'args':_0x5e8e53},_0x33a2cf=>{});}function initializeProcessListeners(){process['on']('message',_0x36bf7c=>{const _0x1c6e25=_0x5596;switch(Object[_0x1c6e25(0x2ab)](_0x36bf7c)[0x0]){case'timeshift':_0x36bf7c[_0x1c6e25(0x268)]!=undefined&&(settings[_0x1c6e25(0x268)]=_0x36bf7c[_0x1c6e25(0x268)],updateTimeshift(settings[_0x1c6e25(0x268)]));break;case _0x1c6e25(0x28e):_0x36bf7c['onepagemode']!=undefined&&(settings[_0x1c6e25(0x28e)]=_0x36bf7c[_0x1c6e25(0x28e)],updateOnepagemode(settings[_0x1c6e25(0x28e)]));break;case'marketcapApi':_0x36bf7c[_0x1c6e25(0x247)]!=undefined&&(settings[_0x1c6e25(0x247)]=_0x36bf7c[_0x1c6e25(0x247)],updateMarketcapApi(settings[_0x1c6e25(0x247)]));break;case'bots':_0x36bf7c[_0x1c6e25(0x224)]!=undefined&&(bots=JSON['parse'](_0x36bf7c[_0x1c6e25(0x224)]),proxyEmit(_0x1c6e25(0x224),bots));break;case _0x1c6e25(0x38a):switch(_0x36bf7c[_0x1c6e25(0x38a)]){case _0x1c6e25(0x252):initclient();break;case _0x1c6e25(0x28f):toggleBotMode();break;case'emitHistory':emitHistory(_0x36bf7c[_0x1c6e25(0x328)]);break;case _0x1c6e25(0x2bc):deleteHistoryAlerts(_0x36bf7c[_0x1c6e25(0x328)]);break;case'getPortfolio':getPortfolio(_0x36bf7c['args']);break;case _0x1c6e25(0x27e):storeConfiguration(_0x36bf7c[_0x1c6e25(0x328)]);break;case _0x1c6e25(0x347):storeHeadless(_0x36bf7c[_0x1c6e25(0x328)]);break;case _0x1c6e25(0x31f):storeFiat(_0x36bf7c[_0x1c6e25(0x328)]);break;case'resetHistory':resetHistory();break;case _0x1c6e25(0x282):getStartingBalances(getNormalizedPerformance());break;case _0x1c6e25(0x2ce):placeOrder(_0x36bf7c['args']);break;case _0x1c6e25(0x3b3):cancelLoading();break;case _0x1c6e25(0x2ca):showConfig();break;case _0x1c6e25(0x3af):sendMetricsTelegram();break;case _0x1c6e25(0x343):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x4fdd1e=![]){const _0x295a97=_0x5f4e08;logger[_0x295a97(0x230)](_0x295a97(0x38c)+(_0x4fdd1e?'exchange\x20reload':_0x295a97(0x22c))+_0x295a97(0x36f)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x295a97(0x32e)]!=''&&config[_0x295a97(0x32e)]!='***'){loadingProgress=0x0;if(_0x4fdd1e){await initExchange();const _0xbdd557=await testAPI();if(!_0xbdd557)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x295a97(0x25d),emittedConfiguration()),initialPerformanceStored=![];}const _0x1d76f5=await getCoins();[currentCoins,currentCoinsAll]=_0x1d76f5,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x295a97(0x230)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x295a97(0x3ac)]==0x0&&allOpenOrders[_0x295a97(0x3ac)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x35ffae=![]){const _0x2b2691=_0x5f4e08;logger['debug']('Resuming\x20('+(_0x35ffae?_0x2b2691(0x325):_0x2b2691(0x1f7))+_0x2b2691(0x255)+config[_0x2b2691(0x39b)]);if(pidBalances)clearTimeout(pidBalances);if(_0x35ffae){getBalances();return;}coinsLoaded=![];if(config[_0x2b2691(0x32e)]!=''&&config[_0x2b2691(0x32e)]!=_0x2b2691(0x385)){loadingProgress=0x1;const _0x36d4c1=await getCoins();[currentCoins,currentCoinsAll]=_0x36d4c1,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug']('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2b2691(0x3ac)]==0x0&&allOpenOrders[_0x2b2691(0x3ac)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x9bb6d3){const _0x27a914=_0x5f4e08;let _0x312bcc=![];if(_0x9bb6d3)_0x312bcc=!![];const _0x1823ef=_0x312bcc?_0x9bb6d3:currentCoins,_0xa44f42=_0x1823ef[_0x27a914(0x2c9)](_0x11a48b=>_0x11a48b[_0x27a914(0x257)]);if(!config[_0x27a914(0x247)]||!_0x312bcc&&!config['marketcapEnabled']||_0xa44f42['length']==0x0)return;let _0x3b0e92=null;try{_0x3b0e92=await axios['get'](_0x27a914(0x32f),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x27a914(0x247)]},'params':{'symbol':_0xa44f42['toString']()}});}catch(_0x2b2b08){_0x3b0e92=null,_0x2b2b08[_0x27a914(0x245)]()[_0x27a914(0x20c)]('status\x20code\x20401')?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x27a914(0x25d),emittedConfiguration()),logHistory('error',_0x27a914(0x2df))):(logHistory(_0x27a914(0x349),_0x27a914(0x327)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x27a914(0x230)]('Error\x20details:',_0x2b2b08[_0x27a914(0x245)]()+'\x20-\x20'+_0x2b2b08[_0x27a914(0x2a9)]));}const _0x612752=new Map();let _0x4bd8fa=!![];if(_0x3b0e92){let _0x3636a3=0x0;const _0x5adafb=_0x3b0e92[_0x27a914(0x25a)];_0xa44f42[_0x27a914(0x37b)](_0x3535e7=>{const _0x46834b=_0x27a914;if(_0x5adafb[_0x46834b(0x25a)][_0x3535e7][0x0]&&_0x5adafb[_0x46834b(0x25a)][_0x3535e7][0x0][_0x46834b(0x226)][_0x46834b(0x3c1)][_0x46834b(0x3b8)])_0x612752['set'](_0x3535e7,_0x5adafb[_0x46834b(0x25a)][_0x3535e7][0x0][_0x46834b(0x226)][_0x46834b(0x3c1)][_0x46834b(0x3b8)]),_0x3636a3+=_0x5adafb['data'][_0x3535e7][0x0]['quote']['USD'][_0x46834b(0x3b8)];else{if(_0x5adafb[_0x46834b(0x25a)][_0x3535e7][0x0]&&_0x5adafb[_0x46834b(0x25a)][_0x3535e7][0x0]['self_reported_market_cap'])_0x612752[_0x46834b(0x2f8)](_0x3535e7,_0x5adafb['data'][_0x3535e7][0x0][_0x46834b(0x298)]),_0x3636a3+=_0x5adafb[_0x46834b(0x25a)][_0x3535e7][0x0][_0x46834b(0x298)];else{if(!['EUR',_0x46834b(0x3c1)][_0x46834b(0x20c)](_0x3535e7)){if(_0x312bcc)logHistory(_0x46834b(0x349),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x3535e7+_0x46834b(0x2c2));else{const _0x547998=config[_0x46834b(0x292)][_0x46834b(0x329)](_0x403b32=>_0x403b32[_0x46834b(0x257)]==_0x3535e7);_0x547998&&!_0x547998['excluded']&&_0x547998['slider']==-0x1&&(_0x4bd8fa=![],logHistory(_0x46834b(0x349),_0x46834b(0x23b)),logger['debug'](_0x46834b(0x275)+_0x3535e7));}}}}});if(!_0x4bd8fa)return;_0xa44f42[_0x27a914(0x37b)](_0x16aa04=>{const _0x5474cc=_0x27a914,_0x11e1db=_0x612752[_0x5474cc(0x3bf)](_0x16aa04)?_0x612752[_0x5474cc(0x3bf)](_0x16aa04):0x0;if(_0x312bcc){const _0x9d871c=_0x9bb6d3[_0x5474cc(0x329)](_0x2fd98a=>_0x2fd98a[_0x5474cc(0x257)]==_0x16aa04);_0x9d871c&&(_0x9d871c[_0x5474cc(0x207)]=_0x11e1db);}else{const _0x23408c=currentCoins[_0x5474cc(0x329)](_0x399b2e=>_0x399b2e['coin']==_0x16aa04);_0x23408c&&(_0x23408c['marketcap']=_0x11e1db);const _0x1e8520=currentCoinsAll[_0x5474cc(0x329)](_0x275c22=>_0x275c22[_0x5474cc(0x257)]==_0x16aa04);_0x1e8520&&(_0x1e8520[_0x5474cc(0x207)]=_0x11e1db);}}),!_0x312bcc&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x47a248=_0x5f4e08,_0xf49b63=0x2;let _0x341809=0x0,_0x30a73a=0x0,_0x40b633=0x0,_0x296ed4=0x0,_0x21c520=0x0;config[_0x47a248(0x292)][_0x47a248(0x37b)](_0x531cf2=>{const _0x4ad3fd=_0x47a248;if(!_0x531cf2[_0x4ad3fd(0x3ab)]){_0x40b633++,_0x341809+=_0x531cf2[_0x4ad3fd(0x2e7)];if(_0x531cf2[_0x4ad3fd(0x2e7)]===-0x1){_0x341809++;const _0x3fc2e1=currentCoinsAll['find'](_0x380ff0=>_0x380ff0[_0x4ad3fd(0x257)]==_0x531cf2['coin']);_0x3fc2e1&&(_0x296ed4+=_0x3fc2e1['marketcap'],_0x21c520+=Math['sqrt'](_0x3fc2e1['marketcap']));}if(_0x531cf2[_0x4ad3fd(0x2e7)]!==-0x1)_0x30a73a++;}});let _0xcf2b37;const _0x35c51c=0x64-_0x341809,_0x22c14d=_0x40b633-_0x30a73a;_0xcf2b37=_0x22c14d===0x0?_0x341809:Math[_0x47a248(0x380)](0x64,_0x341809),config[_0x47a248(0x292)][_0x47a248(0x37b)](_0xebfbb4=>{const _0x302b65=_0x47a248,_0x540fcf=currentCoinsAll[_0x302b65(0x329)](_0x52779e=>_0x52779e['coin']==_0xebfbb4[_0x302b65(0x257)]);_0x540fcf&&(_0xebfbb4['marketcap']=_0x540fcf[_0x302b65(0x207)]);if(!_0xebfbb4[_0x302b65(0x3ab)]){if(_0xcf2b37<=0x64){if(_0xebfbb4[_0x302b65(0x2e7)]===-0x1){if(_0x296ed4!==0x0&&config[_0x302b65(0x2d7)]){if(_0x540fcf){if(config[_0x302b65(0x2d7)]==_0x302b65(0x207))_0xebfbb4['distribution']=(_0x35c51c/(_0x296ed4/_0x540fcf[_0x302b65(0x207)]))[_0x302b65(0x233)](_0xf49b63);else config[_0x302b65(0x2d7)]==_0x302b65(0x258)&&(_0xebfbb4[_0x302b65(0x2cd)]=(_0x35c51c/(_0x21c520/Math['sqrt'](_0x540fcf[_0x302b65(0x207)])))['toFixed'](_0xf49b63));}}}}}}),updateConfig();}function updateConfig(){const _0x573535=_0x5f4e08;let _0x59f284=dbConfig['get'](_0x573535(0x368))[_0x573535(0x329)]({'botID':botID})[_0x573535(0x31d)]();_0x59f284&&dbConfig[_0x573535(0x3bf)](_0x573535(0x368))[_0x573535(0x329)]({'botID':botID})[_0x573535(0x243)](config)[_0x573535(0x2ba)]();}function logMemory(){const _0xac8460=_0x5f4e08;if(environment!='staging')return;const _0x2a5f87=process[_0xac8460(0x3b5)]()['heapUsed']/0x400/0x400;logger['debug'](_0xac8460(0x348)+process[_0xac8460(0x2e5)]+'\x20uses\x20'+formatResult(_0x2a5f87,0x1)+_0xac8460(0x24f));}async function startScheduler(){const _0xf5a803=_0x5f4e08,_0x1ab628=shiftedTime()[_0xf5a803(0x23a)]();getMarketCap(),loadSymbols(),_0x1ab628==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x30fe0e=![]){const _0x27019d=_0x5f4e08;logger[_0x27019d(0x230)](_0x27019d(0x395));if(!_0x30fe0e)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process['send']({'stop':_0x27019d(0x357)},_0x3a022b=>{});}async function initExchange(_0x12b1a0=config[_0x5f4e08(0x39b)],_0x4e0ff0=config[_0x5f4e08(0x32e)],_0x4c196a=config[_0x5f4e08(0x229)],_0x3a847c=config['apiPassword'],_0x38bde0=config[_0x5f4e08(0x33a)]){const _0x532042=_0x5f4e08;if(exchange){logger[_0x532042(0x230)](_0x532042(0x37e));return;}logger[_0x532042(0x230)]('Initializing\x20exchange');!supportedExchanges()['includes'](_0x12b1a0)&&(logHistory(_0x532042(0x349),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x12b1a0+_0x532042(0x28a)),killBot());const _0x236c97=ccxt[_0x532042(0x300)][_0x12b1a0[_0x532042(0x2c0)]()];exchange=new _0x236c97({'apiKey':_0x4e0ff0,'secret':_0x4c196a,'options':{'defaultType':_0x532042(0x1f9)}});if(_0x3a847c)exchange[_0x532042(0x35a)]=_0x3a847c;if(exchange['has'][_0x532042(0x33a)])exchange[_0x532042(0x35d)](_0x38bde0);}function updateExchange(_0x18adea,_0x115e23,_0x56882b=null){const _0x573915=_0x5f4e08;exchange['apiKey']=_0x18adea,exchange['secret']=_0x115e23,exchange[_0x573915(0x35a)]=_0x56882b,logger[_0x573915(0x230)](_0x573915(0x31c));}function setStableCoins(){const _0x20fc18=_0x5f4e08;let _0x2a468e=config[_0x20fc18(0x23e)]==_0x20fc18(0x31b)?'ETH':config[_0x20fc18(0x23e)]==_0x20fc18(0x2e2)?'PAXG':_0x20fc18(0x2b4),_0x41528b=allSymbols[_0x20fc18(0x20c)](_0x2a468e+_0x20fc18(0x2fc))?_0x20fc18(0x3c1):allSymbols[_0x20fc18(0x20c)](_0x2a468e+_0x20fc18(0x260))?_0x20fc18(0x21d):_0x20fc18(0x244),_0x2b179a=allSymbols['includes'](_0x2a468e+_0x20fc18(0x22a))?'EUR':_0x41528b;enableFiatToggle=!![],_0x41528b==_0x20fc18(0x244)&&(enableFiatToggle=![],storeFiat('EUR')),_0x2b179a!='EUR'&&(enableFiatToggle=![],storeFiat(_0x20fc18(0x3c1))),stablecoins={'eur':{'coin':''+_0x2a468e+_0x2b179a,'symbol':_0x2a468e+'/'+_0x2b179a},'usd':{'coin':''+_0x2a468e+_0x41528b,'symbol':_0x2a468e+'/'+_0x41528b}};}async function initwsCcxt(){const _0x35f656=_0x5f4e08;initCycle++;const _0xb63d4a=initCycle;let _0x454ff7=[];config[_0x35f656(0x292)][_0x35f656(0x37b)](_0xe42c4d=>{const _0x2b3508=_0x35f656;if(!_0xe42c4d[_0x2b3508(0x3ab)]&&_0xe42c4d['coin']!=config[_0x2b3508(0x23e)])_0x454ff7[_0x2b3508(0x33b)](_0xe42c4d[_0x2b3508(0x398)]);});if(!_0x454ff7[_0x35f656(0x20c)](stablecoins[_0x35f656(0x21c)][_0x35f656(0x398)]))_0x454ff7[_0x35f656(0x33b)](stablecoins['eur']['symbol']);if(!_0x454ff7[_0x35f656(0x20c)](stablecoins[_0x35f656(0x311)][_0x35f656(0x398)]))_0x454ff7[_0x35f656(0x33b)](stablecoins[_0x35f656(0x311)]['symbol']);loadCoins(_0x454ff7),_0x454ff7=validateSymbols(_0x454ff7);const _0x209c58=async _0x1dbe05=>{const _0x2c3162=_0x35f656;let _0x362463;try{const _0x512ad4=await getTickers(_0x1dbe05);Object[_0x2c3162(0x2de)](_0x512ad4)[_0x2c3162(0x37b)](_0x398a3d=>{const _0x2f9d5d=_0x2c3162;_0x362463=_0x398a3d[0x1][_0x2f9d5d(0x398)],gTicker[noslash(_0x362463)]=_0x398a3d[0x1][_0x2f9d5d(0x262)],gChange[_0x362463]=_0x398a3d[0x1]['percentage'];});}catch(_0x259a80){await handleError(_0x259a80,_0x2c3162(0x36e),_0x362463);}},_0x5d4fa7=async _0x455617=>{const _0x4d91aa=_0x35f656;while(initCycle==_0xb63d4a){if(!botPaused)try{const _0x4a5150=await exchange[_0x4d91aa(0x30d)](_0x455617);gTicker[noslash(_0x4a5150[0x0][_0x4d91aa(0x398)])]=_0x4a5150[0x0][_0x4d91aa(0x276)];}catch(_0x3911d5){if(!exchangeStopped)await handleError(_0x3911d5,'watchTrades()',_0x455617);}else await sleep(0x64);}},_0x1a60a0=async _0x36a5d5=>{const _0x181ffe=_0x35f656;while(initCycle==_0xb63d4a){if(!botPaused)try{const _0x4e43f8=await exchange[_0x181ffe(0x2ae)](_0x36a5d5),_0x2a9a02=_0x4e43f8[_0x181ffe(0x3b9)]();gTicker[noslash(_0x2a9a02[_0x181ffe(0x398)])]=_0x2a9a02[_0x181ffe(0x276)];}catch(_0x4528ad){if(!exchangeStopped)await handleError(_0x4528ad,_0x181ffe(0x2d6),_0x36a5d5[_0x181ffe(0x245)]());}else await sleep(0x64);}},_0x26456b=async _0x3805fc=>{const _0x3acc46=_0x35f656;while(initCycle==_0xb63d4a){if(!botPaused){let _0x498d06;try{await sleep(0x3c*0x3e8);const _0x2d4233=await getTickers(_0x3805fc);Object[_0x3acc46(0x2de)](_0x2d4233)[_0x3acc46(0x37b)](_0xa62b0f=>{const _0x490d99=_0x3acc46;_0x498d06=_0xa62b0f[0x1][_0x490d99(0x398)],gChange[_0x498d06]=_0xa62b0f[0x1][_0x490d99(0x293)];});}catch(_0x570fdf){if(!exchangeStopped)await handleError(_0x570fdf,_0x3acc46(0x382),_0x498d06);}}else await sleep(0x64);}},_0x20d033=async _0xb7477e=>{const _0x53f518=_0x35f656;while(initCycle==_0xb63d4a){if(!botPaused)try{const _0xa28dd0=await exchange[_0x53f518(0x219)](_0xb7477e);initCycle==_0xb63d4a&&_0xa28dd0[_0x53f518(0x37b)](_0x18d2f0=>{updateNumberCoinsCcxt(_0x18d2f0);});}catch(_0x185ccd){if(!exchangeStopped)await handleError(_0x185ccd,_0x53f518(0x396));}else await sleep(0x64);}};_0x209c58(_0x454ff7),_0x26456b(_0x454ff7),exchange[_0x35f656(0x213)][_0x35f656(0x2ae)]&&!(config[_0x35f656(0x39b)]==_0x35f656(0x3a6)&&_0x454ff7[_0x35f656(0x3ac)]>0xa)?_0x1a60a0(_0x454ff7):_0x454ff7[_0x35f656(0x37b)](_0x1d0ccd=>{_0x5d4fa7(_0x1d0ccd);}),_0x454ff7[_0x35f656(0x37b)](_0x2dea13=>{_0x20d033(_0x2dea13);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}function _0x5cdb(){const _0x2121ac=['cancel','canceled','sha256','self_reported_market_cap','stack','differenceInSeconds','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20|\x20','valid','net-basecoin','PermissionDenied','log','1\x20-\x20partially\x20FILLED\x20(','balances','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','DDoSProtection','pnl','privateKey','(((.+)+)+)+$','unlinkSync','code','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','keys','<b>Bot\x20','1\x20-\x20FILLED\x20known\x20order:\x20','watchTradesForSymbols','addDays','UNLOCKED','min','-------------------------------\x0a','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','BTC','openOrders','Unknown\x20error:\x20','timestamp','market','Limit\x20(high-margin)','write','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','deleteHistoryAlerts','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','lowdb/adapters/FileSync','Exchange','toLowerCase','Generating\x20PnL\x20data','\x20-\x20go\x20back\x20and\x20try\x20again','parse','ongoing','Order(s)\x20not\x20validated\x20after\x20','reverse','token\x20is\x20expired','Error\x20details:','map','showConfig','fetchOpenOrders','OnMaintenance','distribution','placeOrder','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','fetchBalance()','\x20API\x20secret\x20is\x20invalid','total','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','AuthenticationError','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','watchTradesForSymbols()','marketcapEnabled','ask','liquidity','indexOf','change','change24h','existsSync','entries','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','isEqual','2\x20-\x20handling\x20FILLED\x20order:\x20','PAXG','<pre>',')\x20unknown\x20order:\x20','pid','added','slider','logs','getDate','limit','api-issue','\x20attempts','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','date-fns','cancelOrders()','InvalidNonce','recovery','type','ordertype','141327CljApp','Order\x20is\x20invalid:\x20','getFullYear','prevnumber','set','net-fiat','string','test','/USD','event','defaults','testApi','pro','.json','running','match','findIndex',':\x20timer\x20>','Initializing\x20coin\x20results','privateKeyFromPem','portfolio2','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','LOCKED','./config/','createOrder','watchTrades','RETRY\x20-\x20Error\x20in\x20','substring','orderstatus','usd','Set\x20lock\x20orders\x20to:\x20','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','order','\x20>\x20','final','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','fromCodePoint','RateLimitExceeded','Gateio','ETH','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','value','USDP','storeFiat','\x20due\x20to\x20offset','decrypt','balancing\x20resumed','2150746JlvYNw','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','quick','6HPcNJQ','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','args','find','createWriteStream','switch-manual','getTime','TUSD','apiKey','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','constructor','InvalidOrder','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Placing\x20order\x20for:\x20','sort','Insufficient\x20funds\x20to\x20execute\x20order:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','abs','31031vnosah','NetworkError','sandbox','push','Resetting\x20bot\x20history','\x20(see:\x20hodlerhacks.com/fix/1)','path','API-key\x20format\x20invalid','1351448GvSbda','loading-canceled','001','sendPortfolioTelegram','Fee\x20discount\x20refund\x20detected:\x20','\x20portfolio:</b>\x20\x0a\x0a','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','storeHeadless','process\x20','error','net','\x20metrics:</b>\x20\x0a\x0a','full','filter','none','10gIURoQ','recent20','red_yellow_blue','2.6.22','Error\x20while\x20deleting\x20files:\x20','stringify','split','progress','restart','Pausing\x20for\x20','\x20>\x20[DEBUG]\x20','password','6202fedFCW','8481697BKrBsp','setSandboxMode','exchanges','send','0\x20-\x20EXECUTION:\x20','replace','bot-','PnL\x20','1\x20-\x20FILLED\x20unknown\x20order:\x20','Error\x20details:\x20','Trigger:\x20','sells','bot','timestamp-issue','63774XkfBNj','./version.json','amountToPrecision','botname','initTickers()','\x20|\x20exchange:\x20','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','settings','getMinutes','freeze','getSeconds','environment','Generated\x20PnL\x20data','sell','\x20>\x20pausing\x20bot\x20for\x20','pnl-basecoin','event-history','forEach','2.7.1','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Initializing\x20exchange:\x20already\x20done','round','max','RequestTimeout','fetchTickers()','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','date','***','\x20|\x20lock\x20orders:\x20','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','decode64','bb-secure.json','function','Error\x20in\x20testNewAPI():\x20','Reset\x20|\x20','1\x20-\x20Handle\x20open\x20orders','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','average','detectLiquidityChange()','currency','argv','Valid\x20balance\x20for\x20','sortBy','Initiating\x20bot\x20restart','watchOrders()','limit-high','symbol','fiat','fetchTicker','exchange','target','Binance','2.6.0',')\x20known\x20order:\x20','closed','pnl-fiat','basecoinvalue','cooldown','15972Cczifv','realizedPnL','Bybit','emojibuy','fee','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','changes','excluded','length','USDC','110XbVHmV','sendMetricsTelegram','join','Unfilled\x20order(s)\x20canceled\x20after\x20','isBefore','cancelLoading','must\x20be\x20greater\x20than\x20minimum\x20amount','memoryUsage','bitmex','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','market_cap','pop','-events.json','search','Value\x20','remainingSymbols','\x20-\x20bot\x20not\x20started','get','lowdb','USD','testAPI()','time','offset','\x20order:\x20','Avoiding\x20continuous\x20order\x20attempts','initial','Exception\x20thrown\x20in\x20','Bitget','apiPassword','Huobipro','create','complete','request-time','spot','startprice','Resetting\x20coin\x20results:\x20','Network\x20error\x20details:','8hYgfXK','fetchBalance','yyyy/MM/dd','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','loadSymbols()','cost','Error\x20occurred:\x20','Cryptocom','customId','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','marketcap','Headless:\x20','mkdirSync','removed','splice','includes','version','node-forge','update-liquidity','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','headless','InsufficientFunds','has','production','delta','success','2\x20-\x20Validate\x20orders:\x20','portfolio1','watchOrders','limit-low','configstate','eur','USDT','uncaughtException','side','ExchangeNotAvailable','Order\x20filled','filled','open','bots','shift','quote','pki','amount','apiSecret','/EUR','Invalid\x20symbol:\x20','no\x20exchange\x20reloaded','autoliquidity','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','showname','debug','yargs/yargs','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','toFixed','remove','Net\x20','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','bid','Cooldown\x20ended\x20-\x20balancing\x20resumed','apply','getHours','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','Stopped\x20fetching\x20balance\x20after\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','basecoin','%)\x0a','warning','no\x20open\x20orders','configuration-stored','assign','EUR','toString','random','marketcapApi','util','5093eNckUN','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','1\x20-\x20Validate\x20orders:\x20','Manual\x20balancing\x20required','-performance.json','\x20MB','enabled','getMonth','initclient','limits','breakeven',')\x20|\x20exchange:\x20','padStart','coin','marketcapsqrt','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','data','./logs/','page','configuration','ExchangeError','Portfolio\x20change\x20detected:\x20','/USDT','orderId','last','2.3.5','</pre>','coins','RSA-OAEP','cloneDeep','timeshift','Market\x20order','starting-balances','Waited\x20','threshold','-results.json','slice','colorscheme','trade','\x20/\x20','format','Order\x20amount\x20is\x20invalid:\x20','highest','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','price','fetchTickers','timeout','buy','/backup/','************','status','number','storeConfiguration','\x20orders\x20in\x20less\x20than\x20','toUpperCase','2\x20-\x20Handled\x20open\x20orders','getStartingBalances','2.6.23','startdate','Error\x20in\x20loadSymbols():\x20','add','floor','\x20minutes\x20-\x20','emojisell','\x20exchange','Invalid\x20quantity','\x0aSymbol(s):\x20','performance','onepagemode','toggleBotMode','Limit\x20(low-margin)','1mLbRFS','portfolio','percentage','startnumber'];_0x5cdb=function(){return _0x2121ac;};return _0x5cdb();}async function getTickers(_0x1121a8){const _0x2ca098=_0x5f4e08;let _0x14e1ac={};try{if(config['exchange']!=_0x2ca098(0x204))_0x14e1ac=await exchange[_0x2ca098(0x277)](_0x1121a8);else for(const _0x587b13 of _0x1121a8){const _0x244855=await exchange[_0x2ca098(0x39a)](_0x587b13);_0x14e1ac[_0x587b13]=_0x244855;}return _0x14e1ac;}catch(_0x47189d){throw _0x47189d;}}function setBlockTransactionDetection(_0x58c56f){const _0x175e7f=_0x5f4e08;blockTransactionDetection=_0x58c56f,logger[_0x175e7f(0x230)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x34de26=0x0){const _0x1f6a9c=_0x5f4e08;transactionDetectionOngoing=!![];try{const _0x3fd10b=await getCoins(_0x34de26),[_0x3b708f,_0x315b35]=_0x3fd10b;let _0x3e7f21=[];currentCoins['forEach'](_0x5f0a56=>{const _0x3fb2a6=_0x5596,_0x2a9ff4=_0x3b708f[_0x3fb2a6(0x329)](_0x195b7e=>_0x195b7e[_0x3fb2a6(0x257)]==_0x5f0a56['coin']);if(_0x2a9ff4){if(_0x5f0a56['number']!=_0x2a9ff4['number']){let _0x4b9b91;if(_0x5f0a56[_0x3fb2a6(0x257)]!=config[_0x3fb2a6(0x23e)]){const _0xbc4400=gTicker[noslash(_0x5f0a56[_0x3fb2a6(0x398)])];_0x4b9b91=_0x5f0a56[_0x3fb2a6(0x2c6)]?0x1/_0xbc4400:_0xbc4400;}else _0x4b9b91=0x1;_0x3e7f21[_0x3fb2a6(0x33b)]({'coin':_0x5f0a56['coin'],'symbol':_0x5f0a56[_0x3fb2a6(0x398)],'price':_0x4b9b91,'number':Number(formatResult(_0x2a9ff4[_0x3fb2a6(0x27d)]-_0x5f0a56[_0x3fb2a6(0x27d)],0x8)),'basecoinvalue':_0x4b9b91*(_0x2a9ff4[_0x3fb2a6(0x27d)]-_0x5f0a56[_0x3fb2a6(0x27d)])});}}});if(_0x3e7f21[_0x1f6a9c(0x3ac)]>0x0&&!blockTransactionDetection){for(const _0x1367ec of _0x3e7f21){if(config[_0x1f6a9c(0x22d)]){logger[_0x1f6a9c(0x230)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x1367ec[_0x1f6a9c(0x3a2)]+'\x20|\x20highest\x20fee:\x20'+lastFees['highest']);if(lastFees[_0x1f6a9c(0x274)]==0x0||Math[_0x1f6a9c(0x337)](_0x1367ec['basecoinvalue'])>lastFees[_0x1f6a9c(0x274)]*0x3){if(config['autoliquidity']==_0x1f6a9c(0x20f)){delete _0x1367ec[_0x1f6a9c(0x398)],delete _0x1367ec['basecoinvalue'];let _0x548c6e=[],_0x44c315=[...config[_0x1f6a9c(0x2d9)]]||[],_0x3226e7=config[_0x1f6a9c(0x2d9)];_0x44c315['sort']((_0x3c2d0b,_0xa3af25)=>_0x3c2d0b[_0x1f6a9c(0x384)]>_0xa3af25['date']?-0x1:_0xa3af25[_0x1f6a9c(0x384)]>_0x3c2d0b['date']?0x1:0x0);const _0x2b3a2b=getDate();if(_0x44c315[0x0]){const _0x176a49=fns[_0x1f6a9c(0x2c3)](_0x44c315[0x0][_0x1f6a9c(0x384)],'yyyy/MM/dd',new Date()),_0x351cc5=fns[_0x1f6a9c(0x2c3)](_0x2b3a2b,_0x1f6a9c(0x1ff),new Date());if(fns[_0x1f6a9c(0x2e0)](_0x176a49,_0x351cc5)){_0x548c6e=_0x44c315[0x0]['changes'];const _0x54090e=_0x548c6e['find'](_0x23c829=>_0x23c829[_0x1f6a9c(0x257)]==_0x1367ec['coin']);_0x54090e?(_0x54090e[_0x1f6a9c(0x27d)]+=_0x1367ec[_0x1f6a9c(0x27d)],_0x54090e[_0x1f6a9c(0x27d)]==0x0&&(_0x548c6e=_0x548c6e[_0x1f6a9c(0x34d)](_0x2b389d=>{const _0x14e72b=_0x1f6a9c;return _0x2b389d[_0x14e72b(0x257)]!=_0x1367ec[_0x14e72b(0x257)];}))):_0x548c6e[_0x1f6a9c(0x33b)](_0x1367ec);const _0x389405=_0x3226e7[_0x1f6a9c(0x329)](_0x50a8b4=>_0x50a8b4[_0x1f6a9c(0x384)]==_0x2b3a2b);_0x389405['changes']=_0x548c6e;}else _0x3226e7[_0x1f6a9c(0x33b)]({'date':_0x2b3a2b,'changes':[_0x1367ec]});}const _0x50f246=_0x3226e7['find'](_0x59fa1a=>_0x59fa1a[_0x1f6a9c(0x384)]==_0x2b3a2b);if(_0x50f246){let _0x5efe70=!![];_0x50f246[_0x1f6a9c(0x3aa)][_0x1f6a9c(0x37b)](_0x211599=>{if(_0x211599['number']!=0x0)_0x5efe70=![];}),_0x5efe70&&(_0x3226e7=_0x3226e7[_0x1f6a9c(0x34d)](_0x42342e=>{return _0x42342e['date']!=_0x2b3a2b;}));}let _0x3154ac=dbConfig['get'](_0x1f6a9c(0x368))[_0x1f6a9c(0x329)]({'botID':botID})[_0x1f6a9c(0x31d)]();_0x3154ac&&(dbConfig[_0x1f6a9c(0x3bf)](_0x1f6a9c(0x368))[_0x1f6a9c(0x329)]({'botID':botID})['assign']({'liquidity':_0x3226e7})[_0x1f6a9c(0x2ba)](),config['liquidity']=_0x3226e7);logHistory(_0x1f6a9c(0x216),_0x1f6a9c(0x25f)+Math[_0x1f6a9c(0x337)](_0x1367ec['number'])+'\x20'+_0x1367ec[_0x1f6a9c(0x257)]+'\x20'+(_0x1367ec[_0x1f6a9c(0x27d)]>0x0?_0x1f6a9c(0x2e6):_0x1f6a9c(0x20a))+_0x1f6a9c(0x309)),proxyEmit('configuration',emittedConfiguration());const _0x42254d=getNormalizedPerformance();emitPerformance(_0x42254d),getStartingBalances(_0x42254d),logger[_0x1f6a9c(0x230)]('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x1f6a9c(0x22d)]==_0x1f6a9c(0x32b)&&(config[_0x1f6a9c(0x211)]?(await storeHeadless({'headless':![]}),logHistory(_0x1f6a9c(0x216),_0x1f6a9c(0x25f)+Math[_0x1f6a9c(0x337)](_0x1367ec[_0x1f6a9c(0x27d)])+'\x20'+_0x1367ec[_0x1f6a9c(0x257)]+'\x20'+(_0x1367ec[_0x1f6a9c(0x27d)]>0x0?_0x1f6a9c(0x2e6):_0x1f6a9c(0x20a))+_0x1f6a9c(0x22e))):logger[_0x1f6a9c(0x230)](_0x1f6a9c(0x25f)+Math[_0x1f6a9c(0x337)](_0x1367ec['number'])+'\x20'+_0x1367ec[_0x1f6a9c(0x257)]+'\x20'+(_0x1367ec[_0x1f6a9c(0x27d)]>0x0?_0x1f6a9c(0x2e6):_0x1f6a9c(0x20a))+_0x1f6a9c(0x387)));}else logger['debug'](_0x1f6a9c(0x344)+Math[_0x1f6a9c(0x337)](_0x1367ec['number'])+'\x20'+_0x1367ec[_0x1f6a9c(0x257)]+'\x20'+(_0x1367ec[_0x1f6a9c(0x27d)]>0x0?_0x1f6a9c(0x2e6):_0x1f6a9c(0x20a)));}else logger[_0x1f6a9c(0x230)](_0x1f6a9c(0x25f)+Math[_0x1f6a9c(0x337)](_0x1367ec[_0x1f6a9c(0x27d)])+'\x20'+_0x1367ec[_0x1f6a9c(0x257)]+'\x20'+(_0x1367ec[_0x1f6a9c(0x27d)]>0x0?_0x1f6a9c(0x2e6):_0x1f6a9c(0x20a))+'\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x3b708f,currentCoinsAll=_0x315b35;}}catch(_0x10ea96){if(!exchangeStopped)await handleError(_0x10ea96,_0x1f6a9c(0x390));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x261a9d=_0x5f4e08;try{markets=await exchange['loadMarkets'](!![]),allSymbols=[],Object[_0x261a9d(0x2de)](markets)['forEach'](_0x298d6e=>{const _0x714c88=_0x261a9d;_0x298d6e[0x1]['active']&&_0x298d6e[0x1][_0x714c88(0x1f9)]&&allSymbols[_0x714c88(0x33b)](_0x298d6e[0x0]);});}catch(_0x234969){markets?logger[_0x261a9d(0x230)](_0x261a9d(0x285)+_0x234969[_0x261a9d(0x245)]()):(loading[_0x261a9d(0x295)]=!![],_0x234969[_0x261a9d(0x245)]()['toLowerCase']()['includes'](_0x261a9d(0x2b7))||_0x234969[_0x261a9d(0x245)]()[_0x261a9d(0x2c0)]()[_0x261a9d(0x20c)](_0x261a9d(0x1f8))?(logHistory(_0x261a9d(0x349),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading['error']=_0x261a9d(0x369)):handleErrorNoStop(_0x234969,_0x261a9d(0x201),!![]),logHistory('error',_0x261a9d(0x24a)),logHistory(_0x261a9d(0x349),_0x261a9d(0x358)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x261a9d(0x230)](_0x261a9d(0x2c8),_0x234969),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x304551){const _0x2462c6=_0x5f4e08;let _0x3435d5=[];return _0x304551[_0x2462c6(0x37b)](_0xbe574c=>{const _0x4e6e99=_0x2462c6;!allSymbols['includes'](_0xbe574c)?(logHistory('error',_0x4e6e99(0x22b)+_0xbe574c+_0x4e6e99(0x2cf)),loading[_0x4e6e99(0x278)]=!![],emitLoadingProgress()):_0x3435d5[_0x4e6e99(0x33b)](_0xbe574c);}),_0x3435d5;}async function initclient(){const _0x3c63f9=_0x5f4e08;proxyEmit(_0x3c63f9(0x25d),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3c63f9(0x2a2),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x48c280=getNormalizedPerformance();emitPerformance(_0x48c280),getStartingBalances(_0x48c280);}async function toggleBotMode(){const _0x3005e0=_0x5f4e08;let _0x52f238=dbConfig[_0x3005e0(0x3bf)]('bot')[_0x3005e0(0x329)]({'botID':botID})[_0x3005e0(0x31d)]();if(_0x52f238){const _0x1917d9=!_0x52f238[_0x3005e0(0x211)];dbConfig[_0x3005e0(0x3bf)](_0x3005e0(0x368))[_0x3005e0(0x329)]({'botID':botID})['assign']({'headless':_0x1917d9})['write'](),config[_0x3005e0(0x211)]=_0x1917d9,proxyEmit(_0x3005e0(0x25d),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3b2829=_0x5f4e08;process[_0x3b2829(0x35f)]({'updatebotmanager':!![]},_0x56568c=>{}),logger[_0x3b2829(0x230)](_0x3b2829(0x208)+config[_0x3b2829(0x211)]);}async function loadCoins(_0x2a74a5){const _0x659ff4=_0x5f4e08;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0xa9f288,_0x47568d=0x0,_0x1940ef=0x0;_0x2a74a5[_0x659ff4(0x37b)](_0x43cdd3=>{const _0xe945ac=_0x659ff4;loading[_0xe945ac(0x3bd)]['push'](_0x43cdd3);}),loadingCanceled=![];let _0x2ac455=![];while(_0xa9f288!=_0x2a74a5[_0x659ff4(0x3ac)]+maxLoadingProgress){_0xa9f288=loadingProgress,_0x2a74a5['forEach'](_0x9d4035=>{const _0x3bd200=_0x659ff4;if(gTicker[noslash(_0x9d4035)]){loading[_0x3bd200(0x3bd)]=loading[_0x3bd200(0x3bd)][_0x3bd200(0x34d)](_0x1099b8=>_0x1099b8!=_0x9d4035);if(!watchedSymbols[_0x3bd200(0x20c)](_0x9d4035))watchedSymbols[_0x3bd200(0x33b)](_0x9d4035);_0xa9f288++;}}),loading['progress']=Math['round'](_0xa9f288/(_0x2a74a5['length']+maxLoadingProgress)*0x64);loading[_0x659ff4(0x356)]!=0x64&&(_0x1940ef>0x1e*0x5&&(loading[_0x659ff4(0x278)]=!![],emitLoadingProgress()),_0x1940ef>0x78*0x5&&!_0x2ac455&&(_0x2ac455=!![],logHistory(_0x659ff4(0x349),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x659ff4(0x3bd)][_0x659ff4(0x3b0)](',\x20')+_0x659ff4(0x3be)),logHistory(_0x659ff4(0x349),_0x659ff4(0x358)+loadCoinsRetryInterval/0xea60+_0x659ff4(0x2aa)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x659ff4(0x295)]=!![],emitLoadingProgress();break;}else _0x47568d!=loading[_0x659ff4(0x356)]&&(_0x47568d=loading[_0x659ff4(0x356)],emitLoadingProgress()),_0x1940ef++,await sleep(0xc8);}_0xa9f288==_0x2a74a5[_0x659ff4(0x3ac)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x659ff4(0x35f)]({'status':_0x659ff4(0x250),'live':'running'},_0x4cad37=>{}),_0x2ac455&&logHistory('success',_0x659ff4(0x317)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x792953=_0x5f4e08;proxyEmit(_0x792953(0x25d),{...emittedConfiguration(),'configstate':_0x792953(0x341)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x5867ff=_0x5f4e08;let _0x556bf7=gTicker[stablecoins['eur']['coin']],_0x2905fb=gTicker[stablecoins[_0x5867ff(0x311)]['coin']];return{'eur':Number(_0x556bf7),'usd':Number(_0x2905fb)};}function capitalize(_0x2cff90){const _0x59665f=_0x5f4e08;return _0x2cff90[_0x59665f(0x30f)](0x0,0x1)[_0x59665f(0x280)]()+_0x2cff90[_0x59665f(0x30f)](0x1);}function supportedExchanges(){const _0x1e3fd4=_0x5f4e08,_0x365b05=['ws',_0x1e3fd4(0x277),'fetchTicker',_0x1e3fd4(0x30d),'watchOrders','cancelOrder',_0x1e3fd4(0x30c),_0x1e3fd4(0x2cb),_0x1e3fd4(0x1fe)];let _0x38c5f4=[],_0x5329d8=[],_0x55a7e0=ccxt[_0x1e3fd4(0x300)][_0x1e3fd4(0x35e)];_0x55a7e0['forEach'](_0x13fbc6=>{const _0x9bb394=_0x1e3fd4;try{const _0x9af326=new ccxt[(_0x9bb394(0x300))][_0x13fbc6]();_0x5329d8[_0x9bb394(0x33b)](_0x9af326);}catch(_0x234494){}}),_0x5329d8[_0x1e3fd4(0x37b)](_0x14d76f=>{const _0x1193d7=_0x1e3fd4;let _0x34cb7d=0x0;_0x365b05[_0x1193d7(0x37b)](_0x1cf28f=>{const _0x12a94b=_0x1193d7;_0x1cf28f in _0x14d76f[_0x12a94b(0x213)]&&_0x14d76f[_0x12a94b(0x213)][_0x1cf28f]&&_0x34cb7d++;}),_0x34cb7d==_0x365b05[_0x1193d7(0x3ac)]&&(!excludedExchanges[_0x1193d7(0x20c)](_0x14d76f['id'])&&_0x38c5f4['push'](capitalize(_0x14d76f['id'])));});let _0x52800e=[];return _0x55a7e0[_0x1e3fd4(0x37b)](_0x5bc1f2=>{const _0x3d2fa4=_0x1e3fd4;_0x5bc1f2=capitalize(_0x5bc1f2);if(!_0x38c5f4['includes'](_0x5bc1f2))_0x52800e[_0x3d2fa4(0x33b)](_0x5bc1f2);}),_0x38c5f4;}function setStartDatePerformance(){const _0x1fc91f=_0x5f4e08;if(config&&config[_0x1fc91f(0x2d9)][0x0][_0x1fc91f(0x3aa)]['length']!=0x0){const _0x548c72=config[_0x1fc91f(0x2d9)][0x0]['changes'];dbPerformance[_0x1fc91f(0x3bf)]('data')['find']({'date':config[_0x1fc91f(0x284)]})['assign']({'coins':_0x548c72})[_0x1fc91f(0x2ba)]();}}function calculatePnL(_0x54694e,_0xba65cd,_0x1bbaa6,_0x5aa31a,_0x99bfc5,_0x5de757){const _0x20bfb5=_0x5f4e08;!_0x54694e[_0x20bfb5(0x20c)]('/'+config[_0x20bfb5(0x23e)])&&(_0x1bbaa6=_0x1bbaa6=='buy'?_0x20bfb5(0x377):_0x20bfb5(0x279));!_0x5de757[_0xba65cd]&&(_0x5de757[_0xba65cd]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0xbe23a2=0x0,_0xf1ccba,_0x23d72b;if(_0x1bbaa6==_0x20bfb5(0x279))_0x23d72b=_0x5de757[_0xba65cd][_0x20bfb5(0x27d)]*_0x5de757[_0xba65cd][_0x20bfb5(0x254)]+_0x99bfc5*_0x5aa31a,_0x5de757[_0xba65cd][_0x20bfb5(0x27d)]+=_0x5aa31a,_0x5de757[_0xba65cd][_0x20bfb5(0x254)]=_0x5de757[_0xba65cd][_0x20bfb5(0x27d)]!=0x0?_0x23d72b/_0x5de757[_0xba65cd][_0x20bfb5(0x27d)]:0x0,_0x5de757[_0xba65cd]['buys']++;else _0x1bbaa6==_0x20bfb5(0x377)&&(_0xf1ccba=Math[_0x20bfb5(0x2b1)](_0x5de757[_0xba65cd]['number'],_0x5aa31a),_0xbe23a2=(_0x99bfc5-_0x5de757[_0xba65cd]['breakeven'])*_0xf1ccba,_0x23d72b=Math[_0x20bfb5(0x380)](_0x5de757[_0xba65cd]['number']*_0x5de757[_0xba65cd]['breakeven']-_0xf1ccba*_0x5de757[_0xba65cd][_0x20bfb5(0x254)],0x0),_0x5de757[_0xba65cd]['number']-=_0xf1ccba,_0x5de757[_0xba65cd][_0x20bfb5(0x254)]=_0x5de757[_0xba65cd][_0x20bfb5(0x27d)]!=0x0?_0x23d72b/_0x5de757[_0xba65cd]['number']:0x0,_0x5de757[_0xba65cd][_0x20bfb5(0x3a5)]+=_0xbe23a2,_0x5de757[_0xba65cd][_0x20bfb5(0x367)]++);return _0xbe23a2;}async function generatePnL(){const _0x21af47=_0x5f4e08;pnlGenerationNeeded=![],logger[_0x21af47(0x230)](_0x21af47(0x2c1));const _0x4234a7=dbLogs['get'](_0x21af47(0x2e8))[_0x21af47(0x31d)]();let _0x4c1fce={},_0x452f5b=0x0,_0x390cfc=0x0,_0x3860cf=config[_0x21af47(0x284)];const _0x2b1cbe=fns[_0x21af47(0x2c3)](_0x3860cf,'yyyy/MM/dd',new Date()),_0x2cfb99=new Date();let _0x3567c8=0x0;for(let _0x315fb1=_0x2b1cbe;!fns[_0x21af47(0x3b2)](_0x2cfb99,_0x315fb1);_0x315fb1=fns[_0x21af47(0x2af)](_0x315fb1,0x1)){const _0x52ced8=fns[_0x21af47(0x272)](_0x315fb1,_0x21af47(0x1ff));while(_0x452f5b<_0x4234a7[_0x21af47(0x3ac)]){const _0x4a7a3a=new Date(_0x4234a7[_0x452f5b][_0x21af47(0x1ed)]);if(fns['isBefore'](_0x4a7a3a,_0x315fb1))_0x452f5b++;else{if(_0x4234a7[_0x452f5b][_0x21af47(0x1ed)][_0x21af47(0x20c)](_0x52ced8)){const _0x2d8d46=_0x4234a7[_0x452f5b];if(_0x2d8d46[_0x21af47(0x2f2)]==='order'&&(_0x2d8d46['event'][_0x21af47(0x20c)](_0x21af47(0x221))||_0x2d8d46[_0x21af47(0x2fd)]['includes'](_0x21af47(0x269)))){const _0x25d1c7=_0x2d8d46['event'][_0x21af47(0x303)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x25d1c7){const [,_0x2f5f2b,_0x31c5f6,_0x5aa997,_0x911c24]=_0x25d1c7,_0xd982b=_0x2f5f2b['includes']('/'+config[_0x21af47(0x23e)])?_0x2f5f2b['split']('/')[0x0]:_0x2f5f2b[_0x21af47(0x355)]('/')[0x1],_0x3ae398=calculatePnL(_0x2f5f2b,_0xd982b,_0x31c5f6,parseFloat(_0x5aa997),parseFloat(_0x911c24),_0x4c1fce);_0x390cfc+=_0x3ae398;}}_0x452f5b++;}else break;}}dbPerformance[_0x21af47(0x3bf)](_0x21af47(0x25a))[_0x21af47(0x329)]({'date':_0x52ced8})['assign']({'pnl':_0x390cfc})[_0x21af47(0x2ba)]();}dbCoinResults['set']('coins',_0x4c1fce)[_0x21af47(0x2ba)](),logger[_0x21af47(0x230)](_0x21af47(0x376));const _0x1450fd=getNormalizedPerformance();emitPerformance(_0x1450fd);}async function updatePnL(_0x40a50d){const _0x1d1d7f=_0x5f4e08,{symbol:_0x1c26a7,coin:_0xb40c0a,amount:_0x5e9d0c,price:_0x23e432,side:_0x4695f8,reverse:_0x4e9a62}=_0x40a50d;let _0x3e8997=dbCoinResults[_0x1d1d7f(0x3bf)](_0x1d1d7f(0x265))[_0x1d1d7f(0x31d)]();const _0x22e13b=calculatePnL(_0x1c26a7,_0xb40c0a,_0x4695f8,_0x5e9d0c,_0x23e432,_0x3e8997);dbCoinResults[_0x1d1d7f(0x2f8)](_0x1d1d7f(0x265),_0x3e8997)[_0x1d1d7f(0x2ba)]();const _0x1e4c02=getTimeStamp()[_0x1d1d7f(0x355)]('\x20')[0x0];let _0x31325e=dbPerformance[_0x1d1d7f(0x3bf)](_0x1d1d7f(0x25a))[_0x1d1d7f(0x329)]({'date':_0x1e4c02})[_0x1d1d7f(0x31d)]();_0x31325e?(_0x31325e[_0x1d1d7f(0x2a5)]+=_0x22e13b,dbPerformance['get'](_0x1d1d7f(0x25a))['find']({'date':_0x1e4c02})['assign'](_0x31325e)[_0x1d1d7f(0x2ba)]()):await storePerformance();const _0x4d29a5=getNormalizedPerformance();emitPerformance(_0x4d29a5);}async function validate24hChanges(){const _0x39f614=_0x5f4e08;for(const _0x49a080 of currentCoins){if(_0x49a080[_0x39f614(0x257)]!=config[_0x39f614(0x23e)]){let _0x30daaa;_0x49a080[_0x39f614(0x2c6)]?_0x30daaa=formatResult((0x1/(gChange[_0x49a080[_0x39f614(0x398)]]/0x64+0x1)-0x1)*0x64,0x3):_0x30daaa=gChange[_0x49a080[_0x39f614(0x398)]],_0x30daaa<config[_0x39f614(0x2dc)]&&(logHistory(_0x39f614(0x349),_0x49a080['coin']+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x30daaa+'%'),logHistory(_0x39f614(0x349),_0x39f614(0x332)),logHistory(_0x39f614(0x349),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x103a35,_0x56e701){const _0x46a63c=_0x5f4e08;if(!_0x103a35)return!![];const _0x23ffcc=_0x56e701[_0x46a63c(0x355)]('.'),_0x4c2de5=_0x103a35[_0x46a63c(0x355)]('.');for(var _0x465ded=0x0;_0x465ded<_0x4c2de5[_0x46a63c(0x3ac)];_0x465ded++){const _0x2b23c9=~~_0x4c2de5[_0x465ded],_0x3a921c=~~_0x23ffcc[_0x465ded];if(_0x2b23c9<_0x3a921c)return!![];if(_0x2b23c9>_0x3a921c)return![];}return![];}async function oneTimeMigration(){const _0x326d8e=_0x5f4e08;let _0x5288c=dbLogs[_0x326d8e(0x3bf)](_0x326d8e(0x20d))[_0x326d8e(0x31d)]();if(isOlderVersion(_0x5288c,'2.3.5')){let _0x4f95ba=[];const _0x53930f=dbLogs[_0x326d8e(0x3bf)](_0x326d8e(0x2e8))[_0x326d8e(0x31d)]();_0x53930f[_0x326d8e(0x37b)](_0x402c06=>{const _0x275abd=_0x326d8e;_0x4f95ba['push']({'time':_0x402c06[_0x275abd(0x1ed)],'type':_0x402c06[_0x275abd(0x2f2)],'event':_0x402c06[_0x275abd(0x2fd)]});}),dbLogs[_0x326d8e(0x3bf)](_0x326d8e(0x2e8))['assign'](_0x4f95ba)['write']();}let _0x39ced0=dbConfig[_0x326d8e(0x3bf)](_0x326d8e(0x20d))[_0x326d8e(0x31d)]();if(isOlderVersion(_0x39ced0,_0x326d8e(0x263))){let _0x584eeb=dbConfig[_0x326d8e(0x3bf)](_0x326d8e(0x368))['find']({'botID':botID})[_0x326d8e(0x31d)]();if(_0x584eeb){let _0xe81938=[];_0x584eeb[_0x326d8e(0x292)][_0x326d8e(0x37b)](_0x1159e=>{const _0x5316bd=_0x326d8e;_0xe81938[_0x5316bd(0x33b)]({'coin':_0x1159e[_0x5316bd(0x257)],'number':_0x1159e['startnumber'],'price':_0x1159e[_0x5316bd(0x1fa)]}),delete _0x1159e[_0x5316bd(0x294)],delete _0x1159e[_0x5316bd(0x1fa)];});if(_0xe81938[_0x326d8e(0x3ac)]!==0x0)fs['writeFile'](configbackuppath+('starting-balance-'+botID+_0x326d8e(0x301)),JSON[_0x326d8e(0x354)](_0xe81938,null,0x4),function(_0x39f700){if(_0x39f700){}});const _0x57fd5c=(_0x285b9c,_0x1eb807)=>{const _0x4b8064=_0x326d8e;let _0x2825c7=[];_0x1eb807[_0x4b8064(0x37b)](_0x28016d=>{const _0x25760e=_0x4b8064,_0x57a893=_0x285b9c[_0x25760e(0x329)](_0x54362a=>_0x54362a[_0x25760e(0x257)]==_0x28016d[_0x25760e(0x257)]);if(!_0x57a893)_0x2825c7['push'](_0x28016d);});let _0x145c13=[];return _0x285b9c['forEach'](_0x563a24=>{const _0x4c2216=_0x4b8064,_0x3e4b17=_0x1eb807[_0x4c2216(0x329)](_0x103dc8=>_0x103dc8[_0x4c2216(0x257)]==_0x563a24[_0x4c2216(0x257)]);if(!_0x3e4b17||_0x3e4b17['number']==0x0&&_0x563a24[_0x4c2216(0x27d)]!=0x0)_0x145c13[_0x4c2216(0x33b)](_0x563a24);}),{'missingDay1':_0x2825c7,'notInDay2':_0x145c13};},_0x525aec=dbPerformance[_0x326d8e(0x3bf)]('data')[_0x326d8e(0x267)]()[_0x326d8e(0x31d)]();if(_0x525aec[_0x326d8e(0x3ac)]>0x1){const {missingDay1:_0x5d45a7,notInDay2:_0x537b8c}=_0x57fd5c(_0xe81938,_0x525aec[0x1][_0x326d8e(0x265)]);_0xe81938=[..._0xe81938,..._0x5d45a7],_0x537b8c['forEach'](_0x36727a=>{const _0x2f74d4=_0x326d8e;let _0x5ef455=_0xe81938[_0x2f74d4(0x304)](_0x3ae2ff=>_0x3ae2ff[_0x2f74d4(0x257)]==_0x36727a[_0x2f74d4(0x257)]);_0x5ef455!=-0x1&&_0xe81938[_0x2f74d4(0x20b)](_0x5ef455,0x1);});}_0xe81938['sort']((_0x3b9777,_0xef6719)=>_0x3b9777[_0x326d8e(0x257)]>_0xef6719['coin']?0x1:_0xef6719[_0x326d8e(0x257)]>_0x3b9777['coin']?-0x1:0x0);let _0x3624b0=[{'date':_0x584eeb[_0x326d8e(0x284)],'changes':_0xe81938}];_0x525aec[_0x326d8e(0x3ac)]>0x2&&_0x525aec[_0x326d8e(0x37b)]((_0x19ab31,_0x401c86)=>{const _0x10b811=_0x326d8e;if(_0x401c86>0x0&&_0x401c86<_0x525aec['length']-0x1){const {missingDay1:_0x5e1165,notInDay2:_0x1e30ea}=_0x57fd5c(_0x525aec[_0x401c86][_0x10b811(0x265)],_0x525aec[_0x401c86+0x1][_0x10b811(0x265)]);_0xe81938=[],(_0x5e1165[_0x10b811(0x3ac)]!=0x0||_0x1e30ea['length']!=0x0)&&(_0x5e1165[_0x10b811(0x3ac)]!=0x0&&_0xe81938['push'](..._0x5e1165),_0x1e30ea[_0x10b811(0x3ac)]!=0x0&&(_0x1e30ea[_0x10b811(0x37b)](_0x85763=>{const _0x34f53b=_0x10b811;_0x85763[_0x34f53b(0x27d)]=-_0x85763['number'];}),_0xe81938[_0x10b811(0x33b)](..._0x1e30ea)),_0xe81938[_0x10b811(0x334)]((_0xe968a3,_0x2e5139)=>_0xe968a3[_0x10b811(0x257)]>_0x2e5139[_0x10b811(0x257)]?0x1:_0x2e5139[_0x10b811(0x257)]>_0xe968a3[_0x10b811(0x257)]?-0x1:0x0),_0x3624b0[_0x10b811(0x33b)]({'date':_0x525aec[_0x401c86+0x1][_0x10b811(0x384)],'changes':_0xe81938}));}}),dbConfig['get']('bot')[_0x326d8e(0x329)]({'botID':botID})[_0x326d8e(0x243)]({..._0x584eeb,'liquidity':_0x3624b0})[_0x326d8e(0x2ba)]();}}if(isOlderVersion(_0x39ced0,_0x326d8e(0x39e))){let _0x252167=dbConfig[_0x326d8e(0x3bf)](_0x326d8e(0x368))[_0x326d8e(0x329)]({'botID':botID})[_0x326d8e(0x31d)]();if(_0x252167){const _0x2fb290=_0x252167[_0x326d8e(0x39b)],_0x46594c=_0x2fb290?capitalize(_0x2fb290):_0x326d8e(0x39d);dbConfig['get']('bot')[_0x326d8e(0x329)]({'botID':botID})[_0x326d8e(0x243)]({'exchange':_0x46594c})[_0x326d8e(0x2ba)]();}}if(isOlderVersion(_0x39ced0,_0x326d8e(0x352))){let _0x6f5d5c=dbConfig[_0x326d8e(0x3bf)](_0x326d8e(0x368))[_0x326d8e(0x329)]({'botID':botID})[_0x326d8e(0x31d)]();if(_0x6f5d5c){const _0x330368=_0x6f5d5c[_0x326d8e(0x2d7)],_0x39327a=_0x330368?_0x326d8e(0x207):![];dbConfig[_0x326d8e(0x3bf)]('bot')[_0x326d8e(0x329)]({'botID':botID})[_0x326d8e(0x243)]({'marketcapEnabled':_0x39327a})[_0x326d8e(0x2ba)]();}}if(isOlderVersion(_0x39ced0,_0x326d8e(0x283))){let _0x2283ba=dbConfig[_0x326d8e(0x3bf)](_0x326d8e(0x368))[_0x326d8e(0x329)]({'botID':botID})['value']();if(_0x2283ba){const _0x1f4ca4=_0x2283ba['autoliquidity'],_0x288fdd=_0x1f4ca4?_0x326d8e(0x20f):![];dbConfig[_0x326d8e(0x3bf)]('bot')[_0x326d8e(0x329)]({'botID':botID})[_0x326d8e(0x243)]({'autoliquidity':_0x288fdd})[_0x326d8e(0x2ba)]();}}let _0x8b6b08=dbPerformance[_0x326d8e(0x3bf)](_0x326d8e(0x20d))[_0x326d8e(0x31d)]();isOlderVersion(_0x8b6b08,_0x326d8e(0x263))&&setStartDatePerformance();let _0x468624=dbCoinResults[_0x326d8e(0x3bf)](_0x326d8e(0x20d))['value']();if(isOlderVersion(_0x468624,_0x326d8e(0x37c))){let _0x12a915=dbCoinResults[_0x326d8e(0x3bf)](_0x326d8e(0x265))['value']();if(_0x12a915[_0x326d8e(0x3ac)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xe2b6f7=_0x5f4e08;dbConfig[_0xe2b6f7(0x2f8)](_0xe2b6f7(0x20d),serverversion)['write'](),dbPerformance[_0xe2b6f7(0x2f8)](_0xe2b6f7(0x20d),serverversion)['write'](),dbLogs[_0xe2b6f7(0x2f8)](_0xe2b6f7(0x20d),serverversion)[_0xe2b6f7(0x2ba)](),dbCoinResults[_0xe2b6f7(0x2f8)](_0xe2b6f7(0x20d),serverversion)[_0xe2b6f7(0x2ba)]();}function getConfiguration(_0x611e4c){const _0x1e2d53=_0x5f4e08;let _0x42fcf1=dbConfig['get']('bot')[_0x1e2d53(0x329)]({'botID':_0x611e4c})[_0x1e2d53(0x31d)]();if(_0x42fcf1){let _0x23c594=![];typeof _0x42fcf1['threshold']==_0x1e2d53(0x2fa)&&(_0x42fcf1={..._0x42fcf1,'threshold':Number(_0x42fcf1[_0x1e2d53(0x26c)])},_0x23c594=!![]),_0x42fcf1['change24h']==undefined&&(_0x42fcf1={..._0x42fcf1,'change24h':-0x14},_0x23c594=!![]),_0x42fcf1[_0x1e2d53(0x399)]==undefined&&(_0x42fcf1={..._0x42fcf1,'fiat':_0x1e2d53(0x3c1)},_0x23c594=!![]),_0x42fcf1['onepagemode']==undefined&&(_0x42fcf1={..._0x42fcf1,'onepagemode':settings[_0x1e2d53(0x28e)]},_0x23c594=!![]),_0x42fcf1[_0x1e2d53(0x26f)]==undefined&&(_0x42fcf1={..._0x42fcf1,'colorscheme':'red_yellow_blue'},_0x23c594=!![]),_0x42fcf1[_0x1e2d53(0x22d)]==undefined&&(_0x42fcf1={..._0x42fcf1,'autoliquidity':_0x1e2d53(0x20f)},_0x23c594=!![]),_0x42fcf1[_0x1e2d53(0x247)]==undefined&&(_0x42fcf1={..._0x42fcf1,'marketcapApi':settings[_0x1e2d53(0x247)]?!![]:![]},_0x23c594=!![]),_0x42fcf1[_0x1e2d53(0x2d7)]==undefined&&(_0x42fcf1={..._0x42fcf1,'marketcapEnabled':![]},_0x23c594=!![]),_0x42fcf1[_0x1e2d53(0x33a)]==undefined&&(_0x42fcf1={..._0x42fcf1,'sandbox':![]},_0x23c594=!![]),_0x23c594&&(_0x42fcf1={'botID':_0x42fcf1['botID'],'exchange':_0x42fcf1['exchange'],'apiKey':_0x42fcf1[_0x1e2d53(0x32e)],'apiSecret':_0x42fcf1['apiSecret'],'apiPassword':_0x42fcf1[_0x1e2d53(0x1f4)],'basecoin':_0x42fcf1[_0x1e2d53(0x23e)],'botname':_0x42fcf1[_0x1e2d53(0x36d)],'showname':_0x42fcf1['showname'],'threshold':_0x42fcf1[_0x1e2d53(0x26c)],'ordertype':_0x42fcf1[_0x1e2d53(0x2f3)],'timeout':_0x42fcf1[_0x1e2d53(0x278)],'fiat':_0x42fcf1['fiat'],'startdate':_0x42fcf1[_0x1e2d53(0x284)],'recreate':_0x42fcf1['recreate'],'timeshift':_0x42fcf1['timeshift'],'onepagemode':_0x42fcf1['onepagemode'],'headless':_0x42fcf1['headless'],'cooldown':_0x42fcf1['cooldown'],'change24h':_0x42fcf1[_0x1e2d53(0x2dc)],'emojibuy':_0x42fcf1[_0x1e2d53(0x3a7)],'emojisell':_0x42fcf1[_0x1e2d53(0x289)],'colorscheme':_0x42fcf1[_0x1e2d53(0x26f)],'marketcapApi':_0x42fcf1[_0x1e2d53(0x247)],'marketcapEnabled':_0x42fcf1[_0x1e2d53(0x2d7)],'sandbox':_0x42fcf1[_0x1e2d53(0x33a)],'portfolio':_0x42fcf1[_0x1e2d53(0x292)],'autoliquidity':_0x42fcf1[_0x1e2d53(0x22d)],'liquidity':_0x42fcf1[_0x1e2d53(0x2d9)],'openOrders':_0x42fcf1['openOrders']},dbConfig[_0x1e2d53(0x3bf)](_0x1e2d53(0x368))[_0x1e2d53(0x234)]()[_0x1e2d53(0x2ba)](),dbConfig[_0x1e2d53(0x3bf)](_0x1e2d53(0x368))[_0x1e2d53(0x33b)](_0x42fcf1)['write']());}else _0x42fcf1={'botID':_0x611e4c,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x611e4c,'showname':![],'threshold':0x3,'ordertype':_0x1e2d53(0x2b8),'timeout':0x14,'fiat':_0x1e2d53(0x3c1),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1e2d53(0x268)],'onepagemode':settings[_0x1e2d53(0x28e)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x1e2d53(0x351),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x1e2d53(0x20f),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x42fcf1;}function emittedConfiguration(){const _0x4390fe=_0x5f4e08;let _0x2dee35;if(config[_0x4390fe(0x32e)]=='')_0x2dee35={...config,'configstate':_0x4390fe(0x1f1)};else config['apiKey']==_0x4390fe(0x385)?_0x2dee35={...config,'configstate':_0x4390fe(0x2f1)}:(_0x2dee35={...config,'apiKey':'************','apiSecret':_0x4390fe(0x27b)},config[_0x4390fe(0x1f4)]&&(_0x2dee35[_0x4390fe(0x1f4)]='************'));return _0x2dee35['enableFiatToggle']=enableFiatToggle,_0x2dee35;}function getSettings(){const _0x4c6430=_0x5f4e08;return dbSettings[_0x4c6430(0x3bf)](_0x4c6430(0x371))[_0x4c6430(0x31d)]();}function getSecure(){const _0x5d179f=_0x5f4e08;return dbSecure[_0x5d179f(0x3bf)]('secure')[_0x5d179f(0x31d)]()||{};}function updateTimeshift(_0x3a8f2d){const _0x3d0be9=_0x5f4e08;let _0x91a593=dbConfig[_0x3d0be9(0x3bf)](_0x3d0be9(0x368))[_0x3d0be9(0x329)]({'botID':botID})[_0x3d0be9(0x31d)]();_0x91a593&&dbConfig['get'](_0x3d0be9(0x368))['find']({'botID':botID})[_0x3d0be9(0x243)]({'timeshift':_0x3a8f2d})[_0x3d0be9(0x2ba)](),config[_0x3d0be9(0x268)]=_0x3a8f2d,proxyEmit(_0x3d0be9(0x25d),emittedConfiguration());}function updateOnepagemode(_0x100005){const _0x3fde50=_0x5f4e08;let _0x213740=dbConfig[_0x3fde50(0x3bf)](_0x3fde50(0x368))[_0x3fde50(0x329)]({'botID':botID})['value']();_0x213740&&dbConfig[_0x3fde50(0x3bf)]('bot')[_0x3fde50(0x329)]({'botID':botID})[_0x3fde50(0x243)]({'onepagemode':_0x100005})['write'](),config[_0x3fde50(0x28e)]=_0x100005,proxyEmit(_0x3fde50(0x25d),emittedConfiguration());}function updateMarketcapApi(_0x4b79f0){const _0x387fc3=_0x5f4e08,_0x52cc32=_0x4b79f0?!![]:![];let _0x426a5e=dbConfig[_0x387fc3(0x3bf)](_0x387fc3(0x368))[_0x387fc3(0x329)]({'botID':botID})[_0x387fc3(0x31d)]();_0x426a5e&&dbConfig[_0x387fc3(0x3bf)](_0x387fc3(0x368))[_0x387fc3(0x329)]({'botID':botID})['assign']({'marketcapApi':_0x52cc32})['write'](),config[_0x387fc3(0x247)]=_0x52cc32,getMarketCap(),proxyEmit(_0x387fc3(0x25d),emittedConfiguration());}async function storeConfiguration(_0x20832b){const _0x2affda=_0x5f4e08;logger['debug']('Saving\x20configuration');_0x20832b[_0x2affda(0x21b)]&&delete _0x20832b['configstate'];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x3c4ec2=![],_0x565729=![],_0x5a1fea=[];_0x20832b['portfolio'][_0x2affda(0x37b)](_0x2f42c8=>{const _0x1a6033=_0x2affda;if(!_0x2f42c8['excluded']&&_0x2f42c8['coin']!=_0x20832b[_0x1a6033(0x23e)])_0x5a1fea[_0x1a6033(0x33b)](_0x2f42c8[_0x1a6033(0x398)]);}),_0x5a1fea[_0x2affda(0x37b)](_0x3d7362=>{const _0x58e01f=_0x2affda,_0x1d65fe=currentCoins[_0x58e01f(0x329)](_0x472f88=>_0x472f88[_0x58e01f(0x398)]==_0x3d7362);!_0x1d65fe&&(_0x3c4ec2=!![]);}),currentCoins[_0x2affda(0x37b)](_0x10ee9d=>{const _0x3288b1=_0x2affda;if(_0x10ee9d[_0x3288b1(0x257)]!=config[_0x3288b1(0x23e)]){const _0x5a74da=_0x5a1fea['find'](_0x33d09d=>_0x33d09d==_0x10ee9d[_0x3288b1(0x398)]);!_0x5a74da&&(_0x3c4ec2=!![]);}}),_0x20832b['portfolio']['forEach'](_0x1183bc=>{const _0x43436f=_0x2affda,_0x59e4a8=config['portfolio'][_0x43436f(0x329)](_0x56b3fe=>_0x56b3fe['coin']==_0x1183bc['coin']);if(_0x59e4a8&&_0x1183bc[_0x43436f(0x1ee)]!=_0x59e4a8[_0x43436f(0x1ee)])_0x565729=!![];});let _0x430543=dbConfig[_0x2affda(0x3bf)](_0x2affda(0x368))[_0x2affda(0x329)]({'botID':botID})['value']();_0x20832b={..._0x20832b,'apiKey':decryptRSA(secure['privateKey'],_0x20832b[_0x2affda(0x32e)]),'apiSecret':decryptRSA(secure[_0x2affda(0x2a6)],_0x20832b[_0x2affda(0x229)])};_0x20832b[_0x2affda(0x1f4)]&&(_0x20832b[_0x2affda(0x1f4)]=decryptRSA(secure['privateKey'],_0x20832b[_0x2affda(0x1f4)]));let _0x1eef8b=![];if(_0x430543){_0x20832b[_0x2affda(0x32e)]==_0x2affda(0x27b)?_0x20832b[_0x2affda(0x32e)]=config[_0x2affda(0x32e)]:_0x1eef8b=!![];_0x20832b[_0x2affda(0x229)]==_0x2affda(0x27b)?_0x20832b['apiSecret']=config['apiSecret']:_0x1eef8b=!![];if(_0x20832b[_0x2affda(0x1f4)]==_0x2affda(0x27b))_0x20832b[_0x2affda(0x1f4)]=config[_0x2affda(0x1f4)];else{if(_0x20832b[_0x2affda(0x1f4)])_0x1eef8b=!![];}dbConfig[_0x2affda(0x3bf)](_0x2affda(0x368))[_0x2affda(0x329)]({'botID':botID})[_0x2affda(0x243)](_0x20832b)['write']();}else dbConfig[_0x2affda(0x3bf)]('bot')[_0x2affda(0x33b)](_0x20832b)[_0x2affda(0x2ba)](),_0x1eef8b=!![],process[_0x2affda(0x35f)]({'status':_0x2affda(0x250),'live':_0x2affda(0x302)},_0x5d377f=>{});process[_0x2affda(0x35f)]({'botname':_0x20832b['botname']},_0x3e586d=>{}),config={..._0x20832b},updateBotManager(),proxyEmit(_0x2affda(0x242)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x1eef8b)await reset(!![]);else _0x3c4ec2||_0x565729?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x3bf5e9){const _0x482123=_0x5f4e08,_0x288505={...config,'headless':_0x3bf5e9[_0x482123(0x211)]};let _0x4f0893=dbConfig[_0x482123(0x3bf)]('bot')[_0x482123(0x329)]({'botID':botID})[_0x482123(0x31d)]();_0x4f0893&&dbConfig['get'](_0x482123(0x368))[_0x482123(0x329)]({'botID':botID})[_0x482123(0x243)](_0x288505)['write'](),config={..._0x288505},updateBotManager(),proxyEmit(_0x482123(0x25d),emittedConfiguration());}async function storeFiat(_0x143848){const _0x1bc273=_0x5f4e08,_0x300b16={...config,'fiat':_0x143848};let _0x362bd9=dbConfig[_0x1bc273(0x3bf)](_0x1bc273(0x368))[_0x1bc273(0x329)]({'botID':botID})[_0x1bc273(0x31d)]();_0x362bd9&&dbConfig[_0x1bc273(0x3bf)](_0x1bc273(0x368))[_0x1bc273(0x329)]({'botID':botID})[_0x1bc273(0x243)](_0x300b16)['write'](),config={..._0x300b16},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x4dedd3=_0x5f4e08;logger[_0x4dedd3(0x34c)](_0x4dedd3(0x33c));try{if(fs[_0x4dedd3(0x2dd)](path['join'](configpath,_0x4dedd3(0x362)+botID+_0x4dedd3(0x3ba))))fs[_0x4dedd3(0x2a8)](path[_0x4dedd3(0x3b0)](configpath,'bot-'+botID+_0x4dedd3(0x3ba)));if(fs[_0x4dedd3(0x2dd)](path[_0x4dedd3(0x3b0)](configpath,'bot-'+botID+'-performance.json')))fs[_0x4dedd3(0x2a8)](path[_0x4dedd3(0x3b0)](configpath,_0x4dedd3(0x362)+botID+_0x4dedd3(0x24e)));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+_0x4dedd3(0x26d))))fs[_0x4dedd3(0x2a8)](path['join'](configpath,_0x4dedd3(0x362)+botID+_0x4dedd3(0x26d)));}catch(_0x55be21){if(_0x55be21)logger[_0x4dedd3(0x34c)](_0x4dedd3(0x353),_0x55be21);}const _0x380026=getDate();let _0x58e2d5=[];currentCoins[_0x4dedd3(0x37b)](_0x11dd68=>{const _0x58d67b=_0x4dedd3;_0x58e2d5[_0x58d67b(0x33b)]({'coin':_0x11dd68[_0x58d67b(0x257)],'number':_0x11dd68[_0x58d67b(0x27d)],'price':_0x11dd68[_0x58d67b(0x262)]});});let _0x77f66a=dbConfig[_0x4dedd3(0x3bf)]('bot')[_0x4dedd3(0x329)]({'botID':botID})[_0x4dedd3(0x31d)]();_0x77f66a&&(dbConfig[_0x4dedd3(0x3bf)]('bot')[_0x4dedd3(0x329)]({'botID':botID})['assign']({'liquidity':[{'date':_0x380026,'changes':_0x58e2d5}]})['write'](),config[_0x4dedd3(0x2d9)]=[]),restartBot(!![]);}function noslash(_0x99aa04){return _0x99aa04['replace']('/','');}function updateHighestFee(_0xf1bea5){const _0x52bb82=_0x5f4e08;if(_0xf1bea5[_0x52bb82(0x2c6)]){let _0x23153e={'filled':_0xf1bea5['filled']*_0xf1bea5[_0x52bb82(0x276)],'amount':_0xf1bea5[_0x52bb82(0x222)]*_0xf1bea5[_0x52bb82(0x276)],'side':_0xf1bea5[_0x52bb82(0x21f)]==_0x52bb82(0x377)?_0x52bb82(0x279):_0x52bb82(0x377),'price':0x1/_0xf1bea5[_0x52bb82(0x276)]};_0xf1bea5={..._0xf1bea5,..._0x23153e};}const _0x1f57e9=defaultFee*_0xf1bea5[_0x52bb82(0x222)]*_0xf1bea5['price'];lastFees[_0x52bb82(0x350)][_0x52bb82(0x3ac)]===0x14&&lastFees['recent20'][_0x52bb82(0x225)](),lastFees[_0x52bb82(0x350)][_0x52bb82(0x33b)](_0x1f57e9),lastFees[_0x52bb82(0x274)]=Math[_0x52bb82(0x380)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x176b8b){const _0x5011d5=_0x5f4e08;logger[_0x5011d5(0x230)](_0x5011d5(0x360)+_0x176b8b[_0x5011d5(0x398)]+_0x5011d5(0x29c)+_0x176b8b[_0x5011d5(0x27c)]+_0x5011d5(0x29c)+_0x176b8b[_0x5011d5(0x222)]+_0x5011d5(0x271)+_0x176b8b[_0x5011d5(0x228)]+'\x20|\x20'+_0x176b8b['id']);let _0x4d8d90=_0x176b8b[_0x5011d5(0x27c)],_0x5e1d0d=![];currentCoins[_0x5011d5(0x37b)](_0x131a8b=>{const _0x5a6f11=_0x5011d5;_0x131a8b[_0x5a6f11(0x398)]==_0x176b8b[_0x5a6f11(0x398)]&&(_0x5e1d0d=!![]);});if(!_0x5e1d0d)return;const _0x32a236=currentCoins['find'](_0x48f0bc=>_0x48f0bc[_0x5011d5(0x398)]==_0x176b8b[_0x5011d5(0x398)]),_0x3200ea=_0x32a236[_0x5011d5(0x257)],_0x1a1dd3=_0x4d3aa7=>{const _0x3d6ea1=_0x5011d5,_0x228c56=currentCoins[_0x3d6ea1(0x329)](_0x325f04=>_0x325f04[_0x3d6ea1(0x398)]==_0x176b8b[_0x3d6ea1(0x398)]);if(_0x228c56)_0x228c56[_0x3d6ea1(0x310)]=_0x4d3aa7;};let _0x41d955=![];for(const _0x427816 of lastOrders){const _0x5cc47c=0x64,_0x24ed55=0x1388;let _0x110c08=0x0;while(!_0x427816[_0x5011d5(0x261)]&&_0x110c08*_0x5cc47c<_0x24ed55){_0x110c08++,await sleep(_0x5cc47c);}if(_0x110c08>0x0)logger[_0x5011d5(0x230)](_0x5011d5(0x26b)+_0x110c08*_0x5cc47c/0x3e8+_0x5011d5(0x2bd));_0x427816['orderId']==_0x176b8b['id']&&(_0x41d955=!![]);}if(_0x4d8d90==_0x5011d5(0x223)){_0x1a1dd3(_0x5011d5(0x223));if(_0x176b8b[_0x5011d5(0x222)]>0x0&&_0x176b8b[_0x5011d5(0x222)]<_0x176b8b['amount']){if(_0x41d955){setBlockTransactionDetection(!![]),logger[_0x5011d5(0x230)](_0x5011d5(0x2a1)+_0x176b8b['filled']+_0x5011d5(0x39f)+_0x176b8b['id']);const _0x591fb6=await getCoins(balanceUpdateDelay,undefined,undefined,_0x3200ea);[currentCoins,currentCoinsAll]=_0x591fb6,setBlockTransactionDetection(![]);}else logger[_0x5011d5(0x230)]('1\x20-\x20partially\x20FILLED\x20('+_0x176b8b[_0x5011d5(0x222)]+_0x5011d5(0x2e4)+_0x176b8b['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x4d8d90==_0x5011d5(0x296)){_0x1a1dd3(_0x5011d5(0x296)),lastOrders=lastOrders[_0x5011d5(0x34d)](_0x402553=>_0x402553[_0x5011d5(0x398)]!=_0x176b8b[_0x5011d5(0x398)]);const _0x19258d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x19258d,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x4d8d90=='closed'){if(lastOrders)for(const _0x15438e of lastOrders){if(_0x15438e[_0x5011d5(0x261)]==_0x176b8b['id']){logger[_0x5011d5(0x230)](_0x5011d5(0x2ad)+_0x176b8b['id']),_0x41d955=!![];if(_0x15438e['filled']==0x0){setBlockTransactionDetection(!![]),logger[_0x5011d5(0x230)](_0x5011d5(0x2e1)+_0x176b8b['id']);if(_0x176b8b[_0x5011d5(0x38f)])_0x15438e[_0x5011d5(0x276)]=_0x176b8b[_0x5011d5(0x38f)];else{if(_0x176b8b[_0x5011d5(0x276)])_0x15438e[_0x5011d5(0x276)]=_0x176b8b[_0x5011d5(0x276)];else{}}_0x15438e[_0x5011d5(0x222)]=_0x176b8b[_0x5011d5(0x222)],updateHighestFee(_0x15438e);const _0xe9aa6f=await getCoins(balanceUpdateDelay,undefined,undefined,_0x3200ea);[currentCoins,currentCoinsAll]=_0xe9aa6f,setBlockTransactionDetection(![]),await validateOrders(),_0x1a1dd3(_0x5011d5(0x222)),_0x15438e['fee']={'currency':_0x176b8b[_0x5011d5(0x3a8)]?_0x176b8b[_0x5011d5(0x3a8)][_0x5011d5(0x391)]:null,'cost':_0x176b8b[_0x5011d5(0x3a8)]?_0x176b8b[_0x5011d5(0x3a8)]['cost']:0x0},await updatePnL(_0x15438e);}}}!_0x41d955&&(logger['debug'](_0x5011d5(0x364)+_0x176b8b['id']),_0x1a1dd3(_0x5011d5(0x222)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x5b1aa6=JSON['parse'](lastBalances[_0x5011d5(0x292)]);const _0x1934fc=_0x5b1aa6[_0x5011d5(0x329)](_0x308620=>_0x308620[_0x5011d5(0x398)]==_0x176b8b[_0x5011d5(0x398)]);if(_0x1934fc){if(_0x4d8d90==_0x5011d5(0x223))_0x1934fc[_0x5011d5(0x310)]=_0x1934fc[_0x5011d5(0x310)]=='filled'?_0x5011d5(0x222):_0x5011d5(0x223);else{if(_0x4d8d90==_0x5011d5(0x296))_0x1934fc[_0x5011d5(0x310)]=_0x1934fc['orderstatus']=='filled'?_0x5011d5(0x222):_0x5011d5(0x296);else _0x4d8d90==_0x5011d5(0x3a0)&&(_0x1934fc[_0x5011d5(0x310)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x5011d5(0x354)](_0x5b1aa6)},proxyEmit(_0x5011d5(0x2a2),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x20ff78=![];currentCoins['forEach'](_0x258cc4=>{const _0x4831be=_0x5596;_0x20ff78=allOpenOrders['find'](_0x3ef087=>_0x3ef087[_0x4831be(0x398)]==_0x258cc4[_0x4831be(0x398)]),_0x258cc4[_0x4831be(0x310)]=_0x20ff78?_0x4831be(0x223):'none';});}async function fetchBalance(_0x29898e=!![]){const _0x4a6190=_0x5f4e08;let _0x1ba63e,_0x3fd1b0,_0x319cf9,_0x4a4759=0x0;while(!_0x3fd1b0&&_0x4a4759<maxRetries){try{return _0x1ba63e=await exchange[_0x4a6190(0x1fe)](),_0x3fd1b0=_0x1ba63e[_0x4a6190(0x2d2)],_0x3fd1b0;}catch(_0x510f50){_0x319cf9=_0x510f50,_0x4a4759++,await sleep(retryInterval);}}return!_0x29898e?handleErrorNoStop(_0x319cf9,_0x4a6190(0x2d0)):await handleError(_0x319cf9,_0x4a6190(0x2d0)),![];}async function getCoins(_0x4ce15d=0x0,_0x194dd7=!![],_0x5c4408=config[_0x5f4e08(0x23e)],_0x5a0bec){const _0x1cb1c9=_0x5f4e08;let _0x537a9b=[],_0x286e9a=[],_0x22a517=[],_0x2e2171;if(_0x4ce15d)await sleep(_0x4ce15d);if(botPaused)return[currentCoins,currentCoinsAll];let _0x2384bb=![],_0x32c1d4=0x0,_0x1cff16,_0x3010e3;_0x5a0bec&&(_0x1cff16=currentCoins[_0x1cb1c9(0x329)](_0x34631b=>_0x34631b[_0x1cb1c9(0x257)]==_0x5a0bec),_0x1cff16&&(_0x3010e3=_0x1cff16[_0x1cb1c9(0x2f7)],delete _0x1cff16[_0x1cb1c9(0x2f7)]));while(!_0x2384bb){_0x2e2171=await fetchBalance(_0x194dd7);if(_0x2e2171){if(_0x5a0bec){if(_0x2e2171[_0x5a0bec]!=_0x3010e3)logger[_0x1cb1c9(0x230)](_0x1cb1c9(0x393)+_0x5a0bec+':\x20'+_0x2e2171[_0x5a0bec]+'\x20('+_0x3010e3+')'),_0x2384bb=!![];else{logger[_0x1cb1c9(0x230)]('Invalid\x20balance\x20for\x20'+_0x5a0bec+':\x20'+_0x2e2171[_0x5a0bec]+'\x20('+_0x3010e3+')'),_0x32c1d4++;if(_0x32c1d4<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger['debug'](_0x1cb1c9(0x23c)+_0x32c1d4+_0x1cb1c9(0x2ec));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x4be0d8,_0xcfaab4]of Object[_0x1cb1c9(0x2de)](_0x2e2171)){_0x22a517[_0x1cb1c9(0x33b)](_0x4be0d8);}config[_0x1cb1c9(0x292)][_0x1cb1c9(0x37b)](_0x3e4167=>{const _0x38eeb5=_0x1cb1c9;!_0x22a517['includes'](_0x3e4167['coin'])&&(_0x2e2171[_0x3e4167[_0x38eeb5(0x257)]]=0x0);});if(_0x5c4408=='')for(const [_0x4b1529,_0x3d0969]of Object[_0x1cb1c9(0x2de)](_0x2e2171)){_0x3d0969!=0x0&&_0x537a9b['push']({'coin':_0x4b1529});}else for(const [_0x47aad8,_0x251c77]of Object[_0x1cb1c9(0x2de)](_0x2e2171)){const _0x10601d=config[_0x1cb1c9(0x292)][_0x1cb1c9(0x329)](_0x3ba3f8=>_0x3ba3f8['coin']==_0x47aad8),_0x229a5d=_0x47aad8+'/'+_0x5c4408,_0x1f3fc5=_0x5c4408+'/'+_0x47aad8,_0x4a1266=currentCoins[_0x1cb1c9(0x329)](_0x5d3786=>_0x5d3786[_0x1cb1c9(0x257)]==_0x47aad8);if((_0x251c77!=0x0||_0x10601d)&&(allSymbols[_0x1cb1c9(0x20c)](_0x229a5d)||_0x47aad8==_0x5c4408))_0x4a1266?_0x537a9b[_0x1cb1c9(0x33b)]({..._0x4a1266,'number':Math['max'](_0x251c77+(_0x10601d&&_0x10601d[_0x1cb1c9(0x1ee)]||0x0),0x0)}):_0x537a9b[_0x1cb1c9(0x33b)]({'coin':_0x47aad8,'symbol':_0x229a5d,'reverse':![],'number':Math[_0x1cb1c9(0x380)](_0x251c77+(_0x10601d&&_0x10601d[_0x1cb1c9(0x1ee)]||0x0),0x0),'orderstatus':_0x1cb1c9(0x34e)});else{if((_0x251c77!=0x0||_0x10601d)&&allSymbols[_0x1cb1c9(0x20c)](_0x1f3fc5))_0x4a1266?_0x537a9b[_0x1cb1c9(0x33b)]({..._0x4a1266,'number':Math[_0x1cb1c9(0x380)](_0x251c77+(_0x10601d&&_0x10601d[_0x1cb1c9(0x1ee)]||0x0),0x0)}):_0x537a9b[_0x1cb1c9(0x33b)]({'coin':_0x47aad8,'symbol':_0x1f3fc5,'reverse':!![],'number':Math[_0x1cb1c9(0x380)](_0x251c77+(_0x10601d&&_0x10601d[_0x1cb1c9(0x1ee)]||0x0),0x0),'orderstatus':_0x1cb1c9(0x34e)});else _0x10601d&&_0x537a9b['push']({'coin':_0x10601d['coin'],'symbol':_0x10601d[_0x1cb1c9(0x398)],'reverse':_0x10601d[_0x1cb1c9(0x2c6)],'number':0x0,'orderstatus':'none'});}}return _0x537a9b[_0x1cb1c9(0x334)]((_0x2ed4df,_0x1d252c)=>_0x2ed4df[_0x1cb1c9(0x215)]<_0x1d252c['delta']?0x1:_0x1d252c[_0x1cb1c9(0x215)]<_0x2ed4df[_0x1cb1c9(0x215)]?-0x1:0x0),_0x286e9a=cloneDeep(_0x537a9b),_0x537a9b=_0x537a9b[_0x1cb1c9(0x34d)](_0x50dab4=>{const _0x1278fc=_0x1cb1c9,_0x2635b2=config[_0x1278fc(0x292)][_0x1278fc(0x329)](_0x14cdf6=>_0x14cdf6[_0x1278fc(0x257)]==_0x50dab4[_0x1278fc(0x257)]);return _0x2635b2&&!_0x2635b2[_0x1278fc(0x3ab)];}),[_0x537a9b,_0x286e9a];}async function getOpenOrders(){const _0x20bccd=_0x5f4e08;let _0x353084;allOpenOrders=[];try{for(const _0x540c14 of config['portfolio']){!_0x540c14[_0x20bccd(0x3ab)]&&_0x540c14[_0x20bccd(0x257)]!=config[_0x20bccd(0x23e)]&&(_0x353084=await exchange[_0x20bccd(0x2cb)](_0x540c14[_0x20bccd(0x398)]),_0x353084[_0x20bccd(0x3ac)]>0x0&&allOpenOrders[_0x20bccd(0x33b)](_0x353084[0x0]));}}catch(_0x2aaaa1){await handleError(_0x2aaaa1,'getOpenOrders()');}}async function handleOpenOrders(_0x5a2036=0x0){const _0x5dd516=_0x5f4e08;allOpenOrders[_0x5dd516(0x3ac)]==0x0&&lockOrders==ORDERS[_0x5dd516(0x30a)]&&allOrdersPlaced&&(_0x5a2036==0x0?(logger[_0x5dd516(0x230)](_0x5dd516(0x38d)),_0x5a2036++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x5dd516(0x230)](_0x5dd516(0x281)),validateOrders(_0x5dd516(0x241))));}async function testAPI(){const _0x298a13=_0x5f4e08;try{return await exchange[_0x298a13(0x1fe)](),!![];}catch(_0x1936c1){loading['cancel']=!![],_0x1936c1[_0x298a13(0x245)]()['toLowerCase']()[_0x298a13(0x20c)](_0x298a13(0x2b7))||_0x1936c1['toString']()[_0x298a13(0x2c0)]()[_0x298a13(0x20c)](_0x298a13(0x1f8))?(logHistory(_0x298a13(0x349),_0x298a13(0x259)),loading['error']=_0x298a13(0x369)):handleErrorNoStop(_0x1936c1,_0x298a13(0x1ec),!![]),logHistory(_0x298a13(0x349),_0x298a13(0x324)),logHistory(_0x298a13(0x349),_0x298a13(0x358)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x298a13(0x230)](_0x298a13(0x2c8),_0x1936c1),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x100cc0){const _0x344b61=_0x5f4e08;logger[_0x344b61(0x230)]('Test\x20new\x20API');const _0x3d0a40=ccxt[_0x344b61(0x300)][_0x100cc0['exchange'][_0x344b61(0x2c0)]()],_0x55955b=new _0x3d0a40({'apiKey':_0x100cc0[_0x344b61(0x32e)],'secret':_0x100cc0[_0x344b61(0x229)],'options':{'defaultType':_0x344b61(0x1f9)}});if(_0x100cc0[_0x344b61(0x1f4)])_0x55955b[_0x344b61(0x35a)]=_0x100cc0[_0x344b61(0x1f4)];if(_0x55955b[_0x344b61(0x213)][_0x344b61(0x33a)])_0x55955b[_0x344b61(0x35d)](_0x100cc0[_0x344b61(0x33a)]);try{await _0x55955b['fetchBalance'](),botPaused=![];}catch(_0x5f0086){logger['debug'](_0x344b61(0x38b)+_0x5f0086[_0x344b61(0x245)]());throw _0x5f0086;}}function cloneDeep(_0x4e3f86){const _0x4b5c05=_0x5f4e08;return JSON[_0x4b5c05(0x2c3)](JSON['stringify'](_0x4e3f86));}async function getPortfolio(_0x22e3a1){const _0x37932e=_0x5f4e08;let _0x17fc71=[],_0x37a350=[],_0x2cffe5=[],_0x15958a;_0x22e3a1[_0x37932e(0x32e)]=decryptRSA(secure[_0x37932e(0x2a6)],_0x22e3a1[_0x37932e(0x32e)]),_0x22e3a1[_0x37932e(0x229)]=decryptRSA(secure[_0x37932e(0x2a6)],_0x22e3a1[_0x37932e(0x229)]);if(_0x22e3a1[_0x37932e(0x1f4)])_0x22e3a1['apiPassword']=decryptRSA(secure[_0x37932e(0x2a6)],_0x22e3a1['apiPassword']);if(_0x22e3a1[_0x37932e(0x32e)]!==_0x37932e(0x27b)||_0x22e3a1[_0x37932e(0x229)]!=='************'||_0x22e3a1[_0x37932e(0x1f4)]&&_0x22e3a1[_0x37932e(0x1f4)]!==_0x37932e(0x27b)){if(config['exchange']){if(_0x22e3a1[_0x37932e(0x32e)]==_0x37932e(0x27b))_0x22e3a1['apiKey']=config['apiKey'];if(_0x22e3a1[_0x37932e(0x229)]=='************')_0x22e3a1['apiSecret']=config[_0x37932e(0x229)];if(_0x22e3a1['apiPassword']==_0x37932e(0x27b))_0x22e3a1[_0x37932e(0x1f4)]=config[_0x37932e(0x1f4)];}try{if(_0x22e3a1[_0x37932e(0x2ff)])await testNewAPI(_0x22e3a1);}catch(_0x2ac436){if(_0x2ac436[_0x37932e(0x245)]()[_0x37932e(0x20c)](_0x37932e(0x2d4))){logHistory('error',_0x37932e(0x2ed)),logHistory(_0x37932e(0x349),'Error\x20details:\x20'+_0x2ac436[_0x37932e(0x245)]()),proxyEmit('portfolio1',![]);return;}else{if(_0x2ac436['toString']()[_0x37932e(0x20c)](_0x37932e(0x29f))){logHistory('error',_0x37932e(0x2bb)),logHistory(_0x37932e(0x349),_0x37932e(0x365)+_0x2ac436[_0x37932e(0x245)]()),proxyEmit(_0x37932e(0x218),![]);return;}else{logHistory(_0x37932e(0x349),_0x37932e(0x203)+_0x2ac436[_0x37932e(0x245)]()),logger[_0x37932e(0x230)]('Error\x20details:',_0x2ac436),proxyEmit('portfolio1',![]);return;}}}exchange?updateExchange(_0x22e3a1['apiKey'],_0x22e3a1[_0x37932e(0x229)],_0x22e3a1[_0x37932e(0x1f4)]):await initExchange(_0x22e3a1[_0x37932e(0x39b)],_0x22e3a1[_0x37932e(0x32e)],_0x22e3a1[_0x37932e(0x229)],_0x22e3a1['apiPassword'],_0x22e3a1[_0x37932e(0x33a)]);await loadSymbols();const _0x2207b1=await getCoins(0x0,![],_0x22e3a1[_0x37932e(0x23e)]);_0x2cffe5=cloneDeep(_0x2207b1[0x1]);}else{const _0x4b882f=await getCoins();_0x2cffe5=cloneDeep(_0x4b882f[0x1]);}if(_0x22e3a1[_0x37932e(0x23e)]=='')proxyEmit(_0x37932e(0x218),!![]),proxyEmit(_0x37932e(0x308),_0x2cffe5);else{_0x2cffe5[_0x37932e(0x37b)](_0x5bbfae=>{const _0x324199=_0x37932e;if(_0x5bbfae[_0x324199(0x257)]!=_0x22e3a1[_0x324199(0x23e)]&&allSymbols[_0x324199(0x20c)](_0x5bbfae[_0x324199(0x398)]))_0x17fc71[_0x324199(0x33b)](_0x5bbfae[_0x324199(0x398)]);});if(_0x17fc71['length']==0x0)logHistory('error',_0x37932e(0x38e));else{try{_0x37a350=await getTickers(_0x17fc71);}catch(_0x4b74e5){logHistory(_0x37932e(0x349),'Unknown\x20error\x20-\x20check\x20logs'),logger[_0x37932e(0x230)](_0x37932e(0x2c8),_0x4b74e5),proxyEmit(_0x37932e(0x218),![]);return;}_0x2cffe5[_0x37932e(0x37b)](_0x3d9510=>{const _0x10f4a8=_0x37932e;_0x3d9510['coin']!=_0x22e3a1[_0x10f4a8(0x23e)]?_0x37a350[_0x3d9510['symbol']]?_0x37a350[_0x3d9510[_0x10f4a8(0x398)]][_0x10f4a8(0x262)]?_0x15958a=_0x3d9510[_0x10f4a8(0x2c6)]?0x1/_0x37a350[_0x3d9510[_0x10f4a8(0x398)]][_0x10f4a8(0x262)]:_0x37a350[_0x3d9510[_0x10f4a8(0x398)]]['last']:_0x15958a=0x0:_0x15958a=0x0:_0x15958a=0x1,_0x3d9510['price']=formatResult(_0x15958a,0x8);}),await getMarketCap(_0x2cffe5),proxyEmit('portfolio1',!![]),proxyEmit(_0x37932e(0x308),_0x2cffe5);}}}function truncateTradeAmount(_0x5c48c2,_0x59c3a9){const _0x2e100d=_0x5f4e08;let _0x372816=0x0;try{_0x372816=exchange[_0x2e100d(0x36c)](_0x5c48c2,_0x59c3a9);}catch(_0x15cb27){}return _0x372816;}function checkMinimums(_0x38153c){const _0x48ac33=_0x5f4e08;let _0x4bd121=!![];const _0x1dbb78=!_0x38153c['reverse']?markets[_0x38153c[_0x48ac33(0x398)]]['limits'][_0x48ac33(0x228)][_0x48ac33(0x2b1)]:markets[_0x38153c[_0x48ac33(0x398)]][_0x48ac33(0x253)][_0x48ac33(0x202)][_0x48ac33(0x2b1)],_0x31a182=!_0x38153c[_0x48ac33(0x2c6)]?markets[_0x38153c[_0x48ac33(0x398)]][_0x48ac33(0x253)]['cost']['min']:markets[_0x38153c[_0x48ac33(0x398)]][_0x48ac33(0x253)][_0x48ac33(0x228)][_0x48ac33(0x2b1)],_0x2c5725=truncateTradeAmount(_0x38153c[_0x48ac33(0x398)],_0x38153c[_0x48ac33(0x270)]);_0x38153c[_0x48ac33(0x270)]=_0x2c5725;if(Math[_0x48ac33(0x337)](_0x2c5725)<_0x1dbb78)_0x4bd121=![];if(Math[_0x48ac33(0x337)](_0x2c5725)*_0x38153c[_0x48ac33(0x262)]<_0x31a182)_0x4bd121=![];let _0xd7645b='';if(_0x38153c['side']==_0x48ac33(0x377)){let _0x1ec8f5=config['portfolio'][_0x48ac33(0x329)](_0x15a57b=>_0x15a57b['coin']==_0x38153c[_0x48ac33(0x257)]);_0x1ec8f5[_0x48ac33(0x1ee)]>0x0?Math[_0x48ac33(0x337)](_0x2c5725)>_0x38153c['number']-_0x1ec8f5[_0x48ac33(0x1ee)]&&(_0x4bd121=![],_0xd7645b=_0x48ac33(0x2d5)+_0x1ec8f5['coin']+_0x48ac33(0x320)):Math['abs'](_0x2c5725)>_0x38153c[_0x48ac33(0x27d)]&&(_0x4bd121=![]);}if(_0x38153c[_0x48ac33(0x21f)]==_0x48ac33(0x279)){let _0x56e728=config[_0x48ac33(0x292)]['find'](_0x144df0=>_0x144df0['coin']==config[_0x48ac33(0x23e)]),_0x42bf21=currentCoins['find'](_0x2fed87=>_0x2fed87[_0x48ac33(0x257)]==config[_0x48ac33(0x23e)]);_0x56e728[_0x48ac33(0x1ee)]>0x0?Math['abs'](_0x2c5725)*_0x38153c[_0x48ac33(0x262)]>_0x42bf21[_0x48ac33(0x27d)]-_0x56e728[_0x48ac33(0x1ee)]&&(_0x4bd121=![],_0xd7645b=_0x48ac33(0x2d5)+config['basecoin']+_0x48ac33(0x320)):Math[_0x48ac33(0x337)](_0x2c5725)*_0x38153c[_0x48ac33(0x262)]>_0x42bf21['number']&&(_0x4bd121=![]);}return!_0x4bd121&&_0xd7645b&&!insufficientFundsWarningSent[_0x48ac33(0x20c)](_0x38153c['coin'])&&(logHistory(_0x48ac33(0x240),_0xd7645b),insufficientFundsWarningSent[_0x48ac33(0x33b)](_0x38153c['coin'])),_0x4bd121;}async function getBalances(_0x2dcfa8=!![]){const _0xf54cc2=_0x5f4e08;if(botPaused)return;let _0x449094=0x0,_0x305100;const _0xa4816e=config[_0xf54cc2(0x26c)];if(config['headless']&&config[_0xf54cc2(0x2dc)]<0x0)await validate24hChanges();currentCoins[_0xf54cc2(0x37b)](_0x2d5cc9=>{const _0x1a3327=_0xf54cc2;if(_0x2d5cc9[_0x1a3327(0x257)]!=config['basecoin']){let _0x2d9197=gTicker[noslash(_0x2d5cc9[_0x1a3327(0x398)])];_0x305100=_0x2d5cc9['reverse']?0x1/_0x2d9197:_0x2d9197;}else _0x305100=0x1;let _0x1dde05=_0x2d5cc9[_0x1a3327(0x27d)]*_0x305100;_0x449094+=_0x1dde05,_0x2d5cc9[_0x1a3327(0x262)]=formatResult(Number(_0x305100),0x8),_0x2d5cc9['value']=_0x1dde05;}),currentCoins[_0xf54cc2(0x37b)](_0x491485=>{const _0x599e89=_0xf54cc2;let _0xeb9466=config[_0x599e89(0x292)][_0x599e89(0x329)](_0x4ee17c=>_0x4ee17c[_0x599e89(0x257)]==_0x491485[_0x599e89(0x257)]),_0x4655d9=Number(_0xeb9466[_0x599e89(0x2cd)]),_0x22b9ea=_0x491485[_0x599e89(0x31d)]/_0x449094*0x64,_0x5abc59=_0x4655d9*_0x449094/0x64/_0x491485[_0x599e89(0x262)]-_0x491485['number'];_0x491485['distribution']=formatResult(_0x22b9ea,0x3),_0x491485['target']=formatResult(_0x4655d9,0x3),_0x491485['trade']=formatResult(_0x5abc59,0x8),_0x491485[_0x599e89(0x21f)]='',_0x491485[_0x599e89(0x29d)]=![];if(_0x491485[_0x599e89(0x257)]!=config['basecoin']){if(_0x491485[_0x599e89(0x2cd)]>_0x4655d9)_0x491485['side']=_0x599e89(0x377),_0x491485[_0x599e89(0x29d)]=checkMinimums(_0x491485);else _0x491485['distribution']<_0x4655d9&&(_0x491485['side']=_0x599e89(0x279),_0x491485[_0x599e89(0x29d)]=checkMinimums(_0x491485));}_0x491485[_0x599e89(0x215)]=_0x491485[_0x599e89(0x2cd)]/_0x491485[_0x599e89(0x39c)]-0x1;if(_0x491485['orderstatus']=='filled'||_0x491485[_0x599e89(0x310)]==_0x599e89(0x296))_0x491485[_0x599e89(0x310)]='none';}),currentCoins[_0xf54cc2(0x334)]((_0x444e4e,_0x33a1b6)=>_0x444e4e[_0xf54cc2(0x215)]<_0x33a1b6[_0xf54cc2(0x215)]?0x1:_0x33a1b6[_0xf54cc2(0x215)]<_0x444e4e['delta']?-0x1:0x0);const _0x3e5467=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3e5467[_0xf54cc2(0x21c)],'usd':_0x3e5467['usd'],'portfolio':JSON[_0xf54cc2(0x354)](currentCoins),'threshold':_0xa4816e},proxyEmit(_0xf54cc2(0x2a2),{'serverversion':serverversion,'balances':lastBalances});if(_0x2dcfa8){if(config[_0xf54cc2(0x211)])headlessMode({'portfolio':currentCoins,'threshold':_0xa4816e});else lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0xa4816e});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4e54bf=getNormalizedPerformance();getStartingBalances(_0x4e54bf),emitPerformance(_0x4e54bf);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x5a2862=_0x5f4e08;let _0x2d7fab=dbCoinResults['get']('coins')['value'](),_0x1d631d=0x0;return Object[_0x5a2862(0x2de)](_0x2d7fab)[_0x5a2862(0x37b)](([_0x322a54,_0x553238])=>{const _0x596db5=_0x5a2862;_0x1d631d+=_0x553238[_0x596db5(0x3a5)];}),_0x1d631d;}async function storePerformance(){const _0x1c0487=_0x5f4e08;if(!lastBalances)return;let _0x32970b=[],_0x2bed01;const _0xc6072e=getPnL();let _0x33849b=JSON[_0x1c0487(0x2c3)](lastBalances['portfolio']);_0x33849b[_0x1c0487(0x334)]((_0x3e0ba5,_0x418971)=>_0x3e0ba5['coin']>_0x418971[_0x1c0487(0x257)]?0x1:_0x418971['coin']>_0x3e0ba5['coin']?-0x1:0x0),_0x33849b[_0x1c0487(0x37b)](_0xaf2115=>{const _0x39972d=_0x1c0487;let _0x1ca3e1={'coin':_0xaf2115[_0x39972d(0x257)],'number':_0xaf2115[_0x39972d(0x27d)],'price':_0xaf2115[_0x39972d(0x262)]};_0x32970b[_0x39972d(0x33b)](_0x1ca3e1);});const _0x353357=await getFiat(),_0x38466a=getTimeStamp()[_0x1c0487(0x355)]('\x20')[0x0],_0x366645=dbPerformance[_0x1c0487(0x3bf)](_0x1c0487(0x25a))['find']({'date':_0x38466a})[_0x1c0487(0x31d)]();_0x2bed01={'date':_0x38466a,'eur':_0x353357['eur'],'usd':_0x353357[_0x1c0487(0x311)],'coins':_0x32970b,'pnl':_0xc6072e},_0x366645?_0x2bed01[_0x1c0487(0x384)]!=config[_0x1c0487(0x284)]&&dbPerformance[_0x1c0487(0x3bf)](_0x1c0487(0x25a))[_0x1c0487(0x329)]({'date':_0x38466a})[_0x1c0487(0x243)](_0x2bed01)[_0x1c0487(0x2ba)]():dbPerformance[_0x1c0487(0x3bf)](_0x1c0487(0x25a))[_0x1c0487(0x33b)](_0x2bed01)[_0x1c0487(0x2ba)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x30ac75=_0x5f4e08;let _0x8eff48=[];if(dbPerformance[_0x30ac75(0x213)](_0x30ac75(0x25a))[_0x30ac75(0x31d)]()){let _0x499db2=dbPerformance[_0x30ac75(0x3bf)](_0x30ac75(0x25a))['cloneDeep']()['filter'](_0xd882d4=>{const _0x2f6e9b=_0x30ac75;if(_0xd882d4[_0x2f6e9b(0x265)][_0x2f6e9b(0x3ac)]==0x0)return![];else return!![];})[_0x30ac75(0x394)](_0x30ac75(0x384))[_0x30ac75(0x31d)](),_0x5274f2=[...config['liquidity']];_0x5274f2[_0x30ac75(0x334)]((_0x25dc1c,_0x5da441)=>_0x25dc1c[_0x30ac75(0x384)]>_0x5da441[_0x30ac75(0x384)]?-0x1:_0x5da441[_0x30ac75(0x384)]>_0x25dc1c[_0x30ac75(0x384)]?0x1:0x0);let _0x324588=0x1,_0x1f9189=[],_0x26ce64=0x0;_0x499db2['slice']()[_0x30ac75(0x2c6)]()[_0x30ac75(0x37b)]((_0x3c31b5,_0x3f7b96)=>{const _0x328999=_0x30ac75;if(_0x5274f2[_0x26ce64]){if(_0x499db2[_0x499db2['length']-_0x3f7b96]&&_0x5274f2[_0x26ce64]['date']==_0x499db2[_0x499db2['length']-_0x3f7b96][_0x328999(0x384)]){if(_0x3f7b96<_0x499db2[_0x328999(0x3ac)]){let _0x58b8bd=0x0,_0x71c879=0x0;_0x499db2[_0x499db2[_0x328999(0x3ac)]-_0x3f7b96][_0x328999(0x265)]['forEach'](_0x3ebba7=>{const _0x8de823=_0x328999;_0x71c879+=_0x3ebba7[_0x8de823(0x27d)]*_0x3ebba7[_0x8de823(0x276)];}),_0x5274f2[_0x26ce64][_0x328999(0x3aa)][_0x328999(0x37b)](_0x328604=>{const _0x3faafd=_0x328999;_0x58b8bd+=_0x328604[_0x3faafd(0x27d)]*_0x328604[_0x3faafd(0x276)];}),_0x324588*=_0x58b8bd/(_0x71c879-_0x58b8bd)+0x1;}_0x26ce64++;}}let _0x1d8b69=0x0;_0x3c31b5['coins']['forEach'](_0x299a95=>{const _0x279237=_0x328999;_0x1d8b69+=_0x299a95[_0x279237(0x27d)]*_0x299a95['price'];}),_0x1f9189[_0x499db2[_0x328999(0x3ac)]-_0x3f7b96-0x1]=_0x1d8b69*(_0x324588-0x1);});let _0x1b6605=[];_0x5274f2=[...config[_0x30ac75(0x2d9)]]||[];let _0x157eea=0x0;_0x26ce64=0x0,_0x499db2[_0x30ac75(0x37b)]((_0x12e8eb,_0x51f0e3)=>{const _0x27693d=_0x30ac75;if(_0x5274f2[_0x26ce64]){const _0x5e5974=fns[_0x27693d(0x2c3)](_0x5274f2[_0x26ce64][_0x27693d(0x384)],'yyyy/MM/dd',new Date()),_0x5adc11=fns[_0x27693d(0x2c3)](_0x12e8eb[_0x27693d(0x384)],_0x27693d(0x1ff),new Date());if(fns['isEqual'](_0x5e5974,_0x5adc11)){let _0x5c22ec=0x0;_0x5274f2[_0x26ce64][_0x27693d(0x3aa)][_0x27693d(0x37b)](_0x4019f0=>{const _0x45d9ab=_0x27693d;!_0x1b6605[_0x4019f0['coin']]?_0x1b6605[_0x4019f0['coin']]=_0x4019f0[_0x45d9ab(0x27d)]:(_0x5c22ec=_0x1b6605[_0x4019f0[_0x45d9ab(0x257)]],_0x1b6605[_0x4019f0[_0x45d9ab(0x257)]]+=_0x4019f0[_0x45d9ab(0x27d)]);const _0x1796bf=_0x12e8eb[_0x45d9ab(0x265)][_0x45d9ab(0x329)](_0x5caacc=>_0x5caacc[_0x45d9ab(0x257)]==_0x4019f0[_0x45d9ab(0x257)]);(!_0x1796bf||_0x1796bf[_0x45d9ab(0x27d)]==0x0)&&(_0x157eea+=(-_0x4019f0[_0x45d9ab(0x27d)]-_0x5c22ec)*_0x4019f0['price']);}),_0x26ce64++;}}_0x12e8eb['coins'][_0x27693d(0x37b)]((_0x488155,_0x56e4c0)=>{const _0x50ad30=_0x27693d;_0x1b6605[_0x488155['coin']]&&(_0x488155[_0x50ad30(0x1f1)]=_0x1b6605[_0x488155[_0x50ad30(0x257)]]);}),_0x8eff48[_0x27693d(0x33b)]({'date':_0x12e8eb['date'],'eur':_0x12e8eb[_0x27693d(0x21c)],'usd':_0x12e8eb[_0x27693d(0x311)],'offset':_0x1f9189[_0x51f0e3],'netoffset':_0x157eea,'coins':_0x12e8eb[_0x27693d(0x265)],'pnl':_0x12e8eb[_0x27693d(0x2a5)]});});}return _0x8eff48;}function emitPerformance(_0x24d5bf){const _0x14360b=_0x5f4e08;_0x24d5bf['length']!==0x0?(proxyEmit(_0x14360b(0x28d),_0x24d5bf),lastPerformanceEmitted=getDate()):proxyEmit(_0x14360b(0x28d),[]);}function getPerf(_0x434814,_0x148f8b){const _0x4b3da6=_0x5f4e08;let _0xedb4c2=0x0,_0x213b3a=0x0,_0x3ca2c0=0x0;_0x434814[_0x4b3da6(0x265)]['forEach'](_0x53b1e3=>{const _0x440773=_0x4b3da6;_0xedb4c2+=_0x53b1e3[_0x440773(0x27d)]*_0x53b1e3[_0x440773(0x276)];});_0x148f8b&&(_0xedb4c2+=_0x434814[_0x4b3da6(0x1ee)]);if(config[_0x4b3da6(0x23e)]===_0x4b3da6(0x2b4)||config[_0x4b3da6(0x23e)]===_0x4b3da6(0x31b)||config['basecoin']===_0x4b3da6(0x2e2))_0x213b3a=_0xedb4c2*_0x434814[_0x4b3da6(0x21c)],_0x3ca2c0=_0xedb4c2*_0x434814[_0x4b3da6(0x311)];else{if(usdBasecoins[_0x4b3da6(0x20c)](config[_0x4b3da6(0x23e)]))_0x213b3a=_0xedb4c2*_0x434814[_0x4b3da6(0x21c)]/_0x434814[_0x4b3da6(0x311)],_0x3ca2c0=_0xedb4c2;else config[_0x4b3da6(0x23e)]===_0x4b3da6(0x244)&&(_0x213b3a=_0xedb4c2,_0x3ca2c0=_0xedb4c2*_0x434814[_0x4b3da6(0x311)]/_0x434814[_0x4b3da6(0x21c)]);}return[_0xedb4c2,_0x213b3a,_0x3ca2c0];}function CurrencyFactor(_0x2ab30e,_0x55c0e0,_0x46460b){const _0x4f25f6=_0x5f4e08;let _0x136a92;if(_0x55c0e0===_0x4f25f6(0x2b4)||_0x55c0e0===_0x4f25f6(0x31b)||_0x55c0e0==='PAXG')_0x136a92=_0x46460b===_0x4f25f6(0x244)?_0x2ab30e['eur']:_0x2ab30e[_0x4f25f6(0x311)];else{if(usdBasecoins[_0x4f25f6(0x20c)](_0x55c0e0))_0x136a92=_0x46460b===_0x4f25f6(0x244)?_0x2ab30e['eur']/_0x2ab30e[_0x4f25f6(0x311)]:0x1;else _0x55c0e0===_0x4f25f6(0x244)&&(_0x136a92=_0x46460b===_0x4f25f6(0x244)?0x1:_0x2ab30e[_0x4f25f6(0x311)]/_0x2ab30e[_0x4f25f6(0x21c)]);}return _0x136a92;}function getKPIs(_0x46a5cc,_0x155b2c=_0x5f4e08(0x244)){const _0x4ecf98=_0x5f4e08,_0x1c61a1=config[_0x4ecf98(0x23e)],_0x4d9fce=lastBalances,_0x274a17=currentCoins,_0x5c364f=getNormalizedPerformance(),_0x54a175=CurrencyFactor(_0x4d9fce,config[_0x4ecf98(0x23e)],_0x155b2c);let _0x218660=0x0;_0x274a17[_0x4ecf98(0x37b)](_0x15678c=>{const _0x5ad4de=_0x4ecf98;_0x218660+=_0x15678c[_0x5ad4de(0x27d)]*_0x15678c[_0x5ad4de(0x262)];});_0x46a5cc[_0x4ecf98(0x20c)](_0x4ecf98(0x399))&&(_0x218660*=_0x54a175);let _0x99bca2;if(_0x218660!==0x0){if(_0x46a5cc===_0x4ecf98(0x23e)||_0x46a5cc===_0x4ecf98(0x399)){if(_0x46a5cc==='basecoin')_0x99bca2=(_0x218660/startingBalances['basecoin']-0x1)*0x64;else{if(_0x155b2c==='EUR')_0x99bca2=(_0x218660/startingBalances[_0x4ecf98(0x21c)]-0x1)*0x64;else _0x99bca2=(_0x218660/startingBalances[_0x4ecf98(0x311)]-0x1)*0x64;}}if(_0x46a5cc['includes'](_0x4ecf98(0x34a))){let _0x450d6e=0x0;if(startingBalances[_0x4ecf98(0x265)])_0x274a17[_0x4ecf98(0x37b)](_0x3705ea=>{const _0x523fd7=_0x4ecf98;let _0x569a5f=startingBalances[_0x523fd7(0x265)]['find'](_0x4e84bc=>_0x4e84bc[_0x523fd7(0x257)]===_0x3705ea['coin']);if(_0x569a5f&&_0x569a5f[_0x523fd7(0x257)]&&_0x3705ea[_0x523fd7(0x27d)]!==0x0)_0x450d6e+=_0x569a5f[_0x523fd7(0x27d)]*_0x3705ea[_0x523fd7(0x262)];});let _0xac5f44=0x0;if(_0x5c364f[_0x4ecf98(0x3ac)]!==0x0){let _0x1bb385=_0x5c364f[_0x5c364f[_0x4ecf98(0x3ac)]-0x1];_0xac5f44=_0x1bb385['netoffset'];}_0x450d6e-=_0xac5f44;let _0x48aed5;_0x46a5cc===_0x4ecf98(0x29e)&&(_0x48aed5=startingBalances[_0x4ecf98(0x23e)]),_0x46a5cc===_0x4ecf98(0x2f9)&&(_0x48aed5=_0x155b2c===_0x4ecf98(0x244)?startingBalances['eur']:startingBalances[_0x4ecf98(0x311)],_0x450d6e*=_0x54a175),_0x99bca2=(_0x218660-_0x450d6e)/_0x48aed5*0x64,_0x218660=_0x218660-_0x450d6e;}if(_0x46a5cc[_0x4ecf98(0x20c)](_0x4ecf98(0x2a5))){if(_0x5c364f['length']!==0x0&&_0x274a17[_0x4ecf98(0x3ac)]!==0x0){let _0x3818e4,_0x540a7c=_0x5c364f[_0x5c364f[_0x4ecf98(0x3ac)]-0x1][_0x4ecf98(0x2a5)];_0x46a5cc[_0x4ecf98(0x20c)](_0x4ecf98(0x399))?(_0x3818e4=_0x155b2c===_0x4ecf98(0x244)?startingBalances['eur']:startingBalances[_0x4ecf98(0x311)],_0x540a7c*=CurrencyFactor(_0x4d9fce,_0x1c61a1,_0x155b2c)):_0x3818e4=startingBalances[_0x4ecf98(0x23e)],_0x99bca2=_0x540a7c/_0x3818e4*0x64,_0x218660=_0x540a7c;}}if(_0x99bca2){if(_0x99bca2<0x64)_0x99bca2=_0x99bca2[_0x4ecf98(0x233)](0x2);else{if(_0x99bca2<0x3e8)_0x99bca2=_0x99bca2[_0x4ecf98(0x233)](0x1);else _0x99bca2=_0x99bca2[_0x4ecf98(0x233)](0x0);}}else _0x99bca2=Number('0')[_0x4ecf98(0x233)](0x2);if(_0x218660){if(Math['abs'](_0x218660)<0.000001)_0x218660=_0x218660['toFixed'](0x2);else{if(Math['abs'](_0x218660)<0.1)_0x218660=_0x218660[_0x4ecf98(0x233)](0x6);else{if(Math[_0x4ecf98(0x337)](_0x218660)<0x1)_0x218660=_0x218660['toFixed'](0x5);else{if(Math[_0x4ecf98(0x337)](_0x218660)<0xa)_0x218660=_0x218660[_0x4ecf98(0x233)](0x4);else{if(Math[_0x4ecf98(0x337)](_0x218660)<0x64)_0x218660=_0x218660['toFixed'](0x3);else{if(Math[_0x4ecf98(0x337)](_0x218660)<0x3e8)_0x218660=_0x218660[_0x4ecf98(0x233)](0x2);else _0x218660=_0x218660[_0x4ecf98(0x233)](0x2);}}}}}}else _0x218660=Number('0')['toFixed'](0x2);}else _0x99bca2=Number('0')[_0x4ecf98(0x233)](0x2);if(_0x99bca2>=0x0)_0x99bca2='+'+_0x99bca2;return{'value':_0x218660,'change':_0x99bca2};}async function getStartingBalances(_0x3b70f9,_0x4cfaac=!![]){const _0x2c3463=_0x5f4e08;if(_0x3b70f9[_0x2c3463(0x3ac)]!==0x0){const [_0x40ee4c,_0x46791a,_0x440091]=getPerf(_0x3b70f9[0x0],!![]);let _0x29a00c=[];config[_0x2c3463(0x292)][_0x2c3463(0x37b)](_0x4b0447=>{const _0x5cb646=_0x2c3463;let _0x33182f=0x0,_0xb43ceb;config[_0x5cb646(0x2d9)]['forEach'](_0x2d10d0=>{const _0x238894=_0x5cb646;let _0x3e57f8=_0x2d10d0[_0x238894(0x3aa)][_0x238894(0x329)](_0x4f0184=>_0x4f0184['coin']==_0x4b0447[_0x238894(0x257)]);if(_0x3e57f8){_0x33182f+=_0x3e57f8[_0x238894(0x27d)];if(!_0xb43ceb)_0xb43ceb=_0x3e57f8['price'];}}),_0x29a00c[_0x5cb646(0x33b)]({'coin':_0x4b0447[_0x5cb646(0x257)],'number':_0x33182f,'initialprice':_0xb43ceb});});const _0x15c0bf={'basecoin':_0x40ee4c,'eur':_0x46791a,'usd':_0x440091,'coins':_0x29a00c};if(_0x4cfaac)proxyEmit(_0x2c3463(0x26a),_0x15c0bf);startingBalances=_0x15c0bf;}}function headlessMode(_0x5802b9){const _0xd4c713=_0x5f4e08;let _0x70d508=_0x5802b9['portfolio'],_0xdfb1af=_0x5802b9['threshold'],_0x38956d=[];for(let _0x4f0e4c of _0x70d508){if(_0x4f0e4c['coin']!=config['basecoin']){if(_0x4f0e4c[_0xd4c713(0x215)]>=_0xdfb1af/0x64){if(_0x4f0e4c[_0xd4c713(0x29d)])_0x38956d[_0xd4c713(0x33b)](_0x4f0e4c);}else{if(_0x4f0e4c['delta']<=-_0xdfb1af/0x64){if(_0x4f0e4c[_0xd4c713(0x29d)])_0x38956d[_0xd4c713(0x33b)](_0x4f0e4c);}}}}_0x38956d['length']>0x0&&placeOrder(_0x38956d);}function notifyBalance(_0xa620b8){const _0x295a7d=_0x5f4e08;let _0x4bdd8c=_0xa620b8[_0x295a7d(0x292)],_0x57eab7=_0xa620b8[_0x295a7d(0x26c)],_0x339157=[];for(let _0x3df008 of _0x4bdd8c){if(_0x3df008[_0x295a7d(0x257)]!=config['basecoin']){if(_0x3df008['delta']>=_0x57eab7/0x64){if(_0x3df008[_0x295a7d(0x29d)])_0x339157['push'](_0x3df008);}else{if(_0x3df008[_0x295a7d(0x215)]<=-_0x57eab7/0x64){if(_0x3df008[_0x295a7d(0x29d)])_0x339157['push'](_0x3df008);}}}}if(_0x339157[_0x295a7d(0x3ac)]>0x0){let _0x4ba75e=_0x339157[_0x295a7d(0x2c9)](_0x3fc811=>_0x3fc811[_0x295a7d(0x257)]);_0x4ba75e[_0x295a7d(0x334)]();let _0x490a06=_0x4ba75e[_0x295a7d(0x3b0)](',\x20');if(!lastCoinsToBalance)logHistory(_0x295a7d(0x240),_0x295a7d(0x24d));lastCoinsToBalance=_0x490a06;}}function symbolToCoin(_0x494a19){const _0x5b3540=_0x5f4e08;let _0x37f062;if(_0x494a19[_0x5b3540(0x20c)]('/'+config[_0x5b3540(0x23e)]))_0x37f062=_0x494a19[_0x5b3540(0x361)]('/'+config[_0x5b3540(0x23e)],'');if(_0x494a19['includes'](config[_0x5b3540(0x23e)]+'/'))_0x37f062=_0x494a19['replace'](config[_0x5b3540(0x23e)]+'/','');return _0x37f062;}function setLockOrders(_0x3f853a){const _0x3c24f7=_0x5f4e08;lockOrders=_0x3f853a,logger[_0x3c24f7(0x230)](_0x3c24f7(0x312)+Object[_0x3c24f7(0x2ab)](ORDERS)[lockOrders]);}async function unlockOrders(_0x3376e0=![]){const _0x553f16=_0x5f4e08;if(allOrdersPlaced&&lockOrders==ORDERS[_0x553f16(0x30a)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x3376e0){const _0x2f2cb9=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2f2cb9,setBlockTransactionDetection(![]);}validateOrdersState='initial',persistOpenOrders([]),setLockOrders(ORDERS['UNLOCKED']);}}async function validateOrders(_0x2f8f89){const _0x52ee2c=_0x5f4e08;if(_0x2f8f89)validateOrdersState=_0x2f8f89;logger[_0x52ee2c(0x230)](_0x52ee2c(0x24c)+validateOrdersState+_0x52ee2c(0x386)+Object[_0x52ee2c(0x2ab)](ORDERS)[lockOrders]);let _0x4a812a=[],_0x1126a4=config['ordertype']==_0x52ee2c(0x2b8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x52ee2c(0x278)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x52ee2c(0x30a)])return;logger[_0x52ee2c(0x230)](_0x52ee2c(0x217)+validateOrdersState);for(let _0x1b3667=lastOrders[_0x52ee2c(0x3ac)]-0x1;_0x1b3667>=0x0;_0x1b3667--){let _0x252a38=lastOrders[_0x1b3667],_0x4e0993=![];_0x252a38['filled']>0x0&&(_0x4e0993=!![]),_0x4a812a[_0x52ee2c(0x33b)](_0x4e0993),_0x4e0993&&config[_0x52ee2c(0x2f3)]!=_0x52ee2c(0x2b8)&&logHistory(_0x52ee2c(0x314),'Order\x20filled:\x20'+_0x252a38['symbol']+'\x20'+_0x252a38[_0x52ee2c(0x21f)]+'\x20#'+formatResult(_0x252a38[_0x52ee2c(0x222)],0x8)+'\x20@'+formatResult(_0x252a38[_0x52ee2c(0x276)],0x8)),_0x4e0993&&lastOrders[_0x52ee2c(0x20b)](_0x1b3667,0x1);}persistOpenOrders(lastOrders);const _0x4d37c8=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x52ee2c(0x322);if(validateOrdersState==_0x52ee2c(0x1f1)){validateOrdersState=_0x52ee2c(0x2c4);if(_0x4a812a[_0x52ee2c(0x20c)](![])){}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x4a812a[_0x52ee2c(0x20c)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x52ee2c(0x316)){let _0xf06df7=!![];if(_0x4a812a[_0x52ee2c(0x20c)](![])){if(config[_0x52ee2c(0x2f3)]=='market')logHistory(_0x52ee2c(0x216),_0x52ee2c(0x2c5)+Math[_0x52ee2c(0x37f)](_0x1126a4*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x4d37c8),await unlockOrders(!![]);else{_0xf06df7=await cancelOrders();if(_0xf06df7)logHistory('success',_0x52ee2c(0x3b1)+Math[_0x52ee2c(0x37f)](_0x1126a4*validateOrderInterval/0xea60)+_0x52ee2c(0x288)+_0x4d37c8),await unlockOrders(!![]);else{validateOrdersState=_0x52ee2c(0x2c4),logHistory(_0x52ee2c(0x349),'Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20'+Math['round'](_0x1126a4*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x4d37c8),logHistory(_0x52ee2c(0x349),'Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later');const _0x2e1503=config['ordertype']==_0x52ee2c(0x2b8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x546aba=_0x52ee2c;validateOrders(_0x546aba(0x316));},_0x2e1503);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x52ee2c(0x241)){if(config['ordertype']!='market')logHistory(_0x52ee2c(0x216),'No\x20more\x20open\x20orders\x20-\x20'+_0x4d37c8);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x53e09a=_0x5f4e08;let _0x44609c=!![],_0x488506;for(const _0x5e3584 of lastOrders){let _0x56a70b=![],_0x5c1d27=0x0;while(!_0x56a70b&&_0x5c1d27<maxRetries){try{const _0x2d846d=await exchange['cancelOrder'](_0x5e3584['orderId'],_0x5e3584[_0x53e09a(0x398)]);_0x56a70b=!![];}catch(_0x494aa3){_0x494aa3[_0x53e09a(0x245)]()[_0x53e09a(0x20c)]('OrderNotFound')||_0x494aa3['toString']()[_0x53e09a(0x20c)](_0x53e09a(0x331))?_0x56a70b=!![]:(_0x488506=_0x494aa3,_0x56a70b=![]);}!_0x56a70b&&(_0x5c1d27++,await sleep(retryInterval));}_0x44609c=_0x44609c&&_0x56a70b;}return!_0x44609c&&await handleError(_0x488506,_0x53e09a(0x2ef)),_0x44609c;}async function initCoinResults(_0x4f5a3e){const _0x2d2999=_0x5f4e08;_0x4f5a3e?logger[_0x2d2999(0x230)](_0x2d2999(0x1fb)+_0x4f5a3e):logger['debug'](_0x2d2999(0x306)),config[_0x2d2999(0x292)][_0x2d2999(0x37b)](_0x3989ea=>{const _0x5595d1=_0x2d2999;if(!_0x3989ea[_0x5595d1(0x3ab)]&&_0x3989ea[_0x5595d1(0x257)]!=config['basecoin']){const _0x2cb588=currentCoins[_0x5595d1(0x329)](_0x1024af=>_0x1024af['coin']==_0x3989ea[_0x5595d1(0x257)]),_0x54eb9b=gTicker[noslash(_0x3989ea[_0x5595d1(0x398)])];let _0x585ab7=_0x2cb588?_0x2cb588['number']:null,_0x2160bc=_0x3989ea[_0x5595d1(0x2c6)]?0x1/_0x54eb9b:_0x54eb9b,_0x185007;config[_0x5595d1(0x2d9)]['forEach'](_0x34ca4b=>{const _0x4f14d9=_0x5595d1;!_0x185007&&(_0x185007=_0x34ca4b[_0x4f14d9(0x3aa)]['find'](_0x1cbf1d=>_0x1cbf1d['coin']==_0x3989ea[_0x4f14d9(0x257)]),_0x185007&&(_0x585ab7=_0x185007[_0x4f14d9(0x27d)],_0x2160bc=_0x185007[_0x4f14d9(0x276)]));});let _0x55d745=dbCoinResults[_0x5595d1(0x3bf)]('coins')[_0x5595d1(0x329)]({'coin':_0x3989ea['coin']})[_0x5595d1(0x31d)]();if(!_0x55d745){const _0x8d9c0d={'coin':_0x3989ea['coin'],'number':_0x585ab7,'breakeven':_0x2160bc,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x5595d1(0x265))['push'](_0x8d9c0d)[_0x5595d1(0x2ba)]();}else{if(_0x4f5a3e&&_0x3989ea[_0x5595d1(0x257)]==_0x4f5a3e){const _0x23ef9a={'coin':_0x3989ea['coin'],'number':_0x585ab7,'breakeven':_0x2160bc,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5595d1(0x3bf)]('coins')[_0x5595d1(0x329)]({'coin':_0x3989ea[_0x5595d1(0x257)]})[_0x5595d1(0x243)](_0x23ef9a)[_0x5595d1(0x2ba)]();}}}});}function _0x5596(_0x3078de,_0x6cc464){const _0x3eefa4=_0x5cdb();return _0x5596=function(_0x2f555a,_0x95328){_0x2f555a=_0x2f555a-0x1ec;let _0x5cdbc4=_0x3eefa4[_0x2f555a];return _0x5cdbc4;},_0x5596(_0x3078de,_0x6cc464);}async function placeOrder(_0x5d86d1){const _0x8c9945=_0x5f4e08,_0x4a57b1=config[_0x8c9945(0x2f3)]==_0x8c9945(0x2b8)?_0x8c9945(0x2b8):_0x8c9945(0x2ea);if(lockOrders==ORDERS[_0x8c9945(0x2b0)]&&!coolingDown){setLockOrders(ORDERS[_0x8c9945(0x30a)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x8c9945(0x230)](_0x8c9945(0x333)+_0x5d86d1[_0x8c9945(0x2c9)](_0x1535d5=>_0x1535d5[_0x8c9945(0x257)])[_0x8c9945(0x3b0)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x8c9945(0x1f1);let _0x2301a1=![];lastOrders=[];const _0x182b88=config[_0x8c9945(0x26c)];for(const _0x58942e of _0x5d86d1){let _0x204285,_0xcb8def,_0x34a4a7,_0x4d63a7,_0x861eda,_0x26c617=_0x58942e[_0x8c9945(0x398)];logger[_0x8c9945(0x230)](_0x8c9945(0x366)+_0x58942e[_0x8c9945(0x257)]+'\x20'+_0x58942e[_0x8c9945(0x27d)]+'\x20'+_0x58942e['last']+'\x20'+_0x58942e[_0x8c9945(0x2cd)]+'%\x20'+_0x58942e[_0x8c9945(0x39c)]+'%\x20'+(0x64*_0x58942e[_0x8c9945(0x215)])['toFixed'](0x2)+'%\x20('+_0x182b88[_0x8c9945(0x233)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x8c9945(0x34d)](_0x408243=>_0x408243!==_0x58942e['coin']);const _0x3a9377=currentCoins[_0x8c9945(0x329)](_0x59a067=>_0x59a067[_0x8c9945(0x257)]==_0x58942e['coin']);_0x3a9377&&(_0x3a9377[_0x8c9945(0x2f7)]=_0x58942e[_0x8c9945(0x27d)]);try{const _0x18d47c=await exchange[_0x8c9945(0x39a)](_0x26c617);_0x204285=_0x58942e[_0x8c9945(0x2c6)]?0x1/_0x58942e[_0x8c9945(0x262)]:_0x58942e[_0x8c9945(0x262)],_0xcb8def=_0x18d47c[_0x8c9945(0x237)],_0x34a4a7=_0x18d47c[_0x8c9945(0x2d8)];_0x58942e[_0x8c9945(0x2c6)]?(_0x4d63a7=_0x58942e[_0x8c9945(0x21f)]==_0x8c9945(0x279)?_0x8c9945(0x377):_0x8c9945(0x279),_0x861eda=Math['abs'](_0x58942e[_0x8c9945(0x270)])/_0x204285):(_0x4d63a7=_0x58942e[_0x8c9945(0x21f)],_0x861eda=Math['abs'](_0x58942e['trade']));_0x4a57b1=='limit'&&(config['ordertype']==_0x8c9945(0x397)&&(_0x204285=_0x4d63a7=='buy'?_0xcb8def:_0x34a4a7),config[_0x8c9945(0x2f3)]==_0x8c9945(0x21a)&&(_0x204285=_0x4d63a7=='buy'?_0x34a4a7:_0xcb8def));_0x861eda=formatResult(_0x861eda,0x8),_0x204285=formatResult(_0x204285,0x8);const _0x3c7991=_0x4d63a7==_0x8c9945(0x377)?config[_0x8c9945(0x289)]?String['fromCodePoint']('0x'+config[_0x8c9945(0x289)])+'\x20':'':config[_0x8c9945(0x3a7)]?String[_0x8c9945(0x318)]('0x'+config[_0x8c9945(0x3a7)])+'\x20':'',_0x3a37f5=_0x4a57b1==_0x8c9945(0x2b8)?'Market':config[_0x8c9945(0x2f3)]=='limit-high'?_0x8c9945(0x2b9):_0x8c9945(0x290),_0x56acc2=(Math[_0x8c9945(0x287)](Math[_0x8c9945(0x246)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x8c9945(0x33b)]({'customId':_0x56acc2,'symbol':_0x26c617,'coin':_0x58942e['coin'],'amount':_0x861eda,'price':_0x204285,'side':_0x4d63a7,'reverse':_0x58942e[_0x8c9945(0x2c6)],'filled':0x0});let _0x420e5b;_0x4a57b1==_0x8c9945(0x2b8)?_0x4d63a7==_0x8c9945(0x279)&&[_0x8c9945(0x3a6),_0x8c9945(0x1f3),'Cex',_0x8c9945(0x31a),'Huobi',_0x8c9945(0x1f5)][_0x8c9945(0x20c)](config[_0x8c9945(0x39b)])?_0x420e5b=await exchange[_0x8c9945(0x30c)](_0x26c617,_0x4a57b1,_0x4d63a7,_0x861eda,_0x204285):_0x420e5b=await exchange[_0x8c9945(0x30c)](_0x26c617,_0x4a57b1,_0x4d63a7,_0x861eda,undefined):_0x420e5b=await exchange[_0x8c9945(0x30c)](_0x26c617,_0x4a57b1,_0x4d63a7,_0x861eda,_0x204285);const _0x5f05b5=lastOrders[_0x8c9945(0x3ac)]-0x1;if(_0x5f05b5>=0x0&&lastOrders[_0x5f05b5][_0x8c9945(0x205)]==_0x56acc2){lastOrders[_0x5f05b5]['orderId']=_0x420e5b['id'];if(_0x420e5b[_0x8c9945(0x228)])lastOrders[_0x5f05b5]['amount']=_0x420e5b[_0x8c9945(0x228)];if(_0x420e5b[_0x8c9945(0x276)])lastOrders[_0x5f05b5][_0x8c9945(0x276)]=_0x420e5b[_0x8c9945(0x276)];lastOrders[_0x5f05b5]['fee']=_0x420e5b[_0x8c9945(0x3a8)];}if(_0x420e5b[_0x8c9945(0x228)])_0x861eda=_0x420e5b[_0x8c9945(0x228)];if(_0x420e5b['price'])_0x204285=_0x420e5b[_0x8c9945(0x276)];if(_0x4a57b1==_0x8c9945(0x2b8))logHistory('order',''+_0x3c7991+_0x3a37f5+_0x8c9945(0x1ef)+_0x26c617+'\x20'+_0x4d63a7+'\x20#'+formatResult(_0x861eda,0x8)+'\x20@'+formatResult(_0x204285,0x8));else logHistory(_0x8c9945(0x314),''+_0x3c7991+_0x3a37f5+_0x8c9945(0x1ef)+_0x26c617+'\x20'+_0x4d63a7+'\x20#'+formatResult(_0x861eda,0x8)+'\x20@'+formatResult(_0x204285,0x8));logger['debug']('ID:\x20'+_0x420e5b['id']+'\x20|\x20Custom\x20ID:\x20'+_0x56acc2);if(config[_0x8c9945(0x3a3)]!=0x0){let _0x2ebd37=null;if(cooldownTracker[_0x8c9945(0x3ac)]==config[_0x8c9945(0x3a3)]-0x1)_0x2ebd37=cooldownTracker['shift']();const _0x43c995=getTimeStamp();cooldownTracker['push'](_0x43c995);if(_0x2ebd37){const _0x3374c6=fns[_0x8c9945(0x29a)](new Date(_0x43c995),new Date(_0x2ebd37));if(_0x3374c6<cooldownInterval){logHistory(_0x8c9945(0x349),'Executed\x20'+config[_0x8c9945(0x3a3)]+_0x8c9945(0x27f)+cooldownInterval/0x3c+_0x8c9945(0x29b)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x2ebde4){if(_0x2ebde4[_0x8c9945(0x245)]()[_0x8c9945(0x20c)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x8c9945(0x34d)](_0x32e205=>_0x32e205['symbol']!=_0x26c617),logHistory(_0x8c9945(0x349),_0x8c9945(0x3b7)+_0x26c617),_0x2301a1=!![];else{if(_0x2ebde4['toString']()[_0x8c9945(0x20c)](_0x8c9945(0x28b)))lastOrders=lastOrders[_0x8c9945(0x34d)](_0x25824e=>_0x25824e[_0x8c9945(0x398)]!=_0x26c617),logHistory(_0x8c9945(0x349),_0x8c9945(0x273)+_0x26c617),_0x2301a1=!![];else{if(_0x2ebde4['toString']()[_0x8c9945(0x20c)](_0x8c9945(0x331)))lastOrders=lastOrders[_0x8c9945(0x34d)](_0x55fb08=>_0x55fb08[_0x8c9945(0x398)]!=_0x26c617),logHistory('error',_0x8c9945(0x2f5)+_0x26c617),logger['debug'](_0x2ebde4),_0x2301a1=!![];else _0x2ebde4[_0x8c9945(0x245)]()['includes'](_0x8c9945(0x3b4))?(lastOrders=lastOrders[_0x8c9945(0x34d)](_0x56ffd4=>_0x56ffd4[_0x8c9945(0x398)]!=_0x26c617),logHistory(_0x8c9945(0x349),_0x8c9945(0x3b7)+_0x26c617),_0x2301a1=!![]):(lastOrders=lastOrders[_0x8c9945(0x34d)](_0x25112d=>_0x25112d[_0x8c9945(0x398)]!=_0x26c617),await handleError(_0x2ebde4,'placeOrder()',_0x26c617));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0x53cba0=config[_0x8c9945(0x2f3)]==_0x8c9945(0x2b8)?validateOrderTimeout*0x3c*0x3e8:config[_0x8c9945(0x278)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1a8c43=_0x8c9945;validateOrders(_0x1a8c43(0x316));},_0x53cba0);}else unlockOrders();_0x2301a1&&config['headless']&&(logHistory(_0x8c9945(0x349),_0x8c9945(0x1f0)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x8c9945(0x238)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x8c9945(0x232));else lockOrders!=ORDERS[_0x8c9945(0x2b0)]&&(!config['headless']&&(config[_0x8c9945(0x2f3)]==_0x8c9945(0x2b8)?logHistory(_0x8c9945(0x349),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x8c9945(0x349),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x99f9ed){const _0xc65bd2=_0x5f4e08,_0x22ded5={...config,'openOrders':_0x99f9ed};let _0x2ae533=dbConfig[_0xc65bd2(0x3bf)]('bot')[_0xc65bd2(0x329)]({'botID':botID})[_0xc65bd2(0x31d)]();_0x2ae533&&dbConfig[_0xc65bd2(0x3bf)](_0xc65bd2(0x368))[_0xc65bd2(0x329)]({'botID':botID})[_0xc65bd2(0x243)](_0x22ded5)[_0xc65bd2(0x2ba)]();}function restoreOrders(){const _0x57ec85=_0x5f4e08;let _0x2effd0;config[_0x57ec85(0x2b5)]&&allOpenOrders[_0x57ec85(0x37b)](_0x5b631b=>{const _0x51ff86=_0x57ec85,_0x2f7ed7=config['openOrders'][_0x51ff86(0x329)](_0x5860aa=>_0x5860aa['orderId']==_0x5b631b['id']);_0x2f7ed7&&(lastOrders[_0x51ff86(0x33b)](_0x2f7ed7),_0x2effd0=_0x5b631b[_0x51ff86(0x2b7)]);});if(lastOrders[_0x57ec85(0x3ac)]>0x0){setLockOrders(ORDERS[_0x57ec85(0x30a)]),validateOrdersState=_0x57ec85(0x2c4),allOrdersPlaced=!![];const _0x1158b3=new Date()[_0x57ec85(0x32c)](),_0x52fbb8=config[_0x57ec85(0x2f3)]==_0x57ec85(0x2b8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x2effd0+_0x52fbb8>_0x1158b3){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x49fac2=_0x57ec85;validateOrders(_0x49fac2(0x316));},_0x2effd0+_0x52fbb8-_0x1158b3);}else validateOrders(_0x57ec85(0x316));}}async function sendMetricsTelegram(){const _0x196b4a=_0x5f4e08;if(!coinsLoaded){process[_0x196b4a(0x35f)]({'telegrammsg':_0x196b4a(0x24b)},_0x1822f2=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x345a14='';if(config[_0x196b4a(0x22f)])_0x345a14='<b>'+config[_0x196b4a(0x36d)]+_0x196b4a(0x34b);else _0x345a14=_0x196b4a(0x2ac)+botID+_0x196b4a(0x34b);const _0x220b2b=config[_0x196b4a(0x23e)],_0x66a1b2=config['fiat'],_0x2c7b14=getKPIs('basecoin'),_0x188bd9=getKPIs('fiat',_0x66a1b2),_0x389d0b=getKPIs('net-basecoin'),_0x1c6eda=getKPIs(_0x196b4a(0x2f9),_0x66a1b2),_0x24731b=getKPIs(_0x196b4a(0x379)),_0x4c71f2=getKPIs(_0x196b4a(0x3a1),_0x66a1b2);_0x220b2b[_0x196b4a(0x20c)](_0x66a1b2)?(_0x345a14+='<pre>',_0x345a14+=_0x196b4a(0x3bc)+_0x220b2b+':\x20'+_0x2c7b14[_0x196b4a(0x31d)]+'\x20('+_0x2c7b14[_0x196b4a(0x2db)]+_0x196b4a(0x23f),_0x345a14+=_0x196b4a(0x235)+_0x220b2b+':\x20'+_0x389d0b[_0x196b4a(0x31d)]+'\x20('+_0x389d0b[_0x196b4a(0x2db)]+_0x196b4a(0x23f),_0x345a14+=_0x196b4a(0x363)+_0x220b2b+':\x20'+_0x24731b['value']+'\x20('+_0x24731b[_0x196b4a(0x2db)]+_0x196b4a(0x23f),_0x345a14+=_0x196b4a(0x264)):(_0x345a14+=_0x196b4a(0x2e3),_0x345a14+=_0x196b4a(0x3bc)+_0x220b2b+':\x20'+_0x2c7b14[_0x196b4a(0x31d)]+'\x20('+_0x2c7b14[_0x196b4a(0x2db)]+'%)\x0a',_0x345a14+='Value\x20'+_0x66a1b2+':\x20'+_0x188bd9[_0x196b4a(0x31d)]+'\x20('+_0x188bd9[_0x196b4a(0x2db)]+_0x196b4a(0x23f),_0x345a14+='Net\x20'+_0x220b2b+':\x20'+_0x389d0b[_0x196b4a(0x31d)]+'\x20('+_0x389d0b[_0x196b4a(0x2db)]+_0x196b4a(0x23f),_0x345a14+=_0x196b4a(0x235)+_0x66a1b2+':\x20'+_0x1c6eda['value']+'\x20('+_0x1c6eda[_0x196b4a(0x2db)]+_0x196b4a(0x23f),_0x345a14+=_0x196b4a(0x363)+_0x220b2b+':\x20'+_0x24731b[_0x196b4a(0x31d)]+'\x20('+_0x24731b[_0x196b4a(0x2db)]+_0x196b4a(0x23f),_0x345a14+=_0x196b4a(0x363)+_0x66a1b2+':\x20'+_0x4c71f2['value']+'\x20('+_0x4c71f2[_0x196b4a(0x2db)]+'%)\x0a',_0x345a14+=_0x196b4a(0x264)),process[_0x196b4a(0x35f)]({'telegrammsg':_0x345a14},_0x1ee5b0=>{});}async function sendPortfolioTelegram(){const _0x48b7bd=_0x5f4e08;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x48b7bd(0x35f)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0xa097e2=>{});return;}let _0x4058b1='';if(config[_0x48b7bd(0x22f)])_0x4058b1='<b>'+config[_0x48b7bd(0x36d)]+_0x48b7bd(0x345);else _0x4058b1=_0x48b7bd(0x2ac)+botID+_0x48b7bd(0x345);_0x4058b1+=_0x48b7bd(0x2e3),_0x4058b1+=_0x48b7bd(0x2b2),_0x4058b1+=_0x48b7bd(0x2a3),_0x4058b1+='-------------------------------\x0a',currentCoins[_0x48b7bd(0x37b)](_0xf07b56=>{const _0x52d1b8=_0x48b7bd;_0x4058b1+=_0xf07b56[_0x52d1b8(0x257)]['padEnd'](0x7)+'|\x20'+formatPad(_0xf07b56['distribution'],0x2,0x6)+'|\x20'+formatPad(_0xf07b56[_0x52d1b8(0x39c)],0x2,0x6)+'|\x20'+formatPad(_0xf07b56['delta']*0x64,0x2,0x6)+'\x0a';}),_0x4058b1+='</pre>',process[_0x48b7bd(0x35f)]({'telegrammsg':_0x4058b1},_0xbe1f12=>{});}function formatPad(_0x557eb9,_0x2bcc28,_0xace70e){const _0x200722=_0x5f4e08,_0x1d39a1=formatResultString(_0x557eb9,_0x2bcc28);return _0x1d39a1?_0x1d39a1[_0x200722(0x256)](_0xace70e):''[_0x200722(0x256)](_0xace70e);}function logHistory(_0x16b21b,_0x44d826,_0x27901e=''){const _0x527919=_0x5f4e08;logger[_0x527919(0x34c)](''+_0x44d826);let _0x27689e={'time':getTimeStamp(),'type':_0x16b21b,'event':_0x44d826};dbLogs[_0x527919(0x3bf)](_0x527919(0x2e8))['push'](_0x27689e)['write']();if(_0x27901e=='')_0x27901e=_0x44d826;proxyEmit(_0x527919(0x2fd),{'log':_0x27689e,'summary':_0x27901e}),process[_0x527919(0x35f)]({'telegram':{..._0x27689e,'botname':config[_0x527919(0x36d)],'showname':config['showname']}},_0xf55bd8=>{});}function emitHistory(_0xa42642={}){const _0x22c90d=_0x5f4e08;Object[_0x22c90d(0x2ab)](_0xa42642)[_0x22c90d(0x3ac)]==0x0&&(_0xa42642={'type':[_0x22c90d(0x314),_0x22c90d(0x2fd)],'event':'','page':0x1});if(_0xa42642[_0x22c90d(0x2f2)][_0x22c90d(0x20c)]('event'))_0xa42642[_0x22c90d(0x2f2)][_0x22c90d(0x20b)](_0xa42642[_0x22c90d(0x2f2)]['indexOf'](_0x22c90d(0x2fd)),0x1,_0x22c90d(0x349),_0x22c90d(0x240),_0x22c90d(0x216));if(dbLogs[_0x22c90d(0x213)](_0x22c90d(0x2e8))['value']()){let _0x7b9b86=dbLogs[_0x22c90d(0x3bf)](_0x22c90d(0x2e8))[_0x22c90d(0x34d)](_0xdb7bba=>{const _0x36e9a5=_0x22c90d;if(_0xa42642[_0x36e9a5(0x2f2)][_0x36e9a5(0x3ac)]==0x0)return![];else return _0xa42642[_0x36e9a5(0x2f2)]['includes'](_0xdb7bba['type']);})[_0x22c90d(0x34d)](_0x981d2f=>{const _0xeb1c50=_0x22c90d;if(_0xa42642['event']=='')return!![];else return _0x981d2f[_0xeb1c50(0x2fd)][_0xeb1c50(0x2c0)]()[_0xeb1c50(0x20c)](_0xa42642['event'][_0xeb1c50(0x2c0)]());})['sortBy'](_0x22c90d(0x1ed)),_0x21e5d7=_0x7b9b86['value']()['length'];_0x7b9b86=_0x7b9b86[_0x22c90d(0x2c6)]()[_0x22c90d(0x26e)]((_0xa42642['page']-0x1)*logPageSize,_0xa42642[_0x22c90d(0x25c)]*logPageSize-0x1)[_0x22c90d(0x2c6)]()[_0x22c90d(0x31d)](),proxyEmit(_0x22c90d(0x37a),{'logs':_0x7b9b86,'total':_0x21e5d7});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x3b5b2e){const _0x54d967=_0x5f4e08;if(dbLogs['has'](_0x54d967(0x2e8))[_0x54d967(0x31d)]()){const _0x399944=dbLogs['get']('logs')[_0x54d967(0x394)](_0x54d967(0x1ed))[_0x54d967(0x34d)](_0x48e30=>{const _0x2e8f46=_0x54d967;return _0x48e30['type']==_0x2e8f46(0x314);})[_0x54d967(0x31d)]();dbLogs[_0x54d967(0x3bf)](_0x54d967(0x2e8))[_0x54d967(0x234)]()[_0x54d967(0x2ba)](),dbLogs[_0x54d967(0x3bf)]('logs')['assign'](_0x399944)[_0x54d967(0x2ba)](),emitHistory(_0x3b5b2e);}}async function pauseBot(_0x47c413=pauseBotIntervalShort,_0x28fb83,_0x5eb64c,_0x27f766=![]){const _0x2fb05f=_0x5f4e08,_0x2766b5=new Date()[_0x2fb05f(0x32c)]();if(!lastErrorShown||_0x2766b5-lastErrorShown>=_0x47c413){lastErrorShown=_0x2766b5;if(!lastBotPause)lastBotPause=_0x2766b5,consecutivePauses=0x1;else{if(_0x2766b5-lastBotPause-_0x47c413<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x27f766){logHistory(_0x2fb05f(0x349),_0x28fb83+'\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();return;}else logHistory(_0x2fb05f(0x349),_0x28fb83+pauseBotMsg),_0x47c413=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x2766b5;}_0x5eb64c?logger[_0x2fb05f(0x230)]('('+consecutivePauses+')\x20'+_0x28fb83+'\x20>\x20details:',_0x5eb64c):logger['debug']('('+consecutivePauses+')\x20'+_0x28fb83);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x47c413),botPaused=![],_0x47c413==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x1b52fe=_0x5f4e08;botPaused=!![],await sleep(0x3e8),process[_0x1b52fe(0x35f)]({'stop':'kill'},_0xce405c=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1c0e19,_0x318641,_0x417a36=![]){const _0x19ddb1=_0x5f4e08;if(botPaused)return;let _0x3f7036;const _0x2b3ca5=config[_0x19ddb1(0x39b)]||_0x19ddb1(0x2bf);if(_0x318641)logger[_0x19ddb1(0x230)]('Exception\x20thrown\x20in\x20'+_0x318641);const _0x3bef56=()=>{const _0x31ed67=_0x19ddb1;loading['error']=_0x31ed67(0x2eb),emitLoadingProgress();};if(_0x1c0e19[_0x19ddb1(0x245)]()[_0x19ddb1(0x20c)](_0x19ddb1(0x33f)))logHistory(_0x19ddb1(0x349),_0x2b3ca5+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x3bef56();else{if(_0x1c0e19[_0x19ddb1(0x245)]()['includes'](_0x19ddb1(0x346)))logHistory('error',_0x2b3ca5+_0x19ddb1(0x383)),_0x3bef56();else{if(_0x1c0e19[_0x19ddb1(0x245)]()[_0x19ddb1(0x20c)](_0x19ddb1(0x2d4)))config[_0x19ddb1(0x1f4)]?_0x3f7036=_0x2b3ca5+_0x19ddb1(0x236):_0x3f7036=_0x2b3ca5+_0x19ddb1(0x37d),logHistory(_0x19ddb1(0x349),_0x3f7036+_0x19ddb1(0x33d)),_0x3bef56();else{if(_0x1c0e19[_0x19ddb1(0x245)]()[_0x19ddb1(0x20c)](_0x19ddb1(0x29f)))logHistory(_0x19ddb1(0x349),_0x2b3ca5+_0x19ddb1(0x210)),_0x3bef56();else{if(!_0x417a36)await handleError(_0x1c0e19,null);}}}}}async function handleError(_0x1963d2,_0x1105b4,_0x161295=''){const _0x279b28=_0x5f4e08;if(botPaused)return;let _0x5b7c3d;const _0x10b145=config[_0x279b28(0x39b)]||'Exchange';if(_0x1105b4)logger[_0x279b28(0x230)](_0x279b28(0x1f2)+_0x1105b4);if(_0x1963d2['toString']()[_0x279b28(0x20c)](_0x279b28(0x2a4)))_0x5b7c3d=_0x10b145+_0x279b28(0x3a9),await pauseBot(undefined,_0x5b7c3d,_0x1963d2);else{if(_0x1963d2['toString']()['includes'](_0x279b28(0x319)))_0x5b7c3d=_0x10b145+_0x279b28(0x206),await pauseBot(undefined,_0x5b7c3d,_0x1963d2);else{if(_0x1963d2[_0x279b28(0x245)]()[_0x279b28(0x20c)](_0x279b28(0x220))||_0x1963d2[_0x279b28(0x245)]()['includes'](_0x279b28(0x2cc)))_0x5b7c3d=_0x10b145+_0x279b28(0x370),await pauseBot(undefined,_0x5b7c3d,_0x1963d2['toString']());else{if(_0x1963d2[_0x279b28(0x245)]()[_0x279b28(0x20c)](_0x279b28(0x381)))_0x5b7c3d=_0x10b145+_0x279b28(0x2b3),await pauseBot(undefined,_0x5b7c3d,_0x1963d2[_0x279b28(0x245)]());else{if(_0x1963d2[_0x279b28(0x245)]()['includes'](_0x279b28(0x2d3)))_0x5b7c3d=_0x10b145+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x5b7c3d,_0x1963d2[_0x279b28(0x245)]());else{if(_0x1963d2[_0x279b28(0x245)]()[_0x279b28(0x2c0)]()[_0x279b28(0x20c)](_0x279b28(0x2b7))||_0x1963d2[_0x279b28(0x245)]()['toLowerCase']()['includes'](_0x279b28(0x1f8)))_0x5b7c3d=_0x279b28(0x259),await pauseBot(undefined,_0x5b7c3d,_0x1963d2[_0x279b28(0x245)]());else{if(_0x1963d2[_0x279b28(0x245)]()['includes'](_0x279b28(0x2f0)))_0x5b7c3d=_0x10b145+_0x279b28(0x313),await pauseBot(undefined,_0x5b7c3d,_0x1963d2[_0x279b28(0x245)]());else{if(_0x1963d2 instanceof ccxt[_0x279b28(0x339)])_0x5b7c3d=_0x10b145+'\x20network\x20error:\x20'+_0x1963d2['toString'](),logger['debug'](_0x279b28(0x1fc),_0x1963d2),await pauseBot(undefined,_0x5b7c3d,_0x1963d2);else{if(_0x1963d2[_0x279b28(0x245)]()['includes'](_0x279b28(0x33f)))logHistory('error',_0x10b145+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x279b28(0x349),_0x279b28(0x200)),await killBot();else{if(_0x1963d2[_0x279b28(0x245)]()[_0x279b28(0x20c)](_0x279b28(0x346)))logHistory(_0x279b28(0x349),_0x10b145+_0x279b28(0x2d1)),logHistory(_0x279b28(0x349),_0x279b28(0x200)),await killBot();else{if(_0x1963d2['toString']()[_0x279b28(0x20c)](_0x279b28(0x2d4))&&_0x1963d2[_0x279b28(0x245)]()[_0x279b28(0x20c)](_0x279b28(0x2c7)))_0x5b7c3d=_0x10b145+_0x279b28(0x23d),await pauseBot(undefined,_0x5b7c3d,_0x1963d2,!![]);else{if(_0x1963d2[_0x279b28(0x245)]()[_0x279b28(0x20c)](_0x279b28(0x2d4)))config[_0x279b28(0x1f4)]?_0x5b7c3d=_0x10b145+_0x279b28(0x236):_0x5b7c3d=_0x10b145+_0x279b28(0x37d),logHistory('error',_0x5b7c3d),logHistory(_0x279b28(0x349),_0x279b28(0x200)),await killBot();else{if(_0x1963d2[_0x279b28(0x245)]()['includes']('PermissionDenied'))logHistory(_0x279b28(0x349),_0x10b145+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x279b28(0x349),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1963d2['toString']()['includes'](_0x279b28(0x212)))logHistory(_0x279b28(0x349),_0x279b28(0x335)+_0x161295),logger[_0x279b28(0x230)](_0x279b28(0x2c8),_0x1963d2);else{if(_0x1963d2 instanceof ccxt[_0x279b28(0x25e)]){_0x5b7c3d=_0x10b145+'\x20exchange\x20error:\x20'+_0x1963d2[_0x279b28(0x245)]();if(_0x161295)_0x5b7c3d+=_0x279b28(0x28c)+_0x161295;await pauseBot(undefined,_0x5b7c3d,_0x1963d2);}else{_0x5b7c3d=_0x279b28(0x2b6)+_0x1963d2[_0x279b28(0x245)]();if(_0x161295)_0x5b7c3d+=_0x279b28(0x28c)+_0x161295;await pauseBot(undefined,_0x5b7c3d);}}}}}}}}}}}}}}}}function decryptRSA(_0x43f94d,_0x2126c9){const _0x479fc0=_0x5f4e08,_0x316151=forge[_0x479fc0(0x227)][_0x479fc0(0x307)](_0x43f94d),_0x23a881=_0x316151[_0x479fc0(0x321)](forge['util'][_0x479fc0(0x388)](_0x2126c9),_0x479fc0(0x266),{'md':forge['md'][_0x479fc0(0x297)][_0x479fc0(0x1f6)](),'mgf1':{'md':forge['md']['sha256'][_0x479fc0(0x1f6)]()}});return _0x23a881;}async function withRetry(_0xc791fd,_0x10c5aa){const _0x32e6f1=_0x5f4e08;let _0x5adea2=![],_0x540718=0x0,_0x17ebfb,_0x577932;while(_0x540718<maxRetries){try{_0x17ebfb=await _0x10c5aa();break;}catch(_0x2502b7){_0x577932=_0x2502b7,!_0x5adea2?(_0x5adea2=!![],logger[_0x32e6f1(0x230)](_0x32e6f1(0x30e)+_0xc791fd+':',_0x2502b7['toString']())):await sleep(retryInterval);}_0x540718++;}if(_0x540718==0x0)return _0x17ebfb;if(_0x540718>=maxRetries)throw _0x577932;else return logger['debug']('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x540718+_0x32e6f1(0x2ec)),_0x17ebfb;}function formatResult(_0x511c83,_0x4d58ef){const _0x4e4f40=_0x5f4e08;return parseFloat(_0x511c83[_0x4e4f40(0x233)](_0x4d58ef));}function formatResultTruncate(_0x5124de,_0x21824a){const _0x3fec17=_0x5f4e08;let _0x2bd1e1=formatResultString(_0x5124de,0xa),_0x393e73=_0x2bd1e1[_0x3fec17(0x2da)]('.');return _0x393e73!=-0x1&&(_0x2bd1e1=_0x2bd1e1[_0x3fec17(0x26e)](0x0,_0x393e73+_0x21824a+0x1)),Number(_0x2bd1e1);}function formatResultString(_0x1c7780,_0x37d072){const _0x406a5b=_0x5f4e08;let _0x1be1dd;if(!(''+_0x1c7780)[_0x406a5b(0x20c)]('e'))_0x1be1dd=+(Math[_0x406a5b(0x37f)](_0x1c7780+'e+'+_0x37d072)+'e-'+_0x37d072);else{let _0x4c45e7=(''+_0x1c7780)[_0x406a5b(0x355)]('e'),_0x2f849e='';+_0x4c45e7[0x1]+_0x37d072>0x0&&(_0x2f849e='+'),_0x1be1dd=+(Math['round'](+_0x4c45e7[0x0]+'e'+_0x2f849e+(+_0x4c45e7[0x1]+_0x37d072))+'e-'+_0x37d072);}return Number(_0x1be1dd)[_0x406a5b(0x233)](_0x37d072);}function getServerTime(){const _0x1c3e14=_0x5f4e08,_0x2e6f17=new Date();return _0x2e6f17[_0x1c3e14(0x2f6)]()+'/'+(_0x2e6f17[_0x1c3e14(0x251)]()+0x1)[_0x1c3e14(0x245)]()[_0x1c3e14(0x256)](0x2,'0')+'/'+_0x2e6f17[_0x1c3e14(0x2e9)]()['toString']()[_0x1c3e14(0x256)](0x2,'0')+'\x20'+_0x2e6f17[_0x1c3e14(0x23a)]()['toString']()[_0x1c3e14(0x256)](0x2,'0')+':'+_0x2e6f17[_0x1c3e14(0x372)]()['toString']()['padStart'](0x2,'0')+':'+_0x2e6f17['getSeconds']()[_0x1c3e14(0x245)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4c8d34=_0x5f4e08,_0x3c63c9=shiftedTime();return _0x3c63c9['getFullYear']()+'/'+(_0x3c63c9['getMonth']()+0x1)[_0x4c8d34(0x245)]()[_0x4c8d34(0x256)](0x2,'0')+'/'+_0x3c63c9[_0x4c8d34(0x2e9)]()[_0x4c8d34(0x245)]()[_0x4c8d34(0x256)](0x2,'0')+'\x20'+_0x3c63c9[_0x4c8d34(0x23a)]()[_0x4c8d34(0x245)]()[_0x4c8d34(0x256)](0x2,'0')+':'+_0x3c63c9[_0x4c8d34(0x372)]()[_0x4c8d34(0x245)]()[_0x4c8d34(0x256)](0x2,'0')+':'+_0x3c63c9[_0x4c8d34(0x374)]()[_0x4c8d34(0x245)]()['padStart'](0x2,'0');}function getDate(){const _0x1c5e22=_0x5f4e08,_0x509307=shiftedTime();return _0x509307[_0x1c5e22(0x2f6)]()+'/'+(_0x509307[_0x1c5e22(0x251)]()+0x1)[_0x1c5e22(0x245)]()[_0x1c5e22(0x256)](0x2,'0')+'/'+_0x509307['getDate']()[_0x1c5e22(0x245)]()[_0x1c5e22(0x256)](0x2,'0');}function getHour(){const _0x3a5a1f=_0x5f4e08,_0x5e68b=shiftedTime();return _0x5e68b['getHours']()[_0x3a5a1f(0x245)]()[_0x3a5a1f(0x256)](0x2,'0');}function sleep(_0x38dcba){return new Promise(_0x3b9a99=>setTimeout(_0x3b9a99,_0x38dcba));}function shiftedTime(){const _0x4acc51=_0x5f4e08,_0x5c9760=new Date();let _0x55dc42=_0x5c9760;if(config&&config[_0x4acc51(0x268)]!==0x0)_0x55dc42=fns[_0x4acc51(0x286)](_0x5c9760,{'hours':config['timeshift']});return _0x55dc42;}function timer(_0x3340ee){const _0x52b4be=_0x5f4e08,_0x36c6ac=new Date();!lasttime?console['log'](getTimeStamp()+_0x52b4be(0x305),_0x3340ee,_0x36c6ac):console[_0x52b4be(0x2a0)](getTimeStamp()+_0x52b4be(0x305),_0x3340ee,(_0x36c6ac-lasttime)/0x3e8),lasttime=_0x36c6ac;}