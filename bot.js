const _0x32c3f4=_0x21ff;(function(_0x5970e7,_0x14a811){const _0x2e1590=_0x21ff,_0x578791=_0x5970e7();while(!![]){try{const _0x32261b=parseInt(_0x2e1590(0x13f))/0x1*(parseInt(_0x2e1590(0x20f))/0x2)+parseInt(_0x2e1590(0x2e1))/0x3+-parseInt(_0x2e1590(0x15a))/0x4*(-parseInt(_0x2e1590(0x279))/0x5)+parseInt(_0x2e1590(0x1ce))/0x6+-parseInt(_0x2e1590(0x1e5))/0x7+parseInt(_0x2e1590(0x133))/0x8+-parseInt(_0x2e1590(0x285))/0x9;if(_0x32261b===_0x14a811)break;else _0x578791['push'](_0x578791['shift']());}catch(_0x4ac4f2){_0x578791['push'](_0x578791['shift']());}}}(_0x6274,0xa6dc3));const _0x4184f6=function(){let _0x35427e=!![];return function(_0x538ea0,_0x41ff59){const _0x10cb5f=_0x35427e?function(){if(_0x41ff59){const _0x30d37d=_0x41ff59['apply'](_0x538ea0,arguments);return _0x41ff59=null,_0x30d37d;}}:function(){};return _0x35427e=![],_0x10cb5f;};}(),_0x287fb6=_0x4184f6(this,function(){const _0x2945a5=_0x21ff;return _0x287fb6[_0x2945a5(0x27c)]()[_0x2945a5(0x2cf)]('(((.+)+)+)+$')['toString']()[_0x2945a5(0x2ab)](_0x287fb6)[_0x2945a5(0x2cf)](_0x2945a5(0x1bd));});_0x287fb6();'use strict';const ccxt=require(_0x32c3f4(0x1bc)),low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),forge=require('node-forge'),util=require(_0x32c3f4(0x1aa)),argv=require(_0x32c3f4(0x2d2))(process['argv'][_0x32c3f4(0x1ae)](0x2))[_0x32c3f4(0x2d1)],path=require('path'),axios=require(_0x32c3f4(0x256));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x32c3f4(0x15e),_0x32c3f4(0x283),'TUSD',_0x32c3f4(0x1b6),_0x32c3f4(0x2e9),'USDP'],excludedExchanges=['bitmex'],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x32c3f4(0x25e)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x32c3f4(0x23a))['version'],environment=require('./version.json')[_0x32c3f4(0x137)]||_0x32c3f4(0x2f5),botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x32c3f4(0x16f)](botID)&&(console['log'](_0x32c3f4(0x269)+botID+_0x32c3f4(0x217)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x32c3f4(0x194)+userID+'/':_0x32c3f4(0x194),logspath=userID?'./logs/'+userID+'/':'./logs/',loggerfile=fs['createWriteStream'](logspath+_0x32c3f4(0x1a0),{'flags':'a'});!fs[_0x32c3f4(0x25f)](configpath)&&fs[_0x32c3f4(0x210)](configpath);!fs[_0x32c3f4(0x25f)](logspath)&&fs[_0x32c3f4(0x210)](logspath);const configfile=configpath+_0x32c3f4(0x2d4)+botID+_0x32c3f4(0x23b),logfile=configpath+'bot-'+botID+_0x32c3f4(0x125),performancefile=configpath+_0x32c3f4(0x2d4)+botID+_0x32c3f4(0x208),coinresultsfile=configpath+_0x32c3f4(0x2d4)+botID+_0x32c3f4(0x167),settingsfile=configpath+_0x32c3f4(0x14e),securefile=configpath+_0x32c3f4(0x19c),configbackuppath=configpath+_0x32c3f4(0x15c),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x32c3f4(0x2ce)]({'logs':[],'version':serverversion})[_0x32c3f4(0x1ba)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x32c3f4(0x2ce)]({'data':[],'version':serverversion})[_0x32c3f4(0x1ba)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x32c3f4(0x2ce)]({'coins':{},'version':serverversion})[_0x32c3f4(0x1ba)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3e8c49=>{const _0x38831a=_0x32c3f4;console[_0x38831a(0x1b3)](_0x3e8c49);},'simple':_0x9f6210=>{const _0x171c77=_0x32c3f4;console[_0x171c77(0x1b3)](_0x9f6210),loggerfile['write'](util[_0x171c77(0x1df)](_0x9f6210)+'\x0a');},'full':async(_0x810cbf,_0x258a16='')=>{const _0x1e4035=_0x32c3f4;let _0x479685;if(config[_0x1e4035(0x2f1)])_0x479685=getTimeStamp()+':\x20'+config[_0x1e4035(0x1a2)]+'\x20>\x20'+_0x810cbf;else _0x479685=getTimeStamp()+_0x1e4035(0x230)+botID+_0x1e4035(0x2c2)+_0x810cbf;console[_0x1e4035(0x1b3)](_0x479685),loggerfile[_0x1e4035(0x1ba)](util[_0x1e4035(0x1df)](_0x479685)+'\x0a'),_0x258a16&&(console[_0x1e4035(0x1b3)](_0x258a16),loggerfile[_0x1e4035(0x1ba)](util['format'](_0x258a16)+'\x0a'));},'debug':async(_0x2537ec,_0x1d1b3d='')=>{const _0x553b83=_0x32c3f4;let _0x2f0954;if(config[_0x553b83(0x2f1)])_0x2f0954=getTimeStamp()+':\x20'+config[_0x553b83(0x1a2)]+_0x553b83(0x2b2)+_0x2537ec;else _0x2f0954=getTimeStamp()+_0x553b83(0x230)+botID+_0x553b83(0x2b2)+_0x2537ec;if(debugging)console['log'](_0x2f0954);loggerfile[_0x553b83(0x1ba)](util[_0x553b83(0x1df)](_0x2f0954)+'\x0a');if(_0x1d1b3d){if(debugging)console['log'](_0x1d1b3d);loggerfile[_0x553b83(0x1ba)](util[_0x553b83(0x1df)](_0x1d1b3d)+'\x0a');}}};process['on'](_0x32c3f4(0x12f),function(_0x14f93b){const _0x52a58b=_0x32c3f4;handleError(_0x14f93b['stack'],_0x52a58b(0x12f));});settings['timeshift']!=config[_0x32c3f4(0x299)]&&updateTimeshift(settings['timeshift']);settings['onepagemode']!=config[_0x32c3f4(0x2db)]&&updateOnepagemode(settings[_0x32c3f4(0x2db)]);(settings['marketcapApi']&&!config[_0x32c3f4(0x284)]||!settings['marketcapApi']&&config[_0x32c3f4(0x284)])&&updateMarketcapApi(settings['marketcapApi']);function _0x21ff(_0x19025d,_0x3c55fe){const _0x55b873=_0x6274();return _0x21ff=function(_0x287fb6,_0x4184f6){_0x287fb6=_0x287fb6-0x11f;let _0x6274c=_0x55b873[_0x287fb6];return _0x6274c;},_0x21ff(_0x19025d,_0x3c55fe);}process[_0x32c3f4(0x26e)]({'started':_0x32c3f4(0x226)},_0x47c277=>{}),initializeProcessListeners();function proxyEmit(_0x2be63f,_0x127c1a=null){const _0x4b985c=_0x32c3f4;process[_0x4b985c(0x26e)]({'function':_0x2be63f,'args':_0x127c1a},_0x234402=>{});}function _0x6274(){const _0xdc835f=['\x20metrics:</b>\x20\x0a\x0a','slider','side','logs','sendMetricsTelegram','/USD','2.3.5','-results.json','Initializing\x20coin\x20results','autoliquidity','Exception\x20thrown\x20in\x20','\x20MB','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','max','timestamp-issue','test','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','shift','cancelOrders()','floor','startnumber','RateLimitExceeded','add','\x20-\x20','Market\x20order',':\x20timer\x20>','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','Binance','\x20/\x20','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','storeConfiguration','pnl-basecoin','ExchangeNotAvailable','getStartingBalances','market_cap','fetchOpenOrders','cloneDeep','getSeconds','final','\x20network\x20error:\x20','getPortfolio','apiKey','time','sandbox',')\x20unknown\x20order:\x20','resetHistory','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Invalid\x20symbol:\x20','trade','decode64','orderId','indexOf','./config/','\x20minutes\x20-\x20','quote','AuthenticationError','push','canceled','netoffset','privateKey','bb-secure.json','portfolio1','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','error','/output-000.log','Value\x20','botname','InvalidNonce','success','self_reported_market_cap','Insufficient\x20funds\x20to\x20execute\x20order:\x20','MIN_NOTIONAL','buy','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','util','findIndex','Failed\x20to\x20load\x20coin\x20data\x20for\x20','removed','slice','currency','OrderNotFound','ask','Order\x20amount\x20is\x20invalid:\x20','log','price','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','USDT','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','password','fetchTickers','write','headless','ccxt','(((.+)+)+)+$','get','Market','Error\x20while\x20deleting\x20files:\x20','1\x20-\x20FILLED\x20known\x20order:\x20','%\x20(','watchOrders()','cooldown','active','change24h','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','timestamp','customId',')\x20|\x20exchange:\x20','ongoing','Pausing\x20for\x20','Unknown\x20error:\x20','6732774ktnvkz','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','function','Placing\x20order\x20for:\x20','Stopped\x20fetching\x20balance\x20after\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','message','restart','remainingSymbols','fetchBalance()','ETH','sell','Unknown\x20error\x20-\x20check\x20logs','eur','options','Order\x20filled:\x20','.json','format','sha256','market','version','1\x20-\x20FILLED\x20unknown\x20order:\x20','switch-manual','4814621GVgPfL','initial','Huobipro','Fee\x20discount\x20refund\x20detected:\x20','delta','Bitget','</pre>','join','recent20','initTickers()','Error\x20details:','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','set','getOpenOrders()','BTC','recovery','/USDT','startprice','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','distribution','cancelOrder','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','toFixed','limit-high','getFullYear','round','fee','forEach','openOrders','Unfilled\x20order(s)\x20canceled\x20after\x20','stringify','parse','Order\x20filled','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','-performance.json','event-history','RETRY\x20-\x20Problem\x20resolved\x20after\x20','startdate','data','excluded','configuration','1279932MqgkCh','mkdirSync','bid','getMinutes','Manual\x20balancing\x20required','valid','1\x20-\x20partially\x20FILLED\x20(','\x20|\x20lock\x20orders:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','loadSymbols()','watchOrders','Portfolio\x20change\x20detected:\x20','unlinkSync','\x20|\x20exchange:\x20','-------------------------------\x0a','warning','enabled','pnl','\x20|\x20','%)\x0a','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','bots','threshold','running','cost','Order\x20is\x20invalid:\x20','balances','breakeven','full','fetchTicker','args','last','storeHeadless',':\x20Bot\x20','pki','sendPortfolioTelegram','Executed\x20','limits','min','Valid\x20balance\x20for\x20','coin','marketcapsqrt','getDate','./version.json','-config.json','Resetting\x20bot\x20history','substring','Cex','Avoiding\x20continuous\x20order\x20attempts','offset','testApi','\x20exchange\x20error:\x20','emojisell','Invalid\x20balance\x20for\x20','total','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','token\x20is\x20expired','debug','testAPI()','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','amount','\x20due\x20to\x20offset','orderstatus','change','percentage','watchTrades','************','assign','map','buys','axios','isBefore','getHours','kill','net','deleteHistoryAlerts','Exchange','random','UNLOCKED','existsSync','RequestTimeout','Error\x20details:\x20','closed','Initiating\x20bot\x20restart','0\x20-\x20EXECUTION:\x20','symbol','showConfig','exchange','reverse','Error:\x20Invalid\x20argument\x20','sort','createOrder','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','RETRY\x20-\x20Error\x20in\x20','send','LOCKED','OnMaintenance','match','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','none','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','ExchangeError','initclient','\x20|\x20highest\x20fee:\x20','521435PYAkDO','API-key\x20format\x20invalid','padEnd','toString','coins','average','enableFiatToggle','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)',')\x20known\x20order:\x20','liquidity','BUSD','marketcapApi','29729250xPckOk','usd','fromCodePoint','sqrt','has','writeFile','PermissionDenied','Bot\x20','split','toLowerCase','page','UNLOCKING','bot','request-time','Initializing\x20exchange','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','coin-loading-progress','NetworkError','\x20API\x20key\x20is\x20invalid','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','timeshift','performance','target','settings','Net\x20','setSandboxMode','\x20order:\x20','timeout','differenceInSeconds','staging','heapUsed','ID:\x20','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','yyyy/MM/dd','red_yellow_blue','pop','padStart','basecoin','constructor','sortBy','length','splice','***','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','net-basecoin','\x20>\x20[DEBUG]\x20','configstate','/EUR','placeOrder()','\x20portfolio:</b>\x20\x0a\x0a','\x20-\x20bot\x20not\x20started','net-fiat','apiPassword','<b>Bot\x20','basecoinvalue','privateKeyFromPem','emojibuy','DDoSProtection','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','placeOrder','marketcapEnabled','\x20>\x20','amountToPrecision','\x20API\x20secret\x20is\x20invalid','loading-canceled','cancel','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','pnl-fiat','2\x20-\x20handling\x20FILLED\x20order:\x20','toggleBotMode','fetchBalance','filled','remove','defaults','search','addDays','argv','yargs/yargs','no\x20open\x20orders','bot-','date','\x0aSymbol(s):\x20','loadMarkets','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','exchange\x20reload','colorscheme','onepagemode','update-liquidity','process\x20','PAXG','\x20attempts','highest','2531343kIKmtP','2.6.23','InvalidOrder','watchTradesForSymbols','spot','no\x20exchange\x20reloaded','Bybit','entries','USDC','\x20(see:\x20hodlerhacks.com/fix/1)','complete','prevnumber','recreate','progress','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','keys','showname','portfolio','apiSecret','Limit\x20(high-margin)','production','includes','pro','Error\x20occurred:\x20','\x20-\x20go\x20back\x20and\x20try\x20again','operatorId','find','abs','PnL\x20','changes','-events.json','Initializing\x20exchange:\x20already\x20done','Order(s)\x20not\x20validated\x20after\x20','sells','Block\x20transaction\x20detection:\x20','\x20exchange','number','Invalid\x20quantity','limit','\x20hour','uncaughtException','RSA-OAEP','open','EUR','583512FJKOEP','value','create','getMonth','environment','code','fetchTickers()','replace','Reset\x20|\x20','fiat','2.6.0','status','2Jgxhhh','toUpperCase','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','api-issue','getTime','storeFiat','secret','exchanges','starting-balances','realizedPnL','emitHistory','type','balancing\x20resumes\x20when\x20cooldown\x20ends','event','watchTradesForSymbols()','bb-settings.json','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','added','Headless:\x20','Error\x20in\x20testNewAPI():\x20','portfolio2','filter','marketcap','<pre>','ordertype','limit-low','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','52aFaJnh','order','/backup/','secure','USD','status\x20code\x20401'];_0x6274=function(){return _0xdc835f;};return _0x6274();}function initializeProcessListeners(){const _0x39d5c5=_0x32c3f4;process['on'](_0x39d5c5(0x1d4),_0x80d343=>{const _0x23a0be=_0x39d5c5;switch(Object['keys'](_0x80d343)[0x0]){case _0x23a0be(0x299):_0x80d343['timeshift']!=undefined&&(settings[_0x23a0be(0x299)]=_0x80d343[_0x23a0be(0x299)],updateTimeshift(settings[_0x23a0be(0x299)]));break;case'onepagemode':_0x80d343[_0x23a0be(0x2db)]!=undefined&&(settings[_0x23a0be(0x2db)]=_0x80d343['onepagemode'],updateOnepagemode(settings[_0x23a0be(0x2db)]));break;case _0x23a0be(0x284):_0x80d343['marketcapApi']!=undefined&&(settings[_0x23a0be(0x284)]=_0x80d343['marketcapApi'],updateMarketcapApi(settings[_0x23a0be(0x284)]));break;case _0x23a0be(0x224):_0x80d343[_0x23a0be(0x224)]!=undefined&&(bots=JSON[_0x23a0be(0x205)](_0x80d343[_0x23a0be(0x224)]),proxyEmit(_0x23a0be(0x224),bots));break;case _0x23a0be(0x1d0):switch(_0x80d343[_0x23a0be(0x1d0)]){case _0x23a0be(0x277):initclient();break;case _0x23a0be(0x2ca):toggleBotMode();break;case _0x23a0be(0x149):emitHistory(_0x80d343['args']);break;case _0x23a0be(0x25b):deleteHistoryAlerts(_0x80d343[_0x23a0be(0x22d)]);break;case _0x23a0be(0x188):getPortfolio(_0x80d343[_0x23a0be(0x22d)]);break;case _0x23a0be(0x17e):storeConfiguration(_0x80d343[_0x23a0be(0x22d)]);break;case _0x23a0be(0x22f):storeHeadless(_0x80d343[_0x23a0be(0x22d)]);break;case _0x23a0be(0x144):storeFiat(_0x80d343[_0x23a0be(0x22d)]);break;case _0x23a0be(0x18d):resetHistory();break;case _0x23a0be(0x181):getStartingBalances(getNormalizedPerformance());break;case _0x23a0be(0x2c0):placeOrder(_0x80d343[_0x23a0be(0x22d)]);break;case'cancelLoading':cancelLoading();break;case _0x23a0be(0x266):showConfig();break;case _0x23a0be(0x164):sendMetricsTelegram();break;case _0x23a0be(0x232):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0xfa59b8=![]){const _0x27d315=_0x32c3f4;logger[_0x27d315(0x248)](_0x27d315(0x13b)+(_0xfa59b8?_0x27d315(0x2d9):_0x27d315(0x2e6))+_0x27d315(0x21c)+config[_0x27d315(0x267)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x27d315(0x189)]!=''&&config['apiKey']!=_0x27d315(0x2af)){loadingProgress=0x0;if(_0xfa59b8){await initExchange();const _0x3670b5=await testAPI();if(!_0x3670b5)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x27d315(0x20e),emittedConfiguration()),initialPerformanceStored=![];}const _0x6f19c0=await getCoins();[currentCoins,currentCoinsAll]=_0x6f19c0,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug']('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x27d315(0x2ad)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x37886d=![]){const _0x2a1e02=_0x32c3f4;logger[_0x2a1e02(0x248)]('Resuming\x20('+(_0x37886d?'quick':_0x2a1e02(0x2eb))+_0x2a1e02(0x1ca)+config[_0x2a1e02(0x267)]);if(pidBalances)clearTimeout(pidBalances);if(_0x37886d){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x2a1e02(0x189)]!=_0x2a1e02(0x2af)){loadingProgress=0x1;const _0x4b3417=await getCoins();[currentCoins,currentCoinsAll]=_0x4b3417,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug']('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x52b36b){const _0x359bf4=_0x32c3f4;let _0x1d822d=![];if(_0x52b36b)_0x1d822d=!![];const _0x419123=_0x1d822d?_0x52b36b:currentCoins,_0x455261=_0x419123[_0x359bf4(0x254)](_0x589031=>_0x589031[_0x359bf4(0x237)]);if(!config[_0x359bf4(0x284)]||!_0x1d822d&&!config[_0x359bf4(0x2c1)]||_0x455261[_0x359bf4(0x2ad)]==0x0)return;let _0x1cde6d=null;try{_0x1cde6d=await axios[_0x359bf4(0x1be)](_0x359bf4(0x141),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x359bf4(0x284)]},'params':{'symbol':_0x455261[_0x359bf4(0x27c)]()}});}catch(_0x5dcbc1){_0x1cde6d=null,_0x5dcbc1[_0x359bf4(0x27c)]()[_0x359bf4(0x2f6)](_0x359bf4(0x15f))?(config[_0x359bf4(0x284)]=![],updateConfig(),proxyEmit(_0x359bf4(0x20e),emittedConfiguration()),logHistory('error',_0x359bf4(0x2bf))):(logHistory('error',_0x359bf4(0x273)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x359bf4(0x248)](_0x359bf4(0x1ef),_0x5dcbc1['toString']()+_0x359bf4(0x177)+_0x5dcbc1[_0x359bf4(0x138)]));}const _0x56815e=new Map();let _0x32cc99=!![];if(_0x1cde6d){let _0x29e5d7=0x0;const _0x10fe0f=_0x1cde6d[_0x359bf4(0x20c)];_0x455261[_0x359bf4(0x201)](_0x14bb92=>{const _0x111f11=_0x359bf4;if(_0x10fe0f[_0x111f11(0x20c)][_0x14bb92][0x0]&&_0x10fe0f[_0x111f11(0x20c)][_0x14bb92][0x0][_0x111f11(0x196)][_0x111f11(0x15e)][_0x111f11(0x182)])_0x56815e[_0x111f11(0x1f1)](_0x14bb92,_0x10fe0f['data'][_0x14bb92][0x0][_0x111f11(0x196)][_0x111f11(0x15e)][_0x111f11(0x182)]),_0x29e5d7+=_0x10fe0f[_0x111f11(0x20c)][_0x14bb92][0x0][_0x111f11(0x196)]['USD'][_0x111f11(0x182)];else{if(_0x10fe0f[_0x111f11(0x20c)][_0x14bb92][0x0]&&_0x10fe0f['data'][_0x14bb92][0x0][_0x111f11(0x1a5)])_0x56815e[_0x111f11(0x1f1)](_0x14bb92,_0x10fe0f[_0x111f11(0x20c)][_0x14bb92][0x0][_0x111f11(0x1a5)]),_0x29e5d7+=_0x10fe0f[_0x111f11(0x20c)][_0x14bb92][0x0][_0x111f11(0x1a5)];else{if(![_0x111f11(0x132),_0x111f11(0x15e)][_0x111f11(0x2f6)](_0x14bb92)){if(_0x1d822d)logHistory(_0x111f11(0x19f),_0x111f11(0x2b0)+_0x14bb92+_0x111f11(0x11f));else{const _0x1cc334=config[_0x111f11(0x2f2)][_0x111f11(0x121)](_0x49c0b9=>_0x49c0b9[_0x111f11(0x237)]==_0x14bb92);_0x1cc334&&!_0x1cc334[_0x111f11(0x20d)]&&_0x1cc334['slider']==-0x1&&(_0x32cc99=![],logHistory(_0x111f11(0x19f),_0x111f11(0x207)),logger['debug'](_0x111f11(0x2b0)+_0x14bb92));}}}}});if(!_0x32cc99)return;_0x455261[_0x359bf4(0x201)](_0x2cb2e8=>{const _0x347d8b=_0x359bf4,_0x4cedd2=_0x56815e['get'](_0x2cb2e8)?_0x56815e[_0x347d8b(0x1be)](_0x2cb2e8):0x0;if(_0x1d822d){const _0x44a7e8=_0x52b36b[_0x347d8b(0x121)](_0x4a6927=>_0x4a6927[_0x347d8b(0x237)]==_0x2cb2e8);_0x44a7e8&&(_0x44a7e8[_0x347d8b(0x155)]=_0x4cedd2);}else{const _0x1f8928=currentCoins[_0x347d8b(0x121)](_0x19b1e8=>_0x19b1e8['coin']==_0x2cb2e8);_0x1f8928&&(_0x1f8928[_0x347d8b(0x155)]=_0x4cedd2);const _0x7db819=currentCoinsAll[_0x347d8b(0x121)](_0x526516=>_0x526516[_0x347d8b(0x237)]==_0x2cb2e8);_0x7db819&&(_0x7db819[_0x347d8b(0x155)]=_0x4cedd2);}}),!_0x1d822d&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x2c8372=_0x32c3f4,_0xebbbb8=0x2;let _0x43e2d7=0x0,_0x50e380=0x0,_0x44cfea=0x0,_0x41ec52=0x0,_0x2d5fbc=0x0;config[_0x2c8372(0x2f2)][_0x2c8372(0x201)](_0x34b91b=>{const _0x5d0e82=_0x2c8372;if(!_0x34b91b[_0x5d0e82(0x20d)]){_0x44cfea++,_0x43e2d7+=_0x34b91b['slider'];if(_0x34b91b[_0x5d0e82(0x161)]===-0x1){_0x43e2d7++;const _0xc5cf87=currentCoinsAll[_0x5d0e82(0x121)](_0x2fa099=>_0x2fa099['coin']==_0x34b91b[_0x5d0e82(0x237)]);_0xc5cf87&&(_0x41ec52+=_0xc5cf87[_0x5d0e82(0x155)],_0x2d5fbc+=Math['sqrt'](_0xc5cf87[_0x5d0e82(0x155)]));}if(_0x34b91b[_0x5d0e82(0x161)]!==-0x1)_0x50e380++;}});let _0x354243;const _0x324ffd=0x64-_0x43e2d7,_0x2371a6=_0x44cfea-_0x50e380;_0x354243=_0x2371a6===0x0?_0x43e2d7:Math[_0x2c8372(0x16d)](0x64,_0x43e2d7),config[_0x2c8372(0x2f2)][_0x2c8372(0x201)](_0x3a3bdf=>{const _0x2b5982=_0x2c8372,_0x10b110=currentCoinsAll[_0x2b5982(0x121)](_0x5e4f58=>_0x5e4f58[_0x2b5982(0x237)]==_0x3a3bdf[_0x2b5982(0x237)]);_0x10b110&&(_0x3a3bdf[_0x2b5982(0x155)]=_0x10b110[_0x2b5982(0x155)]);if(!_0x3a3bdf['excluded']){if(_0x354243<=0x64){if(_0x3a3bdf[_0x2b5982(0x161)]===-0x1){if(_0x41ec52!==0x0&&config['marketcapEnabled']){if(_0x10b110){if(config[_0x2b5982(0x2c1)]==_0x2b5982(0x155))_0x3a3bdf[_0x2b5982(0x1f9)]=(_0x324ffd/(_0x41ec52/_0x10b110[_0x2b5982(0x155)]))[_0x2b5982(0x1fc)](_0xebbbb8);else config[_0x2b5982(0x2c1)]==_0x2b5982(0x238)&&(_0x3a3bdf['distribution']=(_0x324ffd/(_0x2d5fbc/Math[_0x2b5982(0x288)](_0x10b110['marketcap'])))['toFixed'](_0xebbbb8));}}}}}}),updateConfig();}function updateConfig(){const _0x37d8d9=_0x32c3f4;let _0x3336cc=dbConfig[_0x37d8d9(0x1be)](_0x37d8d9(0x291))[_0x37d8d9(0x121)]({'botID':botID})[_0x37d8d9(0x134)]();_0x3336cc&&dbConfig['get'](_0x37d8d9(0x291))[_0x37d8d9(0x121)]({'botID':botID})[_0x37d8d9(0x253)](config)[_0x37d8d9(0x1ba)]();}function logMemory(){const _0x10eddf=_0x32c3f4;if(environment!=_0x10eddf(0x2a2))return;const _0x21bc79=process['memoryUsage']()[_0x10eddf(0x2a3)]/0x400/0x400;logger[_0x10eddf(0x248)](_0x10eddf(0x2dd)+process['pid']+'\x20uses\x20'+formatResult(_0x21bc79,0x1)+_0x10eddf(0x16b));}async function startScheduler(){const _0x31da20=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0x31da20==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x501c69=![]){const _0x5a8c21=_0x32c3f4;logger['debug'](_0x5a8c21(0x263));if(!_0x501c69)while(lockOrders!=ORDERS[_0x5a8c21(0x25e)]||coolingDown){await sleep(0x3e8);}process[_0x5a8c21(0x26e)]({'stop':_0x5a8c21(0x1d5)},_0x3000bc=>{});}async function initExchange(_0x37fb85=config[_0x32c3f4(0x267)],_0x92049d=config[_0x32c3f4(0x189)],_0x302894=config[_0x32c3f4(0x2f3)],_0x80b47c=config['apiPassword'],_0x2194c2=config['sandbox']){const _0x5eea72=_0x32c3f4;if(exchange){logger[_0x5eea72(0x248)](_0x5eea72(0x126));return;}logger['debug'](_0x5eea72(0x293));!supportedExchanges()[_0x5eea72(0x2f6)](_0x37fb85)&&(logHistory(_0x5eea72(0x19f),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x37fb85+_0x5eea72(0x12a)),killBot());const _0x1560ac=ccxt['pro'][_0x37fb85[_0x5eea72(0x28e)]()];exchange=new _0x1560ac({'apiKey':_0x92049d,'secret':_0x302894,'options':{'defaultType':_0x5eea72(0x2e5)}});if(_0x80b47c)exchange[_0x5eea72(0x1b8)]=_0x80b47c;if(exchange[_0x5eea72(0x289)]['sandbox'])exchange[_0x5eea72(0x29e)](_0x2194c2);if(_0x37fb85[_0x5eea72(0x28e)]()=='bitvavo')exchange[_0x5eea72(0x1dc)][_0x5eea72(0x120)]=operatorId;}function updateExchange(_0x4c2040,_0x564457,_0x36c4ce=null){const _0x944c94=_0x32c3f4;exchange[_0x944c94(0x189)]=_0x4c2040,exchange[_0x944c94(0x145)]=_0x564457,exchange[_0x944c94(0x1b8)]=_0x36c4ce,logger[_0x944c94(0x248)](_0x944c94(0x1f0));}function setStableCoins(){const _0x7cfd7=_0x32c3f4;let _0x21a1a3=config[_0x7cfd7(0x2aa)]==_0x7cfd7(0x1d8)?_0x7cfd7(0x1d8):config[_0x7cfd7(0x2aa)]==_0x7cfd7(0x2de)?'PAXG':_0x7cfd7(0x1f3),_0x2b123c=allSymbols[_0x7cfd7(0x2f6)](_0x21a1a3+_0x7cfd7(0x165))?'USD':allSymbols[_0x7cfd7(0x2f6)](_0x21a1a3+_0x7cfd7(0x1f5))?_0x7cfd7(0x1b6):'EUR',_0x4c8bfa=allSymbols[_0x7cfd7(0x2f6)](_0x21a1a3+_0x7cfd7(0x2b4))?_0x7cfd7(0x132):_0x2b123c;enableFiatToggle=!![],_0x2b123c==_0x7cfd7(0x132)&&(enableFiatToggle=![],storeFiat(_0x7cfd7(0x132))),_0x4c8bfa!=_0x7cfd7(0x132)&&(enableFiatToggle=![],storeFiat(_0x7cfd7(0x15e))),stablecoins={'eur':{'coin':''+_0x21a1a3+_0x4c8bfa,'symbol':_0x21a1a3+'/'+_0x4c8bfa},'usd':{'coin':''+_0x21a1a3+_0x2b123c,'symbol':_0x21a1a3+'/'+_0x2b123c}};}async function initwsCcxt(){const _0x2a95f0=_0x32c3f4;initCycle++;const _0x5a1244=initCycle;let _0x43328f=[];config[_0x2a95f0(0x2f2)][_0x2a95f0(0x201)](_0x447cfd=>{const _0x121091=_0x2a95f0;if(!_0x447cfd[_0x121091(0x20d)]&&_0x447cfd[_0x121091(0x237)]!=config[_0x121091(0x2aa)])_0x43328f[_0x121091(0x198)](_0x447cfd['symbol']);});if(!_0x43328f[_0x2a95f0(0x2f6)](stablecoins[_0x2a95f0(0x1db)][_0x2a95f0(0x265)]))_0x43328f[_0x2a95f0(0x198)](stablecoins[_0x2a95f0(0x1db)][_0x2a95f0(0x265)]);if(!_0x43328f[_0x2a95f0(0x2f6)](stablecoins[_0x2a95f0(0x286)][_0x2a95f0(0x265)]))_0x43328f[_0x2a95f0(0x198)](stablecoins[_0x2a95f0(0x286)][_0x2a95f0(0x265)]);loadCoins(_0x43328f),_0x43328f=validateSymbols(_0x43328f);const _0xdb87d9=async _0x3d247d=>{const _0x28ae98=_0x2a95f0;let _0x576f04;try{const _0x4f5045=await getTickers(_0x3d247d);Object[_0x28ae98(0x2e8)](_0x4f5045)[_0x28ae98(0x201)](_0x47d4b6=>{const _0x4167e2=_0x28ae98;_0x576f04=_0x47d4b6[0x1][_0x4167e2(0x265)],gTicker[noslash(_0x576f04)]=_0x47d4b6[0x1]['last'],gChange[_0x576f04]=_0x47d4b6[0x1][_0x4167e2(0x250)];});}catch(_0xcb75a1){await handleError(_0xcb75a1,_0x28ae98(0x1ee),_0x576f04);}},_0x4e7569=async _0x5b5e3c=>{const _0x154e9f=_0x2a95f0;while(initCycle==_0x5a1244){if(!botPaused)try{const _0xcd0cf9=await exchange[_0x154e9f(0x251)](_0x5b5e3c);gTicker[noslash(_0xcd0cf9[0x0][_0x154e9f(0x265)])]=_0xcd0cf9[0x0][_0x154e9f(0x1b4)];}catch(_0x21968b){if(!exchangeStopped)await handleError(_0x21968b,'watchTrades()',_0x5b5e3c);}else await sleep(0x64);}},_0x595e6b=async _0x54b9fd=>{const _0x4821be=_0x2a95f0;while(initCycle==_0x5a1244){if(!botPaused)try{const _0x164f1d=await exchange[_0x4821be(0x2e4)](_0x54b9fd),_0x3e831b=_0x164f1d[_0x4821be(0x2a8)]();gTicker[noslash(_0x3e831b[_0x4821be(0x265)])]=_0x3e831b[_0x4821be(0x1b4)];}catch(_0x5368da){if(!exchangeStopped)await handleError(_0x5368da,_0x4821be(0x14d),_0x54b9fd['toString']());}else await sleep(0x64);}},_0xc6b73=async _0x22e183=>{const _0x37fd16=_0x2a95f0;while(initCycle==_0x5a1244){if(!botPaused){let _0x5cabf0;try{await sleep(0x3c*0x3e8);const _0x4b18ea=await getTickers(_0x22e183);Object[_0x37fd16(0x2e8)](_0x4b18ea)[_0x37fd16(0x201)](_0x19b9db=>{const _0x26c304=_0x37fd16;_0x5cabf0=_0x19b9db[0x1]['symbol'],gChange[_0x5cabf0]=_0x19b9db[0x1][_0x26c304(0x250)];});}catch(_0x32d7c6){if(!exchangeStopped)await handleError(_0x32d7c6,_0x37fd16(0x139),_0x5cabf0);}}else await sleep(0x64);}},_0x5a7085=async _0x196c67=>{const _0x3ad365=_0x2a95f0;while(initCycle==_0x5a1244){if(!botPaused)try{const _0x32e69b=await exchange['watchOrders'](_0x196c67);initCycle==_0x5a1244&&_0x32e69b[_0x3ad365(0x201)](_0x4659ee=>{updateNumberCoinsCcxt(_0x4659ee);});}catch(_0x1be39c){if(!exchangeStopped)await handleError(_0x1be39c,_0x3ad365(0x1c3));}else await sleep(0x64);}};_0xdb87d9(_0x43328f),_0xc6b73(_0x43328f),exchange[_0x2a95f0(0x289)]['watchTradesForSymbols']&&!(config[_0x2a95f0(0x267)]==_0x2a95f0(0x2e7)&&_0x43328f['length']>0xa)?_0x595e6b(_0x43328f):_0x43328f[_0x2a95f0(0x201)](_0x4f8aa9=>{_0x4e7569(_0x4f8aa9);}),_0x43328f[_0x2a95f0(0x201)](_0x2f9723=>{_0x5a7085(_0x2f9723);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x135cc5){const _0x362b91=_0x32c3f4;let _0x506074={};try{if(config['exchange']!='Cryptocom')_0x506074=await exchange[_0x362b91(0x1b9)](_0x135cc5);else for(const _0x19f1d6 of _0x135cc5){const _0x1958aa=await exchange[_0x362b91(0x22c)](_0x19f1d6);_0x506074[_0x19f1d6]=_0x1958aa;}return _0x506074;}catch(_0x1fbeeb){throw _0x1fbeeb;}}function setBlockTransactionDetection(_0x2f095b){const _0x5e7159=_0x32c3f4;blockTransactionDetection=_0x2f095b,logger[_0x5e7159(0x248)](_0x5e7159(0x129)+blockTransactionDetection);}async function detectLiquidityChange(_0x471990=0x0){const _0x2559d4=_0x32c3f4;transactionDetectionOngoing=!![];try{const _0x521a57=await getCoins(_0x471990),[_0xe42327,_0x116fc9]=_0x521a57;let _0x18ba23=[];currentCoins[_0x2559d4(0x201)](_0x27232d=>{const _0x6bd37=_0x2559d4,_0x405266=_0xe42327[_0x6bd37(0x121)](_0xd50b75=>_0xd50b75[_0x6bd37(0x237)]==_0x27232d[_0x6bd37(0x237)]);if(_0x405266){if(_0x27232d['number']!=_0x405266['number']){let _0x32d4d2;if(_0x27232d[_0x6bd37(0x237)]!=config['basecoin']){const _0x291b04=gTicker[noslash(_0x27232d[_0x6bd37(0x265)])];_0x32d4d2=_0x27232d['reverse']?0x1/_0x291b04:_0x291b04;}else _0x32d4d2=0x1;_0x18ba23['push']({'coin':_0x27232d[_0x6bd37(0x237)],'symbol':_0x27232d[_0x6bd37(0x265)],'price':_0x32d4d2,'number':Number(formatResult(_0x405266[_0x6bd37(0x12b)]-_0x27232d['number'],0x8)),'basecoinvalue':_0x32d4d2*(_0x405266[_0x6bd37(0x12b)]-_0x27232d['number'])});}}});if(_0x18ba23[_0x2559d4(0x2ad)]>0x0&&!blockTransactionDetection){for(const _0x5c760d of _0x18ba23){if(config[_0x2559d4(0x169)]){logger[_0x2559d4(0x248)](_0x2559d4(0x1fb)+_0x5c760d[_0x2559d4(0x2bb)]+_0x2559d4(0x278)+lastFees['highest']);if(lastFees[_0x2559d4(0x2e0)]==0x0||Math[_0x2559d4(0x122)](_0x5c760d[_0x2559d4(0x2bb)])>lastFees[_0x2559d4(0x2e0)]*0x3){if(config[_0x2559d4(0x169)]=='update-liquidity'){delete _0x5c760d[_0x2559d4(0x265)],delete _0x5c760d[_0x2559d4(0x2bb)];let _0x4392c2=[],_0x16b17d=[...config[_0x2559d4(0x282)]]||[],_0x31b9e8=config[_0x2559d4(0x282)];_0x16b17d[_0x2559d4(0x26a)]((_0x20498a,_0x23202c)=>_0x20498a[_0x2559d4(0x2d5)]>_0x23202c[_0x2559d4(0x2d5)]?-0x1:_0x23202c[_0x2559d4(0x2d5)]>_0x20498a['date']?0x1:0x0);const _0x39e27e=getDate();if(_0x16b17d[0x0]){const _0x49e7a2=fns['parse'](_0x16b17d[0x0][_0x2559d4(0x2d5)],'yyyy/MM/dd',new Date()),_0x1e9da5=fns['parse'](_0x39e27e,_0x2559d4(0x2a6),new Date());if(fns['isEqual'](_0x49e7a2,_0x1e9da5)){_0x4392c2=_0x16b17d[0x0][_0x2559d4(0x124)];const _0x60caa0=_0x4392c2[_0x2559d4(0x121)](_0x396823=>_0x396823[_0x2559d4(0x237)]==_0x5c760d[_0x2559d4(0x237)]);_0x60caa0?(_0x60caa0[_0x2559d4(0x12b)]+=_0x5c760d[_0x2559d4(0x12b)],_0x60caa0[_0x2559d4(0x12b)]==0x0&&(_0x4392c2=_0x4392c2[_0x2559d4(0x154)](_0x48c08a=>{const _0x87d47a=_0x2559d4;return _0x48c08a[_0x87d47a(0x237)]!=_0x5c760d['coin'];}))):_0x4392c2[_0x2559d4(0x198)](_0x5c760d);const _0x3f8e09=_0x31b9e8['find'](_0xebe57f=>_0xebe57f['date']==_0x39e27e);_0x3f8e09[_0x2559d4(0x124)]=_0x4392c2;}else _0x31b9e8[_0x2559d4(0x198)]({'date':_0x39e27e,'changes':[_0x5c760d]});}const _0x55ad7b=_0x31b9e8[_0x2559d4(0x121)](_0x597d4b=>_0x597d4b[_0x2559d4(0x2d5)]==_0x39e27e);if(_0x55ad7b){let _0xbcdfbf=!![];_0x55ad7b[_0x2559d4(0x124)][_0x2559d4(0x201)](_0x3844ff=>{if(_0x3844ff['number']!=0x0)_0xbcdfbf=![];}),_0xbcdfbf&&(_0x31b9e8=_0x31b9e8[_0x2559d4(0x154)](_0x3a09b6=>{const _0x29242a=_0x2559d4;return _0x3a09b6[_0x29242a(0x2d5)]!=_0x39e27e;}));}let _0x57aa5b=dbConfig[_0x2559d4(0x1be)](_0x2559d4(0x291))[_0x2559d4(0x121)]({'botID':botID})[_0x2559d4(0x134)]();_0x57aa5b&&(dbConfig[_0x2559d4(0x1be)](_0x2559d4(0x291))[_0x2559d4(0x121)]({'botID':botID})[_0x2559d4(0x253)]({'liquidity':_0x31b9e8})[_0x2559d4(0x1ba)](),config[_0x2559d4(0x282)]=_0x31b9e8);logHistory(_0x2559d4(0x1a4),_0x2559d4(0x21a)+Math['abs'](_0x5c760d[_0x2559d4(0x12b)])+'\x20'+_0x5c760d[_0x2559d4(0x237)]+'\x20'+(_0x5c760d[_0x2559d4(0x12b)]>0x0?_0x2559d4(0x150):_0x2559d4(0x1ad))+_0x2559d4(0x294)),proxyEmit(_0x2559d4(0x20e),emittedConfiguration());const _0x5b7e4c=getNormalizedPerformance();emitPerformance(_0x5b7e4c),getStartingBalances(_0x5b7e4c),logger['debug'](_0x2559d4(0x26c));}else config[_0x2559d4(0x169)]==_0x2559d4(0x1e4)&&(config[_0x2559d4(0x1bb)]?(await storeHeadless({'headless':![]}),logHistory('success',_0x2559d4(0x21a)+Math[_0x2559d4(0x122)](_0x5c760d[_0x2559d4(0x12b)])+'\x20'+_0x5c760d['coin']+'\x20'+(_0x5c760d['number']>0x0?_0x2559d4(0x150):'removed')+_0x2559d4(0x2c7))):logger[_0x2559d4(0x248)](_0x2559d4(0x21a)+Math[_0x2559d4(0x122)](_0x5c760d[_0x2559d4(0x12b)])+'\x20'+_0x5c760d['coin']+'\x20'+(_0x5c760d[_0x2559d4(0x12b)]>0x0?_0x2559d4(0x150):_0x2559d4(0x1ad))+_0x2559d4(0x223)));}else logger['debug'](_0x2559d4(0x1e8)+Math['abs'](_0x5c760d[_0x2559d4(0x12b)])+'\x20'+_0x5c760d['coin']+'\x20'+(_0x5c760d[_0x2559d4(0x12b)]>0x0?_0x2559d4(0x150):_0x2559d4(0x1ad)));}else logger[_0x2559d4(0x248)](_0x2559d4(0x21a)+Math['abs'](_0x5c760d[_0x2559d4(0x12b)])+'\x20'+_0x5c760d[_0x2559d4(0x237)]+'\x20'+(_0x5c760d[_0x2559d4(0x12b)]>0x0?_0x2559d4(0x150):_0x2559d4(0x1ad))+_0x2559d4(0x1b7));}currentCoins=_0xe42327,currentCoinsAll=_0x116fc9;}}catch(_0x2db3b5){if(!exchangeStopped)await handleError(_0x2db3b5,'detectLiquidityChange()');}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x54e0be=_0x32c3f4;try{markets=await exchange[_0x54e0be(0x2d7)](!![]),allSymbols=[],Object[_0x54e0be(0x2e8)](markets)[_0x54e0be(0x201)](_0x4da094=>{const _0x428537=_0x54e0be;_0x4da094[0x1][_0x428537(0x1c5)]&&_0x4da094[0x1]['spot']&&allSymbols[_0x428537(0x198)](_0x4da094[0x0]);});}catch(_0x397900){markets?logger[_0x54e0be(0x248)]('Error\x20in\x20loadSymbols():\x20'+_0x397900[_0x54e0be(0x27c)]()):(loading[_0x54e0be(0x2c6)]=!![],_0x397900[_0x54e0be(0x27c)]()[_0x54e0be(0x28e)]()[_0x54e0be(0x2f6)](_0x54e0be(0x1c8))||_0x397900[_0x54e0be(0x27c)]()[_0x54e0be(0x28e)]()['includes'](_0x54e0be(0x292))?(logHistory(_0x54e0be(0x19f),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading[_0x54e0be(0x19f)]='timestamp-issue'):handleErrorNoStop(_0x397900,_0x54e0be(0x218),!![]),logHistory(_0x54e0be(0x19f),'Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory(_0x54e0be(0x19f),_0x54e0be(0x1cc)+loadCoinsRetryInterval/0xea60+_0x54e0be(0x17d)),logger[_0x54e0be(0x248)](_0x54e0be(0x1ef),_0x397900),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x557a3e){const _0x188645=_0x32c3f4;let _0x44c0f2=[];return _0x557a3e[_0x188645(0x201)](_0x13cd15=>{const _0x26c2c9=_0x188645;!allSymbols[_0x26c2c9(0x2f6)](_0x13cd15)?(logHistory('error',_0x26c2c9(0x18f)+_0x13cd15+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'),loading[_0x26c2c9(0x2a0)]=!![],emitLoadingProgress()):_0x44c0f2[_0x26c2c9(0x198)](_0x13cd15);}),_0x44c0f2;}async function initclient(){const _0x2b58eb=_0x32c3f4;proxyEmit(_0x2b58eb(0x20e),emittedConfiguration()),proxyEmit(_0x2b58eb(0x146),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2b58eb(0x229),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4eb32e=getNormalizedPerformance();emitPerformance(_0x4eb32e),getStartingBalances(_0x4eb32e);}async function toggleBotMode(){const _0x416fea=_0x32c3f4;let _0xe112d2=dbConfig[_0x416fea(0x1be)](_0x416fea(0x291))[_0x416fea(0x121)]({'botID':botID})[_0x416fea(0x134)]();if(_0xe112d2){const _0x39765f=!_0xe112d2[_0x416fea(0x1bb)];dbConfig[_0x416fea(0x1be)](_0x416fea(0x291))[_0x416fea(0x121)]({'botID':botID})[_0x416fea(0x253)]({'headless':_0x39765f})[_0x416fea(0x1ba)](),config[_0x416fea(0x1bb)]=_0x39765f,proxyEmit(_0x416fea(0x20e),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1a7f8c=_0x32c3f4;process[_0x1a7f8c(0x26e)]({'updatebotmanager':!![]},_0x1e559b=>{}),logger[_0x1a7f8c(0x248)](_0x1a7f8c(0x151)+config['headless']);}async function loadCoins(_0x1f55ce){const _0x10e6c0=_0x32c3f4;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x191af7,_0x1a5ea7=0x0,_0x57aeb7=0x0;_0x1f55ce[_0x10e6c0(0x201)](_0x454581=>{const _0x721887=_0x10e6c0;loading['remainingSymbols'][_0x721887(0x198)](_0x454581);}),loadingCanceled=![];let _0x557e03=![];while(_0x191af7!=_0x1f55ce[_0x10e6c0(0x2ad)]+maxLoadingProgress){_0x191af7=loadingProgress,_0x1f55ce[_0x10e6c0(0x201)](_0x345bbc=>{const _0x14e498=_0x10e6c0;if(gTicker[noslash(_0x345bbc)]){loading[_0x14e498(0x1d6)]=loading[_0x14e498(0x1d6)][_0x14e498(0x154)](_0x7ffed7=>_0x7ffed7!=_0x345bbc);if(!watchedSymbols['includes'](_0x345bbc))watchedSymbols[_0x14e498(0x198)](_0x345bbc);_0x191af7++;}}),loading['progress']=Math[_0x10e6c0(0x1ff)](_0x191af7/(_0x1f55ce['length']+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x57aeb7>0x1e*0x5&&(loading[_0x10e6c0(0x2a0)]=!![],emitLoadingProgress()),_0x57aeb7>0x78*0x5&&!_0x557e03&&(_0x557e03=!![],logHistory(_0x10e6c0(0x19f),_0x10e6c0(0x1ac)+loading[_0x10e6c0(0x1d6)][_0x10e6c0(0x1ec)](',\x20')+_0x10e6c0(0x2b7)),logHistory('error','Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x10e6c0(0x17d)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x10e6c0(0x2c6)]=!![],emitLoadingProgress();break;}else _0x1a5ea7!=loading[_0x10e6c0(0x2ee)]&&(_0x1a5ea7=loading['progress'],emitLoadingProgress()),_0x57aeb7++,await sleep(0xc8);}_0x191af7==_0x1f55ce[_0x10e6c0(0x2ad)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x10e6c0(0x26e)]({'status':'enabled','live':'running'},_0x12a880=>{}),_0x557e03&&logHistory('success',_0x10e6c0(0x19e)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x31943f=_0x32c3f4;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x31943f(0x2c5)});}function emitLoadingProgress(){const _0x3eda29=_0x32c3f4;proxyEmit(_0x3eda29(0x295),loading);}async function getFiat(){const _0x4d014f=_0x32c3f4;let _0x45038a=gTicker[stablecoins[_0x4d014f(0x1db)][_0x4d014f(0x237)]],_0x23e2d3=gTicker[stablecoins[_0x4d014f(0x286)]['coin']];return{'eur':Number(_0x45038a),'usd':Number(_0x23e2d3)};}function capitalize(_0x1b12b8){const _0x174461=_0x32c3f4;return _0x1b12b8[_0x174461(0x23d)](0x0,0x1)[_0x174461(0x140)]()+_0x1b12b8['substring'](0x1);}function supportedExchanges(){const _0x5415ed=_0x32c3f4,_0x2a385b=['ws','fetchTickers',_0x5415ed(0x22c),_0x5415ed(0x251),_0x5415ed(0x219),_0x5415ed(0x1fa),_0x5415ed(0x26b),'fetchOpenOrders','fetchBalance'];let _0x4562b7=[],_0x328cd2=[],_0x3e358c=ccxt[_0x5415ed(0x2f7)]['exchanges'];_0x3e358c[_0x5415ed(0x201)](_0x2d6bcc=>{const _0x565a85=_0x5415ed;try{const _0x2b5dd2=new ccxt[(_0x565a85(0x2f7))][_0x2d6bcc]();_0x328cd2[_0x565a85(0x198)](_0x2b5dd2);}catch(_0x2808c3){}}),_0x328cd2['forEach'](_0x464d00=>{const _0x14c3a8=_0x5415ed;let _0x425352=0x0;_0x2a385b[_0x14c3a8(0x201)](_0x4784f4=>{_0x4784f4 in _0x464d00['has']&&_0x464d00['has'][_0x4784f4]&&_0x425352++;}),_0x425352==_0x2a385b['length']&&(!excludedExchanges[_0x14c3a8(0x2f6)](_0x464d00['id'])&&_0x4562b7[_0x14c3a8(0x198)](capitalize(_0x464d00['id'])));});let _0x50294b=[];return _0x3e358c[_0x5415ed(0x201)](_0x5c8baf=>{const _0x52492c=_0x5415ed;_0x5c8baf=capitalize(_0x5c8baf);if(!_0x4562b7[_0x52492c(0x2f6)](_0x5c8baf))_0x50294b[_0x52492c(0x198)](_0x5c8baf);}),_0x4562b7;}function setStartDatePerformance(){const _0x542531=_0x32c3f4;if(config&&config[_0x542531(0x282)][0x0][_0x542531(0x124)][_0x542531(0x2ad)]!=0x0){const _0x943af6=config[_0x542531(0x282)][0x0]['changes'];dbPerformance[_0x542531(0x1be)](_0x542531(0x20c))['find']({'date':config[_0x542531(0x20b)]})['assign']({'coins':_0x943af6})[_0x542531(0x1ba)]();}}function calculatePnL(_0xb1cb5e,_0x5121e8,_0xa0120c,_0x559615,_0x231f04,_0x3e31a0){const _0x5ac8fc=_0x32c3f4;!_0xb1cb5e['includes']('/'+config[_0x5ac8fc(0x2aa)])&&(_0xa0120c=_0xa0120c==_0x5ac8fc(0x1a8)?_0x5ac8fc(0x1d9):_0x5ac8fc(0x1a8));!_0x3e31a0[_0x5121e8]&&(_0x3e31a0[_0x5121e8]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x38c6e4=0x0,_0x49c996,_0x4fcb1b;if(_0xa0120c==_0x5ac8fc(0x1a8))_0x4fcb1b=_0x3e31a0[_0x5121e8]['number']*_0x3e31a0[_0x5121e8]['breakeven']+_0x231f04*_0x559615,_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)]+=_0x559615,_0x3e31a0[_0x5121e8][_0x5ac8fc(0x22a)]=_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)]!=0x0?_0x4fcb1b/_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)]:0x0,_0x3e31a0[_0x5121e8][_0x5ac8fc(0x255)]++;else _0xa0120c==_0x5ac8fc(0x1d9)&&(_0x49c996=Math[_0x5ac8fc(0x235)](_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)],_0x559615),_0x38c6e4=(_0x231f04-_0x3e31a0[_0x5121e8][_0x5ac8fc(0x22a)])*_0x49c996,_0x4fcb1b=Math['max'](_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)]*_0x3e31a0[_0x5121e8]['breakeven']-_0x49c996*_0x3e31a0[_0x5121e8][_0x5ac8fc(0x22a)],0x0),_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)]-=_0x49c996,_0x3e31a0[_0x5121e8][_0x5ac8fc(0x22a)]=_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)]!=0x0?_0x4fcb1b/_0x3e31a0[_0x5121e8][_0x5ac8fc(0x12b)]:0x0,_0x3e31a0[_0x5121e8][_0x5ac8fc(0x148)]+=_0x38c6e4,_0x3e31a0[_0x5121e8][_0x5ac8fc(0x128)]++);return _0x38c6e4;}async function generatePnL(){const _0x3e4f25=_0x32c3f4;pnlGenerationNeeded=![],logger[_0x3e4f25(0x248)]('Generating\x20PnL\x20data');const _0x83b0e5=dbLogs[_0x3e4f25(0x1be)](_0x3e4f25(0x163))[_0x3e4f25(0x134)]();let _0x5dbf3f={},_0x3057de=0x0,_0x3dfc56=0x0,_0x527b1f=config[_0x3e4f25(0x20b)];const _0x43df95=fns[_0x3e4f25(0x205)](_0x527b1f,'yyyy/MM/dd',new Date()),_0x420df2=new Date();let _0x791636=0x0;for(let _0x3468ed=_0x43df95;!fns[_0x3e4f25(0x257)](_0x420df2,_0x3468ed);_0x3468ed=fns[_0x3e4f25(0x2d0)](_0x3468ed,0x1)){const _0x54cd08=fns[_0x3e4f25(0x1df)](_0x3468ed,'yyyy/MM/dd');while(_0x3057de<_0x83b0e5[_0x3e4f25(0x2ad)]){const _0xabfa48=new Date(_0x83b0e5[_0x3057de][_0x3e4f25(0x18a)]);if(fns['isBefore'](_0xabfa48,_0x3468ed))_0x3057de++;else{if(_0x83b0e5[_0x3057de][_0x3e4f25(0x18a)][_0x3e4f25(0x2f6)](_0x54cd08)){const _0xbea10b=_0x83b0e5[_0x3057de];if(_0xbea10b[_0x3e4f25(0x14a)]===_0x3e4f25(0x15b)&&(_0xbea10b[_0x3e4f25(0x14c)][_0x3e4f25(0x2f6)](_0x3e4f25(0x206))||_0xbea10b[_0x3e4f25(0x14c)]['includes'](_0x3e4f25(0x178)))){const _0x28a24d=_0xbea10b[_0x3e4f25(0x14c)][_0x3e4f25(0x271)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x28a24d){const [,_0x423a46,_0xc1b454,_0x1b1214,_0x132416]=_0x28a24d,_0x26c641=_0x423a46[_0x3e4f25(0x2f6)]('/'+config[_0x3e4f25(0x2aa)])?_0x423a46[_0x3e4f25(0x28d)]('/')[0x0]:_0x423a46[_0x3e4f25(0x28d)]('/')[0x1],_0x355ded=calculatePnL(_0x423a46,_0x26c641,_0xc1b454,parseFloat(_0x1b1214),parseFloat(_0x132416),_0x5dbf3f);_0x3dfc56+=_0x355ded;}}_0x3057de++;}else break;}}dbPerformance[_0x3e4f25(0x1be)](_0x3e4f25(0x20c))[_0x3e4f25(0x121)]({'date':_0x54cd08})[_0x3e4f25(0x253)]({'pnl':_0x3dfc56})[_0x3e4f25(0x1ba)]();}dbCoinResults['set'](_0x3e4f25(0x27d),_0x5dbf3f)['write'](),logger[_0x3e4f25(0x248)]('Generated\x20PnL\x20data');const _0x7a6c95=getNormalizedPerformance();emitPerformance(_0x7a6c95);}async function updatePnL(_0x525956){const _0xfce427=_0x32c3f4,{symbol:_0x496db5,coin:_0x3245af,amount:_0x3f6abb,price:_0x58b161,side:_0x503c99,reverse:_0x333c86}=_0x525956;let _0xa78a62=dbCoinResults['get'](_0xfce427(0x27d))[_0xfce427(0x134)]();const _0x121b78=calculatePnL(_0x496db5,_0x3245af,_0x503c99,_0x3f6abb,_0x58b161,_0xa78a62);dbCoinResults[_0xfce427(0x1f1)](_0xfce427(0x27d),_0xa78a62)['write']();const _0x2cf168=getTimeStamp()[_0xfce427(0x28d)]('\x20')[0x0];let _0x4ea709=dbPerformance[_0xfce427(0x1be)](_0xfce427(0x20c))[_0xfce427(0x121)]({'date':_0x2cf168})[_0xfce427(0x134)]();_0x4ea709?(_0x4ea709[_0xfce427(0x220)]+=_0x121b78,dbPerformance[_0xfce427(0x1be)](_0xfce427(0x20c))[_0xfce427(0x121)]({'date':_0x2cf168})['assign'](_0x4ea709)['write']()):await storePerformance();const _0x3c8494=getNormalizedPerformance();emitPerformance(_0x3c8494);}async function validate24hChanges(){const _0x40ac4a=_0x32c3f4;for(const _0x55f446 of currentCoins){if(_0x55f446['coin']!=config['basecoin']){let _0x202b3b;_0x55f446['reverse']?_0x202b3b=formatResult((0x1/(gChange[_0x55f446[_0x40ac4a(0x265)]]/0x64+0x1)-0x1)*0x64,0x3):_0x202b3b=gChange[_0x55f446[_0x40ac4a(0x265)]],_0x202b3b<config[_0x40ac4a(0x1c6)]&&(logHistory(_0x40ac4a(0x19f),_0x55f446[_0x40ac4a(0x237)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x202b3b+'%'),logHistory('error',_0x40ac4a(0x1f8)),logHistory(_0x40ac4a(0x19f),_0x40ac4a(0x24b)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x32754b,_0x2f968f){const _0x5077d1=_0x32c3f4;if(!_0x32754b)return!![];const _0x2fa4a8=_0x2f968f[_0x5077d1(0x28d)]('.'),_0x3aa000=_0x32754b[_0x5077d1(0x28d)]('.');for(var _0x3c5bad=0x0;_0x3c5bad<_0x3aa000['length'];_0x3c5bad++){const _0x11abd1=~~_0x3aa000[_0x3c5bad],_0x1ef116=~~_0x2fa4a8[_0x3c5bad];if(_0x11abd1<_0x1ef116)return!![];if(_0x11abd1>_0x1ef116)return![];}return![];}async function oneTimeMigration(){const _0x4567cf=_0x32c3f4;let _0x3828b8=dbLogs[_0x4567cf(0x1be)](_0x4567cf(0x1e2))[_0x4567cf(0x134)]();if(isOlderVersion(_0x3828b8,_0x4567cf(0x166))){let _0x486b5c=[];const _0x441991=dbLogs['get'](_0x4567cf(0x163))['value']();_0x441991[_0x4567cf(0x201)](_0x56bee3=>{const _0x4647f7=_0x4567cf;_0x486b5c[_0x4647f7(0x198)]({'time':_0x56bee3[_0x4647f7(0x18a)],'type':_0x56bee3['type'],'event':_0x56bee3['event']});}),dbLogs[_0x4567cf(0x1be)](_0x4567cf(0x163))['assign'](_0x486b5c)[_0x4567cf(0x1ba)]();}let _0x2bc91a=dbConfig['get'](_0x4567cf(0x1e2))['value']();if(isOlderVersion(_0x2bc91a,'2.3.5')){let _0x7b2f6a=dbConfig[_0x4567cf(0x1be)](_0x4567cf(0x291))[_0x4567cf(0x121)]({'botID':botID})[_0x4567cf(0x134)]();if(_0x7b2f6a){let _0x3b7774=[];_0x7b2f6a['portfolio'][_0x4567cf(0x201)](_0x211644=>{const _0x4136aa=_0x4567cf;_0x3b7774[_0x4136aa(0x198)]({'coin':_0x211644['coin'],'number':_0x211644[_0x4136aa(0x174)],'price':_0x211644['startprice']}),delete _0x211644['startnumber'],delete _0x211644[_0x4136aa(0x1f6)];});if(_0x3b7774['length']!==0x0)fs[_0x4567cf(0x28a)](configbackuppath+('starting-balance-'+botID+_0x4567cf(0x1de)),JSON[_0x4567cf(0x204)](_0x3b7774,null,0x4),function(_0x5f0afe){if(_0x5f0afe){}});const _0x34b979=(_0x25b096,_0x20138e)=>{const _0x50a092=_0x4567cf;let _0x2df4ab=[];_0x20138e[_0x50a092(0x201)](_0x1732da=>{const _0x22885d=_0x50a092,_0x370ae2=_0x25b096['find'](_0x2c2bd5=>_0x2c2bd5[_0x22885d(0x237)]==_0x1732da[_0x22885d(0x237)]);if(!_0x370ae2)_0x2df4ab[_0x22885d(0x198)](_0x1732da);});let _0x2374ff=[];return _0x25b096[_0x50a092(0x201)](_0x42b80a=>{const _0x51c92d=_0x50a092,_0x3fb6b9=_0x20138e[_0x51c92d(0x121)](_0x40a3d1=>_0x40a3d1[_0x51c92d(0x237)]==_0x42b80a[_0x51c92d(0x237)]);if(!_0x3fb6b9||_0x3fb6b9[_0x51c92d(0x12b)]==0x0&&_0x42b80a[_0x51c92d(0x12b)]!=0x0)_0x2374ff['push'](_0x42b80a);}),{'missingDay1':_0x2df4ab,'notInDay2':_0x2374ff};},_0x12a8ea=dbPerformance['get'](_0x4567cf(0x20c))[_0x4567cf(0x184)]()[_0x4567cf(0x134)]();if(_0x12a8ea[_0x4567cf(0x2ad)]>0x1){const {missingDay1:_0x559943,notInDay2:_0x1d2133}=_0x34b979(_0x3b7774,_0x12a8ea[0x1][_0x4567cf(0x27d)]);_0x3b7774=[..._0x3b7774,..._0x559943],_0x1d2133[_0x4567cf(0x201)](_0x2ddb59=>{const _0x1926ef=_0x4567cf;let _0x42d1a6=_0x3b7774[_0x1926ef(0x1ab)](_0x551bb4=>_0x551bb4[_0x1926ef(0x237)]==_0x2ddb59['coin']);_0x42d1a6!=-0x1&&_0x3b7774[_0x1926ef(0x2ae)](_0x42d1a6,0x1);});}_0x3b7774[_0x4567cf(0x26a)]((_0x8e2f3c,_0x44dcc3)=>_0x8e2f3c[_0x4567cf(0x237)]>_0x44dcc3[_0x4567cf(0x237)]?0x1:_0x44dcc3['coin']>_0x8e2f3c[_0x4567cf(0x237)]?-0x1:0x0);let _0x3b6d57=[{'date':_0x7b2f6a[_0x4567cf(0x20b)],'changes':_0x3b7774}];_0x12a8ea[_0x4567cf(0x2ad)]>0x2&&_0x12a8ea[_0x4567cf(0x201)]((_0x13b6fb,_0x10bdde)=>{const _0x4c2197=_0x4567cf;if(_0x10bdde>0x0&&_0x10bdde<_0x12a8ea['length']-0x1){const {missingDay1:_0xf75ef9,notInDay2:_0xa1fe5b}=_0x34b979(_0x12a8ea[_0x10bdde][_0x4c2197(0x27d)],_0x12a8ea[_0x10bdde+0x1][_0x4c2197(0x27d)]);_0x3b7774=[],(_0xf75ef9[_0x4c2197(0x2ad)]!=0x0||_0xa1fe5b[_0x4c2197(0x2ad)]!=0x0)&&(_0xf75ef9[_0x4c2197(0x2ad)]!=0x0&&_0x3b7774[_0x4c2197(0x198)](..._0xf75ef9),_0xa1fe5b[_0x4c2197(0x2ad)]!=0x0&&(_0xa1fe5b[_0x4c2197(0x201)](_0x38a719=>{const _0x2ff6d4=_0x4c2197;_0x38a719['number']=-_0x38a719[_0x2ff6d4(0x12b)];}),_0x3b7774[_0x4c2197(0x198)](..._0xa1fe5b)),_0x3b7774[_0x4c2197(0x26a)]((_0x2a9b30,_0x466b40)=>_0x2a9b30['coin']>_0x466b40[_0x4c2197(0x237)]?0x1:_0x466b40[_0x4c2197(0x237)]>_0x2a9b30[_0x4c2197(0x237)]?-0x1:0x0),_0x3b6d57['push']({'date':_0x12a8ea[_0x10bdde+0x1]['date'],'changes':_0x3b7774}));}}),dbConfig[_0x4567cf(0x1be)](_0x4567cf(0x291))[_0x4567cf(0x121)]({'botID':botID})[_0x4567cf(0x253)]({..._0x7b2f6a,'liquidity':_0x3b6d57})[_0x4567cf(0x1ba)]();}}if(isOlderVersion(_0x2bc91a,_0x4567cf(0x13d))){let _0x2d6399=dbConfig[_0x4567cf(0x1be)](_0x4567cf(0x291))[_0x4567cf(0x121)]({'botID':botID})[_0x4567cf(0x134)]();if(_0x2d6399){const _0x176e04=_0x2d6399[_0x4567cf(0x267)],_0x505b15=_0x176e04?capitalize(_0x176e04):_0x4567cf(0x17b);dbConfig[_0x4567cf(0x1be)](_0x4567cf(0x291))[_0x4567cf(0x121)]({'botID':botID})[_0x4567cf(0x253)]({'exchange':_0x505b15})['write']();}}if(isOlderVersion(_0x2bc91a,'2.6.22')){let _0x17ba3b=dbConfig['get'](_0x4567cf(0x291))['find']({'botID':botID})[_0x4567cf(0x134)]();if(_0x17ba3b){const _0x2b977c=_0x17ba3b[_0x4567cf(0x2c1)],_0x5247a3=_0x2b977c?_0x4567cf(0x155):![];dbConfig['get']('bot')[_0x4567cf(0x121)]({'botID':botID})['assign']({'marketcapEnabled':_0x5247a3})[_0x4567cf(0x1ba)]();}}if(isOlderVersion(_0x2bc91a,_0x4567cf(0x2e2))){let _0xcddff1=dbConfig[_0x4567cf(0x1be)](_0x4567cf(0x291))[_0x4567cf(0x121)]({'botID':botID})[_0x4567cf(0x134)]();if(_0xcddff1){const _0x4aac58=_0xcddff1[_0x4567cf(0x169)],_0x39a0cc=_0x4aac58?_0x4567cf(0x2dc):![];dbConfig[_0x4567cf(0x1be)](_0x4567cf(0x291))[_0x4567cf(0x121)]({'botID':botID})[_0x4567cf(0x253)]({'autoliquidity':_0x39a0cc})[_0x4567cf(0x1ba)]();}}let _0x2e4490=dbPerformance[_0x4567cf(0x1be)](_0x4567cf(0x1e2))[_0x4567cf(0x134)]();isOlderVersion(_0x2e4490,_0x4567cf(0x166))&&setStartDatePerformance();let _0x2554f6=dbCoinResults[_0x4567cf(0x1be)](_0x4567cf(0x1e2))['value']();if(isOlderVersion(_0x2554f6,'2.7.1')){let _0x4fb6bc=dbCoinResults[_0x4567cf(0x1be)](_0x4567cf(0x27d))[_0x4567cf(0x134)]();if(_0x4fb6bc[_0x4567cf(0x2ad)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x1bff1e=_0x32c3f4;dbConfig[_0x1bff1e(0x1f1)](_0x1bff1e(0x1e2),serverversion)[_0x1bff1e(0x1ba)](),dbPerformance[_0x1bff1e(0x1f1)](_0x1bff1e(0x1e2),serverversion)[_0x1bff1e(0x1ba)](),dbLogs[_0x1bff1e(0x1f1)](_0x1bff1e(0x1e2),serverversion)[_0x1bff1e(0x1ba)](),dbCoinResults[_0x1bff1e(0x1f1)](_0x1bff1e(0x1e2),serverversion)['write']();}function getConfiguration(_0x4fe618){const _0x24ebd1=_0x32c3f4;let _0x3c5739=dbConfig[_0x24ebd1(0x1be)](_0x24ebd1(0x291))[_0x24ebd1(0x121)]({'botID':_0x4fe618})['value']();if(_0x3c5739){let _0x4ca692=![];typeof _0x3c5739[_0x24ebd1(0x225)]=='string'&&(_0x3c5739={..._0x3c5739,'threshold':Number(_0x3c5739[_0x24ebd1(0x225)])},_0x4ca692=!![]),_0x3c5739['change24h']==undefined&&(_0x3c5739={..._0x3c5739,'change24h':-0x14},_0x4ca692=!![]),_0x3c5739['fiat']==undefined&&(_0x3c5739={..._0x3c5739,'fiat':_0x24ebd1(0x15e)},_0x4ca692=!![]),_0x3c5739[_0x24ebd1(0x2db)]==undefined&&(_0x3c5739={..._0x3c5739,'onepagemode':settings['onepagemode']},_0x4ca692=!![]),_0x3c5739[_0x24ebd1(0x2da)]==undefined&&(_0x3c5739={..._0x3c5739,'colorscheme':_0x24ebd1(0x2a7)},_0x4ca692=!![]),_0x3c5739['autoliquidity']==undefined&&(_0x3c5739={..._0x3c5739,'autoliquidity':_0x24ebd1(0x2dc)},_0x4ca692=!![]),_0x3c5739[_0x24ebd1(0x284)]==undefined&&(_0x3c5739={..._0x3c5739,'marketcapApi':settings[_0x24ebd1(0x284)]?!![]:![]},_0x4ca692=!![]),_0x3c5739[_0x24ebd1(0x2c1)]==undefined&&(_0x3c5739={..._0x3c5739,'marketcapEnabled':![]},_0x4ca692=!![]),_0x3c5739[_0x24ebd1(0x18b)]==undefined&&(_0x3c5739={..._0x3c5739,'sandbox':![]},_0x4ca692=!![]),_0x4ca692&&(_0x3c5739={'botID':_0x3c5739['botID'],'exchange':_0x3c5739[_0x24ebd1(0x267)],'apiKey':_0x3c5739['apiKey'],'apiSecret':_0x3c5739['apiSecret'],'apiPassword':_0x3c5739[_0x24ebd1(0x2b9)],'basecoin':_0x3c5739[_0x24ebd1(0x2aa)],'botname':_0x3c5739[_0x24ebd1(0x1a2)],'showname':_0x3c5739[_0x24ebd1(0x2f1)],'threshold':_0x3c5739[_0x24ebd1(0x225)],'ordertype':_0x3c5739[_0x24ebd1(0x157)],'timeout':_0x3c5739[_0x24ebd1(0x2a0)],'fiat':_0x3c5739[_0x24ebd1(0x13c)],'startdate':_0x3c5739[_0x24ebd1(0x20b)],'recreate':_0x3c5739[_0x24ebd1(0x2ed)],'timeshift':_0x3c5739[_0x24ebd1(0x299)],'onepagemode':_0x3c5739[_0x24ebd1(0x2db)],'headless':_0x3c5739[_0x24ebd1(0x1bb)],'cooldown':_0x3c5739[_0x24ebd1(0x1c4)],'change24h':_0x3c5739['change24h'],'emojibuy':_0x3c5739[_0x24ebd1(0x2bd)],'emojisell':_0x3c5739[_0x24ebd1(0x243)],'colorscheme':_0x3c5739['colorscheme'],'marketcapApi':_0x3c5739[_0x24ebd1(0x284)],'marketcapEnabled':_0x3c5739['marketcapEnabled'],'sandbox':_0x3c5739[_0x24ebd1(0x18b)],'portfolio':_0x3c5739[_0x24ebd1(0x2f2)],'autoliquidity':_0x3c5739['autoliquidity'],'liquidity':_0x3c5739[_0x24ebd1(0x282)],'openOrders':_0x3c5739[_0x24ebd1(0x202)]},dbConfig[_0x24ebd1(0x1be)](_0x24ebd1(0x291))[_0x24ebd1(0x2cd)]()[_0x24ebd1(0x1ba)](),dbConfig['get']('bot')[_0x24ebd1(0x198)](_0x3c5739)[_0x24ebd1(0x1ba)]());}else _0x3c5739={'botID':_0x4fe618,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x24ebd1(0x28c)+_0x4fe618,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x24ebd1(0x2a7),'marketcapApi':settings[_0x24ebd1(0x284)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x24ebd1(0x2dc),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x3c5739;}function emittedConfiguration(){const _0x49dc09=_0x32c3f4;let _0x11fd36;if(config[_0x49dc09(0x189)]=='')_0x11fd36={...config,'configstate':'initial'};else config[_0x49dc09(0x189)]==_0x49dc09(0x2af)?_0x11fd36={...config,'configstate':_0x49dc09(0x1f4)}:(_0x11fd36={...config,'apiKey':'************','apiSecret':_0x49dc09(0x252)},config['apiPassword']&&(_0x11fd36[_0x49dc09(0x2b9)]=_0x49dc09(0x252)));return _0x11fd36[_0x49dc09(0x27f)]=enableFiatToggle,_0x11fd36;}function getSettings(){const _0x22244d=_0x32c3f4;return dbSettings['get'](_0x22244d(0x29c))[_0x22244d(0x134)]();}function getSecure(){const _0x193e57=_0x32c3f4;return dbSecure[_0x193e57(0x1be)](_0x193e57(0x15d))['value']()||{};}function updateTimeshift(_0x450b27){const _0xce21d=_0x32c3f4;let _0x29d60c=dbConfig[_0xce21d(0x1be)](_0xce21d(0x291))['find']({'botID':botID})[_0xce21d(0x134)]();_0x29d60c&&dbConfig[_0xce21d(0x1be)]('bot')[_0xce21d(0x121)]({'botID':botID})[_0xce21d(0x253)]({'timeshift':_0x450b27})[_0xce21d(0x1ba)](),config[_0xce21d(0x299)]=_0x450b27,proxyEmit(_0xce21d(0x20e),emittedConfiguration());}function updateOnepagemode(_0xdb46d8){const _0x2acd20=_0x32c3f4;let _0x6a32cb=dbConfig[_0x2acd20(0x1be)](_0x2acd20(0x291))[_0x2acd20(0x121)]({'botID':botID})[_0x2acd20(0x134)]();_0x6a32cb&&dbConfig[_0x2acd20(0x1be)]('bot')[_0x2acd20(0x121)]({'botID':botID})[_0x2acd20(0x253)]({'onepagemode':_0xdb46d8})[_0x2acd20(0x1ba)](),config[_0x2acd20(0x2db)]=_0xdb46d8,proxyEmit(_0x2acd20(0x20e),emittedConfiguration());}function updateMarketcapApi(_0x56d02f){const _0x3266c9=_0x32c3f4,_0x4188d2=_0x56d02f?!![]:![];let _0x202944=dbConfig[_0x3266c9(0x1be)](_0x3266c9(0x291))[_0x3266c9(0x121)]({'botID':botID})[_0x3266c9(0x134)]();_0x202944&&dbConfig['get']('bot')[_0x3266c9(0x121)]({'botID':botID})['assign']({'marketcapApi':_0x4188d2})[_0x3266c9(0x1ba)](),config[_0x3266c9(0x284)]=_0x4188d2,getMarketCap(),proxyEmit(_0x3266c9(0x20e),emittedConfiguration());}async function storeConfiguration(_0x2e84e3){const _0x345521=_0x32c3f4;logger[_0x345521(0x248)]('Saving\x20configuration');_0x2e84e3['configstate']&&delete _0x2e84e3[_0x345521(0x2b3)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x1ed91e=![],_0x3144c3=![],_0x5c6501=[];_0x2e84e3[_0x345521(0x2f2)][_0x345521(0x201)](_0x48623b=>{const _0x21d6dc=_0x345521;if(!_0x48623b[_0x21d6dc(0x20d)]&&_0x48623b[_0x21d6dc(0x237)]!=_0x2e84e3[_0x21d6dc(0x2aa)])_0x5c6501[_0x21d6dc(0x198)](_0x48623b['symbol']);}),_0x5c6501[_0x345521(0x201)](_0x179aa7=>{const _0x531802=_0x345521,_0x35d8ee=currentCoins['find'](_0x3b9095=>_0x3b9095[_0x531802(0x265)]==_0x179aa7);!_0x35d8ee&&(_0x1ed91e=!![]);}),currentCoins[_0x345521(0x201)](_0x389d1f=>{const _0xa8e81b=_0x345521;if(_0x389d1f[_0xa8e81b(0x237)]!=config[_0xa8e81b(0x2aa)]){const _0x250e1a=_0x5c6501['find'](_0x2c985b=>_0x2c985b==_0x389d1f[_0xa8e81b(0x265)]);!_0x250e1a&&(_0x1ed91e=!![]);}}),_0x2e84e3[_0x345521(0x2f2)]['forEach'](_0x38553a=>{const _0x32df5d=_0x345521,_0x248c3d=config['portfolio'][_0x32df5d(0x121)](_0x370766=>_0x370766[_0x32df5d(0x237)]==_0x38553a[_0x32df5d(0x237)]);if(_0x248c3d&&_0x38553a['offset']!=_0x248c3d[_0x32df5d(0x240)])_0x3144c3=!![];});let _0x5e2ddf=dbConfig['get'](_0x345521(0x291))[_0x345521(0x121)]({'botID':botID})[_0x345521(0x134)]();_0x2e84e3={..._0x2e84e3,'apiKey':decryptRSA(secure[_0x345521(0x19b)],_0x2e84e3['apiKey']),'apiSecret':decryptRSA(secure[_0x345521(0x19b)],_0x2e84e3[_0x345521(0x2f3)])};_0x2e84e3[_0x345521(0x2b9)]&&(_0x2e84e3[_0x345521(0x2b9)]=decryptRSA(secure[_0x345521(0x19b)],_0x2e84e3['apiPassword']));let _0x4f4c69=![];if(_0x5e2ddf){_0x2e84e3[_0x345521(0x189)]==_0x345521(0x252)?_0x2e84e3[_0x345521(0x189)]=config['apiKey']:_0x4f4c69=!![];_0x2e84e3[_0x345521(0x2f3)]==_0x345521(0x252)?_0x2e84e3['apiSecret']=config[_0x345521(0x2f3)]:_0x4f4c69=!![];if(_0x2e84e3[_0x345521(0x2b9)]==_0x345521(0x252))_0x2e84e3['apiPassword']=config[_0x345521(0x2b9)];else{if(_0x2e84e3['apiPassword'])_0x4f4c69=!![];}dbConfig[_0x345521(0x1be)](_0x345521(0x291))[_0x345521(0x121)]({'botID':botID})[_0x345521(0x253)](_0x2e84e3)[_0x345521(0x1ba)]();}else dbConfig[_0x345521(0x1be)](_0x345521(0x291))[_0x345521(0x198)](_0x2e84e3)[_0x345521(0x1ba)](),_0x4f4c69=!![],process[_0x345521(0x26e)]({'status':_0x345521(0x21f),'live':'running'},_0x29810c=>{});process[_0x345521(0x26e)]({'botname':_0x2e84e3[_0x345521(0x1a2)]},_0x501c1f=>{}),config={..._0x2e84e3},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x4f4c69)await reset(!![]);else _0x1ed91e||_0x3144c3?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x18826f){const _0x46991a=_0x32c3f4,_0x1cdaa5={...config,'headless':_0x18826f[_0x46991a(0x1bb)]};let _0x54ea7f=dbConfig[_0x46991a(0x1be)](_0x46991a(0x291))['find']({'botID':botID})[_0x46991a(0x134)]();_0x54ea7f&&dbConfig[_0x46991a(0x1be)](_0x46991a(0x291))[_0x46991a(0x121)]({'botID':botID})[_0x46991a(0x253)](_0x1cdaa5)[_0x46991a(0x1ba)](),config={..._0x1cdaa5},updateBotManager(),proxyEmit(_0x46991a(0x20e),emittedConfiguration());}async function storeFiat(_0x14dbf2){const _0x5c972f=_0x32c3f4,_0x120429={...config,'fiat':_0x14dbf2};let _0x4dd8ea=dbConfig[_0x5c972f(0x1be)]('bot')[_0x5c972f(0x121)]({'botID':botID})[_0x5c972f(0x134)]();_0x4dd8ea&&dbConfig[_0x5c972f(0x1be)](_0x5c972f(0x291))['find']({'botID':botID})['assign'](_0x120429)['write'](),config={..._0x120429},proxyEmit(_0x5c972f(0x20e),emittedConfiguration());}function resetHistory(){const _0x253daf=_0x32c3f4;logger[_0x253daf(0x22b)](_0x253daf(0x23c));try{if(fs[_0x253daf(0x25f)](path[_0x253daf(0x1ec)](configpath,'bot-'+botID+_0x253daf(0x125))))fs['unlinkSync'](path[_0x253daf(0x1ec)](configpath,_0x253daf(0x2d4)+botID+_0x253daf(0x125)));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+_0x253daf(0x208))))fs['unlinkSync'](path['join'](configpath,_0x253daf(0x2d4)+botID+_0x253daf(0x208)));if(fs['existsSync'](path['join'](configpath,_0x253daf(0x2d4)+botID+_0x253daf(0x167))))fs[_0x253daf(0x21b)](path[_0x253daf(0x1ec)](configpath,'bot-'+botID+_0x253daf(0x167)));}catch(_0x40e683){if(_0x40e683)logger[_0x253daf(0x22b)](_0x253daf(0x1c0),_0x40e683);}const _0x4873d3=getDate();let _0x24ff2c=[];currentCoins[_0x253daf(0x201)](_0x569e18=>{const _0x43531e=_0x253daf;_0x24ff2c[_0x43531e(0x198)]({'coin':_0x569e18[_0x43531e(0x237)],'number':_0x569e18[_0x43531e(0x12b)],'price':_0x569e18[_0x43531e(0x22e)]});});let _0x420947=dbConfig['get'](_0x253daf(0x291))['find']({'botID':botID})[_0x253daf(0x134)]();_0x420947&&(dbConfig[_0x253daf(0x1be)](_0x253daf(0x291))[_0x253daf(0x121)]({'botID':botID})[_0x253daf(0x253)]({'liquidity':[{'date':_0x4873d3,'changes':_0x24ff2c}]})[_0x253daf(0x1ba)](),config['liquidity']=[]),restartBot(!![]);}function noslash(_0x53859f){const _0x1bc955=_0x32c3f4;return _0x53859f[_0x1bc955(0x13a)]('/','');}function updateHighestFee(_0x58562b){const _0x37b000=_0x32c3f4;if(_0x58562b[_0x37b000(0x268)]){let _0x2c6cd7={'filled':_0x58562b[_0x37b000(0x2cc)]*_0x58562b[_0x37b000(0x1b4)],'amount':_0x58562b[_0x37b000(0x2cc)]*_0x58562b[_0x37b000(0x1b4)],'side':_0x58562b[_0x37b000(0x162)]==_0x37b000(0x1d9)?'buy':_0x37b000(0x1d9),'price':0x1/_0x58562b[_0x37b000(0x1b4)]};_0x58562b={..._0x58562b,..._0x2c6cd7};}const _0x4f152c=defaultFee*_0x58562b['filled']*_0x58562b[_0x37b000(0x1b4)];lastFees[_0x37b000(0x1ed)][_0x37b000(0x2ad)]===0x14&&lastFees[_0x37b000(0x1ed)][_0x37b000(0x171)](),lastFees['recent20'][_0x37b000(0x198)](_0x4f152c),lastFees[_0x37b000(0x2e0)]=Math[_0x37b000(0x16d)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x3c4c04){const _0x5617e7=_0x32c3f4;logger[_0x5617e7(0x248)](_0x5617e7(0x264)+_0x3c4c04[_0x5617e7(0x265)]+_0x5617e7(0x221)+_0x3c4c04[_0x5617e7(0x13e)]+_0x5617e7(0x221)+_0x3c4c04['filled']+_0x5617e7(0x17c)+_0x3c4c04[_0x5617e7(0x24c)]+'\x20|\x20'+_0x3c4c04['id']);let _0x3f985c=_0x3c4c04[_0x5617e7(0x13e)],_0x1d9188=![];currentCoins[_0x5617e7(0x201)](_0x6a055d=>{const _0x3e92af=_0x5617e7;_0x6a055d[_0x3e92af(0x265)]==_0x3c4c04[_0x3e92af(0x265)]&&(_0x1d9188=!![]);});if(!_0x1d9188)return;const _0x2fa7cb=currentCoins[_0x5617e7(0x121)](_0x407bf0=>_0x407bf0[_0x5617e7(0x265)]==_0x3c4c04['symbol']),_0x208035=_0x2fa7cb[_0x5617e7(0x237)],_0x57801a=_0xbde777=>{const _0x3df4c5=_0x5617e7,_0x827225=currentCoins[_0x3df4c5(0x121)](_0x3e1575=>_0x3e1575[_0x3df4c5(0x265)]==_0x3c4c04[_0x3df4c5(0x265)]);if(_0x827225)_0x827225[_0x3df4c5(0x24e)]=_0xbde777;};let _0x5f1b1c=![];for(const _0x28ba57 of lastOrders){const _0x3c2feb=0x64,_0xbe0287=0x1388;let _0x1bfa1b=0x0;while(!_0x28ba57[_0x5617e7(0x192)]&&_0x1bfa1b*_0x3c2feb<_0xbe0287){_0x1bfa1b++,await sleep(_0x3c2feb);}if(_0x1bfa1b>0x0)logger[_0x5617e7(0x248)]('Waited\x20'+_0x1bfa1b*_0x3c2feb/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x28ba57[_0x5617e7(0x192)]==_0x3c4c04['id']&&(_0x5f1b1c=!![]);}if(_0x3f985c==_0x5617e7(0x131)){_0x57801a(_0x5617e7(0x131));if(_0x3c4c04[_0x5617e7(0x2cc)]>0x0&&_0x3c4c04[_0x5617e7(0x2cc)]<_0x3c4c04['amount']){if(_0x5f1b1c){setBlockTransactionDetection(!![]),logger['debug']('1\x20-\x20partially\x20FILLED\x20('+_0x3c4c04[_0x5617e7(0x2cc)]+_0x5617e7(0x281)+_0x3c4c04['id']);const _0x36c2e4=await getCoins(balanceUpdateDelay,undefined,undefined,_0x208035);[currentCoins,currentCoinsAll]=_0x36c2e4,setBlockTransactionDetection(![]);}else logger[_0x5617e7(0x248)](_0x5617e7(0x215)+_0x3c4c04[_0x5617e7(0x2cc)]+_0x5617e7(0x18c)+_0x3c4c04['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x3f985c=='canceled'){_0x57801a('canceled'),lastOrders=lastOrders[_0x5617e7(0x154)](_0x4b8862=>_0x4b8862[_0x5617e7(0x265)]!=_0x3c4c04[_0x5617e7(0x265)]);const _0x3937d8=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3937d8,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x3f985c==_0x5617e7(0x262)){if(lastOrders)for(const _0x412c6a of lastOrders){if(_0x412c6a[_0x5617e7(0x192)]==_0x3c4c04['id']){logger[_0x5617e7(0x248)](_0x5617e7(0x1c1)+_0x3c4c04['id']),_0x5f1b1c=!![];if(_0x412c6a[_0x5617e7(0x2cc)]==0x0){setBlockTransactionDetection(!![]),logger['debug'](_0x5617e7(0x2c9)+_0x3c4c04['id']);if(_0x3c4c04[_0x5617e7(0x27e)])_0x412c6a[_0x5617e7(0x1b4)]=_0x3c4c04[_0x5617e7(0x27e)];else{if(_0x3c4c04[_0x5617e7(0x1b4)])_0x412c6a[_0x5617e7(0x1b4)]=_0x3c4c04[_0x5617e7(0x1b4)];else{}}_0x412c6a[_0x5617e7(0x2cc)]=_0x3c4c04['filled'],updateHighestFee(_0x412c6a);const _0x11e042=await getCoins(balanceUpdateDelay,undefined,undefined,_0x208035);[currentCoins,currentCoinsAll]=_0x11e042,setBlockTransactionDetection(![]),await validateOrders(),_0x57801a(_0x5617e7(0x2cc)),_0x412c6a[_0x5617e7(0x200)]={'currency':_0x3c4c04[_0x5617e7(0x200)]?_0x3c4c04[_0x5617e7(0x200)][_0x5617e7(0x1af)]:null,'cost':_0x3c4c04[_0x5617e7(0x200)]?_0x3c4c04[_0x5617e7(0x200)][_0x5617e7(0x227)]:0x0},await updatePnL(_0x412c6a);}}}!_0x5f1b1c&&(logger[_0x5617e7(0x248)](_0x5617e7(0x1e3)+_0x3c4c04['id']),_0x57801a(_0x5617e7(0x2cc)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x1fc876=JSON[_0x5617e7(0x205)](lastBalances[_0x5617e7(0x2f2)]);const _0x4f7acf=_0x1fc876[_0x5617e7(0x121)](_0x3df8ff=>_0x3df8ff[_0x5617e7(0x265)]==_0x3c4c04[_0x5617e7(0x265)]);if(_0x4f7acf){if(_0x3f985c=='open')_0x4f7acf[_0x5617e7(0x24e)]=_0x4f7acf[_0x5617e7(0x24e)]=='filled'?_0x5617e7(0x2cc):_0x5617e7(0x131);else{if(_0x3f985c==_0x5617e7(0x199))_0x4f7acf[_0x5617e7(0x24e)]=_0x4f7acf[_0x5617e7(0x24e)]==_0x5617e7(0x2cc)?_0x5617e7(0x2cc):_0x5617e7(0x199);else _0x3f985c==_0x5617e7(0x262)&&(_0x4f7acf['orderstatus']='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x5617e7(0x204)](_0x1fc876)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x412fa6=![];currentCoins['forEach'](_0x228f92=>{const _0x14c994=_0x21ff;_0x412fa6=allOpenOrders[_0x14c994(0x121)](_0x220ba1=>_0x220ba1[_0x14c994(0x265)]==_0x228f92[_0x14c994(0x265)]),_0x228f92['orderstatus']=_0x412fa6?_0x14c994(0x131):_0x14c994(0x274);});}async function fetchBalance(_0x3dfa4b=!![]){const _0x27a2a5=_0x32c3f4;let _0x3f576f,_0x2cbc2d,_0x17ca55,_0x4e948c=0x0;while(!_0x2cbc2d&&_0x4e948c<maxRetries){try{return _0x3f576f=await exchange[_0x27a2a5(0x2cb)](),_0x2cbc2d=_0x3f576f[_0x27a2a5(0x245)],_0x2cbc2d;}catch(_0x293237){_0x17ca55=_0x293237,_0x4e948c++,await sleep(retryInterval);}}return!_0x3dfa4b?handleErrorNoStop(_0x17ca55,_0x27a2a5(0x1d7)):await handleError(_0x17ca55,_0x27a2a5(0x1d7)),![];}async function getCoins(_0x2d88f2=0x0,_0x2387d3=!![],_0x3571b7=config[_0x32c3f4(0x2aa)],_0x52e4ad){const _0x4f27f4=_0x32c3f4;let _0x36daf9=[],_0x1ecf91=[],_0x57911c=[],_0x1c3213;if(_0x2d88f2)await sleep(_0x2d88f2);if(botPaused)return[currentCoins,currentCoinsAll];let _0xf910cf=![],_0x111b2c=0x0,_0x405b38,_0x35aaca;_0x52e4ad&&(_0x405b38=currentCoins[_0x4f27f4(0x121)](_0x27df07=>_0x27df07[_0x4f27f4(0x237)]==_0x52e4ad),_0x405b38&&(_0x35aaca=_0x405b38[_0x4f27f4(0x2ec)],delete _0x405b38[_0x4f27f4(0x2ec)]));while(!_0xf910cf){_0x1c3213=await fetchBalance(_0x2387d3);if(_0x1c3213){if(_0x52e4ad){if(_0x1c3213[_0x52e4ad]!=_0x35aaca)logger['debug'](_0x4f27f4(0x236)+_0x52e4ad+':\x20'+_0x1c3213[_0x52e4ad]+'\x20('+_0x35aaca+')'),_0xf910cf=!![];else{logger[_0x4f27f4(0x248)](_0x4f27f4(0x244)+_0x52e4ad+':\x20'+_0x1c3213[_0x52e4ad]+'\x20('+_0x35aaca+')'),_0x111b2c++;if(_0x111b2c<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x4f27f4(0x248)](_0x4f27f4(0x1d2)+_0x111b2c+'\x20attempts');break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0xdf8ad3,_0xe41261]of Object[_0x4f27f4(0x2e8)](_0x1c3213)){_0x57911c['push'](_0xdf8ad3);}config[_0x4f27f4(0x2f2)][_0x4f27f4(0x201)](_0x1e0be2=>{const _0x44f977=_0x4f27f4;!_0x57911c[_0x44f977(0x2f6)](_0x1e0be2[_0x44f977(0x237)])&&(_0x1c3213[_0x1e0be2['coin']]=0x0);});if(_0x3571b7=='')for(const [_0x13b549,_0x4168b4]of Object[_0x4f27f4(0x2e8)](_0x1c3213)){_0x4168b4!=0x0&&_0x36daf9[_0x4f27f4(0x198)]({'coin':_0x13b549});}else for(const [_0x270ae4,_0x10b258]of Object['entries'](_0x1c3213)){const _0x5554f7=config[_0x4f27f4(0x2f2)]['find'](_0x3d0e57=>_0x3d0e57[_0x4f27f4(0x237)]==_0x270ae4),_0x5a4c98=_0x270ae4+'/'+_0x3571b7,_0x42f5ee=_0x3571b7+'/'+_0x270ae4,_0x17d7f0=currentCoins[_0x4f27f4(0x121)](_0x41064f=>_0x41064f['coin']==_0x270ae4);if((_0x10b258!=0x0||_0x5554f7)&&(allSymbols[_0x4f27f4(0x2f6)](_0x5a4c98)||_0x270ae4==_0x3571b7))_0x17d7f0?_0x36daf9[_0x4f27f4(0x198)]({..._0x17d7f0,'number':Math[_0x4f27f4(0x16d)](_0x10b258+(_0x5554f7&&_0x5554f7[_0x4f27f4(0x240)]||0x0),0x0)}):_0x36daf9['push']({'coin':_0x270ae4,'symbol':_0x5a4c98,'reverse':![],'number':Math['max'](_0x10b258+(_0x5554f7&&_0x5554f7[_0x4f27f4(0x240)]||0x0),0x0),'orderstatus':'none'});else{if((_0x10b258!=0x0||_0x5554f7)&&allSymbols[_0x4f27f4(0x2f6)](_0x42f5ee))_0x17d7f0?_0x36daf9['push']({..._0x17d7f0,'number':Math[_0x4f27f4(0x16d)](_0x10b258+(_0x5554f7&&_0x5554f7[_0x4f27f4(0x240)]||0x0),0x0)}):_0x36daf9[_0x4f27f4(0x198)]({'coin':_0x270ae4,'symbol':_0x42f5ee,'reverse':!![],'number':Math[_0x4f27f4(0x16d)](_0x10b258+(_0x5554f7&&_0x5554f7[_0x4f27f4(0x240)]||0x0),0x0),'orderstatus':'none'});else _0x5554f7&&_0x36daf9['push']({'coin':_0x5554f7[_0x4f27f4(0x237)],'symbol':_0x5554f7[_0x4f27f4(0x265)],'reverse':_0x5554f7[_0x4f27f4(0x268)],'number':0x0,'orderstatus':_0x4f27f4(0x274)});}}return _0x36daf9[_0x4f27f4(0x26a)]((_0x48850c,_0x18ce21)=>_0x48850c[_0x4f27f4(0x1e9)]<_0x18ce21['delta']?0x1:_0x18ce21[_0x4f27f4(0x1e9)]<_0x48850c['delta']?-0x1:0x0),_0x1ecf91=cloneDeep(_0x36daf9),_0x36daf9=_0x36daf9[_0x4f27f4(0x154)](_0x417e1a=>{const _0x177ff2=_0x4f27f4,_0x3e1c61=config['portfolio'][_0x177ff2(0x121)](_0x2ae88d=>_0x2ae88d[_0x177ff2(0x237)]==_0x417e1a[_0x177ff2(0x237)]);return _0x3e1c61&&!_0x3e1c61['excluded'];}),[_0x36daf9,_0x1ecf91];}async function getOpenOrders(){const _0x43c386=_0x32c3f4;let _0x27be79;allOpenOrders=[];try{for(const _0x514cb4 of config[_0x43c386(0x2f2)]){!_0x514cb4[_0x43c386(0x20d)]&&_0x514cb4[_0x43c386(0x237)]!=config[_0x43c386(0x2aa)]&&(_0x27be79=await exchange[_0x43c386(0x183)](_0x514cb4[_0x43c386(0x265)]),_0x27be79[_0x43c386(0x2ad)]>0x0&&allOpenOrders['push'](_0x27be79[0x0]));}}catch(_0x552be2){await handleError(_0x552be2,_0x43c386(0x1f2));}}async function handleOpenOrders(_0x214711=0x0){const _0x1aa5b9=_0x32c3f4;allOpenOrders[_0x1aa5b9(0x2ad)]==0x0&&lockOrders==ORDERS[_0x1aa5b9(0x26f)]&&allOrdersPlaced&&(_0x214711==0x0?(logger[_0x1aa5b9(0x248)]('1\x20-\x20Handle\x20open\x20orders'),_0x214711++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x1aa5b9(0x248)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x1aa5b9(0x2d3))));}async function testAPI(){const _0x237614=_0x32c3f4;try{return await exchange[_0x237614(0x2cb)](),!![];}catch(_0x37de8c){loading['cancel']=!![],_0x37de8c[_0x237614(0x27c)]()[_0x237614(0x28e)]()['includes'](_0x237614(0x1c8))||_0x37de8c[_0x237614(0x27c)]()[_0x237614(0x28e)]()[_0x237614(0x2f6)](_0x237614(0x292))?(logHistory(_0x237614(0x19f),_0x237614(0x2ef)),loading[_0x237614(0x19f)]=_0x237614(0x16e)):handleErrorNoStop(_0x37de8c,_0x237614(0x249),!![]),logHistory(_0x237614(0x19f),_0x237614(0x2a5)),logHistory('error',_0x237614(0x1cc)+loadCoinsRetryInterval/0xea60+_0x237614(0x17d)),logger[_0x237614(0x248)](_0x237614(0x1ef),_0x37de8c),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x215521){const _0x185406=_0x32c3f4;logger[_0x185406(0x248)]('Test\x20new\x20API');const _0x73a9e0=ccxt[_0x185406(0x2f7)][_0x215521['exchange'][_0x185406(0x28e)]()],_0x5de543=new _0x73a9e0({'apiKey':_0x215521[_0x185406(0x189)],'secret':_0x215521['apiSecret'],'options':{'defaultType':_0x185406(0x2e5)}});if(_0x215521[_0x185406(0x2b9)])_0x5de543['password']=_0x215521[_0x185406(0x2b9)];if(_0x5de543[_0x185406(0x289)][_0x185406(0x18b)])_0x5de543[_0x185406(0x29e)](_0x215521[_0x185406(0x18b)]);if(_0x215521[_0x185406(0x267)][_0x185406(0x28e)]()=='bitvavo')_0x5de543[_0x185406(0x1dc)][_0x185406(0x120)]=operatorId;try{await _0x5de543[_0x185406(0x2cb)](),botPaused=![];}catch(_0x210bfd){logger[_0x185406(0x248)](_0x185406(0x152)+_0x210bfd[_0x185406(0x27c)]());throw _0x210bfd;}}function cloneDeep(_0x105760){const _0xfc92ca=_0x32c3f4;return JSON[_0xfc92ca(0x205)](JSON[_0xfc92ca(0x204)](_0x105760));}async function getPortfolio(_0x827263){const _0x150fba=_0x32c3f4;let _0x4a2c34=[],_0x5a0b6b=[],_0x2c9908=[],_0x157c9f;_0x827263[_0x150fba(0x189)]=decryptRSA(secure['privateKey'],_0x827263[_0x150fba(0x189)]),_0x827263[_0x150fba(0x2f3)]=decryptRSA(secure[_0x150fba(0x19b)],_0x827263['apiSecret']);if(_0x827263['apiPassword'])_0x827263['apiPassword']=decryptRSA(secure[_0x150fba(0x19b)],_0x827263[_0x150fba(0x2b9)]);if(_0x827263[_0x150fba(0x189)]!==_0x150fba(0x252)||_0x827263[_0x150fba(0x2f3)]!==_0x150fba(0x252)||_0x827263[_0x150fba(0x2b9)]&&_0x827263['apiPassword']!=='************'){if(config[_0x150fba(0x267)]){if(_0x827263[_0x150fba(0x189)]==_0x150fba(0x252))_0x827263[_0x150fba(0x189)]=config[_0x150fba(0x189)];if(_0x827263[_0x150fba(0x2f3)]==_0x150fba(0x252))_0x827263[_0x150fba(0x2f3)]=config['apiSecret'];if(_0x827263['apiPassword']==_0x150fba(0x252))_0x827263[_0x150fba(0x2b9)]=config['apiPassword'];}try{if(_0x827263[_0x150fba(0x241)])await testNewAPI(_0x827263);}catch(_0x2561c1){if(_0x2561c1[_0x150fba(0x27c)]()[_0x150fba(0x2f6)](_0x150fba(0x197))){logHistory(_0x150fba(0x19f),'Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x150fba(0x19f),_0x150fba(0x261)+_0x2561c1[_0x150fba(0x27c)]()),proxyEmit(_0x150fba(0x19d),![]);return;}else{if(_0x2561c1[_0x150fba(0x27c)]()['includes'](_0x150fba(0x28b))){logHistory(_0x150fba(0x19f),_0x150fba(0x272)),logHistory(_0x150fba(0x19f),'Error\x20details:\x20'+_0x2561c1['toString']()),proxyEmit(_0x150fba(0x19d),![]);return;}else{logHistory(_0x150fba(0x19f),_0x150fba(0x2f8)+_0x2561c1['toString']()),logger[_0x150fba(0x248)]('Error\x20details:',_0x2561c1),proxyEmit(_0x150fba(0x19d),![]);return;}}}exchange?updateExchange(_0x827263[_0x150fba(0x189)],_0x827263[_0x150fba(0x2f3)],_0x827263[_0x150fba(0x2b9)]):await initExchange(_0x827263[_0x150fba(0x267)],_0x827263['apiKey'],_0x827263[_0x150fba(0x2f3)],_0x827263[_0x150fba(0x2b9)],_0x827263['sandbox']);await loadSymbols();const _0x43085a=await getCoins(0x0,![],_0x827263[_0x150fba(0x2aa)]);_0x2c9908=cloneDeep(_0x43085a[0x1]);}else{const _0x365100=await getCoins();_0x2c9908=cloneDeep(_0x365100[0x1]);}if(_0x827263[_0x150fba(0x2aa)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x150fba(0x153),_0x2c9908);else{_0x2c9908[_0x150fba(0x201)](_0x4cf2ff=>{const _0x2e66c4=_0x150fba;if(_0x4cf2ff[_0x2e66c4(0x237)]!=_0x827263[_0x2e66c4(0x2aa)]&&allSymbols[_0x2e66c4(0x2f6)](_0x4cf2ff[_0x2e66c4(0x265)]))_0x4a2c34[_0x2e66c4(0x198)](_0x4cf2ff['symbol']);});if(_0x4a2c34['length']==0x0)logHistory(_0x150fba(0x19f),_0x150fba(0x17a));else{try{_0x5a0b6b=await getTickers(_0x4a2c34);}catch(_0x200f03){logHistory('error',_0x150fba(0x1da)),logger['debug'](_0x150fba(0x1ef),_0x200f03),proxyEmit(_0x150fba(0x19d),![]);return;}_0x2c9908['forEach'](_0x2c6d73=>{const _0x445a6f=_0x150fba;_0x2c6d73['coin']!=_0x827263[_0x445a6f(0x2aa)]?_0x5a0b6b[_0x2c6d73['symbol']]?_0x5a0b6b[_0x2c6d73[_0x445a6f(0x265)]][_0x445a6f(0x22e)]?_0x157c9f=_0x2c6d73[_0x445a6f(0x268)]?0x1/_0x5a0b6b[_0x2c6d73[_0x445a6f(0x265)]][_0x445a6f(0x22e)]:_0x5a0b6b[_0x2c6d73['symbol']]['last']:_0x157c9f=0x0:_0x157c9f=0x0:_0x157c9f=0x1,_0x2c6d73['price']=formatResult(_0x157c9f,0x8);}),await getMarketCap(_0x2c9908),proxyEmit('portfolio1',!![]),proxyEmit(_0x150fba(0x153),_0x2c9908);}}}function truncateTradeAmount(_0x5a2096,_0x288fe2){const _0x20cce4=_0x32c3f4;let _0x2dd696=0x0;try{_0x2dd696=exchange[_0x20cce4(0x2c3)](_0x5a2096,_0x288fe2);}catch(_0x3e3ac2){}return _0x2dd696;}function checkMinimums(_0x1c489f){const _0x4ecf9a=_0x32c3f4;let _0x29e500=!![];const _0x6d738e=!_0x1c489f[_0x4ecf9a(0x268)]?markets[_0x1c489f[_0x4ecf9a(0x265)]]['limits'][_0x4ecf9a(0x24c)][_0x4ecf9a(0x235)]:markets[_0x1c489f[_0x4ecf9a(0x265)]][_0x4ecf9a(0x234)][_0x4ecf9a(0x227)][_0x4ecf9a(0x235)],_0xfa8494=!_0x1c489f[_0x4ecf9a(0x268)]?markets[_0x1c489f[_0x4ecf9a(0x265)]][_0x4ecf9a(0x234)][_0x4ecf9a(0x227)][_0x4ecf9a(0x235)]:markets[_0x1c489f[_0x4ecf9a(0x265)]][_0x4ecf9a(0x234)][_0x4ecf9a(0x24c)][_0x4ecf9a(0x235)],_0x3f0d15=truncateTradeAmount(_0x1c489f[_0x4ecf9a(0x265)],_0x1c489f[_0x4ecf9a(0x190)]);_0x1c489f['trade']=_0x3f0d15;if(Math[_0x4ecf9a(0x122)](_0x3f0d15)<_0x6d738e)_0x29e500=![];if(Math['abs'](_0x3f0d15)*_0x1c489f[_0x4ecf9a(0x22e)]<_0xfa8494)_0x29e500=![];let _0x33085e='';if(_0x1c489f['side']==_0x4ecf9a(0x1d9)){let _0x1d5095=config[_0x4ecf9a(0x2f2)][_0x4ecf9a(0x121)](_0x1d5d63=>_0x1d5d63[_0x4ecf9a(0x237)]==_0x1c489f[_0x4ecf9a(0x237)]);_0x1d5095[_0x4ecf9a(0x240)]>0x0?Math['abs'](_0x3f0d15)>_0x1c489f[_0x4ecf9a(0x12b)]-_0x1d5095['offset']&&(_0x29e500=![],_0x33085e='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+_0x1d5095[_0x4ecf9a(0x237)]+_0x4ecf9a(0x24d)):Math[_0x4ecf9a(0x122)](_0x3f0d15)>_0x1c489f['number']&&(_0x29e500=![]);}if(_0x1c489f[_0x4ecf9a(0x162)]==_0x4ecf9a(0x1a8)){let _0x9efcaf=config[_0x4ecf9a(0x2f2)][_0x4ecf9a(0x121)](_0x55b1a2=>_0x55b1a2[_0x4ecf9a(0x237)]==config[_0x4ecf9a(0x2aa)]),_0xb93afc=currentCoins[_0x4ecf9a(0x121)](_0x2693e8=>_0x2693e8['coin']==config['basecoin']);_0x9efcaf[_0x4ecf9a(0x240)]>0x0?Math[_0x4ecf9a(0x122)](_0x3f0d15)*_0x1c489f[_0x4ecf9a(0x22e)]>_0xb93afc[_0x4ecf9a(0x12b)]-_0x9efcaf[_0x4ecf9a(0x240)]&&(_0x29e500=![],_0x33085e='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config[_0x4ecf9a(0x2aa)]+_0x4ecf9a(0x24d)):Math[_0x4ecf9a(0x122)](_0x3f0d15)*_0x1c489f[_0x4ecf9a(0x22e)]>_0xb93afc['number']&&(_0x29e500=![]);}return!_0x29e500&&_0x33085e&&!insufficientFundsWarningSent[_0x4ecf9a(0x2f6)](_0x1c489f['coin'])&&(logHistory(_0x4ecf9a(0x21e),_0x33085e),insufficientFundsWarningSent[_0x4ecf9a(0x198)](_0x1c489f[_0x4ecf9a(0x237)])),_0x29e500;}async function getBalances(_0x452fbc=!![]){const _0x3af977=_0x32c3f4;if(botPaused)return;let _0x23a7e7=0x0,_0xae0567;const _0x1c71a2=config['threshold'];if(config[_0x3af977(0x1bb)]&&config[_0x3af977(0x1c6)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x32eae1=>{const _0x2ae63c=_0x3af977;if(_0x32eae1[_0x2ae63c(0x237)]!=config[_0x2ae63c(0x2aa)]){let _0x46fa68=gTicker[noslash(_0x32eae1[_0x2ae63c(0x265)])];_0xae0567=_0x32eae1['reverse']?0x1/_0x46fa68:_0x46fa68;}else _0xae0567=0x1;let _0x47d89b=_0x32eae1[_0x2ae63c(0x12b)]*_0xae0567;_0x23a7e7+=_0x47d89b,_0x32eae1['last']=formatResult(Number(_0xae0567),0x8),_0x32eae1[_0x2ae63c(0x134)]=_0x47d89b;}),currentCoins[_0x3af977(0x201)](_0x3f5365=>{const _0x3f0a5d=_0x3af977;let _0x5274e9=config[_0x3f0a5d(0x2f2)][_0x3f0a5d(0x121)](_0x1067d4=>_0x1067d4['coin']==_0x3f5365['coin']),_0x374788=Number(_0x5274e9[_0x3f0a5d(0x1f9)]),_0x5e1fc4=_0x3f5365[_0x3f0a5d(0x134)]/_0x23a7e7*0x64,_0x373eb9=_0x374788*_0x23a7e7/0x64/_0x3f5365[_0x3f0a5d(0x22e)]-_0x3f5365[_0x3f0a5d(0x12b)];_0x3f5365[_0x3f0a5d(0x1f9)]=formatResult(_0x5e1fc4,0x3),_0x3f5365['target']=formatResult(_0x374788,0x3),_0x3f5365[_0x3f0a5d(0x190)]=formatResult(_0x373eb9,0x8),_0x3f5365['side']='',_0x3f5365[_0x3f0a5d(0x214)]=![];if(_0x3f5365[_0x3f0a5d(0x237)]!=config[_0x3f0a5d(0x2aa)]){if(_0x3f5365[_0x3f0a5d(0x1f9)]>_0x374788)_0x3f5365['side']='sell',_0x3f5365[_0x3f0a5d(0x214)]=checkMinimums(_0x3f5365);else _0x3f5365[_0x3f0a5d(0x1f9)]<_0x374788&&(_0x3f5365[_0x3f0a5d(0x162)]=_0x3f0a5d(0x1a8),_0x3f5365[_0x3f0a5d(0x214)]=checkMinimums(_0x3f5365));}_0x3f5365[_0x3f0a5d(0x1e9)]=_0x3f5365[_0x3f0a5d(0x29b)]==0x0?0x270f:_0x3f5365['distribution']/_0x3f5365['target']-0x1;if(_0x3f5365[_0x3f0a5d(0x24e)]==_0x3f0a5d(0x2cc)||_0x3f5365[_0x3f0a5d(0x24e)]==_0x3f0a5d(0x199))_0x3f5365[_0x3f0a5d(0x24e)]=_0x3f0a5d(0x274);}),currentCoins[_0x3af977(0x26a)]((_0x2a4d8a,_0x266510)=>_0x2a4d8a[_0x3af977(0x1e9)]<_0x266510[_0x3af977(0x1e9)]?0x1:_0x266510['delta']<_0x2a4d8a[_0x3af977(0x1e9)]?-0x1:0x0);const _0x4cb4a0=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4cb4a0['eur'],'usd':_0x4cb4a0[_0x3af977(0x286)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x1c71a2},proxyEmit(_0x3af977(0x229),{'serverversion':serverversion,'balances':lastBalances});if(_0x452fbc){if(config[_0x3af977(0x1bb)])headlessMode({'portfolio':currentCoins,'threshold':_0x1c71a2});else lockOrders==ORDERS[_0x3af977(0x25e)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x1c71a2});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x19d7c1=getNormalizedPerformance();getStartingBalances(_0x19d7c1),emitPerformance(_0x19d7c1);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x250a2d=_0x32c3f4;let _0xdc1b1c=dbCoinResults[_0x250a2d(0x1be)]('coins')[_0x250a2d(0x134)](),_0x4d3dc9=0x0;return Object[_0x250a2d(0x2e8)](_0xdc1b1c)['forEach'](([_0x34d6ab,_0x12c9c8])=>{const _0x1f96eb=_0x250a2d;_0x4d3dc9+=_0x12c9c8[_0x1f96eb(0x148)];}),_0x4d3dc9;}async function storePerformance(){const _0x441459=_0x32c3f4;if(!lastBalances)return;let _0x3ff416=[],_0x41c7f4;const _0x140465=getPnL();let _0x4b5688=JSON[_0x441459(0x205)](lastBalances[_0x441459(0x2f2)]);_0x4b5688[_0x441459(0x26a)]((_0x3bb7c3,_0xa4cb49)=>_0x3bb7c3[_0x441459(0x237)]>_0xa4cb49[_0x441459(0x237)]?0x1:_0xa4cb49[_0x441459(0x237)]>_0x3bb7c3[_0x441459(0x237)]?-0x1:0x0),_0x4b5688[_0x441459(0x201)](_0x414805=>{const _0x37d86b=_0x441459;let _0x7576b1={'coin':_0x414805[_0x37d86b(0x237)],'number':_0x414805[_0x37d86b(0x12b)],'price':_0x414805[_0x37d86b(0x22e)]};_0x3ff416['push'](_0x7576b1);});const _0x527ec6=await getFiat(),_0x12f9d2=getTimeStamp()[_0x441459(0x28d)]('\x20')[0x0],_0x1c3663=dbPerformance['get'](_0x441459(0x20c))[_0x441459(0x121)]({'date':_0x12f9d2})[_0x441459(0x134)]();_0x41c7f4={'date':_0x12f9d2,'eur':_0x527ec6['eur'],'usd':_0x527ec6['usd'],'coins':_0x3ff416,'pnl':_0x140465},_0x1c3663?_0x41c7f4[_0x441459(0x2d5)]!=config[_0x441459(0x20b)]&&dbPerformance[_0x441459(0x1be)](_0x441459(0x20c))[_0x441459(0x121)]({'date':_0x12f9d2})['assign'](_0x41c7f4)[_0x441459(0x1ba)]():dbPerformance[_0x441459(0x1be)]('data')['push'](_0x41c7f4)[_0x441459(0x1ba)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x21f9ae=_0x32c3f4;let _0x1cfafa=[];if(dbPerformance[_0x21f9ae(0x289)](_0x21f9ae(0x20c))[_0x21f9ae(0x134)]()){let _0x4fd6ea=dbPerformance[_0x21f9ae(0x1be)](_0x21f9ae(0x20c))[_0x21f9ae(0x184)]()[_0x21f9ae(0x154)](_0x2216f7=>{const _0x478319=_0x21f9ae;if(_0x2216f7[_0x478319(0x27d)][_0x478319(0x2ad)]==0x0)return![];else return!![];})['sortBy'](_0x21f9ae(0x2d5))['value'](),_0x28707e=[...config[_0x21f9ae(0x282)]];_0x28707e[_0x21f9ae(0x26a)]((_0x5c133a,_0x3e4c10)=>_0x5c133a[_0x21f9ae(0x2d5)]>_0x3e4c10[_0x21f9ae(0x2d5)]?-0x1:_0x3e4c10['date']>_0x5c133a[_0x21f9ae(0x2d5)]?0x1:0x0);let _0x125a7c=0x1,_0xa0115c=[],_0x55531b=0x0;_0x4fd6ea['slice']()[_0x21f9ae(0x268)]()[_0x21f9ae(0x201)]((_0x1d3c98,_0x58c29a)=>{const _0x5ef272=_0x21f9ae;if(_0x28707e[_0x55531b]){if(_0x4fd6ea[_0x4fd6ea['length']-_0x58c29a]&&_0x28707e[_0x55531b][_0x5ef272(0x2d5)]==_0x4fd6ea[_0x4fd6ea[_0x5ef272(0x2ad)]-_0x58c29a]['date']){if(_0x58c29a<_0x4fd6ea[_0x5ef272(0x2ad)]){let _0x3f5ba2=0x0,_0x2d9571=0x0;_0x4fd6ea[_0x4fd6ea[_0x5ef272(0x2ad)]-_0x58c29a][_0x5ef272(0x27d)][_0x5ef272(0x201)](_0x31de6f=>{const _0x5f3666=_0x5ef272;_0x2d9571+=_0x31de6f['number']*_0x31de6f[_0x5f3666(0x1b4)];}),_0x28707e[_0x55531b][_0x5ef272(0x124)][_0x5ef272(0x201)](_0x156fd2=>{const _0x87200d=_0x5ef272;_0x3f5ba2+=_0x156fd2[_0x87200d(0x12b)]*_0x156fd2[_0x87200d(0x1b4)];}),_0x125a7c*=_0x3f5ba2/(_0x2d9571-_0x3f5ba2)+0x1;}_0x55531b++;}}let _0x34b9fb=0x0;_0x1d3c98['coins']['forEach'](_0xccaa04=>{const _0x5e2999=_0x5ef272;_0x34b9fb+=_0xccaa04['number']*_0xccaa04[_0x5e2999(0x1b4)];}),_0xa0115c[_0x4fd6ea[_0x5ef272(0x2ad)]-_0x58c29a-0x1]=_0x34b9fb*(_0x125a7c-0x1);});let _0x238dc3=[];_0x28707e=[...config['liquidity']]||[];let _0x32d4cf=0x0;_0x55531b=0x0,_0x4fd6ea[_0x21f9ae(0x201)]((_0x23098d,_0x340a6c)=>{const _0x2345a9=_0x21f9ae;if(_0x28707e[_0x55531b]){const _0x12f100=fns[_0x2345a9(0x205)](_0x28707e[_0x55531b][_0x2345a9(0x2d5)],_0x2345a9(0x2a6),new Date()),_0x5663ff=fns['parse'](_0x23098d[_0x2345a9(0x2d5)],_0x2345a9(0x2a6),new Date());if(fns['isEqual'](_0x12f100,_0x5663ff)){let _0x11e849=0x0;_0x28707e[_0x55531b]['changes']['forEach'](_0x37a51d=>{const _0x3baac7=_0x2345a9;!_0x238dc3[_0x37a51d['coin']]?_0x238dc3[_0x37a51d[_0x3baac7(0x237)]]=_0x37a51d[_0x3baac7(0x12b)]:(_0x11e849=_0x238dc3[_0x37a51d[_0x3baac7(0x237)]],_0x238dc3[_0x37a51d[_0x3baac7(0x237)]]+=_0x37a51d[_0x3baac7(0x12b)]);const _0x1a4535=_0x23098d[_0x3baac7(0x27d)][_0x3baac7(0x121)](_0x32b86a=>_0x32b86a[_0x3baac7(0x237)]==_0x37a51d[_0x3baac7(0x237)]);(!_0x1a4535||_0x1a4535[_0x3baac7(0x12b)]==0x0)&&(_0x32d4cf+=(-_0x37a51d[_0x3baac7(0x12b)]-_0x11e849)*_0x37a51d[_0x3baac7(0x1b4)]);}),_0x55531b++;}}_0x23098d['coins']['forEach']((_0x4658be,_0x47bf3c)=>{const _0x30ca75=_0x2345a9;_0x238dc3[_0x4658be[_0x30ca75(0x237)]]&&(_0x4658be[_0x30ca75(0x1e6)]=_0x238dc3[_0x4658be[_0x30ca75(0x237)]]);}),_0x1cfafa[_0x2345a9(0x198)]({'date':_0x23098d['date'],'eur':_0x23098d[_0x2345a9(0x1db)],'usd':_0x23098d[_0x2345a9(0x286)],'offset':_0xa0115c[_0x340a6c],'netoffset':_0x32d4cf,'coins':_0x23098d[_0x2345a9(0x27d)],'pnl':_0x23098d[_0x2345a9(0x220)]});});}return _0x1cfafa;}function emitPerformance(_0x1538dc){const _0x300463=_0x32c3f4;_0x1538dc['length']!==0x0?(proxyEmit(_0x300463(0x29a),_0x1538dc),lastPerformanceEmitted=getDate()):proxyEmit(_0x300463(0x29a),[]);}function getPerf(_0xe54c09,_0x4a471d){const _0x3b8e66=_0x32c3f4;let _0x507352=0x0,_0x25e564=0x0,_0x322d7d=0x0;_0xe54c09['coins'][_0x3b8e66(0x201)](_0x2649de=>{const _0x8ce9c5=_0x3b8e66;_0x507352+=_0x2649de[_0x8ce9c5(0x12b)]*_0x2649de[_0x8ce9c5(0x1b4)];});_0x4a471d&&(_0x507352+=_0xe54c09[_0x3b8e66(0x240)]);if(config[_0x3b8e66(0x2aa)]===_0x3b8e66(0x1f3)||config[_0x3b8e66(0x2aa)]==='ETH'||config['basecoin']==='PAXG')_0x25e564=_0x507352*_0xe54c09[_0x3b8e66(0x1db)],_0x322d7d=_0x507352*_0xe54c09[_0x3b8e66(0x286)];else{if(usdBasecoins[_0x3b8e66(0x2f6)](config[_0x3b8e66(0x2aa)]))_0x25e564=_0x507352*_0xe54c09[_0x3b8e66(0x1db)]/_0xe54c09[_0x3b8e66(0x286)],_0x322d7d=_0x507352;else config[_0x3b8e66(0x2aa)]===_0x3b8e66(0x132)&&(_0x25e564=_0x507352,_0x322d7d=_0x507352*_0xe54c09['usd']/_0xe54c09[_0x3b8e66(0x1db)]);}return[_0x507352,_0x25e564,_0x322d7d];}function CurrencyFactor(_0x2f42aa,_0x156c63,_0x5937be){const _0x44d0ab=_0x32c3f4;let _0x3c3357;if(_0x156c63===_0x44d0ab(0x1f3)||_0x156c63===_0x44d0ab(0x1d8)||_0x156c63===_0x44d0ab(0x2de))_0x3c3357=_0x5937be==='EUR'?_0x2f42aa[_0x44d0ab(0x1db)]:_0x2f42aa['usd'];else{if(usdBasecoins[_0x44d0ab(0x2f6)](_0x156c63))_0x3c3357=_0x5937be==='EUR'?_0x2f42aa[_0x44d0ab(0x1db)]/_0x2f42aa[_0x44d0ab(0x286)]:0x1;else _0x156c63===_0x44d0ab(0x132)&&(_0x3c3357=_0x5937be===_0x44d0ab(0x132)?0x1:_0x2f42aa[_0x44d0ab(0x286)]/_0x2f42aa[_0x44d0ab(0x1db)]);}return _0x3c3357;}function getKPIs(_0x1239cb,_0x575b0d=_0x32c3f4(0x132)){const _0x22030a=_0x32c3f4,_0x1a8359=config['basecoin'],_0x43ad67=lastBalances,_0x21eb05=currentCoins,_0x3205a2=getNormalizedPerformance(),_0x38c265=CurrencyFactor(_0x43ad67,config['basecoin'],_0x575b0d);let _0x4f83e6=0x0;_0x21eb05[_0x22030a(0x201)](_0x478d0a=>{const _0x594e31=_0x22030a;_0x4f83e6+=_0x478d0a[_0x594e31(0x12b)]*_0x478d0a[_0x594e31(0x22e)];});_0x1239cb[_0x22030a(0x2f6)](_0x22030a(0x13c))&&(_0x4f83e6*=_0x38c265);let _0xad3a76;if(_0x4f83e6!==0x0){if(_0x1239cb===_0x22030a(0x2aa)||_0x1239cb===_0x22030a(0x13c)){if(_0x1239cb===_0x22030a(0x2aa))_0xad3a76=(_0x4f83e6/startingBalances[_0x22030a(0x2aa)]-0x1)*0x64;else{if(_0x575b0d===_0x22030a(0x132))_0xad3a76=(_0x4f83e6/startingBalances[_0x22030a(0x1db)]-0x1)*0x64;else _0xad3a76=(_0x4f83e6/startingBalances[_0x22030a(0x286)]-0x1)*0x64;}}if(_0x1239cb[_0x22030a(0x2f6)](_0x22030a(0x25a))){let _0x2e6ae8=0x0;if(startingBalances[_0x22030a(0x27d)])_0x21eb05[_0x22030a(0x201)](_0x464c2e=>{const _0x2ec45e=_0x22030a;let _0x30243f=startingBalances[_0x2ec45e(0x27d)][_0x2ec45e(0x121)](_0xdd8fe=>_0xdd8fe[_0x2ec45e(0x237)]===_0x464c2e[_0x2ec45e(0x237)]);if(_0x30243f&&_0x30243f[_0x2ec45e(0x237)]&&_0x464c2e[_0x2ec45e(0x12b)]!==0x0)_0x2e6ae8+=_0x30243f[_0x2ec45e(0x12b)]*_0x464c2e[_0x2ec45e(0x22e)];});let _0x4dd662=0x0;if(_0x3205a2[_0x22030a(0x2ad)]!==0x0){let _0x1488f8=_0x3205a2[_0x3205a2['length']-0x1];_0x4dd662=_0x1488f8[_0x22030a(0x19a)];}_0x2e6ae8-=_0x4dd662;let _0x4b3ccc;_0x1239cb==='net-basecoin'&&(_0x4b3ccc=startingBalances[_0x22030a(0x2aa)]),_0x1239cb===_0x22030a(0x2b8)&&(_0x4b3ccc=_0x575b0d===_0x22030a(0x132)?startingBalances[_0x22030a(0x1db)]:startingBalances[_0x22030a(0x286)],_0x2e6ae8*=_0x38c265),_0xad3a76=(_0x4f83e6-_0x2e6ae8)/_0x4b3ccc*0x64,_0x4f83e6=_0x4f83e6-_0x2e6ae8;}if(_0x1239cb['includes'](_0x22030a(0x220))){if(_0x3205a2[_0x22030a(0x2ad)]!==0x0&&_0x21eb05[_0x22030a(0x2ad)]!==0x0){let _0x192927,_0x4703f5=_0x3205a2[_0x3205a2[_0x22030a(0x2ad)]-0x1][_0x22030a(0x220)];_0x1239cb[_0x22030a(0x2f6)]('fiat')?(_0x192927=_0x575b0d==='EUR'?startingBalances['eur']:startingBalances[_0x22030a(0x286)],_0x4703f5*=CurrencyFactor(_0x43ad67,_0x1a8359,_0x575b0d)):_0x192927=startingBalances[_0x22030a(0x2aa)],_0xad3a76=_0x4703f5/_0x192927*0x64,_0x4f83e6=_0x4703f5;}}if(_0xad3a76){if(_0xad3a76<0x64)_0xad3a76=_0xad3a76[_0x22030a(0x1fc)](0x2);else{if(_0xad3a76<0x3e8)_0xad3a76=_0xad3a76[_0x22030a(0x1fc)](0x1);else _0xad3a76=_0xad3a76['toFixed'](0x0);}}else _0xad3a76=Number('0')['toFixed'](0x2);if(_0x4f83e6){if(Math['abs'](_0x4f83e6)<0.000001)_0x4f83e6=_0x4f83e6['toFixed'](0x2);else{if(Math['abs'](_0x4f83e6)<0.1)_0x4f83e6=_0x4f83e6['toFixed'](0x6);else{if(Math[_0x22030a(0x122)](_0x4f83e6)<0x1)_0x4f83e6=_0x4f83e6[_0x22030a(0x1fc)](0x5);else{if(Math[_0x22030a(0x122)](_0x4f83e6)<0xa)_0x4f83e6=_0x4f83e6[_0x22030a(0x1fc)](0x4);else{if(Math[_0x22030a(0x122)](_0x4f83e6)<0x64)_0x4f83e6=_0x4f83e6[_0x22030a(0x1fc)](0x3);else{if(Math['abs'](_0x4f83e6)<0x3e8)_0x4f83e6=_0x4f83e6[_0x22030a(0x1fc)](0x2);else _0x4f83e6=_0x4f83e6[_0x22030a(0x1fc)](0x2);}}}}}}else _0x4f83e6=Number('0')[_0x22030a(0x1fc)](0x2);}else _0xad3a76=Number('0')[_0x22030a(0x1fc)](0x2);if(_0xad3a76>=0x0)_0xad3a76='+'+_0xad3a76;return{'value':_0x4f83e6,'change':_0xad3a76};}async function getStartingBalances(_0x3c1797,_0x2e2070=!![]){const _0x1082ec=_0x32c3f4;if(_0x3c1797[_0x1082ec(0x2ad)]!==0x0){const [_0x111120,_0x5714bf,_0x66bcfe]=getPerf(_0x3c1797[0x0],!![]);let _0x2d5736=[];config[_0x1082ec(0x2f2)][_0x1082ec(0x201)](_0x294fb1=>{const _0x3a6a0f=_0x1082ec;let _0x1b1130=0x0,_0x39059f;config[_0x3a6a0f(0x282)][_0x3a6a0f(0x201)](_0x434b12=>{const _0x5aa246=_0x3a6a0f;let _0xafc74f=_0x434b12['changes'][_0x5aa246(0x121)](_0x2d6128=>_0x2d6128[_0x5aa246(0x237)]==_0x294fb1[_0x5aa246(0x237)]);if(_0xafc74f){_0x1b1130+=_0xafc74f[_0x5aa246(0x12b)];if(!_0x39059f)_0x39059f=_0xafc74f[_0x5aa246(0x1b4)];}}),_0x2d5736[_0x3a6a0f(0x198)]({'coin':_0x294fb1[_0x3a6a0f(0x237)],'number':_0x1b1130,'initialprice':_0x39059f});});const _0x4bb4d9={'basecoin':_0x111120,'eur':_0x5714bf,'usd':_0x66bcfe,'coins':_0x2d5736};if(_0x2e2070)proxyEmit(_0x1082ec(0x147),_0x4bb4d9);startingBalances=_0x4bb4d9;}}function headlessMode(_0x14012c){const _0x4a864e=_0x32c3f4;let _0x13959e=_0x14012c[_0x4a864e(0x2f2)],_0x5b52de=_0x14012c[_0x4a864e(0x225)],_0x434953=[];for(let _0x54999f of _0x13959e){if(_0x54999f[_0x4a864e(0x237)]!=config[_0x4a864e(0x2aa)]){if(_0x54999f[_0x4a864e(0x1e9)]>=_0x5b52de/0x64){if(_0x54999f[_0x4a864e(0x214)])_0x434953['push'](_0x54999f);}else{if(_0x54999f[_0x4a864e(0x1e9)]<=-_0x5b52de/0x64){if(_0x54999f[_0x4a864e(0x214)])_0x434953[_0x4a864e(0x198)](_0x54999f);}}}}_0x434953[_0x4a864e(0x2ad)]>0x0&&placeOrder(_0x434953);}function notifyBalance(_0x460b52){const _0x1300c6=_0x32c3f4;let _0xc94f74=_0x460b52[_0x1300c6(0x2f2)],_0xc8081b=_0x460b52[_0x1300c6(0x225)],_0x5b4d45=[];for(let _0x4396f0 of _0xc94f74){if(_0x4396f0[_0x1300c6(0x237)]!=config['basecoin']){if(_0x4396f0['delta']>=_0xc8081b/0x64){if(_0x4396f0['valid'])_0x5b4d45[_0x1300c6(0x198)](_0x4396f0);}else{if(_0x4396f0[_0x1300c6(0x1e9)]<=-_0xc8081b/0x64){if(_0x4396f0[_0x1300c6(0x214)])_0x5b4d45[_0x1300c6(0x198)](_0x4396f0);}}}}if(_0x5b4d45[_0x1300c6(0x2ad)]>0x0){let _0x4f0ce6=_0x5b4d45[_0x1300c6(0x254)](_0x213571=>_0x213571['coin']);_0x4f0ce6[_0x1300c6(0x26a)]();let _0x23b521=_0x4f0ce6[_0x1300c6(0x1ec)](',\x20');if(!lastCoinsToBalance)logHistory(_0x1300c6(0x21e),_0x1300c6(0x213));lastCoinsToBalance=_0x23b521;}}function symbolToCoin(_0xaaccb7){const _0x5c28b1=_0x32c3f4;let _0x366b67;if(_0xaaccb7[_0x5c28b1(0x2f6)]('/'+config[_0x5c28b1(0x2aa)]))_0x366b67=_0xaaccb7[_0x5c28b1(0x13a)]('/'+config['basecoin'],'');if(_0xaaccb7[_0x5c28b1(0x2f6)](config[_0x5c28b1(0x2aa)]+'/'))_0x366b67=_0xaaccb7[_0x5c28b1(0x13a)](config[_0x5c28b1(0x2aa)]+'/','');return _0x366b67;}function setLockOrders(_0x21a598){const _0x48aa0b=_0x32c3f4;lockOrders=_0x21a598,logger[_0x48aa0b(0x248)]('Set\x20lock\x20orders\x20to:\x20'+Object[_0x48aa0b(0x2f0)](ORDERS)[lockOrders]);}async function unlockOrders(_0x1ac668=![]){const _0x12ca84=_0x32c3f4;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){setLockOrders(ORDERS[_0x12ca84(0x290)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x1ac668){const _0x3551d7=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3551d7,setBlockTransactionDetection(![]);}validateOrdersState=_0x12ca84(0x1e6),persistOpenOrders([]),setLockOrders(ORDERS[_0x12ca84(0x25e)]);}}async function validateOrders(_0x625798){const _0x289096=_0x32c3f4;if(_0x625798)validateOrdersState=_0x625798;logger[_0x289096(0x248)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x289096(0x216)+Object[_0x289096(0x2f0)](ORDERS)[lockOrders]);let _0x1aa9bd=[],_0x1aa6d9=config[_0x289096(0x157)]==_0x289096(0x1e1)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x289096(0x248)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState);for(let _0x1211b0=lastOrders[_0x289096(0x2ad)]-0x1;_0x1211b0>=0x0;_0x1211b0--){let _0x16f08a=lastOrders[_0x1211b0],_0x2729de=![];_0x16f08a[_0x289096(0x2cc)]>0x0&&(_0x2729de=!![]),_0x1aa9bd[_0x289096(0x198)](_0x2729de),_0x2729de&&config[_0x289096(0x157)]!=_0x289096(0x1e1)&&logHistory(_0x289096(0x15b),_0x289096(0x1dd)+_0x16f08a['symbol']+'\x20'+_0x16f08a[_0x289096(0x162)]+'\x20#'+formatResult(_0x16f08a[_0x289096(0x2cc)],0x8)+'\x20@'+formatResult(_0x16f08a[_0x289096(0x1b4)],0x8)),_0x2729de&&lastOrders[_0x289096(0x2ae)](_0x1211b0,0x1);}persistOpenOrders(lastOrders);const _0x2a62b9=coolingDown?_0x289096(0x14b):'balancing\x20resumed';if(validateOrdersState==_0x289096(0x1e6)){validateOrdersState=_0x289096(0x1cb);if(_0x1aa9bd['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x289096(0x1cb)){if(_0x1aa9bd[_0x289096(0x2f6)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x289096(0x186)){let _0x5e286b=!![];if(_0x1aa9bd[_0x289096(0x2f6)](![])){if(config[_0x289096(0x157)]==_0x289096(0x1e1))logHistory(_0x289096(0x1a4),_0x289096(0x127)+Math[_0x289096(0x1ff)](_0x1aa6d9*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x2a62b9),await unlockOrders(!![]);else{_0x5e286b=await cancelOrders();if(_0x5e286b)logHistory(_0x289096(0x1a4),_0x289096(0x203)+Math[_0x289096(0x1ff)](_0x1aa6d9*validateOrderInterval/0xea60)+_0x289096(0x195)+_0x2a62b9),await unlockOrders(!![]);else{validateOrdersState=_0x289096(0x1cb),logHistory(_0x289096(0x19f),'Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20'+Math['round'](_0x1aa6d9*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x2a62b9),logHistory(_0x289096(0x19f),_0x289096(0x159));const _0x45e214=config[_0x289096(0x157)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x45e214);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x289096(0x2d3)){if(config[_0x289096(0x157)]!=_0x289096(0x1e1))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x2a62b9);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x398c90=_0x32c3f4;let _0x176f94=!![],_0x15df7e;for(const _0x275697 of lastOrders){let _0x5ec122=![],_0x4c5afe=0x0;while(!_0x5ec122&&_0x4c5afe<maxRetries){try{const _0x2d872a=await exchange[_0x398c90(0x1fa)](_0x275697['orderId'],_0x275697[_0x398c90(0x265)]);_0x5ec122=!![];}catch(_0x2b4c43){_0x2b4c43['toString']()[_0x398c90(0x2f6)](_0x398c90(0x1b0))||_0x2b4c43[_0x398c90(0x27c)]()[_0x398c90(0x2f6)]('InvalidOrder')?_0x5ec122=!![]:(_0x15df7e=_0x2b4c43,_0x5ec122=![]);}!_0x5ec122&&(_0x4c5afe++,await sleep(retryInterval));}_0x176f94=_0x176f94&&_0x5ec122;}return!_0x176f94&&await handleError(_0x15df7e,_0x398c90(0x172)),_0x176f94;}async function initCoinResults(_0x4b5f5c){const _0x5989cb=_0x32c3f4;_0x4b5f5c?logger[_0x5989cb(0x248)]('Resetting\x20coin\x20results:\x20'+_0x4b5f5c):logger[_0x5989cb(0x248)](_0x5989cb(0x168)),config['portfolio'][_0x5989cb(0x201)](_0x3ef1f1=>{const _0x46a3a2=_0x5989cb;if(!_0x3ef1f1[_0x46a3a2(0x20d)]&&_0x3ef1f1[_0x46a3a2(0x237)]!=config[_0x46a3a2(0x2aa)]){const _0x501570=currentCoins[_0x46a3a2(0x121)](_0x21927a=>_0x21927a[_0x46a3a2(0x237)]==_0x3ef1f1['coin']),_0x3be779=gTicker[noslash(_0x3ef1f1[_0x46a3a2(0x265)])];let _0x52783d=_0x501570?_0x501570[_0x46a3a2(0x12b)]:null,_0x3b5e2d=_0x3ef1f1[_0x46a3a2(0x268)]?0x1/_0x3be779:_0x3be779,_0x12427a;config[_0x46a3a2(0x282)][_0x46a3a2(0x201)](_0x251573=>{const _0x4ab2bc=_0x46a3a2;!_0x12427a&&(_0x12427a=_0x251573['changes'][_0x4ab2bc(0x121)](_0x2cbc9c=>_0x2cbc9c[_0x4ab2bc(0x237)]==_0x3ef1f1[_0x4ab2bc(0x237)]),_0x12427a&&(_0x52783d=_0x12427a['number'],_0x3b5e2d=_0x12427a['price']));});let _0x5a17d8=dbCoinResults[_0x46a3a2(0x1be)](_0x46a3a2(0x27d))['find']({'coin':_0x3ef1f1['coin']})[_0x46a3a2(0x134)]();if(!_0x5a17d8){const _0x32680e={'coin':_0x3ef1f1['coin'],'number':_0x52783d,'breakeven':_0x3b5e2d,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x46a3a2(0x1be)]('coins')[_0x46a3a2(0x198)](_0x32680e)[_0x46a3a2(0x1ba)]();}else{if(_0x4b5f5c&&_0x3ef1f1[_0x46a3a2(0x237)]==_0x4b5f5c){const _0x300efa={'coin':_0x3ef1f1[_0x46a3a2(0x237)],'number':_0x52783d,'breakeven':_0x3b5e2d,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x46a3a2(0x1be)](_0x46a3a2(0x27d))['find']({'coin':_0x3ef1f1[_0x46a3a2(0x237)]})[_0x46a3a2(0x253)](_0x300efa)[_0x46a3a2(0x1ba)]();}}}});}async function placeOrder(_0x25c9ce){const _0x3fda39=_0x32c3f4,_0x3448df=config[_0x3fda39(0x157)]==_0x3fda39(0x1e1)?_0x3fda39(0x1e1):_0x3fda39(0x12d);if(lockOrders==ORDERS[_0x3fda39(0x25e)]&&!coolingDown){setLockOrders(ORDERS[_0x3fda39(0x26f)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x3fda39(0x248)](_0x3fda39(0x1d1)+_0x25c9ce['map'](_0x480a05=>_0x480a05[_0x3fda39(0x237)])[_0x3fda39(0x1ec)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x3fda39(0x1e6);let _0x19ead1=![];lastOrders=[];const _0x161c75=config[_0x3fda39(0x225)];for(const _0x21ac10 of _0x25c9ce){let _0x2a0f6d,_0x265ed6,_0x35af2c,_0x190cc2,_0x4bde2a,_0xf851d3=_0x21ac10[_0x3fda39(0x265)];logger['debug']('Trigger:\x20'+_0x21ac10[_0x3fda39(0x237)]+'\x20'+_0x21ac10[_0x3fda39(0x12b)]+'\x20'+_0x21ac10['last']+'\x20'+_0x21ac10[_0x3fda39(0x1f9)]+'%\x20'+_0x21ac10[_0x3fda39(0x29b)]+'%\x20'+(0x64*_0x21ac10['delta'])['toFixed'](0x2)+_0x3fda39(0x1c2)+_0x161c75[_0x3fda39(0x1fc)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x3fda39(0x154)](_0x3d787a=>_0x3d787a!==_0x21ac10[_0x3fda39(0x237)]);const _0x4fe776=currentCoins[_0x3fda39(0x121)](_0xe992cb=>_0xe992cb['coin']==_0x21ac10[_0x3fda39(0x237)]);_0x4fe776&&(_0x4fe776[_0x3fda39(0x2ec)]=_0x21ac10[_0x3fda39(0x12b)]);try{const _0x15caef=await exchange[_0x3fda39(0x22c)](_0xf851d3);_0x2a0f6d=_0x21ac10[_0x3fda39(0x268)]?0x1/_0x21ac10[_0x3fda39(0x22e)]:_0x21ac10[_0x3fda39(0x22e)],_0x265ed6=_0x15caef[_0x3fda39(0x211)],_0x35af2c=_0x15caef[_0x3fda39(0x1b1)];_0x21ac10[_0x3fda39(0x268)]?(_0x190cc2=_0x21ac10[_0x3fda39(0x162)]==_0x3fda39(0x1a8)?'sell':_0x3fda39(0x1a8),_0x4bde2a=Math[_0x3fda39(0x122)](_0x21ac10[_0x3fda39(0x190)])/_0x2a0f6d):(_0x190cc2=_0x21ac10[_0x3fda39(0x162)],_0x4bde2a=Math[_0x3fda39(0x122)](_0x21ac10[_0x3fda39(0x190)]));_0x3448df==_0x3fda39(0x12d)&&(config[_0x3fda39(0x157)]==_0x3fda39(0x1fd)&&(_0x2a0f6d=_0x190cc2==_0x3fda39(0x1a8)?_0x265ed6:_0x35af2c),config[_0x3fda39(0x157)]==_0x3fda39(0x158)&&(_0x2a0f6d=_0x190cc2==_0x3fda39(0x1a8)?_0x35af2c:_0x265ed6));_0x4bde2a=formatResult(_0x4bde2a,0x8),_0x2a0f6d=formatResult(_0x2a0f6d,0x8);const _0x365687=_0x190cc2=='sell'?config[_0x3fda39(0x243)]?String[_0x3fda39(0x287)]('0x'+config[_0x3fda39(0x243)])+'\x20':'':config['emojibuy']?String[_0x3fda39(0x287)]('0x'+config[_0x3fda39(0x2bd)])+'\x20':'',_0x427fef=_0x3448df==_0x3fda39(0x1e1)?_0x3fda39(0x1bf):config[_0x3fda39(0x157)]==_0x3fda39(0x1fd)?_0x3fda39(0x2f4):'Limit\x20(low-margin)',_0x212ca6=(Math[_0x3fda39(0x173)](Math[_0x3fda39(0x25d)]()*0x35a4e900)+0x5f5e100)[_0x3fda39(0x27c)]();lastOrders[_0x3fda39(0x198)]({'customId':_0x212ca6,'symbol':_0xf851d3,'coin':_0x21ac10[_0x3fda39(0x237)],'amount':_0x4bde2a,'price':_0x2a0f6d,'side':_0x190cc2,'reverse':_0x21ac10[_0x3fda39(0x268)],'filled':0x0});let _0x4c0f7e;_0x3448df==_0x3fda39(0x1e1)?_0x190cc2==_0x3fda39(0x1a8)&&[_0x3fda39(0x2e7),_0x3fda39(0x1ea),_0x3fda39(0x23e),'Gateio','Huobi',_0x3fda39(0x1e7)][_0x3fda39(0x2f6)](config[_0x3fda39(0x267)])?_0x4c0f7e=await exchange[_0x3fda39(0x26b)](_0xf851d3,_0x3448df,_0x190cc2,_0x4bde2a,_0x2a0f6d):_0x4c0f7e=await exchange[_0x3fda39(0x26b)](_0xf851d3,_0x3448df,_0x190cc2,_0x4bde2a,undefined):_0x4c0f7e=await exchange[_0x3fda39(0x26b)](_0xf851d3,_0x3448df,_0x190cc2,_0x4bde2a,_0x2a0f6d);const _0x1dcee5=lastOrders['length']-0x1;if(_0x1dcee5>=0x0&&lastOrders[_0x1dcee5][_0x3fda39(0x1c9)]==_0x212ca6){lastOrders[_0x1dcee5][_0x3fda39(0x192)]=_0x4c0f7e['id'];if(_0x4c0f7e[_0x3fda39(0x24c)])lastOrders[_0x1dcee5]['amount']=_0x4c0f7e[_0x3fda39(0x24c)];if(_0x4c0f7e['price'])lastOrders[_0x1dcee5][_0x3fda39(0x1b4)]=_0x4c0f7e[_0x3fda39(0x1b4)];lastOrders[_0x1dcee5][_0x3fda39(0x200)]=_0x4c0f7e[_0x3fda39(0x200)];}if(_0x4c0f7e[_0x3fda39(0x24c)])_0x4bde2a=_0x4c0f7e[_0x3fda39(0x24c)];if(_0x4c0f7e['price'])_0x2a0f6d=_0x4c0f7e[_0x3fda39(0x1b4)];if(_0x3448df=='market')logHistory(_0x3fda39(0x15b),''+_0x365687+_0x427fef+_0x3fda39(0x29f)+_0xf851d3+'\x20'+_0x190cc2+'\x20#'+formatResult(_0x4bde2a,0x8)+'\x20@'+formatResult(_0x2a0f6d,0x8));else logHistory(_0x3fda39(0x15b),''+_0x365687+_0x427fef+_0x3fda39(0x29f)+_0xf851d3+'\x20'+_0x190cc2+'\x20#'+formatResult(_0x4bde2a,0x8)+'\x20@'+formatResult(_0x2a0f6d,0x8));logger[_0x3fda39(0x248)](_0x3fda39(0x2a4)+_0x4c0f7e['id']+'\x20|\x20Custom\x20ID:\x20'+_0x212ca6);if(config[_0x3fda39(0x1c4)]!=0x0){let _0x4dd806=null;if(cooldownTracker['length']==config[_0x3fda39(0x1c4)]-0x1)_0x4dd806=cooldownTracker[_0x3fda39(0x171)]();const _0x3ec210=getTimeStamp();cooldownTracker[_0x3fda39(0x198)](_0x3ec210);if(_0x4dd806){const _0x4b816b=fns[_0x3fda39(0x2a1)](new Date(_0x3ec210),new Date(_0x4dd806));if(_0x4b816b<cooldownInterval){logHistory(_0x3fda39(0x19f),_0x3fda39(0x233)+config[_0x3fda39(0x1c4)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x3fda39(0x12e)),coolingDown=!![];break;}}}}catch(_0x5563fd){if(_0x5563fd[_0x3fda39(0x27c)]()['includes'](_0x3fda39(0x1a7)))lastOrders=lastOrders[_0x3fda39(0x154)](_0x293194=>_0x293194['symbol']!=_0xf851d3),logHistory(_0x3fda39(0x19f),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0xf851d3),_0x19ead1=!![];else{if(_0x5563fd['toString']()[_0x3fda39(0x2f6)](_0x3fda39(0x12c)))lastOrders=lastOrders[_0x3fda39(0x154)](_0x5c3bec=>_0x5c3bec[_0x3fda39(0x265)]!=_0xf851d3),logHistory(_0x3fda39(0x19f),_0x3fda39(0x1b2)+_0xf851d3),_0x19ead1=!![];else{if(_0x5563fd[_0x3fda39(0x27c)]()[_0x3fda39(0x2f6)](_0x3fda39(0x2e3)))lastOrders=lastOrders[_0x3fda39(0x154)](_0x4528c7=>_0x4528c7[_0x3fda39(0x265)]!=_0xf851d3),logHistory(_0x3fda39(0x19f),_0x3fda39(0x228)+_0xf851d3),logger['debug'](_0x5563fd),_0x19ead1=!![];else _0x5563fd[_0x3fda39(0x27c)]()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x3fda39(0x154)](_0xf828a8=>_0xf828a8['symbol']!=_0xf851d3),logHistory(_0x3fda39(0x19f),_0x3fda39(0x2d8)+_0xf851d3),_0x19ead1=!![]):(lastOrders=lastOrders[_0x3fda39(0x154)](_0x37496f=>_0x37496f[_0x3fda39(0x265)]!=_0xf851d3),await handleError(_0x5563fd,_0x3fda39(0x2b5),_0xf851d3));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x3fda39(0x2ad)]>0x0){const _0xe41943=config[_0x3fda39(0x157)]==_0x3fda39(0x1e1)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x9e7b9b=_0x3fda39;validateOrders(_0x9e7b9b(0x186));},_0xe41943);}else unlockOrders();_0x19ead1&&config[_0x3fda39(0x1bb)]&&(logHistory(_0x3fda39(0x19f),_0x3fda39(0x23f)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success','Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x3fda39(0x1bb)]&&logHistory('error',_0x3fda39(0x298));else lockOrders!=ORDERS[_0x3fda39(0x25e)]&&(!config['headless']&&(config[_0x3fda39(0x157)]==_0x3fda39(0x1e1)?logHistory(_0x3fda39(0x19f),_0x3fda39(0x275)):logHistory(_0x3fda39(0x19f),_0x3fda39(0x18e))));}}function persistOpenOrders(_0x4f9bec){const _0xcee752=_0x32c3f4,_0x3651d8={...config,'openOrders':_0x4f9bec};let _0x48fb4c=dbConfig[_0xcee752(0x1be)](_0xcee752(0x291))['find']({'botID':botID})['value']();_0x48fb4c&&dbConfig[_0xcee752(0x1be)](_0xcee752(0x291))[_0xcee752(0x121)]({'botID':botID})[_0xcee752(0x253)](_0x3651d8)[_0xcee752(0x1ba)]();}function restoreOrders(){const _0x49a25c=_0x32c3f4;let _0xc369c5;config[_0x49a25c(0x202)]&&allOpenOrders[_0x49a25c(0x201)](_0x2dd5e8=>{const _0x53d523=_0x49a25c,_0x28671e=config[_0x53d523(0x202)][_0x53d523(0x121)](_0xa3530d=>_0xa3530d[_0x53d523(0x192)]==_0x2dd5e8['id']);_0x28671e&&(lastOrders['push'](_0x28671e),_0xc369c5=_0x2dd5e8[_0x53d523(0x1c8)]);});if(lastOrders[_0x49a25c(0x2ad)]>0x0){setLockOrders(ORDERS[_0x49a25c(0x26f)]),validateOrdersState=_0x49a25c(0x1cb),allOrdersPlaced=!![];const _0x30cf1f=new Date()[_0x49a25c(0x143)](),_0x4d8a1c=config['ordertype']==_0x49a25c(0x1e1)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0xc369c5+_0x4d8a1c>_0x30cf1f){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x17418d=_0x49a25c;validateOrders(_0x17418d(0x186));},_0xc369c5+_0x4d8a1c-_0x30cf1f);}else validateOrders(_0x49a25c(0x186));}}async function sendMetricsTelegram(){const _0x22a3bc=_0x32c3f4;if(!coinsLoaded){process['send']({'telegrammsg':_0x22a3bc(0x24a)},_0x14b555=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3f26b9='';if(config[_0x22a3bc(0x2f1)])_0x3f26b9='<b>'+config[_0x22a3bc(0x1a2)]+_0x22a3bc(0x160);else _0x3f26b9=_0x22a3bc(0x2ba)+botID+_0x22a3bc(0x160);const _0x3b5ff2=config['basecoin'],_0x41d5af=config['fiat'],_0x54774e=getKPIs('basecoin'),_0x4df44c=getKPIs('fiat',_0x41d5af),_0x2b5700=getKPIs(_0x22a3bc(0x2b1)),_0x5861fd=getKPIs(_0x22a3bc(0x2b8),_0x41d5af),_0x3ae745=getKPIs(_0x22a3bc(0x17f)),_0x5a8b53=getKPIs(_0x22a3bc(0x2c8),_0x41d5af);_0x3b5ff2['includes'](_0x41d5af)?(_0x3f26b9+=_0x22a3bc(0x156),_0x3f26b9+=_0x22a3bc(0x1a1)+_0x3b5ff2+':\x20'+_0x54774e['value']+'\x20('+_0x54774e[_0x22a3bc(0x24f)]+'%)\x0a',_0x3f26b9+=_0x22a3bc(0x29d)+_0x3b5ff2+':\x20'+_0x2b5700[_0x22a3bc(0x134)]+'\x20('+_0x2b5700[_0x22a3bc(0x24f)]+_0x22a3bc(0x222),_0x3f26b9+=_0x22a3bc(0x123)+_0x3b5ff2+':\x20'+_0x3ae745[_0x22a3bc(0x134)]+'\x20('+_0x3ae745['change']+_0x22a3bc(0x222),_0x3f26b9+='</pre>'):(_0x3f26b9+=_0x22a3bc(0x156),_0x3f26b9+=_0x22a3bc(0x1a1)+_0x3b5ff2+':\x20'+_0x54774e[_0x22a3bc(0x134)]+'\x20('+_0x54774e[_0x22a3bc(0x24f)]+'%)\x0a',_0x3f26b9+=_0x22a3bc(0x1a1)+_0x41d5af+':\x20'+_0x4df44c[_0x22a3bc(0x134)]+'\x20('+_0x4df44c[_0x22a3bc(0x24f)]+_0x22a3bc(0x222),_0x3f26b9+='Net\x20'+_0x3b5ff2+':\x20'+_0x2b5700['value']+'\x20('+_0x2b5700[_0x22a3bc(0x24f)]+_0x22a3bc(0x222),_0x3f26b9+='Net\x20'+_0x41d5af+':\x20'+_0x5861fd[_0x22a3bc(0x134)]+'\x20('+_0x5861fd[_0x22a3bc(0x24f)]+'%)\x0a',_0x3f26b9+='PnL\x20'+_0x3b5ff2+':\x20'+_0x3ae745[_0x22a3bc(0x134)]+'\x20('+_0x3ae745['change']+_0x22a3bc(0x222),_0x3f26b9+=_0x22a3bc(0x123)+_0x41d5af+':\x20'+_0x5a8b53[_0x22a3bc(0x134)]+'\x20('+_0x5a8b53[_0x22a3bc(0x24f)]+_0x22a3bc(0x222),_0x3f26b9+='</pre>'),process[_0x22a3bc(0x26e)]({'telegrammsg':_0x3f26b9},_0x4ea5cf=>{});}async function sendPortfolioTelegram(){const _0xec377e=_0x32c3f4;if(!coinsLoaded||!currentCoins[0x0][_0xec377e(0x1f9)]){process[_0xec377e(0x26e)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x27642b=>{});return;}let _0x3a5d09='';if(config[_0xec377e(0x2f1)])_0x3a5d09='<b>'+config[_0xec377e(0x1a2)]+_0xec377e(0x2b6);else _0x3a5d09=_0xec377e(0x2ba)+botID+_0xec377e(0x2b6);_0x3a5d09+=_0xec377e(0x156),_0x3a5d09+=_0xec377e(0x21d),_0x3a5d09+=_0xec377e(0x1a9),_0x3a5d09+=_0xec377e(0x21d),currentCoins[_0xec377e(0x201)](_0x2523b2=>{const _0x2e7de1=_0xec377e;_0x3a5d09+=_0x2523b2['coin'][_0x2e7de1(0x27b)](0x7)+'|\x20'+formatPad(_0x2523b2[_0x2e7de1(0x1f9)],0x2,0x6)+'|\x20'+formatPad(_0x2523b2[_0x2e7de1(0x29b)],0x2,0x6)+'|\x20'+(_0x2523b2['target']==0x0?'∞'['padStart'](0x6):formatPad(_0x2523b2[_0x2e7de1(0x1e9)]*0x64,0x2,0x6))+'\x0a';}),_0x3a5d09+=_0xec377e(0x1eb),process[_0xec377e(0x26e)]({'telegrammsg':_0x3a5d09},_0x5da28d=>{});}function formatPad(_0xdc214a,_0xfd00e3,_0x2df083){const _0x4cef24=_0x32c3f4,_0xbf2fd3=formatResultString(_0xdc214a,_0xfd00e3);return _0xbf2fd3?_0xbf2fd3[_0x4cef24(0x2a9)](_0x2df083):''['padStart'](_0x2df083);}function logHistory(_0x2392b6,_0x410d08,_0x2eb32e=''){const _0x183f97=_0x32c3f4;logger[_0x183f97(0x22b)](''+_0x410d08);let _0x3e5098={'time':getTimeStamp(),'type':_0x2392b6,'event':_0x410d08};dbLogs[_0x183f97(0x1be)](_0x183f97(0x163))[_0x183f97(0x198)](_0x3e5098)[_0x183f97(0x1ba)]();if(_0x2eb32e=='')_0x2eb32e=_0x410d08;proxyEmit(_0x183f97(0x14c),{'log':_0x3e5098,'summary':_0x2eb32e}),process[_0x183f97(0x26e)]({'telegram':{..._0x3e5098,'botname':config[_0x183f97(0x1a2)],'showname':config['showname']}},_0x2193f3=>{});}function emitHistory(_0x42b819={}){const _0x582a41=_0x32c3f4;Object[_0x582a41(0x2f0)](_0x42b819)[_0x582a41(0x2ad)]==0x0&&(_0x42b819={'type':[_0x582a41(0x15b),_0x582a41(0x14c)],'event':'','page':0x1});if(_0x42b819['type'][_0x582a41(0x2f6)](_0x582a41(0x14c)))_0x42b819[_0x582a41(0x14a)][_0x582a41(0x2ae)](_0x42b819['type'][_0x582a41(0x193)](_0x582a41(0x14c)),0x1,_0x582a41(0x19f),'warning',_0x582a41(0x1a4));if(dbLogs[_0x582a41(0x289)](_0x582a41(0x163))[_0x582a41(0x134)]()){let _0x99822f=dbLogs[_0x582a41(0x1be)]('logs')[_0x582a41(0x154)](_0x1805bb=>{const _0xe563f7=_0x582a41;if(_0x42b819[_0xe563f7(0x14a)]['length']==0x0)return![];else return _0x42b819[_0xe563f7(0x14a)][_0xe563f7(0x2f6)](_0x1805bb[_0xe563f7(0x14a)]);})['filter'](_0x1682a5=>{const _0x250379=_0x582a41;if(_0x42b819['event']=='')return!![];else return _0x1682a5['event'][_0x250379(0x28e)]()[_0x250379(0x2f6)](_0x42b819[_0x250379(0x14c)][_0x250379(0x28e)]());})[_0x582a41(0x2ac)]('time'),_0x172575=_0x99822f[_0x582a41(0x134)]()['length'];_0x99822f=_0x99822f[_0x582a41(0x268)]()['slice']((_0x42b819[_0x582a41(0x28f)]-0x1)*logPageSize,_0x42b819[_0x582a41(0x28f)]*logPageSize-0x1)[_0x582a41(0x268)]()[_0x582a41(0x134)](),proxyEmit('event-history',{'logs':_0x99822f,'total':_0x172575});}else proxyEmit(_0x582a41(0x209),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0xb1415b){const _0x500970=_0x32c3f4;if(dbLogs[_0x500970(0x289)]('logs')['value']()){const _0x2b48ba=dbLogs[_0x500970(0x1be)]('logs')[_0x500970(0x2ac)](_0x500970(0x18a))[_0x500970(0x154)](_0x2f2e8d=>{const _0x34640e=_0x500970;return _0x2f2e8d[_0x34640e(0x14a)]==_0x34640e(0x15b);})['value']();dbLogs['get']('logs')[_0x500970(0x2cd)]()[_0x500970(0x1ba)](),dbLogs[_0x500970(0x1be)](_0x500970(0x163))[_0x500970(0x253)](_0x2b48ba)[_0x500970(0x1ba)](),emitHistory(_0xb1415b);}}async function pauseBot(_0xb5dcc5=pauseBotIntervalShort,_0x3feabd,_0x311df5,_0x1abe15=![]){const _0x37246f=_0x32c3f4,_0x5b2f31=new Date()[_0x37246f(0x143)]();if(!lastErrorShown||_0x5b2f31-lastErrorShown>=_0xb5dcc5){lastErrorShown=_0x5b2f31;if(!lastBotPause)lastBotPause=_0x5b2f31,consecutivePauses=0x1;else{if(_0x5b2f31-lastBotPause-_0xb5dcc5<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x1abe15){logHistory(_0x37246f(0x19f),_0x3feabd+_0x37246f(0x14f)),await killBot();return;}else logHistory('error',_0x3feabd+pauseBotMsg),_0xb5dcc5=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x5b2f31;}_0x311df5?logger[_0x37246f(0x248)]('('+consecutivePauses+')\x20'+_0x3feabd+'\x20>\x20details:',_0x311df5):logger[_0x37246f(0x248)]('('+consecutivePauses+')\x20'+_0x3feabd);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0xb5dcc5),botPaused=![],_0xb5dcc5==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x9eb6e7=_0x32c3f4;botPaused=!![],await sleep(0x3e8),process[_0x9eb6e7(0x26e)]({'stop':_0x9eb6e7(0x259)},_0x2a7513=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3ac768,_0x473719,_0x3acb68=![]){const _0x5e5d29=_0x32c3f4;if(botPaused)return;let _0x15d7b5;const _0x372a6d=config['exchange']||_0x5e5d29(0x25c);if(_0x473719)logger[_0x5e5d29(0x248)](_0x5e5d29(0x16a)+_0x473719);const _0x940a11=()=>{const _0x192c5d=_0x5e5d29;loading[_0x192c5d(0x19f)]=_0x192c5d(0x142),emitLoadingProgress();};if(_0x3ac768['toString']()[_0x5e5d29(0x2f6)](_0x5e5d29(0x27a)))logHistory('error',_0x372a6d+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x940a11();else{if(_0x3ac768[_0x5e5d29(0x27c)]()[_0x5e5d29(0x2f6)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x372a6d+_0x5e5d29(0x1f7)),_0x940a11();else{if(_0x3ac768[_0x5e5d29(0x27c)]()[_0x5e5d29(0x2f6)]('AuthenticationError'))config[_0x5e5d29(0x2b9)]?_0x15d7b5=_0x372a6d+_0x5e5d29(0x16c):_0x15d7b5=_0x372a6d+_0x5e5d29(0x1d3),logHistory(_0x5e5d29(0x19f),_0x15d7b5+_0x5e5d29(0x2ea)),_0x940a11();else{if(_0x3ac768[_0x5e5d29(0x27c)]()['includes'](_0x5e5d29(0x28b)))logHistory(_0x5e5d29(0x19f),_0x372a6d+_0x5e5d29(0x280)),_0x940a11();else{if(!_0x3acb68)await handleError(_0x3ac768,null);}}}}}async function handleError(_0x24be16,_0x5b12d1,_0x191ce1=''){const _0x2d4142=_0x32c3f4;if(botPaused)return;let _0x215f64;const _0x562571=config[_0x2d4142(0x267)]||_0x2d4142(0x25c);if(_0x5b12d1)logger[_0x2d4142(0x248)]('Exception\x20thrown\x20in\x20'+_0x5b12d1);if(_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x2f6)](_0x2d4142(0x2be)))_0x215f64=_0x562571+_0x2d4142(0x170),await pauseBot(undefined,_0x215f64,_0x24be16);else{if(_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x2f6)](_0x2d4142(0x175)))_0x215f64=_0x562571+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x215f64,_0x24be16);else{if(_0x24be16['toString']()['includes'](_0x2d4142(0x180))||_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x2f6)](_0x2d4142(0x270)))_0x215f64=_0x562571+_0x2d4142(0x246),await pauseBot(undefined,_0x215f64,_0x24be16[_0x2d4142(0x27c)]());else{if(_0x24be16['toString']()[_0x2d4142(0x2f6)](_0x2d4142(0x260)))_0x215f64=_0x562571+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x215f64,_0x24be16['toString']());else{if(_0x24be16['toString']()[_0x2d4142(0x2f6)](_0x2d4142(0x1cf)))_0x215f64=_0x562571+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x215f64,_0x24be16[_0x2d4142(0x27c)]());else{if(_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x28e)]()['includes'](_0x2d4142(0x1c8))||_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x28e)]()[_0x2d4142(0x2f6)](_0x2d4142(0x292)))_0x215f64=_0x2d4142(0x2ef),await pauseBot(undefined,_0x215f64,_0x24be16['toString']());else{if(_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x2f6)](_0x2d4142(0x1a3)))_0x215f64=_0x562571+_0x2d4142(0x1c7),await pauseBot(undefined,_0x215f64,_0x24be16[_0x2d4142(0x27c)]());else{if(_0x24be16 instanceof ccxt[_0x2d4142(0x296)])_0x215f64=_0x562571+_0x2d4142(0x187)+_0x24be16['toString'](),logger['debug']('Network\x20error\x20details:',_0x24be16),await pauseBot(undefined,_0x215f64,_0x24be16);else{if(_0x24be16['toString']()[_0x2d4142(0x2f6)]('API-key\x20format\x20invalid'))logHistory(_0x2d4142(0x19f),_0x562571+_0x2d4142(0x297)),logHistory(_0x2d4142(0x19f),_0x2d4142(0x1b5)),await killBot();else{if(_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x2f6)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x562571+_0x2d4142(0x2c4)),logHistory(_0x2d4142(0x19f),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x2f6)](_0x2d4142(0x197))&&_0x24be16['toString']()[_0x2d4142(0x2f6)](_0x2d4142(0x247)))_0x215f64=_0x562571+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)',await pauseBot(undefined,_0x215f64,_0x24be16,!![]);else{if(_0x24be16[_0x2d4142(0x27c)]()[_0x2d4142(0x2f6)](_0x2d4142(0x197)))config['apiPassword']?_0x215f64=_0x562571+_0x2d4142(0x16c):_0x215f64=_0x562571+_0x2d4142(0x1d3),logHistory(_0x2d4142(0x19f),_0x215f64),logHistory('error',_0x2d4142(0x1b5)),await killBot();else{if(_0x24be16['toString']()[_0x2d4142(0x2f6)](_0x2d4142(0x28b)))logHistory(_0x2d4142(0x19f),_0x562571+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x2d4142(0x19f),_0x2d4142(0x1b5)),await killBot();else{if(_0x24be16[_0x2d4142(0x27c)]()['includes']('InsufficientFunds'))logHistory(_0x2d4142(0x19f),_0x2d4142(0x1a6)+_0x191ce1),logger['debug'](_0x2d4142(0x1ef),_0x24be16);else{if(_0x24be16 instanceof ccxt[_0x2d4142(0x276)]){_0x215f64=_0x562571+_0x2d4142(0x242)+_0x24be16[_0x2d4142(0x27c)]();if(_0x191ce1)_0x215f64+=_0x2d4142(0x2d6)+_0x191ce1;await pauseBot(undefined,_0x215f64,_0x24be16);}else{_0x215f64=_0x2d4142(0x1cd)+_0x24be16['toString']();if(_0x191ce1)_0x215f64+='\x0aSymbol(s):\x20'+_0x191ce1;await pauseBot(undefined,_0x215f64);}}}}}}}}}}}}}}}}function decryptRSA(_0x4a1003,_0x1ef12f){const _0x14eaa0=_0x32c3f4,_0x5e7fb8=forge[_0x14eaa0(0x231)][_0x14eaa0(0x2bc)](_0x4a1003),_0x5b2850=_0x5e7fb8['decrypt'](forge[_0x14eaa0(0x1aa)][_0x14eaa0(0x191)](_0x1ef12f),_0x14eaa0(0x130),{'md':forge['md']['sha256'][_0x14eaa0(0x135)](),'mgf1':{'md':forge['md'][_0x14eaa0(0x1e0)][_0x14eaa0(0x135)]()}});return _0x5b2850;}async function withRetry(_0x246aa3,_0x37d84c){const _0x30f36=_0x32c3f4;let _0x4f9412=![],_0x526302=0x0,_0x203a40,_0x50d0cb;while(_0x526302<maxRetries){try{_0x203a40=await _0x37d84c();break;}catch(_0x43ce1d){_0x50d0cb=_0x43ce1d,!_0x4f9412?(_0x4f9412=!![],logger[_0x30f36(0x248)](_0x30f36(0x26d)+_0x246aa3+':',_0x43ce1d['toString']())):await sleep(retryInterval);}_0x526302++;}if(_0x526302==0x0)return _0x203a40;if(_0x526302>=maxRetries)throw _0x50d0cb;else return logger['debug'](_0x30f36(0x20a)+_0x526302+_0x30f36(0x2df)),_0x203a40;}function formatResult(_0xece73c,_0x1f9a0e){const _0x32d5d8=_0x32c3f4;return parseFloat(_0xece73c[_0x32d5d8(0x1fc)](_0x1f9a0e));}function formatResultTruncate(_0x5e1372,_0x2f51e8){const _0x418370=_0x32c3f4;let _0x58d0ea=formatResultString(_0x5e1372,0xa),_0x5884b9=_0x58d0ea[_0x418370(0x193)]('.');return _0x5884b9!=-0x1&&(_0x58d0ea=_0x58d0ea[_0x418370(0x1ae)](0x0,_0x5884b9+_0x2f51e8+0x1)),Number(_0x58d0ea);}function formatResultString(_0x135d11,_0x1fb194){const _0x54f1d0=_0x32c3f4;let _0x251d9f;if(!(''+_0x135d11)[_0x54f1d0(0x2f6)]('e'))_0x251d9f=+(Math[_0x54f1d0(0x1ff)](_0x135d11+'e+'+_0x1fb194)+'e-'+_0x1fb194);else{let _0x355bfb=(''+_0x135d11)['split']('e'),_0x248a40='';+_0x355bfb[0x1]+_0x1fb194>0x0&&(_0x248a40='+'),_0x251d9f=+(Math[_0x54f1d0(0x1ff)](+_0x355bfb[0x0]+'e'+_0x248a40+(+_0x355bfb[0x1]+_0x1fb194))+'e-'+_0x1fb194);}return Number(_0x251d9f)[_0x54f1d0(0x1fc)](_0x1fb194);}function getServerTime(){const _0x13330a=_0x32c3f4,_0x1f3bfe=new Date();return _0x1f3bfe[_0x13330a(0x1fe)]()+'/'+(_0x1f3bfe['getMonth']()+0x1)[_0x13330a(0x27c)]()[_0x13330a(0x2a9)](0x2,'0')+'/'+_0x1f3bfe[_0x13330a(0x239)]()[_0x13330a(0x27c)]()[_0x13330a(0x2a9)](0x2,'0')+'\x20'+_0x1f3bfe[_0x13330a(0x258)]()[_0x13330a(0x27c)]()[_0x13330a(0x2a9)](0x2,'0')+':'+_0x1f3bfe[_0x13330a(0x212)]()[_0x13330a(0x27c)]()['padStart'](0x2,'0')+':'+_0x1f3bfe[_0x13330a(0x185)]()[_0x13330a(0x27c)]()[_0x13330a(0x2a9)](0x2,'0');}function getTimeStamp(){const _0x10ae50=_0x32c3f4,_0x4f30fa=shiftedTime();return _0x4f30fa['getFullYear']()+'/'+(_0x4f30fa['getMonth']()+0x1)[_0x10ae50(0x27c)]()[_0x10ae50(0x2a9)](0x2,'0')+'/'+_0x4f30fa[_0x10ae50(0x239)]()[_0x10ae50(0x27c)]()[_0x10ae50(0x2a9)](0x2,'0')+'\x20'+_0x4f30fa[_0x10ae50(0x258)]()[_0x10ae50(0x27c)]()[_0x10ae50(0x2a9)](0x2,'0')+':'+_0x4f30fa[_0x10ae50(0x212)]()[_0x10ae50(0x27c)]()[_0x10ae50(0x2a9)](0x2,'0')+':'+_0x4f30fa[_0x10ae50(0x185)]()[_0x10ae50(0x27c)]()['padStart'](0x2,'0');}function getDate(){const _0x5275eb=_0x32c3f4,_0x2de5b0=shiftedTime();return _0x2de5b0[_0x5275eb(0x1fe)]()+'/'+(_0x2de5b0[_0x5275eb(0x136)]()+0x1)[_0x5275eb(0x27c)]()['padStart'](0x2,'0')+'/'+_0x2de5b0['getDate']()[_0x5275eb(0x27c)]()[_0x5275eb(0x2a9)](0x2,'0');}function getHour(){const _0x3db06a=_0x32c3f4,_0x7f9389=shiftedTime();return _0x7f9389[_0x3db06a(0x258)]()['toString']()[_0x3db06a(0x2a9)](0x2,'0');}function sleep(_0x5a9433){return new Promise(_0x4c0907=>setTimeout(_0x4c0907,_0x5a9433));}function shiftedTime(){const _0x1a5c8b=_0x32c3f4,_0x59d04a=new Date();let _0x5b31a2=_0x59d04a;if(config&&config[_0x1a5c8b(0x299)]!==0x0)_0x5b31a2=fns[_0x1a5c8b(0x176)](_0x59d04a,{'hours':config[_0x1a5c8b(0x299)]});return _0x5b31a2;}function timer(_0x305557){const _0xa00aaf=_0x32c3f4,_0x537435=new Date();!lasttime?console[_0xa00aaf(0x1b3)](getTimeStamp()+':\x20timer\x20>',_0x305557,_0x537435):console[_0xa00aaf(0x1b3)](getTimeStamp()+_0xa00aaf(0x179),_0x305557,(_0x537435-lasttime)/0x3e8),lasttime=_0x537435;}