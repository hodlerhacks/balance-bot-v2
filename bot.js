const _0x5eac0b=_0x538d;(function(_0x2660d0,_0xda7ad){const _0x28d001=_0x538d,_0x51af7e=_0x2660d0();while(!![]){try{const _0x2d8c4b=-parseInt(_0x28d001(0x347))/0x1+-parseInt(_0x28d001(0x358))/0x2*(parseInt(_0x28d001(0x2e5))/0x3)+-parseInt(_0x28d001(0x340))/0x4+parseInt(_0x28d001(0x24a))/0x5+-parseInt(_0x28d001(0x232))/0x6+-parseInt(_0x28d001(0x375))/0x7+parseInt(_0x28d001(0x238))/0x8;if(_0x2d8c4b===_0xda7ad)break;else _0x51af7e['push'](_0x51af7e['shift']());}catch(_0x2bbb0d){_0x51af7e['push'](_0x51af7e['shift']());}}}(_0x547a,0x4dc7c));const _0x4e7143=function(){let _0x275fe5=!![];return function(_0x576d59,_0x18a26f){const _0x3a2dd3=_0x275fe5?function(){const _0x506658=_0x538d;if(_0x18a26f){const _0x3c3518=_0x18a26f[_0x506658(0x371)](_0x576d59,arguments);return _0x18a26f=null,_0x3c3518;}}:function(){};return _0x275fe5=![],_0x3a2dd3;};}(),_0x42a223=_0x4e7143(this,function(){const _0x27d202=_0x538d;return _0x42a223['toString']()[_0x27d202(0x27f)](_0x27d202(0x339))['toString']()[_0x27d202(0x384)](_0x42a223)[_0x27d202(0x27f)]('(((.+)+)+)+$');});_0x42a223();'use strict';const ccxt=require('ccxt'),low=require(_0x5eac0b(0x2d2)),FileSync=require(_0x5eac0b(0x2e6)),fs=require('fs'),fns=require('date-fns'),forge=require(_0x5eac0b(0x30d)),util=require(_0x5eac0b(0x1ff)),argv=require(_0x5eac0b(0x31c))(process['argv']['slice'](0x2))[_0x5eac0b(0x377)],path=require('path'),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x5eac0b(0x267),_0x5eac0b(0x273),_0x5eac0b(0x2a8),'USDT',_0x5eac0b(0x329),_0x5eac0b(0x299)],excludedExchanges=['bitmex'],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5eac0b(0x2c1)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x5eac0b(0x230)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x5eac0b(0x239)+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;function _0x547a(){const _0x4da3d4=['heapUsed','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','send','getDate','average','side','yyyy/MM/dd','coin','page','fetchTickers','number','red_yellow_blue','isBefore','Error\x20occurred:\x20','emojibuy','\x20|\x20lock\x20orders:\x20','limit-high','storeConfiguration','\x20exchange','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','removed','marketcapApi','options','no\x20open\x20orders','\x20minutes\x20-\x20','Invalid\x20symbol:\x20','Trigger:\x20','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','customId','BTC','Error\x20while\x20deleting\x20files:\x20','\x20API\x20secret\x20is\x20invalid','UNLOCKED','\x20uses\x20','2800140WxOQYf','<b>','Net\x20','2\x20-\x20handling\x20FILLED\x20order:\x20','InvalidNonce','Reset\x20|\x20','20372144kJMXUo','\x20>\x20pausing\x20bot\x20for\x20','buys','reverse','liquidity','-------------------------------\x0a','timeout','API-key\x20format\x20invalid',':\x20timer\x20>','Initializing\x20exchange','net-basecoin','staging','Resuming\x20(','create','recovery','code','balances','slider','257480EjyQNo','token\x20is\x20expired','realizedPnL','headless','ETH','\x20portfolio:</b>\x20\x0a\x0a','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','loadMarkets','Order\x20is\x20invalid:\x20','Limit\x20(high-margin)','ExchangeError','bitvavo','error','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','deleteHistoryAlerts','\x20API\x20key\x20is\x20invalid','%\x20(','basecoinvalue','Stopped\x20fetching\x20balance\x20after\x20','\x20>\x20','-events.json','pnl','percentage','status','balancing\x20resumed','no\x20exchange\x20reloaded','fetchTicker','starting-balance-','cost','USD','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','breakeven','fetchBalance','\x20>\x20details:','floor','apiSecret','\x20due\x20to\x20offset','resetHistory','startnumber','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Manual\x20balancing\x20required','BUSD','Initializing\x20coin\x20results','time','api-issue','highest','Order\x20amount\x20is\x20invalid:\x20','onepagemode','emitHistory','PermissionDenied','UNLOCKING','version','Network\x20error\x20details:','search','offset','differenceInSeconds','Saving\x20configuration','getTime','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','settings','\x20|\x20highest\x20fee:\x20','NetworkError','change24h','Gateio','stringify','fromCodePoint','value','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','orderstatus','MIN_NOTIONAL','write','spot','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','type','portfolio2','Order(s)\x20not\x20validated\x20after\x20','Test\x20new\x20API','round','bots','USDP','exchange\x20reload','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','timestamp','filter','Bybit','fetchBalance()','apiKey','Initiating\x20bot\x20restart','getPortfolio','Market\x20order','2.3.5','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','slice','TUSD','logs','AuthenticationError','colorscheme','kill','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','sell','2.6.0','sha256','\x20MB','Block\x20transaction\x20detection:\x20','ExchangeNotAvailable','\x20order:\x20','target','ongoing','initTickers()','recreate','placeOrder()','secret','request-time','string','limit','args','/EUR','\x20exchange\x20error:\x20','freeze','recent20','quote','bot-','\x20|\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','</pre>','\x20|\x20Custom\x20ID:\x20','watchTradesForSymbols()','fee','sort','Bitget','abs','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','forEach','lowdb','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','get','createOrder','Exception\x20thrown\x20in\x20','eur','Market','padStart','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','showname','indexOf','%)\x0a','apiPassword','Cex','market','Value\x20','2.6.23','shift','set','430323NMcFKU','lowdb/adapters/FileSync','/USDT','find','createWriteStream','keys','sendMetricsTelegram','basecoin','No\x20more\x20open\x20orders\x20-\x20','-performance.json','loadSymbols()','botname','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','2\x20-\x20Validate\x20orders:\x20','testAPI()','<pre>','enabled','sandbox','complete','filled','net','message','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','marketcap','excluded','Exchange','event-history','memoryUsage','/output-000.log','Error\x20details:\x20','buy','log','configstate','success',')\x20known\x20order:\x20','USDT','Initializing\x20exchange:\x20already\x20done','valid','Avoiding\x20continuous\x20order\x20attempts','node-forge','Valid\x20balance\x20for\x20','InvalidOrder','Huobi','RETRY\x20-\x20Error\x20in\x20','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','1\x20-\x20FILLED\x20known\x20order:\x20','-results.json','Resetting\x20bot\x20history','/USD','symbol','price','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','full','startprice','yargs/yargs','parse','***','change','OrderNotFound','fiat','toLowerCase','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','1\x20-\x20partially\x20FILLED\x20(','emojisell','timeshift','findIndex','USDC','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','sortBy','Error\x20in\x20loadSymbols():\x20','1\x20-\x20Validate\x20orders:\x20','decrypt','limits','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','RateLimitExceeded','PnL\x20','date','production','usd','has','cancelOrders()','changes','(((.+)+)+)+$','debug','getSeconds','ask','sendPortfolioTelegram','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','distribution','292104PrArmK','length','enableFiatToggle','./logs/','getStartingBalances','Executed\x20','entries','609171DmXEvt','total','environment','operatorId',':\x20Bot\x20','pop','stack','status\x20code\x20401','startdate','toUpperCase','isEqual','currency','storeHeadless','open','detectLiquidityChange()','Unknown\x20error\x20-\x20check\x20logs','self_reported_market_cap','8vpvhdf','replace','active','fetchOpenOrders','bb-secure.json','\x20minutes','last','DDoSProtection','bid',')\x20|\x20exchange:\x20','LOCKED','push','************','exchanges','toggleBotMode','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','1\x20-\x20FILLED\x20unknown\x20order:\x20','watchTrades','Resetting\x20coin\x20results:\x20','Fee\x20discount\x20refund\x20detected:\x20','autoliquidity','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','addDays','Cryptocom','apply','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','RequestTimeout','privateKeyFromPem','3897425pOsoTL','marketcapEnabled','argv','cooldown','\x20attempts','\x20hour','\x0aSymbol(s):\x20','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','running','cancel','\x20|\x20exchange:\x20','timestamp-issue','existsSync','uncaughtException','Headless:\x20','constructor','assign','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','./version.json','EUR','threshold','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','Set\x20lock\x20orders\x20to:\x20','0\x20-\x20EXECUTION:\x20','openOrders','map','defaults','process\x20','marketcapsqrt','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','includes','<b>Bot\x20','password','prevnumber','added','\x20(see:\x20hodlerhacks.com/fix/1)','splice','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','delta','orderId','\x20orders\x20in\x20less\x20than\x20','split','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','limit-low','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','.json','2.7.1','portfolio','market_cap','warning','update-liquidity','ordertype','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','unlinkSync','format','restart','watchOrders','bot','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','privateKey','performance','initclient','cancelOrder','watchTradesForSymbols','final','starting-balances','pro',')\x20unknown\x20order:\x20','exchange','coin-loading-progress','join','order','max','\x20-\x20','bb-settings.json','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Error\x20details:','PAXG','botID','data','Pausing\x20for\x20','sqrt','event','./config/','min','Portfolio\x20change\x20detected:\x20','watchTrades()','canceled','setSandboxMode','closed','coins','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','getMonth','getMinutes','none','\x20>\x20[DEBUG]\x20','getFullYear','remainingSymbols','cloneDeep','portfolio1','util','configuration','Order\x20filled','Generated\x20PnL\x20data','function','amount','remove','\x20metrics:</b>\x20\x0a\x0a','initial','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','fetchTickers()','amountToPrecision','toFixed','toString','trade','pid','progress'];_0x547a=function(){return _0x4da3d4;};return _0x547a();}const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x5eac0b(0x387))['version'],environment=require(_0x5eac0b(0x387))[_0x5eac0b(0x349)]||_0x5eac0b(0x334),botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x5eac0b(0x305)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x5eac0b(0x377)][0x3]||'',configpath=userID?_0x5eac0b(0x1ee)+userID+'/':_0x5eac0b(0x1ee),logspath=userID?'./logs/'+userID+'/':_0x5eac0b(0x343),loggerfile=fs[_0x5eac0b(0x2e9)](logspath+_0x5eac0b(0x302),{'flags':'a'});!fs[_0x5eac0b(0x381)](configpath)&&fs['mkdirSync'](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x5eac0b(0x2c4)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x5eac0b(0x25e),performancefile=configpath+_0x5eac0b(0x2c4)+botID+_0x5eac0b(0x2ee),coinresultsfile=configpath+_0x5eac0b(0x2c4)+botID+_0x5eac0b(0x314),settingsfile=configpath+_0x5eac0b(0x1e5),securefile=configpath+_0x5eac0b(0x35c),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5eac0b(0x38f)]({'data':[],'version':serverversion})[_0x5eac0b(0x290)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5eac0b(0x38f)]({'coins':{},'version':serverversion})[_0x5eac0b(0x290)]();function _0x538d(_0x10f5d0,_0x5605cb){const _0x4447e2=_0x547a();return _0x538d=function(_0x42a223,_0x4e7143){_0x42a223=_0x42a223-0x1bf;let _0x547a65=_0x4447e2[_0x42a223];return _0x547a65;},_0x538d(_0x10f5d0,_0x5605cb);}const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4ba106=>{const _0x5a4cc8=_0x5eac0b;console[_0x5a4cc8(0x305)](_0x4ba106);},'simple':_0x2b9cce=>{const _0x42093f=_0x5eac0b;console[_0x42093f(0x305)](_0x2b9cce),loggerfile[_0x42093f(0x290)](util[_0x42093f(0x1d0)](_0x2b9cce)+'\x0a');},'full':async(_0xea31ff,_0x5cbf8c='')=>{const _0x112f37=_0x5eac0b;let _0x5117b9;if(config['showname'])_0x5117b9=getTimeStamp()+':\x20'+config['botname']+_0x112f37(0x25d)+_0xea31ff;else _0x5117b9=getTimeStamp()+_0x112f37(0x34b)+botID+_0x112f37(0x25d)+_0xea31ff;console[_0x112f37(0x305)](_0x5117b9),loggerfile[_0x112f37(0x290)](util[_0x112f37(0x1d0)](_0x5117b9)+'\x0a'),_0x5cbf8c&&(console[_0x112f37(0x305)](_0x5cbf8c),loggerfile[_0x112f37(0x290)](util['format'](_0x5cbf8c)+'\x0a'));},'debug':async(_0x4369d1,_0x679025='')=>{const _0x33ffa6=_0x5eac0b;let _0x3062f5;if(config[_0x33ffa6(0x2db)])_0x3062f5=getTimeStamp()+':\x20'+config[_0x33ffa6(0x2f0)]+_0x33ffa6(0x1fa)+_0x4369d1;else _0x3062f5=getTimeStamp()+_0x33ffa6(0x34b)+botID+_0x33ffa6(0x1fa)+_0x4369d1;if(debugging)console[_0x33ffa6(0x305)](_0x3062f5);loggerfile[_0x33ffa6(0x290)](util[_0x33ffa6(0x1d0)](_0x3062f5)+'\x0a');if(_0x679025){if(debugging)console[_0x33ffa6(0x305)](_0x679025);loggerfile['write'](util[_0x33ffa6(0x1d0)](_0x679025)+'\x0a');}}};process['on'](_0x5eac0b(0x382),function(_0x254dc4){const _0x2b8643=_0x5eac0b;handleError(_0x254dc4[_0x2b8643(0x34d)],_0x2b8643(0x382));});settings[_0x5eac0b(0x327)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);settings[_0x5eac0b(0x279)]!=config[_0x5eac0b(0x279)]&&updateOnepagemode(settings[_0x5eac0b(0x279)]);(settings[_0x5eac0b(0x225)]&&!config[_0x5eac0b(0x225)]||!settings['marketcapApi']&&config[_0x5eac0b(0x225)])&&updateMarketcapApi(settings['marketcapApi']);process['send']({'started':_0x5eac0b(0x37d)},_0x2b2b33=>{}),initializeProcessListeners();function proxyEmit(_0x25e948,_0x574d71=null){process['send']({'function':_0x25e948,'args':_0x574d71},_0x48ea56=>{});}function initializeProcessListeners(){const _0x4dac2b=_0x5eac0b;process['on'](_0x4dac2b(0x2fa),_0x58e1df=>{const _0x4f07f7=_0x4dac2b;switch(Object['keys'](_0x58e1df)[0x0]){case _0x4f07f7(0x327):_0x58e1df[_0x4f07f7(0x327)]!=undefined&&(settings[_0x4f07f7(0x327)]=_0x58e1df[_0x4f07f7(0x327)],updateTimeshift(settings[_0x4f07f7(0x327)]));break;case'onepagemode':_0x58e1df[_0x4f07f7(0x279)]!=undefined&&(settings[_0x4f07f7(0x279)]=_0x58e1df[_0x4f07f7(0x279)],updateOnepagemode(settings[_0x4f07f7(0x279)]));break;case _0x4f07f7(0x225):_0x58e1df[_0x4f07f7(0x225)]!=undefined&&(settings[_0x4f07f7(0x225)]=_0x58e1df[_0x4f07f7(0x225)],updateMarketcapApi(settings['marketcapApi']));break;case'bots':_0x58e1df[_0x4f07f7(0x298)]!=undefined&&(bots=JSON[_0x4f07f7(0x31d)](_0x58e1df[_0x4f07f7(0x298)]),proxyEmit(_0x4f07f7(0x298),bots));break;case _0x4f07f7(0x203):switch(_0x58e1df[_0x4f07f7(0x203)]){case _0x4f07f7(0x1d8):initclient();break;case _0x4f07f7(0x366):toggleBotMode();break;case _0x4f07f7(0x27a):emitHistory(_0x58e1df[_0x4f07f7(0x2be)]);break;case _0x4f07f7(0x258):deleteHistoryAlerts(_0x58e1df['args']);break;case _0x4f07f7(0x2a3):getPortfolio(_0x58e1df[_0x4f07f7(0x2be)]);break;case _0x4f07f7(0x221):storeConfiguration(_0x58e1df[_0x4f07f7(0x2be)]);break;case _0x4f07f7(0x353):storeHeadless(_0x58e1df[_0x4f07f7(0x2be)]);break;case'storeFiat':storeFiat(_0x58e1df['args']);break;case _0x4f07f7(0x26f):resetHistory();break;case _0x4f07f7(0x344):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x58e1df[_0x4f07f7(0x2be)]);break;case'cancelLoading':cancelLoading();break;case'showConfig':showConfig();break;case _0x4f07f7(0x2eb):sendMetricsTelegram();break;case _0x4f07f7(0x33d):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0xc1261b=![]){const _0x5cc7b2=_0x5eac0b;logger[_0x5cc7b2(0x33a)](_0x5cc7b2(0x237)+(_0xc1261b?_0x5cc7b2(0x29a):_0x5cc7b2(0x263))+_0x5cc7b2(0x37f)+config[_0x5cc7b2(0x1df)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x5cc7b2(0x2a1)]!=''&&config[_0x5cc7b2(0x2a1)]!=_0x5cc7b2(0x31e)){loadingProgress=0x0;if(_0xc1261b){await initExchange();const _0x5eb692=await testAPI();if(!_0x5eb692)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x5cc7b2(0x200),emittedConfiguration()),initialPerformanceStored=![];}const _0x2ad456=await getCoins();[currentCoins,currentCoinsAll]=_0x2ad456,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x5cc7b2(0x33a)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x5cc7b2(0x341)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x37087c=![]){const _0x533dfe=_0x5eac0b;logger[_0x533dfe(0x33a)](_0x533dfe(0x244)+(_0x37087c?'quick':_0x533dfe(0x2f7))+_0x533dfe(0x361)+config[_0x533dfe(0x1df)]);if(pidBalances)clearTimeout(pidBalances);if(_0x37087c){getBalances();return;}coinsLoaded=![];if(config[_0x533dfe(0x2a1)]!=''&&config['apiKey']!=_0x533dfe(0x31e)){loadingProgress=0x1;const _0x254cc9=await getCoins();[currentCoins,currentCoinsAll]=_0x254cc9,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug']('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x533dfe(0x341)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x2342aa){const _0x31af76=_0x5eac0b;let _0x88849b=![];if(_0x2342aa)_0x88849b=!![];const _0x408424=_0x88849b?_0x2342aa:currentCoins,_0x4ba570=_0x408424[_0x31af76(0x38e)](_0xe664a4=>_0xe664a4['coin']);if(!config[_0x31af76(0x225)]||!_0x88849b&&!config['marketcapEnabled']||_0x4ba570[_0x31af76(0x341)]==0x0)return;let _0x2c05f4=null;try{_0x2c05f4=await axios[_0x31af76(0x2d4)](_0x31af76(0x324),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x31af76(0x225)]},'params':{'symbol':_0x4ba570[_0x31af76(0x20c)]()}});}catch(_0x410cda){_0x2c05f4=null,_0x410cda[_0x31af76(0x20c)]()['includes'](_0x31af76(0x34e))?(config['marketcapApi']=![],updateConfig(),proxyEmit('configuration',emittedConfiguration()),logHistory(_0x31af76(0x256),_0x31af76(0x372))):(logHistory(_0x31af76(0x256),_0x31af76(0x38a)+schedulerInterval/(0x3c*0x3e8)+_0x31af76(0x35d)),logger[_0x31af76(0x33a)](_0x31af76(0x1e7),_0x410cda[_0x31af76(0x20c)]()+_0x31af76(0x1e4)+_0x410cda[_0x31af76(0x247)]));}const _0x363bdd=new Map();let _0x447d49=!![];if(_0x2c05f4){let _0x2cd77a=0x0;const _0x1621e6=_0x2c05f4[_0x31af76(0x1ea)];_0x4ba570[_0x31af76(0x2d1)](_0x56badd=>{const _0x41c554=_0x31af76;if(_0x1621e6[_0x41c554(0x1ea)][_0x56badd][0x0]&&_0x1621e6['data'][_0x56badd][0x0][_0x41c554(0x2c3)][_0x41c554(0x267)][_0x41c554(0x1ca)])_0x363bdd['set'](_0x56badd,_0x1621e6[_0x41c554(0x1ea)][_0x56badd][0x0]['quote']['USD'][_0x41c554(0x1ca)]),_0x2cd77a+=_0x1621e6[_0x41c554(0x1ea)][_0x56badd][0x0][_0x41c554(0x2c3)]['USD'][_0x41c554(0x1ca)];else{if(_0x1621e6[_0x41c554(0x1ea)][_0x56badd][0x0]&&_0x1621e6[_0x41c554(0x1ea)][_0x56badd][0x0][_0x41c554(0x357)])_0x363bdd['set'](_0x56badd,_0x1621e6['data'][_0x56badd][0x0][_0x41c554(0x357)]),_0x2cd77a+=_0x1621e6['data'][_0x56badd][0x0]['self_reported_market_cap'];else{if(![_0x41c554(0x388),'USD'][_0x41c554(0x393)](_0x56badd)){if(_0x88849b)logHistory(_0x41c554(0x256),_0x41c554(0x2fb)+_0x56badd+'\x20-\x20go\x20back\x20and\x20try\x20again');else{const _0x17ef1a=config['portfolio'][_0x41c554(0x2e8)](_0x2cd2ba=>_0x2cd2ba[_0x41c554(0x217)]==_0x56badd);_0x17ef1a&&!_0x17ef1a[_0x41c554(0x2fe)]&&_0x17ef1a[_0x41c554(0x249)]==-0x1&&(_0x447d49=![],logHistory(_0x41c554(0x256),_0x41c554(0x29b)),logger[_0x41c554(0x33a)]('CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x56badd));}}}}});if(!_0x447d49)return;_0x4ba570[_0x31af76(0x2d1)](_0x359078=>{const _0x14c327=_0x31af76,_0x1807b7=_0x363bdd[_0x14c327(0x2d4)](_0x359078)?_0x363bdd['get'](_0x359078):0x0;if(_0x88849b){const _0x29114e=_0x2342aa[_0x14c327(0x2e8)](_0x266e58=>_0x266e58['coin']==_0x359078);_0x29114e&&(_0x29114e[_0x14c327(0x2fd)]=_0x1807b7);}else{const _0x1f1b26=currentCoins['find'](_0x50ff35=>_0x50ff35[_0x14c327(0x217)]==_0x359078);_0x1f1b26&&(_0x1f1b26['marketcap']=_0x1807b7);const _0xdcab03=currentCoinsAll[_0x14c327(0x2e8)](_0x4cba47=>_0x4cba47['coin']==_0x359078);_0xdcab03&&(_0xdcab03[_0x14c327(0x2fd)]=_0x1807b7);}}),!_0x88849b&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x8fde30=_0x5eac0b,_0x4b82d5=0x2;let _0x51c2e9=0x0,_0x5b7da5=0x0,_0x13fd31=0x0,_0x238cf7=0x0,_0xfb6614=0x0;config['portfolio'][_0x8fde30(0x2d1)](_0x4b4531=>{const _0x182d04=_0x8fde30;if(!_0x4b4531[_0x182d04(0x2fe)]){_0x13fd31++,_0x51c2e9+=_0x4b4531[_0x182d04(0x249)];if(_0x4b4531[_0x182d04(0x249)]===-0x1){_0x51c2e9++;const _0x45f25e=currentCoinsAll[_0x182d04(0x2e8)](_0x263c2e=>_0x263c2e['coin']==_0x4b4531[_0x182d04(0x217)]);_0x45f25e&&(_0x238cf7+=_0x45f25e['marketcap'],_0xfb6614+=Math[_0x182d04(0x1ec)](_0x45f25e[_0x182d04(0x2fd)]));}if(_0x4b4531[_0x182d04(0x249)]!==-0x1)_0x5b7da5++;}});let _0x286d9b;const _0x9efa33=0x64-_0x51c2e9,_0x214f67=_0x13fd31-_0x5b7da5;_0x286d9b=_0x214f67===0x0?_0x51c2e9:Math['max'](0x64,_0x51c2e9),config[_0x8fde30(0x1c9)]['forEach'](_0x391591=>{const _0x4b2f87=_0x8fde30,_0x2f4c3f=currentCoinsAll[_0x4b2f87(0x2e8)](_0x93d5c1=>_0x93d5c1[_0x4b2f87(0x217)]==_0x391591[_0x4b2f87(0x217)]);_0x2f4c3f&&(_0x391591[_0x4b2f87(0x2fd)]=_0x2f4c3f[_0x4b2f87(0x2fd)]);if(!_0x391591['excluded']){if(_0x286d9b<=0x64){if(_0x391591[_0x4b2f87(0x249)]===-0x1){if(_0x238cf7!==0x0&&config[_0x4b2f87(0x376)]){if(_0x2f4c3f){if(config[_0x4b2f87(0x376)]=='marketcap')_0x391591[_0x4b2f87(0x33f)]=(_0x9efa33/(_0x238cf7/_0x2f4c3f[_0x4b2f87(0x2fd)]))['toFixed'](_0x4b82d5);else config[_0x4b2f87(0x376)]==_0x4b2f87(0x391)&&(_0x391591[_0x4b2f87(0x33f)]=(_0x9efa33/(_0xfb6614/Math[_0x4b2f87(0x1ec)](_0x2f4c3f[_0x4b2f87(0x2fd)])))[_0x4b2f87(0x20b)](_0x4b82d5));}}}}}}),updateConfig();}function updateConfig(){const _0x1e1f24=_0x5eac0b;let _0x46394b=dbConfig[_0x1e1f24(0x2d4)](_0x1e1f24(0x1d3))['find']({'botID':botID})[_0x1e1f24(0x28c)]();_0x46394b&&dbConfig[_0x1e1f24(0x2d4)](_0x1e1f24(0x1d3))['find']({'botID':botID})['assign'](config)['write']();}function logMemory(){const _0x42936e=_0x5eac0b;if(environment!=_0x42936e(0x243))return;const _0x1c0e0f=process[_0x42936e(0x301)]()[_0x42936e(0x210)]/0x400/0x400;logger[_0x42936e(0x33a)](_0x42936e(0x390)+process[_0x42936e(0x20e)]+_0x42936e(0x231)+formatResult(_0x1c0e0f,0x1)+_0x42936e(0x2b1));}async function startScheduler(){const _0x2407f0=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0x2407f0==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x49c8a3=![]){const _0x263a97=_0x5eac0b;logger['debug'](_0x263a97(0x2a2));if(!_0x49c8a3)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process['send']({'stop':_0x263a97(0x1d1)},_0x4d8213=>{});}async function initExchange(_0x4e24e3=config['exchange'],_0x20ba74=config[_0x5eac0b(0x2a1)],_0x328e56=config['apiSecret'],_0x5199a3=config[_0x5eac0b(0x2de)],_0x92b539=config[_0x5eac0b(0x2f6)]){const _0x3a0d40=_0x5eac0b;if(exchange){logger['debug'](_0x3a0d40(0x30a));return;}logger['debug'](_0x3a0d40(0x241));!supportedExchanges()[_0x3a0d40(0x393)](_0x4e24e3)&&(logHistory(_0x3a0d40(0x256),_0x3a0d40(0x1f6)+_0x4e24e3+_0x3a0d40(0x222)),killBot());const _0x41751f=ccxt['pro'][_0x4e24e3[_0x3a0d40(0x322)]()];exchange=new _0x41751f({'apiKey':_0x20ba74,'secret':_0x328e56,'options':{'defaultType':_0x3a0d40(0x291)}});if(_0x5199a3)exchange[_0x3a0d40(0x395)]=_0x5199a3;if(exchange['has'][_0x3a0d40(0x2f6)])exchange[_0x3a0d40(0x1f3)](_0x92b539);if(_0x4e24e3[_0x3a0d40(0x322)]()==_0x3a0d40(0x255))exchange[_0x3a0d40(0x226)]['operatorId']=operatorId;}function updateExchange(_0x31ba75,_0x553d87,_0x4e7854=null){const _0x3fcad9=_0x5eac0b;exchange['apiKey']=_0x31ba75,exchange[_0x3fcad9(0x2ba)]=_0x553d87,exchange[_0x3fcad9(0x395)]=_0x4e7854,logger[_0x3fcad9(0x33a)](_0x3fcad9(0x330));}function setStableCoins(){const _0x44070a=_0x5eac0b;let _0x15d7c6=config['basecoin']==_0x44070a(0x24e)?_0x44070a(0x24e):config[_0x44070a(0x2ec)]==_0x44070a(0x1e8)?_0x44070a(0x1e8):_0x44070a(0x22d),_0xcdca66=allSymbols['includes'](_0x15d7c6+_0x44070a(0x316))?_0x44070a(0x267):allSymbols[_0x44070a(0x393)](_0x15d7c6+_0x44070a(0x2e7))?_0x44070a(0x309):_0x44070a(0x388),_0x233d83=allSymbols[_0x44070a(0x393)](_0x15d7c6+_0x44070a(0x2bf))?_0x44070a(0x388):_0xcdca66;enableFiatToggle=!![],_0xcdca66==_0x44070a(0x388)&&(enableFiatToggle=![],storeFiat(_0x44070a(0x388))),_0x233d83!=_0x44070a(0x388)&&(enableFiatToggle=![],storeFiat(_0x44070a(0x267))),stablecoins={'eur':{'coin':''+_0x15d7c6+_0x233d83,'symbol':_0x15d7c6+'/'+_0x233d83},'usd':{'coin':''+_0x15d7c6+_0xcdca66,'symbol':_0x15d7c6+'/'+_0xcdca66}};}async function initwsCcxt(){const _0x411714=_0x5eac0b;initCycle++;const _0x3936ae=initCycle;let _0x3c8953=[];config[_0x411714(0x1c9)][_0x411714(0x2d1)](_0x22deda=>{const _0xc6a53=_0x411714;if(!_0x22deda[_0xc6a53(0x2fe)]&&_0x22deda['coin']!=config[_0xc6a53(0x2ec)])_0x3c8953[_0xc6a53(0x363)](_0x22deda[_0xc6a53(0x317)]);});if(!_0x3c8953[_0x411714(0x393)](stablecoins['eur'][_0x411714(0x317)]))_0x3c8953[_0x411714(0x363)](stablecoins['eur'][_0x411714(0x317)]);if(!_0x3c8953[_0x411714(0x393)](stablecoins['usd'][_0x411714(0x317)]))_0x3c8953[_0x411714(0x363)](stablecoins['usd'][_0x411714(0x317)]);loadCoins(_0x3c8953),_0x3c8953=validateSymbols(_0x3c8953);const _0x1d6806=async _0x125a46=>{const _0x1af91a=_0x411714;let _0x59727;try{const _0x3cdba8=await getTickers(_0x125a46);Object[_0x1af91a(0x346)](_0x3cdba8)[_0x1af91a(0x2d1)](_0x385231=>{const _0x44257b=_0x1af91a;_0x59727=_0x385231[0x1][_0x44257b(0x317)],gTicker[noslash(_0x59727)]=_0x385231[0x1][_0x44257b(0x35e)],gChange[_0x59727]=_0x385231[0x1]['percentage'];});}catch(_0x42b74b){await handleError(_0x42b74b,_0x1af91a(0x2b7),_0x59727);}},_0x229f0f=async _0x8c8e6b=>{const _0x1430a3=_0x411714;while(initCycle==_0x3936ae){if(!botPaused)try{const _0x4efffa=await exchange[_0x1430a3(0x36a)](_0x8c8e6b);gTicker[noslash(_0x4efffa[0x0][_0x1430a3(0x317)])]=_0x4efffa[0x0]['price'];}catch(_0x5441a3){if(!exchangeStopped)await handleError(_0x5441a3,_0x1430a3(0x1f1),_0x8c8e6b);}else await sleep(0x64);}},_0x2a915=async _0x22d90f=>{const _0x5f1282=_0x411714;while(initCycle==_0x3936ae){if(!botPaused)try{const _0x1feee3=await exchange[_0x5f1282(0x1da)](_0x22d90f),_0x305552=_0x1feee3[_0x5f1282(0x34c)]();gTicker[noslash(_0x305552['symbol'])]=_0x305552[_0x5f1282(0x318)];}catch(_0x4ba827){if(!exchangeStopped)await handleError(_0x4ba827,_0x5f1282(0x2ca),_0x22d90f[_0x5f1282(0x20c)]());}else await sleep(0x64);}},_0x4f513e=async _0x410856=>{const _0x1563b9=_0x411714;while(initCycle==_0x3936ae){if(!botPaused){let _0x2ddfe0;try{await sleep(0x3c*0x3e8);const _0xd85c90=await getTickers(_0x410856);Object[_0x1563b9(0x346)](_0xd85c90)['forEach'](_0x1c828d=>{const _0x2e0eee=_0x1563b9;_0x2ddfe0=_0x1c828d[0x1]['symbol'],gChange[_0x2ddfe0]=_0x1c828d[0x1][_0x2e0eee(0x260)];});}catch(_0x3f50d6){if(!exchangeStopped)await handleError(_0x3f50d6,_0x1563b9(0x209),_0x2ddfe0);}}else await sleep(0x64);}},_0x515523=async _0x400b9b=>{const _0x23ec03=_0x411714;while(initCycle==_0x3936ae){if(!botPaused)try{const _0x7db756=await exchange[_0x23ec03(0x1d2)](_0x400b9b);initCycle==_0x3936ae&&_0x7db756[_0x23ec03(0x2d1)](_0x466790=>{updateNumberCoinsCcxt(_0x466790);});}catch(_0x5cbd53){if(!exchangeStopped)await handleError(_0x5cbd53,'watchOrders()');}else await sleep(0x64);}};_0x1d6806(_0x3c8953),_0x4f513e(_0x3c8953),exchange[_0x411714(0x336)]['watchTradesForSymbols']&&!(config[_0x411714(0x1df)]==_0x411714(0x29f)&&_0x3c8953[_0x411714(0x341)]>0xa)?_0x2a915(_0x3c8953):_0x3c8953['forEach'](_0x393849=>{_0x229f0f(_0x393849);}),_0x3c8953[_0x411714(0x2d1)](_0x84f197=>{_0x515523(_0x84f197);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x56948b){const _0x19ec92=_0x5eac0b;let _0x1b6dd0={};try{if(config[_0x19ec92(0x1df)]!=_0x19ec92(0x370))_0x1b6dd0=await exchange['fetchTickers'](_0x56948b);else for(const _0x14eff3 of _0x56948b){const _0x1d9819=await exchange[_0x19ec92(0x264)](_0x14eff3);_0x1b6dd0[_0x14eff3]=_0x1d9819;}return _0x1b6dd0;}catch(_0x19526d){throw _0x19526d;}}function setBlockTransactionDetection(_0x1e653d){const _0x2b8512=_0x5eac0b;blockTransactionDetection=_0x1e653d,logger[_0x2b8512(0x33a)](_0x2b8512(0x2b2)+blockTransactionDetection);}async function detectLiquidityChange(_0x570578=0x0){const _0xa1caad=_0x5eac0b;transactionDetectionOngoing=!![];try{const _0x3d455f=await getCoins(_0x570578),[_0xf041a6,_0x21023a]=_0x3d455f;let _0x4216c8=[];currentCoins[_0xa1caad(0x2d1)](_0x2c2bae=>{const _0x146b92=_0xa1caad,_0x6c01d5=_0xf041a6[_0x146b92(0x2e8)](_0x6c46c6=>_0x6c46c6[_0x146b92(0x217)]==_0x2c2bae[_0x146b92(0x217)]);if(_0x6c01d5){if(_0x2c2bae[_0x146b92(0x21a)]!=_0x6c01d5[_0x146b92(0x21a)]){let _0x354690;if(_0x2c2bae[_0x146b92(0x217)]!=config[_0x146b92(0x2ec)]){const _0x32b7af=gTicker[noslash(_0x2c2bae['symbol'])];_0x354690=_0x2c2bae[_0x146b92(0x23b)]?0x1/_0x32b7af:_0x32b7af;}else _0x354690=0x1;_0x4216c8[_0x146b92(0x363)]({'coin':_0x2c2bae[_0x146b92(0x217)],'symbol':_0x2c2bae['symbol'],'price':_0x354690,'number':Number(formatResult(_0x6c01d5[_0x146b92(0x21a)]-_0x2c2bae[_0x146b92(0x21a)],0x8)),'basecoinvalue':_0x354690*(_0x6c01d5['number']-_0x2c2bae[_0x146b92(0x21a)])});}}});if(_0x4216c8[_0xa1caad(0x341)]>0x0&&!blockTransactionDetection){for(const _0x1ddb34 of _0x4216c8){if(config['autoliquidity']){logger['debug'](_0xa1caad(0x32a)+_0x1ddb34[_0xa1caad(0x25b)]+_0xa1caad(0x286)+lastFees[_0xa1caad(0x277)]);if(lastFees[_0xa1caad(0x277)]==0x0||Math[_0xa1caad(0x2ce)](_0x1ddb34[_0xa1caad(0x25b)])>lastFees[_0xa1caad(0x277)]*0x3){if(config['autoliquidity']=='update-liquidity'){delete _0x1ddb34[_0xa1caad(0x317)],delete _0x1ddb34[_0xa1caad(0x25b)];let _0x17b57f=[],_0x45d544=[...config[_0xa1caad(0x23c)]]||[],_0x5c3acd=config[_0xa1caad(0x23c)];_0x45d544[_0xa1caad(0x2cc)]((_0x18e622,_0x466e57)=>_0x18e622[_0xa1caad(0x333)]>_0x466e57[_0xa1caad(0x333)]?-0x1:_0x466e57['date']>_0x18e622[_0xa1caad(0x333)]?0x1:0x0);const _0x889143=getDate();if(_0x45d544[0x0]){const _0x28c321=fns['parse'](_0x45d544[0x0][_0xa1caad(0x333)],'yyyy/MM/dd',new Date()),_0x22b66e=fns['parse'](_0x889143,_0xa1caad(0x216),new Date());if(fns[_0xa1caad(0x351)](_0x28c321,_0x22b66e)){_0x17b57f=_0x45d544[0x0]['changes'];const _0x3ee92a=_0x17b57f[_0xa1caad(0x2e8)](_0xb4f214=>_0xb4f214[_0xa1caad(0x217)]==_0x1ddb34[_0xa1caad(0x217)]);_0x3ee92a?(_0x3ee92a['number']+=_0x1ddb34[_0xa1caad(0x21a)],_0x3ee92a[_0xa1caad(0x21a)]==0x0&&(_0x17b57f=_0x17b57f[_0xa1caad(0x29e)](_0x20455b=>{const _0x513975=_0xa1caad;return _0x20455b[_0x513975(0x217)]!=_0x1ddb34[_0x513975(0x217)];}))):_0x17b57f['push'](_0x1ddb34);const _0x2e2f64=_0x5c3acd[_0xa1caad(0x2e8)](_0x3f9461=>_0x3f9461[_0xa1caad(0x333)]==_0x889143);_0x2e2f64[_0xa1caad(0x338)]=_0x17b57f;}else _0x5c3acd[_0xa1caad(0x363)]({'date':_0x889143,'changes':[_0x1ddb34]});}const _0x3c71f1=_0x5c3acd[_0xa1caad(0x2e8)](_0x43e3f4=>_0x43e3f4[_0xa1caad(0x333)]==_0x889143);if(_0x3c71f1){let _0xcdf557=!![];_0x3c71f1[_0xa1caad(0x338)][_0xa1caad(0x2d1)](_0x458c0a=>{const _0x58463c=_0xa1caad;if(_0x458c0a[_0x58463c(0x21a)]!=0x0)_0xcdf557=![];}),_0xcdf557&&(_0x5c3acd=_0x5c3acd[_0xa1caad(0x29e)](_0x19ccb0=>{const _0x1a2cc2=_0xa1caad;return _0x19ccb0[_0x1a2cc2(0x333)]!=_0x889143;}));}let _0x22300d=dbConfig['get']('bot')['find']({'botID':botID})[_0xa1caad(0x28c)]();_0x22300d&&(dbConfig[_0xa1caad(0x2d4)](_0xa1caad(0x1d3))['find']({'botID':botID})[_0xa1caad(0x385)]({'liquidity':_0x5c3acd})[_0xa1caad(0x290)](),config[_0xa1caad(0x23c)]=_0x5c3acd);logHistory('success',_0xa1caad(0x1f0)+Math['abs'](_0x1ddb34['number'])+'\x20'+_0x1ddb34[_0xa1caad(0x217)]+'\x20'+(_0x1ddb34['number']>0x0?_0xa1caad(0x397):_0xa1caad(0x224))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());const _0x2f9e91=getNormalizedPerformance();emitPerformance(_0x2f9e91),getStartingBalances(_0x2f9e91),logger[_0xa1caad(0x33a)](_0xa1caad(0x312));}else config[_0xa1caad(0x36d)]=='switch-manual'&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory('success',_0xa1caad(0x1f0)+Math[_0xa1caad(0x2ce)](_0x1ddb34[_0xa1caad(0x21a)])+'\x20'+_0x1ddb34[_0xa1caad(0x217)]+'\x20'+(_0x1ddb34[_0xa1caad(0x21a)]>0x0?_0xa1caad(0x397):'removed')+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0xa1caad(0x33a)]('Portfolio\x20change\x20detected:\x20'+Math[_0xa1caad(0x2ce)](_0x1ddb34[_0xa1caad(0x21a)])+'\x20'+_0x1ddb34[_0xa1caad(0x217)]+'\x20'+(_0x1ddb34[_0xa1caad(0x21a)]>0x0?_0xa1caad(0x397):_0xa1caad(0x224))+_0xa1caad(0x1e6)));}else logger[_0xa1caad(0x33a)](_0xa1caad(0x36c)+Math[_0xa1caad(0x2ce)](_0x1ddb34[_0xa1caad(0x21a)])+'\x20'+_0x1ddb34[_0xa1caad(0x217)]+'\x20'+(_0x1ddb34['number']>0x0?_0xa1caad(0x397):_0xa1caad(0x224)));}else logger['debug'](_0xa1caad(0x1f0)+Math[_0xa1caad(0x2ce)](_0x1ddb34['number'])+'\x20'+_0x1ddb34[_0xa1caad(0x217)]+'\x20'+(_0x1ddb34[_0xa1caad(0x21a)]>0x0?_0xa1caad(0x397):_0xa1caad(0x224))+_0xa1caad(0x292));}currentCoins=_0xf041a6,currentCoinsAll=_0x21023a;}}catch(_0x4aa5cf){if(!exchangeStopped)await handleError(_0x4aa5cf,_0xa1caad(0x355));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x263d9b=_0x5eac0b;try{markets=await exchange[_0x263d9b(0x251)](!![]),allSymbols=[],Object[_0x263d9b(0x346)](markets)[_0x263d9b(0x2d1)](_0x46a7b4=>{const _0x5047c4=_0x263d9b;_0x46a7b4[0x1][_0x5047c4(0x35a)]&&_0x46a7b4[0x1]['spot']&&allSymbols[_0x5047c4(0x363)](_0x46a7b4[0x0]);});}catch(_0x15a832){markets?logger['debug'](_0x263d9b(0x32c)+_0x15a832[_0x263d9b(0x20c)]()):(loading[_0x263d9b(0x37e)]=!![],_0x15a832[_0x263d9b(0x20c)]()[_0x263d9b(0x322)]()['includes']('timestamp')||_0x15a832[_0x263d9b(0x20c)]()['toLowerCase']()[_0x263d9b(0x393)](_0x263d9b(0x2bb))?(logHistory(_0x263d9b(0x256),_0x263d9b(0x223)),loading[_0x263d9b(0x256)]='timestamp-issue'):handleErrorNoStop(_0x15a832,_0x263d9b(0x2ef),!![]),logHistory('error',_0x263d9b(0x368)),logHistory(_0x263d9b(0x256),_0x263d9b(0x1eb)+loadCoinsRetryInterval/0xea60+_0x263d9b(0x271)),logger['debug'](_0x263d9b(0x1e7),_0x15a832),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x41cb50){const _0x5c133f=_0x5eac0b;let _0x5c8365=[];return _0x41cb50[_0x5c133f(0x2d1)](_0x5abbc4=>{const _0xf808fc=_0x5c133f;!allSymbols[_0xf808fc(0x393)](_0x5abbc4)?(logHistory(_0xf808fc(0x256),_0xf808fc(0x229)+_0x5abbc4+_0xf808fc(0x250)),loading['timeout']=!![],emitLoadingProgress()):_0x5c8365[_0xf808fc(0x363)](_0x5abbc4);}),_0x5c8365;}async function initclient(){const _0x40cb9e=_0x5eac0b;proxyEmit(_0x40cb9e(0x200),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x40cb9e(0x248),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x57334a=getNormalizedPerformance();emitPerformance(_0x57334a),getStartingBalances(_0x57334a);}async function toggleBotMode(){const _0x26a2e7=_0x5eac0b;let _0x14a598=dbConfig[_0x26a2e7(0x2d4)]('bot')[_0x26a2e7(0x2e8)]({'botID':botID})['value']();if(_0x14a598){const _0x4a177e=!_0x14a598[_0x26a2e7(0x24d)];dbConfig[_0x26a2e7(0x2d4)](_0x26a2e7(0x1d3))[_0x26a2e7(0x2e8)]({'botID':botID})[_0x26a2e7(0x385)]({'headless':_0x4a177e})[_0x26a2e7(0x290)](),config[_0x26a2e7(0x24d)]=_0x4a177e,proxyEmit(_0x26a2e7(0x200),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x56c622=_0x5eac0b;process[_0x56c622(0x212)]({'updatebotmanager':!![]},_0xc4c9b2=>{}),logger[_0x56c622(0x33a)](_0x56c622(0x383)+config['headless']);}async function loadCoins(_0x46a206){const _0x30a0d1=_0x5eac0b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x46ce4e,_0x4848ed=0x0,_0x245b34=0x0;_0x46a206[_0x30a0d1(0x2d1)](_0x5de413=>{const _0x5aaf67=_0x30a0d1;loading[_0x5aaf67(0x1fc)][_0x5aaf67(0x363)](_0x5de413);}),loadingCanceled=![];let _0x2a0eb4=![];while(_0x46ce4e!=_0x46a206['length']+maxLoadingProgress){_0x46ce4e=loadingProgress,_0x46a206[_0x30a0d1(0x2d1)](_0x4b457c=>{const _0x13b1d3=_0x30a0d1;if(gTicker[noslash(_0x4b457c)]){loading['remainingSymbols']=loading['remainingSymbols'][_0x13b1d3(0x29e)](_0x31d9da=>_0x31d9da!=_0x4b457c);if(!watchedSymbols[_0x13b1d3(0x393)](_0x4b457c))watchedSymbols[_0x13b1d3(0x363)](_0x4b457c);_0x46ce4e++;}}),loading[_0x30a0d1(0x20f)]=Math['round'](_0x46ce4e/(_0x46a206[_0x30a0d1(0x341)]+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x245b34>0x1e*0x5&&(loading[_0x30a0d1(0x23e)]=!![],emitLoadingProgress()),_0x245b34>0x78*0x5&&!_0x2a0eb4&&(_0x2a0eb4=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x30a0d1(0x1fc)][_0x30a0d1(0x1e1)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x30a0d1(0x256),_0x30a0d1(0x1eb)+loadCoinsRetryInterval/0xea60+_0x30a0d1(0x271)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x4848ed!=loading[_0x30a0d1(0x20f)]&&(_0x4848ed=loading['progress'],emitLoadingProgress()),_0x245b34++,await sleep(0xc8);}_0x46ce4e==_0x46a206[_0x30a0d1(0x341)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x30a0d1(0x212)]({'status':'enabled','live':'running'},_0x24cf76=>{}),_0x2a0eb4&&logHistory(_0x30a0d1(0x307),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x105d42=_0x5eac0b;proxyEmit(_0x105d42(0x200),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x1bdc3d=_0x5eac0b;proxyEmit(_0x1bdc3d(0x1e0),loading);}async function getFiat(){const _0x418f36=_0x5eac0b;let _0x2ec725=gTicker[stablecoins[_0x418f36(0x2d7)]['coin']],_0x352862=gTicker[stablecoins[_0x418f36(0x335)][_0x418f36(0x217)]];return{'eur':Number(_0x2ec725),'usd':Number(_0x352862)};}function capitalize(_0x26d446){const _0x18e204=_0x5eac0b;return _0x26d446['substring'](0x0,0x1)[_0x18e204(0x350)]()+_0x26d446['substring'](0x1);}function supportedExchanges(){const _0x4ab6ce=_0x5eac0b,_0x4d7ffa=['ws',_0x4ab6ce(0x219),'fetchTicker',_0x4ab6ce(0x36a),_0x4ab6ce(0x1d2),_0x4ab6ce(0x1d9),'createOrder',_0x4ab6ce(0x35b),_0x4ab6ce(0x26a)];let _0x44a299=[],_0x136db3=[],_0x3ab4f2=ccxt[_0x4ab6ce(0x1dd)][_0x4ab6ce(0x365)];_0x3ab4f2['forEach'](_0xa12f20=>{const _0x3bdd8d=_0x4ab6ce;try{const _0x20ab4b=new ccxt[(_0x3bdd8d(0x1dd))][_0xa12f20]();_0x136db3[_0x3bdd8d(0x363)](_0x20ab4b);}catch(_0x485be1){}}),_0x136db3[_0x4ab6ce(0x2d1)](_0xd8f4e3=>{const _0x3cf38d=_0x4ab6ce;let _0x3cdea3=0x0;_0x4d7ffa['forEach'](_0x4fb943=>{const _0x2d6703=_0x538d;_0x4fb943 in _0xd8f4e3[_0x2d6703(0x336)]&&_0xd8f4e3[_0x2d6703(0x336)][_0x4fb943]&&_0x3cdea3++;}),_0x3cdea3==_0x4d7ffa[_0x3cf38d(0x341)]&&(!excludedExchanges['includes'](_0xd8f4e3['id'])&&_0x44a299[_0x3cf38d(0x363)](capitalize(_0xd8f4e3['id'])));});let _0x1a370b=[];return _0x3ab4f2[_0x4ab6ce(0x2d1)](_0x564328=>{const _0x22c2e6=_0x4ab6ce;_0x564328=capitalize(_0x564328);if(!_0x44a299[_0x22c2e6(0x393)](_0x564328))_0x1a370b[_0x22c2e6(0x363)](_0x564328);}),_0x44a299;}function setStartDatePerformance(){const _0x5d46da=_0x5eac0b;if(config&&config[_0x5d46da(0x23c)][0x0][_0x5d46da(0x338)]['length']!=0x0){const _0x3f9092=config['liquidity'][0x0]['changes'];dbPerformance[_0x5d46da(0x2d4)]('data')[_0x5d46da(0x2e8)]({'date':config[_0x5d46da(0x34f)]})[_0x5d46da(0x385)]({'coins':_0x3f9092})[_0x5d46da(0x290)]();}}function calculatePnL(_0x190fb1,_0x322e21,_0x577804,_0x2ea9aa,_0x29f4aa,_0x10e4a1){const _0x5e17dc=_0x5eac0b;!_0x190fb1[_0x5e17dc(0x393)]('/'+config[_0x5e17dc(0x2ec)])&&(_0x577804=_0x577804==_0x5e17dc(0x304)?_0x5e17dc(0x2ae):_0x5e17dc(0x304));!_0x10e4a1[_0x322e21]&&(_0x10e4a1[_0x322e21]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x3207af=0x0,_0x4bae54,_0x245b42;if(_0x577804==_0x5e17dc(0x304))_0x245b42=_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)]*_0x10e4a1[_0x322e21][_0x5e17dc(0x269)]+_0x29f4aa*_0x2ea9aa,_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)]+=_0x2ea9aa,_0x10e4a1[_0x322e21][_0x5e17dc(0x269)]=_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)]!=0x0?_0x245b42/_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)]:0x0,_0x10e4a1[_0x322e21][_0x5e17dc(0x23a)]++;else _0x577804==_0x5e17dc(0x2ae)&&(_0x4bae54=Math[_0x5e17dc(0x1ef)](_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)],_0x2ea9aa),_0x3207af=(_0x29f4aa-_0x10e4a1[_0x322e21][_0x5e17dc(0x269)])*_0x4bae54,_0x245b42=Math[_0x5e17dc(0x1e3)](_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)]*_0x10e4a1[_0x322e21][_0x5e17dc(0x269)]-_0x4bae54*_0x10e4a1[_0x322e21]['breakeven'],0x0),_0x10e4a1[_0x322e21]['number']-=_0x4bae54,_0x10e4a1[_0x322e21][_0x5e17dc(0x269)]=_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)]!=0x0?_0x245b42/_0x10e4a1[_0x322e21][_0x5e17dc(0x21a)]:0x0,_0x10e4a1[_0x322e21][_0x5e17dc(0x24c)]+=_0x3207af,_0x10e4a1[_0x322e21]['sells']++);return _0x3207af;}async function generatePnL(){const _0x5510e8=_0x5eac0b;pnlGenerationNeeded=![],logger['debug']('Generating\x20PnL\x20data');const _0x1cd659=dbLogs[_0x5510e8(0x2d4)](_0x5510e8(0x2a9))['value']();let _0xd8f108={},_0x124ed3=0x0,_0x593e91=0x0,_0x171024=config[_0x5510e8(0x34f)];const _0x8348d=fns['parse'](_0x171024,_0x5510e8(0x216),new Date()),_0x29e975=new Date();let _0x3b53a5=0x0;for(let _0x47861d=_0x8348d;!fns[_0x5510e8(0x21c)](_0x29e975,_0x47861d);_0x47861d=fns[_0x5510e8(0x36f)](_0x47861d,0x1)){const _0x230bff=fns[_0x5510e8(0x1d0)](_0x47861d,_0x5510e8(0x216));while(_0x124ed3<_0x1cd659[_0x5510e8(0x341)]){const _0x33e0a4=new Date(_0x1cd659[_0x124ed3][_0x5510e8(0x275)]);if(fns[_0x5510e8(0x21c)](_0x33e0a4,_0x47861d))_0x124ed3++;else{if(_0x1cd659[_0x124ed3][_0x5510e8(0x275)][_0x5510e8(0x393)](_0x230bff)){const _0x8a762d=_0x1cd659[_0x124ed3];if(_0x8a762d[_0x5510e8(0x293)]===_0x5510e8(0x1e2)&&(_0x8a762d[_0x5510e8(0x1ed)][_0x5510e8(0x393)](_0x5510e8(0x201))||_0x8a762d[_0x5510e8(0x1ed)]['includes'](_0x5510e8(0x2a4)))){const _0x53c8c7=_0x8a762d[_0x5510e8(0x1ed)]['match'](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x53c8c7){const [,_0x294153,_0x3e877f,_0x293de8,_0x37bf39]=_0x53c8c7,_0x28616d=_0x294153['includes']('/'+config[_0x5510e8(0x2ec)])?_0x294153['split']('/')[0x0]:_0x294153[_0x5510e8(0x1c3)]('/')[0x1],_0x21a722=calculatePnL(_0x294153,_0x28616d,_0x3e877f,parseFloat(_0x293de8),parseFloat(_0x37bf39),_0xd8f108);_0x593e91+=_0x21a722;}}_0x124ed3++;}else break;}}dbPerformance[_0x5510e8(0x2d4)](_0x5510e8(0x1ea))[_0x5510e8(0x2e8)]({'date':_0x230bff})[_0x5510e8(0x385)]({'pnl':_0x593e91})[_0x5510e8(0x290)]();}dbCoinResults[_0x5510e8(0x2e4)]('coins',_0xd8f108)['write'](),logger[_0x5510e8(0x33a)](_0x5510e8(0x202));const _0x36f352=getNormalizedPerformance();emitPerformance(_0x36f352);}async function updatePnL(_0x250be3){const _0x294917=_0x5eac0b,{symbol:_0x495615,coin:_0x1cfa9e,amount:_0x52055b,price:_0x536827,side:_0xe19b9c,reverse:_0x14f2e8}=_0x250be3;let _0x812675=dbCoinResults[_0x294917(0x2d4)](_0x294917(0x1f5))['value']();const _0x1f71c0=calculatePnL(_0x495615,_0x1cfa9e,_0xe19b9c,_0x52055b,_0x536827,_0x812675);dbCoinResults[_0x294917(0x2e4)](_0x294917(0x1f5),_0x812675)[_0x294917(0x290)]();const _0x10af14=getTimeStamp()[_0x294917(0x1c3)]('\x20')[0x0];let _0xf28815=dbPerformance[_0x294917(0x2d4)](_0x294917(0x1ea))[_0x294917(0x2e8)]({'date':_0x10af14})[_0x294917(0x28c)]();_0xf28815?(_0xf28815['pnl']+=_0x1f71c0,dbPerformance[_0x294917(0x2d4)](_0x294917(0x1ea))[_0x294917(0x2e8)]({'date':_0x10af14})[_0x294917(0x385)](_0xf28815)['write']()):await storePerformance();const _0x4956f2=getNormalizedPerformance();emitPerformance(_0x4956f2);}async function validate24hChanges(){const _0x232a3d=_0x5eac0b;for(const _0x52e7d7 of currentCoins){if(_0x52e7d7[_0x232a3d(0x217)]!=config[_0x232a3d(0x2ec)]){let _0x78c36c;_0x52e7d7['reverse']?_0x78c36c=formatResult((0x1/(gChange[_0x52e7d7[_0x232a3d(0x317)]]/0x64+0x1)-0x1)*0x64,0x3):_0x78c36c=gChange[_0x52e7d7[_0x232a3d(0x317)]],_0x78c36c<config[_0x232a3d(0x288)]&&(logHistory(_0x232a3d(0x256),_0x52e7d7[_0x232a3d(0x217)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x78c36c+'%'),logHistory('error',_0x232a3d(0x2d3)),logHistory(_0x232a3d(0x256),_0x232a3d(0x28d)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x5dc163,_0xe5f1c9){const _0x24f99b=_0x5eac0b;if(!_0x5dc163)return!![];const _0x3cc5f3=_0xe5f1c9[_0x24f99b(0x1c3)]('.'),_0x633eb4=_0x5dc163[_0x24f99b(0x1c3)]('.');for(var _0x5540b3=0x0;_0x5540b3<_0x633eb4['length'];_0x5540b3++){const _0x4bb560=~~_0x633eb4[_0x5540b3],_0x47e4a9=~~_0x3cc5f3[_0x5540b3];if(_0x4bb560<_0x47e4a9)return!![];if(_0x4bb560>_0x47e4a9)return![];}return![];}async function oneTimeMigration(){const _0x44fce5=_0x5eac0b;let _0x2b5df1=dbLogs[_0x44fce5(0x2d4)](_0x44fce5(0x27d))[_0x44fce5(0x28c)]();if(isOlderVersion(_0x2b5df1,_0x44fce5(0x2a5))){let _0x33db0f=[];const _0x58c833=dbLogs[_0x44fce5(0x2d4)](_0x44fce5(0x2a9))[_0x44fce5(0x28c)]();_0x58c833[_0x44fce5(0x2d1)](_0x43255f=>{const _0x46eda7=_0x44fce5;_0x33db0f['push']({'time':_0x43255f[_0x46eda7(0x275)],'type':_0x43255f[_0x46eda7(0x293)],'event':_0x43255f[_0x46eda7(0x1ed)]});}),dbLogs[_0x44fce5(0x2d4)](_0x44fce5(0x2a9))['assign'](_0x33db0f)[_0x44fce5(0x290)]();}let _0x2f9f4f=dbConfig[_0x44fce5(0x2d4)](_0x44fce5(0x27d))[_0x44fce5(0x28c)]();if(isOlderVersion(_0x2f9f4f,_0x44fce5(0x2a5))){let _0x11ddf6=dbConfig['get'](_0x44fce5(0x1d3))[_0x44fce5(0x2e8)]({'botID':botID})['value']();if(_0x11ddf6){let _0x1f0f22=[];_0x11ddf6[_0x44fce5(0x1c9)]['forEach'](_0x5f12bc=>{const _0x2dfbaa=_0x44fce5;_0x1f0f22[_0x2dfbaa(0x363)]({'coin':_0x5f12bc['coin'],'number':_0x5f12bc['startnumber'],'price':_0x5f12bc[_0x2dfbaa(0x31b)]}),delete _0x5f12bc[_0x2dfbaa(0x270)],delete _0x5f12bc[_0x2dfbaa(0x31b)];});if(_0x1f0f22['length']!==0x0)fs['writeFile'](configbackuppath+(_0x44fce5(0x265)+botID+_0x44fce5(0x1c7)),JSON['stringify'](_0x1f0f22,null,0x4),function(_0x366fa7){if(_0x366fa7){}});const _0x184bd2=(_0x35228a,_0x5e919c)=>{const _0x1f24a9=_0x44fce5;let _0x2b9331=[];_0x5e919c[_0x1f24a9(0x2d1)](_0x577da3=>{const _0x5c2edd=_0x1f24a9,_0x589ed0=_0x35228a[_0x5c2edd(0x2e8)](_0x28e10a=>_0x28e10a['coin']==_0x577da3['coin']);if(!_0x589ed0)_0x2b9331[_0x5c2edd(0x363)](_0x577da3);});let _0x57eb17=[];return _0x35228a['forEach'](_0x5de5d3=>{const _0x3446e7=_0x1f24a9,_0x48dbb7=_0x5e919c[_0x3446e7(0x2e8)](_0x417808=>_0x417808[_0x3446e7(0x217)]==_0x5de5d3[_0x3446e7(0x217)]);if(!_0x48dbb7||_0x48dbb7[_0x3446e7(0x21a)]==0x0&&_0x5de5d3[_0x3446e7(0x21a)]!=0x0)_0x57eb17[_0x3446e7(0x363)](_0x5de5d3);}),{'missingDay1':_0x2b9331,'notInDay2':_0x57eb17};},_0x444c3c=dbPerformance['get']('data')['cloneDeep']()[_0x44fce5(0x28c)]();if(_0x444c3c[_0x44fce5(0x341)]>0x1){const {missingDay1:_0x2589cd,notInDay2:_0x575e76}=_0x184bd2(_0x1f0f22,_0x444c3c[0x1][_0x44fce5(0x1f5)]);_0x1f0f22=[..._0x1f0f22,..._0x2589cd],_0x575e76[_0x44fce5(0x2d1)](_0x3492ed=>{const _0x57f133=_0x44fce5;let _0x57bb47=_0x1f0f22[_0x57f133(0x328)](_0x2fc8e0=>_0x2fc8e0[_0x57f133(0x217)]==_0x3492ed['coin']);_0x57bb47!=-0x1&&_0x1f0f22[_0x57f133(0x399)](_0x57bb47,0x1);});}_0x1f0f22[_0x44fce5(0x2cc)]((_0x51d5ca,_0x3d400d)=>_0x51d5ca[_0x44fce5(0x217)]>_0x3d400d[_0x44fce5(0x217)]?0x1:_0x3d400d[_0x44fce5(0x217)]>_0x51d5ca[_0x44fce5(0x217)]?-0x1:0x0);let _0x1f179b=[{'date':_0x11ddf6['startdate'],'changes':_0x1f0f22}];_0x444c3c[_0x44fce5(0x341)]>0x2&&_0x444c3c[_0x44fce5(0x2d1)]((_0x4c89e9,_0x4be3cd)=>{const _0x9eaab=_0x44fce5;if(_0x4be3cd>0x0&&_0x4be3cd<_0x444c3c['length']-0x1){const {missingDay1:_0x56d037,notInDay2:_0xe2c875}=_0x184bd2(_0x444c3c[_0x4be3cd][_0x9eaab(0x1f5)],_0x444c3c[_0x4be3cd+0x1][_0x9eaab(0x1f5)]);_0x1f0f22=[],(_0x56d037['length']!=0x0||_0xe2c875[_0x9eaab(0x341)]!=0x0)&&(_0x56d037[_0x9eaab(0x341)]!=0x0&&_0x1f0f22[_0x9eaab(0x363)](..._0x56d037),_0xe2c875[_0x9eaab(0x341)]!=0x0&&(_0xe2c875['forEach'](_0x422dd6=>{const _0x1c5b4a=_0x9eaab;_0x422dd6[_0x1c5b4a(0x21a)]=-_0x422dd6[_0x1c5b4a(0x21a)];}),_0x1f0f22[_0x9eaab(0x363)](..._0xe2c875)),_0x1f0f22[_0x9eaab(0x2cc)]((_0x54d0cf,_0x1dfd32)=>_0x54d0cf[_0x9eaab(0x217)]>_0x1dfd32[_0x9eaab(0x217)]?0x1:_0x1dfd32[_0x9eaab(0x217)]>_0x54d0cf['coin']?-0x1:0x0),_0x1f179b[_0x9eaab(0x363)]({'date':_0x444c3c[_0x4be3cd+0x1][_0x9eaab(0x333)],'changes':_0x1f0f22}));}}),dbConfig['get'](_0x44fce5(0x1d3))[_0x44fce5(0x2e8)]({'botID':botID})[_0x44fce5(0x385)]({..._0x11ddf6,'liquidity':_0x1f179b})[_0x44fce5(0x290)]();}}if(isOlderVersion(_0x2f9f4f,_0x44fce5(0x2af))){let _0x177daa=dbConfig[_0x44fce5(0x2d4)](_0x44fce5(0x1d3))[_0x44fce5(0x2e8)]({'botID':botID})[_0x44fce5(0x28c)]();if(_0x177daa){const _0xd4c340=_0x177daa['exchange'],_0x59312d=_0xd4c340?capitalize(_0xd4c340):'Binance';dbConfig[_0x44fce5(0x2d4)]('bot')[_0x44fce5(0x2e8)]({'botID':botID})[_0x44fce5(0x385)]({'exchange':_0x59312d})['write']();}}if(isOlderVersion(_0x2f9f4f,'2.6.22')){let _0x310f2e=dbConfig[_0x44fce5(0x2d4)]('bot')[_0x44fce5(0x2e8)]({'botID':botID})[_0x44fce5(0x28c)]();if(_0x310f2e){const _0x1f6b8a=_0x310f2e[_0x44fce5(0x376)],_0x1f9576=_0x1f6b8a?_0x44fce5(0x2fd):![];dbConfig[_0x44fce5(0x2d4)](_0x44fce5(0x1d3))[_0x44fce5(0x2e8)]({'botID':botID})['assign']({'marketcapEnabled':_0x1f9576})[_0x44fce5(0x290)]();}}if(isOlderVersion(_0x2f9f4f,_0x44fce5(0x2e2))){let _0x483f1e=dbConfig[_0x44fce5(0x2d4)](_0x44fce5(0x1d3))[_0x44fce5(0x2e8)]({'botID':botID})[_0x44fce5(0x28c)]();if(_0x483f1e){const _0x4fa0d9=_0x483f1e['autoliquidity'],_0x31328f=_0x4fa0d9?'update-liquidity':![];dbConfig[_0x44fce5(0x2d4)]('bot')[_0x44fce5(0x2e8)]({'botID':botID})[_0x44fce5(0x385)]({'autoliquidity':_0x31328f})['write']();}}let _0x49fe6f=dbPerformance[_0x44fce5(0x2d4)](_0x44fce5(0x27d))[_0x44fce5(0x28c)]();isOlderVersion(_0x49fe6f,'2.3.5')&&setStartDatePerformance();let _0x299b32=dbCoinResults[_0x44fce5(0x2d4)](_0x44fce5(0x27d))['value']();if(isOlderVersion(_0x299b32,_0x44fce5(0x1c8))){let _0x39f5a2=dbCoinResults[_0x44fce5(0x2d4)](_0x44fce5(0x1f5))[_0x44fce5(0x28c)]();if(_0x39f5a2[_0x44fce5(0x341)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xab8293=_0x5eac0b;dbConfig[_0xab8293(0x2e4)](_0xab8293(0x27d),serverversion)[_0xab8293(0x290)](),dbPerformance[_0xab8293(0x2e4)]('version',serverversion)['write'](),dbLogs[_0xab8293(0x2e4)](_0xab8293(0x27d),serverversion)[_0xab8293(0x290)](),dbCoinResults['set'](_0xab8293(0x27d),serverversion)[_0xab8293(0x290)]();}function getConfiguration(_0xa614a5){const _0x2486ff=_0x5eac0b;let _0x4da4eb=dbConfig[_0x2486ff(0x2d4)](_0x2486ff(0x1d3))[_0x2486ff(0x2e8)]({'botID':_0xa614a5})[_0x2486ff(0x28c)]();if(_0x4da4eb){let _0x58c214=![];typeof _0x4da4eb[_0x2486ff(0x389)]==_0x2486ff(0x2bc)&&(_0x4da4eb={..._0x4da4eb,'threshold':Number(_0x4da4eb['threshold'])},_0x58c214=!![]),_0x4da4eb[_0x2486ff(0x288)]==undefined&&(_0x4da4eb={..._0x4da4eb,'change24h':-0x14},_0x58c214=!![]),_0x4da4eb['fiat']==undefined&&(_0x4da4eb={..._0x4da4eb,'fiat':'USD'},_0x58c214=!![]),_0x4da4eb[_0x2486ff(0x279)]==undefined&&(_0x4da4eb={..._0x4da4eb,'onepagemode':settings['onepagemode']},_0x58c214=!![]),_0x4da4eb[_0x2486ff(0x2ab)]==undefined&&(_0x4da4eb={..._0x4da4eb,'colorscheme':_0x2486ff(0x21b)},_0x58c214=!![]),_0x4da4eb[_0x2486ff(0x36d)]==undefined&&(_0x4da4eb={..._0x4da4eb,'autoliquidity':_0x2486ff(0x1cc)},_0x58c214=!![]),_0x4da4eb[_0x2486ff(0x225)]==undefined&&(_0x4da4eb={..._0x4da4eb,'marketcapApi':settings[_0x2486ff(0x225)]?!![]:![]},_0x58c214=!![]),_0x4da4eb[_0x2486ff(0x376)]==undefined&&(_0x4da4eb={..._0x4da4eb,'marketcapEnabled':![]},_0x58c214=!![]),_0x4da4eb[_0x2486ff(0x2f6)]==undefined&&(_0x4da4eb={..._0x4da4eb,'sandbox':![]},_0x58c214=!![]),_0x58c214&&(_0x4da4eb={'botID':_0x4da4eb[_0x2486ff(0x1e9)],'exchange':_0x4da4eb[_0x2486ff(0x1df)],'apiKey':_0x4da4eb[_0x2486ff(0x2a1)],'apiSecret':_0x4da4eb[_0x2486ff(0x26d)],'apiPassword':_0x4da4eb['apiPassword'],'basecoin':_0x4da4eb[_0x2486ff(0x2ec)],'botname':_0x4da4eb['botname'],'showname':_0x4da4eb['showname'],'threshold':_0x4da4eb[_0x2486ff(0x389)],'ordertype':_0x4da4eb[_0x2486ff(0x1cd)],'timeout':_0x4da4eb[_0x2486ff(0x23e)],'fiat':_0x4da4eb[_0x2486ff(0x321)],'startdate':_0x4da4eb[_0x2486ff(0x34f)],'recreate':_0x4da4eb[_0x2486ff(0x2b8)],'timeshift':_0x4da4eb['timeshift'],'onepagemode':_0x4da4eb[_0x2486ff(0x279)],'headless':_0x4da4eb[_0x2486ff(0x24d)],'cooldown':_0x4da4eb[_0x2486ff(0x378)],'change24h':_0x4da4eb['change24h'],'emojibuy':_0x4da4eb['emojibuy'],'emojisell':_0x4da4eb[_0x2486ff(0x326)],'colorscheme':_0x4da4eb[_0x2486ff(0x2ab)],'marketcapApi':_0x4da4eb[_0x2486ff(0x225)],'marketcapEnabled':_0x4da4eb[_0x2486ff(0x376)],'sandbox':_0x4da4eb['sandbox'],'portfolio':_0x4da4eb[_0x2486ff(0x1c9)],'autoliquidity':_0x4da4eb[_0x2486ff(0x36d)],'liquidity':_0x4da4eb[_0x2486ff(0x23c)],'openOrders':_0x4da4eb['openOrders']},dbConfig[_0x2486ff(0x2d4)](_0x2486ff(0x1d3))[_0x2486ff(0x205)]()[_0x2486ff(0x290)](),dbConfig['get'](_0x2486ff(0x1d3))[_0x2486ff(0x363)](_0x4da4eb)[_0x2486ff(0x290)]());}else _0x4da4eb={'botID':_0xa614a5,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0xa614a5,'showname':![],'threshold':0x3,'ordertype':_0x2486ff(0x2e0),'timeout':0x14,'fiat':_0x2486ff(0x267),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2486ff(0x327)],'onepagemode':settings[_0x2486ff(0x279)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x2486ff(0x21b),'marketcapApi':settings[_0x2486ff(0x225)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':'update-liquidity','liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4da4eb;}function emittedConfiguration(){const _0xb1e119=_0x5eac0b;let _0x1c205c;if(config['apiKey']=='')_0x1c205c={...config,'configstate':'initial'};else config[_0xb1e119(0x2a1)]==_0xb1e119(0x31e)?_0x1c205c={...config,'configstate':_0xb1e119(0x246)}:(_0x1c205c={...config,'apiKey':_0xb1e119(0x364),'apiSecret':'************'},config[_0xb1e119(0x2de)]&&(_0x1c205c[_0xb1e119(0x2de)]=_0xb1e119(0x364)));return _0x1c205c[_0xb1e119(0x342)]=enableFiatToggle,_0x1c205c;}function getSettings(){const _0x1b23d9=_0x5eac0b;return dbSettings[_0x1b23d9(0x2d4)](_0x1b23d9(0x285))[_0x1b23d9(0x28c)]();}function getSecure(){const _0x537b86=_0x5eac0b;return dbSecure[_0x537b86(0x2d4)]('secure')[_0x537b86(0x28c)]()||{};}function updateTimeshift(_0x615b72){const _0x12de4f=_0x5eac0b;let _0x82a522=dbConfig[_0x12de4f(0x2d4)](_0x12de4f(0x1d3))['find']({'botID':botID})[_0x12de4f(0x28c)]();_0x82a522&&dbConfig[_0x12de4f(0x2d4)]('bot')['find']({'botID':botID})[_0x12de4f(0x385)]({'timeshift':_0x615b72})[_0x12de4f(0x290)](),config['timeshift']=_0x615b72,proxyEmit(_0x12de4f(0x200),emittedConfiguration());}function updateOnepagemode(_0x1a3a68){const _0x50e1a1=_0x5eac0b;let _0x5c5ffe=dbConfig[_0x50e1a1(0x2d4)]('bot')[_0x50e1a1(0x2e8)]({'botID':botID})[_0x50e1a1(0x28c)]();_0x5c5ffe&&dbConfig[_0x50e1a1(0x2d4)](_0x50e1a1(0x1d3))[_0x50e1a1(0x2e8)]({'botID':botID})['assign']({'onepagemode':_0x1a3a68})['write'](),config[_0x50e1a1(0x279)]=_0x1a3a68,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0xd91d55){const _0x5efefc=_0x5eac0b,_0x1b96e7=_0xd91d55?!![]:![];let _0x49c13c=dbConfig[_0x5efefc(0x2d4)](_0x5efefc(0x1d3))[_0x5efefc(0x2e8)]({'botID':botID})[_0x5efefc(0x28c)]();_0x49c13c&&dbConfig[_0x5efefc(0x2d4)](_0x5efefc(0x1d3))[_0x5efefc(0x2e8)]({'botID':botID})['assign']({'marketcapApi':_0x1b96e7})[_0x5efefc(0x290)](),config[_0x5efefc(0x225)]=_0x1b96e7,getMarketCap(),proxyEmit(_0x5efefc(0x200),emittedConfiguration());}async function storeConfiguration(_0xd4dafa){const _0x519a58=_0x5eac0b;logger[_0x519a58(0x33a)](_0x519a58(0x282));_0xd4dafa[_0x519a58(0x306)]&&delete _0xd4dafa[_0x519a58(0x306)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x241256=![],_0x477e23=![],_0x4c8caa=[];_0xd4dafa[_0x519a58(0x1c9)][_0x519a58(0x2d1)](_0x4692ea=>{const _0x3612c5=_0x519a58;if(!_0x4692ea[_0x3612c5(0x2fe)]&&_0x4692ea['coin']!=_0xd4dafa[_0x3612c5(0x2ec)])_0x4c8caa['push'](_0x4692ea['symbol']);}),_0x4c8caa[_0x519a58(0x2d1)](_0x2e1f26=>{const _0x4c39a4=_0x519a58,_0x24e252=currentCoins['find'](_0x50657d=>_0x50657d[_0x4c39a4(0x317)]==_0x2e1f26);!_0x24e252&&(_0x241256=!![]);}),currentCoins['forEach'](_0x35eca6=>{const _0x2a8204=_0x519a58;if(_0x35eca6['coin']!=config[_0x2a8204(0x2ec)]){const _0x2617b3=_0x4c8caa[_0x2a8204(0x2e8)](_0x4e953f=>_0x4e953f==_0x35eca6[_0x2a8204(0x317)]);!_0x2617b3&&(_0x241256=!![]);}}),_0xd4dafa['portfolio'][_0x519a58(0x2d1)](_0x33b559=>{const _0x4897e4=_0x519a58,_0x212c08=config[_0x4897e4(0x1c9)][_0x4897e4(0x2e8)](_0x558f83=>_0x558f83[_0x4897e4(0x217)]==_0x33b559[_0x4897e4(0x217)]);if(_0x212c08&&_0x33b559[_0x4897e4(0x280)]!=_0x212c08[_0x4897e4(0x280)])_0x477e23=!![];});let _0x1312f5=dbConfig[_0x519a58(0x2d4)](_0x519a58(0x1d3))[_0x519a58(0x2e8)]({'botID':botID})[_0x519a58(0x28c)]();_0xd4dafa={..._0xd4dafa,'apiKey':decryptRSA(secure['privateKey'],_0xd4dafa[_0x519a58(0x2a1)]),'apiSecret':decryptRSA(secure[_0x519a58(0x1d6)],_0xd4dafa[_0x519a58(0x26d)])};_0xd4dafa[_0x519a58(0x2de)]&&(_0xd4dafa[_0x519a58(0x2de)]=decryptRSA(secure[_0x519a58(0x1d6)],_0xd4dafa[_0x519a58(0x2de)]));let _0x437e78=![];if(_0x1312f5){_0xd4dafa['apiKey']==_0x519a58(0x364)?_0xd4dafa[_0x519a58(0x2a1)]=config[_0x519a58(0x2a1)]:_0x437e78=!![];_0xd4dafa['apiSecret']==_0x519a58(0x364)?_0xd4dafa[_0x519a58(0x26d)]=config[_0x519a58(0x26d)]:_0x437e78=!![];if(_0xd4dafa[_0x519a58(0x2de)]==_0x519a58(0x364))_0xd4dafa[_0x519a58(0x2de)]=config['apiPassword'];else{if(_0xd4dafa['apiPassword'])_0x437e78=!![];}dbConfig[_0x519a58(0x2d4)](_0x519a58(0x1d3))['find']({'botID':botID})[_0x519a58(0x385)](_0xd4dafa)[_0x519a58(0x290)]();}else dbConfig[_0x519a58(0x2d4)](_0x519a58(0x1d3))['push'](_0xd4dafa)[_0x519a58(0x290)](),_0x437e78=!![],process[_0x519a58(0x212)]({'status':_0x519a58(0x2f5),'live':_0x519a58(0x37d)},_0x571cfc=>{});process[_0x519a58(0x212)]({'botname':_0xd4dafa[_0x519a58(0x2f0)]},_0x4b1d1a=>{}),config={..._0xd4dafa},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x437e78)await reset(!![]);else _0x241256||_0x477e23?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x2e7085){const _0x3e0dbd=_0x5eac0b,_0x574388={...config,'headless':_0x2e7085[_0x3e0dbd(0x24d)]};let _0x5510eb=dbConfig[_0x3e0dbd(0x2d4)](_0x3e0dbd(0x1d3))['find']({'botID':botID})[_0x3e0dbd(0x28c)]();_0x5510eb&&dbConfig[_0x3e0dbd(0x2d4)](_0x3e0dbd(0x1d3))[_0x3e0dbd(0x2e8)]({'botID':botID})['assign'](_0x574388)['write'](),config={..._0x574388},updateBotManager(),proxyEmit(_0x3e0dbd(0x200),emittedConfiguration());}async function storeFiat(_0xea2d64){const _0x53a6bf=_0x5eac0b,_0x5a378b={...config,'fiat':_0xea2d64};let _0x2dc0e3=dbConfig[_0x53a6bf(0x2d4)](_0x53a6bf(0x1d3))[_0x53a6bf(0x2e8)]({'botID':botID})[_0x53a6bf(0x28c)]();_0x2dc0e3&&dbConfig['get']('bot')[_0x53a6bf(0x2e8)]({'botID':botID})[_0x53a6bf(0x385)](_0x5a378b)['write'](),config={..._0x5a378b},proxyEmit(_0x53a6bf(0x200),emittedConfiguration());}function resetHistory(){const _0x2d14bc=_0x5eac0b;logger[_0x2d14bc(0x31a)](_0x2d14bc(0x315));try{if(fs[_0x2d14bc(0x381)](path[_0x2d14bc(0x1e1)](configpath,'bot-'+botID+_0x2d14bc(0x25e))))fs[_0x2d14bc(0x1cf)](path['join'](configpath,_0x2d14bc(0x2c4)+botID+_0x2d14bc(0x25e)));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+_0x2d14bc(0x2ee))))fs['unlinkSync'](path[_0x2d14bc(0x1e1)](configpath,_0x2d14bc(0x2c4)+botID+_0x2d14bc(0x2ee)));if(fs[_0x2d14bc(0x381)](path[_0x2d14bc(0x1e1)](configpath,'bot-'+botID+_0x2d14bc(0x314))))fs[_0x2d14bc(0x1cf)](path[_0x2d14bc(0x1e1)](configpath,_0x2d14bc(0x2c4)+botID+_0x2d14bc(0x314)));}catch(_0x1a3a51){if(_0x1a3a51)logger[_0x2d14bc(0x31a)](_0x2d14bc(0x22e),_0x1a3a51);}const _0x25a6f9=getDate();let _0xec6dde=[];currentCoins[_0x2d14bc(0x2d1)](_0x5a8f65=>{const _0x3c6cd4=_0x2d14bc;_0xec6dde[_0x3c6cd4(0x363)]({'coin':_0x5a8f65[_0x3c6cd4(0x217)],'number':_0x5a8f65[_0x3c6cd4(0x21a)],'price':_0x5a8f65[_0x3c6cd4(0x35e)]});});let _0x1c8c8a=dbConfig['get'](_0x2d14bc(0x1d3))['find']({'botID':botID})['value']();_0x1c8c8a&&(dbConfig[_0x2d14bc(0x2d4)](_0x2d14bc(0x1d3))['find']({'botID':botID})[_0x2d14bc(0x385)]({'liquidity':[{'date':_0x25a6f9,'changes':_0xec6dde}]})['write'](),config[_0x2d14bc(0x23c)]=[]),restartBot(!![]);}function noslash(_0x56f1e8){const _0x349303=_0x5eac0b;return _0x56f1e8[_0x349303(0x359)]('/','');}function updateHighestFee(_0x2968fc){const _0x1f49e1=_0x5eac0b;if(_0x2968fc[_0x1f49e1(0x23b)]){let _0x1aae1d={'filled':_0x2968fc[_0x1f49e1(0x2f8)]*_0x2968fc[_0x1f49e1(0x318)],'amount':_0x2968fc[_0x1f49e1(0x2f8)]*_0x2968fc[_0x1f49e1(0x318)],'side':_0x2968fc[_0x1f49e1(0x215)]==_0x1f49e1(0x2ae)?_0x1f49e1(0x304):_0x1f49e1(0x2ae),'price':0x1/_0x2968fc[_0x1f49e1(0x318)]};_0x2968fc={..._0x2968fc,..._0x1aae1d};}const _0x166385=defaultFee*_0x2968fc['filled']*_0x2968fc[_0x1f49e1(0x318)];lastFees['recent20'][_0x1f49e1(0x341)]===0x14&&lastFees[_0x1f49e1(0x2c2)][_0x1f49e1(0x2e3)](),lastFees[_0x1f49e1(0x2c2)]['push'](_0x166385),lastFees['highest']=Math['max'](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x319522){const _0x42c187=_0x5eac0b;logger[_0x42c187(0x33a)](_0x42c187(0x38c)+_0x319522[_0x42c187(0x317)]+_0x42c187(0x2c5)+_0x319522[_0x42c187(0x261)]+_0x42c187(0x2c5)+_0x319522[_0x42c187(0x2f8)]+'\x20/\x20'+_0x319522[_0x42c187(0x204)]+_0x42c187(0x2c5)+_0x319522['id']);let _0x18f965=_0x319522[_0x42c187(0x261)],_0x492f48=![];currentCoins[_0x42c187(0x2d1)](_0x1cbc72=>{const _0x5baeca=_0x42c187;_0x1cbc72['symbol']==_0x319522[_0x5baeca(0x317)]&&(_0x492f48=!![]);});if(!_0x492f48)return;const _0x43e39d=currentCoins['find'](_0x54238f=>_0x54238f[_0x42c187(0x317)]==_0x319522[_0x42c187(0x317)]),_0x2ab372=_0x43e39d[_0x42c187(0x217)],_0x3dc5c8=_0x15e80c=>{const _0x39bb43=_0x42c187,_0x223aaf=currentCoins[_0x39bb43(0x2e8)](_0x281d53=>_0x281d53['symbol']==_0x319522[_0x39bb43(0x317)]);if(_0x223aaf)_0x223aaf[_0x39bb43(0x28e)]=_0x15e80c;};let _0x6cb88f=![];for(const _0x34abe3 of lastOrders){const _0x19178e=0x64,_0x219271=0x1388;let _0x5c199d=0x0;while(!_0x34abe3['orderId']&&_0x5c199d*_0x19178e<_0x219271){_0x5c199d++,await sleep(_0x19178e);}if(_0x5c199d>0x0)logger[_0x42c187(0x33a)]('Waited\x20'+_0x5c199d*_0x19178e/0x3e8+_0x42c187(0x2c7));_0x34abe3[_0x42c187(0x1c1)]==_0x319522['id']&&(_0x6cb88f=!![]);}if(_0x18f965==_0x42c187(0x354)){_0x3dc5c8(_0x42c187(0x354));if(_0x319522['filled']>0x0&&_0x319522['filled']<_0x319522[_0x42c187(0x204)]){if(_0x6cb88f){setBlockTransactionDetection(!![]),logger[_0x42c187(0x33a)](_0x42c187(0x325)+_0x319522[_0x42c187(0x2f8)]+_0x42c187(0x308)+_0x319522['id']);const _0x586865=await getCoins(balanceUpdateDelay,undefined,undefined,_0x2ab372);[currentCoins,currentCoinsAll]=_0x586865,setBlockTransactionDetection(![]);}else logger[_0x42c187(0x33a)](_0x42c187(0x325)+_0x319522[_0x42c187(0x2f8)]+_0x42c187(0x1de)+_0x319522['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x18f965=='canceled'){_0x3dc5c8('canceled'),lastOrders=lastOrders[_0x42c187(0x29e)](_0x2b7196=>_0x2b7196['symbol']!=_0x319522['symbol']);const _0x589e67=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x589e67,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x18f965==_0x42c187(0x1f4)){if(lastOrders)for(const _0x48ec6c of lastOrders){if(_0x48ec6c[_0x42c187(0x1c1)]==_0x319522['id']){logger[_0x42c187(0x33a)](_0x42c187(0x313)+_0x319522['id']),_0x6cb88f=!![];if(_0x48ec6c[_0x42c187(0x2f8)]==0x0){setBlockTransactionDetection(!![]),logger[_0x42c187(0x33a)](_0x42c187(0x235)+_0x319522['id']);if(_0x319522['average'])_0x48ec6c[_0x42c187(0x318)]=_0x319522[_0x42c187(0x214)];else{if(_0x319522[_0x42c187(0x318)])_0x48ec6c[_0x42c187(0x318)]=_0x319522[_0x42c187(0x318)];else{}}_0x48ec6c[_0x42c187(0x2f8)]=_0x319522[_0x42c187(0x2f8)],updateHighestFee(_0x48ec6c);const _0x4f8278=await getCoins(balanceUpdateDelay,undefined,undefined,_0x2ab372);[currentCoins,currentCoinsAll]=_0x4f8278,setBlockTransactionDetection(![]),await validateOrders(),_0x3dc5c8('filled'),_0x48ec6c['fee']={'currency':_0x319522[_0x42c187(0x2cb)]?_0x319522[_0x42c187(0x2cb)][_0x42c187(0x352)]:null,'cost':_0x319522[_0x42c187(0x2cb)]?_0x319522[_0x42c187(0x2cb)][_0x42c187(0x266)]:0x0},await updatePnL(_0x48ec6c);}}}!_0x6cb88f&&(logger[_0x42c187(0x33a)](_0x42c187(0x369)+_0x319522['id']),_0x3dc5c8(_0x42c187(0x2f8)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0xe3b2a2=JSON['parse'](lastBalances[_0x42c187(0x1c9)]);const _0x7828f5=_0xe3b2a2['find'](_0x529868=>_0x529868[_0x42c187(0x317)]==_0x319522[_0x42c187(0x317)]);if(_0x7828f5){if(_0x18f965==_0x42c187(0x354))_0x7828f5['orderstatus']=_0x7828f5['orderstatus']==_0x42c187(0x2f8)?_0x42c187(0x2f8):_0x42c187(0x354);else{if(_0x18f965==_0x42c187(0x1f2))_0x7828f5[_0x42c187(0x28e)]=_0x7828f5[_0x42c187(0x28e)]==_0x42c187(0x2f8)?_0x42c187(0x2f8):'canceled';else _0x18f965==_0x42c187(0x1f4)&&(_0x7828f5[_0x42c187(0x28e)]=_0x42c187(0x2f8));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0xe3b2a2)},proxyEmit(_0x42c187(0x248),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x31ae1c=_0x5eac0b;await getOpenOrders();let _0x4e3e8a=![];currentCoins[_0x31ae1c(0x2d1)](_0x13e123=>{const _0x52dd53=_0x31ae1c;_0x4e3e8a=allOpenOrders['find'](_0x41b0e1=>_0x41b0e1['symbol']==_0x13e123[_0x52dd53(0x317)]),_0x13e123['orderstatus']=_0x4e3e8a?_0x52dd53(0x354):'none';});}async function fetchBalance(_0x1d5c6c=!![]){const _0x3441ab=_0x5eac0b;let _0x13b2be,_0x477bcb,_0x54430a,_0x416751=0x0;while(!_0x477bcb&&_0x416751<maxRetries){try{return _0x13b2be=await exchange[_0x3441ab(0x26a)](),_0x477bcb=_0x13b2be[_0x3441ab(0x348)],_0x477bcb;}catch(_0x534377){_0x54430a=_0x534377,_0x416751++,await sleep(retryInterval);}}return!_0x1d5c6c?handleErrorNoStop(_0x54430a,_0x3441ab(0x2a0)):await handleError(_0x54430a,_0x3441ab(0x2a0)),![];}async function getCoins(_0x2cb614=0x0,_0x278eb9=!![],_0x72ab18=config[_0x5eac0b(0x2ec)],_0x44059b){const _0x242a8b=_0x5eac0b;let _0x2ed27b=[],_0x1e0c08=[],_0xdd4cc=[],_0x219db;if(_0x2cb614)await sleep(_0x2cb614);if(botPaused)return[currentCoins,currentCoinsAll];let _0x5b0661=![],_0xc476c3=0x0,_0x39b809,_0x40cdcb;_0x44059b&&(_0x39b809=currentCoins[_0x242a8b(0x2e8)](_0x16984b=>_0x16984b[_0x242a8b(0x217)]==_0x44059b),_0x39b809&&(_0x40cdcb=_0x39b809[_0x242a8b(0x396)],delete _0x39b809[_0x242a8b(0x396)]));while(!_0x5b0661){_0x219db=await fetchBalance(_0x278eb9);if(_0x219db){if(_0x44059b){if(_0x219db[_0x44059b]!=_0x40cdcb)logger['debug'](_0x242a8b(0x30e)+_0x44059b+':\x20'+_0x219db[_0x44059b]+'\x20('+_0x40cdcb+')'),_0x5b0661=!![];else{logger['debug']('Invalid\x20balance\x20for\x20'+_0x44059b+':\x20'+_0x219db[_0x44059b]+'\x20('+_0x40cdcb+')'),_0xc476c3++;if(_0xc476c3<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x242a8b(0x33a)](_0x242a8b(0x25c)+_0xc476c3+_0x242a8b(0x379));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x1a32a4,_0x4afdea]of Object[_0x242a8b(0x346)](_0x219db)){_0xdd4cc[_0x242a8b(0x363)](_0x1a32a4);}config[_0x242a8b(0x1c9)][_0x242a8b(0x2d1)](_0x2a3523=>{const _0x41db5a=_0x242a8b;!_0xdd4cc['includes'](_0x2a3523['coin'])&&(_0x219db[_0x2a3523[_0x41db5a(0x217)]]=0x0);});if(_0x72ab18=='')for(const [_0x37ca5b,_0x37fc88]of Object[_0x242a8b(0x346)](_0x219db)){_0x37fc88!=0x0&&_0x2ed27b[_0x242a8b(0x363)]({'coin':_0x37ca5b});}else for(const [_0x82c982,_0x1dce9e]of Object[_0x242a8b(0x346)](_0x219db)){const _0xd5001c=config[_0x242a8b(0x1c9)][_0x242a8b(0x2e8)](_0xb91c96=>_0xb91c96[_0x242a8b(0x217)]==_0x82c982),_0x818c1=_0x82c982+'/'+_0x72ab18,_0x13cb21=_0x72ab18+'/'+_0x82c982,_0x10c174=currentCoins[_0x242a8b(0x2e8)](_0x5572f8=>_0x5572f8[_0x242a8b(0x217)]==_0x82c982);if((_0x1dce9e!=0x0||_0xd5001c)&&(allSymbols[_0x242a8b(0x393)](_0x818c1)||_0x82c982==_0x72ab18))_0x10c174?_0x2ed27b[_0x242a8b(0x363)]({..._0x10c174,'number':Math['max'](_0x1dce9e+(_0xd5001c&&_0xd5001c[_0x242a8b(0x280)]||0x0),0x0)}):_0x2ed27b[_0x242a8b(0x363)]({'coin':_0x82c982,'symbol':_0x818c1,'reverse':![],'number':Math[_0x242a8b(0x1e3)](_0x1dce9e+(_0xd5001c&&_0xd5001c[_0x242a8b(0x280)]||0x0),0x0),'orderstatus':'none'});else{if((_0x1dce9e!=0x0||_0xd5001c)&&allSymbols['includes'](_0x13cb21))_0x10c174?_0x2ed27b[_0x242a8b(0x363)]({..._0x10c174,'number':Math['max'](_0x1dce9e+(_0xd5001c&&_0xd5001c['offset']||0x0),0x0)}):_0x2ed27b[_0x242a8b(0x363)]({'coin':_0x82c982,'symbol':_0x13cb21,'reverse':!![],'number':Math[_0x242a8b(0x1e3)](_0x1dce9e+(_0xd5001c&&_0xd5001c[_0x242a8b(0x280)]||0x0),0x0),'orderstatus':_0x242a8b(0x1f9)});else _0xd5001c&&_0x2ed27b[_0x242a8b(0x363)]({'coin':_0xd5001c[_0x242a8b(0x217)],'symbol':_0xd5001c['symbol'],'reverse':_0xd5001c[_0x242a8b(0x23b)],'number':0x0,'orderstatus':_0x242a8b(0x1f9)});}}return _0x2ed27b[_0x242a8b(0x2cc)]((_0x275cf4,_0x30b260)=>_0x275cf4[_0x242a8b(0x1c0)]<_0x30b260[_0x242a8b(0x1c0)]?0x1:_0x30b260[_0x242a8b(0x1c0)]<_0x275cf4[_0x242a8b(0x1c0)]?-0x1:0x0),_0x1e0c08=cloneDeep(_0x2ed27b),_0x2ed27b=_0x2ed27b[_0x242a8b(0x29e)](_0x454334=>{const _0x11677c=_0x242a8b,_0x560f2b=config[_0x11677c(0x1c9)][_0x11677c(0x2e8)](_0x4fb470=>_0x4fb470[_0x11677c(0x217)]==_0x454334[_0x11677c(0x217)]);return _0x560f2b&&!_0x560f2b[_0x11677c(0x2fe)];}),[_0x2ed27b,_0x1e0c08];}async function getOpenOrders(){const _0x135b66=_0x5eac0b;let _0x2e2e03;allOpenOrders=[];try{for(const _0xf1e4a3 of config[_0x135b66(0x1c9)]){!_0xf1e4a3[_0x135b66(0x2fe)]&&_0xf1e4a3[_0x135b66(0x217)]!=config['basecoin']&&(_0x2e2e03=await exchange[_0x135b66(0x35b)](_0xf1e4a3[_0x135b66(0x317)]),_0x2e2e03[_0x135b66(0x341)]>0x0&&allOpenOrders[_0x135b66(0x363)](_0x2e2e03[0x0]));}}catch(_0x5a7c96){await handleError(_0x5a7c96,'getOpenOrders()');}}async function handleOpenOrders(_0x2aee9d=0x0){const _0x38c932=_0x5eac0b;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x38c932(0x362)]&&allOrdersPlaced&&(_0x2aee9d==0x0?(logger[_0x38c932(0x33a)]('1\x20-\x20Handle\x20open\x20orders'),_0x2aee9d++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x38c932(0x33a)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x38c932(0x227))));}async function testAPI(){const _0x1f5c44=_0x5eac0b;try{return await exchange[_0x1f5c44(0x26a)](),!![];}catch(_0x4220f2){loading[_0x1f5c44(0x37e)]=!![],_0x4220f2['toString']()[_0x1f5c44(0x322)]()[_0x1f5c44(0x393)]('timestamp')||_0x4220f2[_0x1f5c44(0x20c)]()[_0x1f5c44(0x322)]()['includes'](_0x1f5c44(0x2bb))?(logHistory(_0x1f5c44(0x256),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading[_0x1f5c44(0x256)]=_0x1f5c44(0x380)):handleErrorNoStop(_0x4220f2,_0x1f5c44(0x2f3),!![]),logHistory(_0x1f5c44(0x256),_0x1f5c44(0x386)),logHistory(_0x1f5c44(0x256),_0x1f5c44(0x1eb)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x1f5c44(0x33a)](_0x1f5c44(0x1e7),_0x4220f2),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x3e759b){const _0x30eea0=_0x5eac0b;logger[_0x30eea0(0x33a)](_0x30eea0(0x296));const _0x941f37=ccxt[_0x30eea0(0x1dd)][_0x3e759b['exchange'][_0x30eea0(0x322)]()],_0x1aabdc=new _0x941f37({'apiKey':_0x3e759b['apiKey'],'secret':_0x3e759b[_0x30eea0(0x26d)],'options':{'defaultType':_0x30eea0(0x291)}});if(_0x3e759b[_0x30eea0(0x2de)])_0x1aabdc[_0x30eea0(0x395)]=_0x3e759b[_0x30eea0(0x2de)];if(_0x1aabdc['has'][_0x30eea0(0x2f6)])_0x1aabdc['setSandboxMode'](_0x3e759b[_0x30eea0(0x2f6)]);if(_0x3e759b[_0x30eea0(0x1df)][_0x30eea0(0x322)]()=='bitvavo')_0x1aabdc[_0x30eea0(0x226)][_0x30eea0(0x34a)]=operatorId;try{await _0x1aabdc[_0x30eea0(0x26a)](),botPaused=![];}catch(_0x17575d){logger[_0x30eea0(0x33a)]('Error\x20in\x20testNewAPI():\x20'+_0x17575d[_0x30eea0(0x20c)]());throw _0x17575d;}}function cloneDeep(_0x428bf6){const _0x2cbdad=_0x5eac0b;return JSON['parse'](JSON[_0x2cbdad(0x28a)](_0x428bf6));}async function getPortfolio(_0x506f95){const _0x4eb650=_0x5eac0b;let _0x35e709=[],_0x436c23=[],_0x31a8b=[],_0x14bc1e;_0x506f95['apiKey']=decryptRSA(secure[_0x4eb650(0x1d6)],_0x506f95[_0x4eb650(0x2a1)]),_0x506f95['apiSecret']=decryptRSA(secure[_0x4eb650(0x1d6)],_0x506f95[_0x4eb650(0x26d)]);if(_0x506f95['apiPassword'])_0x506f95[_0x4eb650(0x2de)]=decryptRSA(secure[_0x4eb650(0x1d6)],_0x506f95[_0x4eb650(0x2de)]);if(_0x506f95['apiKey']!=='************'||_0x506f95[_0x4eb650(0x26d)]!==_0x4eb650(0x364)||_0x506f95[_0x4eb650(0x2de)]&&_0x506f95[_0x4eb650(0x2de)]!==_0x4eb650(0x364)){if(config[_0x4eb650(0x1df)]){if(_0x506f95[_0x4eb650(0x2a1)]==_0x4eb650(0x364))_0x506f95['apiKey']=config[_0x4eb650(0x2a1)];if(_0x506f95[_0x4eb650(0x26d)]==_0x4eb650(0x364))_0x506f95[_0x4eb650(0x26d)]=config[_0x4eb650(0x26d)];if(_0x506f95[_0x4eb650(0x2de)]=='************')_0x506f95['apiPassword']=config[_0x4eb650(0x2de)];}try{if(_0x506f95['testApi'])await testNewAPI(_0x506f95);}catch(_0x5a58f9){if(_0x5a58f9[_0x4eb650(0x20c)]()[_0x4eb650(0x393)](_0x4eb650(0x2aa))){logHistory('error',_0x4eb650(0x2ad)),logHistory(_0x4eb650(0x256),'Error\x20details:\x20'+_0x5a58f9[_0x4eb650(0x20c)]()),proxyEmit(_0x4eb650(0x1fe),![]);return;}else{if(_0x5a58f9[_0x4eb650(0x20c)]()[_0x4eb650(0x393)](_0x4eb650(0x27b))){logHistory('error',_0x4eb650(0x392)),logHistory('error',_0x4eb650(0x303)+_0x5a58f9[_0x4eb650(0x20c)]()),proxyEmit('portfolio1',![]);return;}else{logHistory(_0x4eb650(0x256),_0x4eb650(0x21d)+_0x5a58f9[_0x4eb650(0x20c)]()),logger['debug'](_0x4eb650(0x1e7),_0x5a58f9),proxyEmit(_0x4eb650(0x1fe),![]);return;}}}exchange?updateExchange(_0x506f95[_0x4eb650(0x2a1)],_0x506f95[_0x4eb650(0x26d)],_0x506f95['apiPassword']):await initExchange(_0x506f95[_0x4eb650(0x1df)],_0x506f95[_0x4eb650(0x2a1)],_0x506f95[_0x4eb650(0x26d)],_0x506f95[_0x4eb650(0x2de)],_0x506f95[_0x4eb650(0x2f6)]);await loadSymbols();const _0x4365cf=await getCoins(0x0,![],_0x506f95[_0x4eb650(0x2ec)]);_0x31a8b=cloneDeep(_0x4365cf[0x1]);}else{const _0x2a2f44=await getCoins();_0x31a8b=cloneDeep(_0x2a2f44[0x1]);}if(_0x506f95[_0x4eb650(0x2ec)]=='')proxyEmit(_0x4eb650(0x1fe),!![]),proxyEmit(_0x4eb650(0x294),_0x31a8b);else{_0x31a8b[_0x4eb650(0x2d1)](_0xd146dd=>{const _0x483c32=_0x4eb650;if(_0xd146dd[_0x483c32(0x217)]!=_0x506f95['basecoin']&&allSymbols['includes'](_0xd146dd['symbol']))_0x35e709[_0x483c32(0x363)](_0xd146dd['symbol']);});if(_0x35e709[_0x4eb650(0x341)]==0x0)logHistory(_0x4eb650(0x256),_0x4eb650(0x268));else{try{_0x436c23=await getTickers(_0x35e709);}catch(_0x5b231f){logHistory('error',_0x4eb650(0x356)),logger[_0x4eb650(0x33a)](_0x4eb650(0x1e7),_0x5b231f),proxyEmit('portfolio1',![]);return;}_0x31a8b[_0x4eb650(0x2d1)](_0x334de9=>{const _0x47b867=_0x4eb650;_0x334de9[_0x47b867(0x217)]!=_0x506f95[_0x47b867(0x2ec)]?_0x436c23[_0x334de9[_0x47b867(0x317)]]?_0x436c23[_0x334de9[_0x47b867(0x317)]][_0x47b867(0x35e)]?_0x14bc1e=_0x334de9[_0x47b867(0x23b)]?0x1/_0x436c23[_0x334de9[_0x47b867(0x317)]][_0x47b867(0x35e)]:_0x436c23[_0x334de9[_0x47b867(0x317)]][_0x47b867(0x35e)]:_0x14bc1e=0x0:_0x14bc1e=0x0:_0x14bc1e=0x1,_0x334de9[_0x47b867(0x318)]=formatResult(_0x14bc1e,0x8);}),await getMarketCap(_0x31a8b),proxyEmit(_0x4eb650(0x1fe),!![]),proxyEmit('portfolio2',_0x31a8b);}}}function truncateTradeAmount(_0x235ed6,_0x4d6f39){const _0xfa697f=_0x5eac0b;let _0x479fa1=0x0;try{_0x479fa1=exchange[_0xfa697f(0x20a)](_0x235ed6,_0x4d6f39);}catch(_0x5c883b){}return _0x479fa1;}function checkMinimums(_0x574848){const _0x2d00e6=_0x5eac0b;let _0x1b917a=!![];const _0xfa2790=!_0x574848[_0x2d00e6(0x23b)]?markets[_0x574848[_0x2d00e6(0x317)]]['limits'][_0x2d00e6(0x204)][_0x2d00e6(0x1ef)]:markets[_0x574848['symbol']][_0x2d00e6(0x32f)][_0x2d00e6(0x266)][_0x2d00e6(0x1ef)],_0x7e589b=!_0x574848[_0x2d00e6(0x23b)]?markets[_0x574848['symbol']][_0x2d00e6(0x32f)][_0x2d00e6(0x266)][_0x2d00e6(0x1ef)]:markets[_0x574848[_0x2d00e6(0x317)]][_0x2d00e6(0x32f)]['amount'][_0x2d00e6(0x1ef)],_0x5026f6=truncateTradeAmount(_0x574848[_0x2d00e6(0x317)],_0x574848[_0x2d00e6(0x20d)]);_0x574848[_0x2d00e6(0x20d)]=_0x5026f6;if(Math[_0x2d00e6(0x2ce)](_0x5026f6)<_0xfa2790)_0x1b917a=![];if(Math[_0x2d00e6(0x2ce)](_0x5026f6)*_0x574848[_0x2d00e6(0x35e)]<_0x7e589b)_0x1b917a=![];let _0x30d4fa='';if(_0x574848['side']==_0x2d00e6(0x2ae)){let _0x2da5d6=config[_0x2d00e6(0x1c9)][_0x2d00e6(0x2e8)](_0x3eaba4=>_0x3eaba4[_0x2d00e6(0x217)]==_0x574848[_0x2d00e6(0x217)]);_0x2da5d6['offset']>0x0?Math[_0x2d00e6(0x2ce)](_0x5026f6)>_0x574848['number']-_0x2da5d6[_0x2d00e6(0x280)]&&(_0x1b917a=![],_0x30d4fa=_0x2d00e6(0x1d5)+_0x2da5d6[_0x2d00e6(0x217)]+_0x2d00e6(0x26e)):Math[_0x2d00e6(0x2ce)](_0x5026f6)>_0x574848[_0x2d00e6(0x21a)]&&(_0x1b917a=![]);}if(_0x574848[_0x2d00e6(0x215)]==_0x2d00e6(0x304)){let _0x5b33b7=config[_0x2d00e6(0x1c9)][_0x2d00e6(0x2e8)](_0x2bc37d=>_0x2bc37d['coin']==config[_0x2d00e6(0x2ec)]),_0x3c4723=currentCoins[_0x2d00e6(0x2e8)](_0x3f481c=>_0x3f481c[_0x2d00e6(0x217)]==config[_0x2d00e6(0x2ec)]);_0x5b33b7['offset']>0x0?Math[_0x2d00e6(0x2ce)](_0x5026f6)*_0x574848[_0x2d00e6(0x35e)]>_0x3c4723[_0x2d00e6(0x21a)]-_0x5b33b7['offset']&&(_0x1b917a=![],_0x30d4fa=_0x2d00e6(0x1d5)+config[_0x2d00e6(0x2ec)]+'\x20due\x20to\x20offset'):Math[_0x2d00e6(0x2ce)](_0x5026f6)*_0x574848[_0x2d00e6(0x35e)]>_0x3c4723['number']&&(_0x1b917a=![]);}return!_0x1b917a&&_0x30d4fa&&!insufficientFundsWarningSent[_0x2d00e6(0x393)](_0x574848['coin'])&&(logHistory(_0x2d00e6(0x1cb),_0x30d4fa),insufficientFundsWarningSent['push'](_0x574848[_0x2d00e6(0x217)])),_0x1b917a;}async function getBalances(_0x1216e4=!![]){const _0x16ea36=_0x5eac0b;if(botPaused)return;let _0x3210e1=0x0,_0x33a1cc;const _0xb798b8=config[_0x16ea36(0x389)];if(config[_0x16ea36(0x24d)]&&config[_0x16ea36(0x288)]<0x0)await validate24hChanges();currentCoins[_0x16ea36(0x2d1)](_0x2b2b20=>{const _0x2f001d=_0x16ea36;if(_0x2b2b20[_0x2f001d(0x217)]!=config[_0x2f001d(0x2ec)]){let _0x5e9b1d=gTicker[noslash(_0x2b2b20['symbol'])];_0x33a1cc=_0x2b2b20[_0x2f001d(0x23b)]?0x1/_0x5e9b1d:_0x5e9b1d;}else _0x33a1cc=0x1;let _0x2d83f6=_0x2b2b20[_0x2f001d(0x21a)]*_0x33a1cc;_0x3210e1+=_0x2d83f6,_0x2b2b20[_0x2f001d(0x35e)]=formatResult(Number(_0x33a1cc),0x8),_0x2b2b20[_0x2f001d(0x28c)]=_0x2d83f6;}),currentCoins[_0x16ea36(0x2d1)](_0x351c32=>{const _0x1c7ef9=_0x16ea36;let _0x4fcf64=config[_0x1c7ef9(0x1c9)][_0x1c7ef9(0x2e8)](_0x602f29=>_0x602f29['coin']==_0x351c32[_0x1c7ef9(0x217)]),_0x4f8385=Number(_0x4fcf64[_0x1c7ef9(0x33f)]),_0x1d270a=_0x351c32[_0x1c7ef9(0x28c)]/_0x3210e1*0x64,_0x5ee0d7=_0x4f8385*_0x3210e1/0x64/_0x351c32[_0x1c7ef9(0x35e)]-_0x351c32[_0x1c7ef9(0x21a)];_0x351c32['distribution']=formatResult(_0x1d270a,0x3),_0x351c32[_0x1c7ef9(0x2b5)]=formatResult(_0x4f8385,0x3),_0x351c32[_0x1c7ef9(0x20d)]=formatResult(_0x5ee0d7,0x8),_0x351c32['side']='',_0x351c32['valid']=![];if(_0x351c32[_0x1c7ef9(0x217)]!=config[_0x1c7ef9(0x2ec)]){if(_0x351c32[_0x1c7ef9(0x33f)]>_0x4f8385)_0x351c32[_0x1c7ef9(0x215)]=_0x1c7ef9(0x2ae),_0x351c32['valid']=checkMinimums(_0x351c32);else _0x351c32[_0x1c7ef9(0x33f)]<_0x4f8385&&(_0x351c32[_0x1c7ef9(0x215)]=_0x1c7ef9(0x304),_0x351c32[_0x1c7ef9(0x30b)]=checkMinimums(_0x351c32));}_0x351c32['delta']=_0x351c32[_0x1c7ef9(0x2b5)]==0x0?0x270f:_0x351c32['distribution']/_0x351c32[_0x1c7ef9(0x2b5)]-0x1;if(_0x351c32[_0x1c7ef9(0x28e)]==_0x1c7ef9(0x2f8)||_0x351c32['orderstatus']==_0x1c7ef9(0x1f2))_0x351c32[_0x1c7ef9(0x28e)]=_0x1c7ef9(0x1f9);}),currentCoins[_0x16ea36(0x2cc)]((_0x55fc39,_0x688297)=>_0x55fc39['delta']<_0x688297[_0x16ea36(0x1c0)]?0x1:_0x688297[_0x16ea36(0x1c0)]<_0x55fc39[_0x16ea36(0x1c0)]?-0x1:0x0);const _0x1ed403=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1ed403[_0x16ea36(0x2d7)],'usd':_0x1ed403[_0x16ea36(0x335)],'portfolio':JSON[_0x16ea36(0x28a)](currentCoins),'threshold':_0xb798b8},proxyEmit(_0x16ea36(0x248),{'serverversion':serverversion,'balances':lastBalances});if(_0x1216e4){if(config[_0x16ea36(0x24d)])headlessMode({'portfolio':currentCoins,'threshold':_0xb798b8});else lockOrders==ORDERS[_0x16ea36(0x230)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0xb798b8});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x5b0625=getNormalizedPerformance();getStartingBalances(_0x5b0625),emitPerformance(_0x5b0625);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x1bc48f=_0x5eac0b;let _0x4631d2=dbCoinResults[_0x1bc48f(0x2d4)](_0x1bc48f(0x1f5))[_0x1bc48f(0x28c)](),_0xc4351b=0x0;return Object[_0x1bc48f(0x346)](_0x4631d2)[_0x1bc48f(0x2d1)](([_0x1a7479,_0x44d0f8])=>{_0xc4351b+=_0x44d0f8['realizedPnL'];}),_0xc4351b;}async function storePerformance(){const _0x3b2262=_0x5eac0b;if(!lastBalances)return;let _0x3f2318=[],_0x3649fc;const _0x2a423d=getPnL();let _0x1fdae9=JSON[_0x3b2262(0x31d)](lastBalances['portfolio']);_0x1fdae9[_0x3b2262(0x2cc)]((_0x3023b5,_0x3045fb)=>_0x3023b5[_0x3b2262(0x217)]>_0x3045fb[_0x3b2262(0x217)]?0x1:_0x3045fb[_0x3b2262(0x217)]>_0x3023b5[_0x3b2262(0x217)]?-0x1:0x0),_0x1fdae9['forEach'](_0x149f93=>{const _0x107985=_0x3b2262;let _0x576a6d={'coin':_0x149f93[_0x107985(0x217)],'number':_0x149f93[_0x107985(0x21a)],'price':_0x149f93[_0x107985(0x35e)]};_0x3f2318[_0x107985(0x363)](_0x576a6d);});const _0x3d8e2b=await getFiat(),_0x4764ed=getTimeStamp()['split']('\x20')[0x0],_0x175252=dbPerformance[_0x3b2262(0x2d4)](_0x3b2262(0x1ea))['find']({'date':_0x4764ed})[_0x3b2262(0x28c)]();_0x3649fc={'date':_0x4764ed,'eur':_0x3d8e2b[_0x3b2262(0x2d7)],'usd':_0x3d8e2b[_0x3b2262(0x335)],'coins':_0x3f2318,'pnl':_0x2a423d},_0x175252?_0x3649fc['date']!=config[_0x3b2262(0x34f)]&&dbPerformance[_0x3b2262(0x2d4)](_0x3b2262(0x1ea))[_0x3b2262(0x2e8)]({'date':_0x4764ed})['assign'](_0x3649fc)['write']():dbPerformance[_0x3b2262(0x2d4)](_0x3b2262(0x1ea))[_0x3b2262(0x363)](_0x3649fc)[_0x3b2262(0x290)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1a41b2=_0x5eac0b;let _0x474ae5=[];if(dbPerformance['has']('data')[_0x1a41b2(0x28c)]()){let _0x1dae73=dbPerformance[_0x1a41b2(0x2d4)](_0x1a41b2(0x1ea))[_0x1a41b2(0x1fd)]()[_0x1a41b2(0x29e)](_0x296081=>{const _0x1472f0=_0x1a41b2;if(_0x296081['coins'][_0x1472f0(0x341)]==0x0)return![];else return!![];})[_0x1a41b2(0x32b)](_0x1a41b2(0x333))[_0x1a41b2(0x28c)](),_0xcc570f=[...config[_0x1a41b2(0x23c)]];_0xcc570f[_0x1a41b2(0x2cc)]((_0x10231b,_0x54d46a)=>_0x10231b[_0x1a41b2(0x333)]>_0x54d46a[_0x1a41b2(0x333)]?-0x1:_0x54d46a[_0x1a41b2(0x333)]>_0x10231b[_0x1a41b2(0x333)]?0x1:0x0);let _0x1ae853=0x1,_0x51703f=[],_0x7e5b8=0x0;_0x1dae73['slice']()['reverse']()[_0x1a41b2(0x2d1)]((_0x4f8618,_0x14e097)=>{const _0x3efd58=_0x1a41b2;if(_0xcc570f[_0x7e5b8]){if(_0x1dae73[_0x1dae73['length']-_0x14e097]&&_0xcc570f[_0x7e5b8][_0x3efd58(0x333)]==_0x1dae73[_0x1dae73[_0x3efd58(0x341)]-_0x14e097][_0x3efd58(0x333)]){if(_0x14e097<_0x1dae73[_0x3efd58(0x341)]){let _0x39c4df=0x0,_0x4aa515=0x0;_0x1dae73[_0x1dae73[_0x3efd58(0x341)]-_0x14e097]['coins']['forEach'](_0x550ca1=>{const _0x377df6=_0x3efd58;_0x4aa515+=_0x550ca1[_0x377df6(0x21a)]*_0x550ca1[_0x377df6(0x318)];}),_0xcc570f[_0x7e5b8][_0x3efd58(0x338)][_0x3efd58(0x2d1)](_0x16e810=>{const _0x2c450f=_0x3efd58;_0x39c4df+=_0x16e810[_0x2c450f(0x21a)]*_0x16e810[_0x2c450f(0x318)];}),_0x1ae853*=_0x39c4df/(_0x4aa515-_0x39c4df)+0x1;}_0x7e5b8++;}}let _0x30dceb=0x0;_0x4f8618[_0x3efd58(0x1f5)][_0x3efd58(0x2d1)](_0x30662e=>{const _0x4f3c7c=_0x3efd58;_0x30dceb+=_0x30662e[_0x4f3c7c(0x21a)]*_0x30662e[_0x4f3c7c(0x318)];}),_0x51703f[_0x1dae73[_0x3efd58(0x341)]-_0x14e097-0x1]=_0x30dceb*(_0x1ae853-0x1);});let _0x297b37=[];_0xcc570f=[...config[_0x1a41b2(0x23c)]]||[];let _0x1cb840=0x0;_0x7e5b8=0x0,_0x1dae73[_0x1a41b2(0x2d1)]((_0x44af1d,_0x289bcb)=>{const _0x5bb9d5=_0x1a41b2;if(_0xcc570f[_0x7e5b8]){const _0x3a85e4=fns['parse'](_0xcc570f[_0x7e5b8][_0x5bb9d5(0x333)],'yyyy/MM/dd',new Date()),_0x286fcb=fns[_0x5bb9d5(0x31d)](_0x44af1d[_0x5bb9d5(0x333)],_0x5bb9d5(0x216),new Date());if(fns[_0x5bb9d5(0x351)](_0x3a85e4,_0x286fcb)){let _0x4f517=0x0;_0xcc570f[_0x7e5b8][_0x5bb9d5(0x338)][_0x5bb9d5(0x2d1)](_0x45228c=>{const _0x5c3586=_0x5bb9d5;!_0x297b37[_0x45228c['coin']]?_0x297b37[_0x45228c[_0x5c3586(0x217)]]=_0x45228c[_0x5c3586(0x21a)]:(_0x4f517=_0x297b37[_0x45228c[_0x5c3586(0x217)]],_0x297b37[_0x45228c[_0x5c3586(0x217)]]+=_0x45228c['number']);const _0x11076a=_0x44af1d[_0x5c3586(0x1f5)][_0x5c3586(0x2e8)](_0x481a42=>_0x481a42[_0x5c3586(0x217)]==_0x45228c[_0x5c3586(0x217)]);(!_0x11076a||_0x11076a['number']==0x0)&&(_0x1cb840+=(-_0x45228c['number']-_0x4f517)*_0x45228c[_0x5c3586(0x318)]);}),_0x7e5b8++;}}_0x44af1d['coins'][_0x5bb9d5(0x2d1)]((_0x32d9e0,_0x174312)=>{const _0x770808=_0x5bb9d5;_0x297b37[_0x32d9e0[_0x770808(0x217)]]&&(_0x32d9e0[_0x770808(0x207)]=_0x297b37[_0x32d9e0[_0x770808(0x217)]]);}),_0x474ae5['push']({'date':_0x44af1d[_0x5bb9d5(0x333)],'eur':_0x44af1d[_0x5bb9d5(0x2d7)],'usd':_0x44af1d[_0x5bb9d5(0x335)],'offset':_0x51703f[_0x289bcb],'netoffset':_0x1cb840,'coins':_0x44af1d[_0x5bb9d5(0x1f5)],'pnl':_0x44af1d[_0x5bb9d5(0x25f)]});});}return _0x474ae5;}function emitPerformance(_0x57bf02){const _0x18f74a=_0x5eac0b;_0x57bf02[_0x18f74a(0x341)]!==0x0?(proxyEmit(_0x18f74a(0x1d7),_0x57bf02),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x2884bb,_0x300d28){const _0x38348c=_0x5eac0b;let _0x99e1c1=0x0,_0x39cb5c=0x0,_0x5bf33c=0x0;_0x2884bb[_0x38348c(0x1f5)][_0x38348c(0x2d1)](_0x1faa76=>{const _0x5e0798=_0x38348c;_0x99e1c1+=_0x1faa76['number']*_0x1faa76[_0x5e0798(0x318)];});_0x300d28&&(_0x99e1c1+=_0x2884bb[_0x38348c(0x280)]);if(config[_0x38348c(0x2ec)]===_0x38348c(0x22d)||config[_0x38348c(0x2ec)]===_0x38348c(0x24e)||config[_0x38348c(0x2ec)]===_0x38348c(0x1e8))_0x39cb5c=_0x99e1c1*_0x2884bb[_0x38348c(0x2d7)],_0x5bf33c=_0x99e1c1*_0x2884bb[_0x38348c(0x335)];else{if(usdBasecoins['includes'](config['basecoin']))_0x39cb5c=_0x99e1c1*_0x2884bb[_0x38348c(0x2d7)]/_0x2884bb['usd'],_0x5bf33c=_0x99e1c1;else config[_0x38348c(0x2ec)]===_0x38348c(0x388)&&(_0x39cb5c=_0x99e1c1,_0x5bf33c=_0x99e1c1*_0x2884bb[_0x38348c(0x335)]/_0x2884bb['eur']);}return[_0x99e1c1,_0x39cb5c,_0x5bf33c];}function CurrencyFactor(_0x615e8d,_0x237577,_0x290577){const _0x3b5699=_0x5eac0b;let _0x8d8295;if(_0x237577==='BTC'||_0x237577===_0x3b5699(0x24e)||_0x237577===_0x3b5699(0x1e8))_0x8d8295=_0x290577===_0x3b5699(0x388)?_0x615e8d[_0x3b5699(0x2d7)]:_0x615e8d[_0x3b5699(0x335)];else{if(usdBasecoins[_0x3b5699(0x393)](_0x237577))_0x8d8295=_0x290577===_0x3b5699(0x388)?_0x615e8d['eur']/_0x615e8d['usd']:0x1;else _0x237577===_0x3b5699(0x388)&&(_0x8d8295=_0x290577===_0x3b5699(0x388)?0x1:_0x615e8d[_0x3b5699(0x335)]/_0x615e8d[_0x3b5699(0x2d7)]);}return _0x8d8295;}function getKPIs(_0x473fd8,_0x27282c='EUR'){const _0x14dda8=_0x5eac0b,_0x567a80=config['basecoin'],_0x517388=lastBalances,_0x131650=currentCoins,_0x2cc1a3=getNormalizedPerformance(),_0x22705e=CurrencyFactor(_0x517388,config[_0x14dda8(0x2ec)],_0x27282c);let _0x3f52d3=0x0;_0x131650['forEach'](_0x4bffd1=>{const _0x3e2d09=_0x14dda8;_0x3f52d3+=_0x4bffd1[_0x3e2d09(0x21a)]*_0x4bffd1[_0x3e2d09(0x35e)];});_0x473fd8[_0x14dda8(0x393)](_0x14dda8(0x321))&&(_0x3f52d3*=_0x22705e);let _0x13b954;if(_0x3f52d3!==0x0){if(_0x473fd8===_0x14dda8(0x2ec)||_0x473fd8===_0x14dda8(0x321)){if(_0x473fd8===_0x14dda8(0x2ec))_0x13b954=(_0x3f52d3/startingBalances[_0x14dda8(0x2ec)]-0x1)*0x64;else{if(_0x27282c===_0x14dda8(0x388))_0x13b954=(_0x3f52d3/startingBalances[_0x14dda8(0x2d7)]-0x1)*0x64;else _0x13b954=(_0x3f52d3/startingBalances[_0x14dda8(0x335)]-0x1)*0x64;}}if(_0x473fd8[_0x14dda8(0x393)](_0x14dda8(0x2f9))){let _0x309400=0x0;if(startingBalances['coins'])_0x131650[_0x14dda8(0x2d1)](_0x42dd6b=>{const _0x13da3f=_0x14dda8;let _0x2bb09b=startingBalances[_0x13da3f(0x1f5)][_0x13da3f(0x2e8)](_0x430368=>_0x430368[_0x13da3f(0x217)]===_0x42dd6b[_0x13da3f(0x217)]);if(_0x2bb09b&&_0x2bb09b[_0x13da3f(0x217)]&&_0x42dd6b['number']!==0x0)_0x309400+=_0x2bb09b['number']*_0x42dd6b['last'];});let _0x30c82b=0x0;if(_0x2cc1a3[_0x14dda8(0x341)]!==0x0){let _0x108d90=_0x2cc1a3[_0x2cc1a3[_0x14dda8(0x341)]-0x1];_0x30c82b=_0x108d90['netoffset'];}_0x309400-=_0x30c82b;let _0x3d28f4;_0x473fd8==='net-basecoin'&&(_0x3d28f4=startingBalances[_0x14dda8(0x2ec)]),_0x473fd8==='net-fiat'&&(_0x3d28f4=_0x27282c===_0x14dda8(0x388)?startingBalances[_0x14dda8(0x2d7)]:startingBalances[_0x14dda8(0x335)],_0x309400*=_0x22705e),_0x13b954=(_0x3f52d3-_0x309400)/_0x3d28f4*0x64,_0x3f52d3=_0x3f52d3-_0x309400;}if(_0x473fd8['includes'](_0x14dda8(0x25f))){if(_0x2cc1a3[_0x14dda8(0x341)]!==0x0&&_0x131650['length']!==0x0){let _0x26047e,_0x357c74=_0x2cc1a3[_0x2cc1a3[_0x14dda8(0x341)]-0x1][_0x14dda8(0x25f)];_0x473fd8[_0x14dda8(0x393)](_0x14dda8(0x321))?(_0x26047e=_0x27282c===_0x14dda8(0x388)?startingBalances[_0x14dda8(0x2d7)]:startingBalances[_0x14dda8(0x335)],_0x357c74*=CurrencyFactor(_0x517388,_0x567a80,_0x27282c)):_0x26047e=startingBalances['basecoin'],_0x13b954=_0x357c74/_0x26047e*0x64,_0x3f52d3=_0x357c74;}}if(_0x13b954){if(_0x13b954<0x64)_0x13b954=_0x13b954['toFixed'](0x2);else{if(_0x13b954<0x3e8)_0x13b954=_0x13b954[_0x14dda8(0x20b)](0x1);else _0x13b954=_0x13b954['toFixed'](0x0);}}else _0x13b954=Number('0')[_0x14dda8(0x20b)](0x2);if(_0x3f52d3){if(Math[_0x14dda8(0x2ce)](_0x3f52d3)<0.000001)_0x3f52d3=_0x3f52d3[_0x14dda8(0x20b)](0x2);else{if(Math[_0x14dda8(0x2ce)](_0x3f52d3)<0.1)_0x3f52d3=_0x3f52d3[_0x14dda8(0x20b)](0x6);else{if(Math[_0x14dda8(0x2ce)](_0x3f52d3)<0x1)_0x3f52d3=_0x3f52d3[_0x14dda8(0x20b)](0x5);else{if(Math[_0x14dda8(0x2ce)](_0x3f52d3)<0xa)_0x3f52d3=_0x3f52d3[_0x14dda8(0x20b)](0x4);else{if(Math['abs'](_0x3f52d3)<0x64)_0x3f52d3=_0x3f52d3[_0x14dda8(0x20b)](0x3);else{if(Math[_0x14dda8(0x2ce)](_0x3f52d3)<0x3e8)_0x3f52d3=_0x3f52d3[_0x14dda8(0x20b)](0x2);else _0x3f52d3=_0x3f52d3['toFixed'](0x2);}}}}}}else _0x3f52d3=Number('0')[_0x14dda8(0x20b)](0x2);}else _0x13b954=Number('0')[_0x14dda8(0x20b)](0x2);if(_0x13b954>=0x0)_0x13b954='+'+_0x13b954;return{'value':_0x3f52d3,'change':_0x13b954};}async function getStartingBalances(_0x427050,_0x5bf5da=!![]){const _0x3629ff=_0x5eac0b;if(_0x427050[_0x3629ff(0x341)]!==0x0){const [_0x215560,_0x26a73f,_0x4302be]=getPerf(_0x427050[0x0],!![]);let _0x1395ad=[];config[_0x3629ff(0x1c9)][_0x3629ff(0x2d1)](_0x5b2965=>{const _0x40acc0=_0x3629ff;let _0x5a24eb=0x0,_0x5b73e8;config[_0x40acc0(0x23c)]['forEach'](_0x1845d4=>{const _0x25acd8=_0x40acc0;let _0x27a724=_0x1845d4[_0x25acd8(0x338)][_0x25acd8(0x2e8)](_0x4ee2e2=>_0x4ee2e2[_0x25acd8(0x217)]==_0x5b2965[_0x25acd8(0x217)]);if(_0x27a724){_0x5a24eb+=_0x27a724['number'];if(!_0x5b73e8)_0x5b73e8=_0x27a724[_0x25acd8(0x318)];}}),_0x1395ad[_0x40acc0(0x363)]({'coin':_0x5b2965[_0x40acc0(0x217)],'number':_0x5a24eb,'initialprice':_0x5b73e8});});const _0x14ee27={'basecoin':_0x215560,'eur':_0x26a73f,'usd':_0x4302be,'coins':_0x1395ad};if(_0x5bf5da)proxyEmit(_0x3629ff(0x1dc),_0x14ee27);startingBalances=_0x14ee27;}}function headlessMode(_0x2928de){const _0x3b2833=_0x5eac0b;let _0x47c477=_0x2928de[_0x3b2833(0x1c9)],_0x4684bb=_0x2928de[_0x3b2833(0x389)],_0x193420=[];for(let _0x1cf162 of _0x47c477){if(_0x1cf162[_0x3b2833(0x217)]!=config[_0x3b2833(0x2ec)]){if(_0x1cf162[_0x3b2833(0x1c0)]>=_0x4684bb/0x64){if(_0x1cf162['valid'])_0x193420['push'](_0x1cf162);}else{if(_0x1cf162['delta']<=-_0x4684bb/0x64){if(_0x1cf162[_0x3b2833(0x30b)])_0x193420[_0x3b2833(0x363)](_0x1cf162);}}}}_0x193420['length']>0x0&&placeOrder(_0x193420);}function notifyBalance(_0x4fae25){const _0x41c47d=_0x5eac0b;let _0x34ab3f=_0x4fae25['portfolio'],_0x57fa8f=_0x4fae25['threshold'],_0x16ed6a=[];for(let _0x5af11a of _0x34ab3f){if(_0x5af11a[_0x41c47d(0x217)]!=config[_0x41c47d(0x2ec)]){if(_0x5af11a[_0x41c47d(0x1c0)]>=_0x57fa8f/0x64){if(_0x5af11a[_0x41c47d(0x30b)])_0x16ed6a[_0x41c47d(0x363)](_0x5af11a);}else{if(_0x5af11a[_0x41c47d(0x1c0)]<=-_0x57fa8f/0x64){if(_0x5af11a[_0x41c47d(0x30b)])_0x16ed6a[_0x41c47d(0x363)](_0x5af11a);}}}}if(_0x16ed6a['length']>0x0){let _0x552be0=_0x16ed6a[_0x41c47d(0x38e)](_0x1a4f74=>_0x1a4f74[_0x41c47d(0x217)]);_0x552be0[_0x41c47d(0x2cc)]();let _0xbf6374=_0x552be0[_0x41c47d(0x1e1)](',\x20');if(!lastCoinsToBalance)logHistory(_0x41c47d(0x1cb),_0x41c47d(0x272));lastCoinsToBalance=_0xbf6374;}}function symbolToCoin(_0x255a21){const _0x545d2e=_0x5eac0b;let _0xa368b3;if(_0x255a21['includes']('/'+config['basecoin']))_0xa368b3=_0x255a21[_0x545d2e(0x359)]('/'+config[_0x545d2e(0x2ec)],'');if(_0x255a21['includes'](config['basecoin']+'/'))_0xa368b3=_0x255a21['replace'](config[_0x545d2e(0x2ec)]+'/','');return _0xa368b3;}function setLockOrders(_0x316166){const _0x584fee=_0x5eac0b;lockOrders=_0x316166,logger[_0x584fee(0x33a)](_0x584fee(0x38b)+Object[_0x584fee(0x2ea)](ORDERS)[lockOrders]);}async function unlockOrders(_0x15f7e3=![]){const _0x33705e=_0x5eac0b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x33705e(0x362)]){setLockOrders(ORDERS[_0x33705e(0x27c)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x15f7e3){const _0x3c8340=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3c8340,setBlockTransactionDetection(![]);}validateOrdersState=_0x33705e(0x207),persistOpenOrders([]),setLockOrders(ORDERS[_0x33705e(0x230)]);}}async function validateOrders(_0x47dd0e){const _0x421821=_0x5eac0b;if(_0x47dd0e)validateOrdersState=_0x47dd0e;logger[_0x421821(0x33a)](_0x421821(0x32d)+validateOrdersState+_0x421821(0x21f)+Object[_0x421821(0x2ea)](ORDERS)[lockOrders]);let _0x300309=[],_0x5873fa=config[_0x421821(0x1cd)]==_0x421821(0x2e0)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x421821(0x362)])return;logger[_0x421821(0x33a)](_0x421821(0x2f2)+validateOrdersState);for(let _0x2c44f9=lastOrders[_0x421821(0x341)]-0x1;_0x2c44f9>=0x0;_0x2c44f9--){let _0x38cc37=lastOrders[_0x2c44f9],_0x1d5bb6=![];_0x38cc37[_0x421821(0x2f8)]>0x0&&(_0x1d5bb6=!![]),_0x300309['push'](_0x1d5bb6),_0x1d5bb6&&config[_0x421821(0x1cd)]!=_0x421821(0x2e0)&&logHistory(_0x421821(0x1e2),'Order\x20filled:\x20'+_0x38cc37[_0x421821(0x317)]+'\x20'+_0x38cc37[_0x421821(0x215)]+'\x20#'+formatResult(_0x38cc37[_0x421821(0x2f8)],0x8)+'\x20@'+formatResult(_0x38cc37['price'],0x8)),_0x1d5bb6&&lastOrders[_0x421821(0x399)](_0x2c44f9,0x1);}persistOpenOrders(lastOrders);const _0x5c65b7=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x421821(0x262);if(validateOrdersState==_0x421821(0x207)){validateOrdersState='ongoing';if(_0x300309[_0x421821(0x393)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x421821(0x2b6)){if(_0x300309[_0x421821(0x393)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x421821(0x1db)){let _0x123598=!![];if(_0x300309[_0x421821(0x393)](![])){if(config['ordertype']==_0x421821(0x2e0))logHistory(_0x421821(0x307),_0x421821(0x295)+Math[_0x421821(0x297)](_0x5873fa*validateOrderInterval/0xea60)+_0x421821(0x228)+_0x5c65b7),await unlockOrders(!![]);else{_0x123598=await cancelOrders();if(_0x123598)logHistory(_0x421821(0x307),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x421821(0x297)](_0x5873fa*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x5c65b7),await unlockOrders(!![]);else{validateOrdersState=_0x421821(0x2b6),logHistory(_0x421821(0x256),_0x421821(0x211)+Math[_0x421821(0x297)](_0x5873fa*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x5c65b7),logHistory(_0x421821(0x256),_0x421821(0x29c));const _0x5adb5b=config['ordertype']==_0x421821(0x2e0)?validateOrderTimeout*0x3c*0x3e8:config[_0x421821(0x23e)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x16ec44=_0x421821;validateOrders(_0x16ec44(0x1db));},_0x5adb5b);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x421821(0x227)){if(config['ordertype']!=_0x421821(0x2e0))logHistory(_0x421821(0x307),_0x421821(0x2ed)+_0x5c65b7);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0xccd5a6=_0x5eac0b;let _0x2055d1=!![],_0x50573b;for(const _0x259453 of lastOrders){let _0x413ea7=![],_0x32b4a2=0x0;while(!_0x413ea7&&_0x32b4a2<maxRetries){try{const _0x24cb27=await exchange[_0xccd5a6(0x1d9)](_0x259453[_0xccd5a6(0x1c1)],_0x259453[_0xccd5a6(0x317)]);_0x413ea7=!![];}catch(_0x160bf6){_0x160bf6['toString']()[_0xccd5a6(0x393)](_0xccd5a6(0x320))||_0x160bf6['toString']()[_0xccd5a6(0x393)]('InvalidOrder')?_0x413ea7=!![]:(_0x50573b=_0x160bf6,_0x413ea7=![]);}!_0x413ea7&&(_0x32b4a2++,await sleep(retryInterval));}_0x2055d1=_0x2055d1&&_0x413ea7;}return!_0x2055d1&&await handleError(_0x50573b,_0xccd5a6(0x337)),_0x2055d1;}async function initCoinResults(_0x1ae742){const _0x78de5e=_0x5eac0b;_0x1ae742?logger['debug'](_0x78de5e(0x36b)+_0x1ae742):logger['debug'](_0x78de5e(0x274)),config[_0x78de5e(0x1c9)][_0x78de5e(0x2d1)](_0x4f44c3=>{const _0xdf4c88=_0x78de5e;if(!_0x4f44c3['excluded']&&_0x4f44c3[_0xdf4c88(0x217)]!=config[_0xdf4c88(0x2ec)]){const _0x2769a0=currentCoins[_0xdf4c88(0x2e8)](_0x74b03=>_0x74b03['coin']==_0x4f44c3[_0xdf4c88(0x217)]),_0x2d5dac=gTicker[noslash(_0x4f44c3[_0xdf4c88(0x317)])];let _0x39d7fa=_0x2769a0?_0x2769a0[_0xdf4c88(0x21a)]:null,_0x31fcb3=_0x4f44c3[_0xdf4c88(0x23b)]?0x1/_0x2d5dac:_0x2d5dac,_0x16d886;config[_0xdf4c88(0x23c)][_0xdf4c88(0x2d1)](_0x48f3cb=>{const _0x1588a7=_0xdf4c88;!_0x16d886&&(_0x16d886=_0x48f3cb[_0x1588a7(0x338)][_0x1588a7(0x2e8)](_0x1a6eb7=>_0x1a6eb7['coin']==_0x4f44c3[_0x1588a7(0x217)]),_0x16d886&&(_0x39d7fa=_0x16d886[_0x1588a7(0x21a)],_0x31fcb3=_0x16d886[_0x1588a7(0x318)]));});let _0x1f4055=dbCoinResults[_0xdf4c88(0x2d4)]('coins')[_0xdf4c88(0x2e8)]({'coin':_0x4f44c3[_0xdf4c88(0x217)]})[_0xdf4c88(0x28c)]();if(!_0x1f4055){const _0x38a419={'coin':_0x4f44c3[_0xdf4c88(0x217)],'number':_0x39d7fa,'breakeven':_0x31fcb3,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xdf4c88(0x2d4)](_0xdf4c88(0x1f5))[_0xdf4c88(0x363)](_0x38a419)[_0xdf4c88(0x290)]();}else{if(_0x1ae742&&_0x4f44c3[_0xdf4c88(0x217)]==_0x1ae742){const _0x2b3adf={'coin':_0x4f44c3[_0xdf4c88(0x217)],'number':_0x39d7fa,'breakeven':_0x31fcb3,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xdf4c88(0x2d4)]('coins')[_0xdf4c88(0x2e8)]({'coin':_0x4f44c3[_0xdf4c88(0x217)]})[_0xdf4c88(0x385)](_0x2b3adf)[_0xdf4c88(0x290)]();}}}});}async function placeOrder(_0x5c8b31){const _0x48ef5d=_0x5eac0b,_0x5b4607=config[_0x48ef5d(0x1cd)]==_0x48ef5d(0x2e0)?_0x48ef5d(0x2e0):_0x48ef5d(0x2bd);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS[_0x48ef5d(0x362)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x48ef5d(0x33a)]('Placing\x20order\x20for:\x20'+_0x5c8b31['map'](_0x4ca8c4=>_0x4ca8c4[_0x48ef5d(0x217)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x48ef5d(0x207);let _0x83cf9b=![];lastOrders=[];const _0x34a6d4=config[_0x48ef5d(0x389)];for(const _0xac3e1b of _0x5c8b31){let _0xb76e77,_0x526812,_0x13d8dd,_0x3cf74e,_0xf9b406,_0x5e3796=_0xac3e1b[_0x48ef5d(0x317)];logger[_0x48ef5d(0x33a)](_0x48ef5d(0x22a)+_0xac3e1b['coin']+'\x20'+_0xac3e1b[_0x48ef5d(0x21a)]+'\x20'+_0xac3e1b[_0x48ef5d(0x35e)]+'\x20'+_0xac3e1b[_0x48ef5d(0x33f)]+'%\x20'+_0xac3e1b[_0x48ef5d(0x2b5)]+'%\x20'+(0x64*_0xac3e1b[_0x48ef5d(0x1c0)])[_0x48ef5d(0x20b)](0x2)+_0x48ef5d(0x25a)+_0x34a6d4[_0x48ef5d(0x20b)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x48ef5d(0x29e)](_0xa27a55=>_0xa27a55!==_0xac3e1b[_0x48ef5d(0x217)]);const _0x5a8c59=currentCoins[_0x48ef5d(0x2e8)](_0x1d984a=>_0x1d984a[_0x48ef5d(0x217)]==_0xac3e1b[_0x48ef5d(0x217)]);_0x5a8c59&&(_0x5a8c59[_0x48ef5d(0x396)]=_0xac3e1b['number']);try{const _0x5be99a=await exchange[_0x48ef5d(0x264)](_0x5e3796);_0xb76e77=_0xac3e1b[_0x48ef5d(0x23b)]?0x1/_0xac3e1b['last']:_0xac3e1b[_0x48ef5d(0x35e)],_0x526812=_0x5be99a[_0x48ef5d(0x360)],_0x13d8dd=_0x5be99a[_0x48ef5d(0x33c)];_0xac3e1b[_0x48ef5d(0x23b)]?(_0x3cf74e=_0xac3e1b[_0x48ef5d(0x215)]==_0x48ef5d(0x304)?_0x48ef5d(0x2ae):_0x48ef5d(0x304),_0xf9b406=Math[_0x48ef5d(0x2ce)](_0xac3e1b['trade'])/_0xb76e77):(_0x3cf74e=_0xac3e1b[_0x48ef5d(0x215)],_0xf9b406=Math[_0x48ef5d(0x2ce)](_0xac3e1b[_0x48ef5d(0x20d)]));_0x5b4607==_0x48ef5d(0x2bd)&&(config['ordertype']==_0x48ef5d(0x220)&&(_0xb76e77=_0x3cf74e=='buy'?_0x526812:_0x13d8dd),config[_0x48ef5d(0x1cd)]==_0x48ef5d(0x1c5)&&(_0xb76e77=_0x3cf74e==_0x48ef5d(0x304)?_0x13d8dd:_0x526812));_0xf9b406=formatResult(_0xf9b406,0x8),_0xb76e77=formatResult(_0xb76e77,0x8);const _0x301abc=_0x3cf74e==_0x48ef5d(0x2ae)?config[_0x48ef5d(0x326)]?String[_0x48ef5d(0x28b)]('0x'+config[_0x48ef5d(0x326)])+'\x20':'':config[_0x48ef5d(0x21e)]?String[_0x48ef5d(0x28b)]('0x'+config[_0x48ef5d(0x21e)])+'\x20':'',_0xd82f8a=_0x5b4607==_0x48ef5d(0x2e0)?_0x48ef5d(0x2d8):config[_0x48ef5d(0x1cd)]=='limit-high'?_0x48ef5d(0x253):'Limit\x20(low-margin)',_0x5c851b=(Math[_0x48ef5d(0x26c)](Math['random']()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x48ef5d(0x363)]({'customId':_0x5c851b,'symbol':_0x5e3796,'coin':_0xac3e1b['coin'],'amount':_0xf9b406,'price':_0xb76e77,'side':_0x3cf74e,'reverse':_0xac3e1b[_0x48ef5d(0x23b)],'filled':0x0});let _0x5b4ace;_0x5b4607=='market'?_0x3cf74e==_0x48ef5d(0x304)&&[_0x48ef5d(0x29f),_0x48ef5d(0x2cd),_0x48ef5d(0x2df),_0x48ef5d(0x289),_0x48ef5d(0x310),'Huobipro'][_0x48ef5d(0x393)](config[_0x48ef5d(0x1df)])?_0x5b4ace=await exchange[_0x48ef5d(0x2d5)](_0x5e3796,_0x5b4607,_0x3cf74e,_0xf9b406,_0xb76e77):_0x5b4ace=await exchange['createOrder'](_0x5e3796,_0x5b4607,_0x3cf74e,_0xf9b406,undefined):_0x5b4ace=await exchange[_0x48ef5d(0x2d5)](_0x5e3796,_0x5b4607,_0x3cf74e,_0xf9b406,_0xb76e77);const _0x582567=lastOrders['length']-0x1;if(_0x582567>=0x0&&lastOrders[_0x582567][_0x48ef5d(0x22c)]==_0x5c851b){lastOrders[_0x582567]['orderId']=_0x5b4ace['id'];if(_0x5b4ace[_0x48ef5d(0x204)])lastOrders[_0x582567][_0x48ef5d(0x204)]=_0x5b4ace[_0x48ef5d(0x204)];if(_0x5b4ace[_0x48ef5d(0x318)])lastOrders[_0x582567][_0x48ef5d(0x318)]=_0x5b4ace[_0x48ef5d(0x318)];lastOrders[_0x582567][_0x48ef5d(0x2cb)]=_0x5b4ace['fee'];}if(_0x5b4ace['amount'])_0xf9b406=_0x5b4ace['amount'];if(_0x5b4ace[_0x48ef5d(0x318)])_0xb76e77=_0x5b4ace[_0x48ef5d(0x318)];if(_0x5b4607==_0x48ef5d(0x2e0))logHistory(_0x48ef5d(0x1e2),''+_0x301abc+_0xd82f8a+_0x48ef5d(0x2b4)+_0x5e3796+'\x20'+_0x3cf74e+'\x20#'+formatResult(_0xf9b406,0x8)+'\x20@'+formatResult(_0xb76e77,0x8));else logHistory(_0x48ef5d(0x1e2),''+_0x301abc+_0xd82f8a+'\x20order:\x20'+_0x5e3796+'\x20'+_0x3cf74e+'\x20#'+formatResult(_0xf9b406,0x8)+'\x20@'+formatResult(_0xb76e77,0x8));logger[_0x48ef5d(0x33a)]('ID:\x20'+_0x5b4ace['id']+_0x48ef5d(0x2c9)+_0x5c851b);if(config[_0x48ef5d(0x378)]!=0x0){let _0x6df0b=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x6df0b=cooldownTracker[_0x48ef5d(0x2e3)]();const _0x35aaca=getTimeStamp();cooldownTracker[_0x48ef5d(0x363)](_0x35aaca);if(_0x6df0b){const _0x30613f=fns[_0x48ef5d(0x281)](new Date(_0x35aaca),new Date(_0x6df0b));if(_0x30613f<cooldownInterval){logHistory(_0x48ef5d(0x256),_0x48ef5d(0x345)+config[_0x48ef5d(0x378)]+_0x48ef5d(0x1c2)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x48ef5d(0x37a)),coolingDown=!![];break;}}}}catch(_0x2c4353){if(_0x2c4353[_0x48ef5d(0x20c)]()[_0x48ef5d(0x393)](_0x48ef5d(0x28f)))lastOrders=lastOrders[_0x48ef5d(0x29e)](_0x3c90ad=>_0x3c90ad[_0x48ef5d(0x317)]!=_0x5e3796),logHistory(_0x48ef5d(0x256),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x5e3796),_0x83cf9b=!![];else{if(_0x2c4353[_0x48ef5d(0x20c)]()[_0x48ef5d(0x393)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x48ef5d(0x29e)](_0x58327e=>_0x58327e[_0x48ef5d(0x317)]!=_0x5e3796),logHistory(_0x48ef5d(0x256),_0x48ef5d(0x278)+_0x5e3796),_0x83cf9b=!![];else{if(_0x2c4353['toString']()[_0x48ef5d(0x393)](_0x48ef5d(0x30f)))lastOrders=lastOrders['filter'](_0xcc176=>_0xcc176[_0x48ef5d(0x317)]!=_0x5e3796),logHistory('error',_0x48ef5d(0x252)+_0x5e3796),logger[_0x48ef5d(0x33a)](_0x2c4353),_0x83cf9b=!![];else _0x2c4353[_0x48ef5d(0x20c)]()[_0x48ef5d(0x393)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x48ef5d(0x29e)](_0x23a9f8=>_0x23a9f8[_0x48ef5d(0x317)]!=_0x5e3796),logHistory(_0x48ef5d(0x256),_0x48ef5d(0x1ce)+_0x5e3796),_0x83cf9b=!![]):(lastOrders=lastOrders[_0x48ef5d(0x29e)](_0x30a979=>_0x30a979[_0x48ef5d(0x317)]!=_0x5e3796),await handleError(_0x2c4353,_0x48ef5d(0x2b9),_0x5e3796));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x48ef5d(0x341)]>0x0){const _0x127a7f=config[_0x48ef5d(0x1cd)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x48ef5d(0x23e)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2fd34d=_0x48ef5d;validateOrders(_0x2fd34d(0x1db));},_0x127a7f);}else unlockOrders();_0x83cf9b&&config[_0x48ef5d(0x24d)]&&(logHistory(_0x48ef5d(0x256),_0x48ef5d(0x30c)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x48ef5d(0x307),_0x48ef5d(0x2c6)));}else{if(coolingDown)!config[_0x48ef5d(0x24d)]&&logHistory(_0x48ef5d(0x256),_0x48ef5d(0x2da));else lockOrders!=ORDERS[_0x48ef5d(0x230)]&&(!config['headless']&&(config['ordertype']==_0x48ef5d(0x2e0)?logHistory(_0x48ef5d(0x256),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error',_0x48ef5d(0x319))));}}function persistOpenOrders(_0x48c4a3){const _0xb3b9fd=_0x5eac0b,_0x58354b={...config,'openOrders':_0x48c4a3};let _0x5514e2=dbConfig[_0xb3b9fd(0x2d4)](_0xb3b9fd(0x1d3))[_0xb3b9fd(0x2e8)]({'botID':botID})[_0xb3b9fd(0x28c)]();_0x5514e2&&dbConfig[_0xb3b9fd(0x2d4)](_0xb3b9fd(0x1d3))[_0xb3b9fd(0x2e8)]({'botID':botID})[_0xb3b9fd(0x385)](_0x58354b)[_0xb3b9fd(0x290)]();}function restoreOrders(){const _0x2efe76=_0x5eac0b;let _0x201f57;config[_0x2efe76(0x38d)]&&allOpenOrders[_0x2efe76(0x2d1)](_0x186041=>{const _0x1f8146=_0x2efe76,_0x46aa25=config[_0x1f8146(0x38d)][_0x1f8146(0x2e8)](_0x4c558c=>_0x4c558c[_0x1f8146(0x1c1)]==_0x186041['id']);_0x46aa25&&(lastOrders[_0x1f8146(0x363)](_0x46aa25),_0x201f57=_0x186041['timestamp']);});if(lastOrders[_0x2efe76(0x341)]>0x0){setLockOrders(ORDERS[_0x2efe76(0x362)]),validateOrdersState=_0x2efe76(0x2b6),allOrdersPlaced=!![];const _0x416dfd=new Date()[_0x2efe76(0x283)](),_0x3a1921=config['ordertype']==_0x2efe76(0x2e0)?validateOrderTimeout*0x3c*0x3e8:config[_0x2efe76(0x23e)]*0x3c*0x3e8;if(_0x201f57+_0x3a1921>_0x416dfd){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1e5ea5=_0x2efe76;validateOrders(_0x1e5ea5(0x1db));},_0x201f57+_0x3a1921-_0x416dfd);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x228444=_0x5eac0b;if(!coinsLoaded){process[_0x228444(0x212)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x1614e5=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x2c2f9a='';if(config[_0x228444(0x2db)])_0x2c2f9a=_0x228444(0x233)+config[_0x228444(0x2f0)]+_0x228444(0x206);else _0x2c2f9a=_0x228444(0x394)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x4b7383=config[_0x228444(0x2ec)],_0x4c4b59=config[_0x228444(0x321)],_0x3ddae3=getKPIs('basecoin'),_0x8f33dd=getKPIs('fiat',_0x4c4b59),_0x331e30=getKPIs(_0x228444(0x242)),_0x188f65=getKPIs('net-fiat',_0x4c4b59),_0x162bf7=getKPIs('pnl-basecoin'),_0x18b640=getKPIs('pnl-fiat',_0x4c4b59);_0x4b7383[_0x228444(0x393)](_0x4c4b59)?(_0x2c2f9a+=_0x228444(0x2f4),_0x2c2f9a+='Value\x20'+_0x4b7383+':\x20'+_0x3ddae3['value']+'\x20('+_0x3ddae3[_0x228444(0x31f)]+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x234)+_0x4b7383+':\x20'+_0x331e30['value']+'\x20('+_0x331e30['change']+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x332)+_0x4b7383+':\x20'+_0x162bf7[_0x228444(0x28c)]+'\x20('+_0x162bf7['change']+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x2c8)):(_0x2c2f9a+=_0x228444(0x2f4),_0x2c2f9a+=_0x228444(0x2e1)+_0x4b7383+':\x20'+_0x3ddae3[_0x228444(0x28c)]+'\x20('+_0x3ddae3[_0x228444(0x31f)]+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x2e1)+_0x4c4b59+':\x20'+_0x8f33dd[_0x228444(0x28c)]+'\x20('+_0x8f33dd[_0x228444(0x31f)]+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x234)+_0x4b7383+':\x20'+_0x331e30['value']+'\x20('+_0x331e30[_0x228444(0x31f)]+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x234)+_0x4c4b59+':\x20'+_0x188f65[_0x228444(0x28c)]+'\x20('+_0x188f65[_0x228444(0x31f)]+'%)\x0a',_0x2c2f9a+=_0x228444(0x332)+_0x4b7383+':\x20'+_0x162bf7[_0x228444(0x28c)]+'\x20('+_0x162bf7['change']+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x332)+_0x4c4b59+':\x20'+_0x18b640[_0x228444(0x28c)]+'\x20('+_0x18b640['change']+_0x228444(0x2dd),_0x2c2f9a+=_0x228444(0x2c8)),process[_0x228444(0x212)]({'telegrammsg':_0x2c2f9a},_0x1b3dad=>{});}async function sendPortfolioTelegram(){const _0x48362a=_0x5eac0b;if(!coinsLoaded||!currentCoins[0x0][_0x48362a(0x33f)]){process[_0x48362a(0x212)]({'telegrammsg':_0x48362a(0x2d0)},_0x5344ab=>{});return;}let _0x82f78e='';if(config[_0x48362a(0x2db)])_0x82f78e=_0x48362a(0x233)+config[_0x48362a(0x2f0)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x82f78e=_0x48362a(0x394)+botID+_0x48362a(0x24f);_0x82f78e+=_0x48362a(0x2f4),_0x82f78e+=_0x48362a(0x23d),_0x82f78e+=_0x48362a(0x22b),_0x82f78e+=_0x48362a(0x23d),currentCoins[_0x48362a(0x2d1)](_0x1baee5=>{const _0x235e69=_0x48362a;_0x82f78e+=_0x1baee5[_0x235e69(0x217)]['padEnd'](0x7)+'|\x20'+formatPad(_0x1baee5[_0x235e69(0x33f)],0x2,0x6)+'|\x20'+formatPad(_0x1baee5[_0x235e69(0x2b5)],0x2,0x6)+'|\x20'+(_0x1baee5[_0x235e69(0x2b5)]==0x0?'∞'[_0x235e69(0x2d9)](0x6):formatPad(_0x1baee5[_0x235e69(0x1c0)]*0x64,0x2,0x6))+'\x0a';}),_0x82f78e+=_0x48362a(0x2c8),process[_0x48362a(0x212)]({'telegrammsg':_0x82f78e},_0x2454ad=>{});}function formatPad(_0x195ad4,_0x196f07,_0x2c887b){const _0x4109fd=_0x5eac0b,_0x5d699f=formatResultString(_0x195ad4,_0x196f07);return _0x5d699f?_0x5d699f[_0x4109fd(0x2d9)](_0x2c887b):''[_0x4109fd(0x2d9)](_0x2c887b);}function logHistory(_0x198555,_0x30db60,_0x568499=''){const _0x31d259=_0x5eac0b;logger[_0x31d259(0x31a)](''+_0x30db60);let _0x291da4={'time':getTimeStamp(),'type':_0x198555,'event':_0x30db60};dbLogs['get'](_0x31d259(0x2a9))[_0x31d259(0x363)](_0x291da4)[_0x31d259(0x290)]();if(_0x568499=='')_0x568499=_0x30db60;proxyEmit(_0x31d259(0x1ed),{'log':_0x291da4,'summary':_0x568499}),process[_0x31d259(0x212)]({'telegram':{..._0x291da4,'botname':config[_0x31d259(0x2f0)],'showname':config[_0x31d259(0x2db)]}},_0x1942c9=>{});}function emitHistory(_0xef3756={}){const _0x1e7ad4=_0x5eac0b;Object[_0x1e7ad4(0x2ea)](_0xef3756)[_0x1e7ad4(0x341)]==0x0&&(_0xef3756={'type':[_0x1e7ad4(0x1e2),'event'],'event':'','page':0x1});if(_0xef3756[_0x1e7ad4(0x293)][_0x1e7ad4(0x393)]('event'))_0xef3756[_0x1e7ad4(0x293)][_0x1e7ad4(0x399)](_0xef3756[_0x1e7ad4(0x293)][_0x1e7ad4(0x2dc)](_0x1e7ad4(0x1ed)),0x1,_0x1e7ad4(0x256),_0x1e7ad4(0x1cb),_0x1e7ad4(0x307));if(dbLogs[_0x1e7ad4(0x336)](_0x1e7ad4(0x2a9))[_0x1e7ad4(0x28c)]()){let _0x566740=dbLogs[_0x1e7ad4(0x2d4)](_0x1e7ad4(0x2a9))['filter'](_0x532eea=>{const _0x51a433=_0x1e7ad4;if(_0xef3756[_0x51a433(0x293)][_0x51a433(0x341)]==0x0)return![];else return _0xef3756['type']['includes'](_0x532eea['type']);})[_0x1e7ad4(0x29e)](_0x5df93b=>{const _0x3dbf7b=_0x1e7ad4;if(_0xef3756[_0x3dbf7b(0x1ed)]=='')return!![];else return _0x5df93b['event'][_0x3dbf7b(0x322)]()['includes'](_0xef3756[_0x3dbf7b(0x1ed)][_0x3dbf7b(0x322)]());})[_0x1e7ad4(0x32b)]('time'),_0x75f726=_0x566740[_0x1e7ad4(0x28c)]()[_0x1e7ad4(0x341)];_0x566740=_0x566740['reverse']()['slice']((_0xef3756[_0x1e7ad4(0x218)]-0x1)*logPageSize,_0xef3756['page']*logPageSize-0x1)[_0x1e7ad4(0x23b)]()[_0x1e7ad4(0x28c)](),proxyEmit(_0x1e7ad4(0x300),{'logs':_0x566740,'total':_0x75f726});}else proxyEmit(_0x1e7ad4(0x300),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x16c2e6){const _0x4e4aa6=_0x5eac0b;if(dbLogs[_0x4e4aa6(0x336)](_0x4e4aa6(0x2a9))[_0x4e4aa6(0x28c)]()){const _0x51928d=dbLogs[_0x4e4aa6(0x2d4)](_0x4e4aa6(0x2a9))[_0x4e4aa6(0x32b)](_0x4e4aa6(0x275))[_0x4e4aa6(0x29e)](_0x14ef22=>{const _0x34761f=_0x4e4aa6;return _0x14ef22[_0x34761f(0x293)]=='order';})[_0x4e4aa6(0x28c)]();dbLogs[_0x4e4aa6(0x2d4)](_0x4e4aa6(0x2a9))[_0x4e4aa6(0x205)]()[_0x4e4aa6(0x290)](),dbLogs[_0x4e4aa6(0x2d4)](_0x4e4aa6(0x2a9))[_0x4e4aa6(0x385)](_0x51928d)['write'](),emitHistory(_0x16c2e6);}}async function pauseBot(_0x2e060c=pauseBotIntervalShort,_0x5e73f7,_0xfabd75,_0x5f5165=![]){const _0x351287=_0x5eac0b,_0x196121=new Date()[_0x351287(0x283)]();if(!lastErrorShown||_0x196121-lastErrorShown>=_0x2e060c){lastErrorShown=_0x196121;if(!lastBotPause)lastBotPause=_0x196121,consecutivePauses=0x1;else{if(_0x196121-lastBotPause-_0x2e060c<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x5f5165){logHistory(_0x351287(0x256),_0x5e73f7+_0x351287(0x1bf)),await killBot();return;}else logHistory(_0x351287(0x256),_0x5e73f7+pauseBotMsg),_0x2e060c=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x196121;}_0xfabd75?logger[_0x351287(0x33a)]('('+consecutivePauses+')\x20'+_0x5e73f7+_0x351287(0x26b),_0xfabd75):logger[_0x351287(0x33a)]('('+consecutivePauses+')\x20'+_0x5e73f7);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x2e060c),botPaused=![],_0x2e060c==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x4a160c=_0x5eac0b;botPaused=!![],await sleep(0x3e8),process[_0x4a160c(0x212)]({'stop':_0x4a160c(0x2ac)},_0xd128cc=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1174d1,_0x584693,_0x261cff=![]){const _0x283c7a=_0x5eac0b;if(botPaused)return;let _0x3657ad;const _0x8727b4=config[_0x283c7a(0x1df)]||'Exchange';if(_0x584693)logger['debug'](_0x283c7a(0x2d6)+_0x584693);const _0x3fdd49=()=>{const _0x4c4f21=_0x283c7a;loading[_0x4c4f21(0x256)]=_0x4c4f21(0x276),emitLoadingProgress();};if(_0x1174d1[_0x283c7a(0x20c)]()['includes'](_0x283c7a(0x23f)))logHistory('error',_0x8727b4+_0x283c7a(0x33e)),_0x3fdd49();else{if(_0x1174d1['toString']()[_0x283c7a(0x393)](_0x283c7a(0x323)))logHistory(_0x283c7a(0x256),_0x8727b4+_0x283c7a(0x2f1)),_0x3fdd49();else{if(_0x1174d1[_0x283c7a(0x20c)]()[_0x283c7a(0x393)](_0x283c7a(0x2aa)))config[_0x283c7a(0x2de)]?_0x3657ad=_0x8727b4+_0x283c7a(0x2cf):_0x3657ad=_0x8727b4+_0x283c7a(0x367),logHistory(_0x283c7a(0x256),_0x3657ad+_0x283c7a(0x398)),_0x3fdd49();else{if(_0x1174d1[_0x283c7a(0x20c)]()[_0x283c7a(0x393)](_0x283c7a(0x27b)))logHistory('error',_0x8727b4+_0x283c7a(0x1c4)),_0x3fdd49();else{if(!_0x261cff)await handleError(_0x1174d1,null);}}}}}async function handleError(_0x1ed3c2,_0x52e402,_0x35c502=''){const _0x219d24=_0x5eac0b;if(botPaused)return;let _0xee6a9f;const _0x310172=config['exchange']||_0x219d24(0x2ff);if(_0x52e402)logger[_0x219d24(0x33a)](_0x219d24(0x2d6)+_0x52e402);if(_0x1ed3c2[_0x219d24(0x20c)]()[_0x219d24(0x393)](_0x219d24(0x35f)))_0xee6a9f=_0x310172+_0x219d24(0x2fc),await pauseBot(undefined,_0xee6a9f,_0x1ed3c2);else{if(_0x1ed3c2[_0x219d24(0x20c)]()[_0x219d24(0x393)](_0x219d24(0x331)))_0xee6a9f=_0x310172+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0xee6a9f,_0x1ed3c2);else{if(_0x1ed3c2['toString']()[_0x219d24(0x393)](_0x219d24(0x2b3))||_0x1ed3c2[_0x219d24(0x20c)]()[_0x219d24(0x393)]('OnMaintenance'))_0xee6a9f=_0x310172+_0x219d24(0x208),await pauseBot(undefined,_0xee6a9f,_0x1ed3c2['toString']());else{if(_0x1ed3c2[_0x219d24(0x20c)]()[_0x219d24(0x393)](_0x219d24(0x373)))_0xee6a9f=_0x310172+_0x219d24(0x284),await pauseBot(undefined,_0xee6a9f,_0x1ed3c2[_0x219d24(0x20c)]());else{if(_0x1ed3c2[_0x219d24(0x20c)]()[_0x219d24(0x393)](_0x219d24(0x1d4)))_0xee6a9f=_0x310172+_0x219d24(0x2a6),await pauseBot(undefined,_0xee6a9f,_0x1ed3c2['toString']());else{if(_0x1ed3c2[_0x219d24(0x20c)]()['toLowerCase']()[_0x219d24(0x393)](_0x219d24(0x29d))||_0x1ed3c2[_0x219d24(0x20c)]()['toLowerCase']()[_0x219d24(0x393)](_0x219d24(0x2bb)))_0xee6a9f='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',await pauseBot(undefined,_0xee6a9f,_0x1ed3c2['toString']());else{if(_0x1ed3c2['toString']()[_0x219d24(0x393)](_0x219d24(0x236)))_0xee6a9f=_0x310172+_0x219d24(0x37c),await pauseBot(undefined,_0xee6a9f,_0x1ed3c2[_0x219d24(0x20c)]());else{if(_0x1ed3c2 instanceof ccxt[_0x219d24(0x287)])_0xee6a9f=_0x310172+'\x20network\x20error:\x20'+_0x1ed3c2[_0x219d24(0x20c)](),logger['debug'](_0x219d24(0x27e),_0x1ed3c2),await pauseBot(undefined,_0xee6a9f,_0x1ed3c2);else{if(_0x1ed3c2['toString']()[_0x219d24(0x393)]('API-key\x20format\x20invalid'))logHistory(_0x219d24(0x256),_0x310172+_0x219d24(0x259)),logHistory(_0x219d24(0x256),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1ed3c2['toString']()[_0x219d24(0x393)](_0x219d24(0x323)))logHistory(_0x219d24(0x256),_0x310172+_0x219d24(0x22f)),logHistory(_0x219d24(0x256),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1ed3c2[_0x219d24(0x20c)]()[_0x219d24(0x393)]('AuthenticationError')&&_0x1ed3c2[_0x219d24(0x20c)]()[_0x219d24(0x393)](_0x219d24(0x24b)))_0xee6a9f=_0x310172+_0x219d24(0x1c6),await pauseBot(undefined,_0xee6a9f,_0x1ed3c2,!![]);else{if(_0x1ed3c2['toString']()[_0x219d24(0x393)](_0x219d24(0x2aa)))config[_0x219d24(0x2de)]?_0xee6a9f=_0x310172+_0x219d24(0x2cf):_0xee6a9f=_0x310172+_0x219d24(0x367),logHistory(_0x219d24(0x256),_0xee6a9f),logHistory(_0x219d24(0x256),_0x219d24(0x36e)),await killBot();else{if(_0x1ed3c2['toString']()[_0x219d24(0x393)](_0x219d24(0x27b)))logHistory(_0x219d24(0x256),_0x310172+_0x219d24(0x257)),logHistory(_0x219d24(0x256),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1ed3c2['toString']()[_0x219d24(0x393)]('InsufficientFunds'))logHistory(_0x219d24(0x256),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x35c502),logger[_0x219d24(0x33a)](_0x219d24(0x1e7),_0x1ed3c2);else{if(_0x1ed3c2 instanceof ccxt[_0x219d24(0x254)]){_0xee6a9f=_0x310172+_0x219d24(0x2c0)+_0x1ed3c2[_0x219d24(0x20c)]();if(_0x35c502)_0xee6a9f+='\x0aSymbol(s):\x20'+_0x35c502;await pauseBot(undefined,_0xee6a9f,_0x1ed3c2);}else{_0xee6a9f='Unknown\x20error:\x20'+_0x1ed3c2[_0x219d24(0x20c)]();if(_0x35c502)_0xee6a9f+=_0x219d24(0x37b)+_0x35c502;await pauseBot(undefined,_0xee6a9f);}}}}}}}}}}}}}}}}function decryptRSA(_0x31f668,_0x229133){const _0x2e5103=_0x5eac0b,_0x44df83=forge['pki'][_0x2e5103(0x374)](_0x31f668),_0x14a2ff=_0x44df83[_0x2e5103(0x32e)](forge['util']['decode64'](_0x229133),'RSA-OAEP',{'md':forge['md'][_0x2e5103(0x2b0)][_0x2e5103(0x245)](),'mgf1':{'md':forge['md'][_0x2e5103(0x2b0)]['create']()}});return _0x14a2ff;}async function withRetry(_0x259737,_0x52898d){const _0x194562=_0x5eac0b;let _0xcddb87=![],_0x263986=0x0,_0x410f99,_0x15f602;while(_0x263986<maxRetries){try{_0x410f99=await _0x52898d();break;}catch(_0x501c85){_0x15f602=_0x501c85,!_0xcddb87?(_0xcddb87=!![],logger['debug'](_0x194562(0x311)+_0x259737+':',_0x501c85['toString']())):await sleep(retryInterval);}_0x263986++;}if(_0x263986==0x0)return _0x410f99;if(_0x263986>=maxRetries)throw _0x15f602;else return logger['debug']('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x263986+_0x194562(0x379)),_0x410f99;}function formatResult(_0x536609,_0x227a24){const _0x3cdd64=_0x5eac0b;return parseFloat(_0x536609[_0x3cdd64(0x20b)](_0x227a24));}function formatResultTruncate(_0x262202,_0x309458){const _0x9df733=_0x5eac0b;let _0x2bc565=formatResultString(_0x262202,0xa),_0x2e2973=_0x2bc565[_0x9df733(0x2dc)]('.');return _0x2e2973!=-0x1&&(_0x2bc565=_0x2bc565[_0x9df733(0x2a7)](0x0,_0x2e2973+_0x309458+0x1)),Number(_0x2bc565);}function formatResultString(_0x15ff41,_0x40e94a){const _0x2081d9=_0x5eac0b;let _0x4b7c38;if(!(''+_0x15ff41)['includes']('e'))_0x4b7c38=+(Math[_0x2081d9(0x297)](_0x15ff41+'e+'+_0x40e94a)+'e-'+_0x40e94a);else{let _0x541f3d=(''+_0x15ff41)[_0x2081d9(0x1c3)]('e'),_0x43174e='';+_0x541f3d[0x1]+_0x40e94a>0x0&&(_0x43174e='+'),_0x4b7c38=+(Math[_0x2081d9(0x297)](+_0x541f3d[0x0]+'e'+_0x43174e+(+_0x541f3d[0x1]+_0x40e94a))+'e-'+_0x40e94a);}return Number(_0x4b7c38)['toFixed'](_0x40e94a);}function getServerTime(){const _0x44c0c2=_0x5eac0b,_0x359b1d=new Date();return _0x359b1d[_0x44c0c2(0x1fb)]()+'/'+(_0x359b1d[_0x44c0c2(0x1f7)]()+0x1)['toString']()[_0x44c0c2(0x2d9)](0x2,'0')+'/'+_0x359b1d[_0x44c0c2(0x213)]()[_0x44c0c2(0x20c)]()[_0x44c0c2(0x2d9)](0x2,'0')+'\x20'+_0x359b1d['getHours']()[_0x44c0c2(0x20c)]()[_0x44c0c2(0x2d9)](0x2,'0')+':'+_0x359b1d[_0x44c0c2(0x1f8)]()[_0x44c0c2(0x20c)]()['padStart'](0x2,'0')+':'+_0x359b1d['getSeconds']()[_0x44c0c2(0x20c)]()[_0x44c0c2(0x2d9)](0x2,'0');}function getTimeStamp(){const _0x3a9939=_0x5eac0b,_0x20a113=shiftedTime();return _0x20a113['getFullYear']()+'/'+(_0x20a113['getMonth']()+0x1)[_0x3a9939(0x20c)]()['padStart'](0x2,'0')+'/'+_0x20a113[_0x3a9939(0x213)]()[_0x3a9939(0x20c)]()[_0x3a9939(0x2d9)](0x2,'0')+'\x20'+_0x20a113['getHours']()[_0x3a9939(0x20c)]()[_0x3a9939(0x2d9)](0x2,'0')+':'+_0x20a113[_0x3a9939(0x1f8)]()['toString']()[_0x3a9939(0x2d9)](0x2,'0')+':'+_0x20a113[_0x3a9939(0x33b)]()[_0x3a9939(0x20c)]()[_0x3a9939(0x2d9)](0x2,'0');}function getDate(){const _0xa5a40a=_0x5eac0b,_0x5dbbb3=shiftedTime();return _0x5dbbb3['getFullYear']()+'/'+(_0x5dbbb3[_0xa5a40a(0x1f7)]()+0x1)[_0xa5a40a(0x20c)]()[_0xa5a40a(0x2d9)](0x2,'0')+'/'+_0x5dbbb3[_0xa5a40a(0x213)]()['toString']()[_0xa5a40a(0x2d9)](0x2,'0');}function getHour(){const _0x30086a=_0x5eac0b,_0x3fa9e1=shiftedTime();return _0x3fa9e1['getHours']()[_0x30086a(0x20c)]()[_0x30086a(0x2d9)](0x2,'0');}function sleep(_0x4e911e){return new Promise(_0x48d959=>setTimeout(_0x48d959,_0x4e911e));}function shiftedTime(){const _0x345fb9=_0x5eac0b,_0x36e2ec=new Date();let _0xb37ce5=_0x36e2ec;if(config&&config[_0x345fb9(0x327)]!==0x0)_0xb37ce5=fns['add'](_0x36e2ec,{'hours':config['timeshift']});return _0xb37ce5;}function timer(_0x1326d6){const _0x479cb4=_0x5eac0b,_0x370cc6=new Date();!lasttime?console[_0x479cb4(0x305)](getTimeStamp()+_0x479cb4(0x240),_0x1326d6,_0x370cc6):console[_0x479cb4(0x305)](getTimeStamp()+_0x479cb4(0x240),_0x1326d6,(_0x370cc6-lasttime)/0x3e8),lasttime=_0x370cc6;}