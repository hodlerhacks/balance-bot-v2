const _0x805538=_0xb05b;(function(_0xdd930c,_0x1fb9a2){const _0xe5ebd8=_0xb05b,_0x27e070=_0xdd930c();while(!![]){try{const _0x16be79=parseInt(_0xe5ebd8(0x27b))/0x1*(-parseInt(_0xe5ebd8(0x23d))/0x2)+parseInt(_0xe5ebd8(0x30c))/0x3*(parseInt(_0xe5ebd8(0x197))/0x4)+parseInt(_0xe5ebd8(0x288))/0x5*(-parseInt(_0xe5ebd8(0x373))/0x6)+parseInt(_0xe5ebd8(0x2b7))/0x7+-parseInt(_0xe5ebd8(0x1ef))/0x8*(parseInt(_0xe5ebd8(0x1ec))/0x9)+-parseInt(_0xe5ebd8(0x32e))/0xa+parseInt(_0xe5ebd8(0x357))/0xb;if(_0x16be79===_0x1fb9a2)break;else _0x27e070['push'](_0x27e070['shift']());}catch(_0x164b2d){_0x27e070['push'](_0x27e070['shift']());}}}(_0x49ef,0x3362f));const _0x24eecf=function(){let _0x446e75=!![];return function(_0x24b978,_0x425a32){const _0x45d668=_0x446e75?function(){if(_0x425a32){const _0x1d1713=_0x425a32['apply'](_0x24b978,arguments);return _0x425a32=null,_0x1d1713;}}:function(){};return _0x446e75=![],_0x45d668;};}(),_0x5aa2c8=_0x24eecf(this,function(){const _0x13ebd2=_0xb05b;return _0x5aa2c8['toString']()[_0x13ebd2(0x1cd)]('(((.+)+)+)+$')[_0x13ebd2(0x1ba)]()['constructor'](_0x5aa2c8)[_0x13ebd2(0x1cd)](_0x13ebd2(0x36c));});_0x5aa2c8();'use strict';const ccxt=require(_0x805538(0x28c)),low=require(_0x805538(0x256)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x805538(0x25a)),forge=require(_0x805538(0x1a9)),util=require(_0x805538(0x28b)),argv=require(_0x805538(0x27e))(process[_0x805538(0x1b6)][_0x805538(0x2d3)](0x2))['argv'],path=require(_0x805538(0x2aa)),axios=require(_0x805538(0x194));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x805538(0x2ed),_0x805538(0x322),'TUSD','USDT','USDC',_0x805538(0x1f8)],excludedExchanges=['bitmex'],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x805538(0x301)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x805538(0x308)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x805538(0x35d)+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x805538(0x253))[_0x805538(0x337)],environment=require(_0x805538(0x253))[_0x805538(0x1e5)]||_0x805538(0x2ec),botID=process[_0x805538(0x1b6)][0x2]||_0x805538(0x354),pattern=/^[0-9]{3}$/;!pattern[_0x805538(0x22a)](botID)&&(console[_0x805538(0x2e9)](_0x805538(0x2d5)+botID+_0x805538(0x234)),killBot());const userID=process[_0x805538(0x1b6)][0x3]||'',configpath=userID?_0x805538(0x26a)+userID+'/':_0x805538(0x26a),logspath=userID?_0x805538(0x18c)+userID+'/':_0x805538(0x18c),loggerfile=fs[_0x805538(0x1a5)](logspath+_0x805538(0x275),{'flags':'a'});!fs[_0x805538(0x34e)](configpath)&&fs[_0x805538(0x2a5)](configpath);!fs['existsSync'](logspath)&&fs[_0x805538(0x2a5)](logspath);const configfile=configpath+_0x805538(0x348)+botID+_0x805538(0x326),logfile=configpath+_0x805538(0x348)+botID+_0x805538(0x342),performancefile=configpath+_0x805538(0x348)+botID+'-performance.json',coinresultsfile=configpath+_0x805538(0x348)+botID+_0x805538(0x2d4),settingsfile=configpath+_0x805538(0x1f6),securefile=configpath+_0x805538(0x30b),configbackuppath=configpath+_0x805538(0x1d4),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x805538(0x1fd)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x805538(0x29e)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x805538(0x1fd)]({'bot':[],'version':serverversion})[_0x805538(0x29e)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':{},'version':serverversion})[_0x805538(0x29e)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4f0c44=>{const _0xa20505=_0x805538;console[_0xa20505(0x2e9)](_0x4f0c44);},'simple':_0x161a27=>{const _0x41da63=_0x805538;console[_0x41da63(0x2e9)](_0x161a27),loggerfile[_0x41da63(0x29e)](util[_0x41da63(0x306)](_0x161a27)+'\x0a');},'full':async(_0x595985,_0x468d0e='')=>{const _0x2256fd=_0x805538;let _0x1b0dfd;if(config[_0x2256fd(0x1c4)])_0x1b0dfd=getTimeStamp()+':\x20'+config['botname']+_0x2256fd(0x19b)+_0x595985;else _0x1b0dfd=getTimeStamp()+_0x2256fd(0x269)+botID+_0x2256fd(0x19b)+_0x595985;console[_0x2256fd(0x2e9)](_0x1b0dfd),loggerfile['write'](util['format'](_0x1b0dfd)+'\x0a'),_0x468d0e&&(console[_0x2256fd(0x2e9)](_0x468d0e),loggerfile[_0x2256fd(0x29e)](util[_0x2256fd(0x306)](_0x468d0e)+'\x0a'));},'debug':async(_0x2ccb80,_0x3d80a0='')=>{const _0x1862b4=_0x805538;let _0x4047d2;if(config['showname'])_0x4047d2=getTimeStamp()+':\x20'+config[_0x1862b4(0x246)]+_0x1862b4(0x206)+_0x2ccb80;else _0x4047d2=getTimeStamp()+':\x20Bot\x20'+botID+_0x1862b4(0x206)+_0x2ccb80;if(debugging)console[_0x1862b4(0x2e9)](_0x4047d2);loggerfile[_0x1862b4(0x29e)](util[_0x1862b4(0x306)](_0x4047d2)+'\x0a');if(_0x3d80a0){if(debugging)console[_0x1862b4(0x2e9)](_0x3d80a0);loggerfile[_0x1862b4(0x29e)](util['format'](_0x3d80a0)+'\x0a');}}};process['on'](_0x805538(0x213),function(_0x3bb5f7){const _0x54e1d3=_0x805538;handleError(_0x3bb5f7[_0x54e1d3(0x2a3)],'uncaughtException');});settings[_0x805538(0x2bc)]!=config[_0x805538(0x2bc)]&&updateTimeshift(settings['timeshift']);settings[_0x805538(0x2ef)]!=config[_0x805538(0x2ef)]&&updateOnepagemode(settings[_0x805538(0x2ef)]);(settings['marketcapApi']&&!config[_0x805538(0x334)]||!settings[_0x805538(0x334)]&&config[_0x805538(0x334)])&&updateMarketcapApi(settings[_0x805538(0x334)]);process['send']({'started':_0x805538(0x1db)},_0x29117c=>{}),initializeProcessListeners();function proxyEmit(_0x437f0e,_0x442bd6=null){const _0x27a4fa=_0x805538;process[_0x27a4fa(0x2d7)]({'function':_0x437f0e,'args':_0x442bd6},_0x3690b7=>{});}function initializeProcessListeners(){const _0x3c5894=_0x805538;process['on'](_0x3c5894(0x302),_0x22a42=>{const _0x5ea3c7=_0x3c5894;switch(Object['keys'](_0x22a42)[0x0]){case _0x5ea3c7(0x2bc):_0x22a42[_0x5ea3c7(0x2bc)]!=undefined&&(settings['timeshift']=_0x22a42[_0x5ea3c7(0x2bc)],updateTimeshift(settings[_0x5ea3c7(0x2bc)]));break;case _0x5ea3c7(0x2ef):_0x22a42[_0x5ea3c7(0x2ef)]!=undefined&&(settings['onepagemode']=_0x22a42['onepagemode'],updateOnepagemode(settings[_0x5ea3c7(0x2ef)]));break;case _0x5ea3c7(0x334):_0x22a42[_0x5ea3c7(0x334)]!=undefined&&(settings[_0x5ea3c7(0x334)]=_0x22a42[_0x5ea3c7(0x334)],updateMarketcapApi(settings['marketcapApi']));break;case _0x5ea3c7(0x28e):_0x22a42[_0x5ea3c7(0x28e)]!=undefined&&(bots=JSON['parse'](_0x22a42[_0x5ea3c7(0x28e)]),proxyEmit(_0x5ea3c7(0x28e),bots));break;case _0x5ea3c7(0x22e):switch(_0x22a42[_0x5ea3c7(0x22e)]){case _0x5ea3c7(0x223):initclient();break;case _0x5ea3c7(0x305):toggleBotMode();break;case'emitHistory':emitHistory(_0x22a42[_0x5ea3c7(0x1a8)]);break;case _0x5ea3c7(0x1a2):deleteHistoryAlerts(_0x22a42['args']);break;case'getPortfolio':getPortfolio(_0x22a42[_0x5ea3c7(0x1a8)]);break;case _0x5ea3c7(0x2b2):storeConfiguration(_0x22a42[_0x5ea3c7(0x1a8)]);break;case _0x5ea3c7(0x33e):storeHeadless(_0x22a42['args']);break;case _0x5ea3c7(0x2e7):storeFiat(_0x22a42[_0x5ea3c7(0x1a8)]);break;case _0x5ea3c7(0x278):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x5ea3c7(0x2b8):placeOrder(_0x22a42[_0x5ea3c7(0x1a8)]);break;case _0x5ea3c7(0x1bd):cancelLoading();break;case _0x5ea3c7(0x328):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x5ea3c7(0x372):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x1962ec=![]){const _0x4bbbb9=_0x805538;logger[_0x4bbbb9(0x2f1)](_0x4bbbb9(0x28f)+(_0x1962ec?'exchange\x20reload':'no\x20exchange\x20reloaded')+'\x20|\x20exchange:\x20'+config[_0x4bbbb9(0x2c7)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x4bbbb9(0x363)]!=''&&config[_0x4bbbb9(0x363)]!='***'){loadingProgress=0x0;if(_0x1962ec){await initExchange();const _0x5737be=await testAPI();if(!_0x5737be)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x4bbbb9(0x19d),emittedConfiguration()),initialPerformanceStored=![];}const _0x4a9a38=await getCoins();[currentCoins,currentCoinsAll]=_0x4a9a38,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x4bbbb9(0x2f1)](_0x4bbbb9(0x2d0)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x4bbbb9(0x2b1)]==0x0&&allOpenOrders[_0x4bbbb9(0x2b1)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x1dbd9e=![]){const _0x38c80a=_0x805538;logger['debug'](_0x38c80a(0x1b3)+(_0x1dbd9e?'quick':_0x38c80a(0x2a0))+_0x38c80a(0x205)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x1dbd9e){getBalances();return;}coinsLoaded=![];if(config[_0x38c80a(0x363)]!=''&&config['apiKey']!='***'){loadingProgress=0x1;const _0x5ea5e3=await getCoins();[currentCoins,currentCoinsAll]=_0x5ea5e3,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x38c80a(0x2f1)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x38c80a(0x2b1)]==0x0&&allOpenOrders[_0x38c80a(0x2b1)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x45c7d0){const _0x91c5c=_0x805538;let _0x3686a6=![];if(_0x45c7d0)_0x3686a6=!![];const _0xada96b=_0x3686a6?_0x45c7d0:currentCoins,_0x37c513=_0xada96b[_0x91c5c(0x36d)](_0x40de29=>_0x40de29['coin']);if(!config[_0x91c5c(0x334)]||!_0x3686a6&&!config['marketcapEnabled']||_0x37c513[_0x91c5c(0x2b1)]==0x0)return;let _0xa97d69=null;try{_0xa97d69=await axios[_0x91c5c(0x20e)](_0x91c5c(0x23b),{'headers':{'X-CMC_PRO_API_KEY':settings['marketcapApi']},'params':{'symbol':_0x37c513[_0x91c5c(0x1ba)]()}});}catch(_0x32b8c3){_0xa97d69=null,_0x32b8c3[_0x91c5c(0x1ba)]()[_0x91c5c(0x225)](_0x91c5c(0x276))?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x91c5c(0x19d),emittedConfiguration()),logHistory(_0x91c5c(0x338),_0x91c5c(0x1be))):(logHistory(_0x91c5c(0x338),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0x91c5c(0x273)),logger[_0x91c5c(0x2f1)](_0x91c5c(0x2ff),_0x32b8c3[_0x91c5c(0x1ba)]()+_0x91c5c(0x31e)+_0x32b8c3['code']));}const _0x1930d2=new Map();let _0x6fdd6a=!![];if(_0xa97d69){let _0x3b1825=0x0;const _0x191597=_0xa97d69[_0x91c5c(0x346)];_0x37c513[_0x91c5c(0x1f1)](_0x2df106=>{const _0x16eb3e=_0x91c5c;if(_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0]&&_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0][_0x16eb3e(0x272)][_0x16eb3e(0x2ed)]['market_cap'])_0x1930d2[_0x16eb3e(0x2e4)](_0x2df106,_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0][_0x16eb3e(0x272)]['USD'][_0x16eb3e(0x239)]),_0x3b1825+=_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0][_0x16eb3e(0x272)]['USD'][_0x16eb3e(0x239)];else{if(_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0]&&_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0]['self_reported_market_cap'])_0x1930d2['set'](_0x2df106,_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0][_0x16eb3e(0x341)]),_0x3b1825+=_0x191597[_0x16eb3e(0x346)][_0x2df106][0x0]['self_reported_market_cap'];else{if(![_0x16eb3e(0x261),_0x16eb3e(0x2ed)][_0x16eb3e(0x225)](_0x2df106)){if(_0x3686a6)logHistory('error',_0x16eb3e(0x2ae)+_0x2df106+_0x16eb3e(0x295));else{const _0x1da26a=config[_0x16eb3e(0x25c)]['find'](_0x586f4c=>_0x586f4c['coin']==_0x2df106);_0x1da26a&&!_0x1da26a[_0x16eb3e(0x35c)]&&_0x1da26a['slider']==-0x1&&(_0x6fdd6a=![],logHistory(_0x16eb3e(0x338),_0x16eb3e(0x1ce)),logger[_0x16eb3e(0x2f1)]('CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0x2df106));}}}}});if(!_0x6fdd6a)return;_0x37c513[_0x91c5c(0x1f1)](_0x4ca7f7=>{const _0x1484db=_0x91c5c,_0x21560e=_0x1930d2[_0x1484db(0x20e)](_0x4ca7f7)?_0x1930d2[_0x1484db(0x20e)](_0x4ca7f7):0x0;if(_0x3686a6){const _0x1be2db=_0x45c7d0[_0x1484db(0x33a)](_0x38b5b2=>_0x38b5b2[_0x1484db(0x28a)]==_0x4ca7f7);_0x1be2db&&(_0x1be2db[_0x1484db(0x1c5)]=_0x21560e);}else{const _0x6d7ee0=currentCoins['find'](_0x5470ba=>_0x5470ba[_0x1484db(0x28a)]==_0x4ca7f7);_0x6d7ee0&&(_0x6d7ee0['marketcap']=_0x21560e);const _0x49b5a1=currentCoinsAll[_0x1484db(0x33a)](_0x3bc3c3=>_0x3bc3c3[_0x1484db(0x28a)]==_0x4ca7f7);_0x49b5a1&&(_0x49b5a1[_0x1484db(0x1c5)]=_0x21560e);}}),!_0x3686a6&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x23b1af=_0x805538,_0xe57bc3=0x2;let _0x5b8730=0x0,_0x2fa787=0x0,_0x28b6cc=0x0,_0x2e380e=0x0,_0x2a568d=0x0;config[_0x23b1af(0x25c)][_0x23b1af(0x1f1)](_0x30766c=>{const _0x292b12=_0x23b1af;if(!_0x30766c[_0x292b12(0x35c)]){_0x28b6cc++,_0x5b8730+=_0x30766c[_0x292b12(0x2ad)];if(_0x30766c['slider']===-0x1){_0x5b8730++;const _0x371062=currentCoinsAll[_0x292b12(0x33a)](_0x42a53c=>_0x42a53c[_0x292b12(0x28a)]==_0x30766c[_0x292b12(0x28a)]);_0x371062&&(_0x2e380e+=_0x371062[_0x292b12(0x1c5)],_0x2a568d+=Math[_0x292b12(0x323)](_0x371062[_0x292b12(0x1c5)]));}if(_0x30766c[_0x292b12(0x2ad)]!==-0x1)_0x2fa787++;}});let _0x3720f0;const _0x2f9ca9=0x64-_0x5b8730,_0x15ff6e=_0x28b6cc-_0x2fa787;_0x3720f0=_0x15ff6e===0x0?_0x5b8730:Math['max'](0x64,_0x5b8730),config[_0x23b1af(0x25c)][_0x23b1af(0x1f1)](_0x2ea02f=>{const _0xcabe85=_0x23b1af,_0x57df6e=currentCoinsAll['find'](_0x25b647=>_0x25b647[_0xcabe85(0x28a)]==_0x2ea02f[_0xcabe85(0x28a)]);_0x57df6e&&(_0x2ea02f[_0xcabe85(0x1c5)]=_0x57df6e[_0xcabe85(0x1c5)]);if(!_0x2ea02f[_0xcabe85(0x35c)]){if(_0x3720f0<=0x64){if(_0x2ea02f[_0xcabe85(0x2ad)]===-0x1){if(_0x2e380e!==0x0&&config[_0xcabe85(0x2de)]){if(_0x57df6e){if(config['marketcapEnabled']==_0xcabe85(0x1c5))_0x2ea02f[_0xcabe85(0x2e3)]=(_0x2f9ca9/(_0x2e380e/_0x57df6e[_0xcabe85(0x1c5)]))[_0xcabe85(0x1aa)](_0xe57bc3);else config[_0xcabe85(0x2de)]==_0xcabe85(0x1f3)&&(_0x2ea02f[_0xcabe85(0x2e3)]=(_0x2f9ca9/(_0x2a568d/Math[_0xcabe85(0x323)](_0x57df6e['marketcap'])))[_0xcabe85(0x1aa)](_0xe57bc3));}}}}}}),updateConfig();}function updateConfig(){const _0x2c818c=_0x805538;let _0xa70b6=dbConfig['get'](_0x2c818c(0x2f6))['find']({'botID':botID})[_0x2c818c(0x228)]();_0xa70b6&&dbConfig[_0x2c818c(0x20e)]('bot')[_0x2c818c(0x33a)]({'botID':botID})[_0x2c818c(0x368)](config)['write']();}function logMemory(){const _0x4a5840=_0x805538;if(environment!=_0x4a5840(0x277))return;const _0x5da6b9=process[_0x4a5840(0x361)]()[_0x4a5840(0x1b0)]/0x400/0x400;logger[_0x4a5840(0x2f1)](_0x4a5840(0x1f2)+process[_0x4a5840(0x344)]+_0x4a5840(0x311)+formatResult(_0x5da6b9,0x1)+'\x20MB');}async function startScheduler(){const _0x38210e=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0x38210e==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x4e93bb=![]){const _0x23c09a=_0x805538;logger[_0x23c09a(0x2f1)](_0x23c09a(0x2ca));if(!_0x4e93bb)while(lockOrders!=ORDERS[_0x23c09a(0x308)]||coolingDown){await sleep(0x3e8);}process[_0x23c09a(0x2d7)]({'stop':_0x23c09a(0x36f)},_0x867f70=>{});}async function initExchange(_0x4ccfcd=config['exchange'],_0x26ceac=config[_0x805538(0x363)],_0x333275=config['apiSecret'],_0x22ac34=config['apiPassword'],_0x561d22=config[_0x805538(0x347)]){const _0x3e3991=_0x805538;if(exchange){logger['debug'](_0x3e3991(0x21f));return;}logger[_0x3e3991(0x2f1)](_0x3e3991(0x2f8));!supportedExchanges()[_0x3e3991(0x225)](_0x4ccfcd)&&(logHistory('error',_0x3e3991(0x1a0)+_0x4ccfcd+_0x3e3991(0x32a)),killBot());const _0x3e22e5=ccxt[_0x3e3991(0x345)][_0x4ccfcd[_0x3e3991(0x1e0)]()];exchange=new _0x3e22e5({'apiKey':_0x26ceac,'secret':_0x333275,'options':{'defaultType':_0x3e3991(0x203)}});if(_0x22ac34)exchange[_0x3e3991(0x36b)]=_0x22ac34;if(exchange[_0x3e3991(0x210)][_0x3e3991(0x347)])exchange[_0x3e3991(0x248)](_0x561d22);if(_0x4ccfcd[_0x3e3991(0x1e0)]()=='bitvavo')exchange[_0x3e3991(0x208)]['operatorId']=operatorId;}function updateExchange(_0x4a7814,_0x1a6cd1,_0x2e2650=null){const _0x49bfb7=_0x805538;exchange[_0x49bfb7(0x363)]=_0x4a7814,exchange[_0x49bfb7(0x2c4)]=_0x1a6cd1,exchange['password']=_0x2e2650,logger[_0x49bfb7(0x2f1)](_0x49bfb7(0x20b));}function setStableCoins(){const _0x6307e9=_0x805538;let _0x4cedc5=config[_0x6307e9(0x2b6)]==_0x6307e9(0x282)?_0x6307e9(0x282):config[_0x6307e9(0x2b6)]==_0x6307e9(0x30f)?_0x6307e9(0x30f):_0x6307e9(0x336),_0x1efb86=allSymbols[_0x6307e9(0x225)](_0x4cedc5+_0x6307e9(0x1b9))?'USD':allSymbols[_0x6307e9(0x225)](_0x4cedc5+_0x6307e9(0x1b1))?'USDT':'EUR',_0x8d3f6c=allSymbols[_0x6307e9(0x225)](_0x4cedc5+_0x6307e9(0x1a1))?_0x6307e9(0x261):_0x1efb86;enableFiatToggle=!![],_0x1efb86=='EUR'&&(enableFiatToggle=![],storeFiat(_0x6307e9(0x261))),_0x8d3f6c!=_0x6307e9(0x261)&&(enableFiatToggle=![],storeFiat(_0x6307e9(0x2ed))),stablecoins={'eur':{'coin':''+_0x4cedc5+_0x8d3f6c,'symbol':_0x4cedc5+'/'+_0x8d3f6c},'usd':{'coin':''+_0x4cedc5+_0x1efb86,'symbol':_0x4cedc5+'/'+_0x1efb86}};}async function initwsCcxt(){const _0x2262d3=_0x805538;initCycle++;const _0x5972a9=initCycle;let _0x30ec86=[];config['portfolio'][_0x2262d3(0x1f1)](_0x5dbf57=>{const _0xceeb17=_0x2262d3;if(!_0x5dbf57[_0xceeb17(0x35c)]&&_0x5dbf57[_0xceeb17(0x28a)]!=config[_0xceeb17(0x2b6)])_0x30ec86[_0xceeb17(0x31a)](_0x5dbf57[_0xceeb17(0x2df)]);});if(!_0x30ec86[_0x2262d3(0x225)](stablecoins['eur'][_0x2262d3(0x2df)]))_0x30ec86[_0x2262d3(0x31a)](stablecoins[_0x2262d3(0x307)][_0x2262d3(0x2df)]);if(!_0x30ec86['includes'](stablecoins['usd'][_0x2262d3(0x2df)]))_0x30ec86['push'](stablecoins[_0x2262d3(0x231)][_0x2262d3(0x2df)]);loadCoins(_0x30ec86),_0x30ec86=validateSymbols(_0x30ec86);const _0x80899c=async _0x323bcb=>{const _0x52a2de=_0x2262d3;let _0x11d14c;try{const _0x5ee60b=await getTickers(_0x323bcb);Object[_0x52a2de(0x293)](_0x5ee60b)[_0x52a2de(0x1f1)](_0x46e169=>{const _0x4dabab=_0x52a2de;_0x11d14c=_0x46e169[0x1][_0x4dabab(0x2df)],gTicker[noslash(_0x11d14c)]=_0x46e169[0x1]['last'],gChange[_0x11d14c]=_0x46e169[0x1]['percentage'];});}catch(_0x25f133){await handleError(_0x25f133,_0x52a2de(0x1dd),_0x11d14c);}},_0x1fdc48=async _0xfee32d=>{const _0xb25f79=_0x2262d3;while(initCycle==_0x5972a9){if(!botPaused)try{const _0x367d87=await exchange[_0xb25f79(0x1f7)](_0xfee32d);gTicker[noslash(_0x367d87[0x0][_0xb25f79(0x2df)])]=_0x367d87[0x0][_0xb25f79(0x2ce)];}catch(_0x167fc6){if(!exchangeStopped)await handleError(_0x167fc6,_0xb25f79(0x2e8),_0xfee32d);}else await sleep(0x64);}},_0x223beb=async _0x49b60e=>{const _0x1c69b9=_0x2262d3;while(initCycle==_0x5972a9){if(!botPaused)try{const _0x2dc0a6=await exchange['watchTradesForSymbols'](_0x49b60e),_0xa50f8a=_0x2dc0a6[_0x1c69b9(0x226)]();gTicker[noslash(_0xa50f8a[_0x1c69b9(0x2df)])]=_0xa50f8a[_0x1c69b9(0x2ce)];}catch(_0x44b60c){if(!exchangeStopped)await handleError(_0x44b60c,_0x1c69b9(0x19c),_0x49b60e['toString']());}else await sleep(0x64);}},_0x4fba99=async _0x1c1128=>{const _0x10a7de=_0x2262d3;while(initCycle==_0x5972a9){if(!botPaused){let _0x3d729d;try{await sleep(0x3c*0x3e8);const _0x15ecb0=await getTickers(_0x1c1128);Object[_0x10a7de(0x293)](_0x15ecb0)[_0x10a7de(0x1f1)](_0x2a72f9=>{const _0xd796ff=_0x10a7de;_0x3d729d=_0x2a72f9[0x1][_0xd796ff(0x2df)],gChange[_0x3d729d]=_0x2a72f9[0x1][_0xd796ff(0x200)];});}catch(_0x3fd287){if(!exchangeStopped)await handleError(_0x3fd287,_0x10a7de(0x1bc),_0x3d729d);}}else await sleep(0x64);}},_0x126703=async _0x29351f=>{const _0x9a53fb=_0x2262d3;while(initCycle==_0x5972a9){if(!botPaused)try{const _0x5f5c8f=await exchange[_0x9a53fb(0x309)](_0x29351f);initCycle==_0x5972a9&&_0x5f5c8f[_0x9a53fb(0x1f1)](_0x239d83=>{updateNumberCoinsCcxt(_0x239d83);});}catch(_0x24e2e2){if(!exchangeStopped)await handleError(_0x24e2e2,_0x9a53fb(0x21b));}else await sleep(0x64);}};_0x80899c(_0x30ec86),_0x4fba99(_0x30ec86),exchange[_0x2262d3(0x210)][_0x2262d3(0x18d)]&&!(config[_0x2262d3(0x2c7)]==_0x2262d3(0x26d)&&_0x30ec86[_0x2262d3(0x2b1)]>0xa)?_0x223beb(_0x30ec86):_0x30ec86[_0x2262d3(0x1f1)](_0x229c6e=>{_0x1fdc48(_0x229c6e);}),_0x30ec86[_0x2262d3(0x1f1)](_0x4a3b7b=>{_0x126703(_0x4a3b7b);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0xa895ff){const _0xf18a96=_0x805538;let _0x47ac32={};try{if(config[_0xf18a96(0x2c7)]!=_0xf18a96(0x1ed))_0x47ac32=await exchange[_0xf18a96(0x221)](_0xa895ff);else for(const _0x20e6a2 of _0xa895ff){const _0x4b6a13=await exchange['fetchTicker'](_0x20e6a2);_0x47ac32[_0x20e6a2]=_0x4b6a13;}return _0x47ac32;}catch(_0x430d06){throw _0x430d06;}}function setBlockTransactionDetection(_0x40588d){const _0x175da4=_0x805538;blockTransactionDetection=_0x40588d,logger[_0x175da4(0x2f1)](_0x175da4(0x369)+blockTransactionDetection);}async function detectLiquidityChange(_0x260426=0x0){const _0x16534a=_0x805538;transactionDetectionOngoing=!![];try{const _0x4a08d5=await getCoins(_0x260426),[_0x13e4f4,_0x258828]=_0x4a08d5;let _0x243e69=[];currentCoins[_0x16534a(0x1f1)](_0x5cd620=>{const _0x9ec3fd=_0x16534a,_0x2c80a0=_0x13e4f4[_0x9ec3fd(0x33a)](_0x4f93d7=>_0x4f93d7[_0x9ec3fd(0x28a)]==_0x5cd620['coin']);if(_0x2c80a0){if(_0x5cd620['number']!=_0x2c80a0[_0x9ec3fd(0x2e2)]){let _0x2f508c;if(_0x5cd620['coin']!=config[_0x9ec3fd(0x2b6)]){const _0xfdfee7=gTicker[noslash(_0x5cd620[_0x9ec3fd(0x2df)])];_0x2f508c=_0x5cd620[_0x9ec3fd(0x24c)]?0x1/_0xfdfee7:_0xfdfee7;}else _0x2f508c=0x1;_0x243e69['push']({'coin':_0x5cd620[_0x9ec3fd(0x28a)],'symbol':_0x5cd620[_0x9ec3fd(0x2df)],'price':_0x2f508c,'number':Number(formatResult(_0x2c80a0[_0x9ec3fd(0x2e2)]-_0x5cd620[_0x9ec3fd(0x2e2)],0x8)),'basecoinvalue':_0x2f508c*(_0x2c80a0[_0x9ec3fd(0x2e2)]-_0x5cd620['number'])});}}});if(_0x243e69[_0x16534a(0x2b1)]>0x0&&!blockTransactionDetection){for(const _0x4b17fc of _0x243e69){if(config[_0x16534a(0x2d1)]){logger['debug'](_0x16534a(0x22b)+_0x4b17fc[_0x16534a(0x353)]+_0x16534a(0x350)+lastFees[_0x16534a(0x279)]);if(lastFees[_0x16534a(0x279)]==0x0||Math[_0x16534a(0x34b)](_0x4b17fc[_0x16534a(0x353)])>lastFees['highest']*0x3){if(config[_0x16534a(0x2d1)]==_0x16534a(0x321)){delete _0x4b17fc[_0x16534a(0x2df)],delete _0x4b17fc[_0x16534a(0x353)];let _0x3a3fc4=[],_0x603236=[...config[_0x16534a(0x2bd)]]||[],_0xbae9aa=config[_0x16534a(0x2bd)];_0x603236[_0x16534a(0x285)]((_0x368f5b,_0x277c51)=>_0x368f5b[_0x16534a(0x1ff)]>_0x277c51[_0x16534a(0x1ff)]?-0x1:_0x277c51['date']>_0x368f5b['date']?0x1:0x0);const _0x34583e=getDate();if(_0x603236[0x0]){const _0x289bd7=fns[_0x16534a(0x2ac)](_0x603236[0x0][_0x16534a(0x1ff)],_0x16534a(0x362),new Date()),_0x4c1748=fns[_0x16534a(0x2ac)](_0x34583e,_0x16534a(0x362),new Date());if(fns[_0x16534a(0x24e)](_0x289bd7,_0x4c1748)){_0x3a3fc4=_0x603236[0x0][_0x16534a(0x191)];const _0x51990d=_0x3a3fc4[_0x16534a(0x33a)](_0x28e9aa=>_0x28e9aa[_0x16534a(0x28a)]==_0x4b17fc[_0x16534a(0x28a)]);_0x51990d?(_0x51990d[_0x16534a(0x2e2)]+=_0x4b17fc[_0x16534a(0x2e2)],_0x51990d[_0x16534a(0x2e2)]==0x0&&(_0x3a3fc4=_0x3a3fc4['filter'](_0x3ce9a1=>{const _0x4fbbcf=_0x16534a;return _0x3ce9a1[_0x4fbbcf(0x28a)]!=_0x4b17fc[_0x4fbbcf(0x28a)];}))):_0x3a3fc4['push'](_0x4b17fc);const _0x93459c=_0xbae9aa[_0x16534a(0x33a)](_0x9669bb=>_0x9669bb[_0x16534a(0x1ff)]==_0x34583e);_0x93459c[_0x16534a(0x191)]=_0x3a3fc4;}else _0xbae9aa[_0x16534a(0x31a)]({'date':_0x34583e,'changes':[_0x4b17fc]});}const _0x15744a=_0xbae9aa[_0x16534a(0x33a)](_0x3768c4=>_0x3768c4[_0x16534a(0x1ff)]==_0x34583e);if(_0x15744a){let _0x15b56b=!![];_0x15744a[_0x16534a(0x191)][_0x16534a(0x1f1)](_0x140fda=>{const _0x54a290=_0x16534a;if(_0x140fda[_0x54a290(0x2e2)]!=0x0)_0x15b56b=![];}),_0x15b56b&&(_0xbae9aa=_0xbae9aa[_0x16534a(0x317)](_0x5e1200=>{const _0x17d33c=_0x16534a;return _0x5e1200[_0x17d33c(0x1ff)]!=_0x34583e;}));}let _0x51c543=dbConfig[_0x16534a(0x20e)](_0x16534a(0x2f6))['find']({'botID':botID})[_0x16534a(0x228)]();_0x51c543&&(dbConfig[_0x16534a(0x20e)](_0x16534a(0x2f6))['find']({'botID':botID})[_0x16534a(0x368)]({'liquidity':_0xbae9aa})['write'](),config['liquidity']=_0xbae9aa);logHistory('success',_0x16534a(0x21a)+Math[_0x16534a(0x34b)](_0x4b17fc[_0x16534a(0x2e2)])+'\x20'+_0x4b17fc[_0x16534a(0x28a)]+'\x20'+(_0x4b17fc[_0x16534a(0x2e2)]>0x0?_0x16534a(0x2f4):_0x16534a(0x33d))+_0x16534a(0x366)),proxyEmit(_0x16534a(0x19d),emittedConfiguration());const _0x569a44=getNormalizedPerformance();emitPerformance(_0x569a44),getStartingBalances(_0x569a44),logger[_0x16534a(0x2f1)](_0x16534a(0x26f));}else config[_0x16534a(0x2d1)]==_0x16534a(0x1c2)&&(config[_0x16534a(0x1c9)]?(await storeHeadless({'headless':![]}),logHistory(_0x16534a(0x33b),'Portfolio\x20change\x20detected:\x20'+Math[_0x16534a(0x34b)](_0x4b17fc[_0x16534a(0x2e2)])+'\x20'+_0x4b17fc['coin']+'\x20'+(_0x4b17fc[_0x16534a(0x2e2)]>0x0?_0x16534a(0x2f4):_0x16534a(0x33d))+_0x16534a(0x1c6))):logger[_0x16534a(0x2f1)](_0x16534a(0x21a)+Math[_0x16534a(0x34b)](_0x4b17fc[_0x16534a(0x2e2)])+'\x20'+_0x4b17fc[_0x16534a(0x28a)]+'\x20'+(_0x4b17fc[_0x16534a(0x2e2)]>0x0?_0x16534a(0x2f4):_0x16534a(0x33d))+_0x16534a(0x2eb)));}else logger[_0x16534a(0x2f1)](_0x16534a(0x358)+Math[_0x16534a(0x34b)](_0x4b17fc['number'])+'\x20'+_0x4b17fc[_0x16534a(0x28a)]+'\x20'+(_0x4b17fc[_0x16534a(0x2e2)]>0x0?_0x16534a(0x2f4):_0x16534a(0x33d)));}else logger[_0x16534a(0x2f1)](_0x16534a(0x21a)+Math[_0x16534a(0x34b)](_0x4b17fc['number'])+'\x20'+_0x4b17fc[_0x16534a(0x28a)]+'\x20'+(_0x4b17fc[_0x16534a(0x2e2)]>0x0?_0x16534a(0x2f4):_0x16534a(0x33d))+'\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x13e4f4,currentCoinsAll=_0x258828;}}catch(_0x1979b6){if(!exchangeStopped)await handleError(_0x1979b6,_0x16534a(0x289));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x3662ed=_0x805538;try{markets=await exchange[_0x3662ed(0x2fc)](!![]),allSymbols=[],Object[_0x3662ed(0x293)](markets)[_0x3662ed(0x1f1)](_0x4d6796=>{const _0x1aac05=_0x3662ed;_0x4d6796[0x1][_0x1aac05(0x212)]&&_0x4d6796[0x1][_0x1aac05(0x203)]&&allSymbols['push'](_0x4d6796[0x0]);});}catch(_0x356dfe){markets?logger[_0x3662ed(0x2f1)](_0x3662ed(0x2af)+_0x356dfe['toString']()):(loading[_0x3662ed(0x20c)]=!![],_0x356dfe[_0x3662ed(0x1ba)]()[_0x3662ed(0x1e0)]()[_0x3662ed(0x225)](_0x3662ed(0x27d))||_0x356dfe[_0x3662ed(0x1ba)]()[_0x3662ed(0x1e0)]()['includes']('request-time')?(logHistory(_0x3662ed(0x338),_0x3662ed(0x294)),loading[_0x3662ed(0x338)]='timestamp-issue'):handleErrorNoStop(_0x356dfe,_0x3662ed(0x259),!![]),logHistory(_0x3662ed(0x338),'Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory('error',_0x3662ed(0x2bf)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x3662ed(0x2f1)](_0x3662ed(0x2ff),_0x356dfe),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x3dfd38){const _0x2998f2=_0x805538;let _0x817efc=[];return _0x3dfd38[_0x2998f2(0x1f1)](_0x19c837=>{const _0x13c19c=_0x2998f2;!allSymbols['includes'](_0x19c837)?(logHistory(_0x13c19c(0x338),'Invalid\x20symbol:\x20'+_0x19c837+_0x13c19c(0x252)),loading[_0x13c19c(0x18e)]=!![],emitLoadingProgress()):_0x817efc[_0x13c19c(0x31a)](_0x19c837);}),_0x817efc;}async function initclient(){const _0x5e721f=_0x805538;proxyEmit(_0x5e721f(0x19d),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5e721f(0x329),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xd1f98f=getNormalizedPerformance();emitPerformance(_0xd1f98f),getStartingBalances(_0xd1f98f);}async function toggleBotMode(){const _0x1d50cc=_0x805538;let _0x1092b8=dbConfig[_0x1d50cc(0x20e)](_0x1d50cc(0x2f6))['find']({'botID':botID})[_0x1d50cc(0x228)]();if(_0x1092b8){const _0x4d4e39=!_0x1092b8[_0x1d50cc(0x1c9)];dbConfig[_0x1d50cc(0x20e)]('bot')[_0x1d50cc(0x33a)]({'botID':botID})[_0x1d50cc(0x368)]({'headless':_0x4d4e39})[_0x1d50cc(0x29e)](),config[_0x1d50cc(0x1c9)]=_0x4d4e39,proxyEmit(_0x1d50cc(0x19d),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x146d57=_0x805538;process['send']({'updatebotmanager':!![]},_0x593ac4=>{}),logger[_0x146d57(0x2f1)](_0x146d57(0x236)+config[_0x146d57(0x1c9)]);}async function loadCoins(_0x334a3f){const _0x40ecd5=_0x805538;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x334c71,_0x1df032=0x0,_0x4a2cf1=0x0;_0x334a3f[_0x40ecd5(0x1f1)](_0x5848f0=>{const _0x59913d=_0x40ecd5;loading[_0x59913d(0x218)][_0x59913d(0x31a)](_0x5848f0);}),loadingCanceled=![];let _0x283170=![];while(_0x334c71!=_0x334a3f[_0x40ecd5(0x2b1)]+maxLoadingProgress){_0x334c71=loadingProgress,_0x334a3f[_0x40ecd5(0x1f1)](_0x3cf02e=>{const _0x363d1c=_0x40ecd5;if(gTicker[noslash(_0x3cf02e)]){loading[_0x363d1c(0x218)]=loading[_0x363d1c(0x218)]['filter'](_0xb3c4ae=>_0xb3c4ae!=_0x3cf02e);if(!watchedSymbols[_0x363d1c(0x225)](_0x3cf02e))watchedSymbols[_0x363d1c(0x31a)](_0x3cf02e);_0x334c71++;}}),loading[_0x40ecd5(0x30e)]=Math[_0x40ecd5(0x1cb)](_0x334c71/(_0x334a3f[_0x40ecd5(0x2b1)]+maxLoadingProgress)*0x64);loading[_0x40ecd5(0x30e)]!=0x64&&(_0x4a2cf1>0x1e*0x5&&(loading[_0x40ecd5(0x18e)]=!![],emitLoadingProgress()),_0x4a2cf1>0x78*0x5&&!_0x283170&&(_0x283170=!![],logHistory(_0x40ecd5(0x338),_0x40ecd5(0x271)+loading['remainingSymbols'][_0x40ecd5(0x36a)](',\x20')+_0x40ecd5(0x29d)),logHistory('error',_0x40ecd5(0x2bf)+loadCoinsRetryInterval/0xea60+_0x40ecd5(0x24b)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x40ecd5(0x20c)]=!![],emitLoadingProgress();break;}else _0x1df032!=loading['progress']&&(_0x1df032=loading[_0x40ecd5(0x30e)],emitLoadingProgress()),_0x4a2cf1++,await sleep(0xc8);}_0x334c71==_0x334a3f[_0x40ecd5(0x2b1)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x40ecd5(0x2d7)]({'status':_0x40ecd5(0x1e4),'live':_0x40ecd5(0x1db)},_0x5ba985=>{}),_0x283170&&logHistory(_0x40ecd5(0x33b),_0x40ecd5(0x19e)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x58106b=_0x805538;proxyEmit(_0x58106b(0x19d),{...emittedConfiguration(),'configstate':_0x58106b(0x242)});}function emitLoadingProgress(){const _0x1f5eed=_0x805538;proxyEmit(_0x1f5eed(0x25d),loading);}async function getFiat(){const _0x2fffb7=_0x805538;let _0x11b0ba=gTicker[stablecoins[_0x2fffb7(0x307)][_0x2fffb7(0x28a)]],_0x588931=gTicker[stablecoins['usd'][_0x2fffb7(0x28a)]];return{'eur':Number(_0x11b0ba),'usd':Number(_0x588931)};}function capitalize(_0x2ff453){const _0x2b661d=_0x805538;return _0x2ff453[_0x2b661d(0x2e0)](0x0,0x1)[_0x2b661d(0x235)]()+_0x2ff453[_0x2b661d(0x2e0)](0x1);}function supportedExchanges(){const _0xce0060=_0x805538,_0x436256=['ws','fetchTickers',_0xce0060(0x2a8),_0xce0060(0x1f7),_0xce0060(0x309),_0xce0060(0x2ba),_0xce0060(0x23e),'fetchOpenOrders',_0xce0060(0x324)];let _0x2646f2=[],_0x1d4120=[],_0x12fb65=ccxt[_0xce0060(0x345)][_0xce0060(0x27f)];_0x12fb65[_0xce0060(0x1f1)](_0x1bbccf=>{const _0x470700=_0xce0060;try{const _0x438489=new ccxt[(_0x470700(0x345))][_0x1bbccf]();_0x1d4120['push'](_0x438489);}catch(_0x238de9){}}),_0x1d4120[_0xce0060(0x1f1)](_0x109185=>{const _0x2549d8=_0xce0060;let _0x564b30=0x0;_0x436256[_0x2549d8(0x1f1)](_0x168790=>{const _0x1ba04f=_0x2549d8;_0x168790 in _0x109185[_0x1ba04f(0x210)]&&_0x109185['has'][_0x168790]&&_0x564b30++;}),_0x564b30==_0x436256['length']&&(!excludedExchanges[_0x2549d8(0x225)](_0x109185['id'])&&_0x2646f2[_0x2549d8(0x31a)](capitalize(_0x109185['id'])));});let _0x5adfc3=[];return _0x12fb65[_0xce0060(0x1f1)](_0x11ef5b=>{const _0x612165=_0xce0060;_0x11ef5b=capitalize(_0x11ef5b);if(!_0x2646f2[_0x612165(0x225)](_0x11ef5b))_0x5adfc3[_0x612165(0x31a)](_0x11ef5b);}),_0x2646f2;}function setStartDatePerformance(){const _0x3a9283=_0x805538;if(config&&config[_0x3a9283(0x2bd)][0x0][_0x3a9283(0x191)][_0x3a9283(0x2b1)]!=0x0){const _0x576eb3=config[_0x3a9283(0x2bd)][0x0][_0x3a9283(0x191)];dbPerformance[_0x3a9283(0x20e)](_0x3a9283(0x346))[_0x3a9283(0x33a)]({'date':config[_0x3a9283(0x1b4)]})[_0x3a9283(0x368)]({'coins':_0x576eb3})[_0x3a9283(0x29e)]();}}function calculatePnL(_0x4dc11a,_0x32f63f,_0x1e3dfc,_0x6011b4,_0x45820a,_0x57f42f){const _0x5150f2=_0x805538;!_0x4dc11a[_0x5150f2(0x225)]('/'+config[_0x5150f2(0x2b6)])&&(_0x1e3dfc=_0x1e3dfc=='buy'?'sell':_0x5150f2(0x1ea));!_0x57f42f[_0x32f63f]&&(_0x57f42f[_0x32f63f]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x506667=0x0,_0x1b7a00,_0x2596a5;if(_0x1e3dfc=='buy')_0x2596a5=_0x57f42f[_0x32f63f][_0x5150f2(0x2e2)]*_0x57f42f[_0x32f63f]['breakeven']+_0x45820a*_0x6011b4,_0x57f42f[_0x32f63f][_0x5150f2(0x2e2)]+=_0x6011b4,_0x57f42f[_0x32f63f][_0x5150f2(0x1b2)]=_0x57f42f[_0x32f63f][_0x5150f2(0x2e2)]!=0x0?_0x2596a5/_0x57f42f[_0x32f63f][_0x5150f2(0x2e2)]:0x0,_0x57f42f[_0x32f63f][_0x5150f2(0x2d6)]++;else _0x1e3dfc==_0x5150f2(0x2fa)&&(_0x1b7a00=Math[_0x5150f2(0x193)](_0x57f42f[_0x32f63f][_0x5150f2(0x2e2)],_0x6011b4),_0x506667=(_0x45820a-_0x57f42f[_0x32f63f]['breakeven'])*_0x1b7a00,_0x2596a5=Math[_0x5150f2(0x1e6)](_0x57f42f[_0x32f63f][_0x5150f2(0x2e2)]*_0x57f42f[_0x32f63f][_0x5150f2(0x1b2)]-_0x1b7a00*_0x57f42f[_0x32f63f][_0x5150f2(0x1b2)],0x0),_0x57f42f[_0x32f63f]['number']-=_0x1b7a00,_0x57f42f[_0x32f63f][_0x5150f2(0x1b2)]=_0x57f42f[_0x32f63f]['number']!=0x0?_0x2596a5/_0x57f42f[_0x32f63f][_0x5150f2(0x2e2)]:0x0,_0x57f42f[_0x32f63f]['realizedPnL']+=_0x506667,_0x57f42f[_0x32f63f][_0x5150f2(0x1a7)]++);return _0x506667;}async function generatePnL(){const _0x4b8d46=_0x805538;pnlGenerationNeeded=![],logger['debug'](_0x4b8d46(0x24f));const _0x27bc27=dbLogs[_0x4b8d46(0x20e)](_0x4b8d46(0x2dc))[_0x4b8d46(0x228)]();let _0x5c4d85={},_0x5030a4=0x0,_0x53b56e=0x0,_0x5c1ab9=config[_0x4b8d46(0x1b4)];const _0xa8d4d8=fns['parse'](_0x5c1ab9,_0x4b8d46(0x362),new Date()),_0x168745=new Date();let _0x220229=0x0;for(let _0x289069=_0xa8d4d8;!fns[_0x4b8d46(0x2d9)](_0x168745,_0x289069);_0x289069=fns[_0x4b8d46(0x250)](_0x289069,0x1)){const _0x36495d=fns[_0x4b8d46(0x306)](_0x289069,_0x4b8d46(0x362));while(_0x5030a4<_0x27bc27[_0x4b8d46(0x2b1)]){const _0x44eeec=new Date(_0x27bc27[_0x5030a4][_0x4b8d46(0x2b9)]);if(fns[_0x4b8d46(0x2d9)](_0x44eeec,_0x289069))_0x5030a4++;else{if(_0x27bc27[_0x5030a4][_0x4b8d46(0x2b9)][_0x4b8d46(0x225)](_0x36495d)){const _0x4640ae=_0x27bc27[_0x5030a4];if(_0x4640ae['type']===_0x4b8d46(0x351)&&(_0x4640ae[_0x4b8d46(0x1a6)][_0x4b8d46(0x225)](_0x4b8d46(0x2db))||_0x4640ae[_0x4b8d46(0x1a6)][_0x4b8d46(0x225)]('Market\x20order'))){const _0x5d7bd5=_0x4640ae[_0x4b8d46(0x1a6)][_0x4b8d46(0x198)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x5d7bd5){const [,_0x21fa8f,_0x278220,_0x7cf2fb,_0x30fa9a]=_0x5d7bd5,_0x5ddd1f=_0x21fa8f['includes']('/'+config[_0x4b8d46(0x2b6)])?_0x21fa8f['split']('/')[0x0]:_0x21fa8f[_0x4b8d46(0x201)]('/')[0x1],_0x554919=calculatePnL(_0x21fa8f,_0x5ddd1f,_0x278220,parseFloat(_0x7cf2fb),parseFloat(_0x30fa9a),_0x5c4d85);_0x53b56e+=_0x554919;}}_0x5030a4++;}else break;}}dbPerformance[_0x4b8d46(0x20e)](_0x4b8d46(0x346))[_0x4b8d46(0x33a)]({'date':_0x36495d})['assign']({'pnl':_0x53b56e})[_0x4b8d46(0x29e)]();}dbCoinResults[_0x4b8d46(0x2e4)](_0x4b8d46(0x280),_0x5c4d85)['write'](),logger[_0x4b8d46(0x2f1)](_0x4b8d46(0x216));const _0x51a71a=getNormalizedPerformance();emitPerformance(_0x51a71a);}async function updatePnL(_0x435f75){const _0x4e714e=_0x805538,{symbol:_0x507510,coin:_0x143762,amount:_0x1d4f19,price:_0x26741c,side:_0xb83fbf,reverse:_0x1b90ff}=_0x435f75;let _0x5823c3=dbCoinResults[_0x4e714e(0x20e)](_0x4e714e(0x280))[_0x4e714e(0x228)]();const _0x4e1ad9=calculatePnL(_0x507510,_0x143762,_0xb83fbf,_0x1d4f19,_0x26741c,_0x5823c3);dbCoinResults['set'](_0x4e714e(0x280),_0x5823c3)[_0x4e714e(0x29e)]();const _0x2119ea=getTimeStamp()['split']('\x20')[0x0];let _0x39707f=dbPerformance[_0x4e714e(0x20e)]('data')[_0x4e714e(0x33a)]({'date':_0x2119ea})[_0x4e714e(0x228)]();_0x39707f?(_0x39707f['pnl']+=_0x4e1ad9,dbPerformance['get'](_0x4e714e(0x346))['find']({'date':_0x2119ea})['assign'](_0x39707f)[_0x4e714e(0x29e)]()):await storePerformance();const _0x299b1a=getNormalizedPerformance();emitPerformance(_0x299b1a);}async function validate24hChanges(){const _0x3d4a01=_0x805538;for(const _0x280b7d of currentCoins){if(_0x280b7d[_0x3d4a01(0x28a)]!=config['basecoin']){let _0x5632ef;_0x280b7d[_0x3d4a01(0x24c)]?_0x5632ef=formatResult((0x1/(gChange[_0x280b7d[_0x3d4a01(0x2df)]]/0x64+0x1)-0x1)*0x64,0x3):_0x5632ef=gChange[_0x280b7d[_0x3d4a01(0x2df)]],_0x5632ef<config['change24h']&&(logHistory('error',_0x280b7d[_0x3d4a01(0x28a)]+_0x3d4a01(0x26b)+_0x5632ef+'%'),logHistory(_0x3d4a01(0x338),_0x3d4a01(0x2a2)),logHistory(_0x3d4a01(0x338),_0x3d4a01(0x238)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x3078c2,_0x4b7e1f){const _0x5dfdc4=_0x805538;if(!_0x3078c2)return!![];const _0x2d36e1=_0x4b7e1f[_0x5dfdc4(0x201)]('.'),_0x3a513c=_0x3078c2[_0x5dfdc4(0x201)]('.');for(var _0x2d5c4f=0x0;_0x2d5c4f<_0x3a513c[_0x5dfdc4(0x2b1)];_0x2d5c4f++){const _0x34a48d=~~_0x3a513c[_0x2d5c4f],_0x112e55=~~_0x2d36e1[_0x2d5c4f];if(_0x34a48d<_0x112e55)return!![];if(_0x34a48d>_0x112e55)return![];}return![];}async function oneTimeMigration(){const _0x2b82fa=_0x805538;let _0x4d12f0=dbLogs[_0x2b82fa(0x20e)](_0x2b82fa(0x337))['value']();if(isOlderVersion(_0x4d12f0,_0x2b82fa(0x229))){let _0x524537=[];const _0x91910d=dbLogs['get'](_0x2b82fa(0x2dc))[_0x2b82fa(0x228)]();_0x91910d[_0x2b82fa(0x1f1)](_0x3f2739=>{const _0x429c34=_0x2b82fa;_0x524537[_0x429c34(0x31a)]({'time':_0x3f2739[_0x429c34(0x2b9)],'type':_0x3f2739[_0x429c34(0x319)],'event':_0x3f2739['event']});}),dbLogs[_0x2b82fa(0x20e)](_0x2b82fa(0x2dc))[_0x2b82fa(0x368)](_0x524537)['write']();}let _0x25890c=dbConfig[_0x2b82fa(0x20e)]('version')['value']();if(isOlderVersion(_0x25890c,'2.3.5')){let _0x40be31=dbConfig[_0x2b82fa(0x20e)]('bot')['find']({'botID':botID})[_0x2b82fa(0x228)]();if(_0x40be31){let _0x1d4e07=[];_0x40be31['portfolio'][_0x2b82fa(0x1f1)](_0x33c16a=>{const _0x340674=_0x2b82fa;_0x1d4e07['push']({'coin':_0x33c16a[_0x340674(0x28a)],'number':_0x33c16a['startnumber'],'price':_0x33c16a['startprice']}),delete _0x33c16a[_0x340674(0x1e8)],delete _0x33c16a[_0x340674(0x325)];});if(_0x1d4e07[_0x2b82fa(0x2b1)]!==0x0)fs[_0x2b82fa(0x1ad)](configbackuppath+(_0x2b82fa(0x23c)+botID+_0x2b82fa(0x2bb)),JSON['stringify'](_0x1d4e07,null,0x4),function(_0x220877){if(_0x220877){}});const _0x311c2a=(_0x2e3bd9,_0x32082c)=>{let _0x2534a6=[];_0x32082c['forEach'](_0x2895a0=>{const _0x4d39fc=_0xb05b,_0x19383c=_0x2e3bd9['find'](_0x3d959a=>_0x3d959a['coin']==_0x2895a0[_0x4d39fc(0x28a)]);if(!_0x19383c)_0x2534a6[_0x4d39fc(0x31a)](_0x2895a0);});let _0x3f8d6e=[];return _0x2e3bd9['forEach'](_0x5dd128=>{const _0x4f75c5=_0xb05b,_0x19a989=_0x32082c[_0x4f75c5(0x33a)](_0x347cfa=>_0x347cfa[_0x4f75c5(0x28a)]==_0x5dd128['coin']);if(!_0x19a989||_0x19a989['number']==0x0&&_0x5dd128[_0x4f75c5(0x2e2)]!=0x0)_0x3f8d6e[_0x4f75c5(0x31a)](_0x5dd128);}),{'missingDay1':_0x2534a6,'notInDay2':_0x3f8d6e};},_0x538a11=dbPerformance[_0x2b82fa(0x20e)](_0x2b82fa(0x346))[_0x2b82fa(0x1c7)]()[_0x2b82fa(0x228)]();if(_0x538a11[_0x2b82fa(0x2b1)]>0x1){const {missingDay1:_0x2ffae3,notInDay2:_0x205ef5}=_0x311c2a(_0x1d4e07,_0x538a11[0x1][_0x2b82fa(0x280)]);_0x1d4e07=[..._0x1d4e07,..._0x2ffae3],_0x205ef5[_0x2b82fa(0x1f1)](_0x238536=>{const _0x2a766a=_0x2b82fa;let _0x175137=_0x1d4e07[_0x2a766a(0x286)](_0x2c03eb=>_0x2c03eb[_0x2a766a(0x28a)]==_0x238536['coin']);_0x175137!=-0x1&&_0x1d4e07[_0x2a766a(0x29a)](_0x175137,0x1);});}_0x1d4e07[_0x2b82fa(0x285)]((_0x5a5cfb,_0xd6513c)=>_0x5a5cfb['coin']>_0xd6513c[_0x2b82fa(0x28a)]?0x1:_0xd6513c['coin']>_0x5a5cfb['coin']?-0x1:0x0);let _0x25535f=[{'date':_0x40be31['startdate'],'changes':_0x1d4e07}];_0x538a11[_0x2b82fa(0x2b1)]>0x2&&_0x538a11[_0x2b82fa(0x1f1)]((_0x1d2c02,_0x175dcb)=>{const _0x335ee2=_0x2b82fa;if(_0x175dcb>0x0&&_0x175dcb<_0x538a11[_0x335ee2(0x2b1)]-0x1){const {missingDay1:_0x4113c2,notInDay2:_0x540897}=_0x311c2a(_0x538a11[_0x175dcb][_0x335ee2(0x280)],_0x538a11[_0x175dcb+0x1][_0x335ee2(0x280)]);_0x1d4e07=[],(_0x4113c2[_0x335ee2(0x2b1)]!=0x0||_0x540897[_0x335ee2(0x2b1)]!=0x0)&&(_0x4113c2[_0x335ee2(0x2b1)]!=0x0&&_0x1d4e07['push'](..._0x4113c2),_0x540897['length']!=0x0&&(_0x540897[_0x335ee2(0x1f1)](_0x1225d2=>{const _0xf620fd=_0x335ee2;_0x1225d2[_0xf620fd(0x2e2)]=-_0x1225d2['number'];}),_0x1d4e07[_0x335ee2(0x31a)](..._0x540897)),_0x1d4e07[_0x335ee2(0x285)]((_0x36ebca,_0x428167)=>_0x36ebca[_0x335ee2(0x28a)]>_0x428167[_0x335ee2(0x28a)]?0x1:_0x428167[_0x335ee2(0x28a)]>_0x36ebca[_0x335ee2(0x28a)]?-0x1:0x0),_0x25535f[_0x335ee2(0x31a)]({'date':_0x538a11[_0x175dcb+0x1][_0x335ee2(0x1ff)],'changes':_0x1d4e07}));}}),dbConfig[_0x2b82fa(0x20e)](_0x2b82fa(0x2f6))[_0x2b82fa(0x33a)]({'botID':botID})['assign']({..._0x40be31,'liquidity':_0x25535f})['write']();}}if(isOlderVersion(_0x25890c,_0x2b82fa(0x243))){let _0xee7192=dbConfig[_0x2b82fa(0x20e)](_0x2b82fa(0x2f6))[_0x2b82fa(0x33a)]({'botID':botID})['value']();if(_0xee7192){const _0x4b4be0=_0xee7192['exchange'],_0x587e17=_0x4b4be0?capitalize(_0x4b4be0):_0x2b82fa(0x28d);dbConfig['get'](_0x2b82fa(0x2f6))[_0x2b82fa(0x33a)]({'botID':botID})[_0x2b82fa(0x368)]({'exchange':_0x587e17})[_0x2b82fa(0x29e)]();}}if(isOlderVersion(_0x25890c,_0x2b82fa(0x32d))){let _0x48d32d=dbConfig[_0x2b82fa(0x20e)]('bot')[_0x2b82fa(0x33a)]({'botID':botID})[_0x2b82fa(0x228)]();if(_0x48d32d){const _0x1965cb=_0x48d32d[_0x2b82fa(0x2de)],_0x259a7d=_0x1965cb?_0x2b82fa(0x1c5):![];dbConfig[_0x2b82fa(0x20e)](_0x2b82fa(0x2f6))['find']({'botID':botID})[_0x2b82fa(0x368)]({'marketcapEnabled':_0x259a7d})[_0x2b82fa(0x29e)]();}}if(isOlderVersion(_0x25890c,_0x2b82fa(0x24a))){let _0x5d1604=dbConfig[_0x2b82fa(0x20e)](_0x2b82fa(0x2f6))[_0x2b82fa(0x33a)]({'botID':botID})[_0x2b82fa(0x228)]();if(_0x5d1604){const _0x2892c8=_0x5d1604['autoliquidity'],_0x11086b=_0x2892c8?'update-liquidity':![];dbConfig[_0x2b82fa(0x20e)](_0x2b82fa(0x2f6))[_0x2b82fa(0x33a)]({'botID':botID})['assign']({'autoliquidity':_0x11086b})['write']();}}let _0x3cdcf3=dbPerformance[_0x2b82fa(0x20e)](_0x2b82fa(0x337))['value']();isOlderVersion(_0x3cdcf3,_0x2b82fa(0x229))&&setStartDatePerformance();let _0x2010f5=dbCoinResults[_0x2b82fa(0x20e)](_0x2b82fa(0x337))['value']();if(isOlderVersion(_0x2010f5,_0x2b82fa(0x260))){let _0x4b8fe6=dbCoinResults[_0x2b82fa(0x20e)](_0x2b82fa(0x280))[_0x2b82fa(0x228)]();if(_0x4b8fe6[_0x2b82fa(0x2b1)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x55501b=_0x805538;dbConfig[_0x55501b(0x2e4)](_0x55501b(0x337),serverversion)[_0x55501b(0x29e)](),dbPerformance[_0x55501b(0x2e4)](_0x55501b(0x337),serverversion)[_0x55501b(0x29e)](),dbLogs[_0x55501b(0x2e4)]('version',serverversion)[_0x55501b(0x29e)](),dbCoinResults[_0x55501b(0x2e4)](_0x55501b(0x337),serverversion)[_0x55501b(0x29e)]();}function getConfiguration(_0x28cdc1){const _0x38c19c=_0x805538;let _0x3baef8=dbConfig[_0x38c19c(0x20e)]('bot')['find']({'botID':_0x28cdc1})[_0x38c19c(0x228)]();if(_0x3baef8){let _0x2da4df=![];typeof _0x3baef8[_0x38c19c(0x2b0)]==_0x38c19c(0x2cb)&&(_0x3baef8={..._0x3baef8,'threshold':Number(_0x3baef8[_0x38c19c(0x2b0)])},_0x2da4df=!![]),_0x3baef8['change24h']==undefined&&(_0x3baef8={..._0x3baef8,'change24h':-0x14},_0x2da4df=!![]),_0x3baef8[_0x38c19c(0x340)]==undefined&&(_0x3baef8={..._0x3baef8,'fiat':_0x38c19c(0x2ed)},_0x2da4df=!![]),_0x3baef8[_0x38c19c(0x2ef)]==undefined&&(_0x3baef8={..._0x3baef8,'onepagemode':settings[_0x38c19c(0x2ef)]},_0x2da4df=!![]),_0x3baef8['colorscheme']==undefined&&(_0x3baef8={..._0x3baef8,'colorscheme':_0x38c19c(0x1fa)},_0x2da4df=!![]),_0x3baef8[_0x38c19c(0x2d1)]==undefined&&(_0x3baef8={..._0x3baef8,'autoliquidity':_0x38c19c(0x321)},_0x2da4df=!![]),_0x3baef8['marketcapApi']==undefined&&(_0x3baef8={..._0x3baef8,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x2da4df=!![]),_0x3baef8[_0x38c19c(0x2de)]==undefined&&(_0x3baef8={..._0x3baef8,'marketcapEnabled':![]},_0x2da4df=!![]),_0x3baef8[_0x38c19c(0x347)]==undefined&&(_0x3baef8={..._0x3baef8,'sandbox':![]},_0x2da4df=!![]),_0x2da4df&&(_0x3baef8={'botID':_0x3baef8[_0x38c19c(0x18b)],'exchange':_0x3baef8[_0x38c19c(0x2c7)],'apiKey':_0x3baef8['apiKey'],'apiSecret':_0x3baef8['apiSecret'],'apiPassword':_0x3baef8[_0x38c19c(0x29b)],'basecoin':_0x3baef8[_0x38c19c(0x2b6)],'botname':_0x3baef8['botname'],'showname':_0x3baef8['showname'],'threshold':_0x3baef8[_0x38c19c(0x2b0)],'ordertype':_0x3baef8[_0x38c19c(0x1af)],'timeout':_0x3baef8[_0x38c19c(0x18e)],'fiat':_0x3baef8[_0x38c19c(0x340)],'startdate':_0x3baef8[_0x38c19c(0x1b4)],'recreate':_0x3baef8[_0x38c19c(0x367)],'timeshift':_0x3baef8[_0x38c19c(0x2bc)],'onepagemode':_0x3baef8[_0x38c19c(0x2ef)],'headless':_0x3baef8[_0x38c19c(0x1c9)],'cooldown':_0x3baef8[_0x38c19c(0x1eb)],'change24h':_0x3baef8[_0x38c19c(0x352)],'emojibuy':_0x3baef8[_0x38c19c(0x1f0)],'emojisell':_0x3baef8[_0x38c19c(0x2f0)],'colorscheme':_0x3baef8[_0x38c19c(0x364)],'marketcapApi':_0x3baef8[_0x38c19c(0x334)],'marketcapEnabled':_0x3baef8[_0x38c19c(0x2de)],'sandbox':_0x3baef8[_0x38c19c(0x347)],'portfolio':_0x3baef8['portfolio'],'autoliquidity':_0x3baef8['autoliquidity'],'liquidity':_0x3baef8[_0x38c19c(0x2bd)],'openOrders':_0x3baef8['openOrders']},dbConfig[_0x38c19c(0x20e)](_0x38c19c(0x2f6))[_0x38c19c(0x2a6)]()[_0x38c19c(0x29e)](),dbConfig[_0x38c19c(0x20e)](_0x38c19c(0x2f6))[_0x38c19c(0x31a)](_0x3baef8)[_0x38c19c(0x29e)]());}else _0x3baef8={'botID':_0x28cdc1,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x38c19c(0x297)+_0x28cdc1,'showname':![],'threshold':0x3,'ordertype':_0x38c19c(0x1f4),'timeout':0x14,'fiat':_0x38c19c(0x2ed),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x38c19c(0x2bc)],'onepagemode':settings[_0x38c19c(0x2ef)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x38c19c(0x1fa),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':'update-liquidity','liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x3baef8;}function emittedConfiguration(){const _0xa7a5ec=_0x805538;let _0x3f72d9;if(config[_0xa7a5ec(0x363)]=='')_0x3f72d9={...config,'configstate':_0xa7a5ec(0x2da)};else config[_0xa7a5ec(0x363)]==_0xa7a5ec(0x312)?_0x3f72d9={...config,'configstate':_0xa7a5ec(0x1e1)}:(_0x3f72d9={...config,'apiKey':'************','apiSecret':_0xa7a5ec(0x374)},config[_0xa7a5ec(0x29b)]&&(_0x3f72d9['apiPassword']='************'));return _0x3f72d9[_0xa7a5ec(0x31f)]=enableFiatToggle,_0x3f72d9;}function getSettings(){const _0x3269dd=_0x805538;return dbSettings[_0x3269dd(0x20e)]('settings')[_0x3269dd(0x228)]();}function getSecure(){const _0x25ad35=_0x805538;return dbSecure[_0x25ad35(0x20e)](_0x25ad35(0x290))[_0x25ad35(0x228)]()||{};}function updateTimeshift(_0x14c075){const _0x2ae337=_0x805538;let _0x1a21db=dbConfig['get']('bot')[_0x2ae337(0x33a)]({'botID':botID})[_0x2ae337(0x228)]();_0x1a21db&&dbConfig['get'](_0x2ae337(0x2f6))[_0x2ae337(0x33a)]({'botID':botID})[_0x2ae337(0x368)]({'timeshift':_0x14c075})[_0x2ae337(0x29e)](),config[_0x2ae337(0x2bc)]=_0x14c075,proxyEmit(_0x2ae337(0x19d),emittedConfiguration());}function updateOnepagemode(_0x1c18c4){const _0x4154dc=_0x805538;let _0x254a82=dbConfig[_0x4154dc(0x20e)](_0x4154dc(0x2f6))[_0x4154dc(0x33a)]({'botID':botID})[_0x4154dc(0x228)]();_0x254a82&&dbConfig[_0x4154dc(0x20e)](_0x4154dc(0x2f6))['find']({'botID':botID})[_0x4154dc(0x368)]({'onepagemode':_0x1c18c4})[_0x4154dc(0x29e)](),config[_0x4154dc(0x2ef)]=_0x1c18c4,proxyEmit(_0x4154dc(0x19d),emittedConfiguration());}function updateMarketcapApi(_0x3319c8){const _0x571b87=_0x805538,_0x53e562=_0x3319c8?!![]:![];let _0x1f404c=dbConfig[_0x571b87(0x20e)](_0x571b87(0x2f6))[_0x571b87(0x33a)]({'botID':botID})[_0x571b87(0x228)]();_0x1f404c&&dbConfig[_0x571b87(0x20e)](_0x571b87(0x2f6))['find']({'botID':botID})[_0x571b87(0x368)]({'marketcapApi':_0x53e562})[_0x571b87(0x29e)](),config['marketcapApi']=_0x53e562,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x441001){const _0xceacd6=_0x805538;logger[_0xceacd6(0x2f1)]('Saving\x20configuration');_0x441001[_0xceacd6(0x1f9)]&&delete _0x441001['configstate'];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x46138c=![],_0x135bfe=![],_0x2f90a1=[];_0x441001[_0xceacd6(0x25c)]['forEach'](_0x1ba2e4=>{const _0x99c556=_0xceacd6;if(!_0x1ba2e4[_0x99c556(0x35c)]&&_0x1ba2e4[_0x99c556(0x28a)]!=_0x441001['basecoin'])_0x2f90a1[_0x99c556(0x31a)](_0x1ba2e4['symbol']);}),_0x2f90a1[_0xceacd6(0x1f1)](_0x3a79e4=>{const _0x3275e6=_0xceacd6,_0x322cbd=currentCoins[_0x3275e6(0x33a)](_0xfefc5b=>_0xfefc5b['symbol']==_0x3a79e4);!_0x322cbd&&(_0x46138c=!![]);}),currentCoins[_0xceacd6(0x1f1)](_0x228b05=>{const _0x473c64=_0xceacd6;if(_0x228b05['coin']!=config[_0x473c64(0x2b6)]){const _0x102663=_0x2f90a1[_0x473c64(0x33a)](_0x4e9a4a=>_0x4e9a4a==_0x228b05[_0x473c64(0x2df)]);!_0x102663&&(_0x46138c=!![]);}}),_0x441001[_0xceacd6(0x25c)][_0xceacd6(0x1f1)](_0x47da34=>{const _0x3d88be=_0xceacd6,_0x1265b9=config[_0x3d88be(0x25c)][_0x3d88be(0x33a)](_0x562429=>_0x562429['coin']==_0x47da34['coin']);if(_0x1265b9&&_0x47da34['offset']!=_0x1265b9[_0x3d88be(0x1ee)])_0x135bfe=!![];});let _0x1f2de3=dbConfig[_0xceacd6(0x20e)](_0xceacd6(0x2f6))[_0xceacd6(0x33a)]({'botID':botID})[_0xceacd6(0x228)]();_0x441001={..._0x441001,'apiKey':decryptRSA(secure['privateKey'],_0x441001['apiKey']),'apiSecret':decryptRSA(secure[_0xceacd6(0x32b)],_0x441001['apiSecret'])};_0x441001[_0xceacd6(0x29b)]&&(_0x441001[_0xceacd6(0x29b)]=decryptRSA(secure[_0xceacd6(0x32b)],_0x441001[_0xceacd6(0x29b)]));let _0x556e63=![];if(_0x1f2de3){_0x441001[_0xceacd6(0x363)]==_0xceacd6(0x374)?_0x441001[_0xceacd6(0x363)]=config[_0xceacd6(0x363)]:_0x556e63=!![];_0x441001[_0xceacd6(0x2b4)]==_0xceacd6(0x374)?_0x441001[_0xceacd6(0x2b4)]=config[_0xceacd6(0x2b4)]:_0x556e63=!![];if(_0x441001[_0xceacd6(0x29b)]==_0xceacd6(0x374))_0x441001[_0xceacd6(0x29b)]=config['apiPassword'];else{if(_0x441001[_0xceacd6(0x29b)])_0x556e63=!![];}dbConfig['get']('bot')[_0xceacd6(0x33a)]({'botID':botID})[_0xceacd6(0x368)](_0x441001)[_0xceacd6(0x29e)]();}else dbConfig[_0xceacd6(0x20e)](_0xceacd6(0x2f6))['push'](_0x441001)[_0xceacd6(0x29e)](),_0x556e63=!![],process[_0xceacd6(0x2d7)]({'status':_0xceacd6(0x1e4),'live':_0xceacd6(0x1db)},_0x401187=>{});process[_0xceacd6(0x2d7)]({'botname':_0x441001['botname']},_0x2b7627=>{}),config={..._0x441001},updateBotManager(),proxyEmit(_0xceacd6(0x31c)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x556e63)await reset(!![]);else _0x46138c||_0x135bfe?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x38e896){const _0x4a4769=_0x805538,_0x142556={...config,'headless':_0x38e896[_0x4a4769(0x1c9)]};let _0x1189eb=dbConfig['get'](_0x4a4769(0x2f6))['find']({'botID':botID})['value']();_0x1189eb&&dbConfig[_0x4a4769(0x20e)](_0x4a4769(0x2f6))[_0x4a4769(0x33a)]({'botID':botID})[_0x4a4769(0x368)](_0x142556)['write'](),config={..._0x142556},updateBotManager(),proxyEmit(_0x4a4769(0x19d),emittedConfiguration());}async function storeFiat(_0x26be2f){const _0x180607=_0x805538,_0x27241c={...config,'fiat':_0x26be2f};let _0x45f64d=dbConfig[_0x180607(0x20e)]('bot')[_0x180607(0x33a)]({'botID':botID})[_0x180607(0x228)]();_0x45f64d&&dbConfig[_0x180607(0x20e)](_0x180607(0x2f6))[_0x180607(0x33a)]({'botID':botID})['assign'](_0x27241c)[_0x180607(0x29e)](),config={..._0x27241c},proxyEmit(_0x180607(0x19d),emittedConfiguration());}function resetHistory(){const _0x101fd6=_0x805538;logger[_0x101fd6(0x281)](_0x101fd6(0x190));try{if(fs['existsSync'](path[_0x101fd6(0x36a)](configpath,'bot-'+botID+'-events.json')))fs[_0x101fd6(0x1f5)](path[_0x101fd6(0x36a)](configpath,'bot-'+botID+_0x101fd6(0x342)));if(fs[_0x101fd6(0x34e)](path[_0x101fd6(0x36a)](configpath,_0x101fd6(0x348)+botID+'-performance.json')))fs[_0x101fd6(0x1f5)](path['join'](configpath,_0x101fd6(0x348)+botID+'-performance.json'));if(fs[_0x101fd6(0x34e)](path['join'](configpath,'bot-'+botID+'-results.json')))fs[_0x101fd6(0x1f5)](path['join'](configpath,_0x101fd6(0x348)+botID+_0x101fd6(0x2d4)));}catch(_0x379320){if(_0x379320)logger[_0x101fd6(0x281)](_0x101fd6(0x19a),_0x379320);}const _0x20254b=getDate();let _0x575199=[];currentCoins[_0x101fd6(0x1f1)](_0x289e16=>{const _0x480556=_0x101fd6;_0x575199['push']({'coin':_0x289e16['coin'],'number':_0x289e16['number'],'price':_0x289e16[_0x480556(0x29f)]});});let _0x23989a=dbConfig[_0x101fd6(0x20e)]('bot')[_0x101fd6(0x33a)]({'botID':botID})['value']();_0x23989a&&(dbConfig['get'](_0x101fd6(0x2f6))[_0x101fd6(0x33a)]({'botID':botID})['assign']({'liquidity':[{'date':_0x20254b,'changes':_0x575199}]})['write'](),config[_0x101fd6(0x2bd)]=[]),restartBot(!![]);}function noslash(_0x2382bd){return _0x2382bd['replace']('/','');}function updateHighestFee(_0x51f3b7){const _0x554db7=_0x805538;if(_0x51f3b7[_0x554db7(0x24c)]){let _0x21e155={'filled':_0x51f3b7[_0x554db7(0x314)]*_0x51f3b7[_0x554db7(0x2ce)],'amount':_0x51f3b7['filled']*_0x51f3b7[_0x554db7(0x2ce)],'side':_0x51f3b7[_0x554db7(0x237)]==_0x554db7(0x2fa)?'buy':'sell','price':0x1/_0x51f3b7[_0x554db7(0x2ce)]};_0x51f3b7={..._0x51f3b7,..._0x21e155};}const _0x4f0250=defaultFee*_0x51f3b7[_0x554db7(0x314)]*_0x51f3b7[_0x554db7(0x2ce)];lastFees[_0x554db7(0x265)][_0x554db7(0x2b1)]===0x14&&lastFees[_0x554db7(0x265)][_0x554db7(0x300)](),lastFees[_0x554db7(0x265)][_0x554db7(0x31a)](_0x4f0250),lastFees[_0x554db7(0x279)]=Math[_0x554db7(0x1e6)](...lastFees[_0x554db7(0x265)]);}async function updateNumberCoinsCcxt(_0x13a236){const _0x28d9b6=_0x805538;logger['debug'](_0x28d9b6(0x2c0)+_0x13a236[_0x28d9b6(0x2df)]+'\x20|\x20'+_0x13a236['status']+_0x28d9b6(0x1de)+_0x13a236[_0x28d9b6(0x314)]+_0x28d9b6(0x2be)+_0x13a236[_0x28d9b6(0x1c3)]+_0x28d9b6(0x1de)+_0x13a236['id']);let _0x1ed1b5=_0x13a236[_0x28d9b6(0x22d)],_0x2d9d58=![];currentCoins[_0x28d9b6(0x1f1)](_0x46edff=>{const _0x10de3c=_0x28d9b6;_0x46edff[_0x10de3c(0x2df)]==_0x13a236[_0x10de3c(0x2df)]&&(_0x2d9d58=!![]);});if(!_0x2d9d58)return;const _0xf7f190=currentCoins[_0x28d9b6(0x33a)](_0x155528=>_0x155528[_0x28d9b6(0x2df)]==_0x13a236[_0x28d9b6(0x2df)]),_0x5008db=_0xf7f190[_0x28d9b6(0x28a)],_0x7fc65e=_0x316691=>{const _0x210f3c=_0x28d9b6,_0x3a573d=currentCoins[_0x210f3c(0x33a)](_0x54d2eb=>_0x54d2eb[_0x210f3c(0x2df)]==_0x13a236[_0x210f3c(0x2df)]);if(_0x3a573d)_0x3a573d[_0x210f3c(0x209)]=_0x316691;};let _0x4add07=![];for(const _0x3d008b of lastOrders){const _0x5b2a17=0x64,_0x310aed=0x1388;let _0x31a33c=0x0;while(!_0x3d008b[_0x28d9b6(0x1bf)]&&_0x31a33c*_0x5b2a17<_0x310aed){_0x31a33c++,await sleep(_0x5b2a17);}if(_0x31a33c>0x0)logger['debug'](_0x28d9b6(0x214)+_0x31a33c*_0x5b2a17/0x3e8+_0x28d9b6(0x264));_0x3d008b[_0x28d9b6(0x1bf)]==_0x13a236['id']&&(_0x4add07=!![]);}if(_0x1ed1b5=='open'){_0x7fc65e(_0x28d9b6(0x22f));if(_0x13a236[_0x28d9b6(0x314)]>0x0&&_0x13a236[_0x28d9b6(0x314)]<_0x13a236['amount']){if(_0x4add07){setBlockTransactionDetection(!![]),logger[_0x28d9b6(0x2f1)](_0x28d9b6(0x240)+_0x13a236[_0x28d9b6(0x314)]+_0x28d9b6(0x310)+_0x13a236['id']);const _0x80d9d4=await getCoins(balanceUpdateDelay,undefined,undefined,_0x5008db);[currentCoins,currentCoinsAll]=_0x80d9d4,setBlockTransactionDetection(![]);}else logger[_0x28d9b6(0x2f1)](_0x28d9b6(0x240)+_0x13a236[_0x28d9b6(0x314)]+_0x28d9b6(0x1fb)+_0x13a236['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x1ed1b5==_0x28d9b6(0x1bb)){_0x7fc65e(_0x28d9b6(0x1bb)),lastOrders=lastOrders[_0x28d9b6(0x317)](_0x2e942e=>_0x2e942e[_0x28d9b6(0x2df)]!=_0x13a236[_0x28d9b6(0x2df)]);const _0x56214f=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x56214f,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x1ed1b5=='closed'){if(lastOrders)for(const _0x2fe64d of lastOrders){if(_0x2fe64d[_0x28d9b6(0x1bf)]==_0x13a236['id']){logger[_0x28d9b6(0x2f1)](_0x28d9b6(0x34f)+_0x13a236['id']),_0x4add07=!![];if(_0x2fe64d[_0x28d9b6(0x314)]==0x0){setBlockTransactionDetection(!![]),logger[_0x28d9b6(0x2f1)](_0x28d9b6(0x2a7)+_0x13a236['id']);if(_0x13a236[_0x28d9b6(0x2cd)])_0x2fe64d['price']=_0x13a236[_0x28d9b6(0x2cd)];else{if(_0x13a236[_0x28d9b6(0x2ce)])_0x2fe64d[_0x28d9b6(0x2ce)]=_0x13a236['price'];else{}}_0x2fe64d['filled']=_0x13a236[_0x28d9b6(0x314)],updateHighestFee(_0x2fe64d);const _0x493ba6=await getCoins(balanceUpdateDelay,undefined,undefined,_0x5008db);[currentCoins,currentCoinsAll]=_0x493ba6,setBlockTransactionDetection(![]),await validateOrders(),_0x7fc65e(_0x28d9b6(0x314)),_0x2fe64d[_0x28d9b6(0x35b)]={'currency':_0x13a236[_0x28d9b6(0x35b)]?_0x13a236['fee']['currency']:null,'cost':_0x13a236[_0x28d9b6(0x35b)]?_0x13a236[_0x28d9b6(0x35b)][_0x28d9b6(0x349)]:0x0},await updatePnL(_0x2fe64d);}}}!_0x4add07&&(logger[_0x28d9b6(0x2f1)](_0x28d9b6(0x2f7)+_0x13a236['id']),_0x7fc65e('filled'),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x5eb8ec=JSON[_0x28d9b6(0x2ac)](lastBalances[_0x28d9b6(0x25c)]);const _0x46bfef=_0x5eb8ec[_0x28d9b6(0x33a)](_0x5c119c=>_0x5c119c[_0x28d9b6(0x2df)]==_0x13a236[_0x28d9b6(0x2df)]);if(_0x46bfef){if(_0x1ed1b5=='open')_0x46bfef['orderstatus']=_0x46bfef[_0x28d9b6(0x209)]==_0x28d9b6(0x314)?_0x28d9b6(0x314):_0x28d9b6(0x22f);else{if(_0x1ed1b5==_0x28d9b6(0x1bb))_0x46bfef[_0x28d9b6(0x209)]=_0x46bfef[_0x28d9b6(0x209)]==_0x28d9b6(0x314)?_0x28d9b6(0x314):_0x28d9b6(0x1bb);else _0x1ed1b5==_0x28d9b6(0x1d9)&&(_0x46bfef['orderstatus']='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x28d9b6(0x263)](_0x5eb8ec)},proxyEmit(_0x28d9b6(0x329),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x2e3ba2=_0x805538;await getOpenOrders();let _0x4ddcda=![];currentCoins[_0x2e3ba2(0x1f1)](_0x4bb792=>{const _0x1aed5a=_0x2e3ba2;_0x4ddcda=allOpenOrders[_0x1aed5a(0x33a)](_0x388a5b=>_0x388a5b['symbol']==_0x4bb792[_0x1aed5a(0x2df)]),_0x4bb792[_0x1aed5a(0x209)]=_0x4ddcda?'open':_0x1aed5a(0x2e5);});}async function fetchBalance(_0x426ac8=!![]){const _0xaf70f8=_0x805538;let _0x32d4aa,_0x14b406,_0x873e29,_0x10138e=0x0;while(!_0x14b406&&_0x10138e<maxRetries){try{return _0x32d4aa=await exchange['fetchBalance'](),_0x14b406=_0x32d4aa[_0xaf70f8(0x224)],_0x14b406;}catch(_0xda9866){_0x873e29=_0xda9866,_0x10138e++,await sleep(retryInterval);}}return!_0x426ac8?handleErrorNoStop(_0x873e29,'fetchBalance()'):await handleError(_0x873e29,_0xaf70f8(0x227)),![];}async function getCoins(_0xb0ddd9=0x0,_0x1a15c2=!![],_0x531782=config[_0x805538(0x2b6)],_0x30e0d9){const _0x470209=_0x805538;let _0x236e38=[],_0x3e40d9=[],_0x5cb9a4=[],_0x4f9bd0;if(_0xb0ddd9)await sleep(_0xb0ddd9);if(botPaused)return[currentCoins,currentCoinsAll];let _0x221287=![],_0x242003=0x0,_0x11cf60,_0x147fb8;_0x30e0d9&&(_0x11cf60=currentCoins[_0x470209(0x33a)](_0x17c868=>_0x17c868[_0x470209(0x28a)]==_0x30e0d9),_0x11cf60&&(_0x147fb8=_0x11cf60[_0x470209(0x34c)],delete _0x11cf60[_0x470209(0x34c)]));while(!_0x221287){_0x4f9bd0=await fetchBalance(_0x1a15c2);if(_0x4f9bd0){if(_0x30e0d9){if(_0x4f9bd0[_0x30e0d9]!=_0x147fb8)logger['debug'](_0x470209(0x254)+_0x30e0d9+':\x20'+_0x4f9bd0[_0x30e0d9]+'\x20('+_0x147fb8+')'),_0x221287=!![];else{logger['debug'](_0x470209(0x318)+_0x30e0d9+':\x20'+_0x4f9bd0[_0x30e0d9]+'\x20('+_0x147fb8+')'),_0x242003++;if(_0x242003<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x470209(0x2f1)](_0x470209(0x283)+_0x242003+_0x470209(0x20d));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x2b5a27,_0x3fd0dd]of Object[_0x470209(0x293)](_0x4f9bd0)){_0x5cb9a4[_0x470209(0x31a)](_0x2b5a27);}config[_0x470209(0x25c)]['forEach'](_0x57ce03=>{const _0x2b54f2=_0x470209;!_0x5cb9a4[_0x2b54f2(0x225)](_0x57ce03[_0x2b54f2(0x28a)])&&(_0x4f9bd0[_0x57ce03[_0x2b54f2(0x28a)]]=0x0);});if(_0x531782=='')for(const [_0x498530,_0x5852e4]of Object['entries'](_0x4f9bd0)){_0x5852e4!=0x0&&_0x236e38[_0x470209(0x31a)]({'coin':_0x498530});}else for(const [_0x122b41,_0x2b0aee]of Object[_0x470209(0x293)](_0x4f9bd0)){const _0x39cb06=config[_0x470209(0x25c)]['find'](_0x485969=>_0x485969[_0x470209(0x28a)]==_0x122b41),_0x43ff62=_0x122b41+'/'+_0x531782,_0x225cc6=_0x531782+'/'+_0x122b41,_0x5af68c=currentCoins['find'](_0x37fdd9=>_0x37fdd9[_0x470209(0x28a)]==_0x122b41);if((_0x2b0aee!=0x0||_0x39cb06)&&(allSymbols[_0x470209(0x225)](_0x43ff62)||_0x122b41==_0x531782))_0x5af68c?_0x236e38[_0x470209(0x31a)]({..._0x5af68c,'number':Math[_0x470209(0x1e6)](_0x2b0aee+(_0x39cb06&&_0x39cb06['offset']||0x0),0x0)}):_0x236e38[_0x470209(0x31a)]({'coin':_0x122b41,'symbol':_0x43ff62,'reverse':![],'number':Math['max'](_0x2b0aee+(_0x39cb06&&_0x39cb06[_0x470209(0x1ee)]||0x0),0x0),'orderstatus':_0x470209(0x2e5)});else{if((_0x2b0aee!=0x0||_0x39cb06)&&allSymbols['includes'](_0x225cc6))_0x5af68c?_0x236e38[_0x470209(0x31a)]({..._0x5af68c,'number':Math['max'](_0x2b0aee+(_0x39cb06&&_0x39cb06[_0x470209(0x1ee)]||0x0),0x0)}):_0x236e38[_0x470209(0x31a)]({'coin':_0x122b41,'symbol':_0x225cc6,'reverse':!![],'number':Math[_0x470209(0x1e6)](_0x2b0aee+(_0x39cb06&&_0x39cb06['offset']||0x0),0x0),'orderstatus':_0x470209(0x2e5)});else _0x39cb06&&_0x236e38[_0x470209(0x31a)]({'coin':_0x39cb06['coin'],'symbol':_0x39cb06[_0x470209(0x2df)],'reverse':_0x39cb06['reverse'],'number':0x0,'orderstatus':_0x470209(0x2e5)});}}return _0x236e38[_0x470209(0x285)]((_0x31fa36,_0x566bd6)=>_0x31fa36[_0x470209(0x30d)]<_0x566bd6[_0x470209(0x30d)]?0x1:_0x566bd6[_0x470209(0x30d)]<_0x31fa36[_0x470209(0x30d)]?-0x1:0x0),_0x3e40d9=cloneDeep(_0x236e38),_0x236e38=_0x236e38[_0x470209(0x317)](_0x4d4da3=>{const _0x3f19cb=_0x470209,_0x1c8e93=config[_0x3f19cb(0x25c)][_0x3f19cb(0x33a)](_0x408921=>_0x408921[_0x3f19cb(0x28a)]==_0x4d4da3[_0x3f19cb(0x28a)]);return _0x1c8e93&&!_0x1c8e93[_0x3f19cb(0x35c)];}),[_0x236e38,_0x3e40d9];}async function getOpenOrders(){const _0x37ed1b=_0x805538;let _0x431a7c;allOpenOrders=[];try{for(const _0x2e37f2 of config[_0x37ed1b(0x25c)]){!_0x2e37f2[_0x37ed1b(0x35c)]&&_0x2e37f2['coin']!=config[_0x37ed1b(0x2b6)]&&(_0x431a7c=await exchange['fetchOpenOrders'](_0x2e37f2[_0x37ed1b(0x2df)]),_0x431a7c['length']>0x0&&allOpenOrders[_0x37ed1b(0x31a)](_0x431a7c[0x0]));}}catch(_0x5d9799){await handleError(_0x5d9799,_0x37ed1b(0x35f));}}async function handleOpenOrders(_0x4f365c=0x0){const _0x290e79=_0x805538;allOpenOrders[_0x290e79(0x2b1)]==0x0&&lockOrders==ORDERS[_0x290e79(0x241)]&&allOrdersPlaced&&(_0x4f365c==0x0?(logger['debug'](_0x290e79(0x360)),_0x4f365c++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x290e79(0x2f1)](_0x290e79(0x2f9)),validateOrders('no\x20open\x20orders')));}async function testAPI(){const _0x4a5b4f=_0x805538;try{return await exchange[_0x4a5b4f(0x324)](),!![];}catch(_0x412fe0){loading[_0x4a5b4f(0x20c)]=!![],_0x412fe0[_0x4a5b4f(0x1ba)]()[_0x4a5b4f(0x1e0)]()[_0x4a5b4f(0x225)](_0x4a5b4f(0x27d))||_0x412fe0[_0x4a5b4f(0x1ba)]()[_0x4a5b4f(0x1e0)]()[_0x4a5b4f(0x225)]('request-time')?(logHistory(_0x4a5b4f(0x338),_0x4a5b4f(0x294)),loading[_0x4a5b4f(0x338)]=_0x4a5b4f(0x1e3)):handleErrorNoStop(_0x412fe0,_0x4a5b4f(0x27c),!![]),logHistory('error',_0x4a5b4f(0x23f)),logHistory('error',_0x4a5b4f(0x2bf)+loadCoinsRetryInterval/0xea60+_0x4a5b4f(0x24b)),logger[_0x4a5b4f(0x2f1)]('Error\x20details:',_0x412fe0),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x2c7735){const _0x4cb619=_0x805538;logger[_0x4cb619(0x2f1)](_0x4cb619(0x36e));const _0x296398=ccxt[_0x4cb619(0x345)][_0x2c7735[_0x4cb619(0x2c7)][_0x4cb619(0x1e0)]()],_0x2a48a1=new _0x296398({'apiKey':_0x2c7735[_0x4cb619(0x363)],'secret':_0x2c7735[_0x4cb619(0x2b4)],'options':{'defaultType':_0x4cb619(0x203)}});if(_0x2c7735[_0x4cb619(0x29b)])_0x2a48a1[_0x4cb619(0x36b)]=_0x2c7735[_0x4cb619(0x29b)];if(_0x2a48a1['has'][_0x4cb619(0x347)])_0x2a48a1[_0x4cb619(0x248)](_0x2c7735[_0x4cb619(0x347)]);if(_0x2c7735[_0x4cb619(0x2c7)][_0x4cb619(0x1e0)]()==_0x4cb619(0x1e9))_0x2a48a1[_0x4cb619(0x208)][_0x4cb619(0x25f)]=operatorId;try{await _0x2a48a1[_0x4cb619(0x324)](),botPaused=![];}catch(_0x59f839){logger['debug']('Error\x20in\x20testNewAPI():\x20'+_0x59f839[_0x4cb619(0x1ba)]());throw _0x59f839;}}function cloneDeep(_0x1d7d72){const _0x33f9b6=_0x805538;return JSON[_0x33f9b6(0x2ac)](JSON['stringify'](_0x1d7d72));}function _0xb05b(_0x47013e,_0xa18ce2){const _0x333b3f=_0x49ef();return _0xb05b=function(_0x5aa2c8,_0x24eecf){_0x5aa2c8=_0x5aa2c8-0x18b;let _0x49ef60=_0x333b3f[_0x5aa2c8];return _0x49ef60;},_0xb05b(_0x47013e,_0xa18ce2);}async function getPortfolio(_0x679860){const _0x18643c=_0x805538;let _0x556441=[],_0x3c3e53=[],_0x41abb3=[],_0x3949f6;_0x679860[_0x18643c(0x363)]=decryptRSA(secure[_0x18643c(0x32b)],_0x679860[_0x18643c(0x363)]),_0x679860[_0x18643c(0x2b4)]=decryptRSA(secure[_0x18643c(0x32b)],_0x679860['apiSecret']);if(_0x679860['apiPassword'])_0x679860['apiPassword']=decryptRSA(secure['privateKey'],_0x679860[_0x18643c(0x29b)]);if(_0x679860['apiKey']!==_0x18643c(0x374)||_0x679860['apiSecret']!=='************'||_0x679860[_0x18643c(0x29b)]&&_0x679860['apiPassword']!==_0x18643c(0x374)){if(config[_0x18643c(0x2c7)]){if(_0x679860['apiKey']=='************')_0x679860[_0x18643c(0x363)]=config['apiKey'];if(_0x679860['apiSecret']==_0x18643c(0x374))_0x679860['apiSecret']=config['apiSecret'];if(_0x679860['apiPassword']==_0x18643c(0x374))_0x679860[_0x18643c(0x29b)]=config[_0x18643c(0x29b)];}try{if(_0x679860[_0x18643c(0x29c)])await testNewAPI(_0x679860);}catch(_0x5ed751){if(_0x5ed751[_0x18643c(0x1ba)]()[_0x18643c(0x225)](_0x18643c(0x19f))){logHistory(_0x18643c(0x338),_0x18643c(0x1d5)),logHistory(_0x18643c(0x338),'Error\x20details:\x20'+_0x5ed751[_0x18643c(0x1ba)]()),proxyEmit('portfolio1',![]);return;}else{if(_0x5ed751[_0x18643c(0x1ba)]()[_0x18643c(0x225)](_0x18643c(0x2fe))){logHistory(_0x18643c(0x338),_0x18643c(0x2fb)),logHistory(_0x18643c(0x338),_0x18643c(0x219)+_0x5ed751[_0x18643c(0x1ba)]()),proxyEmit('portfolio1',![]);return;}else{logHistory(_0x18643c(0x338),_0x18643c(0x24d)+_0x5ed751['toString']()),logger[_0x18643c(0x2f1)](_0x18643c(0x2ff),_0x5ed751),proxyEmit(_0x18643c(0x298),![]);return;}}}exchange?updateExchange(_0x679860[_0x18643c(0x363)],_0x679860['apiSecret'],_0x679860[_0x18643c(0x29b)]):await initExchange(_0x679860[_0x18643c(0x2c7)],_0x679860[_0x18643c(0x363)],_0x679860['apiSecret'],_0x679860[_0x18643c(0x29b)],_0x679860[_0x18643c(0x347)]);await loadSymbols();const _0x128f48=await getCoins(0x0,![],_0x679860[_0x18643c(0x2b6)]);_0x41abb3=cloneDeep(_0x128f48[0x1]);}else{const _0x3add63=await getCoins();_0x41abb3=cloneDeep(_0x3add63[0x1]);}if(_0x679860[_0x18643c(0x2b6)]=='')proxyEmit(_0x18643c(0x298),!![]),proxyEmit(_0x18643c(0x296),_0x41abb3);else{_0x41abb3['forEach'](_0x117727=>{const _0x4e8f4c=_0x18643c;if(_0x117727[_0x4e8f4c(0x28a)]!=_0x679860[_0x4e8f4c(0x2b6)]&&allSymbols['includes'](_0x117727['symbol']))_0x556441[_0x4e8f4c(0x31a)](_0x117727[_0x4e8f4c(0x2df)]);});if(_0x556441[_0x18643c(0x2b1)]==0x0)logHistory(_0x18643c(0x338),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x3c3e53=await getTickers(_0x556441);}catch(_0x59ac4b){logHistory('error',_0x18643c(0x1d8)),logger['debug']('Error\x20details:',_0x59ac4b),proxyEmit('portfolio1',![]);return;}_0x41abb3[_0x18643c(0x1f1)](_0x2bbf0b=>{const _0x221e97=_0x18643c;_0x2bbf0b[_0x221e97(0x28a)]!=_0x679860['basecoin']?_0x3c3e53[_0x2bbf0b[_0x221e97(0x2df)]]?_0x3c3e53[_0x2bbf0b[_0x221e97(0x2df)]]['last']?_0x3949f6=_0x2bbf0b['reverse']?0x1/_0x3c3e53[_0x2bbf0b[_0x221e97(0x2df)]]['last']:_0x3c3e53[_0x2bbf0b['symbol']][_0x221e97(0x29f)]:_0x3949f6=0x0:_0x3949f6=0x0:_0x3949f6=0x1,_0x2bbf0b[_0x221e97(0x2ce)]=formatResult(_0x3949f6,0x8);}),await getMarketCap(_0x41abb3),proxyEmit(_0x18643c(0x298),!![]),proxyEmit(_0x18643c(0x296),_0x41abb3);}}}function truncateTradeAmount(_0x1ee562,_0x4356a8){let _0x549ae9=0x0;try{_0x549ae9=exchange['amountToPrecision'](_0x1ee562,_0x4356a8);}catch(_0xb7b66c){}return _0x549ae9;}function checkMinimums(_0x12e884){const _0x2e5ff8=_0x805538;let _0x421bb6=!![];const _0x317640=!_0x12e884[_0x2e5ff8(0x24c)]?markets[_0x12e884['symbol']][_0x2e5ff8(0x33f)][_0x2e5ff8(0x1c3)][_0x2e5ff8(0x193)]:markets[_0x12e884[_0x2e5ff8(0x2df)]][_0x2e5ff8(0x33f)]['cost'][_0x2e5ff8(0x193)],_0x328657=!_0x12e884[_0x2e5ff8(0x24c)]?markets[_0x12e884['symbol']]['limits'][_0x2e5ff8(0x349)][_0x2e5ff8(0x193)]:markets[_0x12e884[_0x2e5ff8(0x2df)]][_0x2e5ff8(0x33f)][_0x2e5ff8(0x1c3)][_0x2e5ff8(0x193)],_0x4d4726=truncateTradeAmount(_0x12e884[_0x2e5ff8(0x2df)],_0x12e884[_0x2e5ff8(0x1da)]);_0x12e884[_0x2e5ff8(0x1da)]=_0x4d4726;if(Math['abs'](_0x4d4726)<_0x317640)_0x421bb6=![];if(Math[_0x2e5ff8(0x34b)](_0x4d4726)*_0x12e884[_0x2e5ff8(0x29f)]<_0x328657)_0x421bb6=![];let _0x156746='';if(_0x12e884['side']==_0x2e5ff8(0x2fa)){let _0x346b3a=config[_0x2e5ff8(0x25c)][_0x2e5ff8(0x33a)](_0x5000f0=>_0x5000f0['coin']==_0x12e884[_0x2e5ff8(0x28a)]);_0x346b3a[_0x2e5ff8(0x1ee)]>0x0?Math[_0x2e5ff8(0x34b)](_0x4d4726)>_0x12e884[_0x2e5ff8(0x2e2)]-_0x346b3a[_0x2e5ff8(0x1ee)]&&(_0x421bb6=![],_0x156746=_0x2e5ff8(0x1fc)+_0x346b3a[_0x2e5ff8(0x28a)]+_0x2e5ff8(0x18f)):Math[_0x2e5ff8(0x34b)](_0x4d4726)>_0x12e884[_0x2e5ff8(0x2e2)]&&(_0x421bb6=![]);}if(_0x12e884[_0x2e5ff8(0x237)]=='buy'){let _0x4c6015=config[_0x2e5ff8(0x25c)][_0x2e5ff8(0x33a)](_0x1d4746=>_0x1d4746[_0x2e5ff8(0x28a)]==config[_0x2e5ff8(0x2b6)]),_0x33315c=currentCoins['find'](_0x355005=>_0x355005[_0x2e5ff8(0x28a)]==config[_0x2e5ff8(0x2b6)]);_0x4c6015[_0x2e5ff8(0x1ee)]>0x0?Math['abs'](_0x4d4726)*_0x12e884['last']>_0x33315c[_0x2e5ff8(0x2e2)]-_0x4c6015[_0x2e5ff8(0x1ee)]&&(_0x421bb6=![],_0x156746=_0x2e5ff8(0x1fc)+config[_0x2e5ff8(0x2b6)]+_0x2e5ff8(0x18f)):Math['abs'](_0x4d4726)*_0x12e884['last']>_0x33315c[_0x2e5ff8(0x2e2)]&&(_0x421bb6=![]);}return!_0x421bb6&&_0x156746&&!insufficientFundsWarningSent[_0x2e5ff8(0x225)](_0x12e884[_0x2e5ff8(0x28a)])&&(logHistory('warning',_0x156746),insufficientFundsWarningSent[_0x2e5ff8(0x31a)](_0x12e884[_0x2e5ff8(0x28a)])),_0x421bb6;}async function getBalances(_0x3425a6=!![]){const _0x4358d5=_0x805538;if(botPaused)return;let _0x496130=0x0,_0x42aa6e;const _0x38d5e0=config[_0x4358d5(0x2b0)];if(config[_0x4358d5(0x1c9)]&&config[_0x4358d5(0x352)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x1665fe=>{const _0x10cc33=_0x4358d5;if(_0x1665fe[_0x10cc33(0x28a)]!=config[_0x10cc33(0x2b6)]){let _0x32b517=gTicker[noslash(_0x1665fe['symbol'])];_0x42aa6e=_0x1665fe[_0x10cc33(0x24c)]?0x1/_0x32b517:_0x32b517;}else _0x42aa6e=0x1;let _0x3a065c=_0x1665fe[_0x10cc33(0x2e2)]*_0x42aa6e;_0x496130+=_0x3a065c,_0x1665fe['last']=formatResult(Number(_0x42aa6e),0x8),_0x1665fe[_0x10cc33(0x228)]=_0x3a065c;}),currentCoins[_0x4358d5(0x1f1)](_0x20227c=>{const _0x1b631d=_0x4358d5;let _0x5878b2=config[_0x1b631d(0x25c)]['find'](_0x3929d5=>_0x3929d5[_0x1b631d(0x28a)]==_0x20227c['coin']),_0x1326d6=Number(_0x5878b2[_0x1b631d(0x2e3)]),_0x24f06c=_0x20227c[_0x1b631d(0x228)]/_0x496130*0x64,_0x4ee894=_0x1326d6*_0x496130/0x64/_0x20227c[_0x1b631d(0x29f)]-_0x20227c[_0x1b631d(0x2e2)];_0x20227c['distribution']=formatResult(_0x24f06c,0x3),_0x20227c['target']=formatResult(_0x1326d6,0x3),_0x20227c['trade']=formatResult(_0x4ee894,0x8),_0x20227c[_0x1b631d(0x237)]='',_0x20227c[_0x1b631d(0x2c9)]=![];if(_0x20227c[_0x1b631d(0x28a)]!=config['basecoin']){if(_0x20227c['distribution']>_0x1326d6)_0x20227c['side']=_0x1b631d(0x2fa),_0x20227c[_0x1b631d(0x2c9)]=checkMinimums(_0x20227c);else _0x20227c['distribution']<_0x1326d6&&(_0x20227c['side']=_0x1b631d(0x1ea),_0x20227c['valid']=checkMinimums(_0x20227c));}_0x20227c[_0x1b631d(0x30d)]=_0x20227c[_0x1b631d(0x331)]==0x0?0x270f:_0x20227c['distribution']/_0x20227c['target']-0x1;if(_0x20227c[_0x1b631d(0x209)]==_0x1b631d(0x314)||_0x20227c[_0x1b631d(0x209)]=='canceled')_0x20227c['orderstatus']=_0x1b631d(0x2e5);}),currentCoins['sort']((_0x58ae00,_0x512e23)=>_0x58ae00[_0x4358d5(0x30d)]<_0x512e23[_0x4358d5(0x30d)]?0x1:_0x512e23[_0x4358d5(0x30d)]<_0x58ae00[_0x4358d5(0x30d)]?-0x1:0x0);const _0x2d7d8d=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2d7d8d['eur'],'usd':_0x2d7d8d[_0x4358d5(0x231)],'portfolio':JSON[_0x4358d5(0x263)](currentCoins),'threshold':_0x38d5e0},proxyEmit(_0x4358d5(0x329),{'serverversion':serverversion,'balances':lastBalances});if(_0x3425a6){if(config[_0x4358d5(0x1c9)])headlessMode({'portfolio':currentCoins,'threshold':_0x38d5e0});else lockOrders==ORDERS[_0x4358d5(0x308)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x38d5e0});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x5f0e9c=getNormalizedPerformance();getStartingBalances(_0x5f0e9c),emitPerformance(_0x5f0e9c);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x414753=_0x805538;let _0x40af64=dbCoinResults[_0x414753(0x20e)](_0x414753(0x280))[_0x414753(0x228)](),_0x40fbd4=0x0;return Object['entries'](_0x40af64)[_0x414753(0x1f1)](([_0x10bef8,_0x5c3d03])=>{const _0x2f916b=_0x414753;_0x40fbd4+=_0x5c3d03[_0x2f916b(0x2e1)];}),_0x40fbd4;}async function storePerformance(){const _0x4fe68e=_0x805538;if(!lastBalances)return;let _0x1a48c2=[],_0x2d12fd;const _0x2ff3ac=getPnL();let _0x5bd4e0=JSON['parse'](lastBalances['portfolio']);_0x5bd4e0[_0x4fe68e(0x285)]((_0xb87fc2,_0x3f9958)=>_0xb87fc2[_0x4fe68e(0x28a)]>_0x3f9958[_0x4fe68e(0x28a)]?0x1:_0x3f9958['coin']>_0xb87fc2[_0x4fe68e(0x28a)]?-0x1:0x0),_0x5bd4e0[_0x4fe68e(0x1f1)](_0x37f913=>{const _0x1a8ef3=_0x4fe68e;let _0x48b691={'coin':_0x37f913[_0x1a8ef3(0x28a)],'number':_0x37f913[_0x1a8ef3(0x2e2)],'price':_0x37f913['last']};_0x1a48c2[_0x1a8ef3(0x31a)](_0x48b691);});const _0x56cc06=await getFiat(),_0x5e651d=getTimeStamp()[_0x4fe68e(0x201)]('\x20')[0x0],_0x3a0fe8=dbPerformance[_0x4fe68e(0x20e)](_0x4fe68e(0x346))['find']({'date':_0x5e651d})[_0x4fe68e(0x228)]();_0x2d12fd={'date':_0x5e651d,'eur':_0x56cc06['eur'],'usd':_0x56cc06[_0x4fe68e(0x231)],'coins':_0x1a48c2,'pnl':_0x2ff3ac},_0x3a0fe8?_0x2d12fd[_0x4fe68e(0x1ff)]!=config['startdate']&&dbPerformance['get']('data')['find']({'date':_0x5e651d})[_0x4fe68e(0x368)](_0x2d12fd)[_0x4fe68e(0x29e)]():dbPerformance[_0x4fe68e(0x20e)]('data')[_0x4fe68e(0x31a)](_0x2d12fd)[_0x4fe68e(0x29e)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x21c71c=_0x805538;let _0x32becc=[];if(dbPerformance['has'](_0x21c71c(0x346))['value']()){let _0x1031e4=dbPerformance['get'](_0x21c71c(0x346))['cloneDeep']()[_0x21c71c(0x317)](_0x22373d=>{const _0x38b455=_0x21c71c;if(_0x22373d[_0x38b455(0x280)][_0x38b455(0x2b1)]==0x0)return![];else return!![];})[_0x21c71c(0x215)](_0x21c71c(0x1ff))[_0x21c71c(0x228)](),_0x18bffc=[...config[_0x21c71c(0x2bd)]];_0x18bffc[_0x21c71c(0x285)]((_0x370ee2,_0x15d993)=>_0x370ee2['date']>_0x15d993['date']?-0x1:_0x15d993[_0x21c71c(0x1ff)]>_0x370ee2[_0x21c71c(0x1ff)]?0x1:0x0);let _0x38e148=0x1,_0x37bb05=[],_0x44a767=0x0;_0x1031e4['slice']()[_0x21c71c(0x24c)]()[_0x21c71c(0x1f1)]((_0x3802a7,_0x25089a)=>{const _0x3a2fbe=_0x21c71c;if(_0x18bffc[_0x44a767]){if(_0x1031e4[_0x1031e4[_0x3a2fbe(0x2b1)]-_0x25089a]&&_0x18bffc[_0x44a767][_0x3a2fbe(0x1ff)]==_0x1031e4[_0x1031e4[_0x3a2fbe(0x2b1)]-_0x25089a][_0x3a2fbe(0x1ff)]){if(_0x25089a<_0x1031e4[_0x3a2fbe(0x2b1)]){let _0x405691=0x0,_0x24c9b4=0x0;_0x1031e4[_0x1031e4['length']-_0x25089a][_0x3a2fbe(0x280)]['forEach'](_0x79ac12=>{const _0x213ead=_0x3a2fbe;_0x24c9b4+=_0x79ac12['number']*_0x79ac12[_0x213ead(0x2ce)];}),_0x18bffc[_0x44a767][_0x3a2fbe(0x191)][_0x3a2fbe(0x1f1)](_0x1367e8=>{const _0x1cb5f2=_0x3a2fbe;_0x405691+=_0x1367e8[_0x1cb5f2(0x2e2)]*_0x1367e8[_0x1cb5f2(0x2ce)];}),_0x38e148*=_0x405691/(_0x24c9b4-_0x405691)+0x1;}_0x44a767++;}}let _0x71af1d=0x0;_0x3802a7['coins'][_0x3a2fbe(0x1f1)](_0x521f62=>{const _0x5bf0ba=_0x3a2fbe;_0x71af1d+=_0x521f62[_0x5bf0ba(0x2e2)]*_0x521f62[_0x5bf0ba(0x2ce)];}),_0x37bb05[_0x1031e4[_0x3a2fbe(0x2b1)]-_0x25089a-0x1]=_0x71af1d*(_0x38e148-0x1);});let _0x118659=[];_0x18bffc=[...config[_0x21c71c(0x2bd)]]||[];let _0x13c98b=0x0;_0x44a767=0x0,_0x1031e4[_0x21c71c(0x1f1)]((_0x15bd2c,_0x34dafb)=>{const _0x4966f2=_0x21c71c;if(_0x18bffc[_0x44a767]){const _0x3edb2b=fns['parse'](_0x18bffc[_0x44a767][_0x4966f2(0x1ff)],_0x4966f2(0x362),new Date()),_0x5698ce=fns[_0x4966f2(0x2ac)](_0x15bd2c[_0x4966f2(0x1ff)],_0x4966f2(0x362),new Date());if(fns[_0x4966f2(0x24e)](_0x3edb2b,_0x5698ce)){let _0x3add9f=0x0;_0x18bffc[_0x44a767][_0x4966f2(0x191)][_0x4966f2(0x1f1)](_0x5c83b7=>{const _0x447f40=_0x4966f2;!_0x118659[_0x5c83b7[_0x447f40(0x28a)]]?_0x118659[_0x5c83b7[_0x447f40(0x28a)]]=_0x5c83b7['number']:(_0x3add9f=_0x118659[_0x5c83b7[_0x447f40(0x28a)]],_0x118659[_0x5c83b7[_0x447f40(0x28a)]]+=_0x5c83b7[_0x447f40(0x2e2)]);const _0x353616=_0x15bd2c[_0x447f40(0x280)]['find'](_0x30a420=>_0x30a420[_0x447f40(0x28a)]==_0x5c83b7['coin']);(!_0x353616||_0x353616[_0x447f40(0x2e2)]==0x0)&&(_0x13c98b+=(-_0x5c83b7['number']-_0x3add9f)*_0x5c83b7['price']);}),_0x44a767++;}}_0x15bd2c[_0x4966f2(0x280)][_0x4966f2(0x1f1)]((_0x252bd6,_0x320bc1)=>{const _0x4998f9=_0x4966f2;_0x118659[_0x252bd6[_0x4998f9(0x28a)]]&&(_0x252bd6['initial']=_0x118659[_0x252bd6['coin']]);}),_0x32becc[_0x4966f2(0x31a)]({'date':_0x15bd2c['date'],'eur':_0x15bd2c[_0x4966f2(0x307)],'usd':_0x15bd2c[_0x4966f2(0x231)],'offset':_0x37bb05[_0x34dafb],'netoffset':_0x13c98b,'coins':_0x15bd2c[_0x4966f2(0x280)],'pnl':_0x15bd2c['pnl']});});}return _0x32becc;}function emitPerformance(_0x1b90ec){_0x1b90ec['length']!==0x0?(proxyEmit('performance',_0x1b90ec),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x5983d9,_0x16d408){const _0x390a59=_0x805538;let _0x5cd836=0x0,_0x4a450f=0x0,_0x32f7bb=0x0;_0x5983d9['coins'][_0x390a59(0x1f1)](_0x40efe8=>{const _0x3f6f21=_0x390a59;_0x5cd836+=_0x40efe8[_0x3f6f21(0x2e2)]*_0x40efe8[_0x3f6f21(0x2ce)];});_0x16d408&&(_0x5cd836+=_0x5983d9[_0x390a59(0x1ee)]);if(config[_0x390a59(0x2b6)]===_0x390a59(0x336)||config[_0x390a59(0x2b6)]===_0x390a59(0x282)||config[_0x390a59(0x2b6)]===_0x390a59(0x30f))_0x4a450f=_0x5cd836*_0x5983d9['eur'],_0x32f7bb=_0x5cd836*_0x5983d9['usd'];else{if(usdBasecoins[_0x390a59(0x225)](config[_0x390a59(0x2b6)]))_0x4a450f=_0x5cd836*_0x5983d9[_0x390a59(0x307)]/_0x5983d9[_0x390a59(0x231)],_0x32f7bb=_0x5cd836;else config[_0x390a59(0x2b6)]===_0x390a59(0x261)&&(_0x4a450f=_0x5cd836,_0x32f7bb=_0x5cd836*_0x5983d9[_0x390a59(0x231)]/_0x5983d9[_0x390a59(0x307)]);}return[_0x5cd836,_0x4a450f,_0x32f7bb];}function CurrencyFactor(_0x3022c8,_0x432406,_0x55ead7){const _0x250211=_0x805538;let _0x4491fa;if(_0x432406===_0x250211(0x336)||_0x432406==='ETH'||_0x432406===_0x250211(0x30f))_0x4491fa=_0x55ead7==='EUR'?_0x3022c8['eur']:_0x3022c8[_0x250211(0x231)];else{if(usdBasecoins[_0x250211(0x225)](_0x432406))_0x4491fa=_0x55ead7===_0x250211(0x261)?_0x3022c8[_0x250211(0x307)]/_0x3022c8[_0x250211(0x231)]:0x1;else _0x432406==='EUR'&&(_0x4491fa=_0x55ead7===_0x250211(0x261)?0x1:_0x3022c8[_0x250211(0x231)]/_0x3022c8[_0x250211(0x307)]);}return _0x4491fa;}function getKPIs(_0x24a7fd,_0x45b5b7=_0x805538(0x261)){const _0x8f5747=_0x805538,_0x4c9caf=config['basecoin'],_0x4b50fe=lastBalances,_0x18bc29=currentCoins,_0x2010c8=getNormalizedPerformance(),_0x5acf60=CurrencyFactor(_0x4b50fe,config[_0x8f5747(0x2b6)],_0x45b5b7);let _0x4abff2=0x0;_0x18bc29[_0x8f5747(0x1f1)](_0x10d2a3=>{const _0x5b85c8=_0x8f5747;_0x4abff2+=_0x10d2a3[_0x5b85c8(0x2e2)]*_0x10d2a3[_0x5b85c8(0x29f)];});_0x24a7fd[_0x8f5747(0x225)](_0x8f5747(0x340))&&(_0x4abff2*=_0x5acf60);let _0x170cba;if(_0x4abff2!==0x0){if(_0x24a7fd===_0x8f5747(0x2b6)||_0x24a7fd===_0x8f5747(0x340)){if(_0x24a7fd===_0x8f5747(0x2b6))_0x170cba=(_0x4abff2/startingBalances[_0x8f5747(0x2b6)]-0x1)*0x64;else{if(_0x45b5b7===_0x8f5747(0x261))_0x170cba=(_0x4abff2/startingBalances[_0x8f5747(0x307)]-0x1)*0x64;else _0x170cba=(_0x4abff2/startingBalances[_0x8f5747(0x231)]-0x1)*0x64;}}if(_0x24a7fd['includes'](_0x8f5747(0x2b3))){let _0x50381c=0x0;if(startingBalances[_0x8f5747(0x280)])_0x18bc29['forEach'](_0xb7a2b6=>{const _0x5a0ccd=_0x8f5747;let _0x4b8880=startingBalances[_0x5a0ccd(0x280)][_0x5a0ccd(0x33a)](_0x483014=>_0x483014[_0x5a0ccd(0x28a)]===_0xb7a2b6[_0x5a0ccd(0x28a)]);if(_0x4b8880&&_0x4b8880['coin']&&_0xb7a2b6[_0x5a0ccd(0x2e2)]!==0x0)_0x50381c+=_0x4b8880[_0x5a0ccd(0x2e2)]*_0xb7a2b6[_0x5a0ccd(0x29f)];});let _0xd15438=0x0;if(_0x2010c8[_0x8f5747(0x2b1)]!==0x0){let _0x1cb4c1=_0x2010c8[_0x2010c8[_0x8f5747(0x2b1)]-0x1];_0xd15438=_0x1cb4c1[_0x8f5747(0x222)];}_0x50381c-=_0xd15438;let _0x427a32;_0x24a7fd===_0x8f5747(0x31b)&&(_0x427a32=startingBalances[_0x8f5747(0x2b6)]),_0x24a7fd===_0x8f5747(0x35e)&&(_0x427a32=_0x45b5b7===_0x8f5747(0x261)?startingBalances[_0x8f5747(0x307)]:startingBalances[_0x8f5747(0x231)],_0x50381c*=_0x5acf60),_0x170cba=(_0x4abff2-_0x50381c)/_0x427a32*0x64,_0x4abff2=_0x4abff2-_0x50381c;}if(_0x24a7fd[_0x8f5747(0x225)](_0x8f5747(0x1b7))){if(_0x2010c8[_0x8f5747(0x2b1)]!==0x0&&_0x18bc29[_0x8f5747(0x2b1)]!==0x0){let _0x3d0271,_0x49bf15=_0x2010c8[_0x2010c8[_0x8f5747(0x2b1)]-0x1][_0x8f5747(0x1b7)];_0x24a7fd[_0x8f5747(0x225)](_0x8f5747(0x340))?(_0x3d0271=_0x45b5b7===_0x8f5747(0x261)?startingBalances[_0x8f5747(0x307)]:startingBalances[_0x8f5747(0x231)],_0x49bf15*=CurrencyFactor(_0x4b50fe,_0x4c9caf,_0x45b5b7)):_0x3d0271=startingBalances[_0x8f5747(0x2b6)],_0x170cba=_0x49bf15/_0x3d0271*0x64,_0x4abff2=_0x49bf15;}}if(_0x170cba){if(_0x170cba<0x64)_0x170cba=_0x170cba['toFixed'](0x2);else{if(_0x170cba<0x3e8)_0x170cba=_0x170cba[_0x8f5747(0x1aa)](0x1);else _0x170cba=_0x170cba[_0x8f5747(0x1aa)](0x0);}}else _0x170cba=Number('0')['toFixed'](0x2);if(_0x4abff2){if(Math[_0x8f5747(0x34b)](_0x4abff2)<0.000001)_0x4abff2=_0x4abff2[_0x8f5747(0x1aa)](0x2);else{if(Math[_0x8f5747(0x34b)](_0x4abff2)<0.1)_0x4abff2=_0x4abff2[_0x8f5747(0x1aa)](0x6);else{if(Math[_0x8f5747(0x34b)](_0x4abff2)<0x1)_0x4abff2=_0x4abff2[_0x8f5747(0x1aa)](0x5);else{if(Math['abs'](_0x4abff2)<0xa)_0x4abff2=_0x4abff2[_0x8f5747(0x1aa)](0x4);else{if(Math['abs'](_0x4abff2)<0x64)_0x4abff2=_0x4abff2[_0x8f5747(0x1aa)](0x3);else{if(Math[_0x8f5747(0x34b)](_0x4abff2)<0x3e8)_0x4abff2=_0x4abff2[_0x8f5747(0x1aa)](0x2);else _0x4abff2=_0x4abff2[_0x8f5747(0x1aa)](0x2);}}}}}}else _0x4abff2=Number('0')[_0x8f5747(0x1aa)](0x2);}else _0x170cba=Number('0')['toFixed'](0x2);if(_0x170cba>=0x0)_0x170cba='+'+_0x170cba;return{'value':_0x4abff2,'change':_0x170cba};}async function getStartingBalances(_0x8b8ca1,_0x5f3c68=!![]){const _0x59f75e=_0x805538;if(_0x8b8ca1['length']!==0x0){const [_0x3b79f2,_0x236023,_0x3842bb]=getPerf(_0x8b8ca1[0x0],!![]);let _0x29be0e=[];config[_0x59f75e(0x25c)][_0x59f75e(0x1f1)](_0x1d0d5=>{const _0x150b9a=_0x59f75e;let _0x1e141e=0x0,_0x2d82d5;config[_0x150b9a(0x2bd)][_0x150b9a(0x1f1)](_0x2848c6=>{const _0x1e7c8c=_0x150b9a;let _0x3eaed3=_0x2848c6['changes'][_0x1e7c8c(0x33a)](_0x43e9ab=>_0x43e9ab[_0x1e7c8c(0x28a)]==_0x1d0d5[_0x1e7c8c(0x28a)]);if(_0x3eaed3){_0x1e141e+=_0x3eaed3['number'];if(!_0x2d82d5)_0x2d82d5=_0x3eaed3[_0x1e7c8c(0x2ce)];}}),_0x29be0e[_0x150b9a(0x31a)]({'coin':_0x1d0d5[_0x150b9a(0x28a)],'number':_0x1e141e,'initialprice':_0x2d82d5});});const _0x4c8d71={'basecoin':_0x3b79f2,'eur':_0x236023,'usd':_0x3842bb,'coins':_0x29be0e};if(_0x5f3c68)proxyEmit(_0x59f75e(0x20f),_0x4c8d71);startingBalances=_0x4c8d71;}}function headlessMode(_0x134765){const _0x1f7af3=_0x805538;let _0x124099=_0x134765['portfolio'],_0x15072c=_0x134765[_0x1f7af3(0x2b0)],_0x1a0d93=[];for(let _0x297e38 of _0x124099){if(_0x297e38['coin']!=config[_0x1f7af3(0x2b6)]){if(_0x297e38[_0x1f7af3(0x30d)]>=_0x15072c/0x64){if(_0x297e38[_0x1f7af3(0x2c9)])_0x1a0d93[_0x1f7af3(0x31a)](_0x297e38);}else{if(_0x297e38[_0x1f7af3(0x30d)]<=-_0x15072c/0x64){if(_0x297e38[_0x1f7af3(0x2c9)])_0x1a0d93[_0x1f7af3(0x31a)](_0x297e38);}}}}_0x1a0d93[_0x1f7af3(0x2b1)]>0x0&&placeOrder(_0x1a0d93);}function notifyBalance(_0x136f3e){const _0x447ace=_0x805538;let _0x277055=_0x136f3e['portfolio'],_0x246f8c=_0x136f3e[_0x447ace(0x2b0)],_0x3adec9=[];for(let _0x25be0e of _0x277055){if(_0x25be0e[_0x447ace(0x28a)]!=config[_0x447ace(0x2b6)]){if(_0x25be0e[_0x447ace(0x30d)]>=_0x246f8c/0x64){if(_0x25be0e[_0x447ace(0x2c9)])_0x3adec9[_0x447ace(0x31a)](_0x25be0e);}else{if(_0x25be0e[_0x447ace(0x30d)]<=-_0x246f8c/0x64){if(_0x25be0e[_0x447ace(0x2c9)])_0x3adec9['push'](_0x25be0e);}}}}if(_0x3adec9[_0x447ace(0x2b1)]>0x0){let _0x165a76=_0x3adec9['map'](_0x5d2737=>_0x5d2737['coin']);_0x165a76[_0x447ace(0x285)]();let _0x5b82c3=_0x165a76[_0x447ace(0x36a)](',\x20');if(!lastCoinsToBalance)logHistory(_0x447ace(0x2cc),_0x447ace(0x1d3));lastCoinsToBalance=_0x5b82c3;}}function symbolToCoin(_0xa83697){const _0x53a606=_0x805538;let _0x2149f6;if(_0xa83697[_0x53a606(0x225)]('/'+config[_0x53a606(0x2b6)]))_0x2149f6=_0xa83697['replace']('/'+config[_0x53a606(0x2b6)],'');if(_0xa83697['includes'](config[_0x53a606(0x2b6)]+'/'))_0x2149f6=_0xa83697[_0x53a606(0x332)](config[_0x53a606(0x2b6)]+'/','');return _0x2149f6;}function setLockOrders(_0x4f7c43){const _0x2f836b=_0x805538;lockOrders=_0x4f7c43,logger[_0x2f836b(0x2f1)](_0x2f836b(0x245)+Object[_0x2f836b(0x284)](ORDERS)[lockOrders]);}async function unlockOrders(_0x84409a=![]){const _0x2dbe7a=_0x805538;if(allOrdersPlaced&&lockOrders==ORDERS[_0x2dbe7a(0x241)]){setLockOrders(ORDERS[_0x2dbe7a(0x2c5)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x84409a){const _0x328fc9=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x328fc9,setBlockTransactionDetection(![]);}validateOrdersState=_0x2dbe7a(0x2da),persistOpenOrders([]),setLockOrders(ORDERS[_0x2dbe7a(0x308)]);}}async function validateOrders(_0x1ca381){const _0x40b9e7=_0x805538;if(_0x1ca381)validateOrdersState=_0x1ca381;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x40b9e7(0x34d)+Object[_0x40b9e7(0x284)](ORDERS)[lockOrders]);let _0x2cec27=[],_0x175b6f=config[_0x40b9e7(0x1af)]==_0x40b9e7(0x1f4)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x40b9e7(0x18e)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x40b9e7(0x2f1)](_0x40b9e7(0x1a4)+validateOrdersState);for(let _0x42e188=lastOrders[_0x40b9e7(0x2b1)]-0x1;_0x42e188>=0x0;_0x42e188--){let _0x54c670=lastOrders[_0x42e188],_0x4f5c72=![];_0x54c670[_0x40b9e7(0x314)]>0x0&&(_0x4f5c72=!![]),_0x2cec27[_0x40b9e7(0x31a)](_0x4f5c72),_0x4f5c72&&config[_0x40b9e7(0x1af)]!=_0x40b9e7(0x1f4)&&logHistory('order',_0x40b9e7(0x217)+_0x54c670[_0x40b9e7(0x2df)]+'\x20'+_0x54c670[_0x40b9e7(0x237)]+'\x20#'+formatResult(_0x54c670['filled'],0x8)+'\x20@'+formatResult(_0x54c670[_0x40b9e7(0x2ce)],0x8)),_0x4f5c72&&lastOrders[_0x40b9e7(0x29a)](_0x42e188,0x1);}persistOpenOrders(lastOrders);const _0x2a07ef=coolingDown?_0x40b9e7(0x1d6):_0x40b9e7(0x313);if(validateOrdersState==_0x40b9e7(0x2da)){validateOrdersState='ongoing';if(_0x2cec27[_0x40b9e7(0x225)](![])){}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x2cec27['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x40b9e7(0x1b8)){let _0x3e9af4=!![];if(_0x2cec27['includes'](![])){if(config[_0x40b9e7(0x1af)]==_0x40b9e7(0x1f4))logHistory(_0x40b9e7(0x33b),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x40b9e7(0x1cb)](_0x175b6f*validateOrderInterval/0xea60)+_0x40b9e7(0x370)+_0x2a07ef),await unlockOrders(!![]);else{_0x3e9af4=await cancelOrders();if(_0x3e9af4)logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x40b9e7(0x1cb)](_0x175b6f*validateOrderInterval/0xea60)+_0x40b9e7(0x370)+_0x2a07ef),await unlockOrders(!![]);else{validateOrdersState=_0x40b9e7(0x2f5),logHistory('error',_0x40b9e7(0x255)+Math['round'](_0x175b6f*validateOrderInterval/0xea60)+_0x40b9e7(0x370)+_0x2a07ef),logHistory('error',_0x40b9e7(0x267));const _0x4fdc74=config['ordertype']==_0x40b9e7(0x1f4)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x493d1e=_0x40b9e7;validateOrders(_0x493d1e(0x1b8));},_0x4fdc74);}}}else await unlockOrders(!![]);}else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!='market')logHistory(_0x40b9e7(0x33b),_0x40b9e7(0x2d8)+_0x2a07ef);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x4fdea4=_0x805538;let _0x55fd86=!![],_0x538caa;for(const _0x4f4a0a of lastOrders){let _0x32db1e=![],_0x165756=0x0;while(!_0x32db1e&&_0x165756<maxRetries){try{const _0x19bcd4=await exchange['cancelOrder'](_0x4f4a0a['orderId'],_0x4f4a0a['symbol']);_0x32db1e=!![];}catch(_0x39e698){_0x39e698[_0x4fdea4(0x1ba)]()[_0x4fdea4(0x225)]('OrderNotFound')||_0x39e698[_0x4fdea4(0x1ba)]()[_0x4fdea4(0x225)](_0x4fdea4(0x204))?_0x32db1e=!![]:(_0x538caa=_0x39e698,_0x32db1e=![]);}!_0x32db1e&&(_0x165756++,await sleep(retryInterval));}_0x55fd86=_0x55fd86&&_0x32db1e;}return!_0x55fd86&&await handleError(_0x538caa,'cancelOrders()'),_0x55fd86;}async function initCoinResults(_0x70ee72){const _0x1dcd1d=_0x805538;_0x70ee72?logger['debug'](_0x1dcd1d(0x359)+_0x70ee72):logger[_0x1dcd1d(0x2f1)]('Initializing\x20coin\x20results'),config[_0x1dcd1d(0x25c)][_0x1dcd1d(0x1f1)](_0x131baf=>{const _0x2cfefd=_0x1dcd1d;if(!_0x131baf[_0x2cfefd(0x35c)]&&_0x131baf[_0x2cfefd(0x28a)]!=config[_0x2cfefd(0x2b6)]){const _0x5cd3c5=currentCoins[_0x2cfefd(0x33a)](_0x3fbc0d=>_0x3fbc0d[_0x2cfefd(0x28a)]==_0x131baf[_0x2cfefd(0x28a)]),_0x7afbbe=gTicker[noslash(_0x131baf[_0x2cfefd(0x2df)])];let _0x2d59c2=_0x5cd3c5?_0x5cd3c5[_0x2cfefd(0x2e2)]:null,_0x3e5969=_0x131baf[_0x2cfefd(0x24c)]?0x1/_0x7afbbe:_0x7afbbe,_0x216219;config[_0x2cfefd(0x2bd)][_0x2cfefd(0x1f1)](_0x202e83=>{const _0x3c5b18=_0x2cfefd;!_0x216219&&(_0x216219=_0x202e83['changes']['find'](_0x1013da=>_0x1013da[_0x3c5b18(0x28a)]==_0x131baf[_0x3c5b18(0x28a)]),_0x216219&&(_0x2d59c2=_0x216219[_0x3c5b18(0x2e2)],_0x3e5969=_0x216219['price']));});let _0x8bdde5=dbCoinResults[_0x2cfefd(0x20e)](_0x2cfefd(0x280))[_0x2cfefd(0x33a)]({'coin':_0x131baf['coin']})[_0x2cfefd(0x228)]();if(!_0x8bdde5){const _0x47a44b={'coin':_0x131baf['coin'],'number':_0x2d59c2,'breakeven':_0x3e5969,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2cfefd(0x20e)](_0x2cfefd(0x280))[_0x2cfefd(0x31a)](_0x47a44b)['write']();}else{if(_0x70ee72&&_0x131baf[_0x2cfefd(0x28a)]==_0x70ee72){const _0x4812ef={'coin':_0x131baf['coin'],'number':_0x2d59c2,'breakeven':_0x3e5969,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2cfefd(0x20e)](_0x2cfefd(0x280))['find']({'coin':_0x131baf[_0x2cfefd(0x28a)]})[_0x2cfefd(0x368)](_0x4812ef)[_0x2cfefd(0x29e)]();}}}});}async function placeOrder(_0x34e9df){const _0x5d1f94=_0x805538,_0x325c23=config[_0x5d1f94(0x1af)]=='market'?'market':_0x5d1f94(0x287);if(lockOrders==ORDERS[_0x5d1f94(0x308)]&&!coolingDown){setLockOrders(ORDERS[_0x5d1f94(0x241)]);while(transactionDetectionOngoing){await sleep(0x64);}logger['debug'](_0x5d1f94(0x202)+_0x34e9df[_0x5d1f94(0x36d)](_0x27b9da=>_0x27b9da[_0x5d1f94(0x28a)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x5d1f94(0x2da);let _0x55b7a7=![];lastOrders=[];const _0x35da17=config['threshold'];for(const _0x1ce89e of _0x34e9df){let _0x18e393,_0x3f245d,_0x4cfead,_0x1e1059,_0x2adde3,_0x353609=_0x1ce89e[_0x5d1f94(0x2df)];logger[_0x5d1f94(0x2f1)](_0x5d1f94(0x21c)+_0x1ce89e[_0x5d1f94(0x28a)]+'\x20'+_0x1ce89e[_0x5d1f94(0x2e2)]+'\x20'+_0x1ce89e['last']+'\x20'+_0x1ce89e[_0x5d1f94(0x2e3)]+'%\x20'+_0x1ce89e[_0x5d1f94(0x331)]+'%\x20'+(0x64*_0x1ce89e[_0x5d1f94(0x30d)])[_0x5d1f94(0x1aa)](0x2)+_0x5d1f94(0x31d)+_0x35da17[_0x5d1f94(0x1aa)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x5d1f94(0x317)](_0x3cd2de=>_0x3cd2de!==_0x1ce89e[_0x5d1f94(0x28a)]);const _0x546cd1=currentCoins[_0x5d1f94(0x33a)](_0x15a45f=>_0x15a45f[_0x5d1f94(0x28a)]==_0x1ce89e['coin']);_0x546cd1&&(_0x546cd1[_0x5d1f94(0x34c)]=_0x1ce89e['number']);try{const _0x1b987d=await exchange['fetchTicker'](_0x353609);_0x18e393=_0x1ce89e[_0x5d1f94(0x24c)]?0x1/_0x1ce89e[_0x5d1f94(0x29f)]:_0x1ce89e[_0x5d1f94(0x29f)],_0x3f245d=_0x1b987d['bid'],_0x4cfead=_0x1b987d['ask'];_0x1ce89e[_0x5d1f94(0x24c)]?(_0x1e1059=_0x1ce89e['side']==_0x5d1f94(0x1ea)?'sell':_0x5d1f94(0x1ea),_0x2adde3=Math['abs'](_0x1ce89e[_0x5d1f94(0x1da)])/_0x18e393):(_0x1e1059=_0x1ce89e[_0x5d1f94(0x237)],_0x2adde3=Math[_0x5d1f94(0x34b)](_0x1ce89e[_0x5d1f94(0x1da)]));_0x325c23==_0x5d1f94(0x287)&&(config[_0x5d1f94(0x1af)]==_0x5d1f94(0x27a)&&(_0x18e393=_0x1e1059==_0x5d1f94(0x1ea)?_0x3f245d:_0x4cfead),config['ordertype']==_0x5d1f94(0x1ae)&&(_0x18e393=_0x1e1059==_0x5d1f94(0x1ea)?_0x4cfead:_0x3f245d));_0x2adde3=formatResult(_0x2adde3,0x8),_0x18e393=formatResult(_0x18e393,0x8);const _0x1f50d5=_0x1e1059=='sell'?config[_0x5d1f94(0x2f0)]?String[_0x5d1f94(0x230)]('0x'+config['emojisell'])+'\x20':'':config[_0x5d1f94(0x1f0)]?String[_0x5d1f94(0x230)]('0x'+config[_0x5d1f94(0x1f0)])+'\x20':'',_0x5ef702=_0x325c23==_0x5d1f94(0x1f4)?'Market':config[_0x5d1f94(0x1af)]==_0x5d1f94(0x27a)?_0x5d1f94(0x1d1):'Limit\x20(low-margin)',_0x11ba41=(Math['floor'](Math[_0x5d1f94(0x365)]()*0x35a4e900)+0x5f5e100)[_0x5d1f94(0x1ba)]();lastOrders[_0x5d1f94(0x31a)]({'customId':_0x11ba41,'symbol':_0x353609,'coin':_0x1ce89e[_0x5d1f94(0x28a)],'amount':_0x2adde3,'price':_0x18e393,'side':_0x1e1059,'reverse':_0x1ce89e[_0x5d1f94(0x24c)],'filled':0x0});let _0x370864;_0x325c23==_0x5d1f94(0x1f4)?_0x1e1059=='buy'&&[_0x5d1f94(0x26d),'Bitget',_0x5d1f94(0x1c1),_0x5d1f94(0x299),_0x5d1f94(0x21e),_0x5d1f94(0x270)][_0x5d1f94(0x225)](config[_0x5d1f94(0x2c7)])?_0x370864=await exchange['createOrder'](_0x353609,_0x325c23,_0x1e1059,_0x2adde3,_0x18e393):_0x370864=await exchange[_0x5d1f94(0x23e)](_0x353609,_0x325c23,_0x1e1059,_0x2adde3,undefined):_0x370864=await exchange[_0x5d1f94(0x23e)](_0x353609,_0x325c23,_0x1e1059,_0x2adde3,_0x18e393);const _0x23b744=lastOrders['length']-0x1;if(_0x23b744>=0x0&&lastOrders[_0x23b744][_0x5d1f94(0x22c)]==_0x11ba41){lastOrders[_0x23b744][_0x5d1f94(0x1bf)]=_0x370864['id'];if(_0x370864[_0x5d1f94(0x1c3)])lastOrders[_0x23b744]['amount']=_0x370864[_0x5d1f94(0x1c3)];if(_0x370864[_0x5d1f94(0x2ce)])lastOrders[_0x23b744][_0x5d1f94(0x2ce)]=_0x370864['price'];lastOrders[_0x23b744][_0x5d1f94(0x35b)]=_0x370864[_0x5d1f94(0x35b)];}if(_0x370864[_0x5d1f94(0x1c3)])_0x2adde3=_0x370864[_0x5d1f94(0x1c3)];if(_0x370864[_0x5d1f94(0x2ce)])_0x18e393=_0x370864[_0x5d1f94(0x2ce)];if(_0x325c23==_0x5d1f94(0x1f4))logHistory(_0x5d1f94(0x351),''+_0x1f50d5+_0x5ef702+_0x5d1f94(0x1e7)+_0x353609+'\x20'+_0x1e1059+'\x20#'+formatResult(_0x2adde3,0x8)+'\x20@'+formatResult(_0x18e393,0x8));else logHistory(_0x5d1f94(0x351),''+_0x1f50d5+_0x5ef702+_0x5d1f94(0x1e7)+_0x353609+'\x20'+_0x1e1059+'\x20#'+formatResult(_0x2adde3,0x8)+'\x20@'+formatResult(_0x18e393,0x8));logger[_0x5d1f94(0x2f1)](_0x5d1f94(0x1d0)+_0x370864['id']+_0x5d1f94(0x2c6)+_0x11ba41);if(config[_0x5d1f94(0x1eb)]!=0x0){let _0x5bb558=null;if(cooldownTracker[_0x5d1f94(0x2b1)]==config['cooldown']-0x1)_0x5bb558=cooldownTracker[_0x5d1f94(0x300)]();const _0x31579f=getTimeStamp();cooldownTracker['push'](_0x31579f);if(_0x5bb558){const _0x2d68d4=fns[_0x5d1f94(0x196)](new Date(_0x31579f),new Date(_0x5bb558));if(_0x2d68d4<cooldownInterval){logHistory('error',_0x5d1f94(0x2f2)+config[_0x5d1f94(0x1eb)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x5d1f94(0x207)+cooldownPeriod/(0xe10*0x3e8)+_0x5d1f94(0x1b5)),coolingDown=!![];break;}}}}catch(_0x2ff320){if(_0x2ff320['toString']()[_0x5d1f94(0x225)](_0x5d1f94(0x2d2)))lastOrders=lastOrders[_0x5d1f94(0x317)](_0xcba470=>_0xcba470[_0x5d1f94(0x2df)]!=_0x353609),logHistory('error',_0x5d1f94(0x330)+_0x353609),_0x55b7a7=!![];else{if(_0x2ff320[_0x5d1f94(0x1ba)]()[_0x5d1f94(0x225)](_0x5d1f94(0x211)))lastOrders=lastOrders[_0x5d1f94(0x317)](_0x6aadab=>_0x6aadab[_0x5d1f94(0x2df)]!=_0x353609),logHistory('error',_0x5d1f94(0x26c)+_0x353609),_0x55b7a7=!![];else{if(_0x2ff320[_0x5d1f94(0x1ba)]()[_0x5d1f94(0x225)](_0x5d1f94(0x204)))lastOrders=lastOrders[_0x5d1f94(0x317)](_0x4f8de9=>_0x4f8de9[_0x5d1f94(0x2df)]!=_0x353609),logHistory('error',_0x5d1f94(0x2e6)+_0x353609),logger['debug'](_0x2ff320),_0x55b7a7=!![];else _0x2ff320[_0x5d1f94(0x1ba)]()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x5d1f94(0x317)](_0x3e8102=>_0x3e8102[_0x5d1f94(0x2df)]!=_0x353609),logHistory(_0x5d1f94(0x338),_0x5d1f94(0x330)+_0x353609),_0x55b7a7=!![]):(lastOrders=lastOrders[_0x5d1f94(0x317)](_0x4a4e93=>_0x4a4e93[_0x5d1f94(0x2df)]!=_0x353609),await handleError(_0x2ff320,_0x5d1f94(0x333),_0x353609));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0x33c353=config[_0x5d1f94(0x1af)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x5d1f94(0x18e)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x33c353);}else unlockOrders();_0x55b7a7&&config['headless']&&(logHistory(_0x5d1f94(0x338),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x5d1f94(0x339)));}else{if(coolingDown)!config[_0x5d1f94(0x1c9)]&&logHistory(_0x5d1f94(0x338),_0x5d1f94(0x274));else lockOrders!=ORDERS['UNLOCKED']&&(!config['headless']&&(config[_0x5d1f94(0x1af)]==_0x5d1f94(0x1f4)?logHistory(_0x5d1f94(0x338),_0x5d1f94(0x247)):logHistory(_0x5d1f94(0x338),_0x5d1f94(0x2c1))));}}function persistOpenOrders(_0xd56960){const _0x284c70=_0x805538,_0x281991={...config,'openOrders':_0xd56960};let _0x44ad60=dbConfig[_0x284c70(0x20e)](_0x284c70(0x2f6))[_0x284c70(0x33a)]({'botID':botID})[_0x284c70(0x228)]();_0x44ad60&&dbConfig[_0x284c70(0x20e)](_0x284c70(0x2f6))[_0x284c70(0x33a)]({'botID':botID})[_0x284c70(0x368)](_0x281991)[_0x284c70(0x29e)]();}function restoreOrders(){const _0x3cb50c=_0x805538;let _0x5c82b1;config[_0x3cb50c(0x233)]&&allOpenOrders[_0x3cb50c(0x1f1)](_0x3bb80b=>{const _0x4d4240=_0x3cb50c,_0x564937=config[_0x4d4240(0x233)]['find'](_0x3c011c=>_0x3c011c['orderId']==_0x3bb80b['id']);_0x564937&&(lastOrders[_0x4d4240(0x31a)](_0x564937),_0x5c82b1=_0x3bb80b[_0x4d4240(0x27d)]);});if(lastOrders[_0x3cb50c(0x2b1)]>0x0){setLockOrders(ORDERS[_0x3cb50c(0x241)]),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x38c48b=new Date()[_0x3cb50c(0x26e)](),_0x4ccd4c=config['ordertype']==_0x3cb50c(0x1f4)?validateOrderTimeout*0x3c*0x3e8:config[_0x3cb50c(0x18e)]*0x3c*0x3e8;if(_0x5c82b1+_0x4ccd4c>_0x38c48b){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2250a3=_0x3cb50c;validateOrders(_0x2250a3(0x1b8));},_0x5c82b1+_0x4ccd4c-_0x38c48b);}else validateOrders(_0x3cb50c(0x1b8));}}async function sendMetricsTelegram(){const _0x155b4a=_0x805538;if(!coinsLoaded){process[_0x155b4a(0x2d7)]({'telegrammsg':_0x155b4a(0x2a9)},_0x58436d=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x419abf='';if(config['showname'])_0x419abf=_0x155b4a(0x244)+config[_0x155b4a(0x246)]+_0x155b4a(0x371);else _0x419abf=_0x155b4a(0x1a3)+botID+_0x155b4a(0x371);const _0x3c6999=config[_0x155b4a(0x2b6)],_0x5dade=config[_0x155b4a(0x340)],_0x498e8a=getKPIs(_0x155b4a(0x2b6)),_0x136255=getKPIs(_0x155b4a(0x340),_0x5dade),_0x1b2eaf=getKPIs(_0x155b4a(0x31b)),_0x510519=getKPIs('net-fiat',_0x5dade),_0x344f80=getKPIs(_0x155b4a(0x192)),_0x2e0a8d=getKPIs('pnl-fiat',_0x5dade);_0x3c6999['includes'](_0x5dade)?(_0x419abf+=_0x155b4a(0x258),_0x419abf+='Value\x20'+_0x3c6999+':\x20'+_0x498e8a['value']+'\x20('+_0x498e8a[_0x155b4a(0x199)]+'%)\x0a',_0x419abf+=_0x155b4a(0x2ea)+_0x3c6999+':\x20'+_0x1b2eaf[_0x155b4a(0x228)]+'\x20('+_0x1b2eaf[_0x155b4a(0x199)]+'%)\x0a',_0x419abf+=_0x155b4a(0x1ac)+_0x3c6999+':\x20'+_0x344f80[_0x155b4a(0x228)]+'\x20('+_0x344f80['change']+_0x155b4a(0x320),_0x419abf+=_0x155b4a(0x327)):(_0x419abf+=_0x155b4a(0x258),_0x419abf+=_0x155b4a(0x34a)+_0x3c6999+':\x20'+_0x498e8a[_0x155b4a(0x228)]+'\x20('+_0x498e8a[_0x155b4a(0x199)]+_0x155b4a(0x320),_0x419abf+=_0x155b4a(0x34a)+_0x5dade+':\x20'+_0x136255['value']+'\x20('+_0x136255[_0x155b4a(0x199)]+_0x155b4a(0x320),_0x419abf+='Net\x20'+_0x3c6999+':\x20'+_0x1b2eaf[_0x155b4a(0x228)]+'\x20('+_0x1b2eaf[_0x155b4a(0x199)]+_0x155b4a(0x320),_0x419abf+=_0x155b4a(0x2ea)+_0x5dade+':\x20'+_0x510519['value']+'\x20('+_0x510519[_0x155b4a(0x199)]+_0x155b4a(0x320),_0x419abf+='PnL\x20'+_0x3c6999+':\x20'+_0x344f80[_0x155b4a(0x228)]+'\x20('+_0x344f80[_0x155b4a(0x199)]+_0x155b4a(0x320),_0x419abf+=_0x155b4a(0x1ac)+_0x5dade+':\x20'+_0x2e0a8d[_0x155b4a(0x228)]+'\x20('+_0x2e0a8d['change']+_0x155b4a(0x320),_0x419abf+=_0x155b4a(0x327)),process['send']({'telegrammsg':_0x419abf},_0x58b8fb=>{});}function _0x49ef(){const _0x4cd30d=['Insufficient\x20funds\x20to\x20execute\x20order:\x20','onepagemode','emojisell','debug','Executed\x20','ExchangeNotAvailable','added','ongoing','bot','1\x20-\x20FILLED\x20unknown\x20order:\x20','Initializing\x20exchange','2\x20-\x20Handled\x20open\x20orders','sell','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','loadMarkets','create','PermissionDenied','Error\x20details:','shift','freeze','message','token\x20is\x20expired','api-issue','toggleBotMode','format','eur','UNLOCKED','watchOrders','page','bb-secure.json','19935oEEojt','delta','progress','PAXG',')\x20known\x20order:\x20','\x20uses\x20','***','balancing\x20resumed','filled','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','filter','Invalid\x20balance\x20for\x20','type','push','net-basecoin','configuration-stored','%\x20(','\x20-\x20','enableFiatToggle','%)\x0a','update-liquidity','BUSD','sqrt','fetchBalance','startprice','-config.json','</pre>','showConfig','balances','\x20exchange','privateKey','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','2.6.22','3210300BnCOOv','privateKeyFromPem','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','target','replace','placeOrder()','marketcapApi','\x0aSymbol(s):\x20','BTC','version','error','Cooldown\x20ended\x20-\x20balancing\x20resumed','find','success',':\x20timer\x20>','removed','storeHeadless','limits','fiat','self_reported_market_cap','-events.json','add','pid','pro','data','sandbox','bot-','cost','Value\x20','abs','prevnumber','\x20|\x20lock\x20orders:\x20','existsSync','1\x20-\x20FILLED\x20known\x20order:\x20','\x20|\x20highest\x20fee:\x20','order','change24h','basecoinvalue','001','ExchangeError','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','4615105HuSuHt','Fee\x20discount\x20refund\x20detected:\x20','Resetting\x20coin\x20results:\x20','decrypt','fee','excluded','\x20>\x20pausing\x20bot\x20for\x20','net-fiat','getOpenOrders()','1\x20-\x20Handle\x20open\x20orders','memoryUsage','yyyy/MM/dd','apiKey','colorscheme','random','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','recreate','assign','Block\x20transaction\x20detection:\x20','join','password','(((.+)+)+)+$','map','Test\x20new\x20API','restart','\x20minutes\x20-\x20','\x20metrics:</b>\x20\x0a\x0a','sendPortfolioTelegram','39282NFCpUn','************','botID','./logs/','watchTradesForSymbols','timeout','\x20due\x20to\x20offset','Resetting\x20bot\x20history','changes','pnl-basecoin','min','axios','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','differenceInSeconds','188sliTHC','match','change','Error\x20while\x20deleting\x20files:\x20','\x20>\x20','watchTradesForSymbols()','configuration','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','AuthenticationError','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','/EUR','deleteHistoryAlerts','<b>Bot\x20','2\x20-\x20Validate\x20orders:\x20','createWriteStream','event','sells','args','node-forge','toFixed','Exception\x20thrown\x20in\x20','PnL\x20','writeFile','limit-low','ordertype','heapUsed','/USDT','breakeven','Resuming\x20(','startdate','\x20hour','argv','pnl','final','/USD','toString','canceled','fetchTickers()','cancelLoading','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','orderId','\x20portfolio:</b>\x20\x0a\x0a','Cex','switch-manual','amount','showname','marketcap','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','cloneDeep','\x20(see:\x20hodlerhacks.com/fix/1)','headless','RETRY\x20-\x20Problem\x20resolved\x20after\x20','round','padStart','search','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','sha256','ID:\x20','Limit\x20(high-margin)','getMinutes','Manual\x20balancing\x20required','/backup/','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','balancing\x20resumes\x20when\x20cooldown\x20ends','getFullYear','Unknown\x20error\x20-\x20check\x20logs','closed','trade','running','API-key\x20format\x20invalid','initTickers()','\x20|\x20','NetworkError','toLowerCase','recovery','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','timestamp-issue','enabled','environment','max','\x20order:\x20','startnumber','bitvavo','buy','cooldown','5823QdqdKv','Cryptocom','offset','1064kfMhay','emojibuy','forEach','process\x20','marketcapsqrt','market','unlinkSync','bb-settings.json','watchTrades','USDP','configstate','red_yellow_blue',')\x20unknown\x20order:\x20','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','defaults','\x20API\x20secret\x20is\x20invalid','date','percentage','split','Placing\x20order\x20for:\x20','spot','InvalidOrder',')\x20|\x20exchange:\x20','\x20>\x20[DEBUG]\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','options','orderstatus','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','cancel','\x20attempts','get','starting-balances','has','Invalid\x20quantity','active','uncaughtException','Waited\x20','sortBy','Generated\x20PnL\x20data','Order\x20filled:\x20','remainingSymbols','Error\x20details:\x20','Portfolio\x20change\x20detected:\x20','watchOrders()','Trigger:\x20','\x20API\x20key\x20is\x20invalid','Huobi','Initializing\x20exchange:\x20already\x20done','event-history','fetchTickers','netoffset','initclient','total','includes','pop','fetchBalance()','value','2.3.5','test','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','customId','status','function','open','fromCodePoint','usd','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','openOrders',',\x20must\x20be\x20a\x203\x20digit\x20number','toUpperCase','Headless:\x20','side','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','market_cap','decode64','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','starting-balance-','4hiGGxw','createOrder','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','1\x20-\x20partially\x20FILLED\x20(','LOCKED','loading-canceled','2.6.0','<b>','Set\x20lock\x20orders\x20to:\x20','botname','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','setSandboxMode','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','2.6.23','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','reverse','Error\x20occurred:\x20','isEqual','Generating\x20PnL\x20data','addDays','padEnd','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','./version.json','Valid\x20balance\x20for\x20','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','lowdb','getMonth','<pre>','loadSymbols()','date-fns','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','portfolio','coin-loading-progress','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','operatorId','2.7.1','EUR','-------------------------------\x0a','stringify','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','recent20','getSeconds','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','getHours',':\x20Bot\x20','./config/','\x20has\x20a\x2024h\x20drop\x20of\x20','Order\x20amount\x20is\x20invalid:\x20','Bybit','getTime','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','Huobipro','Failed\x20to\x20load\x20coin\x20data\x20for\x20','quote','\x20minutes','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','/output-000.log','status\x20code\x20401','staging','resetHistory','highest','limit-high','199042oaODfv','testAPI()','timestamp','yargs/yargs','exchanges','coins','full','ETH','Stopped\x20fetching\x20balance\x20after\x20','keys','sort','findIndex','limit','25ajBRcT','detectLiquidityChange()','coin','util','ccxt','Binance','bots','Reset\x20|\x20','secure','kill','getDate','entries','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','\x20-\x20go\x20back\x20and\x20try\x20again','portfolio2','Bot\x20','portfolio1','Gateio','splice','apiPassword','testApi','\x20-\x20bot\x20not\x20started','write','last','complete','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','stack','RSA-OAEP','mkdirSync','remove','2\x20-\x20handling\x20FILLED\x20order:\x20','fetchTicker','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','path','InsufficientFunds','parse','slider','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','Error\x20in\x20loadSymbols():\x20','threshold','length','storeConfiguration','net','apiSecret','RateLimitExceeded','basecoin','2215563cBxVFT','placeOrder','time','cancelOrder','.json','timeshift','liquidity','\x20/\x20','Pausing\x20for\x20','0\x20-\x20EXECUTION:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Exchange','pki','secret','UNLOCKING','\x20|\x20Custom\x20ID:\x20','exchange','\x20>\x20details:','valid','Initiating\x20bot\x20restart','string','warning','average','price','Network\x20error\x20details:','Loading\x20completed','autoliquidity','MIN_NOTIONAL','slice','-results.json','Error:\x20Invalid\x20argument\x20','buys','send','No\x20more\x20open\x20orders\x20-\x20','isBefore','initial','Order\x20filled','logs','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','marketcapEnabled','symbol','substring','realizedPnL','number','distribution','set','none','Order\x20is\x20invalid:\x20','storeFiat','watchTrades()','log','Net\x20','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','production','USD'];_0x49ef=function(){return _0x4cd30d;};return _0x49ef();}async function sendPortfolioTelegram(){const _0x58e6d6=_0x805538;if(!coinsLoaded||!currentCoins[0x0][_0x58e6d6(0x2e3)]){process[_0x58e6d6(0x2d7)]({'telegrammsg':_0x58e6d6(0x2a9)},_0x2896c6=>{});return;}let _0x398251='';if(config[_0x58e6d6(0x1c4)])_0x398251=_0x58e6d6(0x244)+config[_0x58e6d6(0x246)]+_0x58e6d6(0x1c0);else _0x398251='<b>Bot\x20'+botID+_0x58e6d6(0x1c0);_0x398251+='<pre>',_0x398251+=_0x58e6d6(0x262),_0x398251+=_0x58e6d6(0x25b),_0x398251+='-------------------------------\x0a',currentCoins[_0x58e6d6(0x1f1)](_0x5f15ad=>{const _0x3403f5=_0x58e6d6;_0x398251+=_0x5f15ad[_0x3403f5(0x28a)][_0x3403f5(0x251)](0x7)+'|\x20'+formatPad(_0x5f15ad['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x5f15ad['target'],0x2,0x6)+'|\x20'+(_0x5f15ad[_0x3403f5(0x331)]==0x0?''[_0x3403f5(0x1cc)](0x6):formatPad(_0x5f15ad[_0x3403f5(0x30d)]*0x64,0x2,0x6))+'\x0a';}),_0x398251+=_0x58e6d6(0x327),process['send']({'telegrammsg':_0x398251},_0x2f4105=>{});}function formatPad(_0x300753,_0x2b6241,_0x9640c9){const _0x40ab08=_0x805538,_0x58475f=formatResultString(_0x300753,_0x2b6241);return _0x58475f?_0x58475f[_0x40ab08(0x1cc)](_0x9640c9):''[_0x40ab08(0x1cc)](_0x9640c9);}function logHistory(_0xca6767,_0x1da987,_0x57c091=''){const _0x336c65=_0x805538;logger[_0x336c65(0x281)](''+_0x1da987);let _0x5f4c32={'time':getTimeStamp(),'type':_0xca6767,'event':_0x1da987};dbLogs[_0x336c65(0x20e)](_0x336c65(0x2dc))['push'](_0x5f4c32)[_0x336c65(0x29e)]();if(_0x57c091=='')_0x57c091=_0x1da987;proxyEmit(_0x336c65(0x1a6),{'log':_0x5f4c32,'summary':_0x57c091}),process[_0x336c65(0x2d7)]({'telegram':{..._0x5f4c32,'botname':config[_0x336c65(0x246)],'showname':config[_0x336c65(0x1c4)]}},_0x12c98f=>{});}function emitHistory(_0x580d4d={}){const _0x1d270a=_0x805538;Object[_0x1d270a(0x284)](_0x580d4d)['length']==0x0&&(_0x580d4d={'type':[_0x1d270a(0x351),_0x1d270a(0x1a6)],'event':'','page':0x1});if(_0x580d4d[_0x1d270a(0x319)][_0x1d270a(0x225)](_0x1d270a(0x1a6)))_0x580d4d[_0x1d270a(0x319)][_0x1d270a(0x29a)](_0x580d4d[_0x1d270a(0x319)]['indexOf'](_0x1d270a(0x1a6)),0x1,'error','warning','success');if(dbLogs[_0x1d270a(0x210)](_0x1d270a(0x2dc))['value']()){let _0x5e3d65=dbLogs[_0x1d270a(0x20e)](_0x1d270a(0x2dc))['filter'](_0x40b61c=>{const _0x3500b4=_0x1d270a;if(_0x580d4d['type']['length']==0x0)return![];else return _0x580d4d[_0x3500b4(0x319)][_0x3500b4(0x225)](_0x40b61c[_0x3500b4(0x319)]);})[_0x1d270a(0x317)](_0x2db1bb=>{const _0x2a9843=_0x1d270a;if(_0x580d4d[_0x2a9843(0x1a6)]=='')return!![];else return _0x2db1bb[_0x2a9843(0x1a6)][_0x2a9843(0x1e0)]()[_0x2a9843(0x225)](_0x580d4d['event']['toLowerCase']());})[_0x1d270a(0x215)](_0x1d270a(0x2b9)),_0x5aa16c=_0x5e3d65[_0x1d270a(0x228)]()[_0x1d270a(0x2b1)];_0x5e3d65=_0x5e3d65[_0x1d270a(0x24c)]()[_0x1d270a(0x2d3)]((_0x580d4d['page']-0x1)*logPageSize,_0x580d4d[_0x1d270a(0x30a)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x1d270a(0x220),{'logs':_0x5e3d65,'total':_0x5aa16c});}else proxyEmit(_0x1d270a(0x220),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2add40){const _0x24c2c6=_0x805538;if(dbLogs[_0x24c2c6(0x210)](_0x24c2c6(0x2dc))[_0x24c2c6(0x228)]()){const _0x2b8b71=dbLogs['get']('logs')[_0x24c2c6(0x215)](_0x24c2c6(0x2b9))[_0x24c2c6(0x317)](_0x367463=>{const _0x34b2f5=_0x24c2c6;return _0x367463[_0x34b2f5(0x319)]==_0x34b2f5(0x351);})[_0x24c2c6(0x228)]();dbLogs['get'](_0x24c2c6(0x2dc))[_0x24c2c6(0x2a6)]()[_0x24c2c6(0x29e)](),dbLogs[_0x24c2c6(0x20e)](_0x24c2c6(0x2dc))[_0x24c2c6(0x368)](_0x2b8b71)[_0x24c2c6(0x29e)](),emitHistory(_0x2add40);}}async function pauseBot(_0x431508=pauseBotIntervalShort,_0x128b30,_0x3ad030,_0x5f0acd=![]){const _0x2fc930=_0x805538,_0x12636d=new Date()[_0x2fc930(0x26e)]();if(!lastErrorShown||_0x12636d-lastErrorShown>=_0x431508){lastErrorShown=_0x12636d;if(!lastBotPause)lastBotPause=_0x12636d,consecutivePauses=0x1;else{if(_0x12636d-lastBotPause-_0x431508<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x5f0acd){logHistory(_0x2fc930(0x338),_0x128b30+_0x2fc930(0x232)),await killBot();return;}else logHistory(_0x2fc930(0x338),_0x128b30+pauseBotMsg),_0x431508=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x12636d;}_0x3ad030?logger[_0x2fc930(0x2f1)]('('+consecutivePauses+')\x20'+_0x128b30+_0x2fc930(0x2c8),_0x3ad030):logger[_0x2fc930(0x2f1)]('('+consecutivePauses+')\x20'+_0x128b30);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x431508),botPaused=![],_0x431508==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x2e5118=_0x805538;botPaused=!![],await sleep(0x3e8),process['send']({'stop':_0x2e5118(0x291)},_0x3c7420=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x119108,_0x23442e,_0x3b24cb=![]){const _0xadc630=_0x805538;if(botPaused)return;let _0xd26b27;const _0x2edd7f=config[_0xadc630(0x2c7)]||_0xadc630(0x2c2);if(_0x23442e)logger[_0xadc630(0x2f1)]('Exception\x20thrown\x20in\x20'+_0x23442e);const _0x568bbe=()=>{const _0x4ae824=_0xadc630;loading[_0x4ae824(0x338)]=_0x4ae824(0x304),emitLoadingProgress();};if(_0x119108[_0xadc630(0x1ba)]()[_0xadc630(0x225)](_0xadc630(0x1dc)))logHistory(_0xadc630(0x338),_0x2edd7f+_0xadc630(0x32c)),_0x568bbe();else{if(_0x119108[_0xadc630(0x1ba)]()[_0xadc630(0x225)](_0xadc630(0x20a)))logHistory(_0xadc630(0x338),_0x2edd7f+_0xadc630(0x1e2)),_0x568bbe();else{if(_0x119108[_0xadc630(0x1ba)]()[_0xadc630(0x225)]('AuthenticationError'))config[_0xadc630(0x29b)]?_0xd26b27=_0x2edd7f+_0xadc630(0x249):_0xd26b27=_0x2edd7f+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0xadc630(0x338),_0xd26b27+_0xadc630(0x1c8)),_0x568bbe();else{if(_0x119108[_0xadc630(0x1ba)]()['includes'](_0xadc630(0x2fe)))logHistory('error',_0x2edd7f+_0xadc630(0x315)),_0x568bbe();else{if(!_0x3b24cb)await handleError(_0x119108,null);}}}}}async function handleError(_0x5ea23d,_0x1c9e9d,_0x2e98c8=''){const _0x27a3f4=_0x805538;if(botPaused)return;let _0x13d6f6;const _0x2713b1=config[_0x27a3f4(0x2c7)]||_0x27a3f4(0x2c2);if(_0x1c9e9d)logger[_0x27a3f4(0x2f1)](_0x27a3f4(0x1ab)+_0x1c9e9d);if(_0x5ea23d['toString']()[_0x27a3f4(0x225)]('DDoSProtection'))_0x13d6f6=_0x2713b1+_0x27a3f4(0x2dd),await pauseBot(undefined,_0x13d6f6,_0x5ea23d);else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)](_0x27a3f4(0x2b5)))_0x13d6f6=_0x2713b1+_0x27a3f4(0x195),await pauseBot(undefined,_0x13d6f6,_0x5ea23d);else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()['includes'](_0x27a3f4(0x2f3))||_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)]('OnMaintenance'))_0x13d6f6=_0x2713b1+_0x27a3f4(0x25e),await pauseBot(undefined,_0x13d6f6,_0x5ea23d[_0x27a3f4(0x1ba)]());else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)]('RequestTimeout'))_0x13d6f6=_0x2713b1+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x13d6f6,_0x5ea23d[_0x27a3f4(0x1ba)]());else{if(_0x5ea23d['toString']()['includes'](_0x27a3f4(0x356)))_0x13d6f6=_0x2713b1+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x13d6f6,_0x5ea23d[_0x27a3f4(0x1ba)]());else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x1e0)]()['includes'](_0x27a3f4(0x27d))||_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x1e0)]()['includes']('request-time'))_0x13d6f6=_0x27a3f4(0x294),await pauseBot(undefined,_0x13d6f6,_0x5ea23d[_0x27a3f4(0x1ba)]());else{if(_0x5ea23d['toString']()['includes']('InvalidNonce'))_0x13d6f6=_0x2713b1+_0x27a3f4(0x2a1),await pauseBot(undefined,_0x13d6f6,_0x5ea23d[_0x27a3f4(0x1ba)]());else{if(_0x5ea23d instanceof ccxt[_0x27a3f4(0x1df)])_0x13d6f6=_0x2713b1+'\x20network\x20error:\x20'+_0x5ea23d['toString'](),logger[_0x27a3f4(0x2f1)](_0x27a3f4(0x2cf),_0x5ea23d),await pauseBot(undefined,_0x13d6f6,_0x5ea23d);else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)](_0x27a3f4(0x1dc)))logHistory(_0x27a3f4(0x338),_0x2713b1+_0x27a3f4(0x21d)),logHistory(_0x27a3f4(0x338),_0x27a3f4(0x316)),await killBot();else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x27a3f4(0x338),_0x2713b1+_0x27a3f4(0x1fe)),logHistory(_0x27a3f4(0x338),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)](_0x27a3f4(0x19f))&&_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)](_0x27a3f4(0x303)))_0x13d6f6=_0x2713b1+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)',await pauseBot(undefined,_0x13d6f6,_0x5ea23d,!![]);else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()['includes'](_0x27a3f4(0x19f)))config[_0x27a3f4(0x29b)]?_0x13d6f6=_0x2713b1+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x13d6f6=_0x2713b1+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x27a3f4(0x338),_0x13d6f6),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x5ea23d['toString']()[_0x27a3f4(0x225)](_0x27a3f4(0x2fe)))logHistory(_0x27a3f4(0x338),_0x2713b1+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x27a3f4(0x338),_0x27a3f4(0x316)),await killBot();else{if(_0x5ea23d[_0x27a3f4(0x1ba)]()[_0x27a3f4(0x225)](_0x27a3f4(0x2ab)))logHistory(_0x27a3f4(0x338),_0x27a3f4(0x2ee)+_0x2e98c8),logger[_0x27a3f4(0x2f1)](_0x27a3f4(0x2ff),_0x5ea23d);else{if(_0x5ea23d instanceof ccxt[_0x27a3f4(0x355)]){_0x13d6f6=_0x2713b1+'\x20exchange\x20error:\x20'+_0x5ea23d['toString']();if(_0x2e98c8)_0x13d6f6+=_0x27a3f4(0x335)+_0x2e98c8;await pauseBot(undefined,_0x13d6f6,_0x5ea23d);}else{_0x13d6f6='Unknown\x20error:\x20'+_0x5ea23d['toString']();if(_0x2e98c8)_0x13d6f6+=_0x27a3f4(0x335)+_0x2e98c8;await pauseBot(undefined,_0x13d6f6);}}}}}}}}}}}}}}}}function decryptRSA(_0x4ad39c,_0x916bf){const _0x3ed8e2=_0x805538,_0x36d822=forge[_0x3ed8e2(0x2c3)][_0x3ed8e2(0x32f)](_0x4ad39c),_0x332796=_0x36d822[_0x3ed8e2(0x35a)](forge[_0x3ed8e2(0x28b)][_0x3ed8e2(0x23a)](_0x916bf),_0x3ed8e2(0x2a4),{'md':forge['md'][_0x3ed8e2(0x1cf)][_0x3ed8e2(0x2fd)](),'mgf1':{'md':forge['md'][_0x3ed8e2(0x1cf)][_0x3ed8e2(0x2fd)]()}});return _0x332796;}async function withRetry(_0x811538,_0x368c2d){const _0x3b337d=_0x805538;let _0x43e664=![],_0x268841=0x0,_0x172234,_0x25cea9;while(_0x268841<maxRetries){try{_0x172234=await _0x368c2d();break;}catch(_0x2c74e9){_0x25cea9=_0x2c74e9,!_0x43e664?(_0x43e664=!![],logger[_0x3b337d(0x2f1)]('RETRY\x20-\x20Error\x20in\x20'+_0x811538+':',_0x2c74e9[_0x3b337d(0x1ba)]())):await sleep(retryInterval);}_0x268841++;}if(_0x268841==0x0)return _0x172234;if(_0x268841>=maxRetries)throw _0x25cea9;else return logger[_0x3b337d(0x2f1)](_0x3b337d(0x1ca)+_0x268841+_0x3b337d(0x20d)),_0x172234;}function formatResult(_0x246070,_0x5704fb){const _0xfb1ee4=_0x805538;return parseFloat(_0x246070[_0xfb1ee4(0x1aa)](_0x5704fb));}function formatResultTruncate(_0xa867ce,_0x4aa31b){const _0x24c43b=_0x805538;let _0x1e202e=formatResultString(_0xa867ce,0xa),_0x3fb41a=_0x1e202e['indexOf']('.');return _0x3fb41a!=-0x1&&(_0x1e202e=_0x1e202e[_0x24c43b(0x2d3)](0x0,_0x3fb41a+_0x4aa31b+0x1)),Number(_0x1e202e);}function formatResultString(_0x40637e,_0x4fe78d){const _0x64987b=_0x805538;let _0x32f726;if(!(''+_0x40637e)['includes']('e'))_0x32f726=+(Math['round'](_0x40637e+'e+'+_0x4fe78d)+'e-'+_0x4fe78d);else{let _0x5c1675=(''+_0x40637e)[_0x64987b(0x201)]('e'),_0x31ea94='';+_0x5c1675[0x1]+_0x4fe78d>0x0&&(_0x31ea94='+'),_0x32f726=+(Math[_0x64987b(0x1cb)](+_0x5c1675[0x0]+'e'+_0x31ea94+(+_0x5c1675[0x1]+_0x4fe78d))+'e-'+_0x4fe78d);}return Number(_0x32f726)[_0x64987b(0x1aa)](_0x4fe78d);}function getServerTime(){const _0x5f0242=_0x805538,_0x24b634=new Date();return _0x24b634[_0x5f0242(0x1d7)]()+'/'+(_0x24b634[_0x5f0242(0x257)]()+0x1)[_0x5f0242(0x1ba)]()[_0x5f0242(0x1cc)](0x2,'0')+'/'+_0x24b634['getDate']()['toString']()[_0x5f0242(0x1cc)](0x2,'0')+'\x20'+_0x24b634[_0x5f0242(0x268)]()[_0x5f0242(0x1ba)]()[_0x5f0242(0x1cc)](0x2,'0')+':'+_0x24b634['getMinutes']()[_0x5f0242(0x1ba)]()[_0x5f0242(0x1cc)](0x2,'0')+':'+_0x24b634[_0x5f0242(0x266)]()[_0x5f0242(0x1ba)]()[_0x5f0242(0x1cc)](0x2,'0');}function getTimeStamp(){const _0x46ef98=_0x805538,_0x188404=shiftedTime();return _0x188404[_0x46ef98(0x1d7)]()+'/'+(_0x188404[_0x46ef98(0x257)]()+0x1)[_0x46ef98(0x1ba)]()[_0x46ef98(0x1cc)](0x2,'0')+'/'+_0x188404['getDate']()[_0x46ef98(0x1ba)]()['padStart'](0x2,'0')+'\x20'+_0x188404['getHours']()['toString']()[_0x46ef98(0x1cc)](0x2,'0')+':'+_0x188404[_0x46ef98(0x1d2)]()[_0x46ef98(0x1ba)]()['padStart'](0x2,'0')+':'+_0x188404[_0x46ef98(0x266)]()[_0x46ef98(0x1ba)]()[_0x46ef98(0x1cc)](0x2,'0');}function getDate(){const _0x4bcacc=_0x805538,_0x28d367=shiftedTime();return _0x28d367[_0x4bcacc(0x1d7)]()+'/'+(_0x28d367[_0x4bcacc(0x257)]()+0x1)[_0x4bcacc(0x1ba)]()[_0x4bcacc(0x1cc)](0x2,'0')+'/'+_0x28d367[_0x4bcacc(0x292)]()[_0x4bcacc(0x1ba)]()[_0x4bcacc(0x1cc)](0x2,'0');}function getHour(){const _0x242d0d=_0x805538,_0x3f381=shiftedTime();return _0x3f381[_0x242d0d(0x268)]()['toString']()[_0x242d0d(0x1cc)](0x2,'0');}function sleep(_0x588545){return new Promise(_0xda64cf=>setTimeout(_0xda64cf,_0x588545));}function shiftedTime(){const _0x32fe95=_0x805538,_0x3c4513=new Date();let _0x3d3714=_0x3c4513;if(config&&config[_0x32fe95(0x2bc)]!==0x0)_0x3d3714=fns[_0x32fe95(0x343)](_0x3c4513,{'hours':config['timeshift']});return _0x3d3714;}function timer(_0x420ac5){const _0x381063=_0x805538,_0x2cf7e7=new Date();!lasttime?console['log'](getTimeStamp()+_0x381063(0x33c),_0x420ac5,_0x2cf7e7):console['log'](getTimeStamp()+_0x381063(0x33c),_0x420ac5,(_0x2cf7e7-lasttime)/0x3e8),lasttime=_0x2cf7e7;}