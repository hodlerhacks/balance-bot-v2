const _0xbab98b=_0x5a58;(function(_0x5b729d,_0x233168){const _0x35341d=_0x5a58,_0x399317=_0x5b729d();while(!![]){try{const _0x31f3bc=parseInt(_0x35341d(0x1ed))/0x1*(parseInt(_0x35341d(0x16e))/0x2)+-parseInt(_0x35341d(0x272))/0x3+parseInt(_0x35341d(0x240))/0x4+-parseInt(_0x35341d(0x204))/0x5+parseInt(_0x35341d(0x137))/0x6*(-parseInt(_0x35341d(0x10f))/0x7)+parseInt(_0x35341d(0x276))/0x8*(parseInt(_0x35341d(0x118))/0x9)+parseInt(_0x35341d(0x165))/0xa*(parseInt(_0x35341d(0x283))/0xb);if(_0x31f3bc===_0x233168)break;else _0x399317['push'](_0x399317['shift']());}catch(_0x37fb6f){_0x399317['push'](_0x399317['shift']());}}}(_0x380e,0x2a9c7));const _0x554b5a=function(){let _0x4d17f7=!![];return function(_0x4d3dbe,_0x28a7f9){const _0x1553c8=_0x4d17f7?function(){const _0x269b53=_0x5a58;if(_0x28a7f9){const _0x168a2b=_0x28a7f9[_0x269b53(0x19b)](_0x4d3dbe,arguments);return _0x28a7f9=null,_0x168a2b;}}:function(){};return _0x4d17f7=![],_0x1553c8;};}(),_0x494a86=_0x554b5a(this,function(){const _0x3b6765=_0x5a58;return _0x494a86[_0x3b6765(0x267)]()[_0x3b6765(0x2d7)]('(((.+)+)+)+$')[_0x3b6765(0x267)]()[_0x3b6765(0x1d2)](_0x494a86)[_0x3b6765(0x2d7)]('(((.+)+)+)+$');});_0x494a86();'use strict';const ccxt=require(_0xbab98b(0x15f)),low=require(_0xbab98b(0x1a0)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0xbab98b(0x216)),forge=require(_0xbab98b(0x11c)),util=require(_0xbab98b(0x203)),argv=require('yargs/yargs')(process['argv'][_0xbab98b(0x1f6)](0x2))['argv'],path=require(_0xbab98b(0x11e)),axios=require(_0xbab98b(0x1f8));let exchange,gTicker={},gChange={};const usdBasecoins=[_0xbab98b(0x115),_0xbab98b(0x1ff),_0xbab98b(0x217),_0xbab98b(0x21e),_0xbab98b(0x140),_0xbab98b(0x1c1)],excludedExchanges=[_0xbab98b(0x188)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xbab98b(0x170)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0xbab98b(0x197)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0xbab98b(0x1df)+pauseBotInterval/0xea60+_0xbab98b(0x125),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0xbab98b(0x238))[_0xbab98b(0x181)],environment=require('./version.json')['environment']||_0xbab98b(0x2c6),botID=process[_0xbab98b(0x192)][0x2]||_0xbab98b(0x151),pattern=/^[0-9]{3}$/;!pattern[_0xbab98b(0x18d)](botID)&&(console[_0xbab98b(0x104)](_0xbab98b(0x132)+botID+_0xbab98b(0x2b4)),killBot());const userID=process[_0xbab98b(0x192)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0xbab98b(0x15c),logspath=userID?'./logs/'+userID+'/':_0xbab98b(0x100),loggerfile=fs[_0xbab98b(0x21d)](logspath+_0xbab98b(0x146),{'flags':'a'});!fs[_0xbab98b(0x1d4)](configpath)&&fs[_0xbab98b(0x1e0)](configpath);!fs[_0xbab98b(0x1d4)](logspath)&&fs[_0xbab98b(0x1e0)](logspath);const configfile=configpath+_0xbab98b(0x1ca)+botID+'-config.json',logfile=configpath+_0xbab98b(0x1ca)+botID+_0xbab98b(0x174),performancefile=configpath+_0xbab98b(0x1ca)+botID+_0xbab98b(0x236),coinresultsfile=configpath+'bot-'+botID+_0xbab98b(0x26b),settingsfile=configpath+_0xbab98b(0x15d),securefile=configpath+_0xbab98b(0x223),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0xbab98b(0x221)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xbab98b(0x27f)]({'data':[],'version':serverversion})[_0xbab98b(0x221)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xbab98b(0x27f)]({'bot':[],'version':serverversion})[_0xbab98b(0x221)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xbab98b(0x27f)]({'coins':{},'version':serverversion})[_0xbab98b(0x221)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x59bbad=>{const _0x14f68b=_0xbab98b;console[_0x14f68b(0x104)](_0x59bbad);},'simple':_0x1ee189=>{const _0x77dd43=_0xbab98b;console[_0x77dd43(0x104)](_0x1ee189),loggerfile['write'](util[_0x77dd43(0x262)](_0x1ee189)+'\x0a');},'full':async(_0x431814,_0x172617='')=>{const _0x3abb6c=_0xbab98b;let _0x2ba15e;if(config['showname'])_0x2ba15e=getTimeStamp()+':\x20'+config[_0x3abb6c(0x2c2)]+_0x3abb6c(0x1bc)+_0x431814;else _0x2ba15e=getTimeStamp()+_0x3abb6c(0x251)+botID+_0x3abb6c(0x1bc)+_0x431814;console[_0x3abb6c(0x104)](_0x2ba15e),loggerfile[_0x3abb6c(0x221)](util['format'](_0x2ba15e)+'\x0a'),_0x172617&&(console[_0x3abb6c(0x104)](_0x172617),loggerfile[_0x3abb6c(0x221)](util[_0x3abb6c(0x262)](_0x172617)+'\x0a'));},'debug':async(_0x1ff3f6,_0x43a8fc='')=>{const _0x3112bb=_0xbab98b;let _0x14e4b8;if(config[_0x3112bb(0x288)])_0x14e4b8=getTimeStamp()+':\x20'+config[_0x3112bb(0x2c2)]+_0x3112bb(0x135)+_0x1ff3f6;else _0x14e4b8=getTimeStamp()+_0x3112bb(0x251)+botID+'\x20>\x20[DEBUG]\x20'+_0x1ff3f6;if(debugging)console[_0x3112bb(0x104)](_0x14e4b8);loggerfile[_0x3112bb(0x221)](util[_0x3112bb(0x262)](_0x14e4b8)+'\x0a');if(_0x43a8fc){if(debugging)console['log'](_0x43a8fc);loggerfile[_0x3112bb(0x221)](util[_0x3112bb(0x262)](_0x43a8fc)+'\x0a');}}};process['on'](_0xbab98b(0x11d),function(_0x79edea){const _0x249cfa=_0xbab98b;handleError(_0x79edea[_0x249cfa(0x2a4)],'uncaughtException');});settings[_0xbab98b(0x158)]!=config[_0xbab98b(0x158)]&&updateTimeshift(settings[_0xbab98b(0x158)]);settings[_0xbab98b(0x166)]!=config[_0xbab98b(0x166)]&&updateOnepagemode(settings['onepagemode']);(settings['marketcapApi']&&!config[_0xbab98b(0x13a)]||!settings[_0xbab98b(0x13a)]&&config['marketcapApi'])&&updateMarketcapApi(settings['marketcapApi']);process['send']({'started':'running'},_0x498a5f=>{}),initializeProcessListeners();function proxyEmit(_0x2ed45c,_0x42ca47=null){const _0x4e3acc=_0xbab98b;process[_0x4e3acc(0x16d)]({'function':_0x2ed45c,'args':_0x42ca47},_0x10bee6=>{});}function initializeProcessListeners(){const _0x1b023f=_0xbab98b;process['on'](_0x1b023f(0x1e3),_0xe06675=>{const _0x15cb53=_0x1b023f;switch(Object[_0x15cb53(0x19e)](_0xe06675)[0x0]){case _0x15cb53(0x158):_0xe06675[_0x15cb53(0x158)]!=undefined&&(settings[_0x15cb53(0x158)]=_0xe06675['timeshift'],updateTimeshift(settings[_0x15cb53(0x158)]));break;case _0x15cb53(0x166):_0xe06675[_0x15cb53(0x166)]!=undefined&&(settings[_0x15cb53(0x166)]=_0xe06675['onepagemode'],updateOnepagemode(settings[_0x15cb53(0x166)]));break;case _0x15cb53(0x13a):_0xe06675[_0x15cb53(0x13a)]!=undefined&&(settings[_0x15cb53(0x13a)]=_0xe06675[_0x15cb53(0x13a)],updateMarketcapApi(settings[_0x15cb53(0x13a)]));break;case'bots':_0xe06675['bots']!=undefined&&(bots=JSON['parse'](_0xe06675[_0x15cb53(0x23c)]),proxyEmit(_0x15cb53(0x23c),bots));break;case _0x15cb53(0x29a):switch(_0xe06675[_0x15cb53(0x29a)]){case _0x15cb53(0x2a8):initclient();break;case _0x15cb53(0x241):toggleBotMode();break;case _0x15cb53(0x159):emitHistory(_0xe06675[_0x15cb53(0x1d0)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0xe06675[_0x15cb53(0x1d0)]);break;case _0x15cb53(0x1f1):getPortfolio(_0xe06675[_0x15cb53(0x1d0)]);break;case'storeConfiguration':storeConfiguration(_0xe06675[_0x15cb53(0x1d0)]);break;case _0x15cb53(0x25f):storeHeadless(_0xe06675[_0x15cb53(0x1d0)]);break;case _0x15cb53(0x2a2):storeFiat(_0xe06675[_0x15cb53(0x1d0)]);break;case _0x15cb53(0x1c5):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x15cb53(0x23d):placeOrder(_0xe06675['args']);break;case _0x15cb53(0x2c9):cancelLoading();break;case _0x15cb53(0x258):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x15cb53(0x2dc):sendPortfolioTelegram();break;}}});}function _0x5a58(_0x1bfbfd,_0xa2b610){const _0x207e83=_0x380e();return _0x5a58=function(_0x494a86,_0x554b5a){_0x494a86=_0x494a86-0x100;let _0x380ece=_0x207e83[_0x494a86];return _0x380ece;},_0x5a58(_0x1bfbfd,_0xa2b610);}reset(!![]);async function reset(_0x22d89f=![]){const _0xfbc926=_0xbab98b;logger[_0xfbc926(0x295)](_0xfbc926(0x2d1)+(_0x22d89f?_0xfbc926(0x228):'no\x20exchange\x20reloaded')+'\x20|\x20exchange:\x20'+config[_0xfbc926(0x1cc)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config['apiKey']!=''&&config[_0xfbc926(0x193)]!=_0xfbc926(0x2a5)){loadingProgress=0x0;if(_0x22d89f){await initExchange();const _0x5ab3ce=await testAPI();if(!_0x5ab3ce)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0xfbc926(0x2d3),emittedConfiguration()),initialPerformanceStored=![];}const _0x35e348=await getCoins();[currentCoins,currentCoinsAll]=_0x35e348,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0xfbc926(0x295)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0xfbc926(0x271)]==0x0&&allOpenOrders[_0xfbc926(0x271)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x1a4881=![]){const _0x114754=_0xbab98b;logger['debug'](_0x114754(0x278)+(_0x1a4881?'quick':_0x114754(0x122))+_0x114754(0x2da)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x1a4881){getBalances();return;}coinsLoaded=![];if(config[_0x114754(0x193)]!=''&&config['apiKey']!=_0x114754(0x2a5)){loadingProgress=0x1;const _0x451a90=await getCoins();[currentCoins,currentCoinsAll]=_0x451a90,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x114754(0x295)](_0x114754(0x208)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x2ac2eb){const _0x26cc8a=_0xbab98b;let _0x139cbe=![];if(_0x2ac2eb)_0x139cbe=!![];const _0x4aa382=_0x139cbe?_0x2ac2eb:currentCoins,_0x5a0d17=_0x4aa382['map'](_0x497a2c=>_0x497a2c[_0x26cc8a(0x14b)]);if(!config[_0x26cc8a(0x13a)]||!_0x139cbe&&!config[_0x26cc8a(0x213)]||_0x5a0d17[_0x26cc8a(0x271)]==0x0)return;let _0x22165e=null;try{_0x22165e=await axios[_0x26cc8a(0x2bf)](_0x26cc8a(0x138),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x26cc8a(0x13a)]},'params':{'symbol':_0x5a0d17[_0x26cc8a(0x267)]()}});}catch(_0x3f3a0b){_0x22165e=null,_0x3f3a0b[_0x26cc8a(0x267)]()[_0x26cc8a(0x1b8)]('status\x20code\x20401')?(config[_0x26cc8a(0x13a)]=![],updateConfig(),proxyEmit(_0x26cc8a(0x2d3),emittedConfiguration()),logHistory(_0x26cc8a(0x2b2),_0x26cc8a(0x227))):(logHistory(_0x26cc8a(0x2b2),_0x26cc8a(0x1f3)+schedulerInterval/(0x3c*0x3e8)+_0x26cc8a(0x125)),logger[_0x26cc8a(0x295)]('Error\x20details:',_0x3f3a0b[_0x26cc8a(0x267)]()+_0x26cc8a(0x2df)+_0x3f3a0b[_0x26cc8a(0x202)]));}const _0x4c6d7d=new Map();let _0x42d290=!![];if(_0x22165e){let _0x267ff6=0x0;const _0xd88715=_0x22165e[_0x26cc8a(0x29d)];_0x5a0d17[_0x26cc8a(0x1f5)](_0x3a9ea3=>{const _0x3e894c=_0x26cc8a;if(_0xd88715[_0x3e894c(0x29d)][_0x3a9ea3][0x0]&&_0xd88715[_0x3e894c(0x29d)][_0x3a9ea3][0x0][_0x3e894c(0x191)][_0x3e894c(0x115)][_0x3e894c(0x1eb)])_0x4c6d7d[_0x3e894c(0x200)](_0x3a9ea3,_0xd88715['data'][_0x3a9ea3][0x0][_0x3e894c(0x191)][_0x3e894c(0x115)][_0x3e894c(0x1eb)]),_0x267ff6+=_0xd88715[_0x3e894c(0x29d)][_0x3a9ea3][0x0][_0x3e894c(0x191)][_0x3e894c(0x115)][_0x3e894c(0x1eb)];else{if(_0xd88715[_0x3e894c(0x29d)][_0x3a9ea3][0x0]&&_0xd88715[_0x3e894c(0x29d)][_0x3a9ea3][0x0][_0x3e894c(0x1af)])_0x4c6d7d[_0x3e894c(0x200)](_0x3a9ea3,_0xd88715[_0x3e894c(0x29d)][_0x3a9ea3][0x0][_0x3e894c(0x1af)]),_0x267ff6+=_0xd88715[_0x3e894c(0x29d)][_0x3a9ea3][0x0]['self_reported_market_cap'];else{if(!['EUR',_0x3e894c(0x115)]['includes'](_0x3a9ea3)){if(_0x139cbe)logHistory(_0x3e894c(0x2b2),_0x3e894c(0x250)+_0x3a9ea3+_0x3e894c(0x1dd));else{const _0x2c2cd1=config[_0x3e894c(0x220)]['find'](_0x3c2a0f=>_0x3c2a0f[_0x3e894c(0x14b)]==_0x3a9ea3);_0x2c2cd1&&!_0x2c2cd1[_0x3e894c(0x1ac)]&&_0x2c2cd1[_0x3e894c(0x23e)]==-0x1&&(_0x42d290=![],logHistory(_0x3e894c(0x2b2),_0x3e894c(0x232)),logger['debug'](_0x3e894c(0x250)+_0x3a9ea3));}}}}});if(!_0x42d290)return;_0x5a0d17[_0x26cc8a(0x1f5)](_0x12409f=>{const _0x41d12e=_0x26cc8a,_0x1c69f8=_0x4c6d7d[_0x41d12e(0x2bf)](_0x12409f)?_0x4c6d7d[_0x41d12e(0x2bf)](_0x12409f):0x0;if(_0x139cbe){const _0x23c77c=_0x2ac2eb['find'](_0x45c390=>_0x45c390[_0x41d12e(0x14b)]==_0x12409f);_0x23c77c&&(_0x23c77c[_0x41d12e(0x17f)]=_0x1c69f8);}else{const _0x3228f4=currentCoins['find'](_0x569aa6=>_0x569aa6[_0x41d12e(0x14b)]==_0x12409f);_0x3228f4&&(_0x3228f4[_0x41d12e(0x17f)]=_0x1c69f8);const _0x1ba805=currentCoinsAll[_0x41d12e(0x1b2)](_0x5244b9=>_0x5244b9[_0x41d12e(0x14b)]==_0x12409f);_0x1ba805&&(_0x1ba805[_0x41d12e(0x17f)]=_0x1c69f8);}}),!_0x139cbe&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x38d3f3=_0xbab98b,_0x10d869=0x2;let _0x51070a=0x0,_0x5d9d0b=0x0,_0xcea63a=0x0,_0x374c26=0x0,_0x1c4b20=0x0;config[_0x38d3f3(0x220)][_0x38d3f3(0x1f5)](_0x24102a=>{const _0x29d434=_0x38d3f3;if(!_0x24102a['excluded']){_0xcea63a++,_0x51070a+=_0x24102a[_0x29d434(0x23e)];if(_0x24102a['slider']===-0x1){_0x51070a++;const _0x1623c2=currentCoinsAll['find'](_0x511f52=>_0x511f52[_0x29d434(0x14b)]==_0x24102a['coin']);_0x1623c2&&(_0x374c26+=_0x1623c2['marketcap'],_0x1c4b20+=Math[_0x29d434(0x2d0)](_0x1623c2[_0x29d434(0x17f)]));}if(_0x24102a['slider']!==-0x1)_0x5d9d0b++;}});let _0xe5f8b4;const _0x2ed9f3=0x64-_0x51070a,_0x2e24fe=_0xcea63a-_0x5d9d0b;_0xe5f8b4=_0x2e24fe===0x0?_0x51070a:Math['max'](0x64,_0x51070a),config['portfolio'][_0x38d3f3(0x1f5)](_0x4d6c8=>{const _0x179980=_0x38d3f3,_0x1e71bd=currentCoinsAll[_0x179980(0x1b2)](_0x724f6d=>_0x724f6d[_0x179980(0x14b)]==_0x4d6c8[_0x179980(0x14b)]);_0x1e71bd&&(_0x4d6c8['marketcap']=_0x1e71bd[_0x179980(0x17f)]);if(!_0x4d6c8[_0x179980(0x1ac)]){if(_0xe5f8b4<=0x64){if(_0x4d6c8['slider']===-0x1){if(_0x374c26!==0x0&&config[_0x179980(0x213)]){if(_0x1e71bd){if(config[_0x179980(0x213)]==_0x179980(0x17f))_0x4d6c8['distribution']=(_0x2ed9f3/(_0x374c26/_0x1e71bd[_0x179980(0x17f)]))[_0x179980(0x281)](_0x10d869);else config[_0x179980(0x213)]=='marketcapsqrt'&&(_0x4d6c8[_0x179980(0x225)]=(_0x2ed9f3/(_0x1c4b20/Math[_0x179980(0x2d0)](_0x1e71bd[_0x179980(0x17f)])))[_0x179980(0x281)](_0x10d869));}}}}}}),updateConfig();}function updateConfig(){const _0xfa78fd=_0xbab98b;let _0x4ad0df=dbConfig[_0xfa78fd(0x2bf)](_0xfa78fd(0x12b))['find']({'botID':botID})['value']();_0x4ad0df&&dbConfig[_0xfa78fd(0x2bf)](_0xfa78fd(0x12b))[_0xfa78fd(0x1b2)]({'botID':botID})[_0xfa78fd(0x229)](config)[_0xfa78fd(0x221)]();}function logMemory(){const _0x3aa1a4=_0xbab98b;if(environment!=_0x3aa1a4(0x13d))return;const _0x1acfa7=process[_0x3aa1a4(0x187)]()[_0x3aa1a4(0x265)]/0x400/0x400;logger[_0x3aa1a4(0x295)](_0x3aa1a4(0x26d)+process['pid']+_0x3aa1a4(0x18a)+formatResult(_0x1acfa7,0x1)+_0x3aa1a4(0x207));}async function startScheduler(){const _0x2d7bcc=_0xbab98b,_0x5f4524=shiftedTime()[_0x2d7bcc(0x1be)]();getMarketCap(),loadSymbols(),_0x5f4524==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x41c4ee=![]){const _0x774d0b=_0xbab98b;logger[_0x774d0b(0x295)](_0x774d0b(0x259));if(!_0x41c4ee)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x774d0b(0x16d)]({'stop':_0x774d0b(0x275)},_0x42f113=>{});}async function initExchange(_0x181452=config[_0xbab98b(0x1cc)],_0x51f7fe=config[_0xbab98b(0x193)],_0x1a67c6=config['apiSecret'],_0x1587a1=config[_0xbab98b(0x162)],_0x162646=config[_0xbab98b(0x134)]){const _0x566675=_0xbab98b;if(exchange){logger[_0x566675(0x295)](_0x566675(0x22f));return;}logger[_0x566675(0x295)](_0x566675(0x1b7));!supportedExchanges()[_0x566675(0x1b8)](_0x181452)&&(logHistory(_0x566675(0x2b2),_0x566675(0x108)+_0x181452+_0x566675(0x2a9)),killBot());const _0x37abb5=ccxt['pro'][_0x181452[_0x566675(0x13b)]()];exchange=new _0x37abb5({'apiKey':_0x51f7fe,'secret':_0x1a67c6,'options':{'defaultType':'spot'}});if(_0x1587a1)exchange['password']=_0x1587a1;if(exchange[_0x566675(0x2c8)][_0x566675(0x134)])exchange[_0x566675(0x2b7)](_0x162646);if(_0x181452[_0x566675(0x13b)]()==_0x566675(0x185))exchange[_0x566675(0x121)][_0x566675(0x261)]=operatorId;}function updateExchange(_0x3530ad,_0x20bac2,_0x586a41=null){const _0x357553=_0xbab98b;exchange[_0x357553(0x193)]=_0x3530ad,exchange[_0x357553(0x2a3)]=_0x20bac2,exchange['password']=_0x586a41,logger[_0x357553(0x295)](_0x357553(0x2b9));}function setStableCoins(){const _0x332b2a=_0xbab98b;let _0x496e24=config[_0x332b2a(0x1ec)]==_0x332b2a(0x19a)?_0x332b2a(0x19a):config[_0x332b2a(0x1ec)]=='PAXG'?_0x332b2a(0x274):'BTC',_0x4974f6=allSymbols[_0x332b2a(0x1b8)](_0x496e24+_0x332b2a(0x1d8))?_0x332b2a(0x115):allSymbols[_0x332b2a(0x1b8)](_0x496e24+_0x332b2a(0x103))?_0x332b2a(0x21e):allSymbols[_0x332b2a(0x1b8)](_0x496e24+'/USDC')?'USDC':_0x332b2a(0x1e2),_0x50f659=allSymbols[_0x332b2a(0x1b8)](_0x496e24+_0x332b2a(0x2d5))?_0x332b2a(0x1e2):_0x4974f6;enableFiatToggle=!![],_0x4974f6==_0x332b2a(0x1e2)&&(enableFiatToggle=![],storeFiat(_0x332b2a(0x1e2))),_0x50f659!=_0x332b2a(0x1e2)&&(enableFiatToggle=![],storeFiat('USD')),stablecoins={'eur':{'coin':''+_0x496e24+_0x50f659,'symbol':_0x496e24+'/'+_0x50f659},'usd':{'coin':''+_0x496e24+_0x4974f6,'symbol':_0x496e24+'/'+_0x4974f6}};}async function initwsCcxt(){const _0x57a8d3=_0xbab98b;initCycle++;const _0x47e8a6=initCycle;let _0x476088=[];config[_0x57a8d3(0x220)][_0x57a8d3(0x1f5)](_0x3b9530=>{const _0x3bc884=_0x57a8d3;if(!_0x3b9530[_0x3bc884(0x1ac)]&&_0x3b9530[_0x3bc884(0x14b)]!=config[_0x3bc884(0x1ec)])_0x476088[_0x3bc884(0x195)](_0x3b9530[_0x3bc884(0x152)]);});if(!_0x476088['includes'](stablecoins[_0x57a8d3(0x14d)][_0x57a8d3(0x152)]))_0x476088[_0x57a8d3(0x195)](stablecoins[_0x57a8d3(0x14d)][_0x57a8d3(0x152)]);if(!_0x476088[_0x57a8d3(0x1b8)](stablecoins[_0x57a8d3(0x1fa)][_0x57a8d3(0x152)]))_0x476088[_0x57a8d3(0x195)](stablecoins[_0x57a8d3(0x1fa)][_0x57a8d3(0x152)]);loadCoins(_0x476088),_0x476088=validateSymbols(_0x476088);const _0x50da78=async _0x20fa6d=>{const _0x44654b=_0x57a8d3;let _0x36c7b4;try{const _0x470364=await getTickers(_0x20fa6d);Object[_0x44654b(0x1fb)](_0x470364)['forEach'](_0x5ba3b2=>{const _0x3c0eea=_0x44654b;_0x36c7b4=_0x5ba3b2[0x1][_0x3c0eea(0x152)],gTicker[noslash(_0x36c7b4)]=_0x5ba3b2[0x1][_0x3c0eea(0x127)],gChange[_0x36c7b4]=_0x5ba3b2[0x1][_0x3c0eea(0x1f7)];});}catch(_0x5283cf){await handleError(_0x5283cf,'initTickers()',_0x36c7b4);}},_0x33ca96=async _0x149d2f=>{const _0x28a113=_0x57a8d3;while(initCycle==_0x47e8a6){if(!botPaused)try{const _0x4d050d=await exchange['watchTrades'](_0x149d2f);gTicker[noslash(_0x4d050d[0x0][_0x28a113(0x152)])]=_0x4d050d[0x0][_0x28a113(0x1bd)];}catch(_0x586242){if(!exchangeStopped)await handleError(_0x586242,_0x28a113(0x173),_0x149d2f);}else await sleep(0x64);}},_0x3e476c=async _0x19a959=>{const _0x3b2418=_0x57a8d3;while(initCycle==_0x47e8a6){if(!botPaused)try{const _0xf0a411=await exchange[_0x3b2418(0x280)](_0x19a959),_0x7a9b0e=_0xf0a411[_0x3b2418(0x245)]();gTicker[noslash(_0x7a9b0e[_0x3b2418(0x152)])]=_0x7a9b0e[_0x3b2418(0x1bd)];}catch(_0x368f1b){if(!exchangeStopped)await handleError(_0x368f1b,_0x3b2418(0x10e),_0x19a959[_0x3b2418(0x267)]());}else await sleep(0x64);}},_0x1e6807=async _0x36f067=>{const _0x5c1c54=_0x57a8d3;while(initCycle==_0x47e8a6){if(!botPaused){let _0x3249f4;try{await sleep(0x3c*0x3e8);const _0x19a630=await getTickers(_0x36f067);Object[_0x5c1c54(0x1fb)](_0x19a630)[_0x5c1c54(0x1f5)](_0x4e2f91=>{const _0x3e6fd6=_0x5c1c54;_0x3249f4=_0x4e2f91[0x1][_0x3e6fd6(0x152)],gChange[_0x3249f4]=_0x4e2f91[0x1][_0x3e6fd6(0x1f7)];});}catch(_0x317013){if(!exchangeStopped)await handleError(_0x317013,'fetchTickers()',_0x3249f4);}}else await sleep(0x64);}},_0x58b657=async _0xe89546=>{const _0x4eabf9=_0x57a8d3;while(initCycle==_0x47e8a6){if(!botPaused)try{const _0x4806f9=await exchange[_0x4eabf9(0x1b4)](_0xe89546);initCycle==_0x47e8a6&&_0x4806f9[_0x4eabf9(0x1f5)](_0x4bce5a=>{updateNumberCoinsCcxt(_0x4bce5a);});}catch(_0x509517){if(!exchangeStopped)await handleError(_0x509517,'watchOrders()');}else await sleep(0x64);}};_0x50da78(_0x476088),_0x1e6807(_0x476088),exchange[_0x57a8d3(0x2c8)][_0x57a8d3(0x280)]&&!(config[_0x57a8d3(0x1cc)]==_0x57a8d3(0x1c2)&&_0x476088['length']>0xa)?_0x3e476c(_0x476088):_0x476088[_0x57a8d3(0x1f5)](_0x3a66d2=>{_0x33ca96(_0x3a66d2);}),_0x476088[_0x57a8d3(0x1f5)](_0x9dfb2b=>{_0x58b657(_0x9dfb2b);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x19d1fd){const _0x27e311=_0xbab98b;let _0x40eaa2={};try{if(config['exchange']!=_0x27e311(0x298))_0x40eaa2=await exchange[_0x27e311(0x1f0)](_0x19d1fd);else for(const _0x23d4d3 of _0x19d1fd){const _0x556d3c=await exchange[_0x27e311(0x119)](_0x23d4d3);_0x40eaa2[_0x23d4d3]=_0x556d3c;}return _0x40eaa2;}catch(_0x24fa7a){throw _0x24fa7a;}}function setBlockTransactionDetection(_0x1c7a0e){blockTransactionDetection=_0x1c7a0e,logger['debug']('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x24331f=0x0){const _0x164758=_0xbab98b;transactionDetectionOngoing=!![];try{const _0x5bbd72=await getCoins(_0x24331f),[_0x4a5f2d,_0x1dd347]=_0x5bbd72;let _0x1ef379=[];currentCoins['forEach'](_0xcc5946=>{const _0x36d4e6=_0x5a58,_0x1baa79=_0x4a5f2d[_0x36d4e6(0x1b2)](_0x4336db=>_0x4336db[_0x36d4e6(0x14b)]==_0xcc5946[_0x36d4e6(0x14b)]);if(_0x1baa79){if(_0xcc5946[_0x36d4e6(0x101)]!=_0x1baa79[_0x36d4e6(0x101)]){let _0x5084f6;if(_0xcc5946[_0x36d4e6(0x14b)]!=config[_0x36d4e6(0x1ec)]){const _0x597a36=gTicker[noslash(_0xcc5946[_0x36d4e6(0x152)])];_0x5084f6=_0xcc5946[_0x36d4e6(0x141)]?0x1/_0x597a36:_0x597a36;}else _0x5084f6=0x1;_0x1ef379['push']({'coin':_0xcc5946[_0x36d4e6(0x14b)],'symbol':_0xcc5946[_0x36d4e6(0x152)],'price':_0x5084f6,'number':Number(formatResult(_0x1baa79[_0x36d4e6(0x101)]-_0xcc5946[_0x36d4e6(0x101)],0x8)),'basecoinvalue':_0x5084f6*(_0x1baa79[_0x36d4e6(0x101)]-_0xcc5946[_0x36d4e6(0x101)])});}}});if(_0x1ef379[_0x164758(0x271)]>0x0&&!blockTransactionDetection){for(const _0x3f05a2 of _0x1ef379){if(config[_0x164758(0x2bd)]){logger['debug'](_0x164758(0x16b)+_0x3f05a2['basecoinvalue']+_0x164758(0x296)+lastFees['highest']);if(lastFees[_0x164758(0x109)]==0x0||Math[_0x164758(0x17e)](_0x3f05a2[_0x164758(0x26e)])>lastFees[_0x164758(0x109)]*0x3){if(config[_0x164758(0x2bd)]==_0x164758(0x1e8)){delete _0x3f05a2[_0x164758(0x152)],delete _0x3f05a2[_0x164758(0x26e)];let _0x4c5a93=[],_0x5310ea=[...config[_0x164758(0x2c7)]]||[],_0xa68eb3=config[_0x164758(0x2c7)];_0x5310ea[_0x164758(0x284)]((_0x5e0194,_0x56e945)=>_0x5e0194['date']>_0x56e945[_0x164758(0x279)]?-0x1:_0x56e945[_0x164758(0x279)]>_0x5e0194[_0x164758(0x279)]?0x1:0x0);const _0xd1666=getDate();if(_0x5310ea[0x0]){const _0x429794=fns[_0x164758(0x194)](_0x5310ea[0x0]['date'],_0x164758(0x10b),new Date()),_0x5e9877=fns[_0x164758(0x194)](_0xd1666,_0x164758(0x10b),new Date());if(fns[_0x164758(0x22c)](_0x429794,_0x5e9877)){_0x4c5a93=_0x5310ea[0x0][_0x164758(0x246)];const _0x39d429=_0x4c5a93[_0x164758(0x1b2)](_0x373c6c=>_0x373c6c[_0x164758(0x14b)]==_0x3f05a2['coin']);_0x39d429?(_0x39d429[_0x164758(0x101)]+=_0x3f05a2[_0x164758(0x101)],_0x39d429[_0x164758(0x101)]==0x0&&(_0x4c5a93=_0x4c5a93['filter'](_0x50c27b=>{const _0x120b68=_0x164758;return _0x50c27b[_0x120b68(0x14b)]!=_0x3f05a2[_0x120b68(0x14b)];}))):_0x4c5a93[_0x164758(0x195)](_0x3f05a2);const _0x4cbed9=_0xa68eb3[_0x164758(0x1b2)](_0x2c263f=>_0x2c263f['date']==_0xd1666);_0x4cbed9[_0x164758(0x246)]=_0x4c5a93;}else _0xa68eb3[_0x164758(0x195)]({'date':_0xd1666,'changes':[_0x3f05a2]});}const _0x1f188c=_0xa68eb3[_0x164758(0x1b2)](_0x4faeac=>_0x4faeac['date']==_0xd1666);if(_0x1f188c){let _0x5ae348=!![];_0x1f188c[_0x164758(0x246)]['forEach'](_0x4cd250=>{const _0x4ce2f1=_0x164758;if(_0x4cd250[_0x4ce2f1(0x101)]!=0x0)_0x5ae348=![];}),_0x5ae348&&(_0xa68eb3=_0xa68eb3['filter'](_0x3b55c0=>{const _0x188d99=_0x164758;return _0x3b55c0[_0x188d99(0x279)]!=_0xd1666;}));}let _0x52ece6=dbConfig['get'](_0x164758(0x12b))[_0x164758(0x1b2)]({'botID':botID})[_0x164758(0x19d)]();_0x52ece6&&(dbConfig['get'](_0x164758(0x12b))[_0x164758(0x1b2)]({'botID':botID})[_0x164758(0x229)]({'liquidity':_0xa68eb3})[_0x164758(0x221)](),config[_0x164758(0x2c7)]=_0xa68eb3);logHistory(_0x164758(0x269),_0x164758(0x148)+Math['abs'](_0x3f05a2['number'])+'\x20'+_0x3f05a2[_0x164758(0x14b)]+'\x20'+(_0x3f05a2['number']>0x0?_0x164758(0x264):_0x164758(0x234))+_0x164758(0x11b)),proxyEmit('configuration',emittedConfiguration());const _0x2df408=getNormalizedPerformance();emitPerformance(_0x2df408),getStartingBalances(_0x2df408),logger[_0x164758(0x295)](_0x164758(0x11f));}else config[_0x164758(0x2bd)]==_0x164758(0x10d)&&(config[_0x164758(0x27a)]?(await storeHeadless({'headless':![]}),logHistory(_0x164758(0x269),_0x164758(0x148)+Math[_0x164758(0x17e)](_0x3f05a2[_0x164758(0x101)])+'\x20'+_0x3f05a2[_0x164758(0x14b)]+'\x20'+(_0x3f05a2[_0x164758(0x101)]>0x0?'added':_0x164758(0x234))+_0x164758(0x1c0))):logger[_0x164758(0x295)]('Portfolio\x20change\x20detected:\x20'+Math[_0x164758(0x17e)](_0x3f05a2['number'])+'\x20'+_0x3f05a2[_0x164758(0x14b)]+'\x20'+(_0x3f05a2[_0x164758(0x101)]>0x0?_0x164758(0x264):_0x164758(0x234))+_0x164758(0x16a)));}else logger[_0x164758(0x295)](_0x164758(0x1cf)+Math[_0x164758(0x17e)](_0x3f05a2[_0x164758(0x101)])+'\x20'+_0x3f05a2['coin']+'\x20'+(_0x3f05a2[_0x164758(0x101)]>0x0?'added':'removed'));}else logger['debug'](_0x164758(0x148)+Math[_0x164758(0x17e)](_0x3f05a2[_0x164758(0x101)])+'\x20'+_0x3f05a2[_0x164758(0x14b)]+'\x20'+(_0x3f05a2[_0x164758(0x101)]>0x0?_0x164758(0x264):_0x164758(0x234))+_0x164758(0x14c));}currentCoins=_0x4a5f2d,currentCoinsAll=_0x1dd347;}}catch(_0x4f58b0){if(!exchangeStopped)await handleError(_0x4f58b0,'detectLiquidityChange()');}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0xe25735=_0xbab98b;try{markets=await exchange[_0xe25735(0x1c3)](!![]),allSymbols=[],Object[_0xe25735(0x1fb)](markets)['forEach'](_0x410983=>{const _0x291aea=_0xe25735;_0x410983[0x1]['active']&&_0x410983[0x1]['spot']&&allSymbols[_0x291aea(0x195)](_0x410983[0x0]);});}catch(_0x389ee1){markets?logger[_0xe25735(0x295)](_0xe25735(0x161)+_0x389ee1['toString']()):(loading[_0xe25735(0x20e)]=!![],_0x389ee1[_0xe25735(0x267)]()[_0xe25735(0x13b)]()[_0xe25735(0x1b8)](_0xe25735(0x2db))||_0x389ee1[_0xe25735(0x267)]()['toLowerCase']()[_0xe25735(0x1b8)](_0xe25735(0x12e))?(logHistory(_0xe25735(0x2b2),_0xe25735(0x29e)),loading['error']=_0xe25735(0x167)):handleErrorNoStop(_0x389ee1,_0xe25735(0x1c4),!![]),logHistory(_0xe25735(0x2b2),_0xe25735(0x247)),logHistory(_0xe25735(0x2b2),_0xe25735(0x242)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0xe25735(0x295)](_0xe25735(0x2bb),_0x389ee1),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x49a38b){let _0x278983=[];return _0x49a38b['forEach'](_0x1661cc=>{const _0xe7711a=_0x5a58;!allSymbols[_0xe7711a(0x1b8)](_0x1661cc)?(logHistory(_0xe7711a(0x2b2),_0xe7711a(0x25e)+_0x1661cc+_0xe7711a(0x150)),loading[_0xe7711a(0x184)]=!![],emitLoadingProgress()):_0x278983[_0xe7711a(0x195)](_0x1661cc);}),_0x278983;}async function initclient(){const _0xf48a38=_0xbab98b;proxyEmit(_0xf48a38(0x2d3),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xf48a38(0x1e9),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x56fb48=getNormalizedPerformance();emitPerformance(_0x56fb48),getStartingBalances(_0x56fb48);}async function toggleBotMode(){const _0x28358a=_0xbab98b;let _0x38516c=dbConfig['get']('bot')['find']({'botID':botID})['value']();if(_0x38516c){const _0x301128=!_0x38516c[_0x28358a(0x27a)];dbConfig[_0x28358a(0x2bf)](_0x28358a(0x12b))[_0x28358a(0x1b2)]({'botID':botID})['assign']({'headless':_0x301128})[_0x28358a(0x221)](),config['headless']=_0x301128,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5c3c38=_0xbab98b;process['send']({'updatebotmanager':!![]},_0x334f20=>{}),logger[_0x5c3c38(0x295)](_0x5c3c38(0x27b)+config['headless']);}async function loadCoins(_0x131afc){const _0x5b09d9=_0xbab98b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x50f4ff,_0x3dc67d=0x0,_0x3d16c4=0x0;_0x131afc[_0x5b09d9(0x1f5)](_0x1a22a1=>{const _0x26fc3c=_0x5b09d9;loading[_0x26fc3c(0x219)]['push'](_0x1a22a1);}),loadingCanceled=![];let _0x3e8247=![];while(_0x50f4ff!=_0x131afc[_0x5b09d9(0x271)]+maxLoadingProgress){_0x50f4ff=loadingProgress,_0x131afc[_0x5b09d9(0x1f5)](_0x45158=>{const _0x2e5515=_0x5b09d9;if(gTicker[noslash(_0x45158)]){loading[_0x2e5515(0x219)]=loading[_0x2e5515(0x219)]['filter'](_0x4c088c=>_0x4c088c!=_0x45158);if(!watchedSymbols[_0x2e5515(0x1b8)](_0x45158))watchedSymbols[_0x2e5515(0x195)](_0x45158);_0x50f4ff++;}}),loading[_0x5b09d9(0x105)]=Math[_0x5b09d9(0x1da)](_0x50f4ff/(_0x131afc[_0x5b09d9(0x271)]+maxLoadingProgress)*0x64);loading[_0x5b09d9(0x105)]!=0x64&&(_0x3d16c4>0x1e*0x5&&(loading[_0x5b09d9(0x184)]=!![],emitLoadingProgress()),_0x3d16c4>0x78*0x5&&!_0x3e8247&&(_0x3e8247=!![],logHistory(_0x5b09d9(0x2b2),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x5b09d9(0x219)][_0x5b09d9(0x154)](',\x20')+_0x5b09d9(0x13e)),logHistory(_0x5b09d9(0x2b2),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x5b09d9(0x2cb)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x5b09d9(0x20e)]=!![],emitLoadingProgress();break;}else _0x3dc67d!=loading['progress']&&(_0x3dc67d=loading['progress'],emitLoadingProgress()),_0x3d16c4++,await sleep(0xc8);}_0x50f4ff==_0x131afc[_0x5b09d9(0x271)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x5b09d9(0x16d)]({'status':_0x5b09d9(0x248),'live':'running'},_0x45e70a=>{}),_0x3e8247&&logHistory(_0x5b09d9(0x269),_0x5b09d9(0x145)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x5392da=_0xbab98b;proxyEmit(_0x5392da(0x2d3),{...emittedConfiguration(),'configstate':_0x5392da(0x157)});}function emitLoadingProgress(){const _0x244d7e=_0xbab98b;proxyEmit(_0x244d7e(0x2d4),loading);}async function getFiat(){const _0x26d01c=_0xbab98b;let _0xca5efe=gTicker[stablecoins[_0x26d01c(0x14d)][_0x26d01c(0x14b)]],_0x59dafb=gTicker[stablecoins[_0x26d01c(0x1fa)]['coin']];return{'eur':Number(_0xca5efe),'usd':Number(_0x59dafb)};}function capitalize(_0x473811){const _0x4d00aa=_0xbab98b;return _0x473811[_0x4d00aa(0x2bc)](0x0,0x1)[_0x4d00aa(0x1bf)]()+_0x473811[_0x4d00aa(0x2bc)](0x1);}function supportedExchanges(){const _0x12546e=_0xbab98b,_0x49facc=['ws',_0x12546e(0x1f0),_0x12546e(0x119),_0x12546e(0x2a7),_0x12546e(0x1b4),_0x12546e(0x126),'createOrder',_0x12546e(0x1b3),_0x12546e(0x277)];let _0x377784=[],_0x3dc880=[],_0x1608be=ccxt['pro'][_0x12546e(0x211)];_0x1608be['forEach'](_0x5a6627=>{const _0x3b6a57=_0x12546e;try{const _0x54a630=new ccxt[(_0x3b6a57(0x24f))][_0x5a6627]();_0x3dc880[_0x3b6a57(0x195)](_0x54a630);}catch(_0x5e8128){}}),_0x3dc880[_0x12546e(0x1f5)](_0x26989e=>{const _0x4a896f=_0x12546e;let _0x11f983=0x0;_0x49facc[_0x4a896f(0x1f5)](_0x59b0a3=>{const _0x2908bd=_0x4a896f;_0x59b0a3 in _0x26989e[_0x2908bd(0x2c8)]&&_0x26989e[_0x2908bd(0x2c8)][_0x59b0a3]&&_0x11f983++;}),_0x11f983==_0x49facc[_0x4a896f(0x271)]&&(!excludedExchanges['includes'](_0x26989e['id'])&&_0x377784[_0x4a896f(0x195)](capitalize(_0x26989e['id'])));});let _0x54e8d9=[];return _0x1608be[_0x12546e(0x1f5)](_0x256686=>{const _0x5d6540=_0x12546e;_0x256686=capitalize(_0x256686);if(!_0x377784[_0x5d6540(0x1b8)](_0x256686))_0x54e8d9[_0x5d6540(0x195)](_0x256686);}),_0x377784;}function setStartDatePerformance(){const _0x3faab5=_0xbab98b;if(config&&config[_0x3faab5(0x2c7)][0x0][_0x3faab5(0x246)][_0x3faab5(0x271)]!=0x0){const _0x32e8ac=config[_0x3faab5(0x2c7)][0x0][_0x3faab5(0x246)];dbPerformance[_0x3faab5(0x2bf)](_0x3faab5(0x29d))['find']({'date':config[_0x3faab5(0x14e)]})[_0x3faab5(0x229)]({'coins':_0x32e8ac})['write']();}}function calculatePnL(_0x52ba81,_0x548ac6,_0x1eea71,_0x1140f0,_0x2ce91f,_0x3d67ea){const _0xe070b5=_0xbab98b;!_0x52ba81[_0xe070b5(0x1b8)]('/'+config['basecoin'])&&(_0x1eea71=_0x1eea71==_0xe070b5(0x268)?'sell':_0xe070b5(0x268));!_0x3d67ea[_0x548ac6]&&(_0x3d67ea[_0x548ac6]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x22853e=0x0,_0x2e1674,_0x1387f9;if(_0x1eea71==_0xe070b5(0x268))_0x1387f9=_0x3d67ea[_0x548ac6][_0xe070b5(0x101)]*_0x3d67ea[_0x548ac6][_0xe070b5(0x2be)]+_0x2ce91f*_0x1140f0,_0x3d67ea[_0x548ac6][_0xe070b5(0x101)]+=_0x1140f0,_0x3d67ea[_0x548ac6][_0xe070b5(0x2be)]=_0x3d67ea[_0x548ac6]['number']!=0x0?_0x1387f9/_0x3d67ea[_0x548ac6][_0xe070b5(0x101)]:0x0,_0x3d67ea[_0x548ac6]['buys']++;else _0x1eea71==_0xe070b5(0x243)&&(_0x2e1674=Math[_0xe070b5(0x24b)](_0x3d67ea[_0x548ac6][_0xe070b5(0x101)],_0x1140f0),_0x22853e=(_0x2ce91f-_0x3d67ea[_0x548ac6][_0xe070b5(0x2be)])*_0x2e1674,_0x1387f9=Math['max'](_0x3d67ea[_0x548ac6][_0xe070b5(0x101)]*_0x3d67ea[_0x548ac6][_0xe070b5(0x2be)]-_0x2e1674*_0x3d67ea[_0x548ac6][_0xe070b5(0x2be)],0x0),_0x3d67ea[_0x548ac6][_0xe070b5(0x101)]-=_0x2e1674,_0x3d67ea[_0x548ac6][_0xe070b5(0x2be)]=_0x3d67ea[_0x548ac6][_0xe070b5(0x101)]!=0x0?_0x1387f9/_0x3d67ea[_0x548ac6][_0xe070b5(0x101)]:0x0,_0x3d67ea[_0x548ac6][_0xe070b5(0x199)]+=_0x22853e,_0x3d67ea[_0x548ac6]['sells']++);return _0x22853e;}async function generatePnL(){const _0x420c54=_0xbab98b;pnlGenerationNeeded=![],logger[_0x420c54(0x295)]('Generating\x20PnL\x20data');const _0x353d37=dbLogs[_0x420c54(0x2bf)](_0x420c54(0x2c0))[_0x420c54(0x19d)]();let _0x13036f={},_0x5cae50=0x0,_0x358614=0x0,_0x14bdd1=config[_0x420c54(0x14e)];const _0x3d8aeb=fns[_0x420c54(0x194)](_0x14bdd1,'yyyy/MM/dd',new Date()),_0x58410f=new Date();let _0x278ff4=0x0;for(let _0x2c5586=_0x3d8aeb;!fns[_0x420c54(0x2b6)](_0x58410f,_0x2c5586);_0x2c5586=fns['addDays'](_0x2c5586,0x1)){const _0x4e5d1f=fns[_0x420c54(0x262)](_0x2c5586,_0x420c54(0x10b));while(_0x5cae50<_0x353d37[_0x420c54(0x271)]){const _0xea0818=new Date(_0x353d37[_0x5cae50][_0x420c54(0x18e)]);if(fns[_0x420c54(0x2b6)](_0xea0818,_0x2c5586))_0x5cae50++;else{if(_0x353d37[_0x5cae50][_0x420c54(0x18e)][_0x420c54(0x1b8)](_0x4e5d1f)){const _0x370a50=_0x353d37[_0x5cae50];if(_0x370a50[_0x420c54(0x2c1)]==='order'&&(_0x370a50[_0x420c54(0x1fc)][_0x420c54(0x1b8)](_0x420c54(0x172))||_0x370a50[_0x420c54(0x1fc)][_0x420c54(0x1b8)](_0x420c54(0x178)))){const _0xe1f60c=_0x370a50['event'][_0x420c54(0x12c)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0xe1f60c){const [,_0x224497,_0x403397,_0x1db88a,_0x28a6ab]=_0xe1f60c,_0x13faf7=_0x224497[_0x420c54(0x1b8)]('/'+config[_0x420c54(0x1ec)])?_0x224497['split']('/')[0x0]:_0x224497['split']('/')[0x1],_0x30c31c=calculatePnL(_0x224497,_0x13faf7,_0x403397,parseFloat(_0x1db88a),parseFloat(_0x28a6ab),_0x13036f);_0x358614+=_0x30c31c;}}_0x5cae50++;}else break;}}dbPerformance[_0x420c54(0x2bf)]('data')[_0x420c54(0x1b2)]({'date':_0x4e5d1f})[_0x420c54(0x229)]({'pnl':_0x358614})['write']();}dbCoinResults['set'](_0x420c54(0x10c),_0x13036f)[_0x420c54(0x221)](),logger['debug'](_0x420c54(0x286));const _0x3b5efd=getNormalizedPerformance();emitPerformance(_0x3b5efd);}async function updatePnL(_0x46d93b){const _0x40b2e4=_0xbab98b,{symbol:_0x36d8d4,coin:_0xde5aa5,amount:_0x2eef27,price:_0x321e87,side:_0x58aa1a,reverse:_0x41cc34}=_0x46d93b;let _0x4a4f25=dbCoinResults[_0x40b2e4(0x2bf)]('coins')['value']();const _0x3bf190=calculatePnL(_0x36d8d4,_0xde5aa5,_0x58aa1a,_0x2eef27,_0x321e87,_0x4a4f25);dbCoinResults[_0x40b2e4(0x200)](_0x40b2e4(0x10c),_0x4a4f25)[_0x40b2e4(0x221)]();const _0x544a89=getTimeStamp()[_0x40b2e4(0x196)]('\x20')[0x0];let _0x16f7a1=dbPerformance['get']('data')[_0x40b2e4(0x1b2)]({'date':_0x544a89})[_0x40b2e4(0x19d)]();_0x16f7a1?(_0x16f7a1[_0x40b2e4(0x136)]+=_0x3bf190,dbPerformance[_0x40b2e4(0x2bf)](_0x40b2e4(0x29d))[_0x40b2e4(0x1b2)]({'date':_0x544a89})[_0x40b2e4(0x229)](_0x16f7a1)[_0x40b2e4(0x221)]()):await storePerformance();const _0x4d6ab6=getNormalizedPerformance();emitPerformance(_0x4d6ab6);}async function validate24hChanges(){const _0x4927d3=_0xbab98b;for(const _0x49fead of currentCoins){if(_0x49fead[_0x4927d3(0x14b)]!=config['basecoin']){let _0x1b7d93;_0x49fead['reverse']?_0x1b7d93=formatResult((0x1/(gChange[_0x49fead[_0x4927d3(0x152)]]/0x64+0x1)-0x1)*0x64,0x3):_0x1b7d93=gChange[_0x49fead[_0x4927d3(0x152)]],_0x1b7d93<config['change24h']&&(logHistory('error',_0x49fead['coin']+_0x4927d3(0x107)+_0x1b7d93+'%'),logHistory('error',_0x4927d3(0x2c4)),logHistory(_0x4927d3(0x2b2),_0x4927d3(0x235)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x3c8905,_0x168f92){const _0x12bcd9=_0xbab98b;if(!_0x3c8905)return!![];const _0x3c785b=_0x168f92[_0x12bcd9(0x196)]('.'),_0x15af0c=_0x3c8905[_0x12bcd9(0x196)]('.');for(var _0x35d25f=0x0;_0x35d25f<_0x15af0c['length'];_0x35d25f++){const _0x144233=~~_0x15af0c[_0x35d25f],_0xe14bf4=~~_0x3c785b[_0x35d25f];if(_0x144233<_0xe14bf4)return!![];if(_0x144233>_0xe14bf4)return![];}return![];}async function oneTimeMigration(){const _0x1a294a=_0xbab98b;let _0x125b84=dbLogs[_0x1a294a(0x2bf)](_0x1a294a(0x181))['value']();if(isOlderVersion(_0x125b84,_0x1a294a(0x1aa))){let _0x191369=[];const _0x519295=dbLogs[_0x1a294a(0x2bf)](_0x1a294a(0x2c0))[_0x1a294a(0x19d)]();_0x519295[_0x1a294a(0x1f5)](_0x2ed97e=>{const _0x2abd30=_0x1a294a;_0x191369['push']({'time':_0x2ed97e[_0x2abd30(0x18e)],'type':_0x2ed97e[_0x2abd30(0x2c1)],'event':_0x2ed97e['event']});}),dbLogs['get'](_0x1a294a(0x2c0))['assign'](_0x191369)[_0x1a294a(0x221)]();}let _0x2ae8b9=dbConfig['get'](_0x1a294a(0x181))[_0x1a294a(0x19d)]();if(isOlderVersion(_0x2ae8b9,'2.3.5')){let _0x3ff795=dbConfig[_0x1a294a(0x2bf)]('bot')[_0x1a294a(0x1b2)]({'botID':botID})[_0x1a294a(0x19d)]();if(_0x3ff795){let _0xbadf=[];_0x3ff795['portfolio'][_0x1a294a(0x1f5)](_0x292a5e=>{const _0x7f3a67=_0x1a294a;_0xbadf[_0x7f3a67(0x195)]({'coin':_0x292a5e['coin'],'number':_0x292a5e[_0x7f3a67(0x2e1)],'price':_0x292a5e[_0x7f3a67(0x177)]}),delete _0x292a5e[_0x7f3a67(0x2e1)],delete _0x292a5e['startprice'];});if(_0xbadf[_0x1a294a(0x271)]!==0x0)fs[_0x1a294a(0x1ee)](configbackuppath+(_0x1a294a(0x1cb)+botID+_0x1a294a(0x297)),JSON['stringify'](_0xbadf,null,0x4),function(_0x4f4a78){if(_0x4f4a78){}});const _0x5370d9=(_0x2017e4,_0x1926a0)=>{const _0x23f5a5=_0x1a294a;let _0x55ebfa=[];_0x1926a0[_0x23f5a5(0x1f5)](_0x549979=>{const _0x3dc0a7=_0x23f5a5,_0x1f9d6a=_0x2017e4['find'](_0x21ac68=>_0x21ac68[_0x3dc0a7(0x14b)]==_0x549979[_0x3dc0a7(0x14b)]);if(!_0x1f9d6a)_0x55ebfa[_0x3dc0a7(0x195)](_0x549979);});let _0x3be7d4=[];return _0x2017e4[_0x23f5a5(0x1f5)](_0x66ac39=>{const _0x3b831b=_0x23f5a5,_0x360cef=_0x1926a0[_0x3b831b(0x1b2)](_0xb13b15=>_0xb13b15['coin']==_0x66ac39[_0x3b831b(0x14b)]);if(!_0x360cef||_0x360cef[_0x3b831b(0x101)]==0x0&&_0x66ac39[_0x3b831b(0x101)]!=0x0)_0x3be7d4['push'](_0x66ac39);}),{'missingDay1':_0x55ebfa,'notInDay2':_0x3be7d4};},_0xd9cbb6=dbPerformance['get'](_0x1a294a(0x29d))[_0x1a294a(0x22e)]()[_0x1a294a(0x19d)]();if(_0xd9cbb6['length']>0x1){const {missingDay1:_0x264b4f,notInDay2:_0x591acb}=_0x5370d9(_0xbadf,_0xd9cbb6[0x1]['coins']);_0xbadf=[..._0xbadf,..._0x264b4f],_0x591acb[_0x1a294a(0x1f5)](_0x1844b0=>{const _0x14cc71=_0x1a294a;let _0x388a97=_0xbadf[_0x14cc71(0x1ea)](_0x4ed715=>_0x4ed715[_0x14cc71(0x14b)]==_0x1844b0[_0x14cc71(0x14b)]);_0x388a97!=-0x1&&_0xbadf['splice'](_0x388a97,0x1);});}_0xbadf['sort']((_0x15db9c,_0x38e931)=>_0x15db9c['coin']>_0x38e931[_0x1a294a(0x14b)]?0x1:_0x38e931[_0x1a294a(0x14b)]>_0x15db9c[_0x1a294a(0x14b)]?-0x1:0x0);let _0x47d5e2=[{'date':_0x3ff795['startdate'],'changes':_0xbadf}];_0xd9cbb6[_0x1a294a(0x271)]>0x2&&_0xd9cbb6['forEach']((_0x11a326,_0x447106)=>{const _0x1a9d64=_0x1a294a;if(_0x447106>0x0&&_0x447106<_0xd9cbb6[_0x1a9d64(0x271)]-0x1){const {missingDay1:_0x261f5d,notInDay2:_0x40b081}=_0x5370d9(_0xd9cbb6[_0x447106][_0x1a9d64(0x10c)],_0xd9cbb6[_0x447106+0x1]['coins']);_0xbadf=[],(_0x261f5d[_0x1a9d64(0x271)]!=0x0||_0x40b081[_0x1a9d64(0x271)]!=0x0)&&(_0x261f5d[_0x1a9d64(0x271)]!=0x0&&_0xbadf[_0x1a9d64(0x195)](..._0x261f5d),_0x40b081['length']!=0x0&&(_0x40b081[_0x1a9d64(0x1f5)](_0x556f6d=>{const _0x5a221b=_0x1a9d64;_0x556f6d[_0x5a221b(0x101)]=-_0x556f6d[_0x5a221b(0x101)];}),_0xbadf[_0x1a9d64(0x195)](..._0x40b081)),_0xbadf['sort']((_0x98862,_0xf759cb)=>_0x98862['coin']>_0xf759cb[_0x1a9d64(0x14b)]?0x1:_0xf759cb['coin']>_0x98862[_0x1a9d64(0x14b)]?-0x1:0x0),_0x47d5e2['push']({'date':_0xd9cbb6[_0x447106+0x1][_0x1a9d64(0x279)],'changes':_0xbadf}));}}),dbConfig[_0x1a294a(0x2bf)](_0x1a294a(0x12b))['find']({'botID':botID})[_0x1a294a(0x229)]({..._0x3ff795,'liquidity':_0x47d5e2})['write']();}}if(isOlderVersion(_0x2ae8b9,_0x1a294a(0x25b))){let _0x56b898=dbConfig[_0x1a294a(0x2bf)](_0x1a294a(0x12b))['find']({'botID':botID})[_0x1a294a(0x19d)]();if(_0x56b898){const _0x3b6c14=_0x56b898['exchange'],_0x3a541a=_0x3b6c14?capitalize(_0x3b6c14):_0x1a294a(0x1bb);dbConfig[_0x1a294a(0x2bf)](_0x1a294a(0x12b))['find']({'botID':botID})[_0x1a294a(0x229)]({'exchange':_0x3a541a})[_0x1a294a(0x221)]();}}if(isOlderVersion(_0x2ae8b9,'2.6.22')){let _0x4fdabc=dbConfig['get'](_0x1a294a(0x12b))[_0x1a294a(0x1b2)]({'botID':botID})[_0x1a294a(0x19d)]();if(_0x4fdabc){const _0x38da0e=_0x4fdabc['marketcapEnabled'],_0x3fd46a=_0x38da0e?_0x1a294a(0x17f):![];dbConfig['get'](_0x1a294a(0x12b))[_0x1a294a(0x1b2)]({'botID':botID})['assign']({'marketcapEnabled':_0x3fd46a})[_0x1a294a(0x221)]();}}if(isOlderVersion(_0x2ae8b9,'2.6.23')){let _0x10206b=dbConfig['get']('bot')[_0x1a294a(0x1b2)]({'botID':botID})[_0x1a294a(0x19d)]();if(_0x10206b){const _0x52aaf4=_0x10206b['autoliquidity'],_0x171a66=_0x52aaf4?_0x1a294a(0x1e8):![];dbConfig[_0x1a294a(0x2bf)]('bot')['find']({'botID':botID})[_0x1a294a(0x229)]({'autoliquidity':_0x171a66})[_0x1a294a(0x221)]();}}let _0x24e929=dbPerformance[_0x1a294a(0x2bf)]('version')['value']();isOlderVersion(_0x24e929,_0x1a294a(0x1aa))&&setStartDatePerformance();let _0x5af3b1=dbCoinResults[_0x1a294a(0x2bf)](_0x1a294a(0x181))[_0x1a294a(0x19d)]();if(isOlderVersion(_0x5af3b1,'2.7.1')){let _0x1d44df=dbCoinResults[_0x1a294a(0x2bf)](_0x1a294a(0x10c))[_0x1a294a(0x19d)]();if(_0x1d44df[_0x1a294a(0x271)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x5d3c2d=_0xbab98b;dbConfig[_0x5d3c2d(0x200)]('version',serverversion)[_0x5d3c2d(0x221)](),dbPerformance[_0x5d3c2d(0x200)](_0x5d3c2d(0x181),serverversion)['write'](),dbLogs[_0x5d3c2d(0x200)](_0x5d3c2d(0x181),serverversion)[_0x5d3c2d(0x221)](),dbCoinResults[_0x5d3c2d(0x200)](_0x5d3c2d(0x181),serverversion)['write']();}function getConfiguration(_0x305764){const _0x5a4d84=_0xbab98b;let _0x4bd323=dbConfig[_0x5a4d84(0x2bf)](_0x5a4d84(0x12b))[_0x5a4d84(0x1b2)]({'botID':_0x305764})[_0x5a4d84(0x19d)]();if(_0x4bd323){let _0x2bced7=![];typeof _0x4bd323[_0x5a4d84(0x29c)]==_0x5a4d84(0x1b9)&&(_0x4bd323={..._0x4bd323,'threshold':Number(_0x4bd323[_0x5a4d84(0x29c)])},_0x2bced7=!![]),_0x4bd323[_0x5a4d84(0x106)]==undefined&&(_0x4bd323={..._0x4bd323,'change24h':-0x14},_0x2bced7=!![]),_0x4bd323[_0x5a4d84(0x24a)]==undefined&&(_0x4bd323={..._0x4bd323,'fiat':'USD'},_0x2bced7=!![]),_0x4bd323[_0x5a4d84(0x166)]==undefined&&(_0x4bd323={..._0x4bd323,'onepagemode':settings[_0x5a4d84(0x166)]},_0x2bced7=!![]),_0x4bd323['colorscheme']==undefined&&(_0x4bd323={..._0x4bd323,'colorscheme':_0x5a4d84(0x29f)},_0x2bced7=!![]),_0x4bd323['autoliquidity']==undefined&&(_0x4bd323={..._0x4bd323,'autoliquidity':_0x5a4d84(0x1e8)},_0x2bced7=!![]),_0x4bd323[_0x5a4d84(0x13a)]==undefined&&(_0x4bd323={..._0x4bd323,'marketcapApi':settings[_0x5a4d84(0x13a)]?!![]:![]},_0x2bced7=!![]),_0x4bd323[_0x5a4d84(0x213)]==undefined&&(_0x4bd323={..._0x4bd323,'marketcapEnabled':![]},_0x2bced7=!![]),_0x4bd323[_0x5a4d84(0x134)]==undefined&&(_0x4bd323={..._0x4bd323,'sandbox':![]},_0x2bced7=!![]),_0x2bced7&&(_0x4bd323={'botID':_0x4bd323['botID'],'exchange':_0x4bd323[_0x5a4d84(0x1cc)],'apiKey':_0x4bd323['apiKey'],'apiSecret':_0x4bd323[_0x5a4d84(0x2b0)],'apiPassword':_0x4bd323[_0x5a4d84(0x162)],'basecoin':_0x4bd323[_0x5a4d84(0x1ec)],'botname':_0x4bd323['botname'],'showname':_0x4bd323[_0x5a4d84(0x288)],'threshold':_0x4bd323['threshold'],'ordertype':_0x4bd323[_0x5a4d84(0x1dc)],'timeout':_0x4bd323[_0x5a4d84(0x184)],'fiat':_0x4bd323[_0x5a4d84(0x24a)],'startdate':_0x4bd323[_0x5a4d84(0x14e)],'recreate':_0x4bd323[_0x5a4d84(0x120)],'timeshift':_0x4bd323[_0x5a4d84(0x158)],'onepagemode':_0x4bd323[_0x5a4d84(0x166)],'headless':_0x4bd323[_0x5a4d84(0x27a)],'cooldown':_0x4bd323[_0x5a4d84(0x209)],'change24h':_0x4bd323[_0x5a4d84(0x106)],'emojibuy':_0x4bd323[_0x5a4d84(0x1ef)],'emojisell':_0x4bd323['emojisell'],'colorscheme':_0x4bd323['colorscheme'],'marketcapApi':_0x4bd323[_0x5a4d84(0x13a)],'marketcapEnabled':_0x4bd323[_0x5a4d84(0x213)],'sandbox':_0x4bd323[_0x5a4d84(0x134)],'portfolio':_0x4bd323['portfolio'],'autoliquidity':_0x4bd323[_0x5a4d84(0x2bd)],'liquidity':_0x4bd323['liquidity'],'openOrders':_0x4bd323[_0x5a4d84(0x13c)]},dbConfig[_0x5a4d84(0x2bf)](_0x5a4d84(0x12b))['remove']()['write'](),dbConfig[_0x5a4d84(0x2bf)](_0x5a4d84(0x12b))[_0x5a4d84(0x195)](_0x4bd323)[_0x5a4d84(0x221)]());}else _0x4bd323={'botID':_0x305764,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x5a4d84(0x218)+_0x305764,'showname':![],'threshold':0x3,'ordertype':_0x5a4d84(0x214),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x5a4d84(0x166)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x5a4d84(0x29f),'marketcapApi':settings[_0x5a4d84(0x13a)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x5a4d84(0x1e8),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4bd323;}function emittedConfiguration(){const _0x3f6012=_0xbab98b;let _0x2cb439;if(config['apiKey']=='')_0x2cb439={...config,'configstate':_0x3f6012(0x24d)};else config[_0x3f6012(0x193)]==_0x3f6012(0x2a5)?_0x2cb439={...config,'configstate':_0x3f6012(0x233)}:(_0x2cb439={...config,'apiKey':'************','apiSecret':_0x3f6012(0x1c6)},config[_0x3f6012(0x162)]&&(_0x2cb439[_0x3f6012(0x162)]='************'));return _0x2cb439['enableFiatToggle']=enableFiatToggle,_0x2cb439;}function getSettings(){const _0x183600=_0xbab98b;return dbSettings[_0x183600(0x2bf)](_0x183600(0x2ac))[_0x183600(0x19d)]();}function getSecure(){const _0x14e605=_0xbab98b;return dbSecure[_0x14e605(0x2bf)](_0x14e605(0x1d7))['value']()||{};}function updateTimeshift(_0x1f688e){const _0x4a371e=_0xbab98b;let _0x4416fc=dbConfig[_0x4a371e(0x2bf)](_0x4a371e(0x12b))[_0x4a371e(0x1b2)]({'botID':botID})['value']();_0x4416fc&&dbConfig['get']('bot')[_0x4a371e(0x1b2)]({'botID':botID})[_0x4a371e(0x229)]({'timeshift':_0x1f688e})['write'](),config['timeshift']=_0x1f688e,proxyEmit(_0x4a371e(0x2d3),emittedConfiguration());}function updateOnepagemode(_0x175def){const _0x24b524=_0xbab98b;let _0xed05e=dbConfig[_0x24b524(0x2bf)]('bot')[_0x24b524(0x1b2)]({'botID':botID})['value']();_0xed05e&&dbConfig[_0x24b524(0x2bf)]('bot')[_0x24b524(0x1b2)]({'botID':botID})[_0x24b524(0x229)]({'onepagemode':_0x175def})['write'](),config[_0x24b524(0x166)]=_0x175def,proxyEmit(_0x24b524(0x2d3),emittedConfiguration());}function updateMarketcapApi(_0x57464e){const _0x32e379=_0xbab98b,_0x25cc31=_0x57464e?!![]:![];let _0x73f0eb=dbConfig[_0x32e379(0x2bf)](_0x32e379(0x12b))[_0x32e379(0x1b2)]({'botID':botID})['value']();_0x73f0eb&&dbConfig[_0x32e379(0x2bf)]('bot')[_0x32e379(0x1b2)]({'botID':botID})[_0x32e379(0x229)]({'marketcapApi':_0x25cc31})[_0x32e379(0x221)](),config[_0x32e379(0x13a)]=_0x25cc31,getMarketCap(),proxyEmit(_0x32e379(0x2d3),emittedConfiguration());}async function storeConfiguration(_0x254aea){const _0x4e1697=_0xbab98b;logger[_0x4e1697(0x295)](_0x4e1697(0x28f));_0x254aea[_0x4e1697(0x1e7)]&&delete _0x254aea['configstate'];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x1cdbe1=![],_0x57912c=![],_0x22c4bc=[];_0x254aea['portfolio'][_0x4e1697(0x1f5)](_0x1a79b2=>{const _0x38021d=_0x4e1697;if(!_0x1a79b2[_0x38021d(0x1ac)]&&_0x1a79b2['coin']!=_0x254aea['basecoin'])_0x22c4bc['push'](_0x1a79b2[_0x38021d(0x152)]);}),_0x22c4bc[_0x4e1697(0x1f5)](_0x5bf28a=>{const _0x2a775f=_0x4e1697,_0x146458=currentCoins[_0x2a775f(0x1b2)](_0xf2747a=>_0xf2747a['symbol']==_0x5bf28a);!_0x146458&&(_0x1cdbe1=!![]);}),currentCoins[_0x4e1697(0x1f5)](_0x2a6197=>{const _0x6a6677=_0x4e1697;if(_0x2a6197[_0x6a6677(0x14b)]!=config['basecoin']){const _0x1e9a6d=_0x22c4bc['find'](_0x4b01c5=>_0x4b01c5==_0x2a6197['symbol']);!_0x1e9a6d&&(_0x1cdbe1=!![]);}}),_0x254aea[_0x4e1697(0x220)][_0x4e1697(0x1f5)](_0xdb0f1d=>{const _0x10914d=_0x4e1697,_0x380657=config[_0x10914d(0x220)][_0x10914d(0x1b2)](_0x443977=>_0x443977[_0x10914d(0x14b)]==_0xdb0f1d[_0x10914d(0x14b)]);if(_0x380657&&_0xdb0f1d[_0x10914d(0x1e1)]!=_0x380657['offset'])_0x57912c=!![];});let _0x598ce8=dbConfig['get'](_0x4e1697(0x12b))[_0x4e1697(0x1b2)]({'botID':botID})[_0x4e1697(0x19d)]();_0x254aea={..._0x254aea,'apiKey':decryptRSA(secure[_0x4e1697(0x2cf)],_0x254aea[_0x4e1697(0x193)]),'apiSecret':decryptRSA(secure[_0x4e1697(0x2cf)],_0x254aea[_0x4e1697(0x2b0)])};_0x254aea[_0x4e1697(0x162)]&&(_0x254aea['apiPassword']=decryptRSA(secure[_0x4e1697(0x2cf)],_0x254aea[_0x4e1697(0x162)]));let _0x5c8f06=![];if(_0x598ce8){_0x254aea[_0x4e1697(0x193)]==_0x4e1697(0x1c6)?_0x254aea['apiKey']=config['apiKey']:_0x5c8f06=!![];_0x254aea[_0x4e1697(0x2b0)]==_0x4e1697(0x1c6)?_0x254aea['apiSecret']=config[_0x4e1697(0x2b0)]:_0x5c8f06=!![];if(_0x254aea[_0x4e1697(0x162)]==_0x4e1697(0x1c6))_0x254aea[_0x4e1697(0x162)]=config['apiPassword'];else{if(_0x254aea[_0x4e1697(0x162)])_0x5c8f06=!![];}dbConfig[_0x4e1697(0x2bf)](_0x4e1697(0x12b))[_0x4e1697(0x1b2)]({'botID':botID})['assign'](_0x254aea)[_0x4e1697(0x221)]();}else dbConfig[_0x4e1697(0x2bf)](_0x4e1697(0x12b))[_0x4e1697(0x195)](_0x254aea)[_0x4e1697(0x221)](),_0x5c8f06=!![],process[_0x4e1697(0x16d)]({'status':_0x4e1697(0x248),'live':_0x4e1697(0x270)},_0x595f10=>{});process[_0x4e1697(0x16d)]({'botname':_0x254aea['botname']},_0x3f80e8=>{}),config={..._0x254aea},updateBotManager(),proxyEmit(_0x4e1697(0x129)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x5c8f06)await reset(!![]);else _0x1cdbe1||_0x57912c?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x23ce0b){const _0x288da6=_0xbab98b,_0x3fcf13={...config,'headless':_0x23ce0b['headless']};let _0x1a73cb=dbConfig[_0x288da6(0x2bf)](_0x288da6(0x12b))[_0x288da6(0x1b2)]({'botID':botID})[_0x288da6(0x19d)]();_0x1a73cb&&dbConfig[_0x288da6(0x2bf)]('bot')['find']({'botID':botID})[_0x288da6(0x229)](_0x3fcf13)['write'](),config={..._0x3fcf13},updateBotManager(),proxyEmit(_0x288da6(0x2d3),emittedConfiguration());}async function storeFiat(_0x2cd033){const _0x12b40e=_0xbab98b,_0x4b4cbc={...config,'fiat':_0x2cd033};let _0x512b8b=dbConfig[_0x12b40e(0x2bf)]('bot')[_0x12b40e(0x1b2)]({'botID':botID})[_0x12b40e(0x19d)]();_0x512b8b&&dbConfig[_0x12b40e(0x2bf)](_0x12b40e(0x12b))[_0x12b40e(0x1b2)]({'botID':botID})[_0x12b40e(0x229)](_0x4b4cbc)[_0x12b40e(0x221)](),config={..._0x4b4cbc},proxyEmit(_0x12b40e(0x2d3),emittedConfiguration());}function resetHistory(){const _0x100448=_0xbab98b;logger['full'](_0x100448(0x186));try{if(fs['existsSync'](path[_0x100448(0x154)](configpath,'bot-'+botID+_0x100448(0x174))))fs[_0x100448(0x230)](path['join'](configpath,_0x100448(0x1ca)+botID+_0x100448(0x174)));if(fs[_0x100448(0x1d4)](path[_0x100448(0x154)](configpath,'bot-'+botID+_0x100448(0x236))))fs[_0x100448(0x230)](path[_0x100448(0x154)](configpath,_0x100448(0x1ca)+botID+_0x100448(0x236)));if(fs[_0x100448(0x1d4)](path[_0x100448(0x154)](configpath,'bot-'+botID+_0x100448(0x26b))))fs['unlinkSync'](path[_0x100448(0x154)](configpath,_0x100448(0x1ca)+botID+_0x100448(0x26b)));}catch(_0x5050fb){if(_0x5050fb)logger[_0x100448(0x112)]('Error\x20while\x20deleting\x20files:\x20',_0x5050fb);}const _0x4b4d78=getDate();let _0x28d0ae=[];currentCoins['forEach'](_0x5508fb=>{const _0x5f35b4=_0x100448;_0x28d0ae[_0x5f35b4(0x195)]({'coin':_0x5508fb['coin'],'number':_0x5508fb[_0x5f35b4(0x101)],'price':_0x5508fb[_0x5f35b4(0x127)]});});let _0x37268b=dbConfig[_0x100448(0x2bf)]('bot')[_0x100448(0x1b2)]({'botID':botID})['value']();_0x37268b&&(dbConfig[_0x100448(0x2bf)]('bot')[_0x100448(0x1b2)]({'botID':botID})[_0x100448(0x229)]({'liquidity':[{'date':_0x4b4d78,'changes':_0x28d0ae}]})['write'](),config[_0x100448(0x2c7)]=[]),restartBot(!![]);}function noslash(_0x7a39c){const _0x1b7d58=_0xbab98b;return _0x7a39c[_0x1b7d58(0x231)]('/','');}function updateHighestFee(_0x4f6e3e){const _0x452d7e=_0xbab98b;if(_0x4f6e3e[_0x452d7e(0x141)]){let _0x7d288={'filled':_0x4f6e3e[_0x452d7e(0x1b5)]*_0x4f6e3e[_0x452d7e(0x1bd)],'amount':_0x4f6e3e[_0x452d7e(0x1b5)]*_0x4f6e3e[_0x452d7e(0x1bd)],'side':_0x4f6e3e['side']==_0x452d7e(0x243)?_0x452d7e(0x268):'sell','price':0x1/_0x4f6e3e[_0x452d7e(0x1bd)]};_0x4f6e3e={..._0x4f6e3e,..._0x7d288};}const _0x2423df=defaultFee*_0x4f6e3e['filled']*_0x4f6e3e[_0x452d7e(0x1bd)];lastFees[_0x452d7e(0x1d6)][_0x452d7e(0x271)]===0x14&&lastFees[_0x452d7e(0x1d6)]['shift'](),lastFees[_0x452d7e(0x1d6)][_0x452d7e(0x195)](_0x2423df),lastFees['highest']=Math[_0x452d7e(0x19c)](...lastFees[_0x452d7e(0x1d6)]);}async function updateNumberCoinsCcxt(_0x2c72f4){const _0x5dd773=_0xbab98b;logger[_0x5dd773(0x295)](_0x5dd773(0x290)+_0x2c72f4['symbol']+_0x5dd773(0x23b)+_0x2c72f4[_0x5dd773(0x294)]+_0x5dd773(0x23b)+_0x2c72f4['filled']+_0x5dd773(0x171)+_0x2c72f4['amount']+_0x5dd773(0x23b)+_0x2c72f4['id']);let _0x5ad8ea=_0x2c72f4['status'],_0x30dd6c=![];currentCoins[_0x5dd773(0x1f5)](_0x122924=>{const _0x3c1dae=_0x5dd773;_0x122924[_0x3c1dae(0x152)]==_0x2c72f4['symbol']&&(_0x30dd6c=!![]);});if(!_0x30dd6c)return;const _0x4351f9=currentCoins[_0x5dd773(0x1b2)](_0x150d02=>_0x150d02[_0x5dd773(0x152)]==_0x2c72f4['symbol']),_0x4ade1e=_0x4351f9[_0x5dd773(0x14b)],_0x1238d0=_0x2ca01f=>{const _0x285af2=_0x5dd773,_0x41241d=currentCoins[_0x285af2(0x1b2)](_0x4cf90c=>_0x4cf90c[_0x285af2(0x152)]==_0x2c72f4[_0x285af2(0x152)]);if(_0x41241d)_0x41241d[_0x285af2(0x1d1)]=_0x2ca01f;};let _0x2f13a5=![];for(const _0x151ef1 of lastOrders){const _0x1201f0=0x64,_0x134483=0x1388;let _0xd76373=0x0;while(!_0x151ef1['orderId']&&_0xd76373*_0x1201f0<_0x134483){_0xd76373++,await sleep(_0x1201f0);}if(_0xd76373>0x0)logger['debug'](_0x5dd773(0x28b)+_0xd76373*_0x1201f0/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x151ef1[_0x5dd773(0x24c)]==_0x2c72f4['id']&&(_0x2f13a5=!![]);}if(_0x5ad8ea==_0x5dd773(0x244)){_0x1238d0(_0x5dd773(0x244));if(_0x2c72f4[_0x5dd773(0x1b5)]>0x0&&_0x2c72f4[_0x5dd773(0x1b5)]<_0x2c72f4['amount']){if(_0x2f13a5){setBlockTransactionDetection(!![]),logger[_0x5dd773(0x295)]('1\x20-\x20partially\x20FILLED\x20('+_0x2c72f4[_0x5dd773(0x1b5)]+')\x20known\x20order:\x20'+_0x2c72f4['id']);const _0x58418d=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4ade1e);[currentCoins,currentCoinsAll]=_0x58418d,setBlockTransactionDetection(![]);}else logger[_0x5dd773(0x295)](_0x5dd773(0x2c5)+_0x2c72f4[_0x5dd773(0x1b5)]+_0x5dd773(0x1ae)+_0x2c72f4['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x5ad8ea==_0x5dd773(0x2e0)){_0x1238d0('canceled'),lastOrders=lastOrders[_0x5dd773(0x29b)](_0x3a767d=>_0x3a767d[_0x5dd773(0x152)]!=_0x2c72f4[_0x5dd773(0x152)]);const _0x475690=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x475690,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x5ad8ea==_0x5dd773(0x27d)){if(lastOrders)for(const _0x4df9a7 of lastOrders){if(_0x4df9a7[_0x5dd773(0x24c)]==_0x2c72f4['id']){logger[_0x5dd773(0x295)](_0x5dd773(0x1ba)+_0x2c72f4['id']),_0x2f13a5=!![];if(_0x4df9a7[_0x5dd773(0x1b5)]==0x0){setBlockTransactionDetection(!![]),logger[_0x5dd773(0x295)](_0x5dd773(0x2ca)+_0x2c72f4['id']);if(_0x2c72f4['average'])_0x4df9a7[_0x5dd773(0x1bd)]=_0x2c72f4['average'];else{if(_0x2c72f4[_0x5dd773(0x1bd)])_0x4df9a7['price']=_0x2c72f4[_0x5dd773(0x1bd)];else{}}_0x4df9a7['filled']=_0x2c72f4[_0x5dd773(0x1b5)],updateHighestFee(_0x4df9a7);const _0x32a9ff=await getCoins(balanceUpdateDelay,undefined,undefined,_0x4ade1e);[currentCoins,currentCoinsAll]=_0x32a9ff,setBlockTransactionDetection(![]),await validateOrders(),_0x1238d0(_0x5dd773(0x1b5)),_0x4df9a7[_0x5dd773(0x25d)]={'currency':_0x2c72f4[_0x5dd773(0x25d)]?_0x2c72f4['fee'][_0x5dd773(0x130)]:null,'cost':_0x2c72f4[_0x5dd773(0x25d)]?_0x2c72f4[_0x5dd773(0x25d)][_0x5dd773(0x21c)]:0x0},await updatePnL(_0x4df9a7);}}}!_0x2f13a5&&(logger[_0x5dd773(0x295)](_0x5dd773(0x289)+_0x2c72f4['id']),_0x1238d0(_0x5dd773(0x1b5)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x54489d=JSON[_0x5dd773(0x194)](lastBalances[_0x5dd773(0x220)]);const _0x5bfcb0=_0x54489d['find'](_0x20435b=>_0x20435b[_0x5dd773(0x152)]==_0x2c72f4[_0x5dd773(0x152)]);if(_0x5bfcb0){if(_0x5ad8ea==_0x5dd773(0x244))_0x5bfcb0[_0x5dd773(0x1d1)]=_0x5bfcb0[_0x5dd773(0x1d1)]=='filled'?_0x5dd773(0x1b5):_0x5dd773(0x244);else{if(_0x5ad8ea==_0x5dd773(0x2e0))_0x5bfcb0[_0x5dd773(0x1d1)]=_0x5bfcb0['orderstatus']==_0x5dd773(0x1b5)?_0x5dd773(0x1b5):_0x5dd773(0x2e0);else _0x5ad8ea=='closed'&&(_0x5bfcb0[_0x5dd773(0x1d1)]=_0x5dd773(0x1b5));}}lastBalances={...lastBalances,'portfolio':JSON[_0x5dd773(0x206)](_0x54489d)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0xd2bbd5=_0xbab98b;await getOpenOrders();let _0x55387b=![];currentCoins[_0xd2bbd5(0x1f5)](_0x1ca36b=>{const _0x2c65aa=_0xd2bbd5;_0x55387b=allOpenOrders['find'](_0x5571e9=>_0x5571e9['symbol']==_0x1ca36b[_0x2c65aa(0x152)]),_0x1ca36b[_0x2c65aa(0x1d1)]=_0x55387b?_0x2c65aa(0x244):_0x2c65aa(0x12a);});}async function fetchBalance(_0x3c5fd5=!![]){const _0x41a369=_0xbab98b;let _0xa3a7cf,_0x504a81,_0x33d54d,_0x2d26bf=0x0;while(!_0x504a81&&_0x2d26bf<maxRetries){try{return _0xa3a7cf=await exchange['fetchBalance'](),_0x504a81=_0xa3a7cf[_0x41a369(0x299)],_0x504a81;}catch(_0x5bd847){_0x33d54d=_0x5bd847,_0x2d26bf++,await sleep(retryInterval);}}return!_0x3c5fd5?handleErrorNoStop(_0x33d54d,'fetchBalance()'):await handleError(_0x33d54d,_0x41a369(0x2a6)),![];}async function getCoins(_0x154edd=0x0,_0x369ec2=!![],_0x5306b7=config[_0xbab98b(0x1ec)],_0x5315b2){const _0x54d037=_0xbab98b;let _0x554b4d=[],_0x4a4f2d=[],_0x1fb09e=[],_0x28c2a9;if(_0x154edd)await sleep(_0x154edd);if(botPaused)return[currentCoins,currentCoinsAll];let _0x567e87=![],_0x5838a7=0x0,_0x43a53b,_0x4260a2;_0x5315b2&&(_0x43a53b=currentCoins[_0x54d037(0x1b2)](_0x4737e1=>_0x4737e1[_0x54d037(0x14b)]==_0x5315b2),_0x43a53b&&(_0x4260a2=_0x43a53b[_0x54d037(0x256)],delete _0x43a53b['prevnumber']));while(!_0x567e87){_0x28c2a9=await fetchBalance(_0x369ec2);if(_0x28c2a9){if(_0x5315b2){if(_0x28c2a9[_0x5315b2]!=_0x4260a2)logger[_0x54d037(0x295)]('Valid\x20balance\x20for\x20'+_0x5315b2+':\x20'+_0x28c2a9[_0x5315b2]+'\x20('+_0x4260a2+')'),_0x567e87=!![];else{logger[_0x54d037(0x295)](_0x54d037(0x26f)+_0x5315b2+':\x20'+_0x28c2a9[_0x5315b2]+'\x20('+_0x4260a2+')'),_0x5838a7++;if(_0x5838a7<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger['debug'](_0x54d037(0x22a)+_0x5838a7+_0x54d037(0x169));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x1e9725,_0x2485c0]of Object['entries'](_0x28c2a9)){_0x1fb09e['push'](_0x1e9725);}config['portfolio'][_0x54d037(0x1f5)](_0x16b3d0=>{const _0x1b94c9=_0x54d037;!_0x1fb09e[_0x1b94c9(0x1b8)](_0x16b3d0['coin'])&&(_0x28c2a9[_0x16b3d0[_0x1b94c9(0x14b)]]=0x0);});if(_0x5306b7=='')for(const [_0x23cbe9,_0x52a7af]of Object['entries'](_0x28c2a9)){_0x52a7af!=0x0&&_0x554b4d[_0x54d037(0x195)]({'coin':_0x23cbe9});}else for(const [_0x2afe9e,_0x73d4b1]of Object[_0x54d037(0x1fb)](_0x28c2a9)){const _0x482c30=config[_0x54d037(0x220)]['find'](_0x33ea90=>_0x33ea90[_0x54d037(0x14b)]==_0x2afe9e),_0x41fc6a=_0x2afe9e+'/'+_0x5306b7,_0x3c1b4a=_0x5306b7+'/'+_0x2afe9e,_0x4f00ad=currentCoins[_0x54d037(0x1b2)](_0x46189c=>_0x46189c[_0x54d037(0x14b)]==_0x2afe9e);if((_0x73d4b1!=0x0||_0x482c30)&&(allSymbols['includes'](_0x41fc6a)||_0x2afe9e==_0x5306b7))_0x4f00ad?_0x554b4d[_0x54d037(0x195)]({..._0x4f00ad,'number':Math['max'](_0x73d4b1+(_0x482c30&&_0x482c30['offset']||0x0),0x0)}):_0x554b4d[_0x54d037(0x195)]({'coin':_0x2afe9e,'symbol':_0x41fc6a,'reverse':![],'number':Math[_0x54d037(0x19c)](_0x73d4b1+(_0x482c30&&_0x482c30['offset']||0x0),0x0),'orderstatus':'none'});else{if((_0x73d4b1!=0x0||_0x482c30)&&allSymbols[_0x54d037(0x1b8)](_0x3c1b4a))_0x4f00ad?_0x554b4d[_0x54d037(0x195)]({..._0x4f00ad,'number':Math[_0x54d037(0x19c)](_0x73d4b1+(_0x482c30&&_0x482c30['offset']||0x0),0x0)}):_0x554b4d[_0x54d037(0x195)]({'coin':_0x2afe9e,'symbol':_0x3c1b4a,'reverse':!![],'number':Math[_0x54d037(0x19c)](_0x73d4b1+(_0x482c30&&_0x482c30[_0x54d037(0x1e1)]||0x0),0x0),'orderstatus':_0x54d037(0x12a)});else _0x482c30&&_0x554b4d[_0x54d037(0x195)]({'coin':_0x482c30[_0x54d037(0x14b)],'symbol':_0x482c30['symbol'],'reverse':_0x482c30[_0x54d037(0x141)],'number':0x0,'orderstatus':_0x54d037(0x12a)});}}return _0x554b4d[_0x54d037(0x284)]((_0x5ae1c9,_0x303bfc)=>_0x5ae1c9[_0x54d037(0x21f)]<_0x303bfc[_0x54d037(0x21f)]?0x1:_0x303bfc[_0x54d037(0x21f)]<_0x5ae1c9['delta']?-0x1:0x0),_0x4a4f2d=cloneDeep(_0x554b4d),_0x554b4d=_0x554b4d[_0x54d037(0x29b)](_0xb6cf49=>{const _0x1051f2=_0x54d037,_0x21006d=config[_0x1051f2(0x220)]['find'](_0x51dc16=>_0x51dc16[_0x1051f2(0x14b)]==_0xb6cf49[_0x1051f2(0x14b)]);return _0x21006d&&!_0x21006d['excluded'];}),[_0x554b4d,_0x4a4f2d];}async function getOpenOrders(){const _0x4d24e3=_0xbab98b;let _0x554cbe;allOpenOrders=[];try{for(const _0x1ca31c of config['portfolio']){!_0x1ca31c[_0x4d24e3(0x1ac)]&&_0x1ca31c['coin']!=config['basecoin']&&(_0x554cbe=await exchange['fetchOpenOrders'](_0x1ca31c[_0x4d24e3(0x152)]),_0x554cbe[_0x4d24e3(0x271)]>0x0&&allOpenOrders[_0x4d24e3(0x195)](_0x554cbe[0x0]));}}catch(_0x5def2d){await handleError(_0x5def2d,_0x4d24e3(0x252));}}async function handleOpenOrders(_0x1dbb47=0x0){const _0x17b45b=_0xbab98b;allOpenOrders[_0x17b45b(0x271)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x1dbb47==0x0?(logger[_0x17b45b(0x295)]('1\x20-\x20Handle\x20open\x20orders'),_0x1dbb47++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x17b45b(0x295)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x17b45b(0x142))));}async function testAPI(){const _0x17d66f=_0xbab98b;try{return await exchange[_0x17d66f(0x277)](),!![];}catch(_0xfe031c){loading[_0x17d66f(0x20e)]=!![],_0xfe031c[_0x17d66f(0x267)]()['toLowerCase']()[_0x17d66f(0x1b8)]('timestamp')||_0xfe031c[_0x17d66f(0x267)]()[_0x17d66f(0x13b)]()['includes'](_0x17d66f(0x12e))?(logHistory('error','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading[_0x17d66f(0x2b2)]='timestamp-issue'):handleErrorNoStop(_0xfe031c,_0x17d66f(0x2a1),!![]),logHistory('error',_0x17d66f(0x215)),logHistory('error',_0x17d66f(0x242)+loadCoinsRetryInterval/0xea60+_0x17d66f(0x2cb)),logger[_0x17d66f(0x295)](_0x17d66f(0x2bb),_0xfe031c),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x30e11a){const _0x527a13=_0xbab98b;logger[_0x527a13(0x295)](_0x527a13(0x22d));const _0x83a04e=ccxt[_0x527a13(0x24f)][_0x30e11a[_0x527a13(0x1cc)][_0x527a13(0x13b)]()],_0x34d78c=new _0x83a04e({'apiKey':_0x30e11a[_0x527a13(0x193)],'secret':_0x30e11a['apiSecret'],'options':{'defaultType':_0x527a13(0x160)}});if(_0x30e11a[_0x527a13(0x162)])_0x34d78c[_0x527a13(0x2ba)]=_0x30e11a[_0x527a13(0x162)];if(_0x34d78c[_0x527a13(0x2c8)][_0x527a13(0x134)])_0x34d78c[_0x527a13(0x2b7)](_0x30e11a[_0x527a13(0x134)]);if(_0x30e11a[_0x527a13(0x1cc)][_0x527a13(0x13b)]()=='bitvavo')_0x34d78c['options']['operatorId']=operatorId;try{await _0x34d78c[_0x527a13(0x277)](),botPaused=![];}catch(_0x2d8325){logger[_0x527a13(0x295)]('Error\x20in\x20testNewAPI():\x20'+_0x2d8325[_0x527a13(0x267)]());throw _0x2d8325;}}function cloneDeep(_0x4a7b59){return JSON['parse'](JSON['stringify'](_0x4a7b59));}async function getPortfolio(_0x3d5081){const _0x546cc0=_0xbab98b;let _0x4d388d=[],_0x106428=[],_0x45084e=[],_0x43ca75;_0x3d5081[_0x546cc0(0x193)]=decryptRSA(secure['privateKey'],_0x3d5081[_0x546cc0(0x193)]),_0x3d5081[_0x546cc0(0x2b0)]=decryptRSA(secure[_0x546cc0(0x2cf)],_0x3d5081['apiSecret']);if(_0x3d5081['apiPassword'])_0x3d5081[_0x546cc0(0x162)]=decryptRSA(secure['privateKey'],_0x3d5081['apiPassword']);if(_0x3d5081[_0x546cc0(0x193)]!==_0x546cc0(0x1c6)||_0x3d5081['apiSecret']!==_0x546cc0(0x1c6)||_0x3d5081['apiPassword']&&_0x3d5081[_0x546cc0(0x162)]!==_0x546cc0(0x1c6)){if(config[_0x546cc0(0x1cc)]){if(_0x3d5081[_0x546cc0(0x193)]==_0x546cc0(0x1c6))_0x3d5081[_0x546cc0(0x193)]=config[_0x546cc0(0x193)];if(_0x3d5081[_0x546cc0(0x2b0)]==_0x546cc0(0x1c6))_0x3d5081[_0x546cc0(0x2b0)]=config['apiSecret'];if(_0x3d5081['apiPassword']==_0x546cc0(0x1c6))_0x3d5081['apiPassword']=config['apiPassword'];}try{if(_0x3d5081[_0x546cc0(0x1a8)])await testNewAPI(_0x3d5081);}catch(_0x42c2e0){if(_0x42c2e0[_0x546cc0(0x267)]()[_0x546cc0(0x1b8)](_0x546cc0(0x226))){logHistory('error',_0x546cc0(0x1a2)),logHistory(_0x546cc0(0x2b2),'Error\x20details:\x20'+_0x42c2e0[_0x546cc0(0x267)]()),proxyEmit('portfolio1',![]);return;}else{if(_0x42c2e0[_0x546cc0(0x267)]()['includes'](_0x546cc0(0x168))){logHistory(_0x546cc0(0x2b2),_0x546cc0(0x153)),logHistory('error',_0x546cc0(0x1b6)+_0x42c2e0[_0x546cc0(0x267)]()),proxyEmit(_0x546cc0(0x266),![]);return;}else{logHistory(_0x546cc0(0x2b2),'Error\x20occurred:\x20'+_0x42c2e0[_0x546cc0(0x267)]()),logger['debug'](_0x546cc0(0x2bb),_0x42c2e0),proxyEmit('portfolio1',![]);return;}}}exchange?updateExchange(_0x3d5081[_0x546cc0(0x193)],_0x3d5081['apiSecret'],_0x3d5081[_0x546cc0(0x162)]):await initExchange(_0x3d5081['exchange'],_0x3d5081[_0x546cc0(0x193)],_0x3d5081['apiSecret'],_0x3d5081[_0x546cc0(0x162)],_0x3d5081['sandbox']);await loadSymbols();const _0x5bd6d5=await getCoins(0x0,![],_0x3d5081[_0x546cc0(0x1ec)]);_0x45084e=cloneDeep(_0x5bd6d5[0x1]);}else{const _0x47cd8d=await getCoins();_0x45084e=cloneDeep(_0x47cd8d[0x1]);}if(_0x3d5081[_0x546cc0(0x1ec)]=='')proxyEmit(_0x546cc0(0x266),!![]),proxyEmit(_0x546cc0(0x1ce),_0x45084e);else{_0x45084e[_0x546cc0(0x1f5)](_0xa38119=>{const _0x50e0db=_0x546cc0;if(_0xa38119[_0x50e0db(0x14b)]!=_0x3d5081[_0x50e0db(0x1ec)]&&allSymbols[_0x50e0db(0x1b8)](_0xa38119['symbol']))_0x4d388d['push'](_0xa38119[_0x50e0db(0x152)]);});if(_0x4d388d[_0x546cc0(0x271)]==0x0)logHistory(_0x546cc0(0x2b2),_0x546cc0(0x13f));else{try{_0x106428=await getTickers(_0x4d388d);}catch(_0xefbe8b){logHistory('error',_0x546cc0(0x175)),logger[_0x546cc0(0x295)](_0x546cc0(0x2bb),_0xefbe8b),proxyEmit('portfolio1',![]);return;}_0x45084e[_0x546cc0(0x1f5)](_0x52f02d=>{const _0x2b0858=_0x546cc0;_0x52f02d['coin']!=_0x3d5081[_0x2b0858(0x1ec)]?_0x106428[_0x52f02d[_0x2b0858(0x152)]]?_0x106428[_0x52f02d[_0x2b0858(0x152)]][_0x2b0858(0x127)]?_0x43ca75=_0x52f02d[_0x2b0858(0x141)]?0x1/_0x106428[_0x52f02d[_0x2b0858(0x152)]][_0x2b0858(0x127)]:_0x106428[_0x52f02d[_0x2b0858(0x152)]][_0x2b0858(0x127)]:_0x43ca75=0x0:_0x43ca75=0x0:_0x43ca75=0x1,_0x52f02d[_0x2b0858(0x1bd)]=formatResult(_0x43ca75,0x8);}),await getMarketCap(_0x45084e),proxyEmit(_0x546cc0(0x266),!![]),proxyEmit(_0x546cc0(0x1ce),_0x45084e);}}}function truncateTradeAmount(_0x53fbef,_0x51cef6){let _0xabea29=0x0;try{_0xabea29=exchange['amountToPrecision'](_0x53fbef,_0x51cef6);}catch(_0x45e472){}return _0xabea29;}function checkMinimums(_0x994621){const _0x42d4db=_0xbab98b;let _0x3ea592=!![];const _0xe5460d=!_0x994621['reverse']?markets[_0x994621[_0x42d4db(0x152)]][_0x42d4db(0x222)][_0x42d4db(0x1de)][_0x42d4db(0x24b)]:markets[_0x994621[_0x42d4db(0x152)]]['limits'][_0x42d4db(0x21c)][_0x42d4db(0x24b)],_0x2a4767=!_0x994621[_0x42d4db(0x141)]?markets[_0x994621[_0x42d4db(0x152)]][_0x42d4db(0x222)][_0x42d4db(0x21c)][_0x42d4db(0x24b)]:markets[_0x994621[_0x42d4db(0x152)]][_0x42d4db(0x222)]['amount'][_0x42d4db(0x24b)],_0x28288a=truncateTradeAmount(_0x994621[_0x42d4db(0x152)],_0x994621[_0x42d4db(0x14f)]);_0x994621[_0x42d4db(0x14f)]=_0x28288a;if(Math['abs'](_0x28288a)<_0xe5460d)_0x3ea592=![];if(Math[_0x42d4db(0x17e)](_0x28288a)*_0x994621[_0x42d4db(0x127)]<_0x2a4767)_0x3ea592=![];let _0x1cdd42='';if(_0x994621[_0x42d4db(0x253)]==_0x42d4db(0x243)){let _0x21ebb1=config[_0x42d4db(0x220)][_0x42d4db(0x1b2)](_0x5c8deb=>_0x5c8deb[_0x42d4db(0x14b)]==_0x994621[_0x42d4db(0x14b)]);_0x21ebb1[_0x42d4db(0x1e1)]>0x0?Math['abs'](_0x28288a)>_0x994621[_0x42d4db(0x101)]-_0x21ebb1[_0x42d4db(0x1e1)]&&(_0x3ea592=![],_0x1cdd42='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+_0x21ebb1[_0x42d4db(0x14b)]+_0x42d4db(0x282)):Math[_0x42d4db(0x17e)](_0x28288a)>_0x994621[_0x42d4db(0x101)]&&(_0x3ea592=![]);}if(_0x994621[_0x42d4db(0x253)]==_0x42d4db(0x268)){let _0x5de0a7=config['portfolio'][_0x42d4db(0x1b2)](_0x5acf2a=>_0x5acf2a[_0x42d4db(0x14b)]==config[_0x42d4db(0x1ec)]),_0x119b0f=currentCoins[_0x42d4db(0x1b2)](_0x422be5=>_0x422be5['coin']==config[_0x42d4db(0x1ec)]);_0x5de0a7[_0x42d4db(0x1e1)]>0x0?Math[_0x42d4db(0x17e)](_0x28288a)*_0x994621['last']>_0x119b0f[_0x42d4db(0x101)]-_0x5de0a7['offset']&&(_0x3ea592=![],_0x1cdd42=_0x42d4db(0x11a)+config[_0x42d4db(0x1ec)]+_0x42d4db(0x282)):Math['abs'](_0x28288a)*_0x994621['last']>_0x119b0f[_0x42d4db(0x101)]&&(_0x3ea592=![]);}return!_0x3ea592&&_0x1cdd42&&!insufficientFundsWarningSent[_0x42d4db(0x1b8)](_0x994621[_0x42d4db(0x14b)])&&(logHistory('warning',_0x1cdd42),insufficientFundsWarningSent['push'](_0x994621[_0x42d4db(0x14b)])),_0x3ea592;}async function getBalances(_0x4a3151=!![]){const _0x39b83c=_0xbab98b;if(botPaused)return;let _0x43433f=0x0,_0x5f4e28;const _0x124766=config[_0x39b83c(0x29c)];if(config[_0x39b83c(0x27a)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x39b83c(0x1f5)](_0x39b067=>{const _0x167062=_0x39b83c;if(_0x39b067[_0x167062(0x14b)]!=config[_0x167062(0x1ec)]){let _0x861ff7=gTicker[noslash(_0x39b067['symbol'])];_0x5f4e28=_0x39b067[_0x167062(0x141)]?0x1/_0x861ff7:_0x861ff7;}else _0x5f4e28=0x1;let _0x5c4f55=_0x39b067[_0x167062(0x101)]*_0x5f4e28;_0x43433f+=_0x5c4f55,_0x39b067[_0x167062(0x127)]=formatResult(Number(_0x5f4e28),0x8),_0x39b067[_0x167062(0x19d)]=_0x5c4f55;}),currentCoins[_0x39b83c(0x1f5)](_0x42ed2e=>{const _0x1018fe=_0x39b83c;let _0x5990fe=config['portfolio'][_0x1018fe(0x1b2)](_0x5a1de9=>_0x5a1de9[_0x1018fe(0x14b)]==_0x42ed2e['coin']),_0x2d6508=Number(_0x5990fe[_0x1018fe(0x225)]),_0x271ffb=_0x42ed2e['value']/_0x43433f*0x64,_0x23263e=_0x2d6508*_0x43433f/0x64/_0x42ed2e['last']-_0x42ed2e[_0x1018fe(0x101)];_0x42ed2e[_0x1018fe(0x225)]=formatResult(_0x271ffb,0x3),_0x42ed2e['target']=formatResult(_0x2d6508,0x3),_0x42ed2e[_0x1018fe(0x14f)]=formatResult(_0x23263e,0x8),_0x42ed2e[_0x1018fe(0x253)]='',_0x42ed2e[_0x1018fe(0x144)]=![];if(_0x42ed2e['coin']!=config[_0x1018fe(0x1ec)]){if(_0x42ed2e['distribution']>_0x2d6508)_0x42ed2e[_0x1018fe(0x253)]=_0x1018fe(0x243),_0x42ed2e[_0x1018fe(0x144)]=checkMinimums(_0x42ed2e);else _0x42ed2e[_0x1018fe(0x225)]<_0x2d6508&&(_0x42ed2e[_0x1018fe(0x253)]=_0x1018fe(0x268),_0x42ed2e[_0x1018fe(0x144)]=checkMinimums(_0x42ed2e));}_0x42ed2e[_0x1018fe(0x21f)]=_0x42ed2e[_0x1018fe(0x156)]==0x0?0x270f:_0x42ed2e[_0x1018fe(0x225)]/_0x42ed2e[_0x1018fe(0x156)]-0x1;if(_0x42ed2e['orderstatus']==_0x1018fe(0x1b5)||_0x42ed2e[_0x1018fe(0x1d1)]==_0x1018fe(0x2e0))_0x42ed2e[_0x1018fe(0x1d1)]=_0x1018fe(0x12a);}),currentCoins[_0x39b83c(0x284)]((_0x27a804,_0x2193b3)=>_0x27a804[_0x39b83c(0x21f)]<_0x2193b3[_0x39b83c(0x21f)]?0x1:_0x2193b3['delta']<_0x27a804['delta']?-0x1:0x0);const _0x339c3f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x339c3f[_0x39b83c(0x14d)],'usd':_0x339c3f[_0x39b83c(0x1fa)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x124766},proxyEmit(_0x39b83c(0x1e9),{'serverversion':serverversion,'balances':lastBalances});if(_0x4a3151){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x124766});else lockOrders==ORDERS[_0x39b83c(0x197)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x124766});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x5873f1=getNormalizedPerformance();getStartingBalances(_0x5873f1),emitPerformance(_0x5873f1);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x194c0f=_0xbab98b;let _0x5b590d=dbCoinResults[_0x194c0f(0x2bf)](_0x194c0f(0x10c))['value'](),_0x52ad2e=0x0;return Object['entries'](_0x5b590d)[_0x194c0f(0x1f5)](([_0x538325,_0xd9eb60])=>{const _0x2ca982=_0x194c0f;_0x52ad2e+=_0xd9eb60[_0x2ca982(0x199)];}),_0x52ad2e;}async function storePerformance(){const _0x199a46=_0xbab98b;if(!lastBalances)return;let _0x32d085=[],_0x144cf8;const _0x35be80=getPnL();let _0x3c42ed=JSON[_0x199a46(0x194)](lastBalances[_0x199a46(0x220)]);_0x3c42ed[_0x199a46(0x284)]((_0x2b1b34,_0x1d573f)=>_0x2b1b34[_0x199a46(0x14b)]>_0x1d573f[_0x199a46(0x14b)]?0x1:_0x1d573f[_0x199a46(0x14b)]>_0x2b1b34[_0x199a46(0x14b)]?-0x1:0x0),_0x3c42ed[_0x199a46(0x1f5)](_0x533ad9=>{const _0x1129c4=_0x199a46;let _0x37c074={'coin':_0x533ad9[_0x1129c4(0x14b)],'number':_0x533ad9[_0x1129c4(0x101)],'price':_0x533ad9[_0x1129c4(0x127)]};_0x32d085[_0x1129c4(0x195)](_0x37c074);});const _0x4afbb=await getFiat(),_0x39bbe2=getTimeStamp()['split']('\x20')[0x0],_0x12c79c=dbPerformance[_0x199a46(0x2bf)](_0x199a46(0x29d))['find']({'date':_0x39bbe2})[_0x199a46(0x19d)]();_0x144cf8={'date':_0x39bbe2,'eur':_0x4afbb[_0x199a46(0x14d)],'usd':_0x4afbb[_0x199a46(0x1fa)],'coins':_0x32d085,'pnl':_0x35be80},_0x12c79c?_0x144cf8['date']!=config[_0x199a46(0x14e)]&&dbPerformance[_0x199a46(0x2bf)](_0x199a46(0x29d))[_0x199a46(0x1b2)]({'date':_0x39bbe2})[_0x199a46(0x229)](_0x144cf8)[_0x199a46(0x221)]():dbPerformance['get'](_0x199a46(0x29d))[_0x199a46(0x195)](_0x144cf8)[_0x199a46(0x221)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x399a5a=_0xbab98b;let _0x250d5f=[];if(dbPerformance[_0x399a5a(0x2c8)]('data')[_0x399a5a(0x19d)]()){let _0x35c59b=dbPerformance[_0x399a5a(0x2bf)](_0x399a5a(0x29d))['cloneDeep']()[_0x399a5a(0x29b)](_0x33dc94=>{if(_0x33dc94['coins']['length']==0x0)return![];else return!![];})[_0x399a5a(0x183)](_0x399a5a(0x279))[_0x399a5a(0x19d)](),_0x3f303d=[...config[_0x399a5a(0x2c7)]];_0x3f303d[_0x399a5a(0x284)]((_0x2c9d6b,_0x43c8a8)=>_0x2c9d6b['date']>_0x43c8a8[_0x399a5a(0x279)]?-0x1:_0x43c8a8[_0x399a5a(0x279)]>_0x2c9d6b['date']?0x1:0x0);let _0x48858a=0x1,_0x24aba7=[],_0x24b2d5=0x0;_0x35c59b['slice']()[_0x399a5a(0x141)]()[_0x399a5a(0x1f5)]((_0xd9a9cb,_0x4a3339)=>{const _0x2e5d8e=_0x399a5a;if(_0x3f303d[_0x24b2d5]){if(_0x35c59b[_0x35c59b['length']-_0x4a3339]&&_0x3f303d[_0x24b2d5]['date']==_0x35c59b[_0x35c59b[_0x2e5d8e(0x271)]-_0x4a3339][_0x2e5d8e(0x279)]){if(_0x4a3339<_0x35c59b[_0x2e5d8e(0x271)]){let _0x20093b=0x0,_0x25a56d=0x0;_0x35c59b[_0x35c59b[_0x2e5d8e(0x271)]-_0x4a3339]['coins'][_0x2e5d8e(0x1f5)](_0x5e4cef=>{const _0x4139fa=_0x2e5d8e;_0x25a56d+=_0x5e4cef[_0x4139fa(0x101)]*_0x5e4cef[_0x4139fa(0x1bd)];}),_0x3f303d[_0x24b2d5][_0x2e5d8e(0x246)][_0x2e5d8e(0x1f5)](_0x5a0795=>{const _0x43353f=_0x2e5d8e;_0x20093b+=_0x5a0795[_0x43353f(0x101)]*_0x5a0795['price'];}),_0x48858a*=_0x20093b/(_0x25a56d-_0x20093b)+0x1;}_0x24b2d5++;}}let _0x14c4e1=0x0;_0xd9a9cb['coins'][_0x2e5d8e(0x1f5)](_0x4ce765=>{const _0x4a4fff=_0x2e5d8e;_0x14c4e1+=_0x4ce765[_0x4a4fff(0x101)]*_0x4ce765[_0x4a4fff(0x1bd)];}),_0x24aba7[_0x35c59b[_0x2e5d8e(0x271)]-_0x4a3339-0x1]=_0x14c4e1*(_0x48858a-0x1);});let _0x3464ef=[];_0x3f303d=[...config[_0x399a5a(0x2c7)]]||[];let _0x48d0c4=0x0;_0x24b2d5=0x0,_0x35c59b[_0x399a5a(0x1f5)]((_0x4e3556,_0x31a287)=>{const _0x570c25=_0x399a5a;if(_0x3f303d[_0x24b2d5]){const _0x48da28=fns[_0x570c25(0x194)](_0x3f303d[_0x24b2d5][_0x570c25(0x279)],'yyyy/MM/dd',new Date()),_0x356b80=fns[_0x570c25(0x194)](_0x4e3556[_0x570c25(0x279)],'yyyy/MM/dd',new Date());if(fns[_0x570c25(0x22c)](_0x48da28,_0x356b80)){let _0x11a737=0x0;_0x3f303d[_0x24b2d5][_0x570c25(0x246)][_0x570c25(0x1f5)](_0x46268c=>{const _0x56855f=_0x570c25;!_0x3464ef[_0x46268c[_0x56855f(0x14b)]]?_0x3464ef[_0x46268c['coin']]=_0x46268c[_0x56855f(0x101)]:(_0x11a737=_0x3464ef[_0x46268c[_0x56855f(0x14b)]],_0x3464ef[_0x46268c[_0x56855f(0x14b)]]+=_0x46268c['number']);const _0x46ff9b=_0x4e3556['coins']['find'](_0x410aed=>_0x410aed[_0x56855f(0x14b)]==_0x46268c[_0x56855f(0x14b)]);(!_0x46ff9b||_0x46ff9b[_0x56855f(0x101)]==0x0)&&(_0x48d0c4+=(-_0x46268c[_0x56855f(0x101)]-_0x11a737)*_0x46268c[_0x56855f(0x1bd)]);}),_0x24b2d5++;}}_0x4e3556[_0x570c25(0x10c)][_0x570c25(0x1f5)]((_0x1eef44,_0x3f3b9d)=>{const _0x140827=_0x570c25;_0x3464ef[_0x1eef44['coin']]&&(_0x1eef44[_0x140827(0x24d)]=_0x3464ef[_0x1eef44[_0x140827(0x14b)]]);}),_0x250d5f[_0x570c25(0x195)]({'date':_0x4e3556['date'],'eur':_0x4e3556['eur'],'usd':_0x4e3556[_0x570c25(0x1fa)],'offset':_0x24aba7[_0x31a287],'netoffset':_0x48d0c4,'coins':_0x4e3556[_0x570c25(0x10c)],'pnl':_0x4e3556[_0x570c25(0x136)]});});}return _0x250d5f;}function emitPerformance(_0x3a5796){const _0x1f4f45=_0xbab98b;_0x3a5796['length']!==0x0?(proxyEmit(_0x1f4f45(0x18b),_0x3a5796),lastPerformanceEmitted=getDate()):proxyEmit(_0x1f4f45(0x18b),[]);}function _0x380e(){const _0x9cd85=['kill','\x20minutes','cancelOrder','last','Gateio','configuration-stored','none','bot','match','cancelOrders()','request-time','InsufficientFunds','currency','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Error:\x20Invalid\x20argument\x20','differenceInSeconds','sandbox','\x20>\x20[DEBUG]\x20','pnl','182442ysHWNw','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','DDoSProtection','marketcapApi','toLowerCase','openOrders','staging','\x20-\x20bot\x20not\x20started','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','USDC','reverse','no\x20open\x20orders','net-basecoin','valid','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','/output-000.log','<pre>','Portfolio\x20change\x20detected:\x20','limit-low','Manual\x20balancing\x20required','coin','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','eur','startdate','trade','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','001','symbol','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','join','decrypt','target','loading-canceled','timeshift','emitHistory','LOCKED','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','./config/','bb-settings.json','Insufficient\x20funds\x20to\x20execute\x20order:\x20','ccxt','spot','Error\x20in\x20loadSymbols():\x20','apiPassword','<b>Bot\x20','InvalidOrder','30GSAemF','onepagemode','timestamp-issue','PermissionDenied','\x20attempts','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','send','23906jxExbp','OnMaintenance','freeze','\x20/\x20','Order\x20filled','watchTrades()','-events.json','Unknown\x20error\x20-\x20check\x20logs','\x20API\x20secret\x20is\x20invalid','startprice','Market\x20order','No\x20more\x20open\x20orders\x20-\x20','getSeconds','random','Huobipro','customId','abs','marketcap','RequestTimeout','version','warning','sortBy','timeout','bitvavo','Resetting\x20bot\x20history','memoryUsage','bitmex','final','\x20uses\x20','performance','create','test','time','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','\x20order:\x20','quote','argv','apiKey','parse','push','split','UNLOCKED','net-fiat','realizedPnL','ETH','apply','max','value','keys','change','lowdb','UNLOCKING','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20(see:\x20hodlerhacks.com/fix/1)','%\x20(','\x0aSymbol(s):\x20','decode64','testApi','\x20exchange\x20error:\x20','2.3.5','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','excluded','\x20portfolio:</b>\x20\x0a\x0a',')\x20unknown\x20order:\x20','self_reported_market_cap','sha256','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','find','fetchOpenOrders','watchOrders','filled','Error\x20details:\x20','Initializing\x20exchange','includes','string','1\x20-\x20FILLED\x20known\x20order:\x20','Binance','\x20>\x20','price','getHours','toUpperCase','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','USDP','Bybit','loadMarkets','loadSymbols()','resetHistory','************','InvalidNonce','Exception\x20thrown\x20in\x20','\x20metrics:</b>\x20\x0a\x0a','bot-','starting-balance-','exchange','\x20API\x20key\x20is\x20invalid','portfolio2','Fee\x20discount\x20refund\x20detected:\x20','args','orderstatus','constructor','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','existsSync','Market','recent20','secure','/USD','Net\x20','round','%)\x0a','ordertype','\x20-\x20go\x20back\x20and\x20try\x20again','amount','\x20>\x20pausing\x20bot\x20for\x20','mkdirSync','offset','EUR','message','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','must\x20be\x20greater\x20than\x20minimum\x20amount','configstate','update-liquidity','balances','findIndex','market_cap','basecoin','3NxUxbW','writeFile','emojibuy','fetchTickers','getPortfolio','token\x20is\x20expired','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','getMinutes','forEach','slice','percentage','axios','Placing\x20order\x20for:\x20','usd','entries','event','</pre>','Order(s)\x20not\x20validated\x20after\x20','BUSD','set','shift','code','util','1102265YhQFXJ','<b>','stringify','\x20MB','Loading\x20completed','cooldown','Unfilled\x20order(s)\x20canceled\x20after\x20','ExchangeError','Huobi','Initializing\x20coin\x20results','cancel','API-key\x20format\x20invalid','\x20minutes\x20-\x20','exchanges','-------------------------------\x0a','marketcapEnabled','market','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started','date-fns','TUSD','Bot\x20','remainingSymbols','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','ongoing','cost','createWriteStream','USDT','delta','portfolio','write','limits','bb-secure.json','OrderNotFound','distribution','AuthenticationError','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','exchange\x20reload','assign','Stopped\x20fetching\x20balance\x20after\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','isEqual','Test\x20new\x20API','cloneDeep','Initializing\x20exchange:\x20already\x20done','unlinkSync','replace','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','recovery','removed','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','-performance.json','limit','./version.json','starting-balances','getTime','\x20|\x20','bots','placeOrder','slider','getMonth','237904LWieff','toggleBotMode','Pausing\x20for\x20','sell','open','pop','changes','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','enabled','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','fiat','min','orderId','initial','Order\x20filled:\x20','pro','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20',':\x20Bot\x20','getOpenOrders()','side','netoffset','RateLimitExceeded','prevnumber','Order\x20is\x20invalid:\x20','showConfig','Initiating\x20bot\x20restart','emojisell','2.6.0','getDate','fee','Invalid\x20symbol:\x20','storeHeadless','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','operatorId','format','1\x20-\x20Validate\x20orders:\x20','added','heapUsed','portfolio1','toString','buy','success','Order\x20amount\x20is\x20invalid:\x20','-results.json','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','process\x20','basecoinvalue','Invalid\x20balance\x20for\x20','running','length','321645NmCkfu','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','PAXG','restart','441128pNmsZr','fetchBalance','Resuming\x20(','date','headless','Headless:\x20','pki','closed','padStart','defaults','watchTradesForSymbols','toFixed','\x20due\x20to\x20offset','1463561BSgvPC','sort','event-history','Generated\x20PnL\x20data','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','showname','1\x20-\x20FILLED\x20unknown\x20order:\x20','page','Waited\x20','RETRY\x20-\x20Problem\x20resolved\x20after\x20',':\x20timer\x20>','ask','Saving\x20configuration','0\x20-\x20EXECUTION:\x20','NetworkError','remove','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','status','debug','\x20|\x20highest\x20fee:\x20','.json','Cryptocom','total','function','filter','threshold','data','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','red_yellow_blue','Set\x20lock\x20orders\x20to:\x20','testAPI()','storeFiat','secret','stack','***','fetchBalance()','watchTrades','initclient','\x20exchange','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Trigger:\x20','settings','indexOf','ID:\x20','privateKeyFromPem','apiSecret','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','error','floor',',\x20must\x20be\x20a\x203\x20digit\x20number','PnL\x20','isBefore','setSandboxMode','placeOrder()','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','password','Error\x20details:','substring','autoliquidity','breakeven','get','logs','type','botname','splice','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','1\x20-\x20partially\x20FILLED\x20(','production','liquidity','has','cancelLoading','2\x20-\x20handling\x20FILLED\x20order:\x20','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','Exchange','createOrder','privateKey','sqrt','Reset\x20|\x20','RSA-OAEP','configuration','coin-loading-progress','/EUR','BTC','search','\x20|\x20Custom\x20ID:\x20','bid',')\x20|\x20exchange:\x20','timestamp','sendPortfolioTelegram','getFullYear','Cex','\x20-\x20','canceled','startnumber','balancing\x20resumed','./logs/','number','order','/USDT','log','progress','change24h','\x20has\x20a\x2024h\x20drop\x20of\x20','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','highest','Invalid\x20quantity','yyyy/MM/dd','coins','switch-manual','watchTradesForSymbols()','49gnCCvS','RETRY\x20-\x20Error\x20in\x20','Value\x20','full','\x20network\x20error:\x20','Creating\x20order:\x20','USD','limit-high','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','36KQzwQs','fetchTicker','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','node-forge','uncaughtException','path','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','recreate','options','complete','\x20orders\x20in\x20less\x20than\x20'];_0x380e=function(){return _0x9cd85;};return _0x380e();}function getPerf(_0x754d2a,_0x57fd33){const _0x847f36=_0xbab98b;let _0x14b10b=0x0,_0x2e02fa=0x0,_0x5e9d2d=0x0;_0x754d2a[_0x847f36(0x10c)]['forEach'](_0x1695bd=>{const _0x3c6ebb=_0x847f36;_0x14b10b+=_0x1695bd[_0x3c6ebb(0x101)]*_0x1695bd[_0x3c6ebb(0x1bd)];});_0x57fd33&&(_0x14b10b+=_0x754d2a[_0x847f36(0x1e1)]);if(config[_0x847f36(0x1ec)]===_0x847f36(0x2d6)||config['basecoin']==='ETH'||config[_0x847f36(0x1ec)]==='PAXG')_0x2e02fa=_0x14b10b*_0x754d2a[_0x847f36(0x14d)],_0x5e9d2d=_0x14b10b*_0x754d2a[_0x847f36(0x1fa)];else{if(usdBasecoins[_0x847f36(0x1b8)](config[_0x847f36(0x1ec)]))_0x2e02fa=_0x14b10b*_0x754d2a[_0x847f36(0x14d)]/_0x754d2a[_0x847f36(0x1fa)],_0x5e9d2d=_0x14b10b;else config[_0x847f36(0x1ec)]===_0x847f36(0x1e2)&&(_0x2e02fa=_0x14b10b,_0x5e9d2d=_0x14b10b*_0x754d2a[_0x847f36(0x1fa)]/_0x754d2a[_0x847f36(0x14d)]);}return[_0x14b10b,_0x2e02fa,_0x5e9d2d];}function CurrencyFactor(_0x4da11d,_0x4e9346,_0xe72718){const _0x1110d7=_0xbab98b;let _0x501b61;if(_0x4e9346===_0x1110d7(0x2d6)||_0x4e9346===_0x1110d7(0x19a)||_0x4e9346===_0x1110d7(0x274))_0x501b61=_0xe72718==='EUR'?_0x4da11d['eur']:_0x4da11d[_0x1110d7(0x1fa)];else{if(usdBasecoins[_0x1110d7(0x1b8)](_0x4e9346))_0x501b61=_0xe72718===_0x1110d7(0x1e2)?_0x4da11d[_0x1110d7(0x14d)]/_0x4da11d[_0x1110d7(0x1fa)]:0x1;else _0x4e9346==='EUR'&&(_0x501b61=_0xe72718===_0x1110d7(0x1e2)?0x1:_0x4da11d[_0x1110d7(0x1fa)]/_0x4da11d[_0x1110d7(0x14d)]);}return _0x501b61;}function getKPIs(_0x4240ae,_0x29acf0=_0xbab98b(0x1e2)){const _0x54f59e=_0xbab98b,_0x3b4e01=config[_0x54f59e(0x1ec)],_0x5380ad=lastBalances,_0x39e675=currentCoins,_0x62ec53=getNormalizedPerformance(),_0x5d7ceb=CurrencyFactor(_0x5380ad,config[_0x54f59e(0x1ec)],_0x29acf0);let _0xc283da=0x0;_0x39e675[_0x54f59e(0x1f5)](_0x7748ab=>{const _0x3c0cd8=_0x54f59e;_0xc283da+=_0x7748ab[_0x3c0cd8(0x101)]*_0x7748ab[_0x3c0cd8(0x127)];});_0x4240ae[_0x54f59e(0x1b8)](_0x54f59e(0x24a))&&(_0xc283da*=_0x5d7ceb);let _0x21d0b7;if(_0xc283da!==0x0){if(_0x4240ae==='basecoin'||_0x4240ae==='fiat'){if(_0x4240ae==='basecoin')_0x21d0b7=(_0xc283da/startingBalances[_0x54f59e(0x1ec)]-0x1)*0x64;else{if(_0x29acf0===_0x54f59e(0x1e2))_0x21d0b7=(_0xc283da/startingBalances['eur']-0x1)*0x64;else _0x21d0b7=(_0xc283da/startingBalances[_0x54f59e(0x1fa)]-0x1)*0x64;}}if(_0x4240ae[_0x54f59e(0x1b8)]('net')){let _0x451688=0x0;if(startingBalances[_0x54f59e(0x10c)])_0x39e675[_0x54f59e(0x1f5)](_0x1cff26=>{const _0x3549bd=_0x54f59e;let _0x5e18ad=startingBalances[_0x3549bd(0x10c)]['find'](_0x2b6b47=>_0x2b6b47[_0x3549bd(0x14b)]===_0x1cff26[_0x3549bd(0x14b)]);if(_0x5e18ad&&_0x5e18ad[_0x3549bd(0x14b)]&&_0x1cff26['number']!==0x0)_0x451688+=_0x5e18ad[_0x3549bd(0x101)]*_0x1cff26['last'];});let _0x1a1ed1=0x0;if(_0x62ec53[_0x54f59e(0x271)]!==0x0){let _0x302caf=_0x62ec53[_0x62ec53['length']-0x1];_0x1a1ed1=_0x302caf[_0x54f59e(0x254)];}_0x451688-=_0x1a1ed1;let _0x1f677e;_0x4240ae===_0x54f59e(0x143)&&(_0x1f677e=startingBalances[_0x54f59e(0x1ec)]),_0x4240ae===_0x54f59e(0x198)&&(_0x1f677e=_0x29acf0===_0x54f59e(0x1e2)?startingBalances[_0x54f59e(0x14d)]:startingBalances[_0x54f59e(0x1fa)],_0x451688*=_0x5d7ceb),_0x21d0b7=(_0xc283da-_0x451688)/_0x1f677e*0x64,_0xc283da=_0xc283da-_0x451688;}if(_0x4240ae[_0x54f59e(0x1b8)](_0x54f59e(0x136))){if(_0x62ec53[_0x54f59e(0x271)]!==0x0&&_0x39e675[_0x54f59e(0x271)]!==0x0){let _0x58d136,_0x40d163=_0x62ec53[_0x62ec53[_0x54f59e(0x271)]-0x1][_0x54f59e(0x136)];_0x4240ae[_0x54f59e(0x1b8)]('fiat')?(_0x58d136=_0x29acf0==='EUR'?startingBalances[_0x54f59e(0x14d)]:startingBalances[_0x54f59e(0x1fa)],_0x40d163*=CurrencyFactor(_0x5380ad,_0x3b4e01,_0x29acf0)):_0x58d136=startingBalances[_0x54f59e(0x1ec)],_0x21d0b7=_0x40d163/_0x58d136*0x64,_0xc283da=_0x40d163;}}if(_0x21d0b7){if(_0x21d0b7<0x64)_0x21d0b7=_0x21d0b7[_0x54f59e(0x281)](0x2);else{if(_0x21d0b7<0x3e8)_0x21d0b7=_0x21d0b7[_0x54f59e(0x281)](0x1);else _0x21d0b7=_0x21d0b7[_0x54f59e(0x281)](0x0);}}else _0x21d0b7=Number('0')[_0x54f59e(0x281)](0x2);if(_0xc283da){if(Math['abs'](_0xc283da)<0.000001)_0xc283da=_0xc283da['toFixed'](0x2);else{if(Math[_0x54f59e(0x17e)](_0xc283da)<0.1)_0xc283da=_0xc283da[_0x54f59e(0x281)](0x6);else{if(Math[_0x54f59e(0x17e)](_0xc283da)<0x1)_0xc283da=_0xc283da[_0x54f59e(0x281)](0x5);else{if(Math['abs'](_0xc283da)<0xa)_0xc283da=_0xc283da[_0x54f59e(0x281)](0x4);else{if(Math[_0x54f59e(0x17e)](_0xc283da)<0x64)_0xc283da=_0xc283da[_0x54f59e(0x281)](0x3);else{if(Math[_0x54f59e(0x17e)](_0xc283da)<0x3e8)_0xc283da=_0xc283da[_0x54f59e(0x281)](0x2);else _0xc283da=_0xc283da['toFixed'](0x2);}}}}}}else _0xc283da=Number('0')[_0x54f59e(0x281)](0x2);}else _0x21d0b7=Number('0')[_0x54f59e(0x281)](0x2);if(_0x21d0b7>=0x0)_0x21d0b7='+'+_0x21d0b7;return{'value':_0xc283da,'change':_0x21d0b7};}async function getStartingBalances(_0x5b1785,_0x44a175=!![]){const _0xa76273=_0xbab98b;if(_0x5b1785[_0xa76273(0x271)]!==0x0){const [_0x5e2fa1,_0x182c84,_0x2143e0]=getPerf(_0x5b1785[0x0],!![]);let _0x2fad46=[];config['portfolio']['forEach'](_0x345ae9=>{const _0x3e831e=_0xa76273;let _0x25c388=0x0,_0x5f5e03;config['liquidity'][_0x3e831e(0x1f5)](_0x301309=>{const _0x27ff70=_0x3e831e;let _0x1aef3e=_0x301309[_0x27ff70(0x246)][_0x27ff70(0x1b2)](_0x676078=>_0x676078[_0x27ff70(0x14b)]==_0x345ae9[_0x27ff70(0x14b)]);if(_0x1aef3e){_0x25c388+=_0x1aef3e[_0x27ff70(0x101)];if(!_0x5f5e03)_0x5f5e03=_0x1aef3e[_0x27ff70(0x1bd)];}}),_0x2fad46[_0x3e831e(0x195)]({'coin':_0x345ae9[_0x3e831e(0x14b)],'number':_0x25c388,'initialprice':_0x5f5e03});});const _0x2f8eea={'basecoin':_0x5e2fa1,'eur':_0x182c84,'usd':_0x2143e0,'coins':_0x2fad46};if(_0x44a175)proxyEmit(_0xa76273(0x239),_0x2f8eea);startingBalances=_0x2f8eea;}}function headlessMode(_0x435603){const _0x5f070c=_0xbab98b;let _0x597101=_0x435603[_0x5f070c(0x220)],_0x25d1f3=_0x435603[_0x5f070c(0x29c)],_0x31c33c=[];for(let _0x55a97d of _0x597101){if(_0x55a97d['coin']!=config[_0x5f070c(0x1ec)]){if(_0x55a97d[_0x5f070c(0x21f)]>=_0x25d1f3/0x64){if(_0x55a97d['valid'])_0x31c33c['push'](_0x55a97d);}else{if(_0x55a97d[_0x5f070c(0x21f)]<=-_0x25d1f3/0x64){if(_0x55a97d[_0x5f070c(0x144)])_0x31c33c['push'](_0x55a97d);}}}}_0x31c33c[_0x5f070c(0x271)]>0x0&&placeOrder(_0x31c33c);}function notifyBalance(_0x4545bd){const _0x3aeb14=_0xbab98b;let _0x7e6cb8=_0x4545bd['portfolio'],_0x47732e=_0x4545bd[_0x3aeb14(0x29c)],_0x2bda4b=[];for(let _0x4c0475 of _0x7e6cb8){if(_0x4c0475[_0x3aeb14(0x14b)]!=config['basecoin']){if(_0x4c0475[_0x3aeb14(0x21f)]>=_0x47732e/0x64){if(_0x4c0475[_0x3aeb14(0x144)])_0x2bda4b[_0x3aeb14(0x195)](_0x4c0475);}else{if(_0x4c0475['delta']<=-_0x47732e/0x64){if(_0x4c0475[_0x3aeb14(0x144)])_0x2bda4b[_0x3aeb14(0x195)](_0x4c0475);}}}}if(_0x2bda4b[_0x3aeb14(0x271)]>0x0){let _0x184d25=_0x2bda4b['map'](_0x1a4170=>_0x1a4170[_0x3aeb14(0x14b)]);_0x184d25['sort']();let _0x1a0657=_0x184d25['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x3aeb14(0x14a));lastCoinsToBalance=_0x1a0657;}}function symbolToCoin(_0x456607){const _0x3c2de7=_0xbab98b;let _0x1d0d90;if(_0x456607[_0x3c2de7(0x1b8)]('/'+config[_0x3c2de7(0x1ec)]))_0x1d0d90=_0x456607[_0x3c2de7(0x231)]('/'+config['basecoin'],'');if(_0x456607[_0x3c2de7(0x1b8)](config[_0x3c2de7(0x1ec)]+'/'))_0x1d0d90=_0x456607[_0x3c2de7(0x231)](config[_0x3c2de7(0x1ec)]+'/','');return _0x1d0d90;}function setLockOrders(_0x25f85d){const _0x4f6f0b=_0xbab98b;lockOrders=_0x25f85d,logger[_0x4f6f0b(0x295)](_0x4f6f0b(0x2a0)+Object[_0x4f6f0b(0x19e)](ORDERS)[lockOrders]);}async function unlockOrders(_0x175161=![]){const _0x4028bc=_0xbab98b;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){setLockOrders(ORDERS[_0x4028bc(0x1a1)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x175161){const _0x4fcd58=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4fcd58,setBlockTransactionDetection(![]);}validateOrdersState='initial',persistOpenOrders([]),setLockOrders(ORDERS[_0x4028bc(0x197)]);}}async function validateOrders(_0x5b8028){const _0x24f854=_0xbab98b;if(_0x5b8028)validateOrdersState=_0x5b8028;logger[_0x24f854(0x295)](_0x24f854(0x263)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+Object[_0x24f854(0x19e)](ORDERS)[lockOrders]);let _0x42555f=[],_0x27f10c=config[_0x24f854(0x1dc)]==_0x24f854(0x214)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x24f854(0x184)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x24f854(0x15a)])return;logger[_0x24f854(0x295)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState);for(let _0x2b8f8f=lastOrders['length']-0x1;_0x2b8f8f>=0x0;_0x2b8f8f--){let _0x109845=lastOrders[_0x2b8f8f],_0x2aff7d=![];_0x109845[_0x24f854(0x1b5)]>0x0&&(_0x2aff7d=!![]),_0x42555f[_0x24f854(0x195)](_0x2aff7d),_0x2aff7d&&config[_0x24f854(0x1dc)]!=_0x24f854(0x214)&&logHistory(_0x24f854(0x102),_0x24f854(0x24e)+_0x109845[_0x24f854(0x152)]+'\x20'+_0x109845[_0x24f854(0x253)]+'\x20#'+formatResult(_0x109845[_0x24f854(0x1b5)],0x8)+'\x20@'+formatResult(_0x109845[_0x24f854(0x1bd)],0x8)),_0x2aff7d&&lastOrders[_0x24f854(0x2c3)](_0x2b8f8f,0x1);}persistOpenOrders(lastOrders);const _0xe7d792=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x24f854(0x2e2);if(validateOrdersState==_0x24f854(0x24d)){validateOrdersState=_0x24f854(0x21b);if(_0x42555f[_0x24f854(0x1b8)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x24f854(0x21b)){if(_0x42555f[_0x24f854(0x1b8)](![])){}else await unlockOrders();}else{if(validateOrdersState=='final'){let _0x1d180d=!![];if(_0x42555f[_0x24f854(0x1b8)](![])){if(config[_0x24f854(0x1dc)]==_0x24f854(0x214))logHistory(_0x24f854(0x269),_0x24f854(0x1fe)+Math[_0x24f854(0x1da)](_0x27f10c*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0xe7d792),await unlockOrders(!![]);else{_0x1d180d=await cancelOrders();if(_0x1d180d)logHistory('success',_0x24f854(0x20a)+Math[_0x24f854(0x1da)](_0x27f10c*validateOrderInterval/0xea60)+_0x24f854(0x210)+_0xe7d792),await unlockOrders(!![]);else{validateOrdersState=_0x24f854(0x21b),logHistory('error','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20'+Math[_0x24f854(0x1da)](_0x27f10c*validateOrderInterval/0xea60)+_0x24f854(0x210)+_0xe7d792),logHistory(_0x24f854(0x2b2),_0x24f854(0x1d3));const _0x2e940a=config[_0x24f854(0x1dc)]==_0x24f854(0x214)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x481b25=_0x24f854;validateOrders(_0x481b25(0x189));},_0x2e940a);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x24f854(0x142)){if(config[_0x24f854(0x1dc)]!=_0x24f854(0x214))logHistory('success',_0x24f854(0x179)+_0xe7d792);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0xa69990=_0xbab98b;let _0x194729=!![],_0x220089;for(const _0x2fbe4e of lastOrders){let _0x43fcea=![],_0x36c62f=0x0;while(!_0x43fcea&&_0x36c62f<maxRetries){try{const _0x335c69=await exchange[_0xa69990(0x126)](_0x2fbe4e[_0xa69990(0x24c)],_0x2fbe4e['symbol']);_0x43fcea=!![];}catch(_0x251c00){_0x251c00['toString']()[_0xa69990(0x1b8)](_0xa69990(0x224))||_0x251c00[_0xa69990(0x267)]()[_0xa69990(0x1b8)]('InvalidOrder')?_0x43fcea=!![]:(_0x220089=_0x251c00,_0x43fcea=![]);}!_0x43fcea&&(_0x36c62f++,await sleep(retryInterval));}_0x194729=_0x194729&&_0x43fcea;}return!_0x194729&&await handleError(_0x220089,_0xa69990(0x12d)),_0x194729;}async function initCoinResults(_0x21ecce){const _0x4ce4c1=_0xbab98b;_0x21ecce?logger['debug']('Resetting\x20coin\x20results:\x20'+_0x21ecce):logger['debug'](_0x4ce4c1(0x20d)),config[_0x4ce4c1(0x220)][_0x4ce4c1(0x1f5)](_0x2d1462=>{const _0x156362=_0x4ce4c1;if(!_0x2d1462[_0x156362(0x1ac)]&&_0x2d1462[_0x156362(0x14b)]!=config[_0x156362(0x1ec)]){const _0x50237f=currentCoins[_0x156362(0x1b2)](_0x341979=>_0x341979[_0x156362(0x14b)]==_0x2d1462[_0x156362(0x14b)]),_0xbd2a8=gTicker[noslash(_0x2d1462['symbol'])];let _0x11bb72=_0x50237f?_0x50237f[_0x156362(0x101)]:null,_0x3185ca=_0x2d1462[_0x156362(0x141)]?0x1/_0xbd2a8:_0xbd2a8,_0x219595;config['liquidity'][_0x156362(0x1f5)](_0x2337d5=>{const _0x21077b=_0x156362;!_0x219595&&(_0x219595=_0x2337d5[_0x21077b(0x246)][_0x21077b(0x1b2)](_0x4e404f=>_0x4e404f[_0x21077b(0x14b)]==_0x2d1462[_0x21077b(0x14b)]),_0x219595&&(_0x11bb72=_0x219595[_0x21077b(0x101)],_0x3185ca=_0x219595['price']));});let _0x17663b=dbCoinResults['get'](_0x156362(0x10c))['find']({'coin':_0x2d1462[_0x156362(0x14b)]})['value']();if(!_0x17663b){const _0x3bb8d2={'coin':_0x2d1462[_0x156362(0x14b)],'number':_0x11bb72,'breakeven':_0x3185ca,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x156362(0x2bf)]('coins')[_0x156362(0x195)](_0x3bb8d2)[_0x156362(0x221)]();}else{if(_0x21ecce&&_0x2d1462[_0x156362(0x14b)]==_0x21ecce){const _0x19f18d={'coin':_0x2d1462[_0x156362(0x14b)],'number':_0x11bb72,'breakeven':_0x3185ca,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x156362(0x2bf)](_0x156362(0x10c))['find']({'coin':_0x2d1462['coin']})[_0x156362(0x229)](_0x19f18d)['write']();}}}});}async function placeOrder(_0x55259f){const _0x477e25=_0xbab98b,_0x3c18b5=config[_0x477e25(0x1dc)]==_0x477e25(0x214)?_0x477e25(0x214):'limit';if(lockOrders==ORDERS[_0x477e25(0x197)]&&!coolingDown){setLockOrders(ORDERS[_0x477e25(0x15a)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x477e25(0x295)](_0x477e25(0x1f9)+_0x55259f['map'](_0x3e37d4=>_0x3e37d4[_0x477e25(0x14b)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x477e25(0x24d);let _0x39470c=![];lastOrders=[];const _0x58d896=config[_0x477e25(0x29c)];for(const _0x5c64ac of _0x55259f){let _0xc74fde,_0x57bd62,_0x4c5f66,_0x125bdc,_0xd7af0e,_0x25283d=_0x5c64ac[_0x477e25(0x152)];logger[_0x477e25(0x295)](_0x477e25(0x2ab)+_0x5c64ac[_0x477e25(0x14b)]+'\x20'+_0x5c64ac[_0x477e25(0x101)]+'\x20'+_0x5c64ac['last']+'\x20'+_0x5c64ac[_0x477e25(0x225)]+'%\x20'+_0x5c64ac[_0x477e25(0x156)]+'%\x20'+(0x64*_0x5c64ac[_0x477e25(0x21f)])[_0x477e25(0x281)](0x2)+_0x477e25(0x1a5)+_0x58d896[_0x477e25(0x281)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x477e25(0x29b)](_0x202a91=>_0x202a91!==_0x5c64ac[_0x477e25(0x14b)]);const _0x409bd2=currentCoins[_0x477e25(0x1b2)](_0x5eccd0=>_0x5eccd0[_0x477e25(0x14b)]==_0x5c64ac[_0x477e25(0x14b)]);_0x409bd2&&(_0x409bd2['prevnumber']=_0x5c64ac[_0x477e25(0x101)]);try{const _0x16b006=await exchange[_0x477e25(0x119)](_0x25283d);_0xc74fde=_0x5c64ac[_0x477e25(0x141)]?0x1/_0x5c64ac[_0x477e25(0x127)]:_0x5c64ac[_0x477e25(0x127)],_0x57bd62=_0x16b006[_0x477e25(0x2d9)],_0x4c5f66=_0x16b006[_0x477e25(0x28e)];_0x5c64ac['reverse']?(_0x125bdc=_0x5c64ac[_0x477e25(0x253)]==_0x477e25(0x268)?_0x477e25(0x243):_0x477e25(0x268),_0xd7af0e=Math[_0x477e25(0x17e)](_0x5c64ac[_0x477e25(0x14f)])/_0xc74fde):(_0x125bdc=_0x5c64ac[_0x477e25(0x253)],_0xd7af0e=Math[_0x477e25(0x17e)](_0x5c64ac['trade']));_0x3c18b5==_0x477e25(0x237)&&(config[_0x477e25(0x1dc)]=='limit-high'&&(_0xc74fde=_0x125bdc==_0x477e25(0x268)?_0x57bd62:_0x4c5f66),config[_0x477e25(0x1dc)]==_0x477e25(0x149)&&(_0xc74fde=_0x125bdc=='buy'?_0x4c5f66:_0x57bd62));_0xd7af0e=formatResult(_0xd7af0e,0x8),_0xc74fde=formatResult(_0xc74fde,0x8);const _0x5397b6=_0x125bdc=='sell'?config[_0x477e25(0x25a)]?String['fromCodePoint']('0x'+config[_0x477e25(0x25a)])+'\x20':'':config[_0x477e25(0x1ef)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x530de3=_0x3c18b5==_0x477e25(0x214)?_0x477e25(0x1d5):config[_0x477e25(0x1dc)]==_0x477e25(0x116)?'Limit\x20(high-margin)':'Limit\x20(low-margin)',_0x4fc0da=(Math[_0x477e25(0x2b3)](Math[_0x477e25(0x17b)]()*0x35a4e900)+0x5f5e100)[_0x477e25(0x267)]();lastOrders['push']({'customId':_0x4fc0da,'symbol':_0x25283d,'coin':_0x5c64ac[_0x477e25(0x14b)],'amount':_0xd7af0e,'price':_0xc74fde,'side':_0x125bdc,'reverse':_0x5c64ac[_0x477e25(0x141)],'filled':0x0});let _0x38ef94;_0x3c18b5==_0x477e25(0x214)?_0x125bdc=='buy'&&[_0x477e25(0x1c2),'Bitget',_0x477e25(0x2de),_0x477e25(0x128),_0x477e25(0x20c),_0x477e25(0x17c)][_0x477e25(0x1b8)](config[_0x477e25(0x1cc)])?(logger['debug'](_0x477e25(0x114)+_0x25283d+'\x20'+_0x3c18b5+'\x20'+_0x125bdc+'\x20#'+_0xd7af0e+'\x20@'+_0xc74fde),_0x38ef94=await exchange['createOrder'](_0x25283d,_0x3c18b5,_0x125bdc,_0xd7af0e,_0xc74fde)):(logger[_0x477e25(0x295)](_0x477e25(0x114)+_0x25283d+'\x20'+_0x3c18b5+'\x20'+_0x125bdc+'\x20#'+_0xd7af0e+'\x20@undefined'),_0x38ef94=await exchange['createOrder'](_0x25283d,_0x3c18b5,_0x125bdc,_0xd7af0e,undefined)):(logger[_0x477e25(0x295)]('Creating\x20order:\x20'+_0x25283d+'\x20'+_0x3c18b5+'\x20'+_0x125bdc+'\x20#'+_0xd7af0e+'\x20@'+_0xc74fde),_0x38ef94=await exchange[_0x477e25(0x2ce)](_0x25283d,_0x3c18b5,_0x125bdc,_0xd7af0e,_0xc74fde));const _0x22f198=lastOrders[_0x477e25(0x271)]-0x1;if(_0x22f198>=0x0&&lastOrders[_0x22f198][_0x477e25(0x17d)]==_0x4fc0da){lastOrders[_0x22f198][_0x477e25(0x24c)]=_0x38ef94['id'];if(_0x38ef94[_0x477e25(0x1de)])lastOrders[_0x22f198][_0x477e25(0x1de)]=_0x38ef94['amount'];if(_0x38ef94[_0x477e25(0x1bd)])lastOrders[_0x22f198][_0x477e25(0x1bd)]=_0x38ef94[_0x477e25(0x1bd)];lastOrders[_0x22f198]['fee']=_0x38ef94[_0x477e25(0x25d)];}if(_0x38ef94[_0x477e25(0x1de)])_0xd7af0e=_0x38ef94['amount'];if(_0x38ef94[_0x477e25(0x1bd)])_0xc74fde=_0x38ef94[_0x477e25(0x1bd)];if(_0x3c18b5==_0x477e25(0x214))logHistory(_0x477e25(0x102),''+_0x5397b6+_0x530de3+_0x477e25(0x190)+_0x25283d+'\x20'+_0x125bdc+'\x20#'+formatResult(_0xd7af0e,0x8)+'\x20@'+formatResult(_0xc74fde,0x8));else logHistory('order',''+_0x5397b6+_0x530de3+_0x477e25(0x190)+_0x25283d+'\x20'+_0x125bdc+'\x20#'+formatResult(_0xd7af0e,0x8)+'\x20@'+formatResult(_0xc74fde,0x8));logger[_0x477e25(0x295)](_0x477e25(0x2ae)+_0x38ef94['id']+_0x477e25(0x2d8)+_0x4fc0da);if(config[_0x477e25(0x209)]!=0x0){let _0x1761a5=null;if(cooldownTracker[_0x477e25(0x271)]==config['cooldown']-0x1)_0x1761a5=cooldownTracker[_0x477e25(0x201)]();const _0x5f52f7=getTimeStamp();cooldownTracker[_0x477e25(0x195)](_0x5f52f7);if(_0x1761a5){const _0x2861d1=fns[_0x477e25(0x133)](new Date(_0x5f52f7),new Date(_0x1761a5));if(_0x2861d1<cooldownInterval){logHistory('error','Executed\x20'+config[_0x477e25(0x209)]+_0x477e25(0x123)+cooldownInterval/0x3c+_0x477e25(0x2aa)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0xce13fb){if(_0xce13fb[_0x477e25(0x267)]()[_0x477e25(0x1b8)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x477e25(0x29b)](_0x7029ac=>_0x7029ac[_0x477e25(0x152)]!=_0x25283d),logHistory(_0x477e25(0x2b2),_0x477e25(0x26c)+_0x25283d),_0x39470c=!![];else{if(_0xce13fb[_0x477e25(0x267)]()[_0x477e25(0x1b8)](_0x477e25(0x10a)))lastOrders=lastOrders[_0x477e25(0x29b)](_0x34ae5d=>_0x34ae5d[_0x477e25(0x152)]!=_0x25283d),logHistory(_0x477e25(0x2b2),_0x477e25(0x26a)+_0x25283d),_0x39470c=!![];else{if(_0xce13fb[_0x477e25(0x267)]()[_0x477e25(0x1b8)](_0x477e25(0x164)))lastOrders=lastOrders['filter'](_0x128d38=>_0x128d38[_0x477e25(0x152)]!=_0x25283d),logHistory(_0x477e25(0x2b2),_0x477e25(0x257)+_0x25283d),logger['debug'](_0xce13fb),_0x39470c=!![];else _0xce13fb['toString']()['includes'](_0x477e25(0x1e6))?(lastOrders=lastOrders['filter'](_0x50263f=>_0x50263f[_0x477e25(0x152)]!=_0x25283d),logHistory('error',_0x477e25(0x26c)+_0x25283d),_0x39470c=!![]):(lastOrders=lastOrders[_0x477e25(0x29b)](_0x6c26af=>_0x6c26af['symbol']!=_0x25283d),await handleError(_0xce13fb,_0x477e25(0x2b8),_0x25283d));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x477e25(0x271)]>0x0){const _0x4e1c16=config[_0x477e25(0x1dc)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x477e25(0x184)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x4e1c16);}else unlockOrders();_0x39470c&&config[_0x477e25(0x27a)]&&(logHistory(_0x477e25(0x2b2),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x477e25(0x269),_0x477e25(0x22b)));}else{if(coolingDown)!config[_0x477e25(0x27a)]&&logHistory(_0x477e25(0x2b2),_0x477e25(0x16c));else lockOrders!=ORDERS[_0x477e25(0x197)]&&(!config['headless']&&(config[_0x477e25(0x1dc)]==_0x477e25(0x214)?logHistory(_0x477e25(0x2b2),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x477e25(0x2b2),_0x477e25(0x249))));}}function persistOpenOrders(_0x1bce99){const _0x4364f7=_0xbab98b,_0x2a86b9={...config,'openOrders':_0x1bce99};let _0x5c0c49=dbConfig[_0x4364f7(0x2bf)](_0x4364f7(0x12b))[_0x4364f7(0x1b2)]({'botID':botID})[_0x4364f7(0x19d)]();_0x5c0c49&&dbConfig['get'](_0x4364f7(0x12b))[_0x4364f7(0x1b2)]({'botID':botID})[_0x4364f7(0x229)](_0x2a86b9)[_0x4364f7(0x221)]();}function restoreOrders(){const _0xc4d07b=_0xbab98b;let _0x24be90;config[_0xc4d07b(0x13c)]&&allOpenOrders[_0xc4d07b(0x1f5)](_0x473ea9=>{const _0x1eaafc=_0xc4d07b,_0x4afb7b=config[_0x1eaafc(0x13c)][_0x1eaafc(0x1b2)](_0x42f20b=>_0x42f20b['orderId']==_0x473ea9['id']);_0x4afb7b&&(lastOrders['push'](_0x4afb7b),_0x24be90=_0x473ea9[_0x1eaafc(0x2db)]);});if(lastOrders[_0xc4d07b(0x271)]>0x0){setLockOrders(ORDERS[_0xc4d07b(0x15a)]),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x418406=new Date()[_0xc4d07b(0x23a)](),_0x1ba338=config[_0xc4d07b(0x1dc)]==_0xc4d07b(0x214)?validateOrderTimeout*0x3c*0x3e8:config[_0xc4d07b(0x184)]*0x3c*0x3e8;if(_0x24be90+_0x1ba338>_0x418406){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x14435d=_0xc4d07b;validateOrders(_0x14435d(0x189));},_0x24be90+_0x1ba338-_0x418406);}else validateOrders(_0xc4d07b(0x189));}}async function sendMetricsTelegram(){const _0xc1f525=_0xbab98b;if(!coinsLoaded){process[_0xc1f525(0x16d)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x2ce8bf=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x15241d='';if(config[_0xc1f525(0x288)])_0x15241d='<b>'+config[_0xc1f525(0x2c2)]+_0xc1f525(0x1c9);else _0x15241d=_0xc1f525(0x163)+botID+_0xc1f525(0x1c9);const _0x27158f=config['basecoin'],_0x1f21e7=config[_0xc1f525(0x24a)],_0x5e2485=getKPIs('basecoin'),_0x51a962=getKPIs(_0xc1f525(0x24a),_0x1f21e7),_0x3e0492=getKPIs('net-basecoin'),_0x136963=getKPIs(_0xc1f525(0x198),_0x1f21e7),_0x471fa7=getKPIs('pnl-basecoin'),_0x2679b6=getKPIs('pnl-fiat',_0x1f21e7);_0x27158f['includes'](_0x1f21e7)?(_0x15241d+=_0xc1f525(0x147),_0x15241d+='Value\x20'+_0x27158f+':\x20'+_0x5e2485[_0xc1f525(0x19d)]+'\x20('+_0x5e2485[_0xc1f525(0x19f)]+'%)\x0a',_0x15241d+=_0xc1f525(0x1d9)+_0x27158f+':\x20'+_0x3e0492[_0xc1f525(0x19d)]+'\x20('+_0x3e0492[_0xc1f525(0x19f)]+'%)\x0a',_0x15241d+=_0xc1f525(0x2b5)+_0x27158f+':\x20'+_0x471fa7[_0xc1f525(0x19d)]+'\x20('+_0x471fa7[_0xc1f525(0x19f)]+_0xc1f525(0x1db),_0x15241d+='</pre>'):(_0x15241d+=_0xc1f525(0x147),_0x15241d+=_0xc1f525(0x111)+_0x27158f+':\x20'+_0x5e2485[_0xc1f525(0x19d)]+'\x20('+_0x5e2485['change']+_0xc1f525(0x1db),_0x15241d+=_0xc1f525(0x111)+_0x1f21e7+':\x20'+_0x51a962[_0xc1f525(0x19d)]+'\x20('+_0x51a962[_0xc1f525(0x19f)]+'%)\x0a',_0x15241d+='Net\x20'+_0x27158f+':\x20'+_0x3e0492[_0xc1f525(0x19d)]+'\x20('+_0x3e0492[_0xc1f525(0x19f)]+_0xc1f525(0x1db),_0x15241d+='Net\x20'+_0x1f21e7+':\x20'+_0x136963[_0xc1f525(0x19d)]+'\x20('+_0x136963[_0xc1f525(0x19f)]+'%)\x0a',_0x15241d+=_0xc1f525(0x2b5)+_0x27158f+':\x20'+_0x471fa7[_0xc1f525(0x19d)]+'\x20('+_0x471fa7[_0xc1f525(0x19f)]+_0xc1f525(0x1db),_0x15241d+=_0xc1f525(0x2b5)+_0x1f21e7+':\x20'+_0x2679b6[_0xc1f525(0x19d)]+'\x20('+_0x2679b6[_0xc1f525(0x19f)]+_0xc1f525(0x1db),_0x15241d+=_0xc1f525(0x1fd)),process[_0xc1f525(0x16d)]({'telegrammsg':_0x15241d},_0x5b4424=>{});}async function sendPortfolioTelegram(){const _0x4b6696=_0xbab98b;if(!coinsLoaded||!currentCoins[0x0][_0x4b6696(0x225)]&&currentCoins[0x0]['distribution']!=0x0){process[_0x4b6696(0x16d)]({'telegrammsg':_0x4b6696(0x287)},_0x227bb7=>{});return;}let _0x1ee5eb='';if(config[_0x4b6696(0x288)])_0x1ee5eb=_0x4b6696(0x205)+config[_0x4b6696(0x2c2)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x1ee5eb=_0x4b6696(0x163)+botID+_0x4b6696(0x1ad);_0x1ee5eb+=_0x4b6696(0x147),_0x1ee5eb+='-------------------------------\x0a',_0x1ee5eb+=_0x4b6696(0x117),_0x1ee5eb+=_0x4b6696(0x212),currentCoins[_0x4b6696(0x1f5)](_0x2fcb91=>{const _0x51766d=_0x4b6696;_0x1ee5eb+=_0x2fcb91[_0x51766d(0x14b)]['padEnd'](0x7)+'|\x20'+formatPad(_0x2fcb91[_0x51766d(0x225)],0x2,0x6)+'|\x20'+formatPad(_0x2fcb91[_0x51766d(0x156)],0x2,0x6)+'|\x20'+(_0x2fcb91['target']==0x0?''[_0x51766d(0x27e)](0x6):formatPad(_0x2fcb91[_0x51766d(0x21f)]*0x64,0x2,0x6))+'\x0a';}),_0x1ee5eb+=_0x4b6696(0x1fd),process[_0x4b6696(0x16d)]({'telegrammsg':_0x1ee5eb},_0x2aa518=>{});}function formatPad(_0x4e0779,_0x311401,_0x1e8711){const _0x2d4892=_0xbab98b,_0xce4709=formatResultString(_0x4e0779,_0x311401);return _0xce4709?_0xce4709[_0x2d4892(0x27e)](_0x1e8711):''['padStart'](_0x1e8711);}function logHistory(_0x206e05,_0x17d7a7,_0x30e03e=''){const _0x47f392=_0xbab98b;logger[_0x47f392(0x112)](''+_0x17d7a7);let _0x859709={'time':getTimeStamp(),'type':_0x206e05,'event':_0x17d7a7};dbLogs[_0x47f392(0x2bf)](_0x47f392(0x2c0))['push'](_0x859709)[_0x47f392(0x221)]();if(_0x30e03e=='')_0x30e03e=_0x17d7a7;proxyEmit(_0x47f392(0x1fc),{'log':_0x859709,'summary':_0x30e03e}),process[_0x47f392(0x16d)]({'telegram':{..._0x859709,'botname':config[_0x47f392(0x2c2)],'showname':config['showname']}},_0x5a87b0=>{});}function emitHistory(_0x5629b8={}){const _0x50fddf=_0xbab98b;Object[_0x50fddf(0x19e)](_0x5629b8)['length']==0x0&&(_0x5629b8={'type':[_0x50fddf(0x102),'event'],'event':'','page':0x1});if(_0x5629b8['type']['includes']('event'))_0x5629b8[_0x50fddf(0x2c1)]['splice'](_0x5629b8[_0x50fddf(0x2c1)][_0x50fddf(0x2ad)](_0x50fddf(0x1fc)),0x1,'error',_0x50fddf(0x182),_0x50fddf(0x269));if(dbLogs[_0x50fddf(0x2c8)]('logs')[_0x50fddf(0x19d)]()){let _0x2e4fdb=dbLogs[_0x50fddf(0x2bf)]('logs')[_0x50fddf(0x29b)](_0x171e67=>{const _0x2852f6=_0x50fddf;if(_0x5629b8[_0x2852f6(0x2c1)][_0x2852f6(0x271)]==0x0)return![];else return _0x5629b8[_0x2852f6(0x2c1)]['includes'](_0x171e67['type']);})[_0x50fddf(0x29b)](_0x106c9a=>{const _0x244513=_0x50fddf;if(_0x5629b8[_0x244513(0x1fc)]=='')return!![];else return _0x106c9a['event']['toLowerCase']()[_0x244513(0x1b8)](_0x5629b8['event'][_0x244513(0x13b)]());})[_0x50fddf(0x183)](_0x50fddf(0x18e)),_0x5d0b06=_0x2e4fdb[_0x50fddf(0x19d)]()['length'];_0x2e4fdb=_0x2e4fdb[_0x50fddf(0x141)]()[_0x50fddf(0x1f6)]((_0x5629b8['page']-0x1)*logPageSize,_0x5629b8[_0x50fddf(0x28a)]*logPageSize-0x1)[_0x50fddf(0x141)]()[_0x50fddf(0x19d)](),proxyEmit(_0x50fddf(0x285),{'logs':_0x2e4fdb,'total':_0x5d0b06});}else proxyEmit(_0x50fddf(0x285),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x3c936f){const _0x4b78b8=_0xbab98b;if(dbLogs[_0x4b78b8(0x2c8)]('logs')[_0x4b78b8(0x19d)]()){const _0x5b8337=dbLogs[_0x4b78b8(0x2bf)](_0x4b78b8(0x2c0))[_0x4b78b8(0x183)](_0x4b78b8(0x18e))[_0x4b78b8(0x29b)](_0x452408=>{const _0x52c1aa=_0x4b78b8;return _0x452408[_0x52c1aa(0x2c1)]=='order';})[_0x4b78b8(0x19d)]();dbLogs[_0x4b78b8(0x2bf)]('logs')[_0x4b78b8(0x292)]()[_0x4b78b8(0x221)](),dbLogs['get'](_0x4b78b8(0x2c0))[_0x4b78b8(0x229)](_0x5b8337)[_0x4b78b8(0x221)](),emitHistory(_0x3c936f);}}async function pauseBot(_0x4611f5=pauseBotIntervalShort,_0x2f912f,_0x4403eb,_0x8a5f54=![]){const _0x17137b=_0xbab98b,_0xcdc3c6=new Date()[_0x17137b(0x23a)]();if(!lastErrorShown||_0xcdc3c6-lastErrorShown>=_0x4611f5){lastErrorShown=_0xcdc3c6;if(!lastBotPause)lastBotPause=_0xcdc3c6,consecutivePauses=0x1;else{if(_0xcdc3c6-lastBotPause-_0x4611f5<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x8a5f54){logHistory(_0x17137b(0x2b2),_0x2f912f+_0x17137b(0x15b)),await killBot();return;}else logHistory(_0x17137b(0x2b2),_0x2f912f+pauseBotMsg),_0x4611f5=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0xcdc3c6;}_0x4403eb?logger[_0x17137b(0x295)]('('+consecutivePauses+')\x20'+_0x2f912f+'\x20>\x20details:',_0x4403eb):logger[_0x17137b(0x295)]('('+consecutivePauses+')\x20'+_0x2f912f);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x4611f5),botPaused=![],_0x4611f5==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x4678df=_0xbab98b;botPaused=!![],await sleep(0x3e8),process[_0x4678df(0x16d)]({'stop':_0x4678df(0x124)},_0x2d3580=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x55f50b,_0x3525ad,_0x5e6ee3=![]){const _0x2a0d5d=_0xbab98b;if(botPaused)return;let _0x40db60;const _0x15b42a=config[_0x2a0d5d(0x1cc)]||_0x2a0d5d(0x2cd);if(_0x3525ad)logger[_0x2a0d5d(0x295)]('Exception\x20thrown\x20in\x20'+_0x3525ad);const _0x3fb0c0=()=>{const _0x6a4189=_0x2a0d5d;loading[_0x6a4189(0x2b2)]='api-issue',emitLoadingProgress();};if(_0x55f50b[_0x2a0d5d(0x267)]()[_0x2a0d5d(0x1b8)](_0x2a0d5d(0x20f)))logHistory(_0x2a0d5d(0x2b2),_0x15b42a+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x3fb0c0();else{if(_0x55f50b['toString']()[_0x2a0d5d(0x1b8)](_0x2a0d5d(0x131)))logHistory(_0x2a0d5d(0x2b2),_0x15b42a+_0x2a0d5d(0x18f)),_0x3fb0c0();else{if(_0x55f50b[_0x2a0d5d(0x267)]()[_0x2a0d5d(0x1b8)](_0x2a0d5d(0x226)))config['apiPassword']?_0x40db60=_0x15b42a+_0x2a0d5d(0x1ab):_0x40db60=_0x15b42a+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x2a0d5d(0x2b2),_0x40db60+_0x2a0d5d(0x1a4)),_0x3fb0c0();else{if(_0x55f50b[_0x2a0d5d(0x267)]()[_0x2a0d5d(0x1b8)](_0x2a0d5d(0x168)))logHistory('error',_0x15b42a+_0x2a0d5d(0x1e5)),_0x3fb0c0();else{if(!_0x5e6ee3)await handleError(_0x55f50b,null);}}}}}async function handleError(_0x2db55c,_0x5e970d,_0x43bc8f=''){const _0x4946ec=_0xbab98b;if(botPaused)return;let _0x20c13d;const _0x3da0e4=config['exchange']||_0x4946ec(0x2cd);if(_0x5e970d)logger[_0x4946ec(0x295)](_0x4946ec(0x1c8)+_0x5e970d);if(_0x2db55c['toString']()[_0x4946ec(0x1b8)](_0x4946ec(0x139)))_0x20c13d=_0x3da0e4+_0x4946ec(0x293),await pauseBot(undefined,_0x20c13d,_0x2db55c);else{if(_0x2db55c['toString']()['includes'](_0x4946ec(0x255)))_0x20c13d=_0x3da0e4+_0x4946ec(0x1e4),await pauseBot(undefined,_0x20c13d,_0x2db55c);else{if(_0x2db55c['toString']()[_0x4946ec(0x1b8)]('ExchangeNotAvailable')||_0x2db55c['toString']()['includes'](_0x4946ec(0x16f)))_0x20c13d=_0x3da0e4+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x20c13d,_0x2db55c[_0x4946ec(0x267)]());else{if(_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x1b8)](_0x4946ec(0x180)))_0x20c13d=_0x3da0e4+_0x4946ec(0x1b1),await pauseBot(undefined,_0x20c13d,_0x2db55c[_0x4946ec(0x267)]());else{if(_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x1b8)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x20c13d=_0x3da0e4+_0x4946ec(0x21a),await pauseBot(undefined,_0x20c13d,_0x2db55c['toString']());else{if(_0x2db55c[_0x4946ec(0x267)]()['toLowerCase']()[_0x4946ec(0x1b8)](_0x4946ec(0x2db))||_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x13b)]()['includes']('request-time'))_0x20c13d=_0x4946ec(0x29e),await pauseBot(undefined,_0x20c13d,_0x2db55c[_0x4946ec(0x267)]());else{if(_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x1b8)](_0x4946ec(0x1c7)))_0x20c13d=_0x3da0e4+_0x4946ec(0x273),await pauseBot(undefined,_0x20c13d,_0x2db55c[_0x4946ec(0x267)]());else{if(_0x2db55c instanceof ccxt[_0x4946ec(0x291)])_0x20c13d=_0x3da0e4+_0x4946ec(0x113)+_0x2db55c[_0x4946ec(0x267)](),logger[_0x4946ec(0x295)]('Network\x20error\x20details:',_0x2db55c),await pauseBot(undefined,_0x20c13d,_0x2db55c);else{if(_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x1b8)](_0x4946ec(0x20f)))logHistory(_0x4946ec(0x2b2),_0x3da0e4+_0x4946ec(0x1cd)),logHistory(_0x4946ec(0x2b2),_0x4946ec(0x2cc)),await killBot();else{if(_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x1b8)](_0x4946ec(0x131)))logHistory(_0x4946ec(0x2b2),_0x3da0e4+_0x4946ec(0x176)),logHistory(_0x4946ec(0x2b2),_0x4946ec(0x2cc)),await killBot();else{if(_0x2db55c['toString']()[_0x4946ec(0x1b8)](_0x4946ec(0x226))&&_0x2db55c[_0x4946ec(0x267)]()['includes'](_0x4946ec(0x1f2)))_0x20c13d=_0x3da0e4+_0x4946ec(0x260),await pauseBot(undefined,_0x20c13d,_0x2db55c,!![]);else{if(_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x1b8)](_0x4946ec(0x226)))config[_0x4946ec(0x162)]?_0x20c13d=_0x3da0e4+_0x4946ec(0x1ab):_0x20c13d=_0x3da0e4+_0x4946ec(0x2b1),logHistory(_0x4946ec(0x2b2),_0x20c13d),logHistory(_0x4946ec(0x2b2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x2db55c[_0x4946ec(0x267)]()['includes'](_0x4946ec(0x168)))logHistory(_0x4946ec(0x2b2),_0x3da0e4+_0x4946ec(0x1a3)),logHistory(_0x4946ec(0x2b2),_0x4946ec(0x2cc)),await killBot();else{if(_0x2db55c[_0x4946ec(0x267)]()[_0x4946ec(0x1b8)](_0x4946ec(0x12f)))logHistory('error',_0x4946ec(0x15e)+_0x43bc8f),logger['debug'](_0x4946ec(0x2bb),_0x2db55c);else{if(_0x2db55c instanceof ccxt[_0x4946ec(0x20b)]){_0x20c13d=_0x3da0e4+_0x4946ec(0x1a9)+_0x2db55c[_0x4946ec(0x267)]();if(_0x43bc8f)_0x20c13d+=_0x4946ec(0x1a6)+_0x43bc8f;await pauseBot(undefined,_0x20c13d,_0x2db55c);}else{_0x20c13d='Unknown\x20error:\x20'+_0x2db55c['toString']();if(_0x43bc8f)_0x20c13d+=_0x4946ec(0x1a6)+_0x43bc8f;await pauseBot(undefined,_0x20c13d);}}}}}}}}}}}}}}}}function decryptRSA(_0x569d6b,_0x1f52a4){const _0xdc81c3=_0xbab98b,_0x150556=forge[_0xdc81c3(0x27c)][_0xdc81c3(0x2af)](_0x569d6b),_0x8667b1=_0x150556[_0xdc81c3(0x155)](forge[_0xdc81c3(0x203)][_0xdc81c3(0x1a7)](_0x1f52a4),_0xdc81c3(0x2d2),{'md':forge['md'][_0xdc81c3(0x1b0)][_0xdc81c3(0x18c)](),'mgf1':{'md':forge['md'][_0xdc81c3(0x1b0)][_0xdc81c3(0x18c)]()}});return _0x8667b1;}async function withRetry(_0x1cc77e,_0x3a3927){const _0x4a2dbe=_0xbab98b;let _0x32b85d=![],_0x12c403=0x0,_0x47ec4d,_0x1d0414;while(_0x12c403<maxRetries){try{_0x47ec4d=await _0x3a3927();break;}catch(_0x319b14){_0x1d0414=_0x319b14,!_0x32b85d?(_0x32b85d=!![],logger['debug'](_0x4a2dbe(0x110)+_0x1cc77e+':',_0x319b14[_0x4a2dbe(0x267)]())):await sleep(retryInterval);}_0x12c403++;}if(_0x12c403==0x0)return _0x47ec4d;if(_0x12c403>=maxRetries)throw _0x1d0414;else return logger[_0x4a2dbe(0x295)](_0x4a2dbe(0x28c)+_0x12c403+_0x4a2dbe(0x169)),_0x47ec4d;}function formatResult(_0x3b0baf,_0x2504b5){const _0x5e85c6=_0xbab98b;return parseFloat(_0x3b0baf[_0x5e85c6(0x281)](_0x2504b5));}function formatResultTruncate(_0x3aff99,_0x2b1c89){const _0x1cc3f9=_0xbab98b;let _0x1984af=formatResultString(_0x3aff99,0xa),_0x2b423c=_0x1984af[_0x1cc3f9(0x2ad)]('.');return _0x2b423c!=-0x1&&(_0x1984af=_0x1984af['slice'](0x0,_0x2b423c+_0x2b1c89+0x1)),Number(_0x1984af);}function formatResultString(_0x4295d0,_0x30c0f7){const _0x4750b0=_0xbab98b;let _0x16c7db;if(!(''+_0x4295d0)[_0x4750b0(0x1b8)]('e'))_0x16c7db=+(Math[_0x4750b0(0x1da)](_0x4295d0+'e+'+_0x30c0f7)+'e-'+_0x30c0f7);else{let _0x1a68a0=(''+_0x4295d0)[_0x4750b0(0x196)]('e'),_0x175826='';+_0x1a68a0[0x1]+_0x30c0f7>0x0&&(_0x175826='+'),_0x16c7db=+(Math[_0x4750b0(0x1da)](+_0x1a68a0[0x0]+'e'+_0x175826+(+_0x1a68a0[0x1]+_0x30c0f7))+'e-'+_0x30c0f7);}return Number(_0x16c7db)[_0x4750b0(0x281)](_0x30c0f7);}function getServerTime(){const _0x5eb761=_0xbab98b,_0x32ee5b=new Date();return _0x32ee5b[_0x5eb761(0x2dd)]()+'/'+(_0x32ee5b[_0x5eb761(0x23f)]()+0x1)[_0x5eb761(0x267)]()['padStart'](0x2,'0')+'/'+_0x32ee5b[_0x5eb761(0x25c)]()[_0x5eb761(0x267)]()['padStart'](0x2,'0')+'\x20'+_0x32ee5b['getHours']()[_0x5eb761(0x267)]()[_0x5eb761(0x27e)](0x2,'0')+':'+_0x32ee5b[_0x5eb761(0x1f4)]()[_0x5eb761(0x267)]()[_0x5eb761(0x27e)](0x2,'0')+':'+_0x32ee5b[_0x5eb761(0x17a)]()[_0x5eb761(0x267)]()[_0x5eb761(0x27e)](0x2,'0');}function getTimeStamp(){const _0x558de1=_0xbab98b,_0x57dfb0=shiftedTime();return _0x57dfb0[_0x558de1(0x2dd)]()+'/'+(_0x57dfb0['getMonth']()+0x1)[_0x558de1(0x267)]()['padStart'](0x2,'0')+'/'+_0x57dfb0[_0x558de1(0x25c)]()['toString']()[_0x558de1(0x27e)](0x2,'0')+'\x20'+_0x57dfb0[_0x558de1(0x1be)]()[_0x558de1(0x267)]()[_0x558de1(0x27e)](0x2,'0')+':'+_0x57dfb0[_0x558de1(0x1f4)]()['toString']()['padStart'](0x2,'0')+':'+_0x57dfb0['getSeconds']()[_0x558de1(0x267)]()['padStart'](0x2,'0');}function getDate(){const _0x235e3a=_0xbab98b,_0x25eeb9=shiftedTime();return _0x25eeb9[_0x235e3a(0x2dd)]()+'/'+(_0x25eeb9[_0x235e3a(0x23f)]()+0x1)[_0x235e3a(0x267)]()[_0x235e3a(0x27e)](0x2,'0')+'/'+_0x25eeb9[_0x235e3a(0x25c)]()[_0x235e3a(0x267)]()['padStart'](0x2,'0');}function getHour(){const _0x427547=_0xbab98b,_0x4b2753=shiftedTime();return _0x4b2753[_0x427547(0x1be)]()[_0x427547(0x267)]()[_0x427547(0x27e)](0x2,'0');}function sleep(_0x2fea25){return new Promise(_0x35b132=>setTimeout(_0x35b132,_0x2fea25));}function shiftedTime(){const _0xb10b7a=_0xbab98b,_0x3ab5cf=new Date();let _0x281c62=_0x3ab5cf;if(config&&config[_0xb10b7a(0x158)]!==0x0)_0x281c62=fns['add'](_0x3ab5cf,{'hours':config[_0xb10b7a(0x158)]});return _0x281c62;}function timer(_0x439c9d){const _0x218632=_0xbab98b,_0x1e0d13=new Date();!lasttime?console[_0x218632(0x104)](getTimeStamp()+_0x218632(0x28d),_0x439c9d,_0x1e0d13):console['log'](getTimeStamp()+_0x218632(0x28d),_0x439c9d,(_0x1e0d13-lasttime)/0x3e8),lasttime=_0x1e0d13;}