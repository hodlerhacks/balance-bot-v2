const _0x420c50=_0x4866;(function(_0x215475,_0x3f0b19){const _0x3d0fd1=_0x4866,_0x224b99=_0x215475();while(!![]){try{const _0x3491f2=parseInt(_0x3d0fd1(0x28e))/0x1+-parseInt(_0x3d0fd1(0x25d))/0x2+parseInt(_0x3d0fd1(0xe7))/0x3+parseInt(_0x3d0fd1(0x1cc))/0x4+-parseInt(_0x3d0fd1(0x20e))/0x5*(parseInt(_0x3d0fd1(0x264))/0x6)+parseInt(_0x3d0fd1(0x214))/0x7+-parseInt(_0x3d0fd1(0x243))/0x8;if(_0x3491f2===_0x3f0b19)break;else _0x224b99['push'](_0x224b99['shift']());}catch(_0x4bff0a){_0x224b99['push'](_0x224b99['shift']());}}}(_0xde74,0x5bdab));const _0xe663b6=function(){let _0x183c81=!![];return function(_0x37fbb8,_0x4fac85){const _0x5ee365=_0x183c81?function(){const _0x322076=_0x4866;if(_0x4fac85){const _0x1d9d08=_0x4fac85[_0x322076(0x257)](_0x37fbb8,arguments);return _0x4fac85=null,_0x1d9d08;}}:function(){};return _0x183c81=![],_0x5ee365;};}(),_0x118180=_0xe663b6(this,function(){const _0x32389d=_0x4866;return _0x118180['toString']()[_0x32389d(0x196)](_0x32389d(0xe4))[_0x32389d(0x2a0)]()[_0x32389d(0x155)](_0x118180)[_0x32389d(0x196)](_0x32389d(0xe4));});_0x118180();'use strict';const ccxt=require(_0x420c50(0xee)),low=require(_0x420c50(0xfb)),FileSync=require(_0x420c50(0x23d)),fs=require('fs'),fns=require(_0x420c50(0x176)),forge=require(_0x420c50(0x194)),util=require('util'),argv=require(_0x420c50(0x1d5))(process[_0x420c50(0x297)][_0x420c50(0x169)](0x2))[_0x420c50(0x297)],path=require(_0x420c50(0x291)),axios=require(_0x420c50(0x235));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x420c50(0x1ba),_0x420c50(0x1a4),_0x420c50(0x15f),_0x420c50(0x29a),_0x420c50(0x163),_0x420c50(0x158)],excludedExchanges=[_0x420c50(0x1b3)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x420c50(0x247)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x420c50(0x15c)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];function _0xde74(){const _0x2c1bcf=['./config/','marketcapsqrt','BTC','secret','type','Initializing\x20exchange','RequestTimeout','ExchangeError','addDays','substring','storeHeadless','process\x20','toLowerCase','Order(s)\x20not\x20validated\x20after\x20','Exchange','write','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','setSandboxMode','no\x20open\x20orders','Exception\x20thrown\x20in\x20','./version.json','enabled','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','\x20>\x20','colorscheme','exchange\x20reload','prevnumber','final','defaults','storeConfiguration','<b>','\x20uses\x20','watchTradesForSymbols','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','\x20minutes\x20-\x20','running','remove','ETH','loading-canceled','20vDKwpa','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','\x20-\x20','Insufficient\x20funds\x20to\x20execute\x20order:\x20','exchange','Market\x20order','1532664YzKxyn','change24h','AuthenticationError','percentage','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','RETRY\x20-\x20Problem\x20resolved\x20after\x20','basecoinvalue','pnl','coins','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','ID:\x20','quote','pid','API-key\x20format\x20invalid','side','LOCKED','InsufficientFunds','\x20(see:\x20hodlerhacks.com/fix/1)','currency','getStartingBalances','basecoin','pnl-basecoin','environment','PnL\x20','sell','Error\x20occurred:\x20','page','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','/EUR','getMonth','.json','parse','Cooldown\x20ended\x20-\x20balancing\x20resumed','axios','No\x20more\x20open\x20orders\x20-\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','1\x20-\x20FILLED\x20known\x20order:\x20','Order\x20filled','util','format','timestamp','lowdb/adapters/FileSync','bid','marketcap','\x20API\x20key\x20is\x20invalid','Fee\x20discount\x20refund\x20detected:\x20','initclient','287584SmlTZT','settings','join','offset','freeze','ordertype','pop','configuration-stored','fetchOpenOrders','sortBy','showConfig','keys','added','pro','\x20minutes','bot','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Error\x20in\x20loadSymbols():\x20','PAXG','headless','apply','push','storeFiat','net-basecoin','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Portfolio\x20change\x20detected:\x20','944492RnhOOp','watchOrders','Headless:\x20','full','apiKey','Limit\x20(high-margin)','net','1042698KlLamD','changes','cancelOrder','market','Bitget','args','kill','filled','getDate','cancelOrders()','get','buy','total','Avoiding\x20continuous\x20order\x20attempts','Error:\x20Invalid\x20argument\x20','ExchangeNotAvailable','createOrder','getFullYear','split','startprice','performance','\x20due\x20to\x20offset','logs','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','valid','starting-balances',':\x20timer\x20>','quick','cooldown','Placing\x20order\x20for:\x20','time','Huobi','existsSync','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','active','Block\x20transaction\x20detection:\x20','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','switch-manual','startdate','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','netoffset','ongoing','442748RzlyHK','2\x20-\x20Validate\x20orders:\x20','Limit\x20(low-margin)','path','fee','password','error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','startnumber','argv','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','PermissionDenied','USDT','\x20>\x20pausing\x20bot\x20for\x20','Order\x20filled:\x20','price','Initiating\x20bot\x20restart','%\x20(','toString','Waited\x20','token\x20is\x20expired','bot-','<pre>','test','indexOf','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','includes','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','Cex','none','padEnd','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','1\x20-\x20Validate\x20orders:\x20','Market','Order\x20is\x20invalid:\x20','\x0aSymbol(s):\x20','-results.json','secure','portfolio','2.3.5','target','getHours','log','bb-secure.json','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','\x20hour','highest','findIndex','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','request-time','red_yellow_blue','Loading\x20completed','Resuming\x20(','symbol','\x20|\x20exchange:\x20','fetchBalance()','sort','(((.+)+)+)+$','bots','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','1510455VYeNzV','<b>Bot\x20','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','average','update-liquidity','1\x20-\x20FILLED\x20unknown\x20order:\x20','filter','ccxt','must\x20be\x20greater\x20than\x20minimum\x20amount','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','configstate','value','-performance.json','max','map','watchTradesForSymbols()','Bybit','uncaughtException','fetchTickers()','\x20exchange','lowdb','isEqual','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','coin','has','openOrders','\x20>\x20[DEBUG]\x20','ask','floor','Failed\x20to\x20load\x20coin\x20data\x20for\x20','replace','\x20has\x20a\x2024h\x20drop\x20of\x20','recent20','enableFiatToggle','Error\x20in\x20testNewAPI():\x20','botname','apiPassword','eur','set','getPortfolio','************','testAPI()','fetchTickers','Unknown\x20error:\x20',')\x20unknown\x20order:\x20','usd','data','round','marketcapApi','balancing\x20resumes\x20when\x20cooldown\x20ends','progress','%)\x0a','\x20MB','toggleBotMode','Valid\x20balance\x20for\x20','limit','-events.json','Order\x20amount\x20is\x20invalid:\x20','loadSymbols()','assign','/output-000.log','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','Error\x20details:\x20','forEach','find','event','getOpenOrders()','balances','change','fromCodePoint','initial','splice','</pre>','onepagemode','Binance','reverse','event-history','loadMarkets','Huobipro','stack','Pausing\x20for\x20','watchTrades','createWriteStream','timeout','Error\x20details:','\x20portfolio:</b>\x20\x0a\x0a','sandbox','code','Reset\x20|\x20','initTickers()','Generated\x20PnL\x20data','Net\x20','staging','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','api-issue','\x20metrics:</b>\x20\x0a\x0a','pki','deleteHistoryAlerts','breakeven','Bot\x20','0\x20-\x20EXECUTION:\x20','trade','Executed\x20','canceled','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','watchTrades()','DDoSProtection','privateKey','-------------------------------\x0a','constructor','bb-settings.json','getSeconds','USDP','date','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Invalid\x20balance\x20for\x20','UNLOCKED','timeshift','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','TUSD','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','limits','emojisell','USDC','recovery','resetHistory','excluded','add',')\x20|\x20exchange:\x20','slice','UNLOCKING','cancelLoading','./logs/','debug','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','status\x20code\x20401','orderstatus','autoliquidity','privateKeyFromPem','limit-low','starting-balance-','realizedPnL','date-fns','\x20-\x20bot\x20not\x20started','amountToPrecision','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','differenceInSeconds','liquidity','Invalid\x20quantity','2.7.1','distribution','\x20/\x20','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','timestamp-issue','\x20-\x20go\x20back\x20and\x20try\x20again','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','isBefore','delta','order','production','001',')\x20known\x20order:\x20','status','last','/USD','apiSecret','fetchTicker','\x20order:\x20','amount','EUR','getMinutes','market_cap','node-forge','sells','search','configuration','Trigger:\x20','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','padStart','cost','orderId','spot','min','portfolio2','Saving\x20configuration','fiat','length','send','BUSD','pnl-fiat','Invalid\x20symbol:\x20','placeOrder','\x20network\x20error:\x20','heapUsed','marketcapEnabled','entries','cancel','\x20attempts','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','sendPortfolioTelegram','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','balancing\x20resumed','Test\x20new\x20API','bitmex','function','number',',\x20must\x20be\x20a\x203\x20digit\x20number','2\x20-\x20handling\x20FILLED\x20order:\x20','OnMaintenance','Network\x20error\x20details:','USD','watchOrders()','abs','Unknown\x20error\x20-\x20check\x20logs','toFixed','removed','sendMetricsTelegram','open','stringify','fetchBalance','decrypt','1\x20-\x20partially\x20FILLED\x20(','portfolio1','limit-high','threshold','yyyy/MM/dd','success','Initializing\x20coin\x20results','1657504ieyqvk','Unfilled\x20order(s)\x20canceled\x20after\x20','sqrt','InvalidOrder','sha256','Value\x20',':\x20Bot\x20','showname','\x20exchange\x20error:\x20','yargs/yargs','unlinkSync','exchanges','complete','\x20|\x20','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','emitHistory','warning','\x20orders\x20in\x20less\x20than\x20','customId','cloneDeep','slider','remainingSymbols','closed','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','version','mkdirSync','writeFile'];_0xde74=function(){return _0x2c1bcf;};return _0xde74();}const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x420c50(0x29b)+pauseBotInterval/0xea60+_0x420c50(0x251),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require('./version.json')['version'],environment=require(_0x420c50(0x1fb))[_0x420c50(0x22a)]||_0x420c50(0x187),botID=process['argv'][0x2]||_0x420c50(0x188),pattern=/^[0-9]{3}$/;!pattern[_0x420c50(0x2a5)](botID)&&(console[_0x420c50(0xd5)](_0x420c50(0x272)+botID+_0x420c50(0x1b6)),killBot());const userID=process[_0x420c50(0x297)][0x3]||'',configpath=userID?_0x420c50(0x1e7)+userID+'/':_0x420c50(0x1e7),logspath=userID?'./logs/'+userID+'/':_0x420c50(0x16c),loggerfile=fs[_0x420c50(0x139)](logspath+_0x420c50(0x123),{'flags':'a'});!fs[_0x420c50(0x284)](configpath)&&fs[_0x420c50(0x1e5)](configpath);!fs[_0x420c50(0x284)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x420c50(0x2a3)+botID+'-config.json',logfile=configpath+_0x420c50(0x2a3)+botID+_0x420c50(0x11f),performancefile=configpath+'bot-'+botID+_0x420c50(0xf3),coinresultsfile=configpath+'bot-'+botID+_0x420c50(0xcf),settingsfile=configpath+_0x420c50(0x156),securefile=configpath+_0x420c50(0xd6),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x420c50(0x203)]({'logs':[],'version':serverversion})[_0x420c50(0x1f6)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x420c50(0x203)]({'data':[],'version':serverversion})[_0x420c50(0x1f6)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x420c50(0x203)]({'coins':{},'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x2d6752=>{console['log'](_0x2d6752);},'simple':_0x461eca=>{const _0x9b9891=_0x420c50;console[_0x9b9891(0xd5)](_0x461eca),loggerfile[_0x9b9891(0x1f6)](util['format'](_0x461eca)+'\x0a');},'full':async(_0x31e8b5,_0x204eac='')=>{const _0x413259=_0x420c50;let _0x393863;if(config[_0x413259(0x1d3)])_0x393863=getTimeStamp()+':\x20'+config[_0x413259(0x10a)]+_0x413259(0x1fe)+_0x31e8b5;else _0x393863=getTimeStamp()+_0x413259(0x1d2)+botID+_0x413259(0x1fe)+_0x31e8b5;console[_0x413259(0xd5)](_0x393863),loggerfile['write'](util[_0x413259(0x23b)](_0x393863)+'\x0a'),_0x204eac&&(console['log'](_0x204eac),loggerfile[_0x413259(0x1f6)](util[_0x413259(0x23b)](_0x204eac)+'\x0a'));},'debug':async(_0x534caa,_0x447822='')=>{const _0x414501=_0x420c50;let _0x16aada;if(config[_0x414501(0x1d3)])_0x16aada=getTimeStamp()+':\x20'+config['botname']+_0x414501(0x101)+_0x534caa;else _0x16aada=getTimeStamp()+_0x414501(0x1d2)+botID+'\x20>\x20[DEBUG]\x20'+_0x534caa;if(debugging)console[_0x414501(0xd5)](_0x16aada);loggerfile[_0x414501(0x1f6)](util[_0x414501(0x23b)](_0x16aada)+'\x0a');if(_0x447822){if(debugging)console[_0x414501(0xd5)](_0x447822);loggerfile[_0x414501(0x1f6)](util['format'](_0x447822)+'\x0a');}}};process['on']('uncaughtException',function(_0x18b438){const _0x40940b=_0x420c50;handleError(_0x18b438[_0x40940b(0x136)],_0x40940b(0xf8));});settings[_0x420c50(0x15d)]!=config[_0x420c50(0x15d)]&&updateTimeshift(settings['timeshift']);settings['onepagemode']!=config['onepagemode']&&updateOnepagemode(settings[_0x420c50(0x130)]);(settings[_0x420c50(0x117)]&&!config[_0x420c50(0x117)]||!settings[_0x420c50(0x117)]&&config[_0x420c50(0x117)])&&updateMarketcapApi(settings[_0x420c50(0x117)]);process[_0x420c50(0x1a3)]({'started':_0x420c50(0x20a)},_0x47f06d=>{}),initializeProcessListeners();function proxyEmit(_0x4b3da6,_0x5572ec=null){process['send']({'function':_0x4b3da6,'args':_0x5572ec},_0x286018=>{});}function _0x4866(_0x1977b2,_0x352daa){const _0x391086=_0xde74();return _0x4866=function(_0x118180,_0xe663b6){_0x118180=_0x118180-0xc3;let _0xde7474=_0x391086[_0x118180];return _0xde7474;},_0x4866(_0x1977b2,_0x352daa);}function initializeProcessListeners(){process['on']('message',_0xf5641=>{const _0x44a226=_0x4866;switch(Object[_0x44a226(0x24e)](_0xf5641)[0x0]){case _0x44a226(0x15d):_0xf5641['timeshift']!=undefined&&(settings[_0x44a226(0x15d)]=_0xf5641[_0x44a226(0x15d)],updateTimeshift(settings['timeshift']));break;case _0x44a226(0x130):_0xf5641[_0x44a226(0x130)]!=undefined&&(settings[_0x44a226(0x130)]=_0xf5641[_0x44a226(0x130)],updateOnepagemode(settings['onepagemode']));break;case'marketcapApi':_0xf5641[_0x44a226(0x117)]!=undefined&&(settings[_0x44a226(0x117)]=_0xf5641['marketcapApi'],updateMarketcapApi(settings[_0x44a226(0x117)]));break;case _0x44a226(0xe5):_0xf5641[_0x44a226(0xe5)]!=undefined&&(bots=JSON[_0x44a226(0x233)](_0xf5641[_0x44a226(0xe5)]),proxyEmit(_0x44a226(0xe5),bots));break;case _0x44a226(0x1b4):switch(_0xf5641[_0x44a226(0x1b4)]){case _0x44a226(0x242):initclient();break;case _0x44a226(0x11c):toggleBotMode();break;case _0x44a226(0x1db):emitHistory(_0xf5641['args']);break;case _0x44a226(0x148):deleteHistoryAlerts(_0xf5641[_0x44a226(0x269)]);break;case _0x44a226(0x10e):getPortfolio(_0xf5641[_0x44a226(0x269)]);break;case _0x44a226(0x204):storeConfiguration(_0xf5641[_0x44a226(0x269)]);break;case _0x44a226(0x1f1):storeHeadless(_0xf5641[_0x44a226(0x269)]);break;case _0x44a226(0x259):storeFiat(_0xf5641[_0x44a226(0x269)]);break;case _0x44a226(0x165):resetHistory();break;case _0x44a226(0x227):getStartingBalances(getNormalizedPerformance());break;case _0x44a226(0x1a7):placeOrder(_0xf5641[_0x44a226(0x269)]);break;case _0x44a226(0x16b):cancelLoading();break;case _0x44a226(0x24d):showConfig();break;case _0x44a226(0x1c0):sendMetricsTelegram();break;case _0x44a226(0x1af):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x3face0=![]){const _0x4038de=_0x420c50;logger[_0x4038de(0x16d)](_0x4038de(0x13f)+(_0x3face0?_0x4038de(0x200):'no\x20exchange\x20reloaded')+_0x4038de(0xe1)+config[_0x4038de(0x212)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x4038de(0x261)]!=''&&config[_0x4038de(0x261)]!='***'){loadingProgress=0x0;if(_0x3face0){await initExchange();const _0x5111f6=await testAPI();if(!_0x5111f6)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x4038de(0x197),emittedConfiguration()),initialPerformanceStored=![];}const _0x433328=await getCoins();[currentCoins,currentCoinsAll]=_0x433328,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x4038de(0x16d)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x4038de(0x1a2)]==0x0&&allOpenOrders[_0x4038de(0x1a2)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x4c0aea=![]){const _0x1d20bb=_0x420c50;logger[_0x1d20bb(0x16d)](_0x1d20bb(0xdf)+(_0x4c0aea?_0x1d20bb(0x27f):_0x1d20bb(0x1d8))+_0x1d20bb(0x168)+config[_0x1d20bb(0x212)]);if(pidBalances)clearTimeout(pidBalances);if(_0x4c0aea){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x1d20bb(0x261)]!='***'){loadingProgress=0x1;const _0x2873a5=await getCoins();[currentCoins,currentCoinsAll]=_0x2873a5,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x1d20bb(0x16d)](_0x1d20bb(0xde)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x1d20bb(0x1a2)]==0x0&&allOpenOrders[_0x1d20bb(0x1a2)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x17abda){const _0x55bad1=_0x420c50;let _0x55daf8=![];if(_0x17abda)_0x55daf8=!![];const _0xd0f363=_0x55daf8?_0x17abda:currentCoins,_0x5bc075=_0xd0f363['map'](_0x30801c=>_0x30801c[_0x55bad1(0xfe)]);if(!config[_0x55bad1(0x117)]||!_0x55daf8&&!config[_0x55bad1(0x1aa)]||_0x5bc075[_0x55bad1(0x1a2)]==0x0)return;let _0x201035=null;try{_0x201035=await axios['get'](_0x55bad1(0x150),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x55bad1(0x117)]},'params':{'symbol':_0x5bc075[_0x55bad1(0x2a0)]()}});}catch(_0x3e4944){_0x201035=null,_0x3e4944[_0x55bad1(0x2a0)]()[_0x55bad1(0xc5)](_0x55bad1(0x16f))?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x55bad1(0x197),emittedConfiguration()),logHistory(_0x55bad1(0x294),_0x55bad1(0x298))):(logHistory(_0x55bad1(0x294),_0x55bad1(0x179)+schedulerInterval/(0x3c*0x3e8)+_0x55bad1(0x251)),logger[_0x55bad1(0x16d)](_0x55bad1(0x13b),_0x3e4944['toString']()+_0x55bad1(0x210)+_0x3e4944[_0x55bad1(0x13e)]));}let _0x207d03=!![];if(_0x201035){let _0x40483c=0x0;const _0x48e3dd=_0x201035[_0x55bad1(0x115)];_0x5bc075[_0x55bad1(0x126)](_0x355cc6=>{const _0x88cc8a=_0x55bad1;if(_0x48e3dd[_0x88cc8a(0x115)][_0x355cc6][0x0]&&_0x48e3dd['data'][_0x355cc6][0x0][_0x88cc8a(0x21f)][_0x88cc8a(0x1ba)][_0x88cc8a(0x193)])_0x40483c+=_0x48e3dd[_0x88cc8a(0x115)][_0x355cc6][0x0][_0x88cc8a(0x21f)]['USD'][_0x88cc8a(0x193)];else{if(!['EUR','USD'][_0x88cc8a(0xc5)](_0x355cc6)){if(_0x55daf8)logHistory('error',_0x88cc8a(0x285)+_0x355cc6+_0x88cc8a(0x182));else{const _0x5123d4=config[_0x88cc8a(0xd1)][_0x88cc8a(0x127)](_0x4183d9=>_0x4183d9[_0x88cc8a(0xfe)]==_0x355cc6);_0x5123d4&&!_0x5123d4[_0x88cc8a(0x166)]&&_0x5123d4[_0x88cc8a(0x1e0)]==-0x1&&(_0x207d03=![],logHistory(_0x88cc8a(0x294),_0x88cc8a(0x208)),logger[_0x88cc8a(0x16d)](_0x88cc8a(0x285)+_0x355cc6));}}}});if(!_0x207d03)return;_0x5bc075[_0x55bad1(0x126)](_0x2dd850=>{const _0x50011c=_0x55bad1,_0x482337=_0x48e3dd[_0x50011c(0x115)][_0x2dd850][0x0]?_0x48e3dd[_0x50011c(0x115)][_0x2dd850][0x0][_0x50011c(0x21f)][_0x50011c(0x1ba)][_0x50011c(0x193)]:0x0;if(_0x55daf8){const _0x815ec5=_0x17abda['find'](_0x5633cc=>_0x5633cc[_0x50011c(0xfe)]==_0x2dd850);_0x815ec5&&(_0x815ec5['marketcap']=_0x482337);}else{const _0x4a21fd=currentCoins[_0x50011c(0x127)](_0x2587bb=>_0x2587bb[_0x50011c(0xfe)]==_0x2dd850);_0x4a21fd&&(_0x4a21fd[_0x50011c(0x23f)]=_0x482337);const _0x45fba9=currentCoinsAll[_0x50011c(0x127)](_0x2e8c1a=>_0x2e8c1a[_0x50011c(0xfe)]==_0x2dd850);_0x45fba9&&(_0x45fba9[_0x50011c(0x23f)]=_0x482337);}}),!_0x55daf8&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x234c07=_0x420c50,_0x4b85c8=0x2;let _0x5e75f5=0x0,_0x30eb3f=0x0,_0x5a3772=0x0,_0x3b1e9b=0x0,_0x54bd1f=0x0;config['portfolio'][_0x234c07(0x126)](_0x333e24=>{const _0x2d092f=_0x234c07;if(!_0x333e24[_0x2d092f(0x166)]){_0x5a3772++,_0x5e75f5+=_0x333e24['slider'];if(_0x333e24[_0x2d092f(0x1e0)]===-0x1){_0x5e75f5++;const _0x96f675=currentCoinsAll['find'](_0x314e70=>_0x314e70[_0x2d092f(0xfe)]==_0x333e24[_0x2d092f(0xfe)]);_0x96f675&&(_0x3b1e9b+=_0x96f675[_0x2d092f(0x23f)],_0x54bd1f+=Math[_0x2d092f(0x1ce)](_0x96f675['marketcap']));}if(_0x333e24[_0x2d092f(0x1e0)]!==-0x1)_0x30eb3f++;}});let _0x1a655a;const _0x4bf6a0=0x64-_0x5e75f5,_0x3bdef8=_0x5a3772-_0x30eb3f;_0x1a655a=_0x3bdef8===0x0?_0x5e75f5:Math[_0x234c07(0xf4)](0x64,_0x5e75f5),config['portfolio'][_0x234c07(0x126)](_0x19685f=>{const _0x5bae30=_0x234c07,_0x3f8714=currentCoinsAll['find'](_0x3c6436=>_0x3c6436[_0x5bae30(0xfe)]==_0x19685f[_0x5bae30(0xfe)]);_0x3f8714&&(_0x19685f[_0x5bae30(0x23f)]=_0x3f8714['marketcap']);if(!_0x19685f[_0x5bae30(0x166)]){if(_0x1a655a<=0x64){if(_0x19685f[_0x5bae30(0x1e0)]===-0x1){if(_0x3b1e9b!==0x0&&config[_0x5bae30(0x1aa)]){if(_0x3f8714){if(config[_0x5bae30(0x1aa)]==_0x5bae30(0x23f))_0x19685f[_0x5bae30(0x17e)]=(_0x4bf6a0/(_0x3b1e9b/_0x3f8714[_0x5bae30(0x23f)]))[_0x5bae30(0x1be)](_0x4b85c8);else config['marketcapEnabled']==_0x5bae30(0x1e8)&&(_0x19685f[_0x5bae30(0x17e)]=(_0x4bf6a0/(_0x54bd1f/Math[_0x5bae30(0x1ce)](_0x3f8714['marketcap'])))['toFixed'](_0x4b85c8));}}}}}}),updateConfig();}function updateConfig(){const _0xc173b=_0x420c50;let _0x4c5d51=dbConfig['get'](_0xc173b(0x252))['find']({'botID':botID})[_0xc173b(0xf2)]();_0x4c5d51&&dbConfig[_0xc173b(0x26e)](_0xc173b(0x252))['find']({'botID':botID})[_0xc173b(0x122)](config)[_0xc173b(0x1f6)]();}function logMemory(){const _0x201858=_0x420c50;if(environment!=_0x201858(0x143))return;const _0x1654e9=process['memoryUsage']()[_0x201858(0x1a9)]/0x400/0x400;logger[_0x201858(0x16d)](_0x201858(0x1f2)+process[_0x201858(0x220)]+_0x201858(0x206)+formatResult(_0x1654e9,0x1)+_0x201858(0x11b));}async function startScheduler(){const _0x12589a=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0x12589a==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x3117f2=![]){const _0x457a4f=_0x420c50;logger[_0x457a4f(0x16d)](_0x457a4f(0x29e));if(!_0x3117f2)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x457a4f(0x1a3)]({'stop':'restart'},_0x48675d=>{});}async function initExchange(_0x5ae965=config[_0x420c50(0x212)],_0x38dc45=config[_0x420c50(0x261)],_0x5525ac=config[_0x420c50(0x18d)],_0xdfa34f=config['apiPassword'],_0x4d466c=config[_0x420c50(0x13d)]){const _0x1fdc0f=_0x420c50;if(exchange){logger[_0x1fdc0f(0x16d)]('Initializing\x20exchange:\x20already\x20done');return;}logger[_0x1fdc0f(0x16d)](_0x1fdc0f(0x1ec));!supportedExchanges()[_0x1fdc0f(0xc5)](_0x5ae965)&&(logHistory(_0x1fdc0f(0x294),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x5ae965+_0x1fdc0f(0xfa)),killBot());const _0x2364fd=ccxt[_0x1fdc0f(0x250)][_0x5ae965[_0x1fdc0f(0x1f3)]()];exchange=new _0x2364fd({'apiKey':_0x38dc45,'secret':_0x5525ac,'options':{'defaultType':'spot'}});if(_0xdfa34f)exchange[_0x1fdc0f(0x293)]=_0xdfa34f;if(exchange[_0x1fdc0f(0xff)]['sandbox'])exchange[_0x1fdc0f(0x1f8)](_0x4d466c);}function updateExchange(_0x488dee,_0x3a7bdc,_0x2045c6=null){const _0x17c79a=_0x420c50;exchange[_0x17c79a(0x261)]=_0x488dee,exchange[_0x17c79a(0x1ea)]=_0x3a7bdc,exchange[_0x17c79a(0x293)]=_0x2045c6,logger[_0x17c79a(0x16d)](_0x17c79a(0xe9));}function setStableCoins(){const _0x2b4a2c=_0x420c50;let _0x4f48e4=config[_0x2b4a2c(0x228)]==_0x2b4a2c(0x20c)?'ETH':config[_0x2b4a2c(0x228)]==_0x2b4a2c(0x255)?_0x2b4a2c(0x255):_0x2b4a2c(0x1e9),_0x3ae2ff=allSymbols[_0x2b4a2c(0xc5)](_0x4f48e4+_0x2b4a2c(0x18c))?_0x2b4a2c(0x1ba):allSymbols['includes'](_0x4f48e4+'/USDT')?_0x2b4a2c(0x29a):_0x2b4a2c(0x191),_0x5d9236=allSymbols[_0x2b4a2c(0xc5)](_0x4f48e4+_0x2b4a2c(0x230))?'EUR':_0x3ae2ff;enableFiatToggle=!![],_0x3ae2ff==_0x2b4a2c(0x191)&&(enableFiatToggle=![],storeFiat('EUR')),_0x5d9236!=_0x2b4a2c(0x191)&&(enableFiatToggle=![],storeFiat(_0x2b4a2c(0x1ba))),stablecoins={'eur':{'coin':''+_0x4f48e4+_0x5d9236,'symbol':_0x4f48e4+'/'+_0x5d9236},'usd':{'coin':''+_0x4f48e4+_0x3ae2ff,'symbol':_0x4f48e4+'/'+_0x3ae2ff}};}async function initwsCcxt(){const _0x22c7a3=_0x420c50;initCycle++;const _0xdc060a=initCycle;let _0xf3f859=[];config[_0x22c7a3(0xd1)][_0x22c7a3(0x126)](_0x324c71=>{const _0x1d466f=_0x22c7a3;if(!_0x324c71['excluded']&&_0x324c71[_0x1d466f(0xfe)]!=config['basecoin'])_0xf3f859[_0x1d466f(0x258)](_0x324c71[_0x1d466f(0xe0)]);});if(!_0xf3f859[_0x22c7a3(0xc5)](stablecoins[_0x22c7a3(0x10c)][_0x22c7a3(0xe0)]))_0xf3f859['push'](stablecoins['eur'][_0x22c7a3(0xe0)]);if(!_0xf3f859[_0x22c7a3(0xc5)](stablecoins[_0x22c7a3(0x114)][_0x22c7a3(0xe0)]))_0xf3f859[_0x22c7a3(0x258)](stablecoins[_0x22c7a3(0x114)][_0x22c7a3(0xe0)]);loadCoins(_0xf3f859),_0xf3f859=validateSymbols(_0xf3f859);const _0x4a277b=async _0x69eae8=>{const _0x387071=_0x22c7a3;let _0xdc8a7c;try{const _0x3a9987=await getTickers(_0x69eae8);Object[_0x387071(0x1ab)](_0x3a9987)[_0x387071(0x126)](_0x33f2b1=>{const _0x87301=_0x387071;_0xdc8a7c=_0x33f2b1[0x1][_0x87301(0xe0)],gTicker[noslash(_0xdc8a7c)]=_0x33f2b1[0x1][_0x87301(0x18b)],gChange[_0xdc8a7c]=_0x33f2b1[0x1]['percentage'];});}catch(_0x5d43d6){await handleError(_0x5d43d6,_0x387071(0x140),_0xdc8a7c);}},_0x12a911=async _0x2882d5=>{const _0x237898=_0x22c7a3;while(initCycle==_0xdc060a){if(!botPaused)try{const _0x368a25=await exchange[_0x237898(0x138)](_0x2882d5);gTicker[noslash(_0x368a25[0x0][_0x237898(0xe0)])]=_0x368a25[0x0][_0x237898(0x29d)];}catch(_0x3dcd65){if(!exchangeStopped)await handleError(_0x3dcd65,_0x237898(0x151),_0x2882d5);}else await sleep(0x64);}},_0x36561f=async _0x1bf94b=>{const _0x4a8e36=_0x22c7a3;while(initCycle==_0xdc060a){if(!botPaused)try{const _0x3bc934=await exchange[_0x4a8e36(0x207)](_0x1bf94b),_0x1ed4ec=_0x3bc934[_0x4a8e36(0x249)]();gTicker[noslash(_0x1ed4ec[_0x4a8e36(0xe0)])]=_0x1ed4ec[_0x4a8e36(0x29d)];}catch(_0x2ba832){if(!exchangeStopped)await handleError(_0x2ba832,_0x4a8e36(0xf6),_0x1bf94b[_0x4a8e36(0x2a0)]());}else await sleep(0x64);}},_0x12dcd9=async _0x19412c=>{const _0xb6c460=_0x22c7a3;while(initCycle==_0xdc060a){if(!botPaused){let _0x577e52;try{await sleep(0x3c*0x3e8);const _0x24cb36=await getTickers(_0x19412c);Object[_0xb6c460(0x1ab)](_0x24cb36)['forEach'](_0x1bcffd=>{const _0x10b991=_0xb6c460;_0x577e52=_0x1bcffd[0x1][_0x10b991(0xe0)],gChange[_0x577e52]=_0x1bcffd[0x1][_0x10b991(0x217)];});}catch(_0xd41637){if(!exchangeStopped)await handleError(_0xd41637,_0xb6c460(0xf9),_0x577e52);}}else await sleep(0x64);}},_0x23c98b=async _0x402d90=>{const _0x36ae93=_0x22c7a3;while(initCycle==_0xdc060a){if(!botPaused)try{const _0xaef83b=await exchange[_0x36ae93(0x25e)](_0x402d90);initCycle==_0xdc060a&&_0xaef83b[_0x36ae93(0x126)](_0x322abe=>{updateNumberCoinsCcxt(_0x322abe);});}catch(_0x528e0c){if(!exchangeStopped)await handleError(_0x528e0c,_0x36ae93(0x1bb));}else await sleep(0x64);}};_0x4a277b(_0xf3f859),_0x12dcd9(_0xf3f859),exchange[_0x22c7a3(0xff)][_0x22c7a3(0x207)]&&!(config[_0x22c7a3(0x212)]==_0x22c7a3(0xf7)&&_0xf3f859[_0x22c7a3(0x1a2)]>0xa)?_0x36561f(_0xf3f859):_0xf3f859[_0x22c7a3(0x126)](_0x45a8eb=>{_0x12a911(_0x45a8eb);}),_0xf3f859[_0x22c7a3(0x126)](_0x3dc1e4=>{_0x23c98b(_0x3dc1e4);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x3566b3){const _0x2ea131=_0x420c50;let _0x1892f8={};try{if(config['exchange']!='Cryptocom')_0x1892f8=await exchange['fetchTickers'](_0x3566b3);else for(const _0x31f0e9 of _0x3566b3){const _0x313b17=await exchange[_0x2ea131(0x18e)](_0x31f0e9);_0x1892f8[_0x31f0e9]=_0x313b17;}return _0x1892f8;}catch(_0x15cb9e){throw _0x15cb9e;}}function setBlockTransactionDetection(_0x3d7517){const _0x60d4c1=_0x420c50;blockTransactionDetection=_0x3d7517,logger[_0x60d4c1(0x16d)](_0x60d4c1(0x287)+blockTransactionDetection);}async function detectLiquidityChange(_0x51e60e=0x0){const _0x18b275=_0x420c50;transactionDetectionOngoing=!![];try{const _0x309759=await getCoins(_0x51e60e),[_0x445756,_0x229813]=_0x309759;let _0x348fea=[];currentCoins[_0x18b275(0x126)](_0x415fe8=>{const _0x49f0d6=_0x18b275,_0x989de9=_0x445756[_0x49f0d6(0x127)](_0x350560=>_0x350560[_0x49f0d6(0xfe)]==_0x415fe8[_0x49f0d6(0xfe)]);if(_0x989de9){if(_0x415fe8[_0x49f0d6(0x1b5)]!=_0x989de9['number']){let _0x873cee;if(_0x415fe8['coin']!=config[_0x49f0d6(0x228)]){const _0x36ddb6=gTicker[noslash(_0x415fe8[_0x49f0d6(0xe0)])];_0x873cee=_0x415fe8[_0x49f0d6(0x132)]?0x1/_0x36ddb6:_0x36ddb6;}else _0x873cee=0x1;_0x348fea[_0x49f0d6(0x258)]({'coin':_0x415fe8[_0x49f0d6(0xfe)],'symbol':_0x415fe8[_0x49f0d6(0xe0)],'price':_0x873cee,'number':Number(formatResult(_0x989de9[_0x49f0d6(0x1b5)]-_0x415fe8[_0x49f0d6(0x1b5)],0x8)),'basecoinvalue':_0x873cee*(_0x989de9[_0x49f0d6(0x1b5)]-_0x415fe8[_0x49f0d6(0x1b5)])});}}});if(_0x348fea[_0x18b275(0x1a2)]>0x0&&!blockTransactionDetection){for(const _0x4c7795 of _0x348fea){if(config[_0x18b275(0x171)]){logger[_0x18b275(0x16d)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x4c7795[_0x18b275(0x21a)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x18b275(0xd9)]);if(lastFees['highest']==0x0||Math[_0x18b275(0x1bc)](_0x4c7795[_0x18b275(0x21a)])>lastFees['highest']*0x3){if(config[_0x18b275(0x171)]==_0x18b275(0xeb)){delete _0x4c7795['symbol'],delete _0x4c7795[_0x18b275(0x21a)];let _0x49c6ea=[],_0x4ce75e=[...config['liquidity']]||[],_0x2a83f5=config[_0x18b275(0x17b)];_0x4ce75e[_0x18b275(0xe3)]((_0x5e6251,_0x10c2ff)=>_0x5e6251[_0x18b275(0x159)]>_0x10c2ff[_0x18b275(0x159)]?-0x1:_0x10c2ff[_0x18b275(0x159)]>_0x5e6251[_0x18b275(0x159)]?0x1:0x0);const _0x40798e=getDate();if(_0x4ce75e[0x0]){const _0x4e00da=fns['parse'](_0x4ce75e[0x0][_0x18b275(0x159)],_0x18b275(0x1c9),new Date()),_0x4dcefb=fns[_0x18b275(0x233)](_0x40798e,_0x18b275(0x1c9),new Date());if(fns[_0x18b275(0xfc)](_0x4e00da,_0x4dcefb)){_0x49c6ea=_0x4ce75e[0x0][_0x18b275(0x265)];const _0x12ca51=_0x49c6ea[_0x18b275(0x127)](_0x12955f=>_0x12955f['coin']==_0x4c7795[_0x18b275(0xfe)]);_0x12ca51?(_0x12ca51[_0x18b275(0x1b5)]+=_0x4c7795[_0x18b275(0x1b5)],_0x12ca51[_0x18b275(0x1b5)]==0x0&&(_0x49c6ea=_0x49c6ea[_0x18b275(0xed)](_0x4d1d0c=>{const _0x479f52=_0x18b275;return _0x4d1d0c[_0x479f52(0xfe)]!=_0x4c7795[_0x479f52(0xfe)];}))):_0x49c6ea[_0x18b275(0x258)](_0x4c7795);const _0x56a4c2=_0x2a83f5['find'](_0x197c6d=>_0x197c6d[_0x18b275(0x159)]==_0x40798e);_0x56a4c2['changes']=_0x49c6ea;}else _0x2a83f5[_0x18b275(0x258)]({'date':_0x40798e,'changes':[_0x4c7795]});}const _0x310130=_0x2a83f5[_0x18b275(0x127)](_0x188899=>_0x188899[_0x18b275(0x159)]==_0x40798e);if(_0x310130){let _0x1c6294=!![];_0x310130[_0x18b275(0x265)][_0x18b275(0x126)](_0x2e6aeb=>{const _0x374224=_0x18b275;if(_0x2e6aeb[_0x374224(0x1b5)]!=0x0)_0x1c6294=![];}),_0x1c6294&&(_0x2a83f5=_0x2a83f5[_0x18b275(0xed)](_0x16d3f9=>{return _0x16d3f9['date']!=_0x40798e;}));}let _0x22fc6d=dbConfig[_0x18b275(0x26e)](_0x18b275(0x252))[_0x18b275(0x127)]({'botID':botID})['value']();_0x22fc6d&&(dbConfig['get'](_0x18b275(0x252))[_0x18b275(0x127)]({'botID':botID})[_0x18b275(0x122)]({'liquidity':_0x2a83f5})['write'](),config['liquidity']=_0x2a83f5);logHistory(_0x18b275(0x1ca),_0x18b275(0x25c)+Math[_0x18b275(0x1bc)](_0x4c7795[_0x18b275(0x1b5)])+'\x20'+_0x4c7795[_0x18b275(0xfe)]+'\x20'+(_0x4c7795['number']>0x0?_0x18b275(0x24f):_0x18b275(0x1bf))+_0x18b275(0x16e)),proxyEmit(_0x18b275(0x197),emittedConfiguration());const _0x32ca57=getNormalizedPerformance();emitPerformance(_0x32ca57),getStartingBalances(_0x32ca57),logger['debug']('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x18b275(0x171)]==_0x18b275(0x289)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x18b275(0x1ca),_0x18b275(0x25c)+Math[_0x18b275(0x1bc)](_0x4c7795[_0x18b275(0x1b5)])+'\x20'+_0x4c7795[_0x18b275(0xfe)]+'\x20'+(_0x4c7795[_0x18b275(0x1b5)]>0x0?_0x18b275(0x24f):_0x18b275(0x1bf))+_0x18b275(0xe6))):logger[_0x18b275(0x16d)]('Portfolio\x20change\x20detected:\x20'+Math[_0x18b275(0x1bc)](_0x4c7795[_0x18b275(0x1b5)])+'\x20'+_0x4c7795['coin']+'\x20'+(_0x4c7795[_0x18b275(0x1b5)]>0x0?'added':_0x18b275(0x1bf))+_0x18b275(0x218)));}else logger[_0x18b275(0x16d)](_0x18b275(0x241)+Math[_0x18b275(0x1bc)](_0x4c7795[_0x18b275(0x1b5)])+'\x20'+_0x4c7795[_0x18b275(0xfe)]+'\x20'+(_0x4c7795['number']>0x0?_0x18b275(0x24f):_0x18b275(0x1bf)));}else logger[_0x18b275(0x16d)](_0x18b275(0x25c)+Math[_0x18b275(0x1bc)](_0x4c7795['number'])+'\x20'+_0x4c7795[_0x18b275(0xfe)]+'\x20'+(_0x4c7795[_0x18b275(0x1b5)]>0x0?_0x18b275(0x24f):'removed')+_0x18b275(0x199));}currentCoins=_0x445756,currentCoinsAll=_0x229813;}}catch(_0x41e7df){if(!exchangeStopped)await handleError(_0x41e7df,'detectLiquidityChange()');}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x35ee8d=_0x420c50;try{markets=await exchange[_0x35ee8d(0x134)](!![]),allSymbols=[],Object[_0x35ee8d(0x1ab)](markets)[_0x35ee8d(0x126)](_0x1a005a=>{const _0x30b159=_0x35ee8d;_0x1a005a[0x1][_0x30b159(0x286)]&&_0x1a005a[0x1][_0x30b159(0x19d)]&&allSymbols[_0x30b159(0x258)](_0x1a005a[0x0]);});}catch(_0x5b0f4e){markets?logger[_0x35ee8d(0x16d)](_0x35ee8d(0x254)+_0x5b0f4e[_0x35ee8d(0x2a0)]()):(loading[_0x35ee8d(0x1ac)]=!![],_0x5b0f4e[_0x35ee8d(0x2a0)]()['toLowerCase']()['includes']('timestamp')||_0x5b0f4e[_0x35ee8d(0x2a0)]()[_0x35ee8d(0x1f3)]()[_0x35ee8d(0xc5)](_0x35ee8d(0xdc))?(logHistory('error','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'),loading[_0x35ee8d(0x294)]=_0x35ee8d(0x181)):handleErrorNoStop(_0x5b0f4e,_0x35ee8d(0x121),!![]),logHistory(_0x35ee8d(0x294),_0x35ee8d(0x20f)),logHistory('error',_0x35ee8d(0x137)+loadCoinsRetryInterval/0xea60+_0x35ee8d(0x160)),logger['debug'](_0x35ee8d(0x13b),_0x5b0f4e),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x26be42){const _0x156b66=_0x420c50;let _0x42fc9f=[];return _0x26be42[_0x156b66(0x126)](_0x9ac8e3=>{const _0xb6c160=_0x156b66;!allSymbols[_0xb6c160(0xc5)](_0x9ac8e3)?(logHistory('error',_0xb6c160(0x1a6)+_0x9ac8e3+_0xb6c160(0xc6)),loading['timeout']=!![],emitLoadingProgress()):_0x42fc9f['push'](_0x9ac8e3);}),_0x42fc9f;}async function initclient(){const _0x7a4221=_0x420c50;proxyEmit(_0x7a4221(0x197),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x7a4221(0x12a),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2a0f77=getNormalizedPerformance();emitPerformance(_0x2a0f77),getStartingBalances(_0x2a0f77);}async function toggleBotMode(){const _0x49f600=_0x420c50;let _0x8b2f2d=dbConfig['get'](_0x49f600(0x252))[_0x49f600(0x127)]({'botID':botID})[_0x49f600(0xf2)]();if(_0x8b2f2d){const _0x317c36=!_0x8b2f2d[_0x49f600(0x256)];dbConfig[_0x49f600(0x26e)]('bot')[_0x49f600(0x127)]({'botID':botID})[_0x49f600(0x122)]({'headless':_0x317c36})['write'](),config[_0x49f600(0x256)]=_0x317c36,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2a2dd6=_0x420c50;process['send']({'updatebotmanager':!![]},_0x1756ff=>{}),logger[_0x2a2dd6(0x16d)](_0x2a2dd6(0x25f)+config[_0x2a2dd6(0x256)]);}async function loadCoins(_0x380f88){const _0x3fd06d=_0x420c50;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x4fa22b,_0x2bbd8c=0x0,_0x5a8ba=0x0;_0x380f88['forEach'](_0x5eae28=>{const _0x27e440=_0x4866;loading[_0x27e440(0x1e1)][_0x27e440(0x258)](_0x5eae28);}),loadingCanceled=![];let _0x5c86c1=![];while(_0x4fa22b!=_0x380f88['length']+maxLoadingProgress){_0x4fa22b=loadingProgress,_0x380f88['forEach'](_0x119490=>{const _0x5e490b=_0x4866;if(gTicker[noslash(_0x119490)]){loading[_0x5e490b(0x1e1)]=loading[_0x5e490b(0x1e1)][_0x5e490b(0xed)](_0x2d1ec4=>_0x2d1ec4!=_0x119490);if(!watchedSymbols[_0x5e490b(0xc5)](_0x119490))watchedSymbols['push'](_0x119490);_0x4fa22b++;}}),loading[_0x3fd06d(0x119)]=Math[_0x3fd06d(0x116)](_0x4fa22b/(_0x380f88[_0x3fd06d(0x1a2)]+maxLoadingProgress)*0x64);loading[_0x3fd06d(0x119)]!=0x64&&(_0x5a8ba>0x1e*0x5&&(loading[_0x3fd06d(0x13a)]=!![],emitLoadingProgress()),_0x5a8ba>0x78*0x5&&!_0x5c86c1&&(_0x5c86c1=!![],logHistory(_0x3fd06d(0x294),_0x3fd06d(0x104)+loading[_0x3fd06d(0x1e1)][_0x3fd06d(0x245)](',\x20')+_0x3fd06d(0x177)),logHistory(_0x3fd06d(0x294),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x3fd06d(0x1ac)]=!![],emitLoadingProgress();break;}else _0x2bbd8c!=loading[_0x3fd06d(0x119)]&&(_0x2bbd8c=loading[_0x3fd06d(0x119)],emitLoadingProgress()),_0x5a8ba++,await sleep(0xc8);}_0x4fa22b==_0x380f88[_0x3fd06d(0x1a2)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x3fd06d(0x1a3)]({'status':_0x3fd06d(0x1fc),'live':_0x3fd06d(0x20a)},_0x390bd6=>{}),_0x5c86c1&&logHistory(_0x3fd06d(0x1ca),_0x3fd06d(0x1fd)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x58b726=_0x420c50;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x58b726(0x20d)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x35af45=_0x420c50;let _0x380c10=gTicker[stablecoins['eur']['coin']],_0x5c3ad3=gTicker[stablecoins['usd'][_0x35af45(0xfe)]];return{'eur':Number(_0x380c10),'usd':Number(_0x5c3ad3)};}function capitalize(_0x2750d4){const _0x1c366c=_0x420c50;return _0x2750d4[_0x1c366c(0x1f0)](0x0,0x1)['toUpperCase']()+_0x2750d4['substring'](0x1);}function supportedExchanges(){const _0x3e6f9b=_0x420c50,_0x5794f6=['ws',_0x3e6f9b(0x111),_0x3e6f9b(0x18e),_0x3e6f9b(0x138),_0x3e6f9b(0x25e),_0x3e6f9b(0x266),'createOrder',_0x3e6f9b(0x24b),_0x3e6f9b(0x1c3)];let _0x42db18=[],_0x230344=[],_0xe37fd9=ccxt[_0x3e6f9b(0x250)][_0x3e6f9b(0x1d7)];_0xe37fd9[_0x3e6f9b(0x126)](_0x4fad90=>{const _0x3d4f47=_0x3e6f9b;try{const _0x1e4008=new ccxt[(_0x3d4f47(0x250))][_0x4fad90]();_0x230344['push'](_0x1e4008);}catch(_0x3b23ff){}}),_0x230344[_0x3e6f9b(0x126)](_0x19d472=>{const _0x2c6fa8=_0x3e6f9b;let _0x585e0d=0x0;_0x5794f6['forEach'](_0x27cc4e=>{const _0x54de73=_0x4866;_0x27cc4e in _0x19d472[_0x54de73(0xff)]&&_0x19d472[_0x54de73(0xff)][_0x27cc4e]&&_0x585e0d++;}),_0x585e0d==_0x5794f6[_0x2c6fa8(0x1a2)]&&(!excludedExchanges[_0x2c6fa8(0xc5)](_0x19d472['id'])&&_0x42db18[_0x2c6fa8(0x258)](capitalize(_0x19d472['id'])));});let _0x5c09c6=[];return _0xe37fd9[_0x3e6f9b(0x126)](_0x15ea6f=>{const _0x532d16=_0x3e6f9b;_0x15ea6f=capitalize(_0x15ea6f);if(!_0x42db18[_0x532d16(0xc5)](_0x15ea6f))_0x5c09c6[_0x532d16(0x258)](_0x15ea6f);}),_0x42db18;}function setStartDatePerformance(){const _0x1a768c=_0x420c50;if(config&&config[_0x1a768c(0x17b)][0x0][_0x1a768c(0x265)][_0x1a768c(0x1a2)]!=0x0){const _0x77fc75=config['liquidity'][0x0][_0x1a768c(0x265)];dbPerformance[_0x1a768c(0x26e)](_0x1a768c(0x115))[_0x1a768c(0x127)]({'date':config[_0x1a768c(0x28a)]})[_0x1a768c(0x122)]({'coins':_0x77fc75})[_0x1a768c(0x1f6)]();}}function calculatePnL(_0x4a1d5e,_0x289d8c,_0x54afb1,_0x12eb9f,_0x237583,_0x4128e9){const _0x354591=_0x420c50;!_0x4a1d5e[_0x354591(0xc5)]('/'+config[_0x354591(0x228)])&&(_0x54afb1=_0x54afb1==_0x354591(0x26f)?_0x354591(0x22c):_0x354591(0x26f));!_0x4128e9[_0x289d8c]&&(_0x4128e9[_0x289d8c]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x3bd42f=0x0,_0x28f092,_0x1b1799;if(_0x54afb1==_0x354591(0x26f))_0x1b1799=_0x4128e9[_0x289d8c][_0x354591(0x1b5)]*_0x4128e9[_0x289d8c]['breakeven']+_0x237583*_0x12eb9f,_0x4128e9[_0x289d8c][_0x354591(0x1b5)]+=_0x12eb9f,_0x4128e9[_0x289d8c][_0x354591(0x149)]=_0x4128e9[_0x289d8c]['number']!=0x0?_0x1b1799/_0x4128e9[_0x289d8c][_0x354591(0x1b5)]:0x0,_0x4128e9[_0x289d8c]['buys']++;else _0x54afb1==_0x354591(0x22c)&&(_0x28f092=Math['min'](_0x4128e9[_0x289d8c]['number'],_0x12eb9f),_0x3bd42f=(_0x237583-_0x4128e9[_0x289d8c][_0x354591(0x149)])*_0x28f092,_0x1b1799=Math[_0x354591(0xf4)](_0x4128e9[_0x289d8c][_0x354591(0x1b5)]*_0x4128e9[_0x289d8c]['breakeven']-_0x28f092*_0x4128e9[_0x289d8c]['breakeven'],0x0),_0x4128e9[_0x289d8c][_0x354591(0x1b5)]-=_0x28f092,_0x4128e9[_0x289d8c]['breakeven']=_0x4128e9[_0x289d8c][_0x354591(0x1b5)]!=0x0?_0x1b1799/_0x4128e9[_0x289d8c]['number']:0x0,_0x4128e9[_0x289d8c][_0x354591(0x175)]+=_0x3bd42f,_0x4128e9[_0x289d8c][_0x354591(0x195)]++);return _0x3bd42f;}async function generatePnL(){const _0x3d9d36=_0x420c50;pnlGenerationNeeded=![],logger[_0x3d9d36(0x16d)]('Generating\x20PnL\x20data');const _0x2e5a6f=dbLogs['get'](_0x3d9d36(0x27a))[_0x3d9d36(0xf2)]();let _0x305bdb={},_0x2394df=0x0,_0x3c6a3a=0x0,_0x1ba8c0=config['startdate'];const _0x12cf5d=fns[_0x3d9d36(0x233)](_0x1ba8c0,_0x3d9d36(0x1c9),new Date()),_0x49d984=new Date();let _0x2469e4=0x0;for(let _0x2267ef=_0x12cf5d;!fns[_0x3d9d36(0x184)](_0x49d984,_0x2267ef);_0x2267ef=fns[_0x3d9d36(0x1ef)](_0x2267ef,0x1)){const _0x244578=fns[_0x3d9d36(0x23b)](_0x2267ef,_0x3d9d36(0x1c9));while(_0x2394df<_0x2e5a6f[_0x3d9d36(0x1a2)]){const _0x5851a6=new Date(_0x2e5a6f[_0x2394df][_0x3d9d36(0x282)]);if(fns[_0x3d9d36(0x184)](_0x5851a6,_0x2267ef))_0x2394df++;else{if(_0x2e5a6f[_0x2394df][_0x3d9d36(0x282)][_0x3d9d36(0xc5)](_0x244578)){const _0x2c53df=_0x2e5a6f[_0x2394df];if(_0x2c53df[_0x3d9d36(0x1eb)]===_0x3d9d36(0x186)&&(_0x2c53df[_0x3d9d36(0x128)][_0x3d9d36(0xc5)](_0x3d9d36(0x239))||_0x2c53df[_0x3d9d36(0x128)][_0x3d9d36(0xc5)](_0x3d9d36(0x213)))){const _0x21a85a=_0x2c53df[_0x3d9d36(0x128)]['match'](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x21a85a){const [,_0x41457e,_0x4e1baa,_0x1296c8,_0x16b110]=_0x21a85a,_0x289824=_0x41457e[_0x3d9d36(0xc5)]('/'+config[_0x3d9d36(0x228)])?_0x41457e['split']('/')[0x0]:_0x41457e[_0x3d9d36(0x276)]('/')[0x1],_0x342aa6=calculatePnL(_0x41457e,_0x289824,_0x4e1baa,parseFloat(_0x1296c8),parseFloat(_0x16b110),_0x305bdb);_0x3c6a3a+=_0x342aa6;}}_0x2394df++;}else break;}}dbPerformance[_0x3d9d36(0x26e)](_0x3d9d36(0x115))['find']({'date':_0x244578})[_0x3d9d36(0x122)]({'pnl':_0x3c6a3a})[_0x3d9d36(0x1f6)]();}dbCoinResults[_0x3d9d36(0x10d)]('coins',_0x305bdb)['write'](),logger[_0x3d9d36(0x16d)](_0x3d9d36(0x141));const _0x5dcfeb=getNormalizedPerformance();emitPerformance(_0x5dcfeb);}async function updatePnL(_0x2d1c04){const _0x57f0e8=_0x420c50,{symbol:_0x31d42d,coin:_0x28fc3e,amount:_0x4fb346,price:_0x1c1718,side:_0x118654,reverse:_0x48115e}=_0x2d1c04;let _0xe642f7=dbCoinResults[_0x57f0e8(0x26e)](_0x57f0e8(0x21c))['value']();const _0x31700c=calculatePnL(_0x31d42d,_0x28fc3e,_0x118654,_0x4fb346,_0x1c1718,_0xe642f7);dbCoinResults['set'](_0x57f0e8(0x21c),_0xe642f7)[_0x57f0e8(0x1f6)]();const _0x46f691=getTimeStamp()[_0x57f0e8(0x276)]('\x20')[0x0];let _0x28c43e=dbPerformance[_0x57f0e8(0x26e)]('data')[_0x57f0e8(0x127)]({'date':_0x46f691})[_0x57f0e8(0xf2)]();_0x28c43e?(_0x28c43e['pnl']+=_0x31700c,dbPerformance['get'](_0x57f0e8(0x115))[_0x57f0e8(0x127)]({'date':_0x46f691})[_0x57f0e8(0x122)](_0x28c43e)[_0x57f0e8(0x1f6)]()):await storePerformance();const _0x2185fd=getNormalizedPerformance();emitPerformance(_0x2185fd);}async function validate24hChanges(){const _0x7ecad0=_0x420c50;for(const _0x5f08ad of currentCoins){if(_0x5f08ad[_0x7ecad0(0xfe)]!=config[_0x7ecad0(0x228)]){let _0x423865;_0x5f08ad[_0x7ecad0(0x132)]?_0x423865=formatResult((0x1/(gChange[_0x5f08ad[_0x7ecad0(0xe0)]]/0x64+0x1)-0x1)*0x64,0x3):_0x423865=gChange[_0x5f08ad['symbol']],_0x423865<config['change24h']&&(logHistory(_0x7ecad0(0x294),_0x5f08ad[_0x7ecad0(0xfe)]+_0x7ecad0(0x106)+_0x423865+'%'),logHistory(_0x7ecad0(0x294),_0x7ecad0(0x295)),logHistory(_0x7ecad0(0x294),_0x7ecad0(0xc4)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x456853,_0x325888){const _0xdc85d4=_0x420c50;if(!_0x456853)return!![];const _0x107878=_0x325888[_0xdc85d4(0x276)]('.'),_0x5f11bb=_0x456853[_0xdc85d4(0x276)]('.');for(var _0x14f08f=0x0;_0x14f08f<_0x5f11bb[_0xdc85d4(0x1a2)];_0x14f08f++){const _0x214780=~~_0x5f11bb[_0x14f08f],_0x456dea=~~_0x107878[_0x14f08f];if(_0x214780<_0x456dea)return!![];if(_0x214780>_0x456dea)return![];}return![];}async function oneTimeMigration(){const _0x28f2b0=_0x420c50;let _0x2f3b1f=dbLogs[_0x28f2b0(0x26e)](_0x28f2b0(0x1e4))[_0x28f2b0(0xf2)]();if(isOlderVersion(_0x2f3b1f,_0x28f2b0(0xd2))){let _0x55c05e=[];const _0x49dde4=dbLogs[_0x28f2b0(0x26e)](_0x28f2b0(0x27a))['value']();_0x49dde4[_0x28f2b0(0x126)](_0x526840=>{const _0x1192cd=_0x28f2b0;_0x55c05e['push']({'time':_0x526840[_0x1192cd(0x282)],'type':_0x526840['type'],'event':_0x526840[_0x1192cd(0x128)]});}),dbLogs[_0x28f2b0(0x26e)](_0x28f2b0(0x27a))['assign'](_0x55c05e)[_0x28f2b0(0x1f6)]();}let _0x4e59e7=dbConfig[_0x28f2b0(0x26e)]('version')[_0x28f2b0(0xf2)]();if(isOlderVersion(_0x4e59e7,_0x28f2b0(0xd2))){let _0x2ab1de=dbConfig['get'](_0x28f2b0(0x252))[_0x28f2b0(0x127)]({'botID':botID})[_0x28f2b0(0xf2)]();if(_0x2ab1de){let _0x4428d6=[];_0x2ab1de[_0x28f2b0(0xd1)][_0x28f2b0(0x126)](_0x32ac42=>{const _0x61e1fa=_0x28f2b0;_0x4428d6[_0x61e1fa(0x258)]({'coin':_0x32ac42[_0x61e1fa(0xfe)],'number':_0x32ac42[_0x61e1fa(0x296)],'price':_0x32ac42[_0x61e1fa(0x277)]}),delete _0x32ac42['startnumber'],delete _0x32ac42[_0x61e1fa(0x277)];});if(_0x4428d6[_0x28f2b0(0x1a2)]!==0x0)fs[_0x28f2b0(0x1e6)](configbackuppath+(_0x28f2b0(0x174)+botID+_0x28f2b0(0x232)),JSON[_0x28f2b0(0x1c2)](_0x4428d6,null,0x4),function(_0x13108f){if(_0x13108f){}});const _0x41fbf2=(_0x57cef2,_0xb65dff)=>{let _0x2df928=[];_0xb65dff['forEach'](_0x4e1bbb=>{const _0x538cc3=_0x4866,_0x1e5676=_0x57cef2[_0x538cc3(0x127)](_0x474703=>_0x474703[_0x538cc3(0xfe)]==_0x4e1bbb['coin']);if(!_0x1e5676)_0x2df928['push'](_0x4e1bbb);});let _0x1b8f0f=[];return _0x57cef2['forEach'](_0x3e85e3=>{const _0x3926af=_0x4866,_0x3564e4=_0xb65dff[_0x3926af(0x127)](_0x2b58eb=>_0x2b58eb[_0x3926af(0xfe)]==_0x3e85e3['coin']);if(!_0x3564e4||_0x3564e4[_0x3926af(0x1b5)]==0x0&&_0x3e85e3[_0x3926af(0x1b5)]!=0x0)_0x1b8f0f['push'](_0x3e85e3);}),{'missingDay1':_0x2df928,'notInDay2':_0x1b8f0f};},_0x1f255f=dbPerformance[_0x28f2b0(0x26e)](_0x28f2b0(0x115))[_0x28f2b0(0x1df)]()['value']();if(_0x1f255f[_0x28f2b0(0x1a2)]>0x1){const {missingDay1:_0xfbf79b,notInDay2:_0x31fb3a}=_0x41fbf2(_0x4428d6,_0x1f255f[0x1]['coins']);_0x4428d6=[..._0x4428d6,..._0xfbf79b],_0x31fb3a['forEach'](_0x99f2dc=>{const _0x324fd6=_0x28f2b0;let _0x109288=_0x4428d6[_0x324fd6(0xda)](_0xf1f78b=>_0xf1f78b['coin']==_0x99f2dc[_0x324fd6(0xfe)]);_0x109288!=-0x1&&_0x4428d6['splice'](_0x109288,0x1);});}_0x4428d6[_0x28f2b0(0xe3)]((_0x5ca6ca,_0x1bdffa)=>_0x5ca6ca[_0x28f2b0(0xfe)]>_0x1bdffa['coin']?0x1:_0x1bdffa['coin']>_0x5ca6ca[_0x28f2b0(0xfe)]?-0x1:0x0);let _0x3c1835=[{'date':_0x2ab1de[_0x28f2b0(0x28a)],'changes':_0x4428d6}];_0x1f255f['length']>0x2&&_0x1f255f['forEach']((_0x1158c5,_0x14c7bb)=>{const _0x175c42=_0x28f2b0;if(_0x14c7bb>0x0&&_0x14c7bb<_0x1f255f[_0x175c42(0x1a2)]-0x1){const {missingDay1:_0x521b49,notInDay2:_0x1a53a9}=_0x41fbf2(_0x1f255f[_0x14c7bb][_0x175c42(0x21c)],_0x1f255f[_0x14c7bb+0x1][_0x175c42(0x21c)]);_0x4428d6=[],(_0x521b49[_0x175c42(0x1a2)]!=0x0||_0x1a53a9['length']!=0x0)&&(_0x521b49['length']!=0x0&&_0x4428d6['push'](..._0x521b49),_0x1a53a9['length']!=0x0&&(_0x1a53a9[_0x175c42(0x126)](_0x2b0a06=>{_0x2b0a06['number']=-_0x2b0a06['number'];}),_0x4428d6[_0x175c42(0x258)](..._0x1a53a9)),_0x4428d6['sort']((_0xbee0e,_0x3e173a)=>_0xbee0e[_0x175c42(0xfe)]>_0x3e173a[_0x175c42(0xfe)]?0x1:_0x3e173a[_0x175c42(0xfe)]>_0xbee0e['coin']?-0x1:0x0),_0x3c1835['push']({'date':_0x1f255f[_0x14c7bb+0x1][_0x175c42(0x159)],'changes':_0x4428d6}));}}),dbConfig[_0x28f2b0(0x26e)](_0x28f2b0(0x252))[_0x28f2b0(0x127)]({'botID':botID})[_0x28f2b0(0x122)]({..._0x2ab1de,'liquidity':_0x3c1835})[_0x28f2b0(0x1f6)]();}}if(isOlderVersion(_0x4e59e7,'2.6.0')){let _0x519ea9=dbConfig[_0x28f2b0(0x26e)](_0x28f2b0(0x252))[_0x28f2b0(0x127)]({'botID':botID})[_0x28f2b0(0xf2)]();if(_0x519ea9){const _0x5cdfeb=_0x519ea9[_0x28f2b0(0x212)],_0x217d5f=_0x5cdfeb?capitalize(_0x5cdfeb):_0x28f2b0(0x131);dbConfig[_0x28f2b0(0x26e)](_0x28f2b0(0x252))[_0x28f2b0(0x127)]({'botID':botID})['assign']({'exchange':_0x217d5f})[_0x28f2b0(0x1f6)]();}}if(isOlderVersion(_0x4e59e7,'2.6.22')){let _0x26a3de=dbConfig[_0x28f2b0(0x26e)](_0x28f2b0(0x252))['find']({'botID':botID})[_0x28f2b0(0xf2)]();if(_0x26a3de){const _0x5c5a7e=_0x26a3de[_0x28f2b0(0x1aa)],_0x2835bf=_0x5c5a7e?'marketcap':![];dbConfig[_0x28f2b0(0x26e)](_0x28f2b0(0x252))[_0x28f2b0(0x127)]({'botID':botID})[_0x28f2b0(0x122)]({'marketcapEnabled':_0x2835bf})[_0x28f2b0(0x1f6)]();}}if(isOlderVersion(_0x4e59e7,'2.6.23')){let _0xf6eeee=dbConfig['get'](_0x28f2b0(0x252))['find']({'botID':botID})[_0x28f2b0(0xf2)]();if(_0xf6eeee){const _0x591066=_0xf6eeee['autoliquidity'],_0x3935d5=_0x591066?'update-liquidity':![];dbConfig[_0x28f2b0(0x26e)](_0x28f2b0(0x252))[_0x28f2b0(0x127)]({'botID':botID})['assign']({'autoliquidity':_0x3935d5})[_0x28f2b0(0x1f6)]();}}let _0x16af6d=dbPerformance[_0x28f2b0(0x26e)](_0x28f2b0(0x1e4))[_0x28f2b0(0xf2)]();isOlderVersion(_0x16af6d,'2.3.5')&&setStartDatePerformance();let _0x451212=dbCoinResults['get']('version')[_0x28f2b0(0xf2)]();if(isOlderVersion(_0x451212,_0x28f2b0(0x17d))){let _0x989347=dbCoinResults['get'](_0x28f2b0(0x21c))[_0x28f2b0(0xf2)]();if(_0x989347[_0x28f2b0(0x1a2)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x145759=_0x420c50;dbConfig[_0x145759(0x10d)](_0x145759(0x1e4),serverversion)[_0x145759(0x1f6)](),dbPerformance[_0x145759(0x10d)]('version',serverversion)[_0x145759(0x1f6)](),dbLogs['set'](_0x145759(0x1e4),serverversion)[_0x145759(0x1f6)](),dbCoinResults[_0x145759(0x10d)](_0x145759(0x1e4),serverversion)['write']();}function getConfiguration(_0x4f0c3a){const _0xa2dd0a=_0x420c50;let _0x5960c8=dbConfig[_0xa2dd0a(0x26e)](_0xa2dd0a(0x252))[_0xa2dd0a(0x127)]({'botID':_0x4f0c3a})[_0xa2dd0a(0xf2)]();if(_0x5960c8){let _0x50cb82=![];typeof _0x5960c8[_0xa2dd0a(0x1c8)]=='string'&&(_0x5960c8={..._0x5960c8,'threshold':Number(_0x5960c8[_0xa2dd0a(0x1c8)])},_0x50cb82=!![]),_0x5960c8[_0xa2dd0a(0x215)]==undefined&&(_0x5960c8={..._0x5960c8,'change24h':-0x14},_0x50cb82=!![]),_0x5960c8[_0xa2dd0a(0x1a1)]==undefined&&(_0x5960c8={..._0x5960c8,'fiat':'USD'},_0x50cb82=!![]),_0x5960c8[_0xa2dd0a(0x130)]==undefined&&(_0x5960c8={..._0x5960c8,'onepagemode':settings['onepagemode']},_0x50cb82=!![]),_0x5960c8[_0xa2dd0a(0x1ff)]==undefined&&(_0x5960c8={..._0x5960c8,'colorscheme':_0xa2dd0a(0xdd)},_0x50cb82=!![]),_0x5960c8['autoliquidity']==undefined&&(_0x5960c8={..._0x5960c8,'autoliquidity':_0xa2dd0a(0xeb)},_0x50cb82=!![]),_0x5960c8[_0xa2dd0a(0x117)]==undefined&&(_0x5960c8={..._0x5960c8,'marketcapApi':settings[_0xa2dd0a(0x117)]?!![]:![]},_0x50cb82=!![]),_0x5960c8['marketcapEnabled']==undefined&&(_0x5960c8={..._0x5960c8,'marketcapEnabled':![]},_0x50cb82=!![]),_0x5960c8[_0xa2dd0a(0x13d)]==undefined&&(_0x5960c8={..._0x5960c8,'sandbox':![]},_0x50cb82=!![]),_0x50cb82&&(_0x5960c8={'botID':_0x5960c8['botID'],'exchange':_0x5960c8[_0xa2dd0a(0x212)],'apiKey':_0x5960c8[_0xa2dd0a(0x261)],'apiSecret':_0x5960c8[_0xa2dd0a(0x18d)],'apiPassword':_0x5960c8['apiPassword'],'basecoin':_0x5960c8[_0xa2dd0a(0x228)],'botname':_0x5960c8[_0xa2dd0a(0x10a)],'showname':_0x5960c8['showname'],'threshold':_0x5960c8['threshold'],'ordertype':_0x5960c8['ordertype'],'timeout':_0x5960c8[_0xa2dd0a(0x13a)],'fiat':_0x5960c8[_0xa2dd0a(0x1a1)],'startdate':_0x5960c8[_0xa2dd0a(0x28a)],'recreate':_0x5960c8['recreate'],'timeshift':_0x5960c8[_0xa2dd0a(0x15d)],'onepagemode':_0x5960c8[_0xa2dd0a(0x130)],'headless':_0x5960c8['headless'],'cooldown':_0x5960c8[_0xa2dd0a(0x280)],'change24h':_0x5960c8[_0xa2dd0a(0x215)],'emojibuy':_0x5960c8['emojibuy'],'emojisell':_0x5960c8[_0xa2dd0a(0x162)],'colorscheme':_0x5960c8['colorscheme'],'marketcapApi':_0x5960c8[_0xa2dd0a(0x117)],'marketcapEnabled':_0x5960c8[_0xa2dd0a(0x1aa)],'sandbox':_0x5960c8[_0xa2dd0a(0x13d)],'portfolio':_0x5960c8[_0xa2dd0a(0xd1)],'autoliquidity':_0x5960c8[_0xa2dd0a(0x171)],'liquidity':_0x5960c8[_0xa2dd0a(0x17b)],'openOrders':_0x5960c8[_0xa2dd0a(0x100)]},dbConfig[_0xa2dd0a(0x26e)]('bot')[_0xa2dd0a(0x20b)]()[_0xa2dd0a(0x1f6)](),dbConfig[_0xa2dd0a(0x26e)](_0xa2dd0a(0x252))[_0xa2dd0a(0x258)](_0x5960c8)[_0xa2dd0a(0x1f6)]());}else _0x5960c8={'botID':_0x4f0c3a,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0xa2dd0a(0x14a)+_0x4f0c3a,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0xa2dd0a(0x1ba),'startdate':getDate(),'recreate':![],'timeshift':settings[_0xa2dd0a(0x15d)],'onepagemode':settings[_0xa2dd0a(0x130)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0xa2dd0a(0xdd),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0xa2dd0a(0xeb),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5960c8;}function emittedConfiguration(){const _0x48bfae=_0x420c50;let _0x3d3f2a;if(config['apiKey']=='')_0x3d3f2a={...config,'configstate':'initial'};else config[_0x48bfae(0x261)]=='***'?_0x3d3f2a={...config,'configstate':_0x48bfae(0x164)}:(_0x3d3f2a={...config,'apiKey':'************','apiSecret':_0x48bfae(0x10f)},config[_0x48bfae(0x10b)]&&(_0x3d3f2a[_0x48bfae(0x10b)]='************'));return _0x3d3f2a[_0x48bfae(0x108)]=enableFiatToggle,_0x3d3f2a;}function getSettings(){const _0x17d4b7=_0x420c50;return dbSettings[_0x17d4b7(0x26e)](_0x17d4b7(0x244))[_0x17d4b7(0xf2)]();}function getSecure(){const _0x36f4d2=_0x420c50;return dbSecure[_0x36f4d2(0x26e)](_0x36f4d2(0xd0))['value']()||{};}function updateTimeshift(_0x739684){const _0x3bc4a5=_0x420c50;let _0x48ee33=dbConfig[_0x3bc4a5(0x26e)](_0x3bc4a5(0x252))['find']({'botID':botID})[_0x3bc4a5(0xf2)]();_0x48ee33&&dbConfig[_0x3bc4a5(0x26e)](_0x3bc4a5(0x252))[_0x3bc4a5(0x127)]({'botID':botID})['assign']({'timeshift':_0x739684})[_0x3bc4a5(0x1f6)](),config[_0x3bc4a5(0x15d)]=_0x739684,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x43dd38){const _0x5378c7=_0x420c50;let _0x39d504=dbConfig[_0x5378c7(0x26e)](_0x5378c7(0x252))[_0x5378c7(0x127)]({'botID':botID})[_0x5378c7(0xf2)]();_0x39d504&&dbConfig[_0x5378c7(0x26e)](_0x5378c7(0x252))['find']({'botID':botID})[_0x5378c7(0x122)]({'onepagemode':_0x43dd38})['write'](),config[_0x5378c7(0x130)]=_0x43dd38,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x3c7849){const _0x4d4c0b=_0x420c50,_0x4cb448=_0x3c7849?!![]:![];let _0x2662d5=dbConfig[_0x4d4c0b(0x26e)](_0x4d4c0b(0x252))[_0x4d4c0b(0x127)]({'botID':botID})[_0x4d4c0b(0xf2)]();_0x2662d5&&dbConfig[_0x4d4c0b(0x26e)](_0x4d4c0b(0x252))[_0x4d4c0b(0x127)]({'botID':botID})[_0x4d4c0b(0x122)]({'marketcapApi':_0x4cb448})[_0x4d4c0b(0x1f6)](),config['marketcapApi']=_0x4cb448,getMarketCap(),proxyEmit(_0x4d4c0b(0x197),emittedConfiguration());}async function storeConfiguration(_0x18b76b){const _0x5bc418=_0x420c50;logger[_0x5bc418(0x16d)](_0x5bc418(0x1a0));_0x18b76b['configstate']&&delete _0x18b76b[_0x5bc418(0xf1)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x3b2f12=![],_0x32bd9f=![],_0x3f0d73=[];_0x18b76b[_0x5bc418(0xd1)][_0x5bc418(0x126)](_0x2d3e95=>{const _0x234820=_0x5bc418;if(!_0x2d3e95[_0x234820(0x166)]&&_0x2d3e95[_0x234820(0xfe)]!=_0x18b76b[_0x234820(0x228)])_0x3f0d73[_0x234820(0x258)](_0x2d3e95[_0x234820(0xe0)]);}),_0x3f0d73[_0x5bc418(0x126)](_0x1e9d35=>{const _0x306dfa=_0x5bc418,_0x248d0a=currentCoins[_0x306dfa(0x127)](_0x3b82f0=>_0x3b82f0[_0x306dfa(0xe0)]==_0x1e9d35);!_0x248d0a&&(_0x3b2f12=!![]);}),currentCoins[_0x5bc418(0x126)](_0x5bc577=>{const _0x32d491=_0x5bc418;if(_0x5bc577['coin']!=config[_0x32d491(0x228)]){const _0x130097=_0x3f0d73[_0x32d491(0x127)](_0x202703=>_0x202703==_0x5bc577[_0x32d491(0xe0)]);!_0x130097&&(_0x3b2f12=!![]);}}),_0x18b76b[_0x5bc418(0xd1)]['forEach'](_0x4d4fe2=>{const _0xdaaeb7=_0x5bc418,_0x43fbec=config[_0xdaaeb7(0xd1)][_0xdaaeb7(0x127)](_0x142f52=>_0x142f52[_0xdaaeb7(0xfe)]==_0x4d4fe2['coin']);if(_0x43fbec&&_0x4d4fe2[_0xdaaeb7(0x246)]!=_0x43fbec[_0xdaaeb7(0x246)])_0x32bd9f=!![];});let _0x435f0c=dbConfig[_0x5bc418(0x26e)](_0x5bc418(0x252))[_0x5bc418(0x127)]({'botID':botID})[_0x5bc418(0xf2)]();_0x18b76b={..._0x18b76b,'apiKey':decryptRSA(secure[_0x5bc418(0x153)],_0x18b76b[_0x5bc418(0x261)]),'apiSecret':decryptRSA(secure[_0x5bc418(0x153)],_0x18b76b[_0x5bc418(0x18d)])};_0x18b76b[_0x5bc418(0x10b)]&&(_0x18b76b[_0x5bc418(0x10b)]=decryptRSA(secure[_0x5bc418(0x153)],_0x18b76b[_0x5bc418(0x10b)]));let _0xb7d42f=![];if(_0x435f0c){_0x18b76b[_0x5bc418(0x261)]==_0x5bc418(0x10f)?_0x18b76b['apiKey']=config[_0x5bc418(0x261)]:_0xb7d42f=!![];_0x18b76b['apiSecret']==_0x5bc418(0x10f)?_0x18b76b[_0x5bc418(0x18d)]=config[_0x5bc418(0x18d)]:_0xb7d42f=!![];if(_0x18b76b[_0x5bc418(0x10b)]==_0x5bc418(0x10f))_0x18b76b[_0x5bc418(0x10b)]=config['apiPassword'];else{if(_0x18b76b[_0x5bc418(0x10b)])_0xb7d42f=!![];}dbConfig[_0x5bc418(0x26e)](_0x5bc418(0x252))[_0x5bc418(0x127)]({'botID':botID})[_0x5bc418(0x122)](_0x18b76b)[_0x5bc418(0x1f6)]();}else dbConfig[_0x5bc418(0x26e)]('bot')[_0x5bc418(0x258)](_0x18b76b)[_0x5bc418(0x1f6)](),_0xb7d42f=!![],process[_0x5bc418(0x1a3)]({'status':_0x5bc418(0x1fc),'live':_0x5bc418(0x20a)},_0x3b2d90=>{});process[_0x5bc418(0x1a3)]({'botname':_0x18b76b[_0x5bc418(0x10a)]},_0x10d487=>{}),config={..._0x18b76b},updateBotManager(),proxyEmit(_0x5bc418(0x24a)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0xb7d42f)await reset(!![]);else _0x3b2f12||_0x32bd9f?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x2d29d5){const _0x49c94f=_0x420c50,_0x12c523={...config,'headless':_0x2d29d5[_0x49c94f(0x256)]};let _0x497f87=dbConfig[_0x49c94f(0x26e)]('bot')['find']({'botID':botID})[_0x49c94f(0xf2)]();_0x497f87&&dbConfig[_0x49c94f(0x26e)]('bot')[_0x49c94f(0x127)]({'botID':botID})[_0x49c94f(0x122)](_0x12c523)[_0x49c94f(0x1f6)](),config={..._0x12c523},updateBotManager(),proxyEmit(_0x49c94f(0x197),emittedConfiguration());}async function storeFiat(_0x14027a){const _0x36cb5e=_0x420c50,_0x2538a0={...config,'fiat':_0x14027a};let _0x874e4b=dbConfig[_0x36cb5e(0x26e)](_0x36cb5e(0x252))[_0x36cb5e(0x127)]({'botID':botID})[_0x36cb5e(0xf2)]();_0x874e4b&&dbConfig['get'](_0x36cb5e(0x252))['find']({'botID':botID})['assign'](_0x2538a0)[_0x36cb5e(0x1f6)](),config={..._0x2538a0},proxyEmit(_0x36cb5e(0x197),emittedConfiguration());}function resetHistory(){const _0x360ea0=_0x420c50;logger[_0x360ea0(0x260)]('Resetting\x20bot\x20history');try{if(fs['existsSync'](path[_0x360ea0(0x245)](configpath,_0x360ea0(0x2a3)+botID+'-events.json')))fs[_0x360ea0(0x1d6)](path[_0x360ea0(0x245)](configpath,'bot-'+botID+_0x360ea0(0x11f)));if(fs['existsSync'](path[_0x360ea0(0x245)](configpath,'bot-'+botID+_0x360ea0(0xf3))))fs[_0x360ea0(0x1d6)](path['join'](configpath,'bot-'+botID+'-performance.json'));if(fs['existsSync'](path[_0x360ea0(0x245)](configpath,'bot-'+botID+_0x360ea0(0xcf))))fs['unlinkSync'](path[_0x360ea0(0x245)](configpath,_0x360ea0(0x2a3)+botID+_0x360ea0(0xcf)));}catch(_0x2c50e7){if(_0x2c50e7)logger[_0x360ea0(0x260)]('Error\x20while\x20deleting\x20files:\x20',_0x2c50e7);}const _0x1fceee=getDate();let _0x5d6131=[];currentCoins[_0x360ea0(0x126)](_0x5af883=>{const _0x10521d=_0x360ea0;_0x5d6131[_0x10521d(0x258)]({'coin':_0x5af883[_0x10521d(0xfe)],'number':_0x5af883[_0x10521d(0x1b5)],'price':_0x5af883['last']});});let _0x3e79ef=dbConfig[_0x360ea0(0x26e)](_0x360ea0(0x252))[_0x360ea0(0x127)]({'botID':botID})[_0x360ea0(0xf2)]();_0x3e79ef&&(dbConfig[_0x360ea0(0x26e)](_0x360ea0(0x252))[_0x360ea0(0x127)]({'botID':botID})[_0x360ea0(0x122)]({'liquidity':[{'date':_0x1fceee,'changes':_0x5d6131}]})[_0x360ea0(0x1f6)](),config[_0x360ea0(0x17b)]=[]),restartBot(!![]);}function noslash(_0x52ac62){const _0x4d556c=_0x420c50;return _0x52ac62[_0x4d556c(0x105)]('/','');}function updateHighestFee(_0x21f17e){const _0xc86378=_0x420c50;if(_0x21f17e[_0xc86378(0x132)]){let _0x4631a3={'filled':_0x21f17e[_0xc86378(0x26b)]*_0x21f17e[_0xc86378(0x29d)],'amount':_0x21f17e[_0xc86378(0x26b)]*_0x21f17e[_0xc86378(0x29d)],'side':_0x21f17e[_0xc86378(0x222)]==_0xc86378(0x22c)?_0xc86378(0x26f):_0xc86378(0x22c),'price':0x1/_0x21f17e['price']};_0x21f17e={..._0x21f17e,..._0x4631a3};}const _0x50e417=defaultFee*_0x21f17e[_0xc86378(0x26b)]*_0x21f17e[_0xc86378(0x29d)];lastFees[_0xc86378(0x107)][_0xc86378(0x1a2)]===0x14&&lastFees[_0xc86378(0x107)]['shift'](),lastFees[_0xc86378(0x107)][_0xc86378(0x258)](_0x50e417),lastFees['highest']=Math[_0xc86378(0xf4)](...lastFees[_0xc86378(0x107)]);}async function updateNumberCoinsCcxt(_0x307281){const _0x2d5bfa=_0x420c50;logger['debug'](_0x2d5bfa(0x14b)+_0x307281[_0x2d5bfa(0xe0)]+'\x20|\x20'+_0x307281[_0x2d5bfa(0x18a)]+_0x2d5bfa(0x1d9)+_0x307281[_0x2d5bfa(0x26b)]+_0x2d5bfa(0x17f)+_0x307281['amount']+_0x2d5bfa(0x1d9)+_0x307281['id']);let _0x898622=_0x307281[_0x2d5bfa(0x18a)],_0x57b869=![];currentCoins['forEach'](_0x3cbfa9=>{const _0x266db5=_0x2d5bfa;_0x3cbfa9[_0x266db5(0xe0)]==_0x307281['symbol']&&(_0x57b869=!![]);});if(!_0x57b869)return;const _0x203bd4=currentCoins['find'](_0x8d2b12=>_0x8d2b12['symbol']==_0x307281[_0x2d5bfa(0xe0)]),_0x43b7c4=_0x203bd4[_0x2d5bfa(0xfe)],_0x386212=_0x59c3be=>{const _0x511fff=_0x2d5bfa,_0x58a138=currentCoins[_0x511fff(0x127)](_0x33f0ea=>_0x33f0ea[_0x511fff(0xe0)]==_0x307281[_0x511fff(0xe0)]);if(_0x58a138)_0x58a138[_0x511fff(0x170)]=_0x59c3be;};let _0x435cdd=![];for(const _0x182748 of lastOrders){const _0x553cc8=0x64,_0x51110a=0x1388;let _0x2e20bb=0x0;while(!_0x182748['orderId']&&_0x2e20bb*_0x553cc8<_0x51110a){_0x2e20bb++,await sleep(_0x553cc8);}if(_0x2e20bb>0x0)logger[_0x2d5bfa(0x16d)](_0x2d5bfa(0x2a1)+_0x2e20bb*_0x553cc8/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x182748[_0x2d5bfa(0x19c)]==_0x307281['id']&&(_0x435cdd=!![]);}if(_0x898622==_0x2d5bfa(0x1c1)){_0x386212(_0x2d5bfa(0x1c1));if(_0x307281[_0x2d5bfa(0x26b)]>0x0&&_0x307281[_0x2d5bfa(0x26b)]<_0x307281[_0x2d5bfa(0x190)]){if(_0x435cdd){setBlockTransactionDetection(!![]),logger['debug'](_0x2d5bfa(0x1c5)+_0x307281['filled']+_0x2d5bfa(0x189)+_0x307281['id']);const _0x5e8ef3=await getCoins(balanceUpdateDelay,undefined,undefined,_0x43b7c4);[currentCoins,currentCoinsAll]=_0x5e8ef3,setBlockTransactionDetection(![]);}else logger[_0x2d5bfa(0x16d)](_0x2d5bfa(0x1c5)+_0x307281[_0x2d5bfa(0x26b)]+_0x2d5bfa(0x113)+_0x307281['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x898622==_0x2d5bfa(0x14e)){_0x386212(_0x2d5bfa(0x14e)),lastOrders=lastOrders[_0x2d5bfa(0xed)](_0x749e36=>_0x749e36[_0x2d5bfa(0xe0)]!=_0x307281[_0x2d5bfa(0xe0)]);const _0x44f164=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x44f164,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x898622==_0x2d5bfa(0x1e2)){if(lastOrders)for(const _0x1b3110 of lastOrders){if(_0x1b3110[_0x2d5bfa(0x19c)]==_0x307281['id']){logger[_0x2d5bfa(0x16d)](_0x2d5bfa(0x238)+_0x307281['id']),_0x435cdd=!![];if(_0x1b3110[_0x2d5bfa(0x26b)]==0x0){setBlockTransactionDetection(!![]),logger[_0x2d5bfa(0x16d)](_0x2d5bfa(0x1b7)+_0x307281['id']);if(_0x307281['average'])_0x1b3110[_0x2d5bfa(0x29d)]=_0x307281[_0x2d5bfa(0xea)];else{if(_0x307281[_0x2d5bfa(0x29d)])_0x1b3110[_0x2d5bfa(0x29d)]=_0x307281[_0x2d5bfa(0x29d)];else{}}_0x1b3110[_0x2d5bfa(0x26b)]=_0x307281['filled'],updateHighestFee(_0x1b3110);const _0x2467c5=await getCoins(balanceUpdateDelay,undefined,undefined,_0x43b7c4);[currentCoins,currentCoinsAll]=_0x2467c5,setBlockTransactionDetection(![]),await validateOrders(),_0x386212('filled'),_0x1b3110[_0x2d5bfa(0x292)]={'currency':_0x307281[_0x2d5bfa(0x292)]?_0x307281['fee'][_0x2d5bfa(0x226)]:null,'cost':_0x307281['fee']?_0x307281[_0x2d5bfa(0x292)][_0x2d5bfa(0x19b)]:0x0},await updatePnL(_0x1b3110);}}}!_0x435cdd&&(logger[_0x2d5bfa(0x16d)](_0x2d5bfa(0xec)+_0x307281['id']),_0x386212(_0x2d5bfa(0x26b)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x197bc9=JSON[_0x2d5bfa(0x233)](lastBalances['portfolio']);const _0x592adb=_0x197bc9['find'](_0x19a937=>_0x19a937[_0x2d5bfa(0xe0)]==_0x307281[_0x2d5bfa(0xe0)]);if(_0x592adb){if(_0x898622=='open')_0x592adb[_0x2d5bfa(0x170)]=_0x592adb[_0x2d5bfa(0x170)]=='filled'?_0x2d5bfa(0x26b):'open';else{if(_0x898622==_0x2d5bfa(0x14e))_0x592adb[_0x2d5bfa(0x170)]=_0x592adb[_0x2d5bfa(0x170)]==_0x2d5bfa(0x26b)?_0x2d5bfa(0x26b):_0x2d5bfa(0x14e);else _0x898622=='closed'&&(_0x592adb[_0x2d5bfa(0x170)]=_0x2d5bfa(0x26b));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2d5bfa(0x1c2)](_0x197bc9)},proxyEmit(_0x2d5bfa(0x12a),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x4f71a4=_0x420c50;await getOpenOrders();let _0x50df75=![];currentCoins[_0x4f71a4(0x126)](_0x114b32=>{const _0x145bd0=_0x4f71a4;_0x50df75=allOpenOrders['find'](_0x42e0b8=>_0x42e0b8[_0x145bd0(0xe0)]==_0x114b32[_0x145bd0(0xe0)]),_0x114b32[_0x145bd0(0x170)]=_0x50df75?_0x145bd0(0x1c1):'none';});}async function fetchBalance(_0x525bba=!![]){const _0x310e1b=_0x420c50;let _0x56dcd8,_0x98237d,_0x3c60e3,_0x31393f=0x0;while(!_0x98237d&&_0x31393f<maxRetries){try{return _0x56dcd8=await exchange[_0x310e1b(0x1c3)](),_0x98237d=_0x56dcd8[_0x310e1b(0x270)],_0x98237d;}catch(_0xf415d5){_0x3c60e3=_0xf415d5,_0x31393f++,await sleep(retryInterval);}}return!_0x525bba?handleErrorNoStop(_0x3c60e3,_0x310e1b(0xe2)):await handleError(_0x3c60e3,_0x310e1b(0xe2)),![];}async function getCoins(_0x2676cd=0x0,_0xea320f=!![],_0x298f04=config['basecoin'],_0x5ef343){const _0x4cb5f2=_0x420c50;let _0x3141a9=[],_0x461eb7=[],_0x473e42=[],_0x37f53b;if(_0x2676cd)await sleep(_0x2676cd);if(botPaused)return[currentCoins,currentCoinsAll];let _0x4a37a0=![],_0x2e7c11=0x0,_0x24c5b8,_0x191bb2;_0x5ef343&&(_0x24c5b8=currentCoins[_0x4cb5f2(0x127)](_0x3fcc4e=>_0x3fcc4e[_0x4cb5f2(0xfe)]==_0x5ef343),_0x24c5b8&&(_0x191bb2=_0x24c5b8[_0x4cb5f2(0x201)],delete _0x24c5b8[_0x4cb5f2(0x201)]));while(!_0x4a37a0){_0x37f53b=await fetchBalance(_0xea320f);if(_0x37f53b){if(_0x5ef343){if(_0x37f53b[_0x5ef343]!=_0x191bb2)logger[_0x4cb5f2(0x16d)](_0x4cb5f2(0x11d)+_0x5ef343+':\x20'+_0x37f53b[_0x5ef343]+'\x20('+_0x191bb2+')'),_0x4a37a0=!![];else{logger[_0x4cb5f2(0x16d)](_0x4cb5f2(0x15b)+_0x5ef343+':\x20'+_0x37f53b[_0x5ef343]+'\x20('+_0x191bb2+')'),_0x2e7c11++;if(_0x2e7c11<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x4cb5f2(0x16d)]('Stopped\x20fetching\x20balance\x20after\x20'+_0x2e7c11+_0x4cb5f2(0x1ad));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x2e6625,_0x4207cc]of Object[_0x4cb5f2(0x1ab)](_0x37f53b)){_0x473e42[_0x4cb5f2(0x258)](_0x2e6625);}config[_0x4cb5f2(0xd1)][_0x4cb5f2(0x126)](_0x4c3e32=>{const _0x30d5d1=_0x4cb5f2;!_0x473e42[_0x30d5d1(0xc5)](_0x4c3e32[_0x30d5d1(0xfe)])&&(_0x37f53b[_0x4c3e32['coin']]=0x0);});if(_0x298f04=='')for(const [_0x546703,_0x862f92]of Object[_0x4cb5f2(0x1ab)](_0x37f53b)){_0x862f92!=0x0&&_0x3141a9['push']({'coin':_0x546703});}else for(const [_0x51ac52,_0x2d268d]of Object[_0x4cb5f2(0x1ab)](_0x37f53b)){const _0x4ba6e6=config[_0x4cb5f2(0xd1)][_0x4cb5f2(0x127)](_0x916917=>_0x916917[_0x4cb5f2(0xfe)]==_0x51ac52),_0x428065=_0x51ac52+'/'+_0x298f04,_0x71fd22=_0x298f04+'/'+_0x51ac52,_0x4387f7=currentCoins['find'](_0xcf50be=>_0xcf50be[_0x4cb5f2(0xfe)]==_0x51ac52);if((_0x2d268d!=0x0||_0x4ba6e6)&&(allSymbols[_0x4cb5f2(0xc5)](_0x428065)||_0x51ac52==_0x298f04))_0x4387f7?_0x3141a9[_0x4cb5f2(0x258)]({..._0x4387f7,'number':Math[_0x4cb5f2(0xf4)](_0x2d268d+(_0x4ba6e6&&_0x4ba6e6[_0x4cb5f2(0x246)]||0x0),0x0)}):_0x3141a9[_0x4cb5f2(0x258)]({'coin':_0x51ac52,'symbol':_0x428065,'reverse':![],'number':Math[_0x4cb5f2(0xf4)](_0x2d268d+(_0x4ba6e6&&_0x4ba6e6[_0x4cb5f2(0x246)]||0x0),0x0),'orderstatus':'none'});else{if((_0x2d268d!=0x0||_0x4ba6e6)&&allSymbols[_0x4cb5f2(0xc5)](_0x71fd22))_0x4387f7?_0x3141a9[_0x4cb5f2(0x258)]({..._0x4387f7,'number':Math['max'](_0x2d268d+(_0x4ba6e6&&_0x4ba6e6[_0x4cb5f2(0x246)]||0x0),0x0)}):_0x3141a9[_0x4cb5f2(0x258)]({'coin':_0x51ac52,'symbol':_0x71fd22,'reverse':!![],'number':Math[_0x4cb5f2(0xf4)](_0x2d268d+(_0x4ba6e6&&_0x4ba6e6[_0x4cb5f2(0x246)]||0x0),0x0),'orderstatus':_0x4cb5f2(0xc8)});else _0x4ba6e6&&_0x3141a9[_0x4cb5f2(0x258)]({'coin':_0x4ba6e6[_0x4cb5f2(0xfe)],'symbol':_0x4ba6e6[_0x4cb5f2(0xe0)],'reverse':_0x4ba6e6[_0x4cb5f2(0x132)],'number':0x0,'orderstatus':_0x4cb5f2(0xc8)});}}return _0x3141a9[_0x4cb5f2(0xe3)]((_0x31a18a,_0x4fc417)=>_0x31a18a[_0x4cb5f2(0x185)]<_0x4fc417['delta']?0x1:_0x4fc417[_0x4cb5f2(0x185)]<_0x31a18a['delta']?-0x1:0x0),_0x461eb7=cloneDeep(_0x3141a9),_0x3141a9=_0x3141a9[_0x4cb5f2(0xed)](_0x26ebde=>{const _0x1106dd=_0x4cb5f2,_0x29ec67=config[_0x1106dd(0xd1)]['find'](_0x207965=>_0x207965['coin']==_0x26ebde['coin']);return _0x29ec67&&!_0x29ec67[_0x1106dd(0x166)];}),[_0x3141a9,_0x461eb7];}async function getOpenOrders(){const _0x104b01=_0x420c50;let _0x4a59c9;allOpenOrders=[];try{for(const _0xdc105 of config[_0x104b01(0xd1)]){!_0xdc105[_0x104b01(0x166)]&&_0xdc105[_0x104b01(0xfe)]!=config['basecoin']&&(_0x4a59c9=await exchange[_0x104b01(0x24b)](_0xdc105[_0x104b01(0xe0)]),_0x4a59c9[_0x104b01(0x1a2)]>0x0&&allOpenOrders[_0x104b01(0x258)](_0x4a59c9[0x0]));}}catch(_0x149b74){await handleError(_0x149b74,_0x104b01(0x129));}}async function handleOpenOrders(_0x4fb623=0x0){const _0x3b4843=_0x420c50;allOpenOrders[_0x3b4843(0x1a2)]==0x0&&lockOrders==ORDERS[_0x3b4843(0x223)]&&allOrdersPlaced&&(_0x4fb623==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x4fb623++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function testAPI(){const _0xca17b3=_0x420c50;try{return await exchange[_0xca17b3(0x1c3)](),!![];}catch(_0x16a210){loading[_0xca17b3(0x1ac)]=!![],_0x16a210['toString']()[_0xca17b3(0x1f3)]()[_0xca17b3(0xc5)](_0xca17b3(0x23c))||_0x16a210[_0xca17b3(0x2a0)]()[_0xca17b3(0x1f3)]()[_0xca17b3(0xc5)]('request-time')?(logHistory('error',_0xca17b3(0xf0)),loading['error']=_0xca17b3(0x181)):handleErrorNoStop(_0x16a210,_0xca17b3(0x110),!![]),logHistory(_0xca17b3(0x294),'Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started'),logHistory(_0xca17b3(0x294),_0xca17b3(0x137)+loadCoinsRetryInterval/0xea60+_0xca17b3(0x160)),logger[_0xca17b3(0x16d)]('Error\x20details:',_0x16a210),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x3cac0c){const _0x12a479=_0x420c50;logger['debug'](_0x12a479(0x1b2));const _0x5c8ca2=ccxt['pro'][_0x3cac0c[_0x12a479(0x212)][_0x12a479(0x1f3)]()],_0x5e27a2=new _0x5c8ca2({'apiKey':_0x3cac0c[_0x12a479(0x261)],'secret':_0x3cac0c[_0x12a479(0x18d)],'options':{'defaultType':_0x12a479(0x19d)}});if(_0x3cac0c['apiPassword'])_0x5e27a2['password']=_0x3cac0c[_0x12a479(0x10b)];if(_0x5e27a2[_0x12a479(0xff)][_0x12a479(0x13d)])_0x5e27a2[_0x12a479(0x1f8)](_0x3cac0c['sandbox']);try{await _0x5e27a2['fetchBalance'](),botPaused=![];}catch(_0x1b8d59){logger['debug'](_0x12a479(0x109)+_0x1b8d59[_0x12a479(0x2a0)]());throw _0x1b8d59;}}function cloneDeep(_0xe017a1){const _0x525ab0=_0x420c50;return JSON['parse'](JSON[_0x525ab0(0x1c2)](_0xe017a1));}async function getPortfolio(_0x1e9562){const _0x1f0298=_0x420c50;let _0x550824=[],_0x1a2394=[],_0x3ba76e=[],_0xc839cb;_0x1e9562[_0x1f0298(0x261)]=decryptRSA(secure[_0x1f0298(0x153)],_0x1e9562[_0x1f0298(0x261)]),_0x1e9562[_0x1f0298(0x18d)]=decryptRSA(secure[_0x1f0298(0x153)],_0x1e9562[_0x1f0298(0x18d)]);if(_0x1e9562[_0x1f0298(0x10b)])_0x1e9562[_0x1f0298(0x10b)]=decryptRSA(secure[_0x1f0298(0x153)],_0x1e9562[_0x1f0298(0x10b)]);if(_0x1e9562[_0x1f0298(0x261)]!=='************'||_0x1e9562[_0x1f0298(0x18d)]!==_0x1f0298(0x10f)||_0x1e9562[_0x1f0298(0x10b)]&&_0x1e9562[_0x1f0298(0x10b)]!==_0x1f0298(0x10f)){if(config['exchange']){if(_0x1e9562[_0x1f0298(0x261)]==_0x1f0298(0x10f))_0x1e9562[_0x1f0298(0x261)]=config['apiKey'];if(_0x1e9562[_0x1f0298(0x18d)]==_0x1f0298(0x10f))_0x1e9562[_0x1f0298(0x18d)]=config[_0x1f0298(0x18d)];if(_0x1e9562[_0x1f0298(0x10b)]==_0x1f0298(0x10f))_0x1e9562[_0x1f0298(0x10b)]=config['apiPassword'];}try{if(_0x1e9562['testApi'])await testNewAPI(_0x1e9562);}catch(_0x10f526){if(_0x10f526[_0x1f0298(0x2a0)]()[_0x1f0298(0xc5)]('AuthenticationError')){logHistory(_0x1f0298(0x294),'Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x1f0298(0x294),_0x1f0298(0x125)+_0x10f526[_0x1f0298(0x2a0)]()),proxyEmit(_0x1f0298(0x1c6),![]);return;}else{if(_0x10f526[_0x1f0298(0x2a0)]()[_0x1f0298(0xc5)]('PermissionDenied')){logHistory('error',_0x1f0298(0x22f)),logHistory('error','Error\x20details:\x20'+_0x10f526[_0x1f0298(0x2a0)]()),proxyEmit(_0x1f0298(0x1c6),![]);return;}else{logHistory(_0x1f0298(0x294),_0x1f0298(0x22d)+_0x10f526['toString']()),logger['debug']('Error\x20details:',_0x10f526),proxyEmit('portfolio1',![]);return;}}}exchange?updateExchange(_0x1e9562[_0x1f0298(0x261)],_0x1e9562['apiSecret'],_0x1e9562[_0x1f0298(0x10b)]):await initExchange(_0x1e9562[_0x1f0298(0x212)],_0x1e9562['apiKey'],_0x1e9562[_0x1f0298(0x18d)],_0x1e9562[_0x1f0298(0x10b)],_0x1e9562['sandbox']);await loadSymbols();const _0x1529ce=await getCoins(0x0,![],_0x1e9562['basecoin']);_0x3ba76e=cloneDeep(_0x1529ce[0x1]);}else{const _0x3462ba=await getCoins();_0x3ba76e=cloneDeep(_0x3462ba[0x1]);}if(_0x1e9562[_0x1f0298(0x228)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x1f0298(0x19f),_0x3ba76e);else{_0x3ba76e['forEach'](_0x11b2ee=>{const _0x4ba8c5=_0x1f0298;if(_0x11b2ee[_0x4ba8c5(0xfe)]!=_0x1e9562[_0x4ba8c5(0x228)]&&allSymbols[_0x4ba8c5(0xc5)](_0x11b2ee[_0x4ba8c5(0xe0)]))_0x550824[_0x4ba8c5(0x258)](_0x11b2ee['symbol']);});if(_0x550824[_0x1f0298(0x1a2)]==0x0)logHistory(_0x1f0298(0x294),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x1a2394=await getTickers(_0x550824);}catch(_0x49a44a){logHistory('error',_0x1f0298(0x1bd)),logger['debug'](_0x1f0298(0x13b),_0x49a44a),proxyEmit(_0x1f0298(0x1c6),![]);return;}_0x3ba76e[_0x1f0298(0x126)](_0x1ba9f5=>{const _0x15bed0=_0x1f0298;_0x1ba9f5[_0x15bed0(0xfe)]!=_0x1e9562['basecoin']?_0x1a2394[_0x1ba9f5[_0x15bed0(0xe0)]]?_0x1a2394[_0x1ba9f5[_0x15bed0(0xe0)]][_0x15bed0(0x18b)]?_0xc839cb=_0x1ba9f5[_0x15bed0(0x132)]?0x1/_0x1a2394[_0x1ba9f5[_0x15bed0(0xe0)]][_0x15bed0(0x18b)]:_0x1a2394[_0x1ba9f5[_0x15bed0(0xe0)]][_0x15bed0(0x18b)]:_0xc839cb=0x0:_0xc839cb=0x0:_0xc839cb=0x1,_0x1ba9f5[_0x15bed0(0x29d)]=formatResult(_0xc839cb,0x8);}),await getMarketCap(_0x3ba76e),proxyEmit(_0x1f0298(0x1c6),!![]),proxyEmit(_0x1f0298(0x19f),_0x3ba76e);}}}function truncateTradeAmount(_0x14e5c9,_0x1ebf66){const _0x3a3322=_0x420c50;let _0x56fa88=0x0;try{_0x56fa88=exchange[_0x3a3322(0x178)](_0x14e5c9,_0x1ebf66);}catch(_0x69b970){}return _0x56fa88;}function checkMinimums(_0x348f90){const _0xb79b77=_0x420c50;let _0xa69088=!![];const _0x54335c=!_0x348f90[_0xb79b77(0x132)]?markets[_0x348f90[_0xb79b77(0xe0)]][_0xb79b77(0x161)][_0xb79b77(0x190)][_0xb79b77(0x19e)]:markets[_0x348f90[_0xb79b77(0xe0)]][_0xb79b77(0x161)][_0xb79b77(0x19b)][_0xb79b77(0x19e)],_0x3d40b0=!_0x348f90[_0xb79b77(0x132)]?markets[_0x348f90[_0xb79b77(0xe0)]][_0xb79b77(0x161)][_0xb79b77(0x19b)][_0xb79b77(0x19e)]:markets[_0x348f90['symbol']]['limits'][_0xb79b77(0x190)][_0xb79b77(0x19e)],_0x43998a=truncateTradeAmount(_0x348f90[_0xb79b77(0xe0)],_0x348f90[_0xb79b77(0x14c)]);_0x348f90[_0xb79b77(0x14c)]=_0x43998a;if(Math[_0xb79b77(0x1bc)](_0x43998a)<_0x54335c)_0xa69088=![];if(Math[_0xb79b77(0x1bc)](_0x43998a)*_0x348f90[_0xb79b77(0x18b)]<_0x3d40b0)_0xa69088=![];let _0x27af20='';if(_0x348f90[_0xb79b77(0x222)]==_0xb79b77(0x22c)){let _0x1e8dc8=config[_0xb79b77(0xd1)][_0xb79b77(0x127)](_0x44f9e3=>_0x44f9e3[_0xb79b77(0xfe)]==_0x348f90[_0xb79b77(0xfe)]);_0x1e8dc8[_0xb79b77(0x246)]>0x0?Math[_0xb79b77(0x1bc)](_0x43998a)>_0x348f90[_0xb79b77(0x1b5)]-_0x1e8dc8[_0xb79b77(0x246)]&&(_0xa69088=![],_0x27af20=_0xb79b77(0x21d)+_0x1e8dc8[_0xb79b77(0xfe)]+'\x20due\x20to\x20offset'):Math[_0xb79b77(0x1bc)](_0x43998a)>_0x348f90[_0xb79b77(0x1b5)]&&(_0xa69088=![]);}if(_0x348f90[_0xb79b77(0x222)]==_0xb79b77(0x26f)){let _0x1ae9bc=config['portfolio']['find'](_0x416fe2=>_0x416fe2[_0xb79b77(0xfe)]==config[_0xb79b77(0x228)]),_0x386ebc=currentCoins['find'](_0x5e94c8=>_0x5e94c8[_0xb79b77(0xfe)]==config['basecoin']);_0x1ae9bc['offset']>0x0?Math['abs'](_0x43998a)*_0x348f90[_0xb79b77(0x18b)]>_0x386ebc[_0xb79b77(0x1b5)]-_0x1ae9bc[_0xb79b77(0x246)]&&(_0xa69088=![],_0x27af20=_0xb79b77(0x21d)+config[_0xb79b77(0x228)]+_0xb79b77(0x279)):Math[_0xb79b77(0x1bc)](_0x43998a)*_0x348f90[_0xb79b77(0x18b)]>_0x386ebc[_0xb79b77(0x1b5)]&&(_0xa69088=![]);}return!_0xa69088&&_0x27af20&&!insufficientFundsWarningSent[_0xb79b77(0xc5)](_0x348f90[_0xb79b77(0xfe)])&&(logHistory(_0xb79b77(0x1dc),_0x27af20),insufficientFundsWarningSent[_0xb79b77(0x258)](_0x348f90['coin'])),_0xa69088;}async function getBalances(_0x4d1649=!![]){const _0x5de906=_0x420c50;if(botPaused)return;let _0x5a75df=0x0,_0x5e2cc7;const _0x3ebac5=config[_0x5de906(0x1c8)];if(config[_0x5de906(0x256)]&&config[_0x5de906(0x215)]<0x0)await validate24hChanges();currentCoins[_0x5de906(0x126)](_0x5db4ee=>{const _0x58876d=_0x5de906;if(_0x5db4ee['coin']!=config['basecoin']){let _0x576354=gTicker[noslash(_0x5db4ee['symbol'])];_0x5e2cc7=_0x5db4ee[_0x58876d(0x132)]?0x1/_0x576354:_0x576354;}else _0x5e2cc7=0x1;let _0x5d647c=_0x5db4ee[_0x58876d(0x1b5)]*_0x5e2cc7;_0x5a75df+=_0x5d647c,_0x5db4ee[_0x58876d(0x18b)]=formatResult(Number(_0x5e2cc7),0x8),_0x5db4ee[_0x58876d(0xf2)]=_0x5d647c;}),currentCoins['forEach'](_0x3cea1f=>{const _0x43affa=_0x5de906;let _0x31883e=config[_0x43affa(0xd1)]['find'](_0x335bc0=>_0x335bc0[_0x43affa(0xfe)]==_0x3cea1f[_0x43affa(0xfe)]),_0x15d4f7=Number(_0x31883e[_0x43affa(0x17e)]),_0x382340=_0x3cea1f[_0x43affa(0xf2)]/_0x5a75df*0x64,_0x163ae2=_0x15d4f7*_0x5a75df/0x64/_0x3cea1f['last']-_0x3cea1f[_0x43affa(0x1b5)];_0x3cea1f['distribution']=formatResult(_0x382340,0x3),_0x3cea1f[_0x43affa(0xd3)]=formatResult(_0x15d4f7,0x3),_0x3cea1f[_0x43affa(0x14c)]=formatResult(_0x163ae2,0x8),_0x3cea1f[_0x43affa(0x222)]='',_0x3cea1f[_0x43affa(0x27c)]=![];if(_0x3cea1f[_0x43affa(0xfe)]!=config['basecoin']){if(_0x3cea1f[_0x43affa(0x17e)]>_0x15d4f7)_0x3cea1f['side']=_0x43affa(0x22c),_0x3cea1f['valid']=checkMinimums(_0x3cea1f);else _0x3cea1f[_0x43affa(0x17e)]<_0x15d4f7&&(_0x3cea1f[_0x43affa(0x222)]=_0x43affa(0x26f),_0x3cea1f[_0x43affa(0x27c)]=checkMinimums(_0x3cea1f));}_0x3cea1f[_0x43affa(0x185)]=_0x3cea1f[_0x43affa(0x17e)]/_0x3cea1f[_0x43affa(0xd3)]-0x1;if(_0x3cea1f[_0x43affa(0x170)]==_0x43affa(0x26b)||_0x3cea1f[_0x43affa(0x170)]=='canceled')_0x3cea1f[_0x43affa(0x170)]=_0x43affa(0xc8);}),currentCoins[_0x5de906(0xe3)]((_0x187099,_0x331785)=>_0x187099[_0x5de906(0x185)]<_0x331785[_0x5de906(0x185)]?0x1:_0x331785[_0x5de906(0x185)]<_0x187099[_0x5de906(0x185)]?-0x1:0x0);const _0x45dda7=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x45dda7['eur'],'usd':_0x45dda7[_0x5de906(0x114)],'portfolio':JSON[_0x5de906(0x1c2)](currentCoins),'threshold':_0x3ebac5},proxyEmit(_0x5de906(0x12a),{'serverversion':serverversion,'balances':lastBalances});if(_0x4d1649){if(config[_0x5de906(0x256)])headlessMode({'portfolio':currentCoins,'threshold':_0x3ebac5});else lockOrders==ORDERS[_0x5de906(0x15c)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x3ebac5});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x30de08=getNormalizedPerformance();getStartingBalances(_0x30de08),emitPerformance(_0x30de08);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x31e48e=_0x420c50;let _0x3cd190=dbCoinResults['get'](_0x31e48e(0x21c))[_0x31e48e(0xf2)](),_0x2b26b7=0x0;return Object[_0x31e48e(0x1ab)](_0x3cd190)[_0x31e48e(0x126)](([_0x139974,_0x4e49e8])=>{_0x2b26b7+=_0x4e49e8['realizedPnL'];}),_0x2b26b7;}async function storePerformance(){const _0x83c128=_0x420c50;if(!lastBalances)return;let _0x4eeefb=[],_0x338387;const _0x20f405=getPnL();let _0x3d8751=JSON[_0x83c128(0x233)](lastBalances['portfolio']);_0x3d8751['sort']((_0x223d5c,_0x3c642a)=>_0x223d5c[_0x83c128(0xfe)]>_0x3c642a[_0x83c128(0xfe)]?0x1:_0x3c642a[_0x83c128(0xfe)]>_0x223d5c[_0x83c128(0xfe)]?-0x1:0x0),_0x3d8751[_0x83c128(0x126)](_0x4a875c=>{const _0xb998b6=_0x83c128;let _0x2198b9={'coin':_0x4a875c[_0xb998b6(0xfe)],'number':_0x4a875c[_0xb998b6(0x1b5)],'price':_0x4a875c[_0xb998b6(0x18b)]};_0x4eeefb['push'](_0x2198b9);});const _0x3183e5=await getFiat(),_0x33d30d=getTimeStamp()[_0x83c128(0x276)]('\x20')[0x0],_0x573e36=dbPerformance['get'](_0x83c128(0x115))[_0x83c128(0x127)]({'date':_0x33d30d})[_0x83c128(0xf2)]();_0x338387={'date':_0x33d30d,'eur':_0x3183e5[_0x83c128(0x10c)],'usd':_0x3183e5[_0x83c128(0x114)],'coins':_0x4eeefb,'pnl':_0x20f405},_0x573e36?_0x338387[_0x83c128(0x159)]!=config[_0x83c128(0x28a)]&&dbPerformance[_0x83c128(0x26e)](_0x83c128(0x115))[_0x83c128(0x127)]({'date':_0x33d30d})['assign'](_0x338387)[_0x83c128(0x1f6)]():dbPerformance['get'](_0x83c128(0x115))[_0x83c128(0x258)](_0x338387)[_0x83c128(0x1f6)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x360403=_0x420c50;let _0x54cd80=[];if(dbPerformance['has'](_0x360403(0x115))[_0x360403(0xf2)]()){let _0x46fc2f=dbPerformance[_0x360403(0x26e)](_0x360403(0x115))[_0x360403(0x1df)]()[_0x360403(0xed)](_0x405b0f=>{const _0x1ebbdb=_0x360403;if(_0x405b0f[_0x1ebbdb(0x21c)][_0x1ebbdb(0x1a2)]==0x0)return![];else return!![];})[_0x360403(0x24c)](_0x360403(0x159))['value'](),_0x589b87=[...config[_0x360403(0x17b)]];_0x589b87['sort']((_0x4a2862,_0x19cbeb)=>_0x4a2862[_0x360403(0x159)]>_0x19cbeb[_0x360403(0x159)]?-0x1:_0x19cbeb['date']>_0x4a2862[_0x360403(0x159)]?0x1:0x0);let _0x476ba7=0x1,_0x2bd1ee=[],_0x5ecf03=0x0;_0x46fc2f[_0x360403(0x169)]()[_0x360403(0x132)]()[_0x360403(0x126)]((_0x5062d1,_0x321eea)=>{const _0x39fa37=_0x360403;if(_0x589b87[_0x5ecf03]){if(_0x46fc2f[_0x46fc2f[_0x39fa37(0x1a2)]-_0x321eea]&&_0x589b87[_0x5ecf03][_0x39fa37(0x159)]==_0x46fc2f[_0x46fc2f[_0x39fa37(0x1a2)]-_0x321eea][_0x39fa37(0x159)]){if(_0x321eea<_0x46fc2f[_0x39fa37(0x1a2)]){let _0x3737c8=0x0,_0x223d57=0x0;_0x46fc2f[_0x46fc2f[_0x39fa37(0x1a2)]-_0x321eea][_0x39fa37(0x21c)][_0x39fa37(0x126)](_0x1737e1=>{_0x223d57+=_0x1737e1['number']*_0x1737e1['price'];}),_0x589b87[_0x5ecf03][_0x39fa37(0x265)][_0x39fa37(0x126)](_0x943302=>{const _0x9203b2=_0x39fa37;_0x3737c8+=_0x943302['number']*_0x943302[_0x9203b2(0x29d)];}),_0x476ba7*=_0x3737c8/(_0x223d57-_0x3737c8)+0x1;}_0x5ecf03++;}}let _0x148049=0x0;_0x5062d1[_0x39fa37(0x21c)][_0x39fa37(0x126)](_0x51d4c4=>{const _0x4904a6=_0x39fa37;_0x148049+=_0x51d4c4[_0x4904a6(0x1b5)]*_0x51d4c4['price'];}),_0x2bd1ee[_0x46fc2f[_0x39fa37(0x1a2)]-_0x321eea-0x1]=_0x148049*(_0x476ba7-0x1);});let _0x423c45=[];_0x589b87=[...config[_0x360403(0x17b)]]||[];let _0x3d06f2=0x0;_0x5ecf03=0x0,_0x46fc2f[_0x360403(0x126)]((_0x18ee88,_0x4da38d)=>{const _0x1dfd7e=_0x360403;if(_0x589b87[_0x5ecf03]){const _0x3770ca=fns[_0x1dfd7e(0x233)](_0x589b87[_0x5ecf03]['date'],'yyyy/MM/dd',new Date()),_0x1e0109=fns[_0x1dfd7e(0x233)](_0x18ee88[_0x1dfd7e(0x159)],_0x1dfd7e(0x1c9),new Date());if(fns[_0x1dfd7e(0xfc)](_0x3770ca,_0x1e0109)){let _0x493957=0x0;_0x589b87[_0x5ecf03][_0x1dfd7e(0x265)][_0x1dfd7e(0x126)](_0x400078=>{const _0x56c89b=_0x1dfd7e;!_0x423c45[_0x400078[_0x56c89b(0xfe)]]?_0x423c45[_0x400078[_0x56c89b(0xfe)]]=_0x400078['number']:(_0x493957=_0x423c45[_0x400078[_0x56c89b(0xfe)]],_0x423c45[_0x400078[_0x56c89b(0xfe)]]+=_0x400078[_0x56c89b(0x1b5)]);const _0x53c68c=_0x18ee88[_0x56c89b(0x21c)]['find'](_0xe32b8=>_0xe32b8['coin']==_0x400078[_0x56c89b(0xfe)]);(!_0x53c68c||_0x53c68c[_0x56c89b(0x1b5)]==0x0)&&(_0x3d06f2+=(-_0x400078[_0x56c89b(0x1b5)]-_0x493957)*_0x400078[_0x56c89b(0x29d)]);}),_0x5ecf03++;}}_0x18ee88['coins'][_0x1dfd7e(0x126)]((_0x3f2f04,_0x2c8d10)=>{const _0x41a92c=_0x1dfd7e;_0x423c45[_0x3f2f04[_0x41a92c(0xfe)]]&&(_0x3f2f04[_0x41a92c(0x12d)]=_0x423c45[_0x3f2f04[_0x41a92c(0xfe)]]);}),_0x54cd80[_0x1dfd7e(0x258)]({'date':_0x18ee88['date'],'eur':_0x18ee88[_0x1dfd7e(0x10c)],'usd':_0x18ee88[_0x1dfd7e(0x114)],'offset':_0x2bd1ee[_0x4da38d],'netoffset':_0x3d06f2,'coins':_0x18ee88[_0x1dfd7e(0x21c)],'pnl':_0x18ee88[_0x1dfd7e(0x21b)]});});}return _0x54cd80;}function emitPerformance(_0x24943d){const _0x76fc42=_0x420c50;_0x24943d[_0x76fc42(0x1a2)]!==0x0?(proxyEmit(_0x76fc42(0x278),_0x24943d),lastPerformanceEmitted=getDate()):proxyEmit(_0x76fc42(0x278),[]);}function getPerf(_0x2ce0b7,_0x4d71f8){const _0x1016cd=_0x420c50;let _0x51f395=0x0,_0xa6e630=0x0,_0x37bd17=0x0;_0x2ce0b7[_0x1016cd(0x21c)]['forEach'](_0x529e4f=>{const _0x1a32ae=_0x1016cd;_0x51f395+=_0x529e4f[_0x1a32ae(0x1b5)]*_0x529e4f[_0x1a32ae(0x29d)];});_0x4d71f8&&(_0x51f395+=_0x2ce0b7[_0x1016cd(0x246)]);if(config[_0x1016cd(0x228)]===_0x1016cd(0x1e9)||config[_0x1016cd(0x228)]==='ETH'||config[_0x1016cd(0x228)]===_0x1016cd(0x255))_0xa6e630=_0x51f395*_0x2ce0b7[_0x1016cd(0x10c)],_0x37bd17=_0x51f395*_0x2ce0b7['usd'];else{if(usdBasecoins[_0x1016cd(0xc5)](config[_0x1016cd(0x228)]))_0xa6e630=_0x51f395*_0x2ce0b7['eur']/_0x2ce0b7['usd'],_0x37bd17=_0x51f395;else config[_0x1016cd(0x228)]===_0x1016cd(0x191)&&(_0xa6e630=_0x51f395,_0x37bd17=_0x51f395*_0x2ce0b7[_0x1016cd(0x114)]/_0x2ce0b7[_0x1016cd(0x10c)]);}return[_0x51f395,_0xa6e630,_0x37bd17];}function CurrencyFactor(_0x2d0344,_0x1cf577,_0x20adbc){const _0x189f38=_0x420c50;let _0x3b1339;if(_0x1cf577===_0x189f38(0x1e9)||_0x1cf577===_0x189f38(0x20c)||_0x1cf577===_0x189f38(0x255))_0x3b1339=_0x20adbc===_0x189f38(0x191)?_0x2d0344[_0x189f38(0x10c)]:_0x2d0344[_0x189f38(0x114)];else{if(usdBasecoins[_0x189f38(0xc5)](_0x1cf577))_0x3b1339=_0x20adbc==='EUR'?_0x2d0344[_0x189f38(0x10c)]/_0x2d0344[_0x189f38(0x114)]:0x1;else _0x1cf577==='EUR'&&(_0x3b1339=_0x20adbc==='EUR'?0x1:_0x2d0344['usd']/_0x2d0344[_0x189f38(0x10c)]);}return _0x3b1339;}function getKPIs(_0x2b3822,_0x2d47a3='EUR'){const _0x506cb9=_0x420c50,_0x5aa267=config['basecoin'],_0x1a7a95=lastBalances,_0x32449b=currentCoins,_0x4c172a=getNormalizedPerformance(),_0x3382c9=CurrencyFactor(_0x1a7a95,config[_0x506cb9(0x228)],_0x2d47a3);let _0x47d694=0x0;_0x32449b[_0x506cb9(0x126)](_0x2e8d47=>{const _0x916172=_0x506cb9;_0x47d694+=_0x2e8d47[_0x916172(0x1b5)]*_0x2e8d47[_0x916172(0x18b)];});_0x2b3822[_0x506cb9(0xc5)](_0x506cb9(0x1a1))&&(_0x47d694*=_0x3382c9);let _0x551350;if(_0x47d694!==0x0){if(_0x2b3822===_0x506cb9(0x228)||_0x2b3822==='fiat'){if(_0x2b3822==='basecoin')_0x551350=(_0x47d694/startingBalances[_0x506cb9(0x228)]-0x1)*0x64;else{if(_0x2d47a3===_0x506cb9(0x191))_0x551350=(_0x47d694/startingBalances[_0x506cb9(0x10c)]-0x1)*0x64;else _0x551350=(_0x47d694/startingBalances[_0x506cb9(0x114)]-0x1)*0x64;}}if(_0x2b3822[_0x506cb9(0xc5)](_0x506cb9(0x263))){let _0x16ec37=0x0;if(startingBalances[_0x506cb9(0x21c)])_0x32449b[_0x506cb9(0x126)](_0x314b42=>{const _0x353835=_0x506cb9;let _0xf71a5a=startingBalances[_0x353835(0x21c)][_0x353835(0x127)](_0x2d3c84=>_0x2d3c84['coin']===_0x314b42['coin']);if(_0xf71a5a&&_0xf71a5a[_0x353835(0xfe)]&&_0x314b42[_0x353835(0x1b5)]!==0x0)_0x16ec37+=_0xf71a5a[_0x353835(0x1b5)]*_0x314b42[_0x353835(0x18b)];});let _0x1540ca=0x0;if(_0x4c172a[_0x506cb9(0x1a2)]!==0x0){let _0x52a5dc=_0x4c172a[_0x4c172a[_0x506cb9(0x1a2)]-0x1];_0x1540ca=_0x52a5dc[_0x506cb9(0x28c)];}_0x16ec37-=_0x1540ca;let _0x1afc72;_0x2b3822===_0x506cb9(0x25a)&&(_0x1afc72=startingBalances['basecoin']),_0x2b3822==='net-fiat'&&(_0x1afc72=_0x2d47a3===_0x506cb9(0x191)?startingBalances[_0x506cb9(0x10c)]:startingBalances['usd'],_0x16ec37*=_0x3382c9),_0x551350=(_0x47d694-_0x16ec37)/_0x1afc72*0x64,_0x47d694=_0x47d694-_0x16ec37;}if(_0x2b3822[_0x506cb9(0xc5)]('pnl')){if(_0x4c172a[_0x506cb9(0x1a2)]!==0x0&&_0x32449b[_0x506cb9(0x1a2)]!==0x0){let _0x5744cc,_0x46dc9b=_0x4c172a[_0x4c172a[_0x506cb9(0x1a2)]-0x1][_0x506cb9(0x21b)];_0x2b3822['includes']('fiat')?(_0x5744cc=_0x2d47a3==='EUR'?startingBalances[_0x506cb9(0x10c)]:startingBalances['usd'],_0x46dc9b*=CurrencyFactor(_0x1a7a95,_0x5aa267,_0x2d47a3)):_0x5744cc=startingBalances[_0x506cb9(0x228)],_0x551350=_0x46dc9b/_0x5744cc*0x64,_0x47d694=_0x46dc9b;}}if(_0x551350){if(_0x551350<0x64)_0x551350=_0x551350['toFixed'](0x2);else{if(_0x551350<0x3e8)_0x551350=_0x551350['toFixed'](0x1);else _0x551350=_0x551350['toFixed'](0x0);}}else _0x551350=Number('0')['toFixed'](0x2);if(_0x47d694){if(Math[_0x506cb9(0x1bc)](_0x47d694)<0.000001)_0x47d694=_0x47d694[_0x506cb9(0x1be)](0x2);else{if(Math['abs'](_0x47d694)<0.1)_0x47d694=_0x47d694['toFixed'](0x6);else{if(Math[_0x506cb9(0x1bc)](_0x47d694)<0x1)_0x47d694=_0x47d694['toFixed'](0x5);else{if(Math[_0x506cb9(0x1bc)](_0x47d694)<0xa)_0x47d694=_0x47d694[_0x506cb9(0x1be)](0x4);else{if(Math[_0x506cb9(0x1bc)](_0x47d694)<0x64)_0x47d694=_0x47d694[_0x506cb9(0x1be)](0x3);else{if(Math[_0x506cb9(0x1bc)](_0x47d694)<0x3e8)_0x47d694=_0x47d694[_0x506cb9(0x1be)](0x2);else _0x47d694=_0x47d694[_0x506cb9(0x1be)](0x2);}}}}}}else _0x47d694=Number('0')[_0x506cb9(0x1be)](0x2);}else _0x551350=Number('0')[_0x506cb9(0x1be)](0x2);if(_0x551350>=0x0)_0x551350='+'+_0x551350;return{'value':_0x47d694,'change':_0x551350};}async function getStartingBalances(_0x30ba4f,_0x57768d=!![]){const _0x190562=_0x420c50;if(_0x30ba4f[_0x190562(0x1a2)]!==0x0){const [_0x2391df,_0x188fec,_0x155a38]=getPerf(_0x30ba4f[0x0],!![]);let _0x308717=[];config[_0x190562(0xd1)][_0x190562(0x126)](_0x587d3d=>{const _0x1c0320=_0x190562;let _0x31b697=0x0,_0x3e3005;config[_0x1c0320(0x17b)][_0x1c0320(0x126)](_0x4a900b=>{const _0x28f622=_0x1c0320;let _0x5ab01f=_0x4a900b[_0x28f622(0x265)][_0x28f622(0x127)](_0x1e4e0c=>_0x1e4e0c[_0x28f622(0xfe)]==_0x587d3d[_0x28f622(0xfe)]);if(_0x5ab01f){_0x31b697+=_0x5ab01f[_0x28f622(0x1b5)];if(!_0x3e3005)_0x3e3005=_0x5ab01f[_0x28f622(0x29d)];}}),_0x308717[_0x1c0320(0x258)]({'coin':_0x587d3d[_0x1c0320(0xfe)],'number':_0x31b697,'initialprice':_0x3e3005});});const _0xc6c7e6={'basecoin':_0x2391df,'eur':_0x188fec,'usd':_0x155a38,'coins':_0x308717};if(_0x57768d)proxyEmit(_0x190562(0x27d),_0xc6c7e6);startingBalances=_0xc6c7e6;}}function headlessMode(_0x146768){const _0x4ef0f6=_0x420c50;let _0x1f686a=_0x146768[_0x4ef0f6(0xd1)],_0x1a9427=_0x146768[_0x4ef0f6(0x1c8)],_0x5130a6=[];for(let _0x4e433d of _0x1f686a){if(_0x4e433d[_0x4ef0f6(0xfe)]!=config[_0x4ef0f6(0x228)]){if(_0x4e433d[_0x4ef0f6(0x185)]>=_0x1a9427/0x64){if(_0x4e433d['valid'])_0x5130a6['push'](_0x4e433d);}else{if(_0x4e433d[_0x4ef0f6(0x185)]<=-_0x1a9427/0x64){if(_0x4e433d[_0x4ef0f6(0x27c)])_0x5130a6[_0x4ef0f6(0x258)](_0x4e433d);}}}}_0x5130a6[_0x4ef0f6(0x1a2)]>0x0&&placeOrder(_0x5130a6);}function notifyBalance(_0x3292fb){const _0x584c80=_0x420c50;let _0x378d39=_0x3292fb[_0x584c80(0xd1)],_0x19f88b=_0x3292fb[_0x584c80(0x1c8)],_0x41bb56=[];for(let _0x44419c of _0x378d39){if(_0x44419c['coin']!=config[_0x584c80(0x228)]){if(_0x44419c[_0x584c80(0x185)]>=_0x19f88b/0x64){if(_0x44419c[_0x584c80(0x27c)])_0x41bb56[_0x584c80(0x258)](_0x44419c);}else{if(_0x44419c[_0x584c80(0x185)]<=-_0x19f88b/0x64){if(_0x44419c[_0x584c80(0x27c)])_0x41bb56['push'](_0x44419c);}}}}if(_0x41bb56[_0x584c80(0x1a2)]>0x0){let _0x110803=_0x41bb56['map'](_0x21e4a5=>_0x21e4a5[_0x584c80(0xfe)]);_0x110803[_0x584c80(0xe3)]();let _0x15b48a=_0x110803['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x15b48a;}}function symbolToCoin(_0x447fab){const _0xb96643=_0x420c50;let _0x450ec4;if(_0x447fab[_0xb96643(0xc5)]('/'+config[_0xb96643(0x228)]))_0x450ec4=_0x447fab['replace']('/'+config['basecoin'],'');if(_0x447fab[_0xb96643(0xc5)](config[_0xb96643(0x228)]+'/'))_0x450ec4=_0x447fab['replace'](config['basecoin']+'/','');return _0x450ec4;}function setLockOrders(_0x1270ea){const _0x42e4d8=_0x420c50;lockOrders=_0x1270ea,logger[_0x42e4d8(0x16d)]('Set\x20lock\x20orders\x20to:\x20'+Object['keys'](ORDERS)[lockOrders]);}async function unlockOrders(_0x47f406=![]){const _0x2fbec4=_0x420c50;if(allOrdersPlaced&&lockOrders==ORDERS[_0x2fbec4(0x223)]){setLockOrders(ORDERS[_0x2fbec4(0x16a)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x47f406){const _0x408bd8=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x408bd8,setBlockTransactionDetection(![]);}validateOrdersState=_0x2fbec4(0x12d),persistOpenOrders([]),setLockOrders(ORDERS[_0x2fbec4(0x15c)]);}}async function validateOrders(_0x5a2293){const _0x48822f=_0x420c50;if(_0x5a2293)validateOrdersState=_0x5a2293;logger[_0x48822f(0x16d)](_0x48822f(0xcb)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+Object['keys'](ORDERS)[lockOrders]);let _0x2ec650=[],_0x1da9ee=config[_0x48822f(0x248)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x48822f(0x13a)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x48822f(0x223)])return;logger[_0x48822f(0x16d)](_0x48822f(0x28f)+validateOrdersState);for(let _0x156676=lastOrders[_0x48822f(0x1a2)]-0x1;_0x156676>=0x0;_0x156676--){let _0x82b5e1=lastOrders[_0x156676],_0xf87a07=![];_0x82b5e1[_0x48822f(0x26b)]>0x0&&(_0xf87a07=!![]),_0x2ec650[_0x48822f(0x258)](_0xf87a07),_0xf87a07&&config[_0x48822f(0x248)]!=_0x48822f(0x267)&&logHistory(_0x48822f(0x186),_0x48822f(0x29c)+_0x82b5e1[_0x48822f(0xe0)]+'\x20'+_0x82b5e1['side']+'\x20#'+formatResult(_0x82b5e1[_0x48822f(0x26b)],0x8)+'\x20@'+formatResult(_0x82b5e1['price'],0x8)),_0xf87a07&&lastOrders[_0x48822f(0x12e)](_0x156676,0x1);}persistOpenOrders(lastOrders);const _0x4778c1=coolingDown?_0x48822f(0x118):_0x48822f(0x1b1);if(validateOrdersState==_0x48822f(0x12d)){validateOrdersState=_0x48822f(0x28d);if(_0x2ec650[_0x48822f(0xc5)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x48822f(0x28d)){if(_0x2ec650[_0x48822f(0xc5)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x48822f(0x202)){let _0x42a550=!![];if(_0x2ec650['includes'](![])){if(config[_0x48822f(0x248)]==_0x48822f(0x267))logHistory(_0x48822f(0x1ca),_0x48822f(0x1f4)+Math['round'](_0x1da9ee*validateOrderInterval/0xea60)+_0x48822f(0x209)+_0x4778c1),await unlockOrders(!![]);else{_0x42a550=await cancelOrders();if(_0x42a550)logHistory(_0x48822f(0x1ca),_0x48822f(0x1cd)+Math[_0x48822f(0x116)](_0x1da9ee*validateOrderInterval/0xea60)+_0x48822f(0x209)+_0x4778c1),await unlockOrders(!![]);else{validateOrdersState=_0x48822f(0x28d),logHistory(_0x48822f(0x294),'Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20'+Math[_0x48822f(0x116)](_0x1da9ee*validateOrderInterval/0xea60)+_0x48822f(0x209)+_0x4778c1),logHistory(_0x48822f(0x294),_0x48822f(0x1e3));const _0x1efc5a=config[_0x48822f(0x248)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x48822f(0x13a)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x665329=_0x48822f;validateOrders(_0x665329(0x202));},_0x1efc5a);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x48822f(0x1f9)){if(config['ordertype']!='market')logHistory(_0x48822f(0x1ca),_0x48822f(0x236)+_0x4778c1);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x5db0e3=_0x420c50;let _0x92ac5b=!![],_0x535735;for(const _0xd67188 of lastOrders){let _0x216f85=![],_0x3f46f2=0x0;while(!_0x216f85&&_0x3f46f2<maxRetries){try{const _0x56e471=await exchange[_0x5db0e3(0x266)](_0xd67188[_0x5db0e3(0x19c)],_0xd67188[_0x5db0e3(0xe0)]);_0x216f85=!![];}catch(_0x17c5b1){_0x17c5b1[_0x5db0e3(0x2a0)]()[_0x5db0e3(0xc5)]('OrderNotFound')||_0x17c5b1['toString']()[_0x5db0e3(0xc5)](_0x5db0e3(0x1cf))?_0x216f85=!![]:(_0x535735=_0x17c5b1,_0x216f85=![]);}!_0x216f85&&(_0x3f46f2++,await sleep(retryInterval));}_0x92ac5b=_0x92ac5b&&_0x216f85;}return!_0x92ac5b&&await handleError(_0x535735,_0x5db0e3(0x26d)),_0x92ac5b;}async function initCoinResults(_0x81b585){const _0x28d2ff=_0x420c50;_0x81b585?logger[_0x28d2ff(0x16d)]('Resetting\x20coin\x20results:\x20'+_0x81b585):logger['debug'](_0x28d2ff(0x1cb)),config[_0x28d2ff(0xd1)][_0x28d2ff(0x126)](_0x1ee9c7=>{const _0x4671ba=_0x28d2ff;if(!_0x1ee9c7[_0x4671ba(0x166)]&&_0x1ee9c7[_0x4671ba(0xfe)]!=config[_0x4671ba(0x228)]){const _0x4e6200=currentCoins[_0x4671ba(0x127)](_0x245935=>_0x245935[_0x4671ba(0xfe)]==_0x1ee9c7[_0x4671ba(0xfe)]),_0xeb3712=gTicker[noslash(_0x1ee9c7[_0x4671ba(0xe0)])];let _0x58075e=_0x4e6200?_0x4e6200[_0x4671ba(0x1b5)]:null,_0x17f8a8=_0x1ee9c7['reverse']?0x1/_0xeb3712:_0xeb3712,_0x44d657;config[_0x4671ba(0x17b)]['forEach'](_0x47f2bb=>{const _0x4a2d99=_0x4671ba;!_0x44d657&&(_0x44d657=_0x47f2bb[_0x4a2d99(0x265)][_0x4a2d99(0x127)](_0xc163be=>_0xc163be['coin']==_0x1ee9c7['coin']),_0x44d657&&(_0x58075e=_0x44d657[_0x4a2d99(0x1b5)],_0x17f8a8=_0x44d657['price']));});let _0x1da5eb=dbCoinResults[_0x4671ba(0x26e)](_0x4671ba(0x21c))['find']({'coin':_0x1ee9c7[_0x4671ba(0xfe)]})[_0x4671ba(0xf2)]();if(!_0x1da5eb){const _0x5520f9={'coin':_0x1ee9c7['coin'],'number':_0x58075e,'breakeven':_0x17f8a8,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x4671ba(0x21c))[_0x4671ba(0x258)](_0x5520f9)[_0x4671ba(0x1f6)]();}else{if(_0x81b585&&_0x1ee9c7[_0x4671ba(0xfe)]==_0x81b585){const _0x1f25bf={'coin':_0x1ee9c7[_0x4671ba(0xfe)],'number':_0x58075e,'breakeven':_0x17f8a8,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4671ba(0x26e)](_0x4671ba(0x21c))[_0x4671ba(0x127)]({'coin':_0x1ee9c7[_0x4671ba(0xfe)]})[_0x4671ba(0x122)](_0x1f25bf)[_0x4671ba(0x1f6)]();}}}});}async function placeOrder(_0x1f40e0){const _0x1f1e8a=_0x420c50,_0x570d8c=config['ordertype']==_0x1f1e8a(0x267)?'market':_0x1f1e8a(0x11e);if(lockOrders==ORDERS[_0x1f1e8a(0x15c)]&&!coolingDown){setLockOrders(ORDERS[_0x1f1e8a(0x223)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x1f1e8a(0x16d)](_0x1f1e8a(0x281)+_0x1f40e0[_0x1f1e8a(0xf5)](_0x2d5d16=>_0x2d5d16[_0x1f1e8a(0xfe)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x1f1e8a(0x12d);let _0x51ddc7=![];lastOrders=[];const _0x32a590=config[_0x1f1e8a(0x1c8)];for(const _0x555ab4 of _0x1f40e0){let _0x5617c5,_0x39b398,_0x3eb332,_0x5b7deb,_0x22b201,_0x1eba01=_0x555ab4['symbol'];logger[_0x1f1e8a(0x16d)](_0x1f1e8a(0x198)+_0x555ab4[_0x1f1e8a(0xfe)]+'\x20'+_0x555ab4['number']+'\x20'+_0x555ab4[_0x1f1e8a(0x18b)]+'\x20'+_0x555ab4[_0x1f1e8a(0x17e)]+'%\x20'+_0x555ab4[_0x1f1e8a(0xd3)]+'%\x20'+(0x64*_0x555ab4[_0x1f1e8a(0x185)])[_0x1f1e8a(0x1be)](0x2)+_0x1f1e8a(0x29f)+_0x32a590[_0x1f1e8a(0x1be)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x1f1e8a(0xed)](_0xcaeb3e=>_0xcaeb3e!==_0x555ab4[_0x1f1e8a(0xfe)]);const _0xcd9000=currentCoins['find'](_0x77a721=>_0x77a721[_0x1f1e8a(0xfe)]==_0x555ab4[_0x1f1e8a(0xfe)]);_0xcd9000&&(_0xcd9000[_0x1f1e8a(0x201)]=_0x555ab4[_0x1f1e8a(0x1b5)]);try{const _0x5988c9=await exchange[_0x1f1e8a(0x18e)](_0x1eba01);_0x5617c5=_0x555ab4['reverse']?0x1/_0x555ab4[_0x1f1e8a(0x18b)]:_0x555ab4['last'],_0x39b398=_0x5988c9[_0x1f1e8a(0x23e)],_0x3eb332=_0x5988c9[_0x1f1e8a(0x102)];_0x555ab4[_0x1f1e8a(0x132)]?(_0x5b7deb=_0x555ab4[_0x1f1e8a(0x222)]==_0x1f1e8a(0x26f)?_0x1f1e8a(0x22c):_0x1f1e8a(0x26f),_0x22b201=Math[_0x1f1e8a(0x1bc)](_0x555ab4[_0x1f1e8a(0x14c)])/_0x5617c5):(_0x5b7deb=_0x555ab4[_0x1f1e8a(0x222)],_0x22b201=Math[_0x1f1e8a(0x1bc)](_0x555ab4[_0x1f1e8a(0x14c)]));_0x570d8c=='limit'&&(config[_0x1f1e8a(0x248)]==_0x1f1e8a(0x1c7)&&(_0x5617c5=_0x5b7deb==_0x1f1e8a(0x26f)?_0x39b398:_0x3eb332),config[_0x1f1e8a(0x248)]==_0x1f1e8a(0x173)&&(_0x5617c5=_0x5b7deb==_0x1f1e8a(0x26f)?_0x3eb332:_0x39b398));_0x22b201=formatResult(_0x22b201,0x8),_0x5617c5=formatResult(_0x5617c5,0x8);const _0x4f2069=_0x5b7deb==_0x1f1e8a(0x22c)?config['emojisell']?String['fromCodePoint']('0x'+config[_0x1f1e8a(0x162)])+'\x20':'':config['emojibuy']?String[_0x1f1e8a(0x12c)]('0x'+config['emojibuy'])+'\x20':'',_0x59a2ee=_0x570d8c=='market'?_0x1f1e8a(0xcc):config[_0x1f1e8a(0x248)]==_0x1f1e8a(0x1c7)?_0x1f1e8a(0x262):_0x1f1e8a(0x290),_0x221fbb=(Math[_0x1f1e8a(0x103)](Math['random']()*0x35a4e900)+0x5f5e100)[_0x1f1e8a(0x2a0)]();lastOrders['push']({'customId':_0x221fbb,'symbol':_0x1eba01,'coin':_0x555ab4[_0x1f1e8a(0xfe)],'amount':_0x22b201,'price':_0x5617c5,'side':_0x5b7deb,'reverse':_0x555ab4['reverse'],'filled':0x0});let _0x32df83;_0x570d8c==_0x1f1e8a(0x267)?_0x5b7deb==_0x1f1e8a(0x26f)&&[_0x1f1e8a(0xf7),_0x1f1e8a(0x268),_0x1f1e8a(0xc7),_0x1f1e8a(0x283),_0x1f1e8a(0x135)][_0x1f1e8a(0xc5)](config[_0x1f1e8a(0x212)])?_0x32df83=await exchange[_0x1f1e8a(0x274)](_0x1eba01,_0x570d8c,_0x5b7deb,_0x22b201,_0x5617c5):_0x32df83=await exchange[_0x1f1e8a(0x274)](_0x1eba01,_0x570d8c,_0x5b7deb,_0x22b201,undefined):_0x32df83=await exchange[_0x1f1e8a(0x274)](_0x1eba01,_0x570d8c,_0x5b7deb,_0x22b201,_0x5617c5);const _0xd2803b=lastOrders[_0x1f1e8a(0x1a2)]-0x1;if(_0xd2803b>=0x0&&lastOrders[_0xd2803b][_0x1f1e8a(0x1de)]==_0x221fbb){lastOrders[_0xd2803b][_0x1f1e8a(0x19c)]=_0x32df83['id'];if(_0x32df83['amount'])lastOrders[_0xd2803b][_0x1f1e8a(0x190)]=_0x32df83['amount'];if(_0x32df83[_0x1f1e8a(0x29d)])lastOrders[_0xd2803b][_0x1f1e8a(0x29d)]=_0x32df83['price'];lastOrders[_0xd2803b]['fee']=_0x32df83[_0x1f1e8a(0x292)];}if(_0x32df83[_0x1f1e8a(0x190)])_0x22b201=_0x32df83[_0x1f1e8a(0x190)];if(_0x32df83[_0x1f1e8a(0x29d)])_0x5617c5=_0x32df83[_0x1f1e8a(0x29d)];if(_0x570d8c==_0x1f1e8a(0x267))logHistory(_0x1f1e8a(0x186),''+_0x4f2069+_0x59a2ee+_0x1f1e8a(0x18f)+_0x1eba01+'\x20'+_0x5b7deb+'\x20#'+formatResult(_0x22b201,0x8)+'\x20@'+formatResult(_0x5617c5,0x8));else logHistory(_0x1f1e8a(0x186),''+_0x4f2069+_0x59a2ee+'\x20order:\x20'+_0x1eba01+'\x20'+_0x5b7deb+'\x20#'+formatResult(_0x22b201,0x8)+'\x20@'+formatResult(_0x5617c5,0x8));logger[_0x1f1e8a(0x16d)](_0x1f1e8a(0x21e)+_0x32df83['id']+'\x20|\x20Custom\x20ID:\x20'+_0x221fbb);if(config[_0x1f1e8a(0x280)]!=0x0){let _0x4e2a33=null;if(cooldownTracker[_0x1f1e8a(0x1a2)]==config[_0x1f1e8a(0x280)]-0x1)_0x4e2a33=cooldownTracker['shift']();const _0x395140=getTimeStamp();cooldownTracker[_0x1f1e8a(0x258)](_0x395140);if(_0x4e2a33){const _0xa3349f=fns[_0x1f1e8a(0x17a)](new Date(_0x395140),new Date(_0x4e2a33));if(_0xa3349f<cooldownInterval){logHistory(_0x1f1e8a(0x294),_0x1f1e8a(0x14d)+config[_0x1f1e8a(0x280)]+_0x1f1e8a(0x1dd)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x1f1e8a(0xd8)),coolingDown=!![];break;}}}}catch(_0x4ab005){if(_0x4ab005[_0x1f1e8a(0x2a0)]()[_0x1f1e8a(0xc5)]('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x43a1f1=>_0x43a1f1[_0x1f1e8a(0xe0)]!=_0x1eba01),logHistory(_0x1f1e8a(0x294),_0x1f1e8a(0xca)+_0x1eba01),_0x51ddc7=!![];else{if(_0x4ab005[_0x1f1e8a(0x2a0)]()[_0x1f1e8a(0xc5)](_0x1f1e8a(0x17c)))lastOrders=lastOrders[_0x1f1e8a(0xed)](_0x73bc71=>_0x73bc71['symbol']!=_0x1eba01),logHistory(_0x1f1e8a(0x294),_0x1f1e8a(0x120)+_0x1eba01),_0x51ddc7=!![];else{if(_0x4ab005[_0x1f1e8a(0x2a0)]()['includes'](_0x1f1e8a(0x1cf)))lastOrders=lastOrders[_0x1f1e8a(0xed)](_0x31fcf0=>_0x31fcf0[_0x1f1e8a(0xe0)]!=_0x1eba01),logHistory(_0x1f1e8a(0x294),_0x1f1e8a(0xcd)+_0x1eba01),logger[_0x1f1e8a(0x16d)](_0x4ab005),_0x51ddc7=!![];else _0x4ab005[_0x1f1e8a(0x2a0)]()[_0x1f1e8a(0xc5)](_0x1f1e8a(0xef))?(lastOrders=lastOrders[_0x1f1e8a(0xed)](_0x15dbcd=>_0x15dbcd[_0x1f1e8a(0xe0)]!=_0x1eba01),logHistory(_0x1f1e8a(0x294),_0x1f1e8a(0xca)+_0x1eba01),_0x51ddc7=!![]):(lastOrders=lastOrders[_0x1f1e8a(0xed)](_0x280779=>_0x280779[_0x1f1e8a(0xe0)]!=_0x1eba01),await handleError(_0x4ab005,'placeOrder()',_0x1eba01));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0xf97b71=config[_0x1f1e8a(0x248)]==_0x1f1e8a(0x267)?validateOrderTimeout*0x3c*0x3e8:config[_0x1f1e8a(0x13a)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x36258e=_0x1f1e8a;validateOrders(_0x36258e(0x202));},_0xf97b71);}else unlockOrders();_0x51ddc7&&config['headless']&&(logHistory('error',_0x1f1e8a(0x271)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1f1e8a(0x1ca),_0x1f1e8a(0x234)));}else{if(coolingDown)!config[_0x1f1e8a(0x256)]&&logHistory('error',_0x1f1e8a(0x144));else lockOrders!=ORDERS[_0x1f1e8a(0x15c)]&&(!config[_0x1f1e8a(0x256)]&&(config[_0x1f1e8a(0x248)]==_0x1f1e8a(0x267)?logHistory(_0x1f1e8a(0x294),_0x1f1e8a(0x15e)):logHistory(_0x1f1e8a(0x294),_0x1f1e8a(0x237))));}}function persistOpenOrders(_0x1e6f62){const _0x228474=_0x420c50,_0xcfdf56={...config,'openOrders':_0x1e6f62};let _0x2a12ca=dbConfig['get']('bot')['find']({'botID':botID})[_0x228474(0xf2)]();_0x2a12ca&&dbConfig[_0x228474(0x26e)](_0x228474(0x252))[_0x228474(0x127)]({'botID':botID})['assign'](_0xcfdf56)[_0x228474(0x1f6)]();}function restoreOrders(){const _0x5db0c3=_0x420c50;let _0x1e4e3a;config['openOrders']&&allOpenOrders[_0x5db0c3(0x126)](_0x3712dc=>{const _0x100e6c=_0x5db0c3,_0x3acd0f=config['openOrders'][_0x100e6c(0x127)](_0x28bd8e=>_0x28bd8e[_0x100e6c(0x19c)]==_0x3712dc['id']);_0x3acd0f&&(lastOrders['push'](_0x3acd0f),_0x1e4e3a=_0x3712dc[_0x100e6c(0x23c)]);});if(lastOrders[_0x5db0c3(0x1a2)]>0x0){setLockOrders(ORDERS[_0x5db0c3(0x223)]),validateOrdersState=_0x5db0c3(0x28d),allOrdersPlaced=!![];const _0x375355=new Date()['getTime'](),_0x2b1d1e=config['ordertype']==_0x5db0c3(0x267)?validateOrderTimeout*0x3c*0x3e8:config[_0x5db0c3(0x13a)]*0x3c*0x3e8;if(_0x1e4e3a+_0x2b1d1e>_0x375355){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x1e4e3a+_0x2b1d1e-_0x375355);}else validateOrders(_0x5db0c3(0x202));}}async function sendMetricsTelegram(){const _0x3eb515=_0x420c50;if(!coinsLoaded){process[_0x3eb515(0x1a3)]({'telegrammsg':_0x3eb515(0x288)},_0x521302=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x18d848='';if(config[_0x3eb515(0x1d3)])_0x18d848=_0x3eb515(0x205)+config[_0x3eb515(0x10a)]+_0x3eb515(0x146);else _0x18d848=_0x3eb515(0xe8)+botID+_0x3eb515(0x146);const _0x42b808=config['basecoin'],_0x42b5cc=config['fiat'],_0x34449c=getKPIs(_0x3eb515(0x228)),_0x821f7a=getKPIs('fiat',_0x42b5cc),_0x29b18c=getKPIs(_0x3eb515(0x25a)),_0x224b15=getKPIs('net-fiat',_0x42b5cc),_0x236fb9=getKPIs(_0x3eb515(0x229)),_0x494d70=getKPIs(_0x3eb515(0x1a5),_0x42b5cc);_0x42b808[_0x3eb515(0xc5)](_0x42b5cc)?(_0x18d848+=_0x3eb515(0x2a4),_0x18d848+=_0x3eb515(0x1d1)+_0x42b808+':\x20'+_0x34449c[_0x3eb515(0xf2)]+'\x20('+_0x34449c[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x142)+_0x42b808+':\x20'+_0x29b18c['value']+'\x20('+_0x29b18c[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x22b)+_0x42b808+':\x20'+_0x236fb9['value']+'\x20('+_0x236fb9[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x12f)):(_0x18d848+=_0x3eb515(0x2a4),_0x18d848+='Value\x20'+_0x42b808+':\x20'+_0x34449c[_0x3eb515(0xf2)]+'\x20('+_0x34449c[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x1d1)+_0x42b5cc+':\x20'+_0x821f7a[_0x3eb515(0xf2)]+'\x20('+_0x821f7a[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x142)+_0x42b808+':\x20'+_0x29b18c[_0x3eb515(0xf2)]+'\x20('+_0x29b18c[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x142)+_0x42b5cc+':\x20'+_0x224b15[_0x3eb515(0xf2)]+'\x20('+_0x224b15[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x22b)+_0x42b808+':\x20'+_0x236fb9[_0x3eb515(0xf2)]+'\x20('+_0x236fb9['change']+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x22b)+_0x42b5cc+':\x20'+_0x494d70[_0x3eb515(0xf2)]+'\x20('+_0x494d70[_0x3eb515(0x12b)]+_0x3eb515(0x11a),_0x18d848+=_0x3eb515(0x12f)),process[_0x3eb515(0x1a3)]({'telegrammsg':_0x18d848},_0x3683d7=>{});}async function sendPortfolioTelegram(){const _0x28144a=_0x420c50;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x28144a(0x1a3)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x239558=>{});return;}let _0x20102e='';if(config[_0x28144a(0x1d3)])_0x20102e=_0x28144a(0x205)+config[_0x28144a(0x10a)]+_0x28144a(0x13c);else _0x20102e=_0x28144a(0xe8)+botID+_0x28144a(0x13c);_0x20102e+=_0x28144a(0x2a4),_0x20102e+=_0x28144a(0x154),_0x20102e+=_0x28144a(0x15a),_0x20102e+='-------------------------------\x0a',currentCoins['forEach'](_0x489102=>{const _0x49ec91=_0x28144a;_0x20102e+=_0x489102['coin'][_0x49ec91(0xc9)](0x7)+'|\x20'+formatPad(_0x489102[_0x49ec91(0x17e)],0x2,0x6)+'|\x20'+formatPad(_0x489102[_0x49ec91(0xd3)],0x2,0x6)+'|\x20'+formatPad(_0x489102[_0x49ec91(0x185)]*0x64,0x2,0x6)+'\x0a';}),_0x20102e+=_0x28144a(0x12f),process[_0x28144a(0x1a3)]({'telegrammsg':_0x20102e},_0x454aa7=>{});}function formatPad(_0x3fc190,_0x719160,_0x237e4f){const _0x523a8a=_0x420c50,_0x4b20af=formatResultString(_0x3fc190,_0x719160);return _0x4b20af?_0x4b20af[_0x523a8a(0x19a)](_0x237e4f):''[_0x523a8a(0x19a)](_0x237e4f);}function logHistory(_0x34490d,_0x5a88fa,_0x5cceb2=''){const _0x32ac6a=_0x420c50;logger['full'](''+_0x5a88fa);let _0xfbbd43={'time':getTimeStamp(),'type':_0x34490d,'event':_0x5a88fa};dbLogs[_0x32ac6a(0x26e)]('logs')[_0x32ac6a(0x258)](_0xfbbd43)['write']();if(_0x5cceb2=='')_0x5cceb2=_0x5a88fa;proxyEmit('event',{'log':_0xfbbd43,'summary':_0x5cceb2}),process[_0x32ac6a(0x1a3)]({'telegram':{..._0xfbbd43,'botname':config[_0x32ac6a(0x10a)],'showname':config[_0x32ac6a(0x1d3)]}},_0x5d49e5=>{});}function emitHistory(_0x1da717={}){const _0x24ccb5=_0x420c50;Object['keys'](_0x1da717)[_0x24ccb5(0x1a2)]==0x0&&(_0x1da717={'type':[_0x24ccb5(0x186),_0x24ccb5(0x128)],'event':'','page':0x1});if(_0x1da717[_0x24ccb5(0x1eb)][_0x24ccb5(0xc5)](_0x24ccb5(0x128)))_0x1da717['type'][_0x24ccb5(0x12e)](_0x1da717[_0x24ccb5(0x1eb)][_0x24ccb5(0xc3)](_0x24ccb5(0x128)),0x1,'error',_0x24ccb5(0x1dc),'success');if(dbLogs['has'](_0x24ccb5(0x27a))['value']()){let _0x444208=dbLogs[_0x24ccb5(0x26e)]('logs')[_0x24ccb5(0xed)](_0x1bc8dd=>{const _0x3462e5=_0x24ccb5;if(_0x1da717[_0x3462e5(0x1eb)][_0x3462e5(0x1a2)]==0x0)return![];else return _0x1da717[_0x3462e5(0x1eb)][_0x3462e5(0xc5)](_0x1bc8dd['type']);})[_0x24ccb5(0xed)](_0x5d701d=>{const _0x32d5a3=_0x24ccb5;if(_0x1da717[_0x32d5a3(0x128)]=='')return!![];else return _0x5d701d[_0x32d5a3(0x128)][_0x32d5a3(0x1f3)]()[_0x32d5a3(0xc5)](_0x1da717[_0x32d5a3(0x128)][_0x32d5a3(0x1f3)]());})[_0x24ccb5(0x24c)](_0x24ccb5(0x282)),_0x198d8f=_0x444208[_0x24ccb5(0xf2)]()[_0x24ccb5(0x1a2)];_0x444208=_0x444208['reverse']()[_0x24ccb5(0x169)]((_0x1da717[_0x24ccb5(0x22e)]-0x1)*logPageSize,_0x1da717[_0x24ccb5(0x22e)]*logPageSize-0x1)[_0x24ccb5(0x132)]()[_0x24ccb5(0xf2)](),proxyEmit(_0x24ccb5(0x133),{'logs':_0x444208,'total':_0x198d8f});}else proxyEmit(_0x24ccb5(0x133),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x14ed1f){const _0x41cc5f=_0x420c50;if(dbLogs[_0x41cc5f(0xff)](_0x41cc5f(0x27a))[_0x41cc5f(0xf2)]()){const _0x276cdc=dbLogs[_0x41cc5f(0x26e)](_0x41cc5f(0x27a))['sortBy'](_0x41cc5f(0x282))[_0x41cc5f(0xed)](_0x4ddb42=>{const _0x12bde1=_0x41cc5f;return _0x4ddb42[_0x12bde1(0x1eb)]==_0x12bde1(0x186);})[_0x41cc5f(0xf2)]();dbLogs[_0x41cc5f(0x26e)](_0x41cc5f(0x27a))[_0x41cc5f(0x20b)]()['write'](),dbLogs['get'](_0x41cc5f(0x27a))[_0x41cc5f(0x122)](_0x276cdc)['write'](),emitHistory(_0x14ed1f);}}async function pauseBot(_0x5532b6=pauseBotIntervalShort,_0x235845,_0x7809e6,_0x146e1a=![]){const _0x170fba=_0x420c50,_0x3e9487=new Date()['getTime']();if(!lastErrorShown||_0x3e9487-lastErrorShown>=_0x5532b6){lastErrorShown=_0x3e9487;if(!lastBotPause)lastBotPause=_0x3e9487,consecutivePauses=0x1;else{if(_0x3e9487-lastBotPause-_0x5532b6<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x146e1a){logHistory(_0x170fba(0x294),_0x235845+'\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();return;}else logHistory(_0x170fba(0x294),_0x235845+pauseBotMsg),_0x5532b6=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x3e9487;}_0x7809e6?logger[_0x170fba(0x16d)]('('+consecutivePauses+')\x20'+_0x235845+'\x20>\x20details:',_0x7809e6):logger[_0x170fba(0x16d)]('('+consecutivePauses+')\x20'+_0x235845);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x5532b6),botPaused=![],_0x5532b6==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x4cbfae=_0x420c50;botPaused=!![],await sleep(0x3e8),process['send']({'stop':_0x4cbfae(0x26a)},_0x16997b=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1bb345,_0x1457a6,_0x32dbaf=![]){const _0x2ab81d=_0x420c50;if(botPaused)return;let _0xd9b362;const _0x54f417=config[_0x2ab81d(0x212)]||_0x2ab81d(0x1f5);if(_0x1457a6)logger[_0x2ab81d(0x16d)](_0x2ab81d(0x1fa)+_0x1457a6);const _0x235329=()=>{const _0xc6104a=_0x2ab81d;loading['error']=_0xc6104a(0x145),emitLoadingProgress();};if(_0x1bb345[_0x2ab81d(0x2a0)]()[_0x2ab81d(0xc5)](_0x2ab81d(0x221)))logHistory('error',_0x54f417+_0x2ab81d(0xdb)),_0x235329();else{if(_0x1bb345[_0x2ab81d(0x2a0)]()[_0x2ab81d(0xc5)](_0x2ab81d(0x1f7)))logHistory(_0x2ab81d(0x294),_0x54f417+_0x2ab81d(0x1b0)),_0x235329();else{if(_0x1bb345[_0x2ab81d(0x2a0)]()[_0x2ab81d(0xc5)]('AuthenticationError'))config['apiPassword']?_0xd9b362=_0x54f417+_0x2ab81d(0x25b):_0xd9b362=_0x54f417+_0x2ab81d(0x14f),logHistory(_0x2ab81d(0x294),_0xd9b362+_0x2ab81d(0x225)),_0x235329();else{if(_0x1bb345[_0x2ab81d(0x2a0)]()[_0x2ab81d(0xc5)](_0x2ab81d(0x299)))logHistory(_0x2ab81d(0x294),_0x54f417+_0x2ab81d(0x28b)),_0x235329();else{if(!_0x32dbaf)await handleError(_0x1bb345,null);}}}}}async function handleError(_0x30d756,_0xd0dec0,_0x29183d=''){const _0x56b824=_0x420c50;if(botPaused)return;let _0x1fa276;const _0x54b39e=config[_0x56b824(0x212)]||_0x56b824(0x1f5);if(_0xd0dec0)logger[_0x56b824(0x16d)]('Exception\x20thrown\x20in\x20'+_0xd0dec0);if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x152)))_0x1fa276=_0x54b39e+_0x56b824(0x1ae),await pauseBot(undefined,_0x1fa276,_0x30d756);else{if(_0x30d756[_0x56b824(0x2a0)]()['includes']('RateLimitExceeded'))_0x1fa276=_0x54b39e+_0x56b824(0x1da),await pauseBot(undefined,_0x1fa276,_0x30d756);else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x273))||_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x1b8)))_0x1fa276=_0x54b39e+_0x56b824(0xfd),await pauseBot(undefined,_0x1fa276,_0x30d756[_0x56b824(0x2a0)]());else{if(_0x30d756['toString']()[_0x56b824(0xc5)](_0x56b824(0x1ed)))_0x1fa276=_0x54b39e+_0x56b824(0x124),await pauseBot(undefined,_0x1fa276,_0x30d756[_0x56b824(0x2a0)]());else{if(_0x30d756[_0x56b824(0x2a0)]()['includes'](_0x56b824(0xd7)))_0x1fa276=_0x54b39e+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x1fa276,_0x30d756[_0x56b824(0x2a0)]());else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0x1f3)]()[_0x56b824(0xc5)]('timestamp')||_0x30d756['toString']()['toLowerCase']()[_0x56b824(0xc5)](_0x56b824(0xdc)))_0x1fa276=_0x56b824(0xf0),await pauseBot(undefined,_0x1fa276,_0x30d756['toString']());else{if(_0x30d756['toString']()[_0x56b824(0xc5)]('InvalidNonce'))_0x1fa276=_0x54b39e+_0x56b824(0x253),await pauseBot(undefined,_0x1fa276,_0x30d756[_0x56b824(0x2a0)]());else{if(_0x30d756 instanceof ccxt['NetworkError'])_0x1fa276=_0x54b39e+_0x56b824(0x1a8)+_0x30d756[_0x56b824(0x2a0)](),logger[_0x56b824(0x16d)](_0x56b824(0x1b9),_0x30d756),await pauseBot(undefined,_0x1fa276,_0x30d756);else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x221)))logHistory(_0x56b824(0x294),_0x54b39e+_0x56b824(0x240)),logHistory(_0x56b824(0x294),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x1f7)))logHistory('error',_0x54b39e+'\x20API\x20secret\x20is\x20invalid'),logHistory('error',_0x56b824(0x27b)),await killBot();else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x216))&&_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x2a2)))_0x1fa276=_0x54b39e+_0x56b824(0x183),await pauseBot(undefined,_0x1fa276,_0x30d756,!![]);else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x216)))config[_0x56b824(0x10b)]?_0x1fa276=_0x54b39e+_0x56b824(0x25b):_0x1fa276=_0x54b39e+_0x56b824(0x14f),logHistory(_0x56b824(0x294),_0x1fa276),logHistory(_0x56b824(0x294),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x299)))logHistory(_0x56b824(0x294),_0x54b39e+_0x56b824(0x180)),logHistory('error',_0x56b824(0x27b)),await killBot();else{if(_0x30d756[_0x56b824(0x2a0)]()[_0x56b824(0xc5)](_0x56b824(0x224)))logHistory('error',_0x56b824(0x211)+_0x29183d),logger[_0x56b824(0x16d)]('Error\x20details:',_0x30d756);else{if(_0x30d756 instanceof ccxt[_0x56b824(0x1ee)]){_0x1fa276=_0x54b39e+_0x56b824(0x1d4)+_0x30d756[_0x56b824(0x2a0)]();if(_0x29183d)_0x1fa276+='\x0aSymbol(s):\x20'+_0x29183d;await pauseBot(undefined,_0x1fa276,_0x30d756);}else{_0x1fa276=_0x56b824(0x112)+_0x30d756[_0x56b824(0x2a0)]();if(_0x29183d)_0x1fa276+=_0x56b824(0xce)+_0x29183d;await pauseBot(undefined,_0x1fa276);}}}}}}}}}}}}}}}}function decryptRSA(_0x372038,_0x52a61a){const _0x5caff5=_0x420c50,_0x58b1fa=forge[_0x5caff5(0x147)][_0x5caff5(0x172)](_0x372038),_0x4a3d62=_0x58b1fa[_0x5caff5(0x1c4)](forge[_0x5caff5(0x23a)]['decode64'](_0x52a61a),'RSA-OAEP',{'md':forge['md'][_0x5caff5(0x1d0)]['create'](),'mgf1':{'md':forge['md'][_0x5caff5(0x1d0)]['create']()}});return _0x4a3d62;}async function withRetry(_0x1a7374,_0x4e34ee){const _0x4db0ca=_0x420c50;let _0xbf4094=![],_0x2527c1=0x0,_0x621500,_0xeeb9a4;while(_0x2527c1<maxRetries){try{_0x621500=await _0x4e34ee();break;}catch(_0x18b0b1){_0xeeb9a4=_0x18b0b1,!_0xbf4094?(_0xbf4094=!![],logger[_0x4db0ca(0x16d)]('RETRY\x20-\x20Error\x20in\x20'+_0x1a7374+':',_0x18b0b1[_0x4db0ca(0x2a0)]())):await sleep(retryInterval);}_0x2527c1++;}if(_0x2527c1==0x0)return _0x621500;if(_0x2527c1>=maxRetries)throw _0xeeb9a4;else return logger[_0x4db0ca(0x16d)](_0x4db0ca(0x219)+_0x2527c1+'\x20attempts'),_0x621500;}function formatResult(_0xcd59b1,_0x4d1949){return parseFloat(_0xcd59b1['toFixed'](_0x4d1949));}function formatResultTruncate(_0x26e158,_0xb7c0){const _0x1dc3e2=_0x420c50;let _0x2ac59e=formatResultString(_0x26e158,0xa),_0x396479=_0x2ac59e[_0x1dc3e2(0xc3)]('.');return _0x396479!=-0x1&&(_0x2ac59e=_0x2ac59e[_0x1dc3e2(0x169)](0x0,_0x396479+_0xb7c0+0x1)),Number(_0x2ac59e);}function formatResultString(_0x42687c,_0x484aaa){const _0x1138a0=_0x420c50;let _0x1b711a;if(!(''+_0x42687c)[_0x1138a0(0xc5)]('e'))_0x1b711a=+(Math[_0x1138a0(0x116)](_0x42687c+'e+'+_0x484aaa)+'e-'+_0x484aaa);else{let _0x1c3ac6=(''+_0x42687c)['split']('e'),_0x5930ba='';+_0x1c3ac6[0x1]+_0x484aaa>0x0&&(_0x5930ba='+'),_0x1b711a=+(Math[_0x1138a0(0x116)](+_0x1c3ac6[0x0]+'e'+_0x5930ba+(+_0x1c3ac6[0x1]+_0x484aaa))+'e-'+_0x484aaa);}return Number(_0x1b711a)['toFixed'](_0x484aaa);}function getServerTime(){const _0x25ea5e=_0x420c50,_0x544ddc=new Date();return _0x544ddc[_0x25ea5e(0x275)]()+'/'+(_0x544ddc[_0x25ea5e(0x231)]()+0x1)['toString']()[_0x25ea5e(0x19a)](0x2,'0')+'/'+_0x544ddc['getDate']()[_0x25ea5e(0x2a0)]()['padStart'](0x2,'0')+'\x20'+_0x544ddc[_0x25ea5e(0xd4)]()[_0x25ea5e(0x2a0)]()[_0x25ea5e(0x19a)](0x2,'0')+':'+_0x544ddc[_0x25ea5e(0x192)]()[_0x25ea5e(0x2a0)]()['padStart'](0x2,'0')+':'+_0x544ddc[_0x25ea5e(0x157)]()[_0x25ea5e(0x2a0)]()[_0x25ea5e(0x19a)](0x2,'0');}function getTimeStamp(){const _0x47c1b3=_0x420c50,_0x166db2=shiftedTime();return _0x166db2[_0x47c1b3(0x275)]()+'/'+(_0x166db2['getMonth']()+0x1)['toString']()[_0x47c1b3(0x19a)](0x2,'0')+'/'+_0x166db2[_0x47c1b3(0x26c)]()['toString']()[_0x47c1b3(0x19a)](0x2,'0')+'\x20'+_0x166db2[_0x47c1b3(0xd4)]()[_0x47c1b3(0x2a0)]()[_0x47c1b3(0x19a)](0x2,'0')+':'+_0x166db2[_0x47c1b3(0x192)]()[_0x47c1b3(0x2a0)]()[_0x47c1b3(0x19a)](0x2,'0')+':'+_0x166db2[_0x47c1b3(0x157)]()[_0x47c1b3(0x2a0)]()[_0x47c1b3(0x19a)](0x2,'0');}function getDate(){const _0x46a25d=_0x420c50,_0x437d42=shiftedTime();return _0x437d42[_0x46a25d(0x275)]()+'/'+(_0x437d42[_0x46a25d(0x231)]()+0x1)[_0x46a25d(0x2a0)]()['padStart'](0x2,'0')+'/'+_0x437d42[_0x46a25d(0x26c)]()['toString']()[_0x46a25d(0x19a)](0x2,'0');}function getHour(){const _0x395b8b=_0x420c50,_0x59eea1=shiftedTime();return _0x59eea1[_0x395b8b(0xd4)]()[_0x395b8b(0x2a0)]()['padStart'](0x2,'0');}function sleep(_0x48db4f){return new Promise(_0x2e5a0c=>setTimeout(_0x2e5a0c,_0x48db4f));}function shiftedTime(){const _0xf73d1a=_0x420c50,_0x2be846=new Date();let _0xe318df=_0x2be846;if(config&&config[_0xf73d1a(0x15d)]!==0x0)_0xe318df=fns[_0xf73d1a(0x167)](_0x2be846,{'hours':config[_0xf73d1a(0x15d)]});return _0xe318df;}function timer(_0x298aed){const _0x44dbd1=_0x420c50,_0x13ce6b=new Date();!lasttime?console[_0x44dbd1(0xd5)](getTimeStamp()+_0x44dbd1(0x27e),_0x298aed,_0x13ce6b):console[_0x44dbd1(0xd5)](getTimeStamp()+_0x44dbd1(0x27e),_0x298aed,(_0x13ce6b-lasttime)/0x3e8),lasttime=_0x13ce6b;}