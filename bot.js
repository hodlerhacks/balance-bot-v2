const _0x44c014=_0x211c;(function(_0x1382e2,_0xb37ce2){const _0x342e02=_0x211c,_0x2c192c=_0x1382e2();while(!![]){try{const _0x57fcfd=parseInt(_0x342e02(0x24e))/0x1+parseInt(_0x342e02(0x1ce))/0x2+parseInt(_0x342e02(0x1c5))/0x3*(parseInt(_0x342e02(0x1ab))/0x4)+-parseInt(_0x342e02(0x2df))/0x5*(-parseInt(_0x342e02(0x2d3))/0x6)+-parseInt(_0x342e02(0x253))/0x7*(parseInt(_0x342e02(0x2b1))/0x8)+-parseInt(_0x342e02(0x172))/0x9*(-parseInt(_0x342e02(0x177))/0xa)+-parseInt(_0x342e02(0x18e))/0xb;if(_0x57fcfd===_0xb37ce2)break;else _0x2c192c['push'](_0x2c192c['shift']());}catch(_0x3b75c0){_0x2c192c['push'](_0x2c192c['shift']());}}}(_0x7c3b,0xa42da));const _0x2852a1=function(){let _0x240c9f=!![];return function(_0x527e7d,_0x462bc4){const _0x5b9813=_0x240c9f?function(){if(_0x462bc4){const _0x47cb7e=_0x462bc4['apply'](_0x527e7d,arguments);return _0x462bc4=null,_0x47cb7e;}}:function(){};return _0x240c9f=![],_0x5b9813;};}(),_0x40d8e2=_0x2852a1(this,function(){const _0x135502=_0x211c;return _0x40d8e2[_0x135502(0x317)]()['search'](_0x135502(0x230))[_0x135502(0x317)]()[_0x135502(0x166)](_0x40d8e2)[_0x135502(0x2b6)](_0x135502(0x230));});_0x40d8e2();'use strict';const ccxt=require(_0x44c014(0x1e0)),low=require(_0x44c014(0x310)),FileSync=require(_0x44c014(0x30d)),fs=require('fs'),fns=require(_0x44c014(0x1cb)),forge=require(_0x44c014(0x1ee)),util=require(_0x44c014(0x243)),argv=require('yargs/yargs')(process[_0x44c014(0x24b)][_0x44c014(0x277)](0x2))[_0x44c014(0x24b)],path=require('path'),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x44c014(0x194),_0x44c014(0x159),_0x44c014(0x23e),_0x44c014(0x1ea),'USDC',_0x44c014(0x275)],excludedExchanges=[_0x44c014(0x1c2)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;function _0x7c3b(){const _0x561141=['\x20uses\x20','defaults','page','sell','search','Cryptocom','2\x20-\x20Handled\x20open\x20orders','loadSymbols()','args','length','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','Error\x20details:','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','pro','testApi','data','findIndex','onepagemode','number','log','Block\x20transaction\x20detection:\x20','\x20network\x20error:\x20','getSeconds','max','Set\x20lock\x20orders\x20to:\x20','buy','highest','secret','placeOrder','delta','initial','decrypt','changes','5953206Ovtemi','limit-low','Pausing\x20for\x20','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','performance','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','change','<b>','.json','2\x20-\x20handling\x20FILLED\x20order:\x20','./logs/','5MFDArb','/USD','event-history','fetchOpenOrders','amountToPrecision','event','Avoiding\x20continuous\x20order\x20attempts','find','canceled','get','remove','total','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','code','bot-','usd','PAXG','\x20API\x20key\x20is\x20invalid','cost','prevnumber','No\x20more\x20open\x20orders\x20-\x20','limits','ETH','showname','\x20has\x20a\x2024h\x20drop\x20of\x20','full','Generated\x20PnL\x20data','test','************','placeOrder()','colorscheme','pnl-fiat','/EUR','replace','emitHistory','ExchangeNotAvailable','process\x20','portfolio2','bb-settings.json','Huobi','2.6.0','InvalidNonce','add','marketcapApi','basecoinvalue','assign','lowdb/adapters/FileSync','switch-manual','password','lowdb','Cex','<b>Bot\x20','Error\x20in\x20loadSymbols():\x20','target','realizedPnL','getPortfolio','toString','\x20-\x20go\x20back\x20and\x20try\x20again','Portfolio\x20change\x20detected:\x20','kill','Unknown\x20error\x20-\x20check\x20logs','1\x20-\x20partially\x20FILLED\x20(','remainingSymbols','round','parse','Unfilled\x20order(s)\x20canceled\x20after\x20','debug','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','PermissionDenied','timeout','unlinkSync','pnl','Order\x20is\x20invalid:\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','timeshift','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','BUSD','pki','cooldown','1\x20-\x20Handle\x20open\x20orders','recent20','Value\x20','Manual\x20balancing\x20required','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','NetworkError','Insufficient\x20funds\x20to\x20execute\x20order:\x20','offset','timestamp-issue','percentage','constructor','createOrder','sortBy','\x20(see:\x20hodlerhacks.com/fix/1)','side','change24h','version','success','\x20-\x20bot\x20not\x20started','emojibuy','Stopped\x20fetching\x20balance\x20after\x20','fetchTicker','36954DeriYP','\x20API\x20secret\x20is\x20invalid','format','\x20portfolio:</b>\x20\x0a\x0a','RETRY\x20-\x20Problem\x20resolved\x20after\x20','460ieUwGH','cancel','time','Error\x20in\x20testNewAPI():\x20','symbol','ongoing','abs','getDate','Limit\x20(high-margin)','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','substring','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','settings','\x0aSymbol(s):\x20','keys','Huobipro','added','startnumber','no\x20open\x20orders','Failed\x20to\x20load\x20coin\x20data\x20for\x20','existsSync','isEqual','14086677yxyXfG','headless',')\x20unknown\x20order:\x20','exchange','-results.json','open','USD','request-time','exchanges','2\x20-\x20Validate\x20orders:\x20','getTime','\x20metrics:</b>\x20\x0a\x0a','closed','bots','order','Saving\x20configuration','breakeven','split','Bybit','filter','configstate','-------------------------------\x0a','map','Error\x20while\x20deleting\x20files:\x20','2.3.5','PnL\x20','privateKey','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','4gMFoOu','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','valid','resetHistory','Exchange','\x20|\x20exchange:\x20','decode64','writeFile',':\x20timer\x20>','\x20|\x20','Initiating\x20bot\x20restart','min','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','entries','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','balances','botname','starting-balance-','removed','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','spot','final','bitmex','autoliquidity','distribution','1397859oKcIsX','showConfig','progress','fromCodePoint','market_cap','join','date-fns','\x20MB','\x20>\x20','543214NDlTsl','create','isBefore','Unknown\x20error:\x20','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','coin','Market','addDays','pop','\x20minutes','Error\x20details:\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','BTC','Loading\x20completed','net-fiat','Test\x20new\x20API','\x20exchange\x20error:\x20','fee','ccxt','AuthenticationError','api-issue','includes','/backup/','starting-balances','coin-loading-progress','quote','average','warning','USDT','API-key\x20format\x20invalid','</pre>','portfolio','node-forge','sqrt','cancelOrders()','apiPassword','limit','<pre>','sells','\x20minutes\x20-\x20','trade','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','getFullYear','InvalidOrder','toggleBotMode','set','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','bb-secure.json','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','Net\x20','Binance','Placing\x20order\x20for:\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','loading-canceled','\x20due\x20to\x20offset','storeConfiguration','filled','./version.json','0\x20-\x20EXECUTION:\x20','***','exchange\x20reload','stack',')\x20known\x20order:\x20','value','-events.json','initclient','watchTradesForSymbols','forEach','Error\x20occurred:\x20','\x20>\x20[DEBUG]\x20','configuration','last','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','recovery','cloneDeep','uncaughtException','Network\x20error\x20details:','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','yyyy/MM/dd','getMinutes','Fee\x20discount\x20refund\x20detected:\x20','must\x20be\x20greater\x20than\x20minimum\x20amount','sha256','fetchTickers()','indexOf','has','sandbox','price','shift','send','Initializing\x20exchange','balancing\x20resumes\x20when\x20cooldown\x20ends','random','type','Bitget','marketcap','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Limit\x20(low-margin)','(((.+)+)+)+$','liquidity','createWriteStream','2.7.1','watchOrders()','excluded','limit-high','getOpenOrders()','recreate','netoffset','coins','Bot\x20','Resetting\x20coin\x20results:\x20','-config.json','TUSD','\x20>\x20details:','UNLOCKED','Order\x20amount\x20is\x20invalid:\x20','update-liquidity','util',':\x20Bot\x20','timestamp','mkdirSync','buys','restart','/USDT','./config/','argv','differenceInSeconds','\x20order:\x20','1167136VmUefl','market','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','write','basecoin','1982211fKcdYC','threshold','apiSecret','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','MIN_NOTIONAL','initTickers()','orderId','fetchTickers','marketcapsqrt','error','fetchBalance','status\x20code\x20401','startprice','EUR','detectLiquidityChange()','watchOrders','net-basecoin','watchTradesForSymbols()','running','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','bot','message','openOrders','token\x20is\x20expired','emojisell','Executed\x20','RETRY\x20-\x20Error\x20in\x20','splice','deleteHistoryAlerts','\x20hour','net','Order(s)\x20not\x20validated\x20after\x20','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Market\x20order','USDP','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','slice','toLowerCase','LOCKED','configuration-stored','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','push','fiat','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','reverse','active','Exception\x20thrown\x20in\x20','enabled','2.6.22','Error:\x20Invalid\x20argument\x20','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','ask','logs','apiKey','bid','Invalid\x20balance\x20for\x20','ordertype','stringify','cancelLoading','red_yellow_blue','setSandboxMode','Invalid\x20symbol:\x20','fetchBalance()','\x20attempts','marketcapEnabled','slider','-performance.json','toFixed','no\x20exchange\x20reloaded','watchTrades','status','startdate','sort','getMonth','%)\x0a','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','getHours','date','Resetting\x20bot\x20history','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','padStart','orderstatus','eur','complete','none','portfolio1','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','RequestTimeout','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','Waited\x20','amount','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','32PSWIFY'];_0x7c3b=function(){return _0x561141;};return _0x7c3b();}const ORDERS=Object['freeze']({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x44c014(0x240)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x44c014(0x1d7),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x44c014(0x207))[_0x44c014(0x16c)],environment=require(_0x44c014(0x207))['environment']||'production',botID=process[_0x44c014(0x24b)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x44c014(0x2fa)](botID)&&(console[_0x44c014(0x2c5)](_0x44c014(0x284)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x44c014(0x24b)][0x3]||'',configpath=userID?_0x44c014(0x24a)+userID+'/':_0x44c014(0x24a),logspath=userID?_0x44c014(0x2de)+userID+'/':_0x44c014(0x2de),loggerfile=fs[_0x44c014(0x232)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x44c014(0x18c)](configpath)&&fs[_0x44c014(0x246)](configpath);!fs['existsSync'](logspath)&&fs[_0x44c014(0x246)](logspath);const configfile=configpath+'bot-'+botID+_0x44c014(0x23d),logfile=configpath+_0x44c014(0x2ed)+botID+'-events.json',performancefile=configpath+_0x44c014(0x2ed)+botID+_0x44c014(0x295),coinresultsfile=configpath+_0x44c014(0x2ed)+botID+_0x44c014(0x192),settingsfile=configpath+_0x44c014(0x305),securefile=configpath+_0x44c014(0x1fd),configbackuppath=configpath+_0x44c014(0x1e4),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x44c014(0x2b3)]({'logs':[],'version':serverversion})[_0x44c014(0x251)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x44c014(0x2b3)]({'data':[],'version':serverversion})[_0x44c014(0x251)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x44c014(0x2b3)]({'bot':[],'version':serverversion})[_0x44c014(0x251)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x44c014(0x2b3)]({'coins':{},'version':serverversion})[_0x44c014(0x251)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x571d6e=>{console['log'](_0x571d6e);},'simple':_0x15a8b4=>{const _0x2d6997=_0x44c014;console[_0x2d6997(0x2c5)](_0x15a8b4),loggerfile[_0x2d6997(0x251)](util[_0x2d6997(0x174)](_0x15a8b4)+'\x0a');},'full':async(_0x4a1b39,_0x14b1c9='')=>{const _0x40dbbe=_0x44c014;let _0x1a2843;if(config[_0x40dbbe(0x2f6)])_0x1a2843=getTimeStamp()+':\x20'+config[_0x40dbbe(0x1bb)]+_0x40dbbe(0x1cd)+_0x4a1b39;else _0x1a2843=getTimeStamp()+':\x20Bot\x20'+botID+_0x40dbbe(0x1cd)+_0x4a1b39;console['log'](_0x1a2843),loggerfile['write'](util[_0x40dbbe(0x174)](_0x1a2843)+'\x0a'),_0x14b1c9&&(console[_0x40dbbe(0x2c5)](_0x14b1c9),loggerfile[_0x40dbbe(0x251)](util['format'](_0x14b1c9)+'\x0a'));},'debug':async(_0x372fa6,_0x187160='')=>{const _0x1a4e2b=_0x44c014;let _0xcb4e9f;if(config[_0x1a4e2b(0x2f6)])_0xcb4e9f=getTimeStamp()+':\x20'+config[_0x1a4e2b(0x1bb)]+_0x1a4e2b(0x213)+_0x372fa6;else _0xcb4e9f=getTimeStamp()+_0x1a4e2b(0x244)+botID+_0x1a4e2b(0x213)+_0x372fa6;if(debugging)console[_0x1a4e2b(0x2c5)](_0xcb4e9f);loggerfile[_0x1a4e2b(0x251)](util[_0x1a4e2b(0x174)](_0xcb4e9f)+'\x0a');if(_0x187160){if(debugging)console[_0x1a4e2b(0x2c5)](_0x187160);loggerfile[_0x1a4e2b(0x251)](util[_0x1a4e2b(0x174)](_0x187160)+'\x0a');}}};process['on']('uncaughtException',function(_0x160e0a){const _0x346d81=_0x44c014;handleError(_0x160e0a[_0x346d81(0x20b)],_0x346d81(0x219));});settings[_0x44c014(0x157)]!=config[_0x44c014(0x157)]&&updateTimeshift(settings[_0x44c014(0x157)]);settings[_0x44c014(0x2c3)]!=config[_0x44c014(0x2c3)]&&updateOnepagemode(settings[_0x44c014(0x2c3)]);(settings[_0x44c014(0x30a)]&&!config['marketcapApi']||!settings[_0x44c014(0x30a)]&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x44c014(0x30a)]);process[_0x44c014(0x227)]({'started':_0x44c014(0x265)},_0x6f4b7e=>{}),initializeProcessListeners();function proxyEmit(_0x60dd52,_0x1d4006=null){const _0x12394e=_0x44c014;process[_0x12394e(0x227)]({'function':_0x60dd52,'args':_0x1d4006},_0x35cef4=>{});}function initializeProcessListeners(){const _0x466d94=_0x44c014;process['on'](_0x466d94(0x268),_0x18bab4=>{const _0x1464db=_0x466d94;switch(Object[_0x1464db(0x186)](_0x18bab4)[0x0]){case _0x1464db(0x157):_0x18bab4[_0x1464db(0x157)]!=undefined&&(settings[_0x1464db(0x157)]=_0x18bab4['timeshift'],updateTimeshift(settings[_0x1464db(0x157)]));break;case _0x1464db(0x2c3):_0x18bab4[_0x1464db(0x2c3)]!=undefined&&(settings[_0x1464db(0x2c3)]=_0x18bab4['onepagemode'],updateOnepagemode(settings[_0x1464db(0x2c3)]));break;case _0x1464db(0x30a):_0x18bab4[_0x1464db(0x30a)]!=undefined&&(settings['marketcapApi']=_0x18bab4[_0x1464db(0x30a)],updateMarketcapApi(settings[_0x1464db(0x30a)]));break;case _0x1464db(0x19b):_0x18bab4[_0x1464db(0x19b)]!=undefined&&(bots=JSON[_0x1464db(0x31f)](_0x18bab4[_0x1464db(0x19b)]),proxyEmit('bots',bots));break;case'function':switch(_0x18bab4['function']){case _0x1464db(0x20f):initclient();break;case _0x1464db(0x1fa):toggleBotMode();break;case _0x1464db(0x301):emitHistory(_0x18bab4[_0x1464db(0x2ba)]);break;case _0x1464db(0x26f):deleteHistoryAlerts(_0x18bab4[_0x1464db(0x2ba)]);break;case _0x1464db(0x316):getPortfolio(_0x18bab4[_0x1464db(0x2ba)]);break;case _0x1464db(0x205):storeConfiguration(_0x18bab4['args']);break;case'storeHeadless':storeHeadless(_0x18bab4['args']);break;case'storeFiat':storeFiat(_0x18bab4[_0x1464db(0x2ba)]);break;case _0x1464db(0x1ae):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x1464db(0x2ce):placeOrder(_0x18bab4['args']);break;case _0x1464db(0x28d):cancelLoading();break;case _0x1464db(0x1c6):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x2517b1=![]){const _0x40c95d=_0x44c014;logger[_0x40c95d(0x321)]('Reset\x20|\x20'+(_0x2517b1?_0x40c95d(0x20a):_0x40c95d(0x297))+_0x40c95d(0x1b0)+config[_0x40c95d(0x191)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config['apiKey']!=''&&config[_0x40c95d(0x288)]!=_0x40c95d(0x209)){loadingProgress=0x0;if(_0x2517b1){await initExchange();const _0x2bc17d=await testAPI();if(!_0x2bc17d)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x40c95d(0x214),emittedConfiguration()),initialPerformanceStored=![];}const _0x22b014=await getCoins();[currentCoins,currentCoinsAll]=_0x22b014,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x40c95d(0x321)](_0x40c95d(0x1db)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x40c95d(0x2bb)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x499595=![]){const _0x3fa7b3=_0x44c014;logger['debug']('Resuming\x20('+(_0x499595?'quick':_0x3fa7b3(0x2a7))+')\x20|\x20exchange:\x20'+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x499595){getBalances();return;}coinsLoaded=![];if(config[_0x3fa7b3(0x288)]!=''&&config[_0x3fa7b3(0x288)]!=_0x3fa7b3(0x209)){loadingProgress=0x1;const _0x43ce5a=await getCoins();[currentCoins,currentCoinsAll]=_0x43ce5a,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x3fa7b3(0x321)](_0x3fa7b3(0x1db)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3fa7b3(0x2bb)]==0x0&&allOpenOrders[_0x3fa7b3(0x2bb)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x1ceac1){const _0x57589c=_0x44c014;let _0x4e906d=![];if(_0x1ceac1)_0x4e906d=!![];const _0xffee16=_0x4e906d?_0x1ceac1:currentCoins,_0x1b425a=_0xffee16['map'](_0x34da74=>_0x34da74[_0x57589c(0x1d3)]);if(!config['marketcapApi']||!_0x4e906d&&!config[_0x57589c(0x293)]||_0x1b425a['length']==0x0)return;let _0x136cc2=null;try{_0x136cc2=await axios['get'](_0x57589c(0x1bf),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x57589c(0x30a)]},'params':{'symbol':_0x1b425a[_0x57589c(0x317)]()}});}catch(_0x2990a7){_0x136cc2=null,_0x2990a7[_0x57589c(0x317)]()[_0x57589c(0x1e3)](_0x57589c(0x25e))?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x57589c(0x214),emittedConfiguration()),logHistory(_0x57589c(0x25c),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x57589c(0x25c),_0x57589c(0x27e)+schedulerInterval/(0x3c*0x3e8)+_0x57589c(0x1d7)),logger['debug'](_0x57589c(0x2bd),_0x2990a7[_0x57589c(0x317)]()+'\x20-\x20'+_0x2990a7[_0x57589c(0x2ec)]));}let _0x2a6968=!![];if(_0x136cc2){let _0x30a35a=0x0;const _0x3a54e2=_0x136cc2[_0x57589c(0x2c1)];_0x1b425a['forEach'](_0x5c5ccf=>{const _0x436004=_0x57589c;if(_0x3a54e2['data'][_0x5c5ccf][0x0]&&_0x3a54e2['data'][_0x5c5ccf][0x0][_0x436004(0x1e7)][_0x436004(0x194)]['market_cap'])_0x30a35a+=_0x3a54e2[_0x436004(0x2c1)][_0x5c5ccf][0x0]['quote'][_0x436004(0x194)][_0x436004(0x1c9)];else{if(!['EUR','USD'][_0x436004(0x1e3)](_0x5c5ccf)){if(_0x4e906d)logHistory(_0x436004(0x25c),_0x436004(0x156)+_0x5c5ccf+_0x436004(0x318));else{const _0x1ccc47=config[_0x436004(0x1ed)][_0x436004(0x2e6)](_0x5d86fd=>_0x5d86fd[_0x436004(0x1d3)]==_0x5c5ccf);_0x1ccc47&&!_0x1ccc47[_0x436004(0x235)]&&_0x1ccc47[_0x436004(0x294)]==-0x1&&(_0x2a6968=![],logHistory(_0x436004(0x25c),_0x436004(0x1f7)),logger['debug'](_0x436004(0x156)+_0x5c5ccf));}}}});if(!_0x2a6968)return;_0x1b425a[_0x57589c(0x211)](_0x288b72=>{const _0xe5d8cb=_0x57589c,_0x41613a=_0x3a54e2['data'][_0x288b72][0x0]?_0x3a54e2['data'][_0x288b72][0x0][_0xe5d8cb(0x1e7)]['USD'][_0xe5d8cb(0x1c9)]:0x0;if(_0x4e906d){const _0x578f3b=_0x1ceac1[_0xe5d8cb(0x2e6)](_0x5c0188=>_0x5c0188[_0xe5d8cb(0x1d3)]==_0x288b72);_0x578f3b&&(_0x578f3b[_0xe5d8cb(0x22d)]=_0x41613a);}else{const _0x43a578=currentCoins[_0xe5d8cb(0x2e6)](_0x5c8d69=>_0x5c8d69[_0xe5d8cb(0x1d3)]==_0x288b72);_0x43a578&&(_0x43a578[_0xe5d8cb(0x22d)]=_0x41613a);const _0x95e348=currentCoinsAll[_0xe5d8cb(0x2e6)](_0x737753=>_0x737753['coin']==_0x288b72);_0x95e348&&(_0x95e348[_0xe5d8cb(0x22d)]=_0x41613a);}}),!_0x4e906d&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x4d28a9=_0x44c014,_0x5c492d=0x2;let _0x559673=0x0,_0x3945f6=0x0,_0x524728=0x0,_0x8182bb=0x0,_0x84f022=0x0;config['portfolio'][_0x4d28a9(0x211)](_0x26db0c=>{const _0x5355de=_0x4d28a9;if(!_0x26db0c[_0x5355de(0x235)]){_0x524728++,_0x559673+=_0x26db0c[_0x5355de(0x294)];if(_0x26db0c[_0x5355de(0x294)]===-0x1){_0x559673++;const _0x220f2e=currentCoinsAll[_0x5355de(0x2e6)](_0xbe99f1=>_0xbe99f1[_0x5355de(0x1d3)]==_0x26db0c[_0x5355de(0x1d3)]);_0x220f2e&&(_0x8182bb+=_0x220f2e[_0x5355de(0x22d)],_0x84f022+=Math[_0x5355de(0x1ef)](_0x220f2e[_0x5355de(0x22d)]));}if(_0x26db0c['slider']!==-0x1)_0x3945f6++;}});let _0xb5555d;const _0x316cc8=0x64-_0x559673,_0x4e4527=_0x524728-_0x3945f6;_0xb5555d=_0x4e4527===0x0?_0x559673:Math[_0x4d28a9(0x2c9)](0x64,_0x559673),config[_0x4d28a9(0x1ed)][_0x4d28a9(0x211)](_0x27f2e7=>{const _0x94a95b=_0x4d28a9,_0x15fb96=currentCoinsAll[_0x94a95b(0x2e6)](_0x5b9e49=>_0x5b9e49['coin']==_0x27f2e7['coin']);_0x15fb96&&(_0x27f2e7[_0x94a95b(0x22d)]=_0x15fb96['marketcap']);if(!_0x27f2e7[_0x94a95b(0x235)]){if(_0xb5555d<=0x64){if(_0x27f2e7[_0x94a95b(0x294)]===-0x1){if(_0x8182bb!==0x0&&config['marketcapEnabled']){if(_0x15fb96){if(config[_0x94a95b(0x293)]==_0x94a95b(0x22d))_0x27f2e7[_0x94a95b(0x1c4)]=(_0x316cc8/(_0x8182bb/_0x15fb96['marketcap']))[_0x94a95b(0x296)](_0x5c492d);else config[_0x94a95b(0x293)]==_0x94a95b(0x25b)&&(_0x27f2e7[_0x94a95b(0x1c4)]=(_0x316cc8/(_0x84f022/Math['sqrt'](_0x15fb96[_0x94a95b(0x22d)])))[_0x94a95b(0x296)](_0x5c492d));}}}}}}),updateConfig();}function updateConfig(){const _0x592630=_0x44c014;let _0x205051=dbConfig['get'](_0x592630(0x267))[_0x592630(0x2e6)]({'botID':botID})[_0x592630(0x20d)]();_0x205051&&dbConfig[_0x592630(0x2e8)]('bot')['find']({'botID':botID})[_0x592630(0x30c)](config)[_0x592630(0x251)]();}function logMemory(){const _0x51ee08=_0x44c014;if(environment!='staging')return;const _0x109c4d=process['memoryUsage']()['heapUsed']/0x400/0x400;logger['debug'](_0x51ee08(0x303)+process['pid']+_0x51ee08(0x2b2)+formatResult(_0x109c4d,0x1)+_0x51ee08(0x1cc));}async function startScheduler(){const _0x5d3a57=_0x44c014,_0x33bdf2=shiftedTime()[_0x5d3a57(0x2a0)]();getMarketCap(),loadSymbols(),_0x33bdf2==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x11e28c=![]){const _0x5911ea=_0x44c014;logger[_0x5911ea(0x321)](_0x5911ea(0x1b5));if(!_0x11e28c)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x5911ea(0x227)]({'stop':_0x5911ea(0x248)},_0x1d39d3=>{});}async function initExchange(_0x38a586=config[_0x44c014(0x191)],_0x47eb65=config[_0x44c014(0x288)],_0x4bae2e=config['apiSecret'],_0x2068e1=config['apiPassword'],_0x565618=config['sandbox']){const _0x410c42=_0x44c014;if(exchange){logger[_0x410c42(0x321)]('Initializing\x20exchange:\x20already\x20done');return;}logger[_0x410c42(0x321)](_0x410c42(0x228));!supportedExchanges()[_0x410c42(0x1e3)](_0x38a586)&&(logHistory(_0x410c42(0x25c),_0x410c42(0x1b9)+_0x38a586+'\x20exchange'),killBot());const _0x3b6444=ccxt['pro'][_0x38a586[_0x410c42(0x278)]()];exchange=new _0x3b6444({'apiKey':_0x47eb65,'secret':_0x4bae2e,'options':{'defaultType':_0x410c42(0x1c0)}});if(_0x2068e1)exchange['password']=_0x2068e1;if(exchange['has'][_0x410c42(0x224)])exchange[_0x410c42(0x28f)](_0x565618);}function updateExchange(_0x8724e6,_0x322fa4,_0x1ff5be=null){const _0x46ed17=_0x44c014;exchange[_0x46ed17(0x288)]=_0x8724e6,exchange[_0x46ed17(0x2cd)]=_0x322fa4,exchange[_0x46ed17(0x30f)]=_0x1ff5be,logger['debug'](_0x46ed17(0x182));}function setStableCoins(){const _0x4687e8=_0x44c014;let _0x31d0ce=config['basecoin']==_0x4687e8(0x2f5)?'ETH':config[_0x4687e8(0x252)]=='PAXG'?_0x4687e8(0x2ef):_0x4687e8(0x1da),_0x4b6bdf=allSymbols['includes'](_0x31d0ce+_0x4687e8(0x2e0))?'USD':allSymbols[_0x4687e8(0x1e3)](_0x31d0ce+_0x4687e8(0x249))?_0x4687e8(0x1ea):'EUR',_0x4a86cf=allSymbols[_0x4687e8(0x1e3)](_0x31d0ce+_0x4687e8(0x2ff))?'EUR':_0x4b6bdf;enableFiatToggle=!![],_0x4b6bdf==_0x4687e8(0x260)&&(enableFiatToggle=![],storeFiat(_0x4687e8(0x260))),_0x4a86cf!=_0x4687e8(0x260)&&(enableFiatToggle=![],storeFiat(_0x4687e8(0x194))),stablecoins={'eur':{'coin':''+_0x31d0ce+_0x4a86cf,'symbol':_0x31d0ce+'/'+_0x4a86cf},'usd':{'coin':''+_0x31d0ce+_0x4b6bdf,'symbol':_0x31d0ce+'/'+_0x4b6bdf}};}async function initwsCcxt(){const _0xcb574f=_0x44c014;initCycle++;const _0x28a58d=initCycle;let _0x5a799e=[];config['portfolio'][_0xcb574f(0x211)](_0x21fe3b=>{const _0x38ac32=_0xcb574f;if(!_0x21fe3b[_0x38ac32(0x235)]&&_0x21fe3b['coin']!=config[_0x38ac32(0x252)])_0x5a799e['push'](_0x21fe3b['symbol']);});if(!_0x5a799e[_0xcb574f(0x1e3)](stablecoins['eur'][_0xcb574f(0x17b)]))_0x5a799e[_0xcb574f(0x27c)](stablecoins['eur'][_0xcb574f(0x17b)]);if(!_0x5a799e[_0xcb574f(0x1e3)](stablecoins[_0xcb574f(0x2ee)][_0xcb574f(0x17b)]))_0x5a799e['push'](stablecoins[_0xcb574f(0x2ee)][_0xcb574f(0x17b)]);loadCoins(_0x5a799e),_0x5a799e=validateSymbols(_0x5a799e);const _0x1846d0=async _0x20efe4=>{const _0x3a8c91=_0xcb574f;let _0x5cc8b0;try{const _0x11c2cf=await getTickers(_0x20efe4);Object[_0x3a8c91(0x1b8)](_0x11c2cf)[_0x3a8c91(0x211)](_0x2a6ff5=>{const _0x22373b=_0x3a8c91;_0x5cc8b0=_0x2a6ff5[0x1][_0x22373b(0x17b)],gTicker[noslash(_0x5cc8b0)]=_0x2a6ff5[0x1]['last'],gChange[_0x5cc8b0]=_0x2a6ff5[0x1][_0x22373b(0x165)];});}catch(_0x5e9ffd){await handleError(_0x5e9ffd,_0x3a8c91(0x258),_0x5cc8b0);}},_0x5b23a7=async _0x3ad334=>{const _0x436761=_0xcb574f;while(initCycle==_0x28a58d){if(!botPaused)try{const _0x33d3ab=await exchange[_0x436761(0x298)](_0x3ad334);gTicker[noslash(_0x33d3ab[0x0][_0x436761(0x17b)])]=_0x33d3ab[0x0]['price'];}catch(_0x28b229){if(!exchangeStopped)await handleError(_0x28b229,'watchTrades()',_0x3ad334);}else await sleep(0x64);}},_0x19f4d7=async _0x18ee67=>{const _0x401b19=_0xcb574f;while(initCycle==_0x28a58d){if(!botPaused)try{const _0x4f7b53=await exchange[_0x401b19(0x210)](_0x18ee67),_0x4b246d=_0x4f7b53[_0x401b19(0x1d6)]();gTicker[noslash(_0x4b246d[_0x401b19(0x17b)])]=_0x4b246d[_0x401b19(0x225)];}catch(_0x197e8a){if(!exchangeStopped)await handleError(_0x197e8a,_0x401b19(0x264),_0x18ee67[_0x401b19(0x317)]());}else await sleep(0x64);}},_0x3ad9c0=async _0x26b572=>{const _0x4fc3b3=_0xcb574f;while(initCycle==_0x28a58d){if(!botPaused){let _0x167eac;try{await sleep(0x3c*0x3e8);const _0x150c65=await getTickers(_0x26b572);Object[_0x4fc3b3(0x1b8)](_0x150c65)[_0x4fc3b3(0x211)](_0x439f1f=>{const _0x5b9329=_0x4fc3b3;_0x167eac=_0x439f1f[0x1][_0x5b9329(0x17b)],gChange[_0x167eac]=_0x439f1f[0x1][_0x5b9329(0x165)];});}catch(_0x429ca3){if(!exchangeStopped)await handleError(_0x429ca3,_0x4fc3b3(0x221),_0x167eac);}}else await sleep(0x64);}},_0x21d858=async _0x3a426d=>{const _0x9a86fc=_0xcb574f;while(initCycle==_0x28a58d){if(!botPaused)try{const _0x37c6a5=await exchange[_0x9a86fc(0x262)](_0x3a426d);initCycle==_0x28a58d&&_0x37c6a5['forEach'](_0x5e2eb4=>{updateNumberCoinsCcxt(_0x5e2eb4);});}catch(_0x24722a){if(!exchangeStopped)await handleError(_0x24722a,_0x9a86fc(0x234));}else await sleep(0x64);}};_0x1846d0(_0x5a799e),_0x3ad9c0(_0x5a799e),exchange[_0xcb574f(0x223)][_0xcb574f(0x210)]&&!(config['exchange']==_0xcb574f(0x1a0)&&_0x5a799e['length']>0xa)?_0x19f4d7(_0x5a799e):_0x5a799e[_0xcb574f(0x211)](_0x9f6992=>{_0x5b23a7(_0x9f6992);}),_0x5a799e[_0xcb574f(0x211)](_0x2535d4=>{_0x21d858(_0x2535d4);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0xb79f42){const _0x26ab99=_0x44c014;let _0x27dad8={};try{if(config[_0x26ab99(0x191)]!=_0x26ab99(0x2b7))_0x27dad8=await exchange[_0x26ab99(0x25a)](_0xb79f42);else for(const _0xa9e849 of _0xb79f42){const _0x3094ba=await exchange[_0x26ab99(0x171)](_0xa9e849);_0x27dad8[_0xa9e849]=_0x3094ba;}return _0x27dad8;}catch(_0x4f7824){throw _0x4f7824;}}function setBlockTransactionDetection(_0x1263d3){const _0x3db1f5=_0x44c014;blockTransactionDetection=_0x1263d3,logger[_0x3db1f5(0x321)](_0x3db1f5(0x2c6)+blockTransactionDetection);}async function detectLiquidityChange(_0x5bb509=0x0){const _0x5fa2e=_0x44c014;transactionDetectionOngoing=!![];try{const _0x418289=await getCoins(_0x5bb509),[_0x1a72ba,_0x1791b9]=_0x418289;let _0x4a71f=[];currentCoins['forEach'](_0x4ec02c=>{const _0x3b3355=_0x211c,_0x38813a=_0x1a72ba[_0x3b3355(0x2e6)](_0x4dc81d=>_0x4dc81d[_0x3b3355(0x1d3)]==_0x4ec02c['coin']);if(_0x38813a){if(_0x4ec02c[_0x3b3355(0x2c4)]!=_0x38813a['number']){let _0x395329;if(_0x4ec02c[_0x3b3355(0x1d3)]!=config[_0x3b3355(0x252)]){const _0x277b58=gTicker[noslash(_0x4ec02c['symbol'])];_0x395329=_0x4ec02c[_0x3b3355(0x27f)]?0x1/_0x277b58:_0x277b58;}else _0x395329=0x1;_0x4a71f['push']({'coin':_0x4ec02c[_0x3b3355(0x1d3)],'symbol':_0x4ec02c[_0x3b3355(0x17b)],'price':_0x395329,'number':Number(formatResult(_0x38813a[_0x3b3355(0x2c4)]-_0x4ec02c[_0x3b3355(0x2c4)],0x8)),'basecoinvalue':_0x395329*(_0x38813a[_0x3b3355(0x2c4)]-_0x4ec02c[_0x3b3355(0x2c4)])});}}});if(_0x4a71f['length']>0x0&&!blockTransactionDetection){for(const _0x8faa23 of _0x4a71f){if(config[_0x5fa2e(0x1c3)]){logger[_0x5fa2e(0x321)](_0x5fa2e(0x2d6)+_0x8faa23['basecoinvalue']+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x5fa2e(0x2cc)]);if(lastFees[_0x5fa2e(0x2cc)]==0x0||Math[_0x5fa2e(0x17d)](_0x8faa23[_0x5fa2e(0x30b)])>lastFees[_0x5fa2e(0x2cc)]*0x3){if(config[_0x5fa2e(0x1c3)]==_0x5fa2e(0x242)){delete _0x8faa23[_0x5fa2e(0x17b)],delete _0x8faa23[_0x5fa2e(0x30b)];let _0x589246=[],_0x5a7601=[...config[_0x5fa2e(0x231)]]||[],_0x7f585b=config['liquidity'];_0x5a7601[_0x5fa2e(0x29b)]((_0x1f4272,_0x5184e0)=>_0x1f4272[_0x5fa2e(0x2a1)]>_0x5184e0[_0x5fa2e(0x2a1)]?-0x1:_0x5184e0[_0x5fa2e(0x2a1)]>_0x1f4272[_0x5fa2e(0x2a1)]?0x1:0x0);const _0x3cd03e=getDate();if(_0x5a7601[0x0]){const _0x5e9d4f=fns['parse'](_0x5a7601[0x0][_0x5fa2e(0x2a1)],_0x5fa2e(0x21c),new Date()),_0x2360f6=fns[_0x5fa2e(0x31f)](_0x3cd03e,_0x5fa2e(0x21c),new Date());if(fns[_0x5fa2e(0x18d)](_0x5e9d4f,_0x2360f6)){_0x589246=_0x5a7601[0x0][_0x5fa2e(0x2d2)];const _0x3d445e=_0x589246[_0x5fa2e(0x2e6)](_0x251f54=>_0x251f54[_0x5fa2e(0x1d3)]==_0x8faa23['coin']);_0x3d445e?(_0x3d445e[_0x5fa2e(0x2c4)]+=_0x8faa23[_0x5fa2e(0x2c4)],_0x3d445e['number']==0x0&&(_0x589246=_0x589246[_0x5fa2e(0x1a1)](_0x33cab8=>{const _0x5e096d=_0x5fa2e;return _0x33cab8[_0x5e096d(0x1d3)]!=_0x8faa23['coin'];}))):_0x589246[_0x5fa2e(0x27c)](_0x8faa23);const _0x5b304a=_0x7f585b[_0x5fa2e(0x2e6)](_0x13c6c9=>_0x13c6c9[_0x5fa2e(0x2a1)]==_0x3cd03e);_0x5b304a[_0x5fa2e(0x2d2)]=_0x589246;}else _0x7f585b[_0x5fa2e(0x27c)]({'date':_0x3cd03e,'changes':[_0x8faa23]});}const _0xcb5222=_0x7f585b['find'](_0x108ccc=>_0x108ccc['date']==_0x3cd03e);if(_0xcb5222){let _0x1fea1f=!![];_0xcb5222[_0x5fa2e(0x2d2)]['forEach'](_0x4aa6d4=>{if(_0x4aa6d4['number']!=0x0)_0x1fea1f=![];}),_0x1fea1f&&(_0x7f585b=_0x7f585b[_0x5fa2e(0x1a1)](_0x259837=>{return _0x259837['date']!=_0x3cd03e;}));}let _0x5247d8=dbConfig['get'](_0x5fa2e(0x267))['find']({'botID':botID})['value']();_0x5247d8&&(dbConfig[_0x5fa2e(0x2e8)]('bot')[_0x5fa2e(0x2e6)]({'botID':botID})['assign']({'liquidity':_0x7f585b})[_0x5fa2e(0x251)](),config['liquidity']=_0x7f585b);logHistory(_0x5fa2e(0x16d),_0x5fa2e(0x319)+Math[_0x5fa2e(0x17d)](_0x8faa23[_0x5fa2e(0x2c4)])+'\x20'+_0x8faa23['coin']+'\x20'+(_0x8faa23[_0x5fa2e(0x2c4)]>0x0?_0x5fa2e(0x188):'removed')+_0x5fa2e(0x1b7)),proxyEmit(_0x5fa2e(0x214),emittedConfiguration());const _0x261641=getNormalizedPerformance();emitPerformance(_0x261641),getStartingBalances(_0x261641),logger['debug'](_0x5fa2e(0x27b));}else config[_0x5fa2e(0x1c3)]==_0x5fa2e(0x30e)&&(config[_0x5fa2e(0x18f)]?(await storeHeadless({'headless':![]}),logHistory(_0x5fa2e(0x16d),_0x5fa2e(0x319)+Math[_0x5fa2e(0x17d)](_0x8faa23[_0x5fa2e(0x2c4)])+'\x20'+_0x8faa23['coin']+'\x20'+(_0x8faa23['number']>0x0?_0x5fa2e(0x188):_0x5fa2e(0x1bd))+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger['debug'](_0x5fa2e(0x319)+Math[_0x5fa2e(0x17d)](_0x8faa23[_0x5fa2e(0x2c4)])+'\x20'+_0x8faa23['coin']+'\x20'+(_0x8faa23[_0x5fa2e(0x2c4)]>0x0?_0x5fa2e(0x188):_0x5fa2e(0x1bd))+_0x5fa2e(0x273)));}else logger[_0x5fa2e(0x321)](_0x5fa2e(0x21e)+Math[_0x5fa2e(0x17d)](_0x8faa23[_0x5fa2e(0x2c4)])+'\x20'+_0x8faa23['coin']+'\x20'+(_0x8faa23[_0x5fa2e(0x2c4)]>0x0?_0x5fa2e(0x188):_0x5fa2e(0x1bd)));}else logger['debug'](_0x5fa2e(0x319)+Math[_0x5fa2e(0x17d)](_0x8faa23[_0x5fa2e(0x2c4)])+'\x20'+_0x8faa23[_0x5fa2e(0x1d3)]+'\x20'+(_0x8faa23['number']>0x0?'added':_0x5fa2e(0x1bd))+'\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x1a72ba,currentCoinsAll=_0x1791b9;}}catch(_0x53b5f6){if(!exchangeStopped)await handleError(_0x53b5f6,_0x5fa2e(0x261));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x3f4a14=_0x44c014;try{markets=await exchange['loadMarkets'](!![]),allSymbols=[],Object[_0x3f4a14(0x1b8)](markets)[_0x3f4a14(0x211)](_0x5bd56c=>{const _0xa4317e=_0x3f4a14;_0x5bd56c[0x1][_0xa4317e(0x280)]&&_0x5bd56c[0x1][_0xa4317e(0x1c0)]&&allSymbols[_0xa4317e(0x27c)](_0x5bd56c[0x0]);});}catch(_0x13feca){markets?logger['debug'](_0x3f4a14(0x313)+_0x13feca[_0x3f4a14(0x317)]()):(loading[_0x3f4a14(0x178)]=!![],_0x13feca['toString']()[_0x3f4a14(0x278)]()[_0x3f4a14(0x1e3)](_0x3f4a14(0x245))||_0x13feca[_0x3f4a14(0x317)]()[_0x3f4a14(0x278)]()[_0x3f4a14(0x1e3)](_0x3f4a14(0x195))?(logHistory(_0x3f4a14(0x25c),_0x3f4a14(0x266)),loading[_0x3f4a14(0x25c)]=_0x3f4a14(0x164)):handleErrorNoStop(_0x13feca,_0x3f4a14(0x2b9),!![]),logHistory(_0x3f4a14(0x25c),_0x3f4a14(0x2aa)),logHistory('error',_0x3f4a14(0x2d5)+loadCoinsRetryInterval/0xea60+_0x3f4a14(0x322)),logger[_0x3f4a14(0x321)](_0x3f4a14(0x2bd),_0x13feca),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x436058){let _0x473c73=[];return _0x436058['forEach'](_0x2fa728=>{const _0x5b39c4=_0x211c;!allSymbols['includes'](_0x2fa728)?(logHistory(_0x5b39c4(0x25c),_0x5b39c4(0x290)+_0x2fa728+_0x5b39c4(0x2ab)),loading[_0x5b39c4(0x152)]=!![],emitLoadingProgress()):_0x473c73['push'](_0x2fa728);}),_0x473c73;}async function initclient(){const _0x2129f3=_0x44c014;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x2129f3(0x196),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2129f3(0x1ba),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x8f52=getNormalizedPerformance();emitPerformance(_0x8f52),getStartingBalances(_0x8f52);}async function toggleBotMode(){const _0x2d6406=_0x44c014;let _0x439480=dbConfig[_0x2d6406(0x2e8)](_0x2d6406(0x267))[_0x2d6406(0x2e6)]({'botID':botID})[_0x2d6406(0x20d)]();if(_0x439480){const _0x1f7a53=!_0x439480['headless'];dbConfig[_0x2d6406(0x2e8)](_0x2d6406(0x267))[_0x2d6406(0x2e6)]({'botID':botID})['assign']({'headless':_0x1f7a53})[_0x2d6406(0x251)](),config[_0x2d6406(0x18f)]=_0x1f7a53,proxyEmit(_0x2d6406(0x214),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x58af89=_0x44c014;process[_0x58af89(0x227)]({'updatebotmanager':!![]},_0x4b2b50=>{}),logger[_0x58af89(0x321)]('Headless:\x20'+config[_0x58af89(0x18f)]);}async function loadCoins(_0x5d2eb2){const _0xad7ffe=_0x44c014;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x33a2e4,_0x11c41b=0x0,_0x3993e9=0x0;_0x5d2eb2[_0xad7ffe(0x211)](_0x1d8f52=>{const _0x535403=_0xad7ffe;loading[_0x535403(0x31d)]['push'](_0x1d8f52);}),loadingCanceled=![];let _0x469008=![];while(_0x33a2e4!=_0x5d2eb2[_0xad7ffe(0x2bb)]+maxLoadingProgress){_0x33a2e4=loadingProgress,_0x5d2eb2[_0xad7ffe(0x211)](_0x4621d7=>{const _0x477671=_0xad7ffe;if(gTicker[noslash(_0x4621d7)]){loading[_0x477671(0x31d)]=loading[_0x477671(0x31d)][_0x477671(0x1a1)](_0x20ef06=>_0x20ef06!=_0x4621d7);if(!watchedSymbols['includes'](_0x4621d7))watchedSymbols['push'](_0x4621d7);_0x33a2e4++;}}),loading[_0xad7ffe(0x1c7)]=Math[_0xad7ffe(0x31e)](_0x33a2e4/(_0x5d2eb2[_0xad7ffe(0x2bb)]+maxLoadingProgress)*0x64);loading[_0xad7ffe(0x1c7)]!=0x64&&(_0x3993e9>0x1e*0x5&&(loading[_0xad7ffe(0x152)]=!![],emitLoadingProgress()),_0x3993e9>0x78*0x5&&!_0x469008&&(_0x469008=!![],logHistory(_0xad7ffe(0x25c),_0xad7ffe(0x18b)+loading[_0xad7ffe(0x31d)][_0xad7ffe(0x1ca)](',\x20')+_0xad7ffe(0x16e)),logHistory(_0xad7ffe(0x25c),_0xad7ffe(0x2d5)+loadCoinsRetryInterval/0xea60+_0xad7ffe(0x322)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0xad7ffe(0x178)]=!![],emitLoadingProgress();break;}else _0x11c41b!=loading[_0xad7ffe(0x1c7)]&&(_0x11c41b=loading[_0xad7ffe(0x1c7)],emitLoadingProgress()),_0x3993e9++,await sleep(0xc8);}_0x33a2e4==_0x5d2eb2[_0xad7ffe(0x2bb)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0xad7ffe(0x227)]({'status':_0xad7ffe(0x282),'live':'running'},_0x2b4400=>{}),_0x469008&&logHistory(_0xad7ffe(0x16d),_0xad7ffe(0x324)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x3cc5c8=_0x44c014;proxyEmit(_0x3cc5c8(0x214),{...emittedConfiguration(),'configstate':_0x3cc5c8(0x203)});}function emitLoadingProgress(){const _0x14a4e0=_0x44c014;proxyEmit(_0x14a4e0(0x1e6),loading);}async function getFiat(){const _0x16f096=_0x44c014;let _0x5c6af0=gTicker[stablecoins['eur'][_0x16f096(0x1d3)]],_0xaf692b=gTicker[stablecoins[_0x16f096(0x2ee)][_0x16f096(0x1d3)]];return{'eur':Number(_0x5c6af0),'usd':Number(_0xaf692b)};}function capitalize(_0x543052){const _0x3caf0a=_0x44c014;return _0x543052[_0x3caf0a(0x181)](0x0,0x1)['toUpperCase']()+_0x543052[_0x3caf0a(0x181)](0x1);}function supportedExchanges(){const _0x5763aa=_0x44c014,_0x1b1a6e=['ws',_0x5763aa(0x25a),_0x5763aa(0x171),_0x5763aa(0x298),'watchOrders','cancelOrder',_0x5763aa(0x167),'fetchOpenOrders',_0x5763aa(0x25d)];let _0x104413=[],_0x31acf9=[],_0x51582d=ccxt['pro'][_0x5763aa(0x196)];_0x51582d[_0x5763aa(0x211)](_0x20ef67=>{const _0x128c0d=_0x5763aa;try{const _0x197449=new ccxt[(_0x128c0d(0x2bf))][_0x20ef67]();_0x31acf9[_0x128c0d(0x27c)](_0x197449);}catch(_0x1a7278){}}),_0x31acf9[_0x5763aa(0x211)](_0x148f6a=>{const _0x623c18=_0x5763aa;let _0x1ae598=0x0;_0x1b1a6e[_0x623c18(0x211)](_0x2615d9=>{const _0x479c86=_0x623c18;_0x2615d9 in _0x148f6a[_0x479c86(0x223)]&&_0x148f6a[_0x479c86(0x223)][_0x2615d9]&&_0x1ae598++;}),_0x1ae598==_0x1b1a6e[_0x623c18(0x2bb)]&&(!excludedExchanges[_0x623c18(0x1e3)](_0x148f6a['id'])&&_0x104413[_0x623c18(0x27c)](capitalize(_0x148f6a['id'])));});let _0x29af46=[];return _0x51582d[_0x5763aa(0x211)](_0x1d669b=>{const _0x2fc5cc=_0x5763aa;_0x1d669b=capitalize(_0x1d669b);if(!_0x104413[_0x2fc5cc(0x1e3)](_0x1d669b))_0x29af46[_0x2fc5cc(0x27c)](_0x1d669b);}),_0x104413;}function setStartDatePerformance(){const _0x29964c=_0x44c014;if(config&&config[_0x29964c(0x231)][0x0][_0x29964c(0x2d2)][_0x29964c(0x2bb)]!=0x0){const _0x578e71=config[_0x29964c(0x231)][0x0][_0x29964c(0x2d2)];dbPerformance['get'](_0x29964c(0x2c1))[_0x29964c(0x2e6)]({'date':config[_0x29964c(0x29a)]})[_0x29964c(0x30c)]({'coins':_0x578e71})[_0x29964c(0x251)]();}}function calculatePnL(_0x2db78d,_0x4554e5,_0xdfe751,_0x56a4f9,_0x112a55,_0x26464e){const _0x8cb150=_0x44c014;!_0x2db78d[_0x8cb150(0x1e3)]('/'+config[_0x8cb150(0x252)])&&(_0xdfe751=_0xdfe751==_0x8cb150(0x2cb)?_0x8cb150(0x2b5):'buy');!_0x26464e[_0x4554e5]&&(_0x26464e[_0x4554e5]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x31f83a=0x0,_0x512e8e,_0x185409;if(_0xdfe751==_0x8cb150(0x2cb))_0x185409=_0x26464e[_0x4554e5][_0x8cb150(0x2c4)]*_0x26464e[_0x4554e5][_0x8cb150(0x19e)]+_0x112a55*_0x56a4f9,_0x26464e[_0x4554e5][_0x8cb150(0x2c4)]+=_0x56a4f9,_0x26464e[_0x4554e5]['breakeven']=_0x26464e[_0x4554e5][_0x8cb150(0x2c4)]!=0x0?_0x185409/_0x26464e[_0x4554e5][_0x8cb150(0x2c4)]:0x0,_0x26464e[_0x4554e5][_0x8cb150(0x247)]++;else _0xdfe751==_0x8cb150(0x2b5)&&(_0x512e8e=Math[_0x8cb150(0x1b6)](_0x26464e[_0x4554e5][_0x8cb150(0x2c4)],_0x56a4f9),_0x31f83a=(_0x112a55-_0x26464e[_0x4554e5][_0x8cb150(0x19e)])*_0x512e8e,_0x185409=Math[_0x8cb150(0x2c9)](_0x26464e[_0x4554e5]['number']*_0x26464e[_0x4554e5][_0x8cb150(0x19e)]-_0x512e8e*_0x26464e[_0x4554e5][_0x8cb150(0x19e)],0x0),_0x26464e[_0x4554e5][_0x8cb150(0x2c4)]-=_0x512e8e,_0x26464e[_0x4554e5]['breakeven']=_0x26464e[_0x4554e5][_0x8cb150(0x2c4)]!=0x0?_0x185409/_0x26464e[_0x4554e5][_0x8cb150(0x2c4)]:0x0,_0x26464e[_0x4554e5]['realizedPnL']+=_0x31f83a,_0x26464e[_0x4554e5][_0x8cb150(0x1f4)]++);return _0x31f83a;}async function generatePnL(){const _0x26a03f=_0x44c014;pnlGenerationNeeded=![],logger['debug']('Generating\x20PnL\x20data');const _0x1b247e=dbLogs[_0x26a03f(0x2e8)](_0x26a03f(0x287))[_0x26a03f(0x20d)]();let _0x5544a2={},_0x43e315=0x0,_0x5b1db7=0x0,_0x205d57=config[_0x26a03f(0x29a)];const _0x2fd003=fns[_0x26a03f(0x31f)](_0x205d57,_0x26a03f(0x21c),new Date()),_0x24f292=new Date();let _0x33957e=0x0;for(let _0x38e67a=_0x2fd003;!fns[_0x26a03f(0x1d0)](_0x24f292,_0x38e67a);_0x38e67a=fns[_0x26a03f(0x1d5)](_0x38e67a,0x1)){const _0x4edb3d=fns[_0x26a03f(0x174)](_0x38e67a,_0x26a03f(0x21c));while(_0x43e315<_0x1b247e[_0x26a03f(0x2bb)]){const _0x403d4e=new Date(_0x1b247e[_0x43e315][_0x26a03f(0x179)]);if(fns[_0x26a03f(0x1d0)](_0x403d4e,_0x38e67a))_0x43e315++;else{if(_0x1b247e[_0x43e315][_0x26a03f(0x179)]['includes'](_0x4edb3d)){const _0x1a2cd6=_0x1b247e[_0x43e315];if(_0x1a2cd6['type']==='order'&&(_0x1a2cd6['event'][_0x26a03f(0x1e3)]('Order\x20filled')||_0x1a2cd6[_0x26a03f(0x2e4)][_0x26a03f(0x1e3)](_0x26a03f(0x274)))){const _0x1e0c23=_0x1a2cd6['event']['match'](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x1e0c23){const [,_0x539d0b,_0x597b67,_0x256100,_0x49961b]=_0x1e0c23,_0x2d938d=_0x539d0b[_0x26a03f(0x1e3)]('/'+config[_0x26a03f(0x252)])?_0x539d0b[_0x26a03f(0x19f)]('/')[0x0]:_0x539d0b[_0x26a03f(0x19f)]('/')[0x1],_0xf75fa6=calculatePnL(_0x539d0b,_0x2d938d,_0x597b67,parseFloat(_0x256100),parseFloat(_0x49961b),_0x5544a2);_0x5b1db7+=_0xf75fa6;}}_0x43e315++;}else break;}}dbPerformance[_0x26a03f(0x2e8)](_0x26a03f(0x2c1))[_0x26a03f(0x2e6)]({'date':_0x4edb3d})['assign']({'pnl':_0x5b1db7})[_0x26a03f(0x251)]();}dbCoinResults['set']('coins',_0x5544a2)[_0x26a03f(0x251)](),logger[_0x26a03f(0x321)](_0x26a03f(0x2f9));const _0x4ad819=getNormalizedPerformance();emitPerformance(_0x4ad819);}async function updatePnL(_0x53fcbb){const _0x210a9b=_0x44c014,{symbol:_0x3098c3,coin:_0x429fed,amount:_0xdf0e7c,price:_0x98c001,side:_0x198875,reverse:_0x48d404}=_0x53fcbb;let _0x333ab1=dbCoinResults[_0x210a9b(0x2e8)](_0x210a9b(0x23a))['value']();const _0x1d514d=calculatePnL(_0x3098c3,_0x429fed,_0x198875,_0xdf0e7c,_0x98c001,_0x333ab1);dbCoinResults[_0x210a9b(0x1fb)](_0x210a9b(0x23a),_0x333ab1)['write']();const _0x3df284=getTimeStamp()['split']('\x20')[0x0];let _0x18db53=dbPerformance[_0x210a9b(0x2e8)](_0x210a9b(0x2c1))['find']({'date':_0x3df284})['value']();_0x18db53?(_0x18db53[_0x210a9b(0x154)]+=_0x1d514d,dbPerformance[_0x210a9b(0x2e8)]('data')['find']({'date':_0x3df284})['assign'](_0x18db53)[_0x210a9b(0x251)]()):await storePerformance();const _0x193f4c=getNormalizedPerformance();emitPerformance(_0x193f4c);}async function validate24hChanges(){const _0x100113=_0x44c014;for(const _0x3e937d of currentCoins){if(_0x3e937d[_0x100113(0x1d3)]!=config[_0x100113(0x252)]){let _0x4257ab;_0x3e937d[_0x100113(0x27f)]?_0x4257ab=formatResult((0x1/(gChange[_0x3e937d[_0x100113(0x17b)]]/0x64+0x1)-0x1)*0x64,0x3):_0x4257ab=gChange[_0x3e937d['symbol']],_0x4257ab<config[_0x100113(0x16b)]&&(logHistory(_0x100113(0x25c),_0x3e937d['coin']+_0x100113(0x2f7)+_0x4257ab+'%'),logHistory(_0x100113(0x25c),_0x100113(0x2a3)),logHistory(_0x100113(0x25c),_0x100113(0x1be)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x139231,_0x2daeb5){if(!_0x139231)return!![];const _0x5da20d=_0x2daeb5['split']('.'),_0x1e3304=_0x139231['split']('.');for(var _0x1faeaf=0x0;_0x1faeaf<_0x1e3304['length'];_0x1faeaf++){const _0x2ab8b8=~~_0x1e3304[_0x1faeaf],_0x36e803=~~_0x5da20d[_0x1faeaf];if(_0x2ab8b8<_0x36e803)return!![];if(_0x2ab8b8>_0x36e803)return![];}return![];}async function oneTimeMigration(){const _0x28bd06=_0x44c014;let _0x1fbd05=dbLogs[_0x28bd06(0x2e8)](_0x28bd06(0x16c))[_0x28bd06(0x20d)]();if(isOlderVersion(_0x1fbd05,'2.3.5')){let _0x158ca4=[];const _0x5e966a=dbLogs['get']('logs')['value']();_0x5e966a[_0x28bd06(0x211)](_0x3be0a2=>{const _0x58867c=_0x28bd06;_0x158ca4[_0x58867c(0x27c)]({'time':_0x3be0a2[_0x58867c(0x179)],'type':_0x3be0a2[_0x58867c(0x22b)],'event':_0x3be0a2[_0x58867c(0x2e4)]});}),dbLogs['get'](_0x28bd06(0x287))[_0x28bd06(0x30c)](_0x158ca4)[_0x28bd06(0x251)]();}let _0x429c22=dbConfig[_0x28bd06(0x2e8)]('version')[_0x28bd06(0x20d)]();if(isOlderVersion(_0x429c22,_0x28bd06(0x1a6))){let _0xe2004d=dbConfig[_0x28bd06(0x2e8)](_0x28bd06(0x267))[_0x28bd06(0x2e6)]({'botID':botID})[_0x28bd06(0x20d)]();if(_0xe2004d){let _0x3aa6ca=[];_0xe2004d['portfolio']['forEach'](_0x4448b6=>{const _0x483eec=_0x28bd06;_0x3aa6ca['push']({'coin':_0x4448b6[_0x483eec(0x1d3)],'number':_0x4448b6[_0x483eec(0x189)],'price':_0x4448b6[_0x483eec(0x25f)]}),delete _0x4448b6['startnumber'],delete _0x4448b6[_0x483eec(0x25f)];});if(_0x3aa6ca[_0x28bd06(0x2bb)]!==0x0)fs[_0x28bd06(0x1b2)](configbackuppath+(_0x28bd06(0x1bc)+botID+_0x28bd06(0x2dc)),JSON[_0x28bd06(0x28c)](_0x3aa6ca,null,0x4),function(_0x336ae5){if(_0x336ae5){}});const _0x18ab65=(_0x55c1fd,_0x1340fd)=>{let _0xbc88df=[];_0x1340fd['forEach'](_0x1e6a85=>{const _0x293bdd=_0x211c,_0x2c54ff=_0x55c1fd[_0x293bdd(0x2e6)](_0x4b99d5=>_0x4b99d5[_0x293bdd(0x1d3)]==_0x1e6a85[_0x293bdd(0x1d3)]);if(!_0x2c54ff)_0xbc88df['push'](_0x1e6a85);});let _0x1aefa8=[];return _0x55c1fd['forEach'](_0x438dc1=>{const _0x2604f7=_0x211c,_0x303452=_0x1340fd[_0x2604f7(0x2e6)](_0x263601=>_0x263601[_0x2604f7(0x1d3)]==_0x438dc1[_0x2604f7(0x1d3)]);if(!_0x303452||_0x303452[_0x2604f7(0x2c4)]==0x0&&_0x438dc1[_0x2604f7(0x2c4)]!=0x0)_0x1aefa8['push'](_0x438dc1);}),{'missingDay1':_0xbc88df,'notInDay2':_0x1aefa8};},_0x523879=dbPerformance[_0x28bd06(0x2e8)](_0x28bd06(0x2c1))[_0x28bd06(0x218)]()[_0x28bd06(0x20d)]();if(_0x523879[_0x28bd06(0x2bb)]>0x1){const {missingDay1:_0x480ae9,notInDay2:_0x5c3d18}=_0x18ab65(_0x3aa6ca,_0x523879[0x1][_0x28bd06(0x23a)]);_0x3aa6ca=[..._0x3aa6ca,..._0x480ae9],_0x5c3d18[_0x28bd06(0x211)](_0xf20761=>{const _0x4523b8=_0x28bd06;let _0x20caf1=_0x3aa6ca[_0x4523b8(0x2c2)](_0x2fab4f=>_0x2fab4f['coin']==_0xf20761[_0x4523b8(0x1d3)]);_0x20caf1!=-0x1&&_0x3aa6ca[_0x4523b8(0x26e)](_0x20caf1,0x1);});}_0x3aa6ca[_0x28bd06(0x29b)]((_0x17ef72,_0x381e69)=>_0x17ef72[_0x28bd06(0x1d3)]>_0x381e69[_0x28bd06(0x1d3)]?0x1:_0x381e69[_0x28bd06(0x1d3)]>_0x17ef72[_0x28bd06(0x1d3)]?-0x1:0x0);let _0x17d74d=[{'date':_0xe2004d[_0x28bd06(0x29a)],'changes':_0x3aa6ca}];_0x523879['length']>0x2&&_0x523879[_0x28bd06(0x211)]((_0x471ebe,_0x4d71fe)=>{const _0x2b5264=_0x28bd06;if(_0x4d71fe>0x0&&_0x4d71fe<_0x523879[_0x2b5264(0x2bb)]-0x1){const {missingDay1:_0x111214,notInDay2:_0x5b46ad}=_0x18ab65(_0x523879[_0x4d71fe][_0x2b5264(0x23a)],_0x523879[_0x4d71fe+0x1][_0x2b5264(0x23a)]);_0x3aa6ca=[],(_0x111214['length']!=0x0||_0x5b46ad[_0x2b5264(0x2bb)]!=0x0)&&(_0x111214[_0x2b5264(0x2bb)]!=0x0&&_0x3aa6ca[_0x2b5264(0x27c)](..._0x111214),_0x5b46ad[_0x2b5264(0x2bb)]!=0x0&&(_0x5b46ad[_0x2b5264(0x211)](_0x289b08=>{const _0x417519=_0x2b5264;_0x289b08[_0x417519(0x2c4)]=-_0x289b08[_0x417519(0x2c4)];}),_0x3aa6ca[_0x2b5264(0x27c)](..._0x5b46ad)),_0x3aa6ca[_0x2b5264(0x29b)]((_0x45f9fa,_0x458f0c)=>_0x45f9fa[_0x2b5264(0x1d3)]>_0x458f0c[_0x2b5264(0x1d3)]?0x1:_0x458f0c['coin']>_0x45f9fa[_0x2b5264(0x1d3)]?-0x1:0x0),_0x17d74d[_0x2b5264(0x27c)]({'date':_0x523879[_0x4d71fe+0x1][_0x2b5264(0x2a1)],'changes':_0x3aa6ca}));}}),dbConfig[_0x28bd06(0x2e8)](_0x28bd06(0x267))[_0x28bd06(0x2e6)]({'botID':botID})[_0x28bd06(0x30c)]({..._0xe2004d,'liquidity':_0x17d74d})[_0x28bd06(0x251)]();}}if(isOlderVersion(_0x429c22,_0x28bd06(0x307))){let _0x3934ea=dbConfig[_0x28bd06(0x2e8)](_0x28bd06(0x267))[_0x28bd06(0x2e6)]({'botID':botID})[_0x28bd06(0x20d)]();if(_0x3934ea){const _0x10b3a7=_0x3934ea[_0x28bd06(0x191)],_0xf1aabe=_0x10b3a7?capitalize(_0x10b3a7):_0x28bd06(0x200);dbConfig[_0x28bd06(0x2e8)](_0x28bd06(0x267))[_0x28bd06(0x2e6)]({'botID':botID})[_0x28bd06(0x30c)]({'exchange':_0xf1aabe})[_0x28bd06(0x251)]();}}if(isOlderVersion(_0x429c22,_0x28bd06(0x283))){let _0x5bd7c9=dbConfig['get'](_0x28bd06(0x267))[_0x28bd06(0x2e6)]({'botID':botID})[_0x28bd06(0x20d)]();if(_0x5bd7c9){const _0xdce9f8=_0x5bd7c9[_0x28bd06(0x293)],_0x578a8f=_0xdce9f8?_0x28bd06(0x22d):![];dbConfig[_0x28bd06(0x2e8)](_0x28bd06(0x267))['find']({'botID':botID})['assign']({'marketcapEnabled':_0x578a8f})[_0x28bd06(0x251)]();}}if(isOlderVersion(_0x429c22,'2.6.23')){let _0x2856f=dbConfig[_0x28bd06(0x2e8)](_0x28bd06(0x267))[_0x28bd06(0x2e6)]({'botID':botID})['value']();if(_0x2856f){const _0x3ff985=_0x2856f[_0x28bd06(0x1c3)],_0x5ed4b9=_0x3ff985?_0x28bd06(0x242):![];dbConfig[_0x28bd06(0x2e8)]('bot')['find']({'botID':botID})[_0x28bd06(0x30c)]({'autoliquidity':_0x5ed4b9})[_0x28bd06(0x251)]();}}let _0x54da2e=dbPerformance[_0x28bd06(0x2e8)]('version')[_0x28bd06(0x20d)]();isOlderVersion(_0x54da2e,_0x28bd06(0x1a6))&&setStartDatePerformance();let _0x513af1=dbCoinResults[_0x28bd06(0x2e8)](_0x28bd06(0x16c))['value']();if(isOlderVersion(_0x513af1,_0x28bd06(0x233))){let _0x47160d=dbCoinResults[_0x28bd06(0x2e8)](_0x28bd06(0x23a))['value']();if(_0x47160d['length']!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x55c2c7=_0x44c014;dbConfig[_0x55c2c7(0x1fb)](_0x55c2c7(0x16c),serverversion)[_0x55c2c7(0x251)](),dbPerformance['set'](_0x55c2c7(0x16c),serverversion)[_0x55c2c7(0x251)](),dbLogs['set'](_0x55c2c7(0x16c),serverversion)['write'](),dbCoinResults['set']('version',serverversion)[_0x55c2c7(0x251)]();}function getConfiguration(_0x9e2d00){const _0xd03ff4=_0x44c014;let _0x4b6cf0=dbConfig[_0xd03ff4(0x2e8)](_0xd03ff4(0x267))[_0xd03ff4(0x2e6)]({'botID':_0x9e2d00})[_0xd03ff4(0x20d)]();if(_0x4b6cf0){let _0xac42ba=![];typeof _0x4b6cf0['threshold']=='string'&&(_0x4b6cf0={..._0x4b6cf0,'threshold':Number(_0x4b6cf0[_0xd03ff4(0x254)])},_0xac42ba=!![]),_0x4b6cf0[_0xd03ff4(0x16b)]==undefined&&(_0x4b6cf0={..._0x4b6cf0,'change24h':-0x14},_0xac42ba=!![]),_0x4b6cf0[_0xd03ff4(0x27d)]==undefined&&(_0x4b6cf0={..._0x4b6cf0,'fiat':'USD'},_0xac42ba=!![]),_0x4b6cf0[_0xd03ff4(0x2c3)]==undefined&&(_0x4b6cf0={..._0x4b6cf0,'onepagemode':settings['onepagemode']},_0xac42ba=!![]),_0x4b6cf0[_0xd03ff4(0x2fd)]==undefined&&(_0x4b6cf0={..._0x4b6cf0,'colorscheme':_0xd03ff4(0x28e)},_0xac42ba=!![]),_0x4b6cf0[_0xd03ff4(0x1c3)]==undefined&&(_0x4b6cf0={..._0x4b6cf0,'autoliquidity':_0xd03ff4(0x242)},_0xac42ba=!![]),_0x4b6cf0['marketcapApi']==undefined&&(_0x4b6cf0={..._0x4b6cf0,'marketcapApi':settings[_0xd03ff4(0x30a)]?!![]:![]},_0xac42ba=!![]),_0x4b6cf0['marketcapEnabled']==undefined&&(_0x4b6cf0={..._0x4b6cf0,'marketcapEnabled':![]},_0xac42ba=!![]),_0x4b6cf0['sandbox']==undefined&&(_0x4b6cf0={..._0x4b6cf0,'sandbox':![]},_0xac42ba=!![]),_0xac42ba&&(_0x4b6cf0={'botID':_0x4b6cf0['botID'],'exchange':_0x4b6cf0['exchange'],'apiKey':_0x4b6cf0[_0xd03ff4(0x288)],'apiSecret':_0x4b6cf0[_0xd03ff4(0x255)],'apiPassword':_0x4b6cf0['apiPassword'],'basecoin':_0x4b6cf0[_0xd03ff4(0x252)],'botname':_0x4b6cf0[_0xd03ff4(0x1bb)],'showname':_0x4b6cf0['showname'],'threshold':_0x4b6cf0[_0xd03ff4(0x254)],'ordertype':_0x4b6cf0['ordertype'],'timeout':_0x4b6cf0[_0xd03ff4(0x152)],'fiat':_0x4b6cf0[_0xd03ff4(0x27d)],'startdate':_0x4b6cf0[_0xd03ff4(0x29a)],'recreate':_0x4b6cf0[_0xd03ff4(0x238)],'timeshift':_0x4b6cf0[_0xd03ff4(0x157)],'onepagemode':_0x4b6cf0[_0xd03ff4(0x2c3)],'headless':_0x4b6cf0[_0xd03ff4(0x18f)],'cooldown':_0x4b6cf0['cooldown'],'change24h':_0x4b6cf0[_0xd03ff4(0x16b)],'emojibuy':_0x4b6cf0[_0xd03ff4(0x16f)],'emojisell':_0x4b6cf0[_0xd03ff4(0x26b)],'colorscheme':_0x4b6cf0[_0xd03ff4(0x2fd)],'marketcapApi':_0x4b6cf0[_0xd03ff4(0x30a)],'marketcapEnabled':_0x4b6cf0['marketcapEnabled'],'sandbox':_0x4b6cf0[_0xd03ff4(0x224)],'portfolio':_0x4b6cf0[_0xd03ff4(0x1ed)],'autoliquidity':_0x4b6cf0[_0xd03ff4(0x1c3)],'liquidity':_0x4b6cf0['liquidity'],'openOrders':_0x4b6cf0['openOrders']},dbConfig[_0xd03ff4(0x2e8)](_0xd03ff4(0x267))[_0xd03ff4(0x2e9)]()['write'](),dbConfig[_0xd03ff4(0x2e8)](_0xd03ff4(0x267))[_0xd03ff4(0x27c)](_0x4b6cf0)['write']());}else _0x4b6cf0={'botID':_0x9e2d00,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0xd03ff4(0x23b)+_0x9e2d00,'showname':![],'threshold':0x3,'ordertype':_0xd03ff4(0x24f),'timeout':0x14,'fiat':_0xd03ff4(0x194),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0xd03ff4(0x2c3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0xd03ff4(0x28e),'marketcapApi':settings[_0xd03ff4(0x30a)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0xd03ff4(0x242),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4b6cf0;}function emittedConfiguration(){const _0x5a2c71=_0x44c014;let _0xe5725e;if(config[_0x5a2c71(0x288)]=='')_0xe5725e={...config,'configstate':'initial'};else config[_0x5a2c71(0x288)]==_0x5a2c71(0x209)?_0xe5725e={...config,'configstate':_0x5a2c71(0x217)}:(_0xe5725e={...config,'apiKey':_0x5a2c71(0x2fb),'apiSecret':'************'},config[_0x5a2c71(0x1f1)]&&(_0xe5725e[_0x5a2c71(0x1f1)]=_0x5a2c71(0x2fb)));return _0xe5725e['enableFiatToggle']=enableFiatToggle,_0xe5725e;}function getSettings(){const _0x19c4f1=_0x44c014;return dbSettings['get'](_0x19c4f1(0x184))[_0x19c4f1(0x20d)]();}function getSecure(){const _0x15aad6=_0x44c014;return dbSecure[_0x15aad6(0x2e8)]('secure')[_0x15aad6(0x20d)]()||{};}function updateTimeshift(_0x29c7b0){const _0x12c16a=_0x44c014;let _0x337db0=dbConfig[_0x12c16a(0x2e8)](_0x12c16a(0x267))[_0x12c16a(0x2e6)]({'botID':botID})[_0x12c16a(0x20d)]();_0x337db0&&dbConfig[_0x12c16a(0x2e8)](_0x12c16a(0x267))[_0x12c16a(0x2e6)]({'botID':botID})[_0x12c16a(0x30c)]({'timeshift':_0x29c7b0})[_0x12c16a(0x251)](),config[_0x12c16a(0x157)]=_0x29c7b0,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x3a8e45){const _0xd91658=_0x44c014;let _0x544e31=dbConfig[_0xd91658(0x2e8)](_0xd91658(0x267))[_0xd91658(0x2e6)]({'botID':botID})[_0xd91658(0x20d)]();_0x544e31&&dbConfig['get'](_0xd91658(0x267))[_0xd91658(0x2e6)]({'botID':botID})['assign']({'onepagemode':_0x3a8e45})[_0xd91658(0x251)](),config[_0xd91658(0x2c3)]=_0x3a8e45,proxyEmit(_0xd91658(0x214),emittedConfiguration());}function updateMarketcapApi(_0x240ecc){const _0x625a43=_0x44c014,_0x240d50=_0x240ecc?!![]:![];let _0x4138c2=dbConfig['get']('bot')['find']({'botID':botID})[_0x625a43(0x20d)]();_0x4138c2&&dbConfig[_0x625a43(0x2e8)](_0x625a43(0x267))[_0x625a43(0x2e6)]({'botID':botID})[_0x625a43(0x30c)]({'marketcapApi':_0x240d50})[_0x625a43(0x251)](),config[_0x625a43(0x30a)]=_0x240d50,getMarketCap(),proxyEmit(_0x625a43(0x214),emittedConfiguration());}async function storeConfiguration(_0x156226){const _0x517777=_0x44c014;logger['debug'](_0x517777(0x19d));_0x156226[_0x517777(0x1a2)]&&delete _0x156226[_0x517777(0x1a2)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x5d3aa7=![],_0x61e8ac=![],_0x2bc200=[];_0x156226[_0x517777(0x1ed)][_0x517777(0x211)](_0x7c2802=>{const _0x2cabe6=_0x517777;if(!_0x7c2802[_0x2cabe6(0x235)]&&_0x7c2802['coin']!=_0x156226[_0x2cabe6(0x252)])_0x2bc200['push'](_0x7c2802[_0x2cabe6(0x17b)]);}),_0x2bc200['forEach'](_0x5a0fd9=>{const _0xd1bc2=_0x517777,_0x1569f7=currentCoins[_0xd1bc2(0x2e6)](_0x40097e=>_0x40097e[_0xd1bc2(0x17b)]==_0x5a0fd9);!_0x1569f7&&(_0x5d3aa7=!![]);}),currentCoins[_0x517777(0x211)](_0x220d01=>{const _0x30d6e9=_0x517777;if(_0x220d01[_0x30d6e9(0x1d3)]!=config[_0x30d6e9(0x252)]){const _0x2a8712=_0x2bc200[_0x30d6e9(0x2e6)](_0x239ae3=>_0x239ae3==_0x220d01[_0x30d6e9(0x17b)]);!_0x2a8712&&(_0x5d3aa7=!![]);}}),_0x156226[_0x517777(0x1ed)][_0x517777(0x211)](_0x45d001=>{const _0x258158=_0x517777,_0x53dea5=config[_0x258158(0x1ed)][_0x258158(0x2e6)](_0x3e4caa=>_0x3e4caa[_0x258158(0x1d3)]==_0x45d001[_0x258158(0x1d3)]);if(_0x53dea5&&_0x45d001[_0x258158(0x163)]!=_0x53dea5[_0x258158(0x163)])_0x61e8ac=!![];});let _0xcb5e97=dbConfig[_0x517777(0x2e8)](_0x517777(0x267))[_0x517777(0x2e6)]({'botID':botID})[_0x517777(0x20d)]();_0x156226={..._0x156226,'apiKey':decryptRSA(secure['privateKey'],_0x156226[_0x517777(0x288)]),'apiSecret':decryptRSA(secure[_0x517777(0x1a8)],_0x156226['apiSecret'])};_0x156226[_0x517777(0x1f1)]&&(_0x156226['apiPassword']=decryptRSA(secure[_0x517777(0x1a8)],_0x156226[_0x517777(0x1f1)]));let _0x205187=![];if(_0xcb5e97){_0x156226[_0x517777(0x288)]=='************'?_0x156226[_0x517777(0x288)]=config[_0x517777(0x288)]:_0x205187=!![];_0x156226['apiSecret']==_0x517777(0x2fb)?_0x156226[_0x517777(0x255)]=config[_0x517777(0x255)]:_0x205187=!![];if(_0x156226[_0x517777(0x1f1)]=='************')_0x156226['apiPassword']=config[_0x517777(0x1f1)];else{if(_0x156226['apiPassword'])_0x205187=!![];}dbConfig[_0x517777(0x2e8)]('bot')[_0x517777(0x2e6)]({'botID':botID})[_0x517777(0x30c)](_0x156226)['write']();}else dbConfig['get']('bot')['push'](_0x156226)[_0x517777(0x251)](),_0x205187=!![],process[_0x517777(0x227)]({'status':_0x517777(0x282),'live':_0x517777(0x265)},_0x4bd985=>{});process[_0x517777(0x227)]({'botname':_0x156226[_0x517777(0x1bb)]},_0x56910f=>{}),config={..._0x156226},updateBotManager(),proxyEmit(_0x517777(0x27a)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x205187)await reset(!![]);else _0x5d3aa7||_0x61e8ac?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x6cabca){const _0x18b29f=_0x44c014,_0x11b713={...config,'headless':_0x6cabca[_0x18b29f(0x18f)]};let _0x19e684=dbConfig[_0x18b29f(0x2e8)](_0x18b29f(0x267))['find']({'botID':botID})['value']();_0x19e684&&dbConfig['get']('bot')[_0x18b29f(0x2e6)]({'botID':botID})[_0x18b29f(0x30c)](_0x11b713)['write'](),config={..._0x11b713},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x9b3aa){const _0xd640e=_0x44c014,_0x50748f={...config,'fiat':_0x9b3aa};let _0x2900d9=dbConfig[_0xd640e(0x2e8)](_0xd640e(0x267))['find']({'botID':botID})[_0xd640e(0x20d)]();_0x2900d9&&dbConfig[_0xd640e(0x2e8)](_0xd640e(0x267))['find']({'botID':botID})[_0xd640e(0x30c)](_0x50748f)[_0xd640e(0x251)](),config={..._0x50748f},proxyEmit(_0xd640e(0x214),emittedConfiguration());}function resetHistory(){const _0x306fe2=_0x44c014;logger[_0x306fe2(0x2f8)](_0x306fe2(0x2a2));try{if(fs[_0x306fe2(0x18c)](path[_0x306fe2(0x1ca)](configpath,_0x306fe2(0x2ed)+botID+_0x306fe2(0x20e))))fs[_0x306fe2(0x153)](path[_0x306fe2(0x1ca)](configpath,'bot-'+botID+'-events.json'));if(fs[_0x306fe2(0x18c)](path['join'](configpath,_0x306fe2(0x2ed)+botID+'-performance.json')))fs[_0x306fe2(0x153)](path['join'](configpath,_0x306fe2(0x2ed)+botID+'-performance.json'));if(fs[_0x306fe2(0x18c)](path[_0x306fe2(0x1ca)](configpath,_0x306fe2(0x2ed)+botID+_0x306fe2(0x192))))fs[_0x306fe2(0x153)](path['join'](configpath,'bot-'+botID+'-results.json'));}catch(_0x3d41b6){if(_0x3d41b6)logger[_0x306fe2(0x2f8)](_0x306fe2(0x1a5),_0x3d41b6);}const _0x54d765=getDate();let _0x4a0134=[];currentCoins['forEach'](_0x43ed94=>{const _0x9721ef=_0x306fe2;_0x4a0134[_0x9721ef(0x27c)]({'coin':_0x43ed94[_0x9721ef(0x1d3)],'number':_0x43ed94[_0x9721ef(0x2c4)],'price':_0x43ed94[_0x9721ef(0x215)]});});let _0x117e19=dbConfig['get'](_0x306fe2(0x267))['find']({'botID':botID})[_0x306fe2(0x20d)]();_0x117e19&&(dbConfig['get']('bot')[_0x306fe2(0x2e6)]({'botID':botID})['assign']({'liquidity':[{'date':_0x54d765,'changes':_0x4a0134}]})['write'](),config[_0x306fe2(0x231)]=[]),restartBot(!![]);}function noslash(_0x555297){const _0x4ab152=_0x44c014;return _0x555297[_0x4ab152(0x300)]('/','');}function updateHighestFee(_0x47567c){const _0xdae4=_0x44c014;if(_0x47567c[_0xdae4(0x27f)]){let _0x11c972={'filled':_0x47567c[_0xdae4(0x206)]*_0x47567c[_0xdae4(0x225)],'amount':_0x47567c[_0xdae4(0x206)]*_0x47567c[_0xdae4(0x225)],'side':_0x47567c[_0xdae4(0x16a)]=='sell'?_0xdae4(0x2cb):_0xdae4(0x2b5),'price':0x1/_0x47567c[_0xdae4(0x225)]};_0x47567c={..._0x47567c,..._0x11c972};}const _0x20eb19=defaultFee*_0x47567c[_0xdae4(0x206)]*_0x47567c[_0xdae4(0x225)];lastFees[_0xdae4(0x15d)]['length']===0x14&&lastFees['recent20']['shift'](),lastFees[_0xdae4(0x15d)][_0xdae4(0x27c)](_0x20eb19),lastFees[_0xdae4(0x2cc)]=Math[_0xdae4(0x2c9)](...lastFees[_0xdae4(0x15d)]);}async function updateNumberCoinsCcxt(_0x22a620){const _0x3cbe0c=_0x44c014;logger[_0x3cbe0c(0x321)](_0x3cbe0c(0x208)+_0x22a620[_0x3cbe0c(0x17b)]+_0x3cbe0c(0x1b4)+_0x22a620[_0x3cbe0c(0x299)]+_0x3cbe0c(0x1b4)+_0x22a620[_0x3cbe0c(0x206)]+'\x20/\x20'+_0x22a620[_0x3cbe0c(0x2af)]+'\x20|\x20'+_0x22a620['id']);let _0x45d130=_0x22a620[_0x3cbe0c(0x299)],_0x1e3186=![];currentCoins['forEach'](_0x5d514d=>{const _0x5689ba=_0x3cbe0c;_0x5d514d[_0x5689ba(0x17b)]==_0x22a620[_0x5689ba(0x17b)]&&(_0x1e3186=!![]);});if(!_0x1e3186)return;const _0x5f4a57=currentCoins[_0x3cbe0c(0x2e6)](_0x4cd030=>_0x4cd030[_0x3cbe0c(0x17b)]==_0x22a620['symbol']),_0x50c07d=_0x5f4a57['coin'],_0x1dd3cb=_0x4d0f64=>{const _0x6eb7cd=_0x3cbe0c,_0x48b52a=currentCoins[_0x6eb7cd(0x2e6)](_0x5144d9=>_0x5144d9['symbol']==_0x22a620['symbol']);if(_0x48b52a)_0x48b52a[_0x6eb7cd(0x2a5)]=_0x4d0f64;};let _0x5b4807=![];for(const _0x38d9af of lastOrders){const _0x1c1304=0x64,_0x40b8d6=0x1388;let _0x3e139e=0x0;while(!_0x38d9af[_0x3cbe0c(0x259)]&&_0x3e139e*_0x1c1304<_0x40b8d6){_0x3e139e++,await sleep(_0x1c1304);}if(_0x3e139e>0x0)logger['debug'](_0x3cbe0c(0x2ae)+_0x3e139e*_0x1c1304/0x3e8+_0x3cbe0c(0x2bc));_0x38d9af[_0x3cbe0c(0x259)]==_0x22a620['id']&&(_0x5b4807=!![]);}if(_0x45d130==_0x3cbe0c(0x193)){_0x1dd3cb(_0x3cbe0c(0x193));if(_0x22a620[_0x3cbe0c(0x206)]>0x0&&_0x22a620[_0x3cbe0c(0x206)]<_0x22a620[_0x3cbe0c(0x2af)]){if(_0x5b4807){setBlockTransactionDetection(!![]),logger[_0x3cbe0c(0x321)](_0x3cbe0c(0x31c)+_0x22a620[_0x3cbe0c(0x206)]+_0x3cbe0c(0x20c)+_0x22a620['id']);const _0x34efcc=await getCoins(balanceUpdateDelay,undefined,undefined,_0x50c07d);[currentCoins,currentCoinsAll]=_0x34efcc,setBlockTransactionDetection(![]);}else logger['debug'](_0x3cbe0c(0x31c)+_0x22a620['filled']+_0x3cbe0c(0x190)+_0x22a620['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x45d130==_0x3cbe0c(0x2e7)){_0x1dd3cb(_0x3cbe0c(0x2e7)),lastOrders=lastOrders[_0x3cbe0c(0x1a1)](_0x42dd63=>_0x42dd63[_0x3cbe0c(0x17b)]!=_0x22a620['symbol']);const _0x53aba2=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x53aba2,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x45d130==_0x3cbe0c(0x19a)){if(lastOrders)for(const _0x3e9a6e of lastOrders){if(_0x3e9a6e[_0x3cbe0c(0x259)]==_0x22a620['id']){logger[_0x3cbe0c(0x321)]('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x22a620['id']),_0x5b4807=!![];if(_0x3e9a6e[_0x3cbe0c(0x206)]==0x0){setBlockTransactionDetection(!![]),logger['debug'](_0x3cbe0c(0x2dd)+_0x22a620['id']);if(_0x22a620['average'])_0x3e9a6e[_0x3cbe0c(0x225)]=_0x22a620[_0x3cbe0c(0x1e8)];else{if(_0x22a620[_0x3cbe0c(0x225)])_0x3e9a6e[_0x3cbe0c(0x225)]=_0x22a620[_0x3cbe0c(0x225)];else{}}_0x3e9a6e['filled']=_0x22a620[_0x3cbe0c(0x206)],updateHighestFee(_0x3e9a6e);const _0x3c64c6=await getCoins(balanceUpdateDelay,undefined,undefined,_0x50c07d);[currentCoins,currentCoinsAll]=_0x3c64c6,setBlockTransactionDetection(![]),await validateOrders(),_0x1dd3cb(_0x3cbe0c(0x206)),_0x3e9a6e[_0x3cbe0c(0x1df)]={'currency':_0x22a620[_0x3cbe0c(0x1df)]?_0x22a620[_0x3cbe0c(0x1df)]['currency']:null,'cost':_0x22a620[_0x3cbe0c(0x1df)]?_0x22a620[_0x3cbe0c(0x1df)][_0x3cbe0c(0x2f1)]:0x0},await updatePnL(_0x3e9a6e);}}}!_0x5b4807&&(logger[_0x3cbe0c(0x321)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x22a620['id']),_0x1dd3cb(_0x3cbe0c(0x206)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x3dd61a=JSON[_0x3cbe0c(0x31f)](lastBalances[_0x3cbe0c(0x1ed)]);const _0x45a23f=_0x3dd61a[_0x3cbe0c(0x2e6)](_0x2c5833=>_0x2c5833[_0x3cbe0c(0x17b)]==_0x22a620[_0x3cbe0c(0x17b)]);if(_0x45a23f){if(_0x45d130==_0x3cbe0c(0x193))_0x45a23f[_0x3cbe0c(0x2a5)]=_0x45a23f[_0x3cbe0c(0x2a5)]=='filled'?_0x3cbe0c(0x206):_0x3cbe0c(0x193);else{if(_0x45d130==_0x3cbe0c(0x2e7))_0x45a23f[_0x3cbe0c(0x2a5)]=_0x45a23f['orderstatus']==_0x3cbe0c(0x206)?'filled':'canceled';else _0x45d130=='closed'&&(_0x45a23f[_0x3cbe0c(0x2a5)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x3cbe0c(0x28c)](_0x3dd61a)},proxyEmit(_0x3cbe0c(0x1ba),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x5e02f8=_0x44c014;await getOpenOrders();let _0x3185a5=![];currentCoins[_0x5e02f8(0x211)](_0x2a6efb=>{const _0x668565=_0x5e02f8;_0x3185a5=allOpenOrders[_0x668565(0x2e6)](_0x2f38a4=>_0x2f38a4['symbol']==_0x2a6efb[_0x668565(0x17b)]),_0x2a6efb[_0x668565(0x2a5)]=_0x3185a5?_0x668565(0x193):_0x668565(0x2a8);});}async function fetchBalance(_0x412074=!![]){const _0x3f8c1a=_0x44c014;let _0x1c9f2d,_0x528bab,_0x1ef557,_0xb76e7d=0x0;while(!_0x528bab&&_0xb76e7d<maxRetries){try{return _0x1c9f2d=await exchange[_0x3f8c1a(0x25d)](),_0x528bab=_0x1c9f2d[_0x3f8c1a(0x2ea)],_0x528bab;}catch(_0x3436a4){_0x1ef557=_0x3436a4,_0xb76e7d++,await sleep(retryInterval);}}return!_0x412074?handleErrorNoStop(_0x1ef557,_0x3f8c1a(0x291)):await handleError(_0x1ef557,'fetchBalance()'),![];}async function getCoins(_0x3db654=0x0,_0x230a56=!![],_0x5b1f6c=config[_0x44c014(0x252)],_0x2347f5){const _0x12227f=_0x44c014;let _0x1d3a79=[],_0x108c24=[],_0x9cd9d2=[],_0x3e37c5;if(_0x3db654)await sleep(_0x3db654);if(botPaused)return[currentCoins,currentCoinsAll];let _0x51095d=![],_0x462961=0x0,_0x255774,_0xa872a4;_0x2347f5&&(_0x255774=currentCoins[_0x12227f(0x2e6)](_0x221d86=>_0x221d86[_0x12227f(0x1d3)]==_0x2347f5),_0x255774&&(_0xa872a4=_0x255774[_0x12227f(0x2f2)],delete _0x255774[_0x12227f(0x2f2)]));while(!_0x51095d){_0x3e37c5=await fetchBalance(_0x230a56);if(_0x3e37c5){if(_0x2347f5){if(_0x3e37c5[_0x2347f5]!=_0xa872a4)logger[_0x12227f(0x321)]('Valid\x20balance\x20for\x20'+_0x2347f5+':\x20'+_0x3e37c5[_0x2347f5]+'\x20('+_0xa872a4+')'),_0x51095d=!![];else{logger['debug'](_0x12227f(0x28a)+_0x2347f5+':\x20'+_0x3e37c5[_0x2347f5]+'\x20('+_0xa872a4+')'),_0x462961++;if(_0x462961<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger['debug'](_0x12227f(0x170)+_0x462961+_0x12227f(0x292));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x389e36,_0x379b81]of Object[_0x12227f(0x1b8)](_0x3e37c5)){_0x9cd9d2[_0x12227f(0x27c)](_0x389e36);}config[_0x12227f(0x1ed)][_0x12227f(0x211)](_0x36cf7c=>{const _0x45e114=_0x12227f;!_0x9cd9d2['includes'](_0x36cf7c['coin'])&&(_0x3e37c5[_0x36cf7c[_0x45e114(0x1d3)]]=0x0);});if(_0x5b1f6c=='')for(const [_0x437346,_0x30c7f9]of Object[_0x12227f(0x1b8)](_0x3e37c5)){_0x30c7f9!=0x0&&_0x1d3a79['push']({'coin':_0x437346});}else for(const [_0x25554e,_0x255838]of Object[_0x12227f(0x1b8)](_0x3e37c5)){const _0x2dedec=config[_0x12227f(0x1ed)]['find'](_0x4f8946=>_0x4f8946['coin']==_0x25554e),_0x2d14f3=_0x25554e+'/'+_0x5b1f6c,_0x4a2889=_0x5b1f6c+'/'+_0x25554e,_0x9eee52=currentCoins['find'](_0xe69467=>_0xe69467[_0x12227f(0x1d3)]==_0x25554e);if((_0x255838!=0x0||_0x2dedec)&&(allSymbols[_0x12227f(0x1e3)](_0x2d14f3)||_0x25554e==_0x5b1f6c))_0x9eee52?_0x1d3a79[_0x12227f(0x27c)]({..._0x9eee52,'number':Math['max'](_0x255838+(_0x2dedec&&_0x2dedec[_0x12227f(0x163)]||0x0),0x0)}):_0x1d3a79[_0x12227f(0x27c)]({'coin':_0x25554e,'symbol':_0x2d14f3,'reverse':![],'number':Math[_0x12227f(0x2c9)](_0x255838+(_0x2dedec&&_0x2dedec[_0x12227f(0x163)]||0x0),0x0),'orderstatus':_0x12227f(0x2a8)});else{if((_0x255838!=0x0||_0x2dedec)&&allSymbols['includes'](_0x4a2889))_0x9eee52?_0x1d3a79[_0x12227f(0x27c)]({..._0x9eee52,'number':Math['max'](_0x255838+(_0x2dedec&&_0x2dedec[_0x12227f(0x163)]||0x0),0x0)}):_0x1d3a79['push']({'coin':_0x25554e,'symbol':_0x4a2889,'reverse':!![],'number':Math[_0x12227f(0x2c9)](_0x255838+(_0x2dedec&&_0x2dedec[_0x12227f(0x163)]||0x0),0x0),'orderstatus':_0x12227f(0x2a8)});else _0x2dedec&&_0x1d3a79['push']({'coin':_0x2dedec[_0x12227f(0x1d3)],'symbol':_0x2dedec['symbol'],'reverse':_0x2dedec['reverse'],'number':0x0,'orderstatus':_0x12227f(0x2a8)});}}return _0x1d3a79['sort']((_0x44954d,_0x2b70b9)=>_0x44954d[_0x12227f(0x2cf)]<_0x2b70b9[_0x12227f(0x2cf)]?0x1:_0x2b70b9['delta']<_0x44954d['delta']?-0x1:0x0),_0x108c24=cloneDeep(_0x1d3a79),_0x1d3a79=_0x1d3a79[_0x12227f(0x1a1)](_0x13e131=>{const _0x430bb2=_0x12227f,_0x15ed41=config[_0x430bb2(0x1ed)]['find'](_0x13d144=>_0x13d144[_0x430bb2(0x1d3)]==_0x13e131[_0x430bb2(0x1d3)]);return _0x15ed41&&!_0x15ed41['excluded'];}),[_0x1d3a79,_0x108c24];}async function getOpenOrders(){const _0x415496=_0x44c014;let _0x3b78a6;allOpenOrders=[];try{for(const _0x16fdeb of config[_0x415496(0x1ed)]){!_0x16fdeb[_0x415496(0x235)]&&_0x16fdeb[_0x415496(0x1d3)]!=config['basecoin']&&(_0x3b78a6=await exchange[_0x415496(0x2e2)](_0x16fdeb['symbol']),_0x3b78a6['length']>0x0&&allOpenOrders['push'](_0x3b78a6[0x0]));}}catch(_0xc152b3){await handleError(_0xc152b3,_0x415496(0x237));}}async function handleOpenOrders(_0x1422d5=0x0){const _0x1f5ebe=_0x44c014;allOpenOrders[_0x1f5ebe(0x2bb)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x1422d5==0x0?(logger[_0x1f5ebe(0x321)](_0x1f5ebe(0x15c)),_0x1422d5++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x1f5ebe(0x321)](_0x1f5ebe(0x2b8)),validateOrders(_0x1f5ebe(0x18a))));}async function testAPI(){const _0x488b60=_0x44c014;try{return await exchange[_0x488b60(0x25d)](),!![];}catch(_0xc5f3f){loading[_0x488b60(0x178)]=!![],_0xc5f3f['toString']()[_0x488b60(0x278)]()[_0x488b60(0x1e3)](_0x488b60(0x245))||_0xc5f3f[_0x488b60(0x317)]()[_0x488b60(0x278)]()[_0x488b60(0x1e3)](_0x488b60(0x195))?(logHistory(_0x488b60(0x25c),_0x488b60(0x266)),loading[_0x488b60(0x25c)]=_0x488b60(0x164)):handleErrorNoStop(_0xc5f3f,'testAPI()',!![]),logHistory('error','Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started'),logHistory(_0x488b60(0x25c),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x488b60(0x322)),logger[_0x488b60(0x321)]('Error\x20details:',_0xc5f3f),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x2fdbed){const _0x51fec8=_0x44c014;logger['debug'](_0x51fec8(0x1dd));const _0xf38918=ccxt['pro'][_0x2fdbed[_0x51fec8(0x191)][_0x51fec8(0x278)]()],_0x39b707=new _0xf38918({'apiKey':_0x2fdbed[_0x51fec8(0x288)],'secret':_0x2fdbed[_0x51fec8(0x255)],'options':{'defaultType':_0x51fec8(0x1c0)}});if(_0x2fdbed[_0x51fec8(0x1f1)])_0x39b707[_0x51fec8(0x30f)]=_0x2fdbed[_0x51fec8(0x1f1)];if(_0x39b707['has'][_0x51fec8(0x224)])_0x39b707[_0x51fec8(0x28f)](_0x2fdbed['sandbox']);try{await _0x39b707['fetchBalance'](),botPaused=![];}catch(_0x1fb26e){logger[_0x51fec8(0x321)](_0x51fec8(0x17a)+_0x1fb26e[_0x51fec8(0x317)]());throw _0x1fb26e;}}function cloneDeep(_0x374a53){const _0x25ee4c=_0x44c014;return JSON[_0x25ee4c(0x31f)](JSON[_0x25ee4c(0x28c)](_0x374a53));}async function getPortfolio(_0x1a4e33){const _0x44b386=_0x44c014;let _0xd90520=[],_0x379898=[],_0xc9c15f=[],_0x1ddca0;_0x1a4e33[_0x44b386(0x288)]=decryptRSA(secure[_0x44b386(0x1a8)],_0x1a4e33[_0x44b386(0x288)]),_0x1a4e33[_0x44b386(0x255)]=decryptRSA(secure[_0x44b386(0x1a8)],_0x1a4e33[_0x44b386(0x255)]);if(_0x1a4e33[_0x44b386(0x1f1)])_0x1a4e33['apiPassword']=decryptRSA(secure[_0x44b386(0x1a8)],_0x1a4e33[_0x44b386(0x1f1)]);if(_0x1a4e33[_0x44b386(0x288)]!==_0x44b386(0x2fb)||_0x1a4e33['apiSecret']!==_0x44b386(0x2fb)||_0x1a4e33['apiPassword']&&_0x1a4e33[_0x44b386(0x1f1)]!==_0x44b386(0x2fb)){if(config[_0x44b386(0x191)]){if(_0x1a4e33[_0x44b386(0x288)]==_0x44b386(0x2fb))_0x1a4e33[_0x44b386(0x288)]=config['apiKey'];if(_0x1a4e33[_0x44b386(0x255)]==_0x44b386(0x2fb))_0x1a4e33[_0x44b386(0x255)]=config['apiSecret'];if(_0x1a4e33[_0x44b386(0x1f1)]==_0x44b386(0x2fb))_0x1a4e33[_0x44b386(0x1f1)]=config['apiPassword'];}try{if(_0x1a4e33[_0x44b386(0x2c0)])await testNewAPI(_0x1a4e33);}catch(_0x1a67a2){if(_0x1a67a2[_0x44b386(0x317)]()[_0x44b386(0x1e3)](_0x44b386(0x1e1))){logHistory(_0x44b386(0x25c),_0x44b386(0x1a9)),logHistory(_0x44b386(0x25c),_0x44b386(0x1d8)+_0x1a67a2[_0x44b386(0x317)]()),proxyEmit(_0x44b386(0x2a9),![]);return;}else{if(_0x1a67a2[_0x44b386(0x317)]()[_0x44b386(0x1e3)](_0x44b386(0x151))){logHistory(_0x44b386(0x25c),_0x44b386(0x216)),logHistory(_0x44b386(0x25c),'Error\x20details:\x20'+_0x1a67a2['toString']()),proxyEmit(_0x44b386(0x2a9),![]);return;}else{logHistory(_0x44b386(0x25c),_0x44b386(0x212)+_0x1a67a2[_0x44b386(0x317)]()),logger['debug'](_0x44b386(0x2bd),_0x1a67a2),proxyEmit(_0x44b386(0x2a9),![]);return;}}}exchange?updateExchange(_0x1a4e33[_0x44b386(0x288)],_0x1a4e33[_0x44b386(0x255)],_0x1a4e33[_0x44b386(0x1f1)]):await initExchange(_0x1a4e33[_0x44b386(0x191)],_0x1a4e33[_0x44b386(0x288)],_0x1a4e33[_0x44b386(0x255)],_0x1a4e33[_0x44b386(0x1f1)],_0x1a4e33['sandbox']);await loadSymbols();const _0x3459c4=await getCoins(0x0,![],_0x1a4e33[_0x44b386(0x252)]);_0xc9c15f=cloneDeep(_0x3459c4[0x1]);}else{const _0x230e72=await getCoins();_0xc9c15f=cloneDeep(_0x230e72[0x1]);}if(_0x1a4e33['basecoin']=='')proxyEmit(_0x44b386(0x2a9),!![]),proxyEmit('portfolio2',_0xc9c15f);else{_0xc9c15f['forEach'](_0x41f031=>{const _0x103549=_0x44b386;if(_0x41f031['coin']!=_0x1a4e33['basecoin']&&allSymbols[_0x103549(0x1e3)](_0x41f031[_0x103549(0x17b)]))_0xd90520[_0x103549(0x27c)](_0x41f031[_0x103549(0x17b)]);});if(_0xd90520[_0x44b386(0x2bb)]==0x0)logHistory(_0x44b386(0x25c),_0x44b386(0x2ad));else{try{_0x379898=await getTickers(_0xd90520);}catch(_0x3230d8){logHistory(_0x44b386(0x25c),_0x44b386(0x31b)),logger['debug'](_0x44b386(0x2bd),_0x3230d8),proxyEmit(_0x44b386(0x2a9),![]);return;}_0xc9c15f[_0x44b386(0x211)](_0x428ea9=>{const _0x144284=_0x44b386;_0x428ea9['coin']!=_0x1a4e33[_0x144284(0x252)]?_0x379898[_0x428ea9['symbol']]?_0x379898[_0x428ea9[_0x144284(0x17b)]][_0x144284(0x215)]?_0x1ddca0=_0x428ea9[_0x144284(0x27f)]?0x1/_0x379898[_0x428ea9[_0x144284(0x17b)]][_0x144284(0x215)]:_0x379898[_0x428ea9[_0x144284(0x17b)]][_0x144284(0x215)]:_0x1ddca0=0x0:_0x1ddca0=0x0:_0x1ddca0=0x1,_0x428ea9[_0x144284(0x225)]=formatResult(_0x1ddca0,0x8);}),await getMarketCap(_0xc9c15f),proxyEmit('portfolio1',!![]),proxyEmit(_0x44b386(0x304),_0xc9c15f);}}}function truncateTradeAmount(_0x7c6602,_0x3d5243){const _0x407bdc=_0x44c014;let _0x1b12b9=0x0;try{_0x1b12b9=exchange[_0x407bdc(0x2e3)](_0x7c6602,_0x3d5243);}catch(_0x405f19){}return _0x1b12b9;}function checkMinimums(_0x12a68f){const _0x27adbb=_0x44c014;let _0x5173ff=!![];const _0x5d64c6=!_0x12a68f['reverse']?markets[_0x12a68f[_0x27adbb(0x17b)]][_0x27adbb(0x2f4)][_0x27adbb(0x2af)][_0x27adbb(0x1b6)]:markets[_0x12a68f[_0x27adbb(0x17b)]][_0x27adbb(0x2f4)][_0x27adbb(0x2f1)]['min'],_0x5399ee=!_0x12a68f[_0x27adbb(0x27f)]?markets[_0x12a68f['symbol']]['limits'][_0x27adbb(0x2f1)][_0x27adbb(0x1b6)]:markets[_0x12a68f[_0x27adbb(0x17b)]][_0x27adbb(0x2f4)][_0x27adbb(0x2af)][_0x27adbb(0x1b6)],_0x47f37f=truncateTradeAmount(_0x12a68f[_0x27adbb(0x17b)],_0x12a68f[_0x27adbb(0x1f6)]);_0x12a68f[_0x27adbb(0x1f6)]=_0x47f37f;if(Math[_0x27adbb(0x17d)](_0x47f37f)<_0x5d64c6)_0x5173ff=![];if(Math[_0x27adbb(0x17d)](_0x47f37f)*_0x12a68f[_0x27adbb(0x215)]<_0x5399ee)_0x5173ff=![];let _0x3d7aa1='';if(_0x12a68f[_0x27adbb(0x16a)]==_0x27adbb(0x2b5)){let _0x50d894=config[_0x27adbb(0x1ed)]['find'](_0x3945b4=>_0x3945b4[_0x27adbb(0x1d3)]==_0x12a68f['coin']);_0x50d894['offset']>0x0?Math[_0x27adbb(0x17d)](_0x47f37f)>_0x12a68f[_0x27adbb(0x2c4)]-_0x50d894[_0x27adbb(0x163)]&&(_0x5173ff=![],_0x3d7aa1=_0x27adbb(0x2eb)+_0x50d894[_0x27adbb(0x1d3)]+_0x27adbb(0x204)):Math[_0x27adbb(0x17d)](_0x47f37f)>_0x12a68f[_0x27adbb(0x2c4)]&&(_0x5173ff=![]);}if(_0x12a68f[_0x27adbb(0x16a)]==_0x27adbb(0x2cb)){let _0x1fa039=config[_0x27adbb(0x1ed)][_0x27adbb(0x2e6)](_0xcc3da6=>_0xcc3da6[_0x27adbb(0x1d3)]==config['basecoin']),_0x4505dc=currentCoins[_0x27adbb(0x2e6)](_0x186abd=>_0x186abd[_0x27adbb(0x1d3)]==config[_0x27adbb(0x252)]);_0x1fa039[_0x27adbb(0x163)]>0x0?Math[_0x27adbb(0x17d)](_0x47f37f)*_0x12a68f['last']>_0x4505dc[_0x27adbb(0x2c4)]-_0x1fa039[_0x27adbb(0x163)]&&(_0x5173ff=![],_0x3d7aa1='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config['basecoin']+_0x27adbb(0x204)):Math[_0x27adbb(0x17d)](_0x47f37f)*_0x12a68f['last']>_0x4505dc[_0x27adbb(0x2c4)]&&(_0x5173ff=![]);}return!_0x5173ff&&_0x3d7aa1&&!insufficientFundsWarningSent['includes'](_0x12a68f[_0x27adbb(0x1d3)])&&(logHistory(_0x27adbb(0x1e9),_0x3d7aa1),insufficientFundsWarningSent[_0x27adbb(0x27c)](_0x12a68f[_0x27adbb(0x1d3)])),_0x5173ff;}async function getBalances(_0x2ba200=!![]){const _0x5c6535=_0x44c014;if(botPaused)return;let _0x3ae782=0x0,_0x2463cc;const _0x55c7a9=config[_0x5c6535(0x254)];if(config[_0x5c6535(0x18f)]&&config[_0x5c6535(0x16b)]<0x0)await validate24hChanges();currentCoins[_0x5c6535(0x211)](_0x2146c5=>{const _0x189b65=_0x5c6535;if(_0x2146c5[_0x189b65(0x1d3)]!=config['basecoin']){let _0x77132c=gTicker[noslash(_0x2146c5[_0x189b65(0x17b)])];_0x2463cc=_0x2146c5[_0x189b65(0x27f)]?0x1/_0x77132c:_0x77132c;}else _0x2463cc=0x1;let _0x1df828=_0x2146c5[_0x189b65(0x2c4)]*_0x2463cc;_0x3ae782+=_0x1df828,_0x2146c5['last']=formatResult(Number(_0x2463cc),0x8),_0x2146c5[_0x189b65(0x20d)]=_0x1df828;}),currentCoins[_0x5c6535(0x211)](_0x39e800=>{const _0x4f1750=_0x5c6535;let _0x45993f=config[_0x4f1750(0x1ed)]['find'](_0x21020=>_0x21020['coin']==_0x39e800['coin']),_0x4814b8=Number(_0x45993f[_0x4f1750(0x1c4)]),_0x4931c3=_0x39e800[_0x4f1750(0x20d)]/_0x3ae782*0x64,_0x5025dd=_0x4814b8*_0x3ae782/0x64/_0x39e800[_0x4f1750(0x215)]-_0x39e800[_0x4f1750(0x2c4)];_0x39e800['distribution']=formatResult(_0x4931c3,0x3),_0x39e800[_0x4f1750(0x314)]=formatResult(_0x4814b8,0x3),_0x39e800[_0x4f1750(0x1f6)]=formatResult(_0x5025dd,0x8),_0x39e800['side']='',_0x39e800[_0x4f1750(0x1ad)]=![];if(_0x39e800['coin']!=config['basecoin']){if(_0x39e800[_0x4f1750(0x1c4)]>_0x4814b8)_0x39e800[_0x4f1750(0x16a)]='sell',_0x39e800[_0x4f1750(0x1ad)]=checkMinimums(_0x39e800);else _0x39e800[_0x4f1750(0x1c4)]<_0x4814b8&&(_0x39e800[_0x4f1750(0x16a)]=_0x4f1750(0x2cb),_0x39e800['valid']=checkMinimums(_0x39e800));}_0x39e800[_0x4f1750(0x2cf)]=_0x39e800['distribution']/_0x39e800[_0x4f1750(0x314)]-0x1;if(_0x39e800[_0x4f1750(0x2a5)]=='filled'||_0x39e800[_0x4f1750(0x2a5)]=='canceled')_0x39e800[_0x4f1750(0x2a5)]=_0x4f1750(0x2a8);}),currentCoins[_0x5c6535(0x29b)]((_0x306787,_0x544940)=>_0x306787[_0x5c6535(0x2cf)]<_0x544940[_0x5c6535(0x2cf)]?0x1:_0x544940['delta']<_0x306787[_0x5c6535(0x2cf)]?-0x1:0x0);const _0x41f68f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x41f68f[_0x5c6535(0x2a6)],'usd':_0x41f68f[_0x5c6535(0x2ee)],'portfolio':JSON[_0x5c6535(0x28c)](currentCoins),'threshold':_0x55c7a9},proxyEmit(_0x5c6535(0x1ba),{'serverversion':serverversion,'balances':lastBalances});if(_0x2ba200){if(config[_0x5c6535(0x18f)])headlessMode({'portfolio':currentCoins,'threshold':_0x55c7a9});else lockOrders==ORDERS[_0x5c6535(0x240)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x55c7a9});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x2580b9=getNormalizedPerformance();getStartingBalances(_0x2580b9),emitPerformance(_0x2580b9);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x40407c=_0x44c014;let _0x13d0ef=dbCoinResults['get'](_0x40407c(0x23a))[_0x40407c(0x20d)](),_0xe2c717=0x0;return Object[_0x40407c(0x1b8)](_0x13d0ef)['forEach'](([_0x4bf8f5,_0x2d5954])=>{const _0x8966b=_0x40407c;_0xe2c717+=_0x2d5954[_0x8966b(0x315)];}),_0xe2c717;}async function storePerformance(){const _0x3de402=_0x44c014;if(!lastBalances)return;let _0xbe0f23=[],_0x3bc7e3;const _0x700685=getPnL();let _0x112d5b=JSON[_0x3de402(0x31f)](lastBalances['portfolio']);_0x112d5b[_0x3de402(0x29b)]((_0x1c829b,_0x5d6f54)=>_0x1c829b[_0x3de402(0x1d3)]>_0x5d6f54[_0x3de402(0x1d3)]?0x1:_0x5d6f54[_0x3de402(0x1d3)]>_0x1c829b['coin']?-0x1:0x0),_0x112d5b[_0x3de402(0x211)](_0x4ebea0=>{const _0x381aa4=_0x3de402;let _0x2d1b97={'coin':_0x4ebea0[_0x381aa4(0x1d3)],'number':_0x4ebea0[_0x381aa4(0x2c4)],'price':_0x4ebea0['last']};_0xbe0f23[_0x381aa4(0x27c)](_0x2d1b97);});const _0x1ff9fb=await getFiat(),_0xa6fb2b=getTimeStamp()[_0x3de402(0x19f)]('\x20')[0x0],_0x4ba716=dbPerformance['get'](_0x3de402(0x2c1))['find']({'date':_0xa6fb2b})[_0x3de402(0x20d)]();_0x3bc7e3={'date':_0xa6fb2b,'eur':_0x1ff9fb[_0x3de402(0x2a6)],'usd':_0x1ff9fb[_0x3de402(0x2ee)],'coins':_0xbe0f23,'pnl':_0x700685},_0x4ba716?_0x3bc7e3[_0x3de402(0x2a1)]!=config['startdate']&&dbPerformance['get'](_0x3de402(0x2c1))[_0x3de402(0x2e6)]({'date':_0xa6fb2b})[_0x3de402(0x30c)](_0x3bc7e3)[_0x3de402(0x251)]():dbPerformance[_0x3de402(0x2e8)](_0x3de402(0x2c1))[_0x3de402(0x27c)](_0x3bc7e3)[_0x3de402(0x251)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x32805b=_0x44c014;let _0x28f765=[];if(dbPerformance[_0x32805b(0x223)](_0x32805b(0x2c1))['value']()){let _0x4b3ec1=dbPerformance[_0x32805b(0x2e8)]('data')['cloneDeep']()[_0x32805b(0x1a1)](_0x354e26=>{const _0x359e9e=_0x32805b;if(_0x354e26[_0x359e9e(0x23a)]['length']==0x0)return![];else return!![];})[_0x32805b(0x168)](_0x32805b(0x2a1))[_0x32805b(0x20d)](),_0xa21c60=[...config['liquidity']];_0xa21c60[_0x32805b(0x29b)]((_0x13bf72,_0x399038)=>_0x13bf72[_0x32805b(0x2a1)]>_0x399038['date']?-0x1:_0x399038['date']>_0x13bf72[_0x32805b(0x2a1)]?0x1:0x0);let _0x548751=0x1,_0x3eafc3=[],_0x5b8a1b=0x0;_0x4b3ec1['slice']()[_0x32805b(0x27f)]()[_0x32805b(0x211)]((_0x748c5c,_0x45cf1c)=>{const _0x52ab62=_0x32805b;if(_0xa21c60[_0x5b8a1b]){if(_0x4b3ec1[_0x4b3ec1[_0x52ab62(0x2bb)]-_0x45cf1c]&&_0xa21c60[_0x5b8a1b][_0x52ab62(0x2a1)]==_0x4b3ec1[_0x4b3ec1[_0x52ab62(0x2bb)]-_0x45cf1c][_0x52ab62(0x2a1)]){if(_0x45cf1c<_0x4b3ec1[_0x52ab62(0x2bb)]){let _0x3a4bd3=0x0,_0x5c7ccf=0x0;_0x4b3ec1[_0x4b3ec1[_0x52ab62(0x2bb)]-_0x45cf1c]['coins']['forEach'](_0x44347e=>{const _0x1c1a72=_0x52ab62;_0x5c7ccf+=_0x44347e[_0x1c1a72(0x2c4)]*_0x44347e['price'];}),_0xa21c60[_0x5b8a1b][_0x52ab62(0x2d2)][_0x52ab62(0x211)](_0x13bad0=>{const _0x3c2291=_0x52ab62;_0x3a4bd3+=_0x13bad0[_0x3c2291(0x2c4)]*_0x13bad0[_0x3c2291(0x225)];}),_0x548751*=_0x3a4bd3/(_0x5c7ccf-_0x3a4bd3)+0x1;}_0x5b8a1b++;}}let _0x342c9f=0x0;_0x748c5c[_0x52ab62(0x23a)][_0x52ab62(0x211)](_0x45ea28=>{const _0x5508f4=_0x52ab62;_0x342c9f+=_0x45ea28['number']*_0x45ea28[_0x5508f4(0x225)];}),_0x3eafc3[_0x4b3ec1[_0x52ab62(0x2bb)]-_0x45cf1c-0x1]=_0x342c9f*(_0x548751-0x1);});let _0x4945ea=[];_0xa21c60=[...config['liquidity']]||[];let _0x37a580=0x0;_0x5b8a1b=0x0,_0x4b3ec1['forEach']((_0x59e043,_0x436332)=>{const _0x37d5f0=_0x32805b;if(_0xa21c60[_0x5b8a1b]){const _0x5d0ad7=fns[_0x37d5f0(0x31f)](_0xa21c60[_0x5b8a1b][_0x37d5f0(0x2a1)],_0x37d5f0(0x21c),new Date()),_0x261ced=fns[_0x37d5f0(0x31f)](_0x59e043['date'],_0x37d5f0(0x21c),new Date());if(fns[_0x37d5f0(0x18d)](_0x5d0ad7,_0x261ced)){let _0x4e54ff=0x0;_0xa21c60[_0x5b8a1b][_0x37d5f0(0x2d2)][_0x37d5f0(0x211)](_0x258938=>{const _0x52c41f=_0x37d5f0;!_0x4945ea[_0x258938[_0x52c41f(0x1d3)]]?_0x4945ea[_0x258938[_0x52c41f(0x1d3)]]=_0x258938['number']:(_0x4e54ff=_0x4945ea[_0x258938['coin']],_0x4945ea[_0x258938[_0x52c41f(0x1d3)]]+=_0x258938['number']);const _0x3402f5=_0x59e043[_0x52c41f(0x23a)]['find'](_0x31dd1d=>_0x31dd1d[_0x52c41f(0x1d3)]==_0x258938[_0x52c41f(0x1d3)]);(!_0x3402f5||_0x3402f5[_0x52c41f(0x2c4)]==0x0)&&(_0x37a580+=(-_0x258938[_0x52c41f(0x2c4)]-_0x4e54ff)*_0x258938[_0x52c41f(0x225)]);}),_0x5b8a1b++;}}_0x59e043[_0x37d5f0(0x23a)][_0x37d5f0(0x211)]((_0x5e1bf7,_0x151bec)=>{const _0x511235=_0x37d5f0;_0x4945ea[_0x5e1bf7[_0x511235(0x1d3)]]&&(_0x5e1bf7[_0x511235(0x2d0)]=_0x4945ea[_0x5e1bf7[_0x511235(0x1d3)]]);}),_0x28f765[_0x37d5f0(0x27c)]({'date':_0x59e043[_0x37d5f0(0x2a1)],'eur':_0x59e043[_0x37d5f0(0x2a6)],'usd':_0x59e043[_0x37d5f0(0x2ee)],'offset':_0x3eafc3[_0x436332],'netoffset':_0x37a580,'coins':_0x59e043[_0x37d5f0(0x23a)],'pnl':_0x59e043[_0x37d5f0(0x154)]});});}return _0x28f765;}function emitPerformance(_0x300f16){const _0x3fdb35=_0x44c014;_0x300f16[_0x3fdb35(0x2bb)]!==0x0?(proxyEmit('performance',_0x300f16),lastPerformanceEmitted=getDate()):proxyEmit(_0x3fdb35(0x2d8),[]);}function getPerf(_0x780629,_0xcad1ff){const _0x492ab6=_0x44c014;let _0x17a1e6=0x0,_0x16df8f=0x0,_0x54000c=0x0;_0x780629['coins'][_0x492ab6(0x211)](_0x124c33=>{const _0x251499=_0x492ab6;_0x17a1e6+=_0x124c33['number']*_0x124c33[_0x251499(0x225)];});_0xcad1ff&&(_0x17a1e6+=_0x780629[_0x492ab6(0x163)]);if(config['basecoin']===_0x492ab6(0x1da)||config[_0x492ab6(0x252)]===_0x492ab6(0x2f5)||config[_0x492ab6(0x252)]==='PAXG')_0x16df8f=_0x17a1e6*_0x780629[_0x492ab6(0x2a6)],_0x54000c=_0x17a1e6*_0x780629[_0x492ab6(0x2ee)];else{if(usdBasecoins[_0x492ab6(0x1e3)](config[_0x492ab6(0x252)]))_0x16df8f=_0x17a1e6*_0x780629['eur']/_0x780629[_0x492ab6(0x2ee)],_0x54000c=_0x17a1e6;else config['basecoin']===_0x492ab6(0x260)&&(_0x16df8f=_0x17a1e6,_0x54000c=_0x17a1e6*_0x780629[_0x492ab6(0x2ee)]/_0x780629['eur']);}return[_0x17a1e6,_0x16df8f,_0x54000c];}function CurrencyFactor(_0x27a8f7,_0x5ee43b,_0x556156){const _0x44e187=_0x44c014;let _0x3f0d68;if(_0x5ee43b==='BTC'||_0x5ee43b===_0x44e187(0x2f5)||_0x5ee43b===_0x44e187(0x2ef))_0x3f0d68=_0x556156===_0x44e187(0x260)?_0x27a8f7[_0x44e187(0x2a6)]:_0x27a8f7[_0x44e187(0x2ee)];else{if(usdBasecoins[_0x44e187(0x1e3)](_0x5ee43b))_0x3f0d68=_0x556156===_0x44e187(0x260)?_0x27a8f7['eur']/_0x27a8f7['usd']:0x1;else _0x5ee43b==='EUR'&&(_0x3f0d68=_0x556156===_0x44e187(0x260)?0x1:_0x27a8f7['usd']/_0x27a8f7['eur']);}return _0x3f0d68;}function getKPIs(_0x330b0d,_0xbdbdb4='EUR'){const _0x559f53=_0x44c014,_0x476e7d=config[_0x559f53(0x252)],_0x422162=lastBalances,_0x138dd7=currentCoins,_0x3cc2af=getNormalizedPerformance(),_0x522d0c=CurrencyFactor(_0x422162,config[_0x559f53(0x252)],_0xbdbdb4);let _0x1ca8ef=0x0;_0x138dd7[_0x559f53(0x211)](_0x8801f8=>{const _0x3cb62b=_0x559f53;_0x1ca8ef+=_0x8801f8[_0x3cb62b(0x2c4)]*_0x8801f8['last'];});_0x330b0d[_0x559f53(0x1e3)](_0x559f53(0x27d))&&(_0x1ca8ef*=_0x522d0c);let _0x42c692;if(_0x1ca8ef!==0x0){if(_0x330b0d==='basecoin'||_0x330b0d===_0x559f53(0x27d)){if(_0x330b0d===_0x559f53(0x252))_0x42c692=(_0x1ca8ef/startingBalances['basecoin']-0x1)*0x64;else{if(_0xbdbdb4===_0x559f53(0x260))_0x42c692=(_0x1ca8ef/startingBalances[_0x559f53(0x2a6)]-0x1)*0x64;else _0x42c692=(_0x1ca8ef/startingBalances[_0x559f53(0x2ee)]-0x1)*0x64;}}if(_0x330b0d[_0x559f53(0x1e3)](_0x559f53(0x271))){let _0x2862c6=0x0;if(startingBalances[_0x559f53(0x23a)])_0x138dd7[_0x559f53(0x211)](_0x15ed66=>{const _0x2f74a3=_0x559f53;let _0x3ce214=startingBalances[_0x2f74a3(0x23a)]['find'](_0x4ae87d=>_0x4ae87d['coin']===_0x15ed66[_0x2f74a3(0x1d3)]);if(_0x3ce214&&_0x3ce214[_0x2f74a3(0x1d3)]&&_0x15ed66[_0x2f74a3(0x2c4)]!==0x0)_0x2862c6+=_0x3ce214[_0x2f74a3(0x2c4)]*_0x15ed66['last'];});let _0x41896e=0x0;if(_0x3cc2af[_0x559f53(0x2bb)]!==0x0){let _0xaf459e=_0x3cc2af[_0x3cc2af['length']-0x1];_0x41896e=_0xaf459e[_0x559f53(0x239)];}_0x2862c6-=_0x41896e;let _0xae762b;_0x330b0d===_0x559f53(0x263)&&(_0xae762b=startingBalances[_0x559f53(0x252)]),_0x330b0d===_0x559f53(0x1dc)&&(_0xae762b=_0xbdbdb4===_0x559f53(0x260)?startingBalances[_0x559f53(0x2a6)]:startingBalances['usd'],_0x2862c6*=_0x522d0c),_0x42c692=(_0x1ca8ef-_0x2862c6)/_0xae762b*0x64,_0x1ca8ef=_0x1ca8ef-_0x2862c6;}if(_0x330b0d['includes'](_0x559f53(0x154))){if(_0x3cc2af['length']!==0x0&&_0x138dd7[_0x559f53(0x2bb)]!==0x0){let _0x2f0ecd,_0x5ceca8=_0x3cc2af[_0x3cc2af[_0x559f53(0x2bb)]-0x1][_0x559f53(0x154)];_0x330b0d[_0x559f53(0x1e3)](_0x559f53(0x27d))?(_0x2f0ecd=_0xbdbdb4==='EUR'?startingBalances[_0x559f53(0x2a6)]:startingBalances[_0x559f53(0x2ee)],_0x5ceca8*=CurrencyFactor(_0x422162,_0x476e7d,_0xbdbdb4)):_0x2f0ecd=startingBalances['basecoin'],_0x42c692=_0x5ceca8/_0x2f0ecd*0x64,_0x1ca8ef=_0x5ceca8;}}if(_0x42c692){if(_0x42c692<0x64)_0x42c692=_0x42c692[_0x559f53(0x296)](0x2);else{if(_0x42c692<0x3e8)_0x42c692=_0x42c692['toFixed'](0x1);else _0x42c692=_0x42c692['toFixed'](0x0);}}else _0x42c692=Number('0')[_0x559f53(0x296)](0x2);if(_0x1ca8ef){if(Math[_0x559f53(0x17d)](_0x1ca8ef)<0.000001)_0x1ca8ef=_0x1ca8ef[_0x559f53(0x296)](0x2);else{if(Math['abs'](_0x1ca8ef)<0.1)_0x1ca8ef=_0x1ca8ef[_0x559f53(0x296)](0x6);else{if(Math[_0x559f53(0x17d)](_0x1ca8ef)<0x1)_0x1ca8ef=_0x1ca8ef['toFixed'](0x5);else{if(Math[_0x559f53(0x17d)](_0x1ca8ef)<0xa)_0x1ca8ef=_0x1ca8ef[_0x559f53(0x296)](0x4);else{if(Math['abs'](_0x1ca8ef)<0x64)_0x1ca8ef=_0x1ca8ef[_0x559f53(0x296)](0x3);else{if(Math['abs'](_0x1ca8ef)<0x3e8)_0x1ca8ef=_0x1ca8ef[_0x559f53(0x296)](0x2);else _0x1ca8ef=_0x1ca8ef[_0x559f53(0x296)](0x2);}}}}}}else _0x1ca8ef=Number('0')[_0x559f53(0x296)](0x2);}else _0x42c692=Number('0')['toFixed'](0x2);if(_0x42c692>=0x0)_0x42c692='+'+_0x42c692;return{'value':_0x1ca8ef,'change':_0x42c692};}async function getStartingBalances(_0x3e812d,_0x21a8be=!![]){const _0x15b939=_0x44c014;if(_0x3e812d[_0x15b939(0x2bb)]!==0x0){const [_0x28b4e0,_0x557007,_0x381b12]=getPerf(_0x3e812d[0x0],!![]);let _0x5e2c98=[];config[_0x15b939(0x1ed)]['forEach'](_0xbc3867=>{const _0x54f2b8=_0x15b939;let _0x5f0128=0x0,_0x5e0d92;config[_0x54f2b8(0x231)][_0x54f2b8(0x211)](_0x22de77=>{const _0x5786dc=_0x54f2b8;let _0x4ced3b=_0x22de77[_0x5786dc(0x2d2)][_0x5786dc(0x2e6)](_0x3bc7bb=>_0x3bc7bb['coin']==_0xbc3867[_0x5786dc(0x1d3)]);if(_0x4ced3b){_0x5f0128+=_0x4ced3b[_0x5786dc(0x2c4)];if(!_0x5e0d92)_0x5e0d92=_0x4ced3b[_0x5786dc(0x225)];}}),_0x5e2c98[_0x54f2b8(0x27c)]({'coin':_0xbc3867[_0x54f2b8(0x1d3)],'number':_0x5f0128,'initialprice':_0x5e0d92});});const _0x123895={'basecoin':_0x28b4e0,'eur':_0x557007,'usd':_0x381b12,'coins':_0x5e2c98};if(_0x21a8be)proxyEmit(_0x15b939(0x1e5),_0x123895);startingBalances=_0x123895;}}function headlessMode(_0x3fac6a){const _0x4d7167=_0x44c014;let _0x36467b=_0x3fac6a[_0x4d7167(0x1ed)],_0x4fbdcd=_0x3fac6a[_0x4d7167(0x254)],_0x19a266=[];for(let _0x2671b2 of _0x36467b){if(_0x2671b2[_0x4d7167(0x1d3)]!=config[_0x4d7167(0x252)]){if(_0x2671b2[_0x4d7167(0x2cf)]>=_0x4fbdcd/0x64){if(_0x2671b2[_0x4d7167(0x1ad)])_0x19a266[_0x4d7167(0x27c)](_0x2671b2);}else{if(_0x2671b2[_0x4d7167(0x2cf)]<=-_0x4fbdcd/0x64){if(_0x2671b2[_0x4d7167(0x1ad)])_0x19a266['push'](_0x2671b2);}}}}_0x19a266[_0x4d7167(0x2bb)]>0x0&&placeOrder(_0x19a266);}function notifyBalance(_0xba11e2){const _0x3c6123=_0x44c014;let _0x5d098b=_0xba11e2['portfolio'],_0x4ca3c0=_0xba11e2[_0x3c6123(0x254)],_0x26dc1e=[];for(let _0x335bf0 of _0x5d098b){if(_0x335bf0[_0x3c6123(0x1d3)]!=config['basecoin']){if(_0x335bf0['delta']>=_0x4ca3c0/0x64){if(_0x335bf0[_0x3c6123(0x1ad)])_0x26dc1e[_0x3c6123(0x27c)](_0x335bf0);}else{if(_0x335bf0[_0x3c6123(0x2cf)]<=-_0x4ca3c0/0x64){if(_0x335bf0['valid'])_0x26dc1e[_0x3c6123(0x27c)](_0x335bf0);}}}}if(_0x26dc1e[_0x3c6123(0x2bb)]>0x0){let _0x119593=_0x26dc1e['map'](_0x317e67=>_0x317e67[_0x3c6123(0x1d3)]);_0x119593[_0x3c6123(0x29b)]();let _0x1b55e2=_0x119593['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x3c6123(0x1e9),_0x3c6123(0x15f));lastCoinsToBalance=_0x1b55e2;}}function symbolToCoin(_0x109969){const _0x11525f=_0x44c014;let _0x4510e1;if(_0x109969[_0x11525f(0x1e3)]('/'+config[_0x11525f(0x252)]))_0x4510e1=_0x109969['replace']('/'+config[_0x11525f(0x252)],'');if(_0x109969[_0x11525f(0x1e3)](config[_0x11525f(0x252)]+'/'))_0x4510e1=_0x109969[_0x11525f(0x300)](config[_0x11525f(0x252)]+'/','');return _0x4510e1;}function setLockOrders(_0x45940e){const _0x116129=_0x44c014;lockOrders=_0x45940e,logger['debug'](_0x116129(0x2ca)+Object[_0x116129(0x186)](ORDERS)[lockOrders]);}async function unlockOrders(_0x4953de=![]){const _0x8c8b2d=_0x44c014;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x4953de){const _0x4bf1e5=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4bf1e5,setBlockTransactionDetection(![]);}validateOrdersState=_0x8c8b2d(0x2d0),persistOpenOrders([]),setLockOrders(ORDERS[_0x8c8b2d(0x240)]);}}async function validateOrders(_0x7a855){const _0x39f879=_0x44c014;if(_0x7a855)validateOrdersState=_0x7a855;logger[_0x39f879(0x321)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+Object[_0x39f879(0x186)](ORDERS)[lockOrders]);let _0x3a38c7=[],_0x24381a=config[_0x39f879(0x28b)]==_0x39f879(0x24f)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x39f879(0x152)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x39f879(0x321)](_0x39f879(0x197)+validateOrdersState);for(let _0x403370=lastOrders[_0x39f879(0x2bb)]-0x1;_0x403370>=0x0;_0x403370--){let _0x288789=lastOrders[_0x403370],_0x247ccc=![];_0x288789[_0x39f879(0x206)]>0x0&&(_0x247ccc=!![]),_0x3a38c7['push'](_0x247ccc),_0x247ccc&&config['ordertype']!='market'&&logHistory(_0x39f879(0x19c),'Order\x20filled:\x20'+_0x288789['symbol']+'\x20'+_0x288789[_0x39f879(0x16a)]+'\x20#'+formatResult(_0x288789[_0x39f879(0x206)],0x8)+'\x20@'+formatResult(_0x288789[_0x39f879(0x225)],0x8)),_0x247ccc&&lastOrders[_0x39f879(0x26e)](_0x403370,0x1);}persistOpenOrders(lastOrders);const _0x108233=coolingDown?_0x39f879(0x229):'balancing\x20resumed';if(validateOrdersState==_0x39f879(0x2d0)){validateOrdersState=_0x39f879(0x17c);if(_0x3a38c7[_0x39f879(0x1e3)](![])){}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x3a38c7[_0x39f879(0x1e3)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x39f879(0x1c1)){let _0x2af79f=!![];if(_0x3a38c7['includes'](![])){if(config['ordertype']=='market')logHistory(_0x39f879(0x16d),_0x39f879(0x272)+Math[_0x39f879(0x31e)](_0x24381a*validateOrderInterval/0xea60)+_0x39f879(0x1f5)+_0x108233),await unlockOrders(!![]);else{_0x2af79f=await cancelOrders();if(_0x2af79f)logHistory(_0x39f879(0x16d),_0x39f879(0x320)+Math[_0x39f879(0x31e)](_0x24381a*validateOrderInterval/0xea60)+_0x39f879(0x1f5)+_0x108233),await unlockOrders(!![]);else{validateOrdersState=_0x39f879(0x17c),logHistory('error',_0x39f879(0x1fe)+Math['round'](_0x24381a*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x108233),logHistory(_0x39f879(0x25c),_0x39f879(0x1aa));const _0x3415fa=config[_0x39f879(0x28b)]==_0x39f879(0x24f)?validateOrderTimeout*0x3c*0x3e8:config[_0x39f879(0x152)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4f77d1=_0x39f879;validateOrders(_0x4f77d1(0x1c1));},_0x3415fa);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x39f879(0x18a)){if(config['ordertype']!=_0x39f879(0x24f))logHistory(_0x39f879(0x16d),_0x39f879(0x2f3)+_0x108233);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x1fd70d=_0x44c014;let _0x8c5fe1=!![],_0x5b9287;for(const _0x5a06f3 of lastOrders){let _0x2351d1=![],_0x9b9494=0x0;while(!_0x2351d1&&_0x9b9494<maxRetries){try{const _0x5589d1=await exchange['cancelOrder'](_0x5a06f3[_0x1fd70d(0x259)],_0x5a06f3['symbol']);_0x2351d1=!![];}catch(_0xd485e1){_0xd485e1['toString']()[_0x1fd70d(0x1e3)]('OrderNotFound')||_0xd485e1['toString']()[_0x1fd70d(0x1e3)](_0x1fd70d(0x1f9))?_0x2351d1=!![]:(_0x5b9287=_0xd485e1,_0x2351d1=![]);}!_0x2351d1&&(_0x9b9494++,await sleep(retryInterval));}_0x8c5fe1=_0x8c5fe1&&_0x2351d1;}return!_0x8c5fe1&&await handleError(_0x5b9287,_0x1fd70d(0x1f0)),_0x8c5fe1;}async function initCoinResults(_0x8c947d){const _0xf3c3a9=_0x44c014;_0x8c947d?logger[_0xf3c3a9(0x321)](_0xf3c3a9(0x23c)+_0x8c947d):logger[_0xf3c3a9(0x321)]('Initializing\x20coin\x20results'),config[_0xf3c3a9(0x1ed)][_0xf3c3a9(0x211)](_0x29dd13=>{const _0x356718=_0xf3c3a9;if(!_0x29dd13['excluded']&&_0x29dd13['coin']!=config[_0x356718(0x252)]){const _0x3f9a67=currentCoins['find'](_0x643c19=>_0x643c19['coin']==_0x29dd13[_0x356718(0x1d3)]),_0x31b386=gTicker[noslash(_0x29dd13[_0x356718(0x17b)])];let _0x1bca89=_0x3f9a67?_0x3f9a67[_0x356718(0x2c4)]:null,_0x235292=_0x29dd13[_0x356718(0x27f)]?0x1/_0x31b386:_0x31b386,_0x7ca1;config['liquidity'][_0x356718(0x211)](_0x501d91=>{const _0x729180=_0x356718;!_0x7ca1&&(_0x7ca1=_0x501d91['changes'][_0x729180(0x2e6)](_0xa4cb56=>_0xa4cb56[_0x729180(0x1d3)]==_0x29dd13[_0x729180(0x1d3)]),_0x7ca1&&(_0x1bca89=_0x7ca1[_0x729180(0x2c4)],_0x235292=_0x7ca1['price']));});let _0x5d1c47=dbCoinResults[_0x356718(0x2e8)]('coins')[_0x356718(0x2e6)]({'coin':_0x29dd13[_0x356718(0x1d3)]})[_0x356718(0x20d)]();if(!_0x5d1c47){const _0x6a686c={'coin':_0x29dd13[_0x356718(0x1d3)],'number':_0x1bca89,'breakeven':_0x235292,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x356718(0x2e8)]('coins')[_0x356718(0x27c)](_0x6a686c)[_0x356718(0x251)]();}else{if(_0x8c947d&&_0x29dd13['coin']==_0x8c947d){const _0x18a5f2={'coin':_0x29dd13[_0x356718(0x1d3)],'number':_0x1bca89,'breakeven':_0x235292,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0x356718(0x2e6)]({'coin':_0x29dd13[_0x356718(0x1d3)]})[_0x356718(0x30c)](_0x18a5f2)['write']();}}}});}async function placeOrder(_0x1b7e6c){const _0x762e05=_0x44c014,_0x57d701=config[_0x762e05(0x28b)]==_0x762e05(0x24f)?'market':'limit';if(lockOrders==ORDERS[_0x762e05(0x240)]&&!coolingDown){setLockOrders(ORDERS[_0x762e05(0x279)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x762e05(0x321)](_0x762e05(0x201)+_0x1b7e6c[_0x762e05(0x1a4)](_0xb6624b=>_0xb6624b[_0x762e05(0x1d3)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x762e05(0x2d0);let _0x37e10b=![];lastOrders=[];const _0x4bc104=config[_0x762e05(0x254)];for(const _0xda35dc of _0x1b7e6c){let _0x1fa7b4,_0x291275,_0x20c636,_0x1b8952,_0x45daa6,_0x3987e8=_0xda35dc[_0x762e05(0x17b)];logger['debug']('Trigger:\x20'+_0xda35dc[_0x762e05(0x1d3)]+'\x20'+_0xda35dc[_0x762e05(0x2c4)]+'\x20'+_0xda35dc[_0x762e05(0x215)]+'\x20'+_0xda35dc[_0x762e05(0x1c4)]+'%\x20'+_0xda35dc['target']+'%\x20'+(0x64*_0xda35dc['delta'])[_0x762e05(0x296)](0x2)+'%\x20('+_0x4bc104[_0x762e05(0x296)](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x762e05(0x1a1)](_0x40ddc1=>_0x40ddc1!==_0xda35dc['coin']);const _0x1349ee=currentCoins[_0x762e05(0x2e6)](_0x209cb1=>_0x209cb1[_0x762e05(0x1d3)]==_0xda35dc['coin']);_0x1349ee&&(_0x1349ee['prevnumber']=_0xda35dc[_0x762e05(0x2c4)]);try{const _0x5939e7=await exchange[_0x762e05(0x171)](_0x3987e8);_0x1fa7b4=_0xda35dc[_0x762e05(0x27f)]?0x1/_0xda35dc[_0x762e05(0x215)]:_0xda35dc[_0x762e05(0x215)],_0x291275=_0x5939e7[_0x762e05(0x289)],_0x20c636=_0x5939e7[_0x762e05(0x286)];_0xda35dc['reverse']?(_0x1b8952=_0xda35dc[_0x762e05(0x16a)]==_0x762e05(0x2cb)?_0x762e05(0x2b5):_0x762e05(0x2cb),_0x45daa6=Math['abs'](_0xda35dc[_0x762e05(0x1f6)])/_0x1fa7b4):(_0x1b8952=_0xda35dc[_0x762e05(0x16a)],_0x45daa6=Math[_0x762e05(0x17d)](_0xda35dc[_0x762e05(0x1f6)]));_0x57d701==_0x762e05(0x1f2)&&(config[_0x762e05(0x28b)]=='limit-high'&&(_0x1fa7b4=_0x1b8952==_0x762e05(0x2cb)?_0x291275:_0x20c636),config[_0x762e05(0x28b)]==_0x762e05(0x2d4)&&(_0x1fa7b4=_0x1b8952==_0x762e05(0x2cb)?_0x20c636:_0x291275));_0x45daa6=formatResult(_0x45daa6,0x8),_0x1fa7b4=formatResult(_0x1fa7b4,0x8);const _0x5d4f8a=_0x1b8952==_0x762e05(0x2b5)?config[_0x762e05(0x26b)]?String['fromCodePoint']('0x'+config[_0x762e05(0x26b)])+'\x20':'':config['emojibuy']?String[_0x762e05(0x1c8)]('0x'+config[_0x762e05(0x16f)])+'\x20':'',_0x1c05a4=_0x57d701==_0x762e05(0x24f)?_0x762e05(0x1d4):config['ordertype']==_0x762e05(0x236)?_0x762e05(0x17f):_0x762e05(0x22f),_0x246350=(Math['floor'](Math[_0x762e05(0x22a)]()*0x35a4e900)+0x5f5e100)[_0x762e05(0x317)]();lastOrders[_0x762e05(0x27c)]({'customId':_0x246350,'symbol':_0x3987e8,'coin':_0xda35dc[_0x762e05(0x1d3)],'amount':_0x45daa6,'price':_0x1fa7b4,'side':_0x1b8952,'reverse':_0xda35dc[_0x762e05(0x27f)],'filled':0x0});let _0x1fda44;_0x57d701==_0x762e05(0x24f)?_0x1b8952==_0x762e05(0x2cb)&&[_0x762e05(0x1a0),_0x762e05(0x22c),_0x762e05(0x311),_0x762e05(0x306),_0x762e05(0x187)][_0x762e05(0x1e3)](config[_0x762e05(0x191)])?_0x1fda44=await exchange['createOrder'](_0x3987e8,_0x57d701,_0x1b8952,_0x45daa6,_0x1fa7b4):_0x1fda44=await exchange[_0x762e05(0x167)](_0x3987e8,_0x57d701,_0x1b8952,_0x45daa6,undefined):_0x1fda44=await exchange[_0x762e05(0x167)](_0x3987e8,_0x57d701,_0x1b8952,_0x45daa6,_0x1fa7b4);const _0x4d7d8f=lastOrders['length']-0x1;if(_0x4d7d8f>=0x0&&lastOrders[_0x4d7d8f]['customId']==_0x246350){lastOrders[_0x4d7d8f][_0x762e05(0x259)]=_0x1fda44['id'];if(_0x1fda44['amount'])lastOrders[_0x4d7d8f][_0x762e05(0x2af)]=_0x1fda44['amount'];if(_0x1fda44[_0x762e05(0x225)])lastOrders[_0x4d7d8f][_0x762e05(0x225)]=_0x1fda44[_0x762e05(0x225)];lastOrders[_0x4d7d8f][_0x762e05(0x1df)]=_0x1fda44['fee'];}if(_0x1fda44['amount'])_0x45daa6=_0x1fda44[_0x762e05(0x2af)];if(_0x1fda44['price'])_0x1fa7b4=_0x1fda44[_0x762e05(0x225)];if(_0x57d701==_0x762e05(0x24f))logHistory(_0x762e05(0x19c),''+_0x5d4f8a+_0x1c05a4+_0x762e05(0x24d)+_0x3987e8+'\x20'+_0x1b8952+'\x20#'+formatResult(_0x45daa6,0x8)+'\x20@'+formatResult(_0x1fa7b4,0x8));else logHistory('order',''+_0x5d4f8a+_0x1c05a4+'\x20order:\x20'+_0x3987e8+'\x20'+_0x1b8952+'\x20#'+formatResult(_0x45daa6,0x8)+'\x20@'+formatResult(_0x1fa7b4,0x8));logger[_0x762e05(0x321)]('ID:\x20'+_0x1fda44['id']+'\x20|\x20Custom\x20ID:\x20'+_0x246350);if(config['cooldown']!=0x0){let _0x535701=null;if(cooldownTracker[_0x762e05(0x2bb)]==config[_0x762e05(0x15b)]-0x1)_0x535701=cooldownTracker[_0x762e05(0x226)]();const _0x388a4d=getTimeStamp();cooldownTracker[_0x762e05(0x27c)](_0x388a4d);if(_0x535701){const _0x547494=fns[_0x762e05(0x24c)](new Date(_0x388a4d),new Date(_0x535701));if(_0x547494<cooldownInterval){logHistory(_0x762e05(0x25c),_0x762e05(0x26c)+config[_0x762e05(0x15b)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x762e05(0x270)),coolingDown=!![];break;}}}}catch(_0x57b954){if(_0x57b954['toString']()[_0x762e05(0x1e3)](_0x762e05(0x257)))lastOrders=lastOrders['filter'](_0x467c13=>_0x467c13['symbol']!=_0x3987e8),logHistory(_0x762e05(0x25c),_0x762e05(0x202)+_0x3987e8),_0x37e10b=!![];else{if(_0x57b954['toString']()[_0x762e05(0x1e3)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x762e05(0x1a1)](_0x141e43=>_0x141e43[_0x762e05(0x17b)]!=_0x3987e8),logHistory(_0x762e05(0x25c),_0x762e05(0x241)+_0x3987e8),_0x37e10b=!![];else{if(_0x57b954[_0x762e05(0x317)]()[_0x762e05(0x1e3)]('InvalidOrder'))lastOrders=lastOrders[_0x762e05(0x1a1)](_0x509ca8=>_0x509ca8[_0x762e05(0x17b)]!=_0x3987e8),logHistory('error',_0x762e05(0x155)+_0x3987e8),logger[_0x762e05(0x321)](_0x57b954),_0x37e10b=!![];else _0x57b954[_0x762e05(0x317)]()[_0x762e05(0x1e3)](_0x762e05(0x21f))?(lastOrders=lastOrders['filter'](_0x2b03ec=>_0x2b03ec[_0x762e05(0x17b)]!=_0x3987e8),logHistory(_0x762e05(0x25c),_0x762e05(0x202)+_0x3987e8),_0x37e10b=!![]):(lastOrders=lastOrders[_0x762e05(0x1a1)](_0x4d1cdc=>_0x4d1cdc[_0x762e05(0x17b)]!=_0x3987e8),await handleError(_0x57b954,_0x762e05(0x2fc),_0x3987e8));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){const _0xb4b852=config[_0x762e05(0x28b)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x762e05(0x152)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x37f9ef=_0x762e05;validateOrders(_0x37f9ef(0x1c1));},_0xb4b852);}else unlockOrders();_0x37e10b&&config[_0x762e05(0x18f)]&&(logHistory(_0x762e05(0x25c),_0x762e05(0x2e5)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x762e05(0x16d),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x762e05(0x18f)]&&logHistory('error',_0x762e05(0x323));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x762e05(0x18f)]&&(config['ordertype']==_0x762e05(0x24f)?logHistory('error',_0x762e05(0x180)):logHistory(_0x762e05(0x25c),_0x762e05(0x2d7))));}}function persistOpenOrders(_0x32b1d1){const _0x5d7dfb=_0x44c014,_0x29f341={...config,'openOrders':_0x32b1d1};let _0x4aa443=dbConfig[_0x5d7dfb(0x2e8)](_0x5d7dfb(0x267))[_0x5d7dfb(0x2e6)]({'botID':botID})[_0x5d7dfb(0x20d)]();_0x4aa443&&dbConfig[_0x5d7dfb(0x2e8)](_0x5d7dfb(0x267))[_0x5d7dfb(0x2e6)]({'botID':botID})[_0x5d7dfb(0x30c)](_0x29f341)[_0x5d7dfb(0x251)]();}function restoreOrders(){const _0x47f9da=_0x44c014;let _0x1e9539;config[_0x47f9da(0x269)]&&allOpenOrders[_0x47f9da(0x211)](_0x37f904=>{const _0x797227=_0x47f9da,_0xac4c19=config[_0x797227(0x269)][_0x797227(0x2e6)](_0x134974=>_0x134974[_0x797227(0x259)]==_0x37f904['id']);_0xac4c19&&(lastOrders[_0x797227(0x27c)](_0xac4c19),_0x1e9539=_0x37f904[_0x797227(0x245)]);});if(lastOrders[_0x47f9da(0x2bb)]>0x0){setLockOrders(ORDERS[_0x47f9da(0x279)]),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x59379a=new Date()[_0x47f9da(0x198)](),_0x45688b=config['ordertype']==_0x47f9da(0x24f)?validateOrderTimeout*0x3c*0x3e8:config[_0x47f9da(0x152)]*0x3c*0x3e8;if(_0x1e9539+_0x45688b>_0x59379a){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4d99fa=_0x47f9da;validateOrders(_0x4d99fa(0x1c1));},_0x1e9539+_0x45688b-_0x59379a);}else validateOrders(_0x47f9da(0x1c1));}}function _0x211c(_0x35f0e1,_0x510a42){const _0x27fc0c=_0x7c3b();return _0x211c=function(_0x40d8e2,_0x2852a1){_0x40d8e2=_0x40d8e2-0x151;let _0x7c3ba3=_0x27fc0c[_0x40d8e2];return _0x7c3ba3;},_0x211c(_0x35f0e1,_0x510a42);}async function sendMetricsTelegram(){const _0x5246bc=_0x44c014;if(!coinsLoaded){process['send']({'telegrammsg':_0x5246bc(0x276)},_0x106989=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x7fe255='';if(config[_0x5246bc(0x2f6)])_0x7fe255=_0x5246bc(0x2db)+config[_0x5246bc(0x1bb)]+_0x5246bc(0x199);else _0x7fe255=_0x5246bc(0x312)+botID+_0x5246bc(0x199);const _0x46544f=config['basecoin'],_0x5b60e8=config['fiat'],_0x5bcbe4=getKPIs(_0x5246bc(0x252)),_0x162210=getKPIs(_0x5246bc(0x27d),_0x5b60e8),_0xc553d6=getKPIs(_0x5246bc(0x263)),_0x546e5e=getKPIs(_0x5246bc(0x1dc),_0x5b60e8),_0x59594e=getKPIs('pnl-basecoin'),_0x49e38e=getKPIs(_0x5246bc(0x2fe),_0x5b60e8);_0x46544f['includes'](_0x5b60e8)?(_0x7fe255+=_0x5246bc(0x1f3),_0x7fe255+='Value\x20'+_0x46544f+':\x20'+_0x5bcbe4['value']+'\x20('+_0x5bcbe4[_0x5246bc(0x2da)]+'%)\x0a',_0x7fe255+=_0x5246bc(0x1ff)+_0x46544f+':\x20'+_0xc553d6['value']+'\x20('+_0xc553d6['change']+_0x5246bc(0x29d),_0x7fe255+=_0x5246bc(0x1a7)+_0x46544f+':\x20'+_0x59594e[_0x5246bc(0x20d)]+'\x20('+_0x59594e[_0x5246bc(0x2da)]+_0x5246bc(0x29d),_0x7fe255+=_0x5246bc(0x1ec)):(_0x7fe255+='<pre>',_0x7fe255+='Value\x20'+_0x46544f+':\x20'+_0x5bcbe4['value']+'\x20('+_0x5bcbe4[_0x5246bc(0x2da)]+'%)\x0a',_0x7fe255+=_0x5246bc(0x15e)+_0x5b60e8+':\x20'+_0x162210['value']+'\x20('+_0x162210[_0x5246bc(0x2da)]+_0x5246bc(0x29d),_0x7fe255+=_0x5246bc(0x1ff)+_0x46544f+':\x20'+_0xc553d6['value']+'\x20('+_0xc553d6[_0x5246bc(0x2da)]+_0x5246bc(0x29d),_0x7fe255+=_0x5246bc(0x1ff)+_0x5b60e8+':\x20'+_0x546e5e[_0x5246bc(0x20d)]+'\x20('+_0x546e5e[_0x5246bc(0x2da)]+_0x5246bc(0x29d),_0x7fe255+='PnL\x20'+_0x46544f+':\x20'+_0x59594e[_0x5246bc(0x20d)]+'\x20('+_0x59594e[_0x5246bc(0x2da)]+'%)\x0a',_0x7fe255+=_0x5246bc(0x1a7)+_0x5b60e8+':\x20'+_0x49e38e[_0x5246bc(0x20d)]+'\x20('+_0x49e38e[_0x5246bc(0x2da)]+_0x5246bc(0x29d),_0x7fe255+=_0x5246bc(0x1ec)),process[_0x5246bc(0x227)]({'telegrammsg':_0x7fe255},_0x5d2599=>{});}async function sendPortfolioTelegram(){const _0x21e94b=_0x44c014;if(!coinsLoaded||!currentCoins[0x0][_0x21e94b(0x1c4)]){process[_0x21e94b(0x227)]({'telegrammsg':_0x21e94b(0x276)},_0x13c669=>{});return;}let _0x6bb39f='';if(config['showname'])_0x6bb39f='<b>'+config[_0x21e94b(0x1bb)]+_0x21e94b(0x175);else _0x6bb39f=_0x21e94b(0x312)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x6bb39f+=_0x21e94b(0x1f3),_0x6bb39f+=_0x21e94b(0x1a3),_0x6bb39f+=_0x21e94b(0x2be),_0x6bb39f+=_0x21e94b(0x1a3),currentCoins[_0x21e94b(0x211)](_0xee2bbd=>{const _0x4d17bc=_0x21e94b;_0x6bb39f+=_0xee2bbd[_0x4d17bc(0x1d3)]['padEnd'](0x7)+'|\x20'+formatPad(_0xee2bbd[_0x4d17bc(0x1c4)],0x2,0x6)+'|\x20'+formatPad(_0xee2bbd[_0x4d17bc(0x314)],0x2,0x6)+'|\x20'+formatPad(_0xee2bbd[_0x4d17bc(0x2cf)]*0x64,0x2,0x6)+'\x0a';}),_0x6bb39f+=_0x21e94b(0x1ec),process[_0x21e94b(0x227)]({'telegrammsg':_0x6bb39f},_0x344732=>{});}function formatPad(_0x5899fc,_0x18bff7,_0x3247bf){const _0x2428c7=_0x44c014,_0x210002=formatResultString(_0x5899fc,_0x18bff7);return _0x210002?_0x210002[_0x2428c7(0x2a4)](_0x3247bf):''[_0x2428c7(0x2a4)](_0x3247bf);}function logHistory(_0x262b6f,_0x2fe6ac,_0x36e8a4=''){const _0x2f5087=_0x44c014;logger[_0x2f5087(0x2f8)](''+_0x2fe6ac);let _0x57d3bb={'time':getTimeStamp(),'type':_0x262b6f,'event':_0x2fe6ac};dbLogs['get'](_0x2f5087(0x287))[_0x2f5087(0x27c)](_0x57d3bb)[_0x2f5087(0x251)]();if(_0x36e8a4=='')_0x36e8a4=_0x2fe6ac;proxyEmit(_0x2f5087(0x2e4),{'log':_0x57d3bb,'summary':_0x36e8a4}),process[_0x2f5087(0x227)]({'telegram':{..._0x57d3bb,'botname':config[_0x2f5087(0x1bb)],'showname':config[_0x2f5087(0x2f6)]}},_0x5674c8=>{});}function emitHistory(_0x5c720e={}){const _0x23e3d1=_0x44c014;Object[_0x23e3d1(0x186)](_0x5c720e)[_0x23e3d1(0x2bb)]==0x0&&(_0x5c720e={'type':[_0x23e3d1(0x19c),_0x23e3d1(0x2e4)],'event':'','page':0x1});if(_0x5c720e['type'][_0x23e3d1(0x1e3)](_0x23e3d1(0x2e4)))_0x5c720e[_0x23e3d1(0x22b)][_0x23e3d1(0x26e)](_0x5c720e['type'][_0x23e3d1(0x222)](_0x23e3d1(0x2e4)),0x1,_0x23e3d1(0x25c),'warning','success');if(dbLogs[_0x23e3d1(0x223)]('logs')[_0x23e3d1(0x20d)]()){let _0x3cb33e=dbLogs[_0x23e3d1(0x2e8)](_0x23e3d1(0x287))['filter'](_0x27b635=>{const _0x117c3a=_0x23e3d1;if(_0x5c720e[_0x117c3a(0x22b)]['length']==0x0)return![];else return _0x5c720e[_0x117c3a(0x22b)][_0x117c3a(0x1e3)](_0x27b635[_0x117c3a(0x22b)]);})[_0x23e3d1(0x1a1)](_0x23892d=>{const _0x1e4ab4=_0x23e3d1;if(_0x5c720e[_0x1e4ab4(0x2e4)]=='')return!![];else return _0x23892d[_0x1e4ab4(0x2e4)][_0x1e4ab4(0x278)]()[_0x1e4ab4(0x1e3)](_0x5c720e[_0x1e4ab4(0x2e4)][_0x1e4ab4(0x278)]());})[_0x23e3d1(0x168)](_0x23e3d1(0x179)),_0x2e3cc1=_0x3cb33e[_0x23e3d1(0x20d)]()['length'];_0x3cb33e=_0x3cb33e[_0x23e3d1(0x27f)]()[_0x23e3d1(0x277)]((_0x5c720e[_0x23e3d1(0x2b4)]-0x1)*logPageSize,_0x5c720e[_0x23e3d1(0x2b4)]*logPageSize-0x1)[_0x23e3d1(0x27f)]()[_0x23e3d1(0x20d)](),proxyEmit(_0x23e3d1(0x2e1),{'logs':_0x3cb33e,'total':_0x2e3cc1});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x21904a){const _0x48eb97=_0x44c014;if(dbLogs[_0x48eb97(0x223)](_0x48eb97(0x287))['value']()){const _0x365b03=dbLogs[_0x48eb97(0x2e8)](_0x48eb97(0x287))[_0x48eb97(0x168)](_0x48eb97(0x179))[_0x48eb97(0x1a1)](_0x5cb668=>{return _0x5cb668['type']=='order';})[_0x48eb97(0x20d)]();dbLogs['get'](_0x48eb97(0x287))[_0x48eb97(0x2e9)]()['write'](),dbLogs[_0x48eb97(0x2e8)]('logs')[_0x48eb97(0x30c)](_0x365b03)[_0x48eb97(0x251)](),emitHistory(_0x21904a);}}async function pauseBot(_0x141a30=pauseBotIntervalShort,_0xf7389a,_0x8f8417,_0x533944=![]){const _0x22124f=_0x44c014,_0x5087dd=new Date()[_0x22124f(0x198)]();if(!lastErrorShown||_0x5087dd-lastErrorShown>=_0x141a30){lastErrorShown=_0x5087dd;if(!lastBotPause)lastBotPause=_0x5087dd,consecutivePauses=0x1;else{if(_0x5087dd-lastBotPause-_0x141a30<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x533944){logHistory('error',_0xf7389a+_0x22124f(0x29f)),await killBot();return;}else logHistory(_0x22124f(0x25c),_0xf7389a+pauseBotMsg),_0x141a30=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x5087dd;}_0x8f8417?logger[_0x22124f(0x321)]('('+consecutivePauses+')\x20'+_0xf7389a+_0x22124f(0x23f),_0x8f8417):logger[_0x22124f(0x321)]('('+consecutivePauses+')\x20'+_0xf7389a);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x141a30),botPaused=![],_0x141a30==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x4174cc=_0x44c014;botPaused=!![],await sleep(0x3e8),process[_0x4174cc(0x227)]({'stop':_0x4174cc(0x31a)},_0x439524=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5d6058,_0xcef807,_0x4e212=![]){const _0x5ec5e0=_0x44c014;if(botPaused)return;let _0x29609b;const _0x5549f0=config[_0x5ec5e0(0x191)]||_0x5ec5e0(0x1af);if(_0xcef807)logger[_0x5ec5e0(0x321)](_0x5ec5e0(0x281)+_0xcef807);const _0x59fd0e=()=>{const _0x221e8e=_0x5ec5e0;loading['error']=_0x221e8e(0x1e2),emitLoadingProgress();};if(_0x5d6058[_0x5ec5e0(0x317)]()['includes'](_0x5ec5e0(0x1eb)))logHistory('error',_0x5549f0+_0x5ec5e0(0x29e)),_0x59fd0e();else{if(_0x5d6058['toString']()[_0x5ec5e0(0x1e3)](_0x5ec5e0(0x158)))logHistory(_0x5ec5e0(0x25c),_0x5549f0+_0x5ec5e0(0x256)),_0x59fd0e();else{if(_0x5d6058[_0x5ec5e0(0x317)]()['includes']('AuthenticationError'))config[_0x5ec5e0(0x1f1)]?_0x29609b=_0x5549f0+_0x5ec5e0(0x1d2):_0x29609b=_0x5549f0+_0x5ec5e0(0x160),logHistory(_0x5ec5e0(0x25c),_0x29609b+_0x5ec5e0(0x169)),_0x59fd0e();else{if(_0x5d6058['toString']()[_0x5ec5e0(0x1e3)](_0x5ec5e0(0x151)))logHistory(_0x5ec5e0(0x25c),_0x5549f0+_0x5ec5e0(0x2b0)),_0x59fd0e();else{if(!_0x4e212)await handleError(_0x5d6058,null);}}}}}async function handleError(_0x36cf54,_0x58aeef,_0x4d40e9=''){const _0x1c4dcc=_0x44c014;if(botPaused)return;let _0x551f22;const _0x451de9=config[_0x1c4dcc(0x191)]||_0x1c4dcc(0x1af);if(_0x58aeef)logger[_0x1c4dcc(0x321)]('Exception\x20thrown\x20in\x20'+_0x58aeef);if(_0x36cf54[_0x1c4dcc(0x317)]()[_0x1c4dcc(0x1e3)]('DDoSProtection'))_0x551f22=_0x451de9+'\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x551f22,_0x36cf54);else{if(_0x36cf54[_0x1c4dcc(0x317)]()[_0x1c4dcc(0x1e3)]('RateLimitExceeded'))_0x551f22=_0x451de9+_0x1c4dcc(0x21b),await pauseBot(undefined,_0x551f22,_0x36cf54);else{if(_0x36cf54[_0x1c4dcc(0x317)]()['includes'](_0x1c4dcc(0x302))||_0x36cf54['toString']()[_0x1c4dcc(0x1e3)]('OnMaintenance'))_0x551f22=_0x451de9+_0x1c4dcc(0x183),await pauseBot(undefined,_0x551f22,_0x36cf54['toString']());else{if(_0x36cf54[_0x1c4dcc(0x317)]()[_0x1c4dcc(0x1e3)](_0x1c4dcc(0x2ac)))_0x551f22=_0x451de9+_0x1c4dcc(0x1fc),await pauseBot(undefined,_0x551f22,_0x36cf54['toString']());else{if(_0x36cf54[_0x1c4dcc(0x317)]()['includes'](_0x1c4dcc(0x250)))_0x551f22=_0x451de9+_0x1c4dcc(0x285),await pauseBot(undefined,_0x551f22,_0x36cf54[_0x1c4dcc(0x317)]());else{if(_0x36cf54['toString']()[_0x1c4dcc(0x278)]()[_0x1c4dcc(0x1e3)]('timestamp')||_0x36cf54[_0x1c4dcc(0x317)]()[_0x1c4dcc(0x278)]()[_0x1c4dcc(0x1e3)]('request-time'))_0x551f22='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',await pauseBot(undefined,_0x551f22,_0x36cf54[_0x1c4dcc(0x317)]());else{if(_0x36cf54['toString']()[_0x1c4dcc(0x1e3)](_0x1c4dcc(0x308)))_0x551f22=_0x451de9+_0x1c4dcc(0x22e),await pauseBot(undefined,_0x551f22,_0x36cf54[_0x1c4dcc(0x317)]());else{if(_0x36cf54 instanceof ccxt[_0x1c4dcc(0x161)])_0x551f22=_0x451de9+_0x1c4dcc(0x2c7)+_0x36cf54[_0x1c4dcc(0x317)](),logger[_0x1c4dcc(0x321)](_0x1c4dcc(0x21a),_0x36cf54),await pauseBot(undefined,_0x551f22,_0x36cf54);else{if(_0x36cf54[_0x1c4dcc(0x317)]()[_0x1c4dcc(0x1e3)](_0x1c4dcc(0x1eb)))logHistory(_0x1c4dcc(0x25c),_0x451de9+_0x1c4dcc(0x2f0)),logHistory(_0x1c4dcc(0x25c),_0x1c4dcc(0x1ac)),await killBot();else{if(_0x36cf54['toString']()[_0x1c4dcc(0x1e3)](_0x1c4dcc(0x158)))logHistory('error',_0x451de9+_0x1c4dcc(0x173)),logHistory(_0x1c4dcc(0x25c),_0x1c4dcc(0x1ac)),await killBot();else{if(_0x36cf54[_0x1c4dcc(0x317)]()['includes'](_0x1c4dcc(0x1e1))&&_0x36cf54[_0x1c4dcc(0x317)]()['includes'](_0x1c4dcc(0x26a)))_0x551f22=_0x451de9+_0x1c4dcc(0x1d9),await pauseBot(undefined,_0x551f22,_0x36cf54,!![]);else{if(_0x36cf54['toString']()[_0x1c4dcc(0x1e3)](_0x1c4dcc(0x1e1)))config[_0x1c4dcc(0x1f1)]?_0x551f22=_0x451de9+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x551f22=_0x451de9+_0x1c4dcc(0x160),logHistory(_0x1c4dcc(0x25c),_0x551f22),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x36cf54[_0x1c4dcc(0x317)]()['includes'](_0x1c4dcc(0x151)))logHistory(_0x1c4dcc(0x25c),_0x451de9+_0x1c4dcc(0x2d9)),logHistory(_0x1c4dcc(0x25c),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x36cf54[_0x1c4dcc(0x317)]()[_0x1c4dcc(0x1e3)]('InsufficientFunds'))logHistory(_0x1c4dcc(0x25c),_0x1c4dcc(0x162)+_0x4d40e9),logger[_0x1c4dcc(0x321)](_0x1c4dcc(0x2bd),_0x36cf54);else{if(_0x36cf54 instanceof ccxt['ExchangeError']){_0x551f22=_0x451de9+_0x1c4dcc(0x1de)+_0x36cf54[_0x1c4dcc(0x317)]();if(_0x4d40e9)_0x551f22+=_0x1c4dcc(0x185)+_0x4d40e9;await pauseBot(undefined,_0x551f22,_0x36cf54);}else{_0x551f22=_0x1c4dcc(0x1d1)+_0x36cf54[_0x1c4dcc(0x317)]();if(_0x4d40e9)_0x551f22+=_0x1c4dcc(0x185)+_0x4d40e9;await pauseBot(undefined,_0x551f22);}}}}}}}}}}}}}}}}function decryptRSA(_0x2e4f14,_0x184926){const _0x31887f=_0x44c014,_0x454bfa=forge[_0x31887f(0x15a)]['privateKeyFromPem'](_0x2e4f14),_0x5aae86=_0x454bfa[_0x31887f(0x2d1)](forge[_0x31887f(0x243)][_0x31887f(0x1b1)](_0x184926),'RSA-OAEP',{'md':forge['md']['sha256'][_0x31887f(0x1cf)](),'mgf1':{'md':forge['md'][_0x31887f(0x220)][_0x31887f(0x1cf)]()}});return _0x5aae86;}async function withRetry(_0x202380,_0x34f7d1){const _0x5e19eb=_0x44c014;let _0x4670b1=![],_0x5e7223=0x0,_0x3756fc,_0x4d3518;while(_0x5e7223<maxRetries){try{_0x3756fc=await _0x34f7d1();break;}catch(_0x3b00f0){_0x4d3518=_0x3b00f0,!_0x4670b1?(_0x4670b1=!![],logger[_0x5e19eb(0x321)](_0x5e19eb(0x26d)+_0x202380+':',_0x3b00f0[_0x5e19eb(0x317)]())):await sleep(retryInterval);}_0x5e7223++;}if(_0x5e7223==0x0)return _0x3756fc;if(_0x5e7223>=maxRetries)throw _0x4d3518;else return logger[_0x5e19eb(0x321)](_0x5e19eb(0x176)+_0x5e7223+_0x5e19eb(0x292)),_0x3756fc;}function formatResult(_0x21b760,_0x515595){const _0xed44f2=_0x44c014;return parseFloat(_0x21b760[_0xed44f2(0x296)](_0x515595));}function formatResultTruncate(_0x522b4f,_0x56c83b){const _0x20a3a8=_0x44c014;let _0x2ab499=formatResultString(_0x522b4f,0xa),_0x5745c3=_0x2ab499[_0x20a3a8(0x222)]('.');return _0x5745c3!=-0x1&&(_0x2ab499=_0x2ab499[_0x20a3a8(0x277)](0x0,_0x5745c3+_0x56c83b+0x1)),Number(_0x2ab499);}function formatResultString(_0x416af6,_0x8304c3){const _0x36acc5=_0x44c014;let _0x4f8c27;if(!(''+_0x416af6)[_0x36acc5(0x1e3)]('e'))_0x4f8c27=+(Math[_0x36acc5(0x31e)](_0x416af6+'e+'+_0x8304c3)+'e-'+_0x8304c3);else{let _0x1416dd=(''+_0x416af6)[_0x36acc5(0x19f)]('e'),_0x46fb75='';+_0x1416dd[0x1]+_0x8304c3>0x0&&(_0x46fb75='+'),_0x4f8c27=+(Math[_0x36acc5(0x31e)](+_0x1416dd[0x0]+'e'+_0x46fb75+(+_0x1416dd[0x1]+_0x8304c3))+'e-'+_0x8304c3);}return Number(_0x4f8c27)[_0x36acc5(0x296)](_0x8304c3);}function getServerTime(){const _0x171baf=_0x44c014,_0x4e161a=new Date();return _0x4e161a[_0x171baf(0x1f8)]()+'/'+(_0x4e161a[_0x171baf(0x29c)]()+0x1)['toString']()[_0x171baf(0x2a4)](0x2,'0')+'/'+_0x4e161a[_0x171baf(0x17e)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x4e161a[_0x171baf(0x2a0)]()['toString']()['padStart'](0x2,'0')+':'+_0x4e161a['getMinutes']()[_0x171baf(0x317)]()[_0x171baf(0x2a4)](0x2,'0')+':'+_0x4e161a[_0x171baf(0x2c8)]()[_0x171baf(0x317)]()[_0x171baf(0x2a4)](0x2,'0');}function getTimeStamp(){const _0x564f24=_0x44c014,_0x1e9ac0=shiftedTime();return _0x1e9ac0['getFullYear']()+'/'+(_0x1e9ac0[_0x564f24(0x29c)]()+0x1)['toString']()[_0x564f24(0x2a4)](0x2,'0')+'/'+_0x1e9ac0[_0x564f24(0x17e)]()[_0x564f24(0x317)]()[_0x564f24(0x2a4)](0x2,'0')+'\x20'+_0x1e9ac0[_0x564f24(0x2a0)]()['toString']()['padStart'](0x2,'0')+':'+_0x1e9ac0[_0x564f24(0x21d)]()[_0x564f24(0x317)]()['padStart'](0x2,'0')+':'+_0x1e9ac0[_0x564f24(0x2c8)]()[_0x564f24(0x317)]()[_0x564f24(0x2a4)](0x2,'0');}function getDate(){const _0x58f521=_0x44c014,_0x32d45d=shiftedTime();return _0x32d45d['getFullYear']()+'/'+(_0x32d45d['getMonth']()+0x1)[_0x58f521(0x317)]()[_0x58f521(0x2a4)](0x2,'0')+'/'+_0x32d45d[_0x58f521(0x17e)]()[_0x58f521(0x317)]()['padStart'](0x2,'0');}function getHour(){const _0x35abc2=_0x44c014,_0x258d38=shiftedTime();return _0x258d38['getHours']()[_0x35abc2(0x317)]()['padStart'](0x2,'0');}function sleep(_0x412c89){return new Promise(_0x1d03f2=>setTimeout(_0x1d03f2,_0x412c89));}function shiftedTime(){const _0xc3e00c=_0x44c014,_0x20caa8=new Date();let _0x19b0d4=_0x20caa8;if(config&&config[_0xc3e00c(0x157)]!==0x0)_0x19b0d4=fns[_0xc3e00c(0x309)](_0x20caa8,{'hours':config['timeshift']});return _0x19b0d4;}function timer(_0x881e1b){const _0x33fbf4=_0x44c014,_0x4ff31f=new Date();!lasttime?console[_0x33fbf4(0x2c5)](getTimeStamp()+_0x33fbf4(0x1b3),_0x881e1b,_0x4ff31f):console[_0x33fbf4(0x2c5)](getTimeStamp()+_0x33fbf4(0x1b3),_0x881e1b,(_0x4ff31f-lasttime)/0x3e8),lasttime=_0x4ff31f;}