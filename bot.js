const _0x167f3b=_0x250b;(function(_0x3c9c20,_0x18ea77){const _0x51cd68=_0x250b,_0x54ee86=_0x3c9c20();while(!![]){try{const _0x5067ca=-parseInt(_0x51cd68(0x2ad))/0x1*(parseInt(_0x51cd68(0x12a))/0x2)+-parseInt(_0x51cd68(0x2b7))/0x3+parseInt(_0x51cd68(0x169))/0x4*(parseInt(_0x51cd68(0x15c))/0x5)+-parseInt(_0x51cd68(0x1e1))/0x6+parseInt(_0x51cd68(0x1a9))/0x7*(parseInt(_0x51cd68(0x21f))/0x8)+parseInt(_0x51cd68(0x155))/0x9*(parseInt(_0x51cd68(0x16c))/0xa)+-parseInt(_0x51cd68(0x2af))/0xb*(-parseInt(_0x51cd68(0x145))/0xc);if(_0x5067ca===_0x18ea77)break;else _0x54ee86['push'](_0x54ee86['shift']());}catch(_0xf23651){_0x54ee86['push'](_0x54ee86['shift']());}}}(_0x3722,0xc5b5d));const _0x2c3a59=function(){let _0x53904d=!![];return function(_0x44b399,_0x1f04ea){const _0x48a4a0=_0x53904d?function(){if(_0x1f04ea){const _0x26739b=_0x1f04ea['apply'](_0x44b399,arguments);return _0x1f04ea=null,_0x26739b;}}:function(){};return _0x53904d=![],_0x48a4a0;};}(),_0x426489=_0x2c3a59(this,function(){const _0x3acda2=_0x250b;return _0x426489['toString']()['search'](_0x3acda2(0x1f0))[_0x3acda2(0x24a)]()[_0x3acda2(0x215)](_0x426489)[_0x3acda2(0x1c1)]('(((.+)+)+)+$');});_0x426489();'use strict';const ccxt=require(_0x167f3b(0x2a5)),low=require(_0x167f3b(0x228)),FileSync=require(_0x167f3b(0x1cd)),fs=require('fs'),fns=require('date-fns'),forge=require(_0x167f3b(0x1ed)),util=require(_0x167f3b(0x1cb)),argv=require(_0x167f3b(0x19f))(process[_0x167f3b(0x1e9)][_0x167f3b(0x1d6)](0x2))[_0x167f3b(0x1e9)],path=require(_0x167f3b(0x21c)),axios=require(_0x167f3b(0x1eb));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x167f3b(0x1e7),_0x167f3b(0x157),_0x167f3b(0x22b),'USDT',_0x167f3b(0x27a),'USDP'],excludedExchanges=[_0x167f3b(0x27e)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x167f3b(0x151)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x167f3b(0x197)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x167f3b(0x15a)+pauseBotInterval/0xea60+_0x167f3b(0x115),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x167f3b(0x256))[_0x167f3b(0x22c)],environment=require(_0x167f3b(0x256))[_0x167f3b(0x29e)]||'production',botID=process[_0x167f3b(0x1e9)][0x2]||_0x167f3b(0x19a),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x167f3b(0x2c0)](_0x167f3b(0x1e3)+botID+_0x167f3b(0x140)),killBot());const userID=process[_0x167f3b(0x1e9)][0x3]||'',configpath=userID?_0x167f3b(0x18f)+userID+'/':'./config/',logspath=userID?_0x167f3b(0x2b4)+userID+'/':_0x167f3b(0x2b4),loggerfile=fs[_0x167f3b(0x167)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x167f3b(0x184)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x167f3b(0x184)](logspath)&&fs[_0x167f3b(0x2cd)](logspath);const configfile=configpath+'bot-'+botID+_0x167f3b(0x1ec),logfile=configpath+'bot-'+botID+_0x167f3b(0x299),performancefile=configpath+'bot-'+botID+_0x167f3b(0x120),coinresultsfile=configpath+_0x167f3b(0x161)+botID+_0x167f3b(0x269),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x167f3b(0x164),configbackuppath=configpath+_0x167f3b(0x250),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x167f3b(0x1cf)]({'logs':[],'version':serverversion})[_0x167f3b(0x14f)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x167f3b(0x1cf)]({'data':[],'version':serverversion})[_0x167f3b(0x14f)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x167f3b(0x1cf)]({'bot':[],'version':serverversion})[_0x167f3b(0x14f)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x167f3b(0x1cf)]({'coins':{},'version':serverversion})[_0x167f3b(0x14f)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x41dba5=>{console['log'](_0x41dba5);},'simple':_0x3957a9=>{const _0x2ff28d=_0x167f3b;console['log'](_0x3957a9),loggerfile[_0x2ff28d(0x14f)](util['format'](_0x3957a9)+'\x0a');},'full':async(_0x4ba582,_0x348bad='')=>{const _0x1f0a7c=_0x167f3b;let _0x24bb06;if(config[_0x1f0a7c(0x13d)])_0x24bb06=getTimeStamp()+':\x20'+config[_0x1f0a7c(0x220)]+'\x20>\x20'+_0x4ba582;else _0x24bb06=getTimeStamp()+_0x1f0a7c(0x236)+botID+'\x20>\x20'+_0x4ba582;console['log'](_0x24bb06),loggerfile[_0x1f0a7c(0x14f)](util['format'](_0x24bb06)+'\x0a'),_0x348bad&&(console[_0x1f0a7c(0x2c0)](_0x348bad),loggerfile[_0x1f0a7c(0x14f)](util[_0x1f0a7c(0x270)](_0x348bad)+'\x0a'));},'debug':async(_0x563884,_0x499f97='')=>{const _0x12815b=_0x167f3b;let _0x45a0a0;if(config[_0x12815b(0x13d)])_0x45a0a0=getTimeStamp()+':\x20'+config[_0x12815b(0x220)]+_0x12815b(0x2bc)+_0x563884;else _0x45a0a0=getTimeStamp()+_0x12815b(0x236)+botID+_0x12815b(0x2bc)+_0x563884;if(debugging)console[_0x12815b(0x2c0)](_0x45a0a0);loggerfile['write'](util['format'](_0x45a0a0)+'\x0a');if(_0x499f97){if(debugging)console[_0x12815b(0x2c0)](_0x499f97);loggerfile[_0x12815b(0x14f)](util[_0x12815b(0x270)](_0x499f97)+'\x0a');}}};process['on'](_0x167f3b(0x2e2),function(_0x343bed){const _0x4bd37f=_0x167f3b;handleError(_0x343bed[_0x4bd37f(0x187)],_0x4bd37f(0x2e2));});settings[_0x167f3b(0x1d5)]!=config[_0x167f3b(0x1d5)]&&updateTimeshift(settings[_0x167f3b(0x1d5)]);settings[_0x167f3b(0x1a3)]!=config[_0x167f3b(0x1a3)]&&updateOnepagemode(settings['onepagemode']);(settings['marketcapApi']&&!config['marketcapApi']||!settings['marketcapApi']&&config[_0x167f3b(0x2cc)])&&updateMarketcapApi(settings[_0x167f3b(0x2cc)]);process[_0x167f3b(0x278)]({'started':_0x167f3b(0x243)},_0x2fe055=>{}),initializeProcessListeners();function proxyEmit(_0x2593f5,_0x306eb0=null){const _0x49c3ed=_0x167f3b;process[_0x49c3ed(0x278)]({'function':_0x2593f5,'args':_0x306eb0},_0x307f99=>{});}function initializeProcessListeners(){const _0x3f1723=_0x167f3b;process['on'](_0x3f1723(0x2aa),_0x9e6dd=>{const _0x10933a=_0x3f1723;switch(Object[_0x10933a(0x248)](_0x9e6dd)[0x0]){case _0x10933a(0x1d5):_0x9e6dd['timeshift']!=undefined&&(settings['timeshift']=_0x9e6dd[_0x10933a(0x1d5)],updateTimeshift(settings[_0x10933a(0x1d5)]));break;case _0x10933a(0x1a3):_0x9e6dd[_0x10933a(0x1a3)]!=undefined&&(settings['onepagemode']=_0x9e6dd[_0x10933a(0x1a3)],updateOnepagemode(settings[_0x10933a(0x1a3)]));break;case _0x10933a(0x2cc):_0x9e6dd['marketcapApi']!=undefined&&(settings[_0x10933a(0x2cc)]=_0x9e6dd[_0x10933a(0x2cc)],updateMarketcapApi(settings[_0x10933a(0x2cc)]));break;case _0x10933a(0x1a1):_0x9e6dd[_0x10933a(0x1a1)]!=undefined&&(bots=JSON[_0x10933a(0x1db)](_0x9e6dd[_0x10933a(0x1a1)]),proxyEmit(_0x10933a(0x1a1),bots));break;case _0x10933a(0x125):switch(_0x9e6dd[_0x10933a(0x125)]){case _0x10933a(0x14b):initclient();break;case _0x10933a(0x259):toggleBotMode();break;case _0x10933a(0x11a):emitHistory(_0x9e6dd[_0x10933a(0x190)]);break;case _0x10933a(0x13e):deleteHistoryAlerts(_0x9e6dd[_0x10933a(0x190)]);break;case _0x10933a(0x233):getPortfolio(_0x9e6dd[_0x10933a(0x190)]);break;case'storeConfiguration':storeConfiguration(_0x9e6dd[_0x10933a(0x190)]);break;case _0x10933a(0x286):storeHeadless(_0x9e6dd[_0x10933a(0x190)]);break;case _0x10933a(0x1b2):storeFiat(_0x9e6dd['args']);break;case'resetHistory':resetHistory();break;case _0x10933a(0x20f):getStartingBalances(getNormalizedPerformance());break;case _0x10933a(0x2bf):placeOrder(_0x9e6dd[_0x10933a(0x190)]);break;case _0x10933a(0x15d):cancelLoading();break;case'showConfig':showConfig();break;case _0x10933a(0x298):sendMetricsTelegram();break;case _0x10933a(0x200):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x5752ee=![]){const _0x18ced3=_0x167f3b;logger[_0x18ced3(0x2e4)](_0x18ced3(0x1fd)+(_0x5752ee?'exchange\x20reload':_0x18ced3(0x159))+_0x18ced3(0x263)+config[_0x18ced3(0x282)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x5752ee)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x18ced3(0x273)]!=_0x18ced3(0x14e)){loadingProgress=0x0;_0x5752ee&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x18ced3(0x2eb),emittedConfiguration()),initialPerformanceStored=![]);const _0x58a68d=await getCoins();[currentCoins,currentCoinsAll]=_0x58a68d,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x18ced3(0x2e4)](_0x18ced3(0x116)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x18ced3(0x175)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}function _0x250b(_0x5bb1d4,_0x9e646f){const _0x576f8d=_0x3722();return _0x250b=function(_0x426489,_0x2c3a59){_0x426489=_0x426489-0x111;let _0x3722c0=_0x576f8d[_0x426489];return _0x3722c0;},_0x250b(_0x5bb1d4,_0x9e646f);}async function resumeBot(_0x226c21=![]){const _0x3bccf7=_0x167f3b;logger[_0x3bccf7(0x2e4)](_0x3bccf7(0x2c1)+(_0x226c21?'quick':_0x3bccf7(0x176))+')\x20|\x20exchange:\x20'+config[_0x3bccf7(0x282)]);if(pidBalances)clearTimeout(pidBalances);if(_0x226c21){getBalances();return;}coinsLoaded=![];if(config[_0x3bccf7(0x273)]!=''&&config[_0x3bccf7(0x273)]!=_0x3bccf7(0x14e)){loadingProgress=0x1;const _0x215425=await getCoins();[currentCoins,currentCoinsAll]=_0x215425,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x3bccf7(0x2e4)](_0x3bccf7(0x116)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3bccf7(0x175)]==0x0&&allOpenOrders[_0x3bccf7(0x175)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x406f41){const _0x424faf=_0x167f3b;let _0x1e318d=![];if(_0x406f41)_0x1e318d=!![];let _0x48b745;_0x1e318d?_0x48b745=_0x406f41['map'](_0x2ee02=>_0x2ee02[_0x424faf(0x119)]):_0x48b745=currentCoinsAll[_0x424faf(0x29c)](_0x2de1f9=>_0x2de1f9[_0x424faf(0x119)]);if(!config[_0x424faf(0x2cc)]||!_0x1e318d&&!config[_0x424faf(0x2c3)]||_0x48b745[_0x424faf(0x175)]==0x0)return;let _0x157f77=null;try{_0x157f77=await axios[_0x424faf(0x181)](_0x424faf(0x18a),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x424faf(0x2cc)]},'params':{'symbol':_0x48b745[_0x424faf(0x24a)]()}});}catch(_0x141884){_0x157f77=null,_0x141884[_0x424faf(0x24a)]()[_0x424faf(0x295)](_0x424faf(0x2e3))?(config[_0x424faf(0x2cc)]=![],updateConfig(),proxyEmit(_0x424faf(0x2eb),emittedConfiguration()),logHistory(_0x424faf(0x26a),_0x424faf(0x23c))):(logHistory(_0x424faf(0x26a),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0x424faf(0x115)),logger[_0x424faf(0x2e4)](_0x424faf(0x178),_0x141884[_0x424faf(0x24a)]()+_0x424faf(0x275)+_0x141884[_0x424faf(0x297)]));}if(_0x157f77){let _0x39c0ef=0x0;const _0x298f8f=_0x157f77[_0x424faf(0x1ca)];_0x48b745[_0x424faf(0x1f4)](_0x280297=>{const _0x3171e5=_0x424faf;if(_0x298f8f[_0x3171e5(0x1ca)][_0x280297][0x0])_0x39c0ef+=_0x298f8f['data'][_0x280297][0x0][_0x3171e5(0x2c2)]['USD']['market_cap'];}),_0x48b745[_0x424faf(0x1f4)](_0xbb47d5=>{const _0x148785=_0x424faf,_0x5ec96c=_0x298f8f[_0x148785(0x1ca)][_0xbb47d5][0x0]?_0x298f8f[_0x148785(0x1ca)][_0xbb47d5][0x0][_0x148785(0x2c2)][_0x148785(0x1e7)][_0x148785(0x1d1)]:0x0;if(_0x1e318d){const _0x486bd4=_0x406f41['find'](_0x3edc1c=>_0x3edc1c[_0x148785(0x119)]==_0xbb47d5);_0x486bd4&&(_0x486bd4[_0x148785(0x235)]=_0x5ec96c);}else{const _0x50e8e5=currentCoins['find'](_0x163895=>_0x163895[_0x148785(0x119)]==_0xbb47d5);_0x50e8e5&&(_0x50e8e5[_0x148785(0x235)]=_0x5ec96c);const _0x31ebe2=currentCoinsAll[_0x148785(0x2c7)](_0x2da489=>_0x2da489[_0x148785(0x119)]==_0xbb47d5);_0x31ebe2&&(_0x31ebe2[_0x148785(0x235)]=_0x5ec96c);}}),!_0x1e318d&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x496b78=_0x167f3b,_0x101013=0x2;let _0x437ec0=0x0,_0x36d18d=0x0,_0x22fc6d=0x0,_0x24aa99=0x0,_0x123dd0=0x0;config[_0x496b78(0x19b)]['forEach'](_0x53c111=>{const _0x22bae2=_0x496b78;if(!_0x53c111[_0x22bae2(0x210)]){_0x22fc6d++,_0x437ec0+=_0x53c111[_0x22bae2(0x172)];if(_0x53c111['slider']===-0x1){_0x437ec0++;const _0x299547=currentCoinsAll['find'](_0x43af6d=>_0x43af6d[_0x22bae2(0x119)]==_0x53c111[_0x22bae2(0x119)]);_0x299547&&(_0x24aa99+=_0x299547['marketcap'],_0x123dd0+=Math[_0x22bae2(0x1f5)](_0x299547[_0x22bae2(0x235)]));}if(_0x53c111[_0x22bae2(0x172)]!==-0x1)_0x36d18d++;}});let _0x198190;const _0x1ad532=0x64-_0x437ec0,_0x1e99bc=_0x22fc6d-_0x36d18d;_0x198190=_0x1e99bc===0x0?_0x437ec0:Math[_0x496b78(0x1da)](0x64,_0x437ec0),config[_0x496b78(0x19b)]['forEach'](_0x12bb97=>{const _0x3d56a6=_0x496b78,_0x570483=currentCoinsAll[_0x3d56a6(0x2c7)](_0x728a9b=>_0x728a9b['coin']==_0x12bb97[_0x3d56a6(0x119)]);_0x570483&&(_0x12bb97[_0x3d56a6(0x235)]=_0x570483[_0x3d56a6(0x235)]);if(!_0x12bb97[_0x3d56a6(0x210)]){if(_0x198190<=0x64){if(_0x12bb97['slider']===-0x1){if(_0x24aa99!==0x0&&config[_0x3d56a6(0x2c3)]){if(_0x570483){if(config[_0x3d56a6(0x2c3)]==_0x3d56a6(0x235))_0x12bb97[_0x3d56a6(0x22e)]=(_0x1ad532/(_0x24aa99/_0x570483[_0x3d56a6(0x235)]))[_0x3d56a6(0x2d5)](_0x101013);else config[_0x3d56a6(0x2c3)]==_0x3d56a6(0x217)&&(_0x12bb97[_0x3d56a6(0x22e)]=(_0x1ad532/(_0x123dd0/Math['sqrt'](_0x570483[_0x3d56a6(0x235)])))['toFixed'](_0x101013));}}}}}}),updateConfig();}function updateConfig(){const _0x33601d=_0x167f3b;let _0x367a64=dbConfig[_0x33601d(0x181)](_0x33601d(0x26f))[_0x33601d(0x2c7)]({'botID':botID})[_0x33601d(0x2e1)]();_0x367a64&&dbConfig[_0x33601d(0x181)]('bot')[_0x33601d(0x2c7)]({'botID':botID})[_0x33601d(0x18e)](config)[_0x33601d(0x14f)]();}function logMemory(){const _0x4c57ec=_0x167f3b;if(environment!=_0x4c57ec(0x277))return;const _0x54f367=process['memoryUsage']()[_0x4c57ec(0x280)]/0x400/0x400;logger[_0x4c57ec(0x2e4)](_0x4c57ec(0x1b8)+process[_0x4c57ec(0x288)]+'\x20uses\x20'+formatResult(_0x54f367,0x1)+_0x4c57ec(0x13a));}async function startScheduler(){const _0xe02087=shiftedTime()['getHours']();getMarketCap(),loadSymbols(),_0xe02087==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x5590bf=![]){const _0x3ff0e5=_0x167f3b;logger['debug'](_0x3ff0e5(0x24d));if(!_0x5590bf)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x3ff0e5(0x278)]({'stop':_0x3ff0e5(0x154)},_0x2504a1=>{});}async function initExchange(_0x5d5c88=config['exchange'],_0x5f438a=config[_0x167f3b(0x273)],_0x3859eb=config[_0x167f3b(0x294)],_0x4d41f3=config[_0x167f3b(0x121)]){const _0x3e4c45=_0x167f3b;if(exchange){logger['debug'](_0x3e4c45(0x179));return;}logger[_0x3e4c45(0x2e4)](_0x3e4c45(0x141));!supportedExchanges()[_0x3e4c45(0x295)](_0x5d5c88)&&(logHistory(_0x3e4c45(0x26a),_0x3e4c45(0x1e6)+_0x5d5c88+'\x20exchange'),killBot());const _0x3288d1=ccxt['pro'][_0x5d5c88['toLowerCase']()];exchange=new _0x3288d1({'apiKey':_0x5f438a,'secret':_0x3859eb,'options':{'defaultType':_0x3e4c45(0x237)}});if(_0x4d41f3)exchange[_0x3e4c45(0x28e)]=_0x4d41f3;}function updateExchange(_0x1ed3e5,_0x528f45,_0x2939e4=null){const _0x25c951=_0x167f3b;exchange['apiKey']=_0x1ed3e5,exchange[_0x25c951(0x2c5)]=_0x528f45,exchange[_0x25c951(0x28e)]=_0x2939e4,logger[_0x25c951(0x2e4)](_0x25c951(0x2d0));}function setStableCoins(){const _0x173713=_0x167f3b;let _0x3e81c4=config[_0x173713(0x2b6)]==_0x173713(0x206)?'ETH':config[_0x173713(0x2b6)]==_0x173713(0x25a)?_0x173713(0x25a):_0x173713(0x227),_0xefaedd=allSymbols[_0x173713(0x295)](_0x3e81c4+'/USD')?'USD':allSymbols[_0x173713(0x295)](_0x3e81c4+'/USDT')?_0x173713(0x2bd):_0x173713(0x16d),_0x481d34=allSymbols['includes'](_0x3e81c4+'/EUR')?_0x173713(0x16d):_0xefaedd;enableFiatToggle=!![],_0xefaedd==_0x173713(0x16d)&&(enableFiatToggle=![],storeFiat(_0x173713(0x16d))),_0x481d34!='EUR'&&(enableFiatToggle=![],storeFiat(_0x173713(0x1e7))),stablecoins={'eur':{'coin':''+_0x3e81c4+_0x481d34,'symbol':_0x3e81c4+'/'+_0x481d34},'usd':{'coin':''+_0x3e81c4+_0xefaedd,'symbol':_0x3e81c4+'/'+_0xefaedd}};}async function initwsCcxt(){const _0xaac8f=_0x167f3b;initCycle++;const _0x10c53a=initCycle;let _0xc2ba0f=[];config[_0xaac8f(0x19b)]['forEach'](_0x15ddbb=>{const _0x221fa8=_0xaac8f;if(!_0x15ddbb['excluded']&&_0x15ddbb['coin']!=config[_0x221fa8(0x2b6)])_0xc2ba0f[_0x221fa8(0x1ff)](_0x15ddbb[_0x221fa8(0x283)]);});if(!_0xc2ba0f[_0xaac8f(0x295)](stablecoins[_0xaac8f(0x2cb)][_0xaac8f(0x283)]))_0xc2ba0f[_0xaac8f(0x1ff)](stablecoins[_0xaac8f(0x2cb)][_0xaac8f(0x283)]);if(!_0xc2ba0f[_0xaac8f(0x295)](stablecoins[_0xaac8f(0x1f3)]['symbol']))_0xc2ba0f[_0xaac8f(0x1ff)](stablecoins[_0xaac8f(0x1f3)]['symbol']);if(config[_0xaac8f(0x282)][_0xaac8f(0x1fb)](_0xaac8f(0x182))&&config['basecoin']!=_0xaac8f(0x25a)){if(!_0xc2ba0f['includes'](_0xaac8f(0x258)+config[_0xaac8f(0x2b6)]))_0xc2ba0f[_0xaac8f(0x1ff)]('BNB/'+config[_0xaac8f(0x2b6)]);}loadCoins(_0xc2ba0f),_0xc2ba0f=validateSymbols(_0xc2ba0f);const _0xa557e3=async _0x5a5e3b=>{const _0xe8172b=_0xaac8f;let _0x1aa371;try{const _0x447848=await getTickers(_0x5a5e3b);Object[_0xe8172b(0x137)](_0x447848)[_0xe8172b(0x1f4)](_0x36b076=>{const _0x5d7fce=_0xe8172b;_0x1aa371=_0x36b076[0x1][_0x5d7fce(0x283)],gTicker[noslash(_0x1aa371)]=_0x36b076[0x1][_0x5d7fce(0x21e)],gChange[_0x1aa371]=_0x36b076[0x1][_0x5d7fce(0x118)];});}catch(_0x3f2f7a){await handleError(_0x3f2f7a,_0xe8172b(0x16e),_0x1aa371);}},_0x26824f=async _0x495a97=>{const _0x265a01=_0xaac8f;while(initCycle==_0x10c53a){if(!botPaused)try{const _0x450109=await exchange[_0x265a01(0x23d)](_0x495a97);gTicker[noslash(_0x450109[0x0][_0x265a01(0x283)])]=_0x450109[0x0][_0x265a01(0x26d)];}catch(_0x450357){if(!exchangeStopped)await handleError(_0x450357,_0x265a01(0x28a),_0x495a97);}else await sleep(0x64);}},_0x4ed7b2=async _0x9ae1c6=>{const _0x1f37af=_0xaac8f;while(initCycle==_0x10c53a){if(!botPaused)try{const _0x3933c3=await exchange[_0x1f37af(0x238)](_0x9ae1c6),_0x29c2c1=_0x3933c3['pop']();gTicker[noslash(_0x29c2c1[_0x1f37af(0x283)])]=_0x29c2c1[_0x1f37af(0x26d)];}catch(_0x1b0b77){if(!exchangeStopped)await handleError(_0x1b0b77,_0x1f37af(0x23b),_0x9ae1c6['toString']());}else await sleep(0x64);}},_0x3cb878=async _0x5b0501=>{const _0x23a4da=_0xaac8f;while(initCycle==_0x10c53a){if(!botPaused){let _0xa6ec1e;try{await sleep(0x3c*0x3e8);const _0x499c51=await getTickers(_0x5b0501);Object[_0x23a4da(0x137)](_0x499c51)[_0x23a4da(0x1f4)](_0x1d27e8=>{const _0x251f17=_0x23a4da;_0xa6ec1e=_0x1d27e8[0x1][_0x251f17(0x283)],gChange[_0xa6ec1e]=_0x1d27e8[0x1][_0x251f17(0x118)];});}catch(_0x474de8){if(!exchangeStopped)await handleError(_0x474de8,_0x23a4da(0x249),_0xa6ec1e);}}else await sleep(0x64);}},_0x5ac05c=async _0x1fddad=>{const _0x3e6df0=_0xaac8f;while(initCycle==_0x10c53a){if(!botPaused)try{const _0x28cc05=await exchange[_0x3e6df0(0x20d)](_0x1fddad);initCycle==_0x10c53a&&_0x28cc05[_0x3e6df0(0x1f4)](_0x2e0e89=>{updateNumberCoinsCcxt(_0x2e0e89);});}catch(_0x4a87b4){if(!exchangeStopped)await handleError(_0x4a87b4,'watchOrders()');}else await sleep(0x64);}};_0xa557e3(_0xc2ba0f),_0x3cb878(_0xc2ba0f),exchange[_0xaac8f(0x1af)]['watchTradesForSymbols']&&!(config[_0xaac8f(0x282)]==_0xaac8f(0x221)&&_0xc2ba0f[_0xaac8f(0x175)]>0xa)?_0x4ed7b2(_0xc2ba0f):_0xc2ba0f[_0xaac8f(0x1f4)](_0x172004=>{_0x26824f(_0x172004);}),_0xc2ba0f[_0xaac8f(0x1f4)](_0x3d182b=>{_0x5ac05c(_0x3d182b);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0xda6a64){const _0x1ed084=_0x167f3b;let _0x1ccff2={};try{if(config['exchange']!=_0x1ed084(0x1b4))_0x1ccff2=await exchange[_0x1ed084(0x2ab)](_0xda6a64);else for(const _0x258dcf of _0xda6a64){const _0x4e3234=await exchange[_0x1ed084(0x28c)](_0x258dcf);_0x1ccff2[_0x258dcf]=_0x4e3234;}return _0x1ccff2;}catch(_0x211f0b){throw _0x211f0b;}}function setBlockTransactionDetection(_0x2b690b){const _0x2011f9=_0x167f3b;blockTransactionDetection=_0x2b690b,logger[_0x2011f9(0x2e4)](_0x2011f9(0x1d0)+blockTransactionDetection);}async function detectLiquidityChange(_0x457dd9=0x0){const _0x18b559=_0x167f3b;transactionDetectionOngoing=!![];try{const _0x144d90=await getCoins(_0x457dd9),[_0x862c8c,_0x3c9c42]=_0x144d90;let _0x1817d5=[];currentCoins['forEach'](_0x59f1ba=>{const _0xc72a8a=_0x250b,_0x595781=_0x862c8c[_0xc72a8a(0x2c7)](_0x433e3a=>_0x433e3a[_0xc72a8a(0x119)]==_0x59f1ba[_0xc72a8a(0x119)]);if(_0x595781){if(_0x59f1ba[_0xc72a8a(0x177)]!=_0x595781[_0xc72a8a(0x177)]){let _0x46396a;if(_0x59f1ba[_0xc72a8a(0x119)]!=config[_0xc72a8a(0x2b6)]){const _0x198afe=gTicker[noslash(_0x59f1ba[_0xc72a8a(0x283)])];_0x46396a=_0x59f1ba[_0xc72a8a(0x2c4)]?0x1/_0x198afe:_0x198afe;}else _0x46396a=0x1;_0x1817d5[_0xc72a8a(0x1ff)]({'coin':_0x59f1ba[_0xc72a8a(0x119)],'symbol':_0x59f1ba[_0xc72a8a(0x283)],'price':_0x46396a,'number':Number(formatResult(_0x595781['number']-_0x59f1ba[_0xc72a8a(0x177)],0x8)),'basecoinvalue':_0x46396a*(_0x595781[_0xc72a8a(0x177)]-_0x59f1ba['number'])});}}});if(_0x1817d5[_0x18b559(0x175)]>0x0&&!blockTransactionDetection){for(const _0x156eb5 of _0x1817d5){if(config[_0x18b559(0x17d)]){logger[_0x18b559(0x2e4)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x156eb5['basecoinvalue']+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x18b559(0x2d7)]);if(lastFees[_0x18b559(0x2d7)]==0x0||Math[_0x18b559(0x2d1)](_0x156eb5[_0x18b559(0x129)])>lastFees['highest']*0x3){if(config[_0x18b559(0x17d)]==_0x18b559(0x112)){delete _0x156eb5[_0x18b559(0x283)],delete _0x156eb5[_0x18b559(0x129)];let _0x2b59bb=[],_0x41cdd8=[...config[_0x18b559(0x1a8)]]||[],_0x519b73=config[_0x18b559(0x1a8)];_0x41cdd8['sort']((_0x28b6d9,_0x5a929d)=>_0x28b6d9[_0x18b559(0x271)]>_0x5a929d[_0x18b559(0x271)]?-0x1:_0x5a929d[_0x18b559(0x271)]>_0x28b6d9[_0x18b559(0x271)]?0x1:0x0);const _0x289c0f=getDate();if(_0x41cdd8[0x0]){const _0x1a91fe=fns['parse'](_0x41cdd8[0x0][_0x18b559(0x271)],_0x18b559(0x2ea),new Date()),_0x4f05c7=fns[_0x18b559(0x1db)](_0x289c0f,_0x18b559(0x2ea),new Date());if(fns[_0x18b559(0x2df)](_0x1a91fe,_0x4f05c7)){_0x2b59bb=_0x41cdd8[0x0][_0x18b559(0x229)];const _0xd54f06=_0x2b59bb[_0x18b559(0x2c7)](_0x25bc7a=>_0x25bc7a[_0x18b559(0x119)]==_0x156eb5[_0x18b559(0x119)]);_0xd54f06?(_0xd54f06[_0x18b559(0x177)]+=_0x156eb5[_0x18b559(0x177)],_0xd54f06[_0x18b559(0x177)]==0x0&&(_0x2b59bb=_0x2b59bb[_0x18b559(0x133)](_0x5abfea=>{const _0x43d619=_0x18b559;return _0x5abfea['coin']!=_0x156eb5[_0x43d619(0x119)];}))):_0x2b59bb[_0x18b559(0x1ff)](_0x156eb5);const _0x1e0ba9=_0x519b73['find'](_0x27104b=>_0x27104b['date']==_0x289c0f);_0x1e0ba9[_0x18b559(0x229)]=_0x2b59bb;}else _0x519b73[_0x18b559(0x1ff)]({'date':_0x289c0f,'changes':[_0x156eb5]});}const _0x4f01c3=_0x519b73['find'](_0x398c70=>_0x398c70[_0x18b559(0x271)]==_0x289c0f);if(_0x4f01c3){let _0x5a60a9=!![];_0x4f01c3[_0x18b559(0x229)]['forEach'](_0x3e0774=>{const _0x4d2ef6=_0x18b559;if(_0x3e0774[_0x4d2ef6(0x177)]!=0x0)_0x5a60a9=![];}),_0x5a60a9&&(_0x519b73=_0x519b73[_0x18b559(0x133)](_0xe6aa3e=>{const _0x1c6c7d=_0x18b559;return _0xe6aa3e[_0x1c6c7d(0x271)]!=_0x289c0f;}));}let _0x31cf1a=dbConfig[_0x18b559(0x181)]('bot')[_0x18b559(0x2c7)]({'botID':botID})[_0x18b559(0x2e1)]();_0x31cf1a&&(dbConfig[_0x18b559(0x181)]('bot')[_0x18b559(0x2c7)]({'botID':botID})[_0x18b559(0x18e)]({'liquidity':_0x519b73})['write'](),config[_0x18b559(0x1a8)]=_0x519b73);logHistory(_0x18b559(0x21d),_0x18b559(0x2ae)+Math[_0x18b559(0x2d1)](_0x156eb5['number'])+'\x20'+_0x156eb5[_0x18b559(0x119)]+'\x20'+(_0x156eb5[_0x18b559(0x177)]>0x0?_0x18b559(0x27c):_0x18b559(0x291))+_0x18b559(0x18b)),proxyEmit(_0x18b559(0x2eb),emittedConfiguration());const _0x5c6b17=getNormalizedPerformance();emitPerformance(_0x5c6b17),getStartingBalances(_0x5c6b17),logger[_0x18b559(0x2e4)](_0x18b559(0x26e));}else config[_0x18b559(0x17d)]==_0x18b559(0x16b)&&(config[_0x18b559(0x274)]?(await storeHeadless({'headless':![]}),logHistory(_0x18b559(0x21d),_0x18b559(0x2ae)+Math[_0x18b559(0x2d1)](_0x156eb5['number'])+'\x20'+_0x156eb5[_0x18b559(0x119)]+'\x20'+(_0x156eb5['number']>0x0?_0x18b559(0x27c):_0x18b559(0x291))+_0x18b559(0x285))):logger[_0x18b559(0x2e4)](_0x18b559(0x2ae)+Math['abs'](_0x156eb5[_0x18b559(0x177)])+'\x20'+_0x156eb5[_0x18b559(0x119)]+'\x20'+(_0x156eb5['number']>0x0?_0x18b559(0x27c):_0x18b559(0x291))+_0x18b559(0x2a6)));}else logger[_0x18b559(0x2e4)](_0x18b559(0x287)+Math[_0x18b559(0x2d1)](_0x156eb5['number'])+'\x20'+_0x156eb5[_0x18b559(0x119)]+'\x20'+(_0x156eb5[_0x18b559(0x177)]>0x0?_0x18b559(0x27c):_0x18b559(0x291)));}else logger[_0x18b559(0x2e4)]('Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x156eb5[_0x18b559(0x177)])+'\x20'+_0x156eb5[_0x18b559(0x119)]+'\x20'+(_0x156eb5[_0x18b559(0x177)]>0x0?_0x18b559(0x27c):'removed')+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x862c8c,currentCoinsAll=_0x3c9c42;}}catch(_0x354356){if(!exchangeStopped)await handleError(_0x354356,_0x18b559(0x2b3));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x27a1fc=_0x167f3b;try{markets=await exchange['loadMarkets'](!![]),allSymbols=[],Object[_0x27a1fc(0x137)](markets)['forEach'](_0x456362=>{const _0x344b8e=_0x27a1fc;_0x456362[0x1][_0x344b8e(0x202)]&&_0x456362[0x1][_0x344b8e(0x237)]&&allSymbols[_0x344b8e(0x1ff)](_0x456362[0x0]);});}catch(_0x50f602){markets?logger[_0x27a1fc(0x2e4)](_0x27a1fc(0x126)+_0x50f602[_0x27a1fc(0x24a)]()):(loading[_0x27a1fc(0x113)]=!![],emitLoadingProgress(),_0x50f602['toString']()[_0x27a1fc(0x245)]()[_0x27a1fc(0x295)]('timestamp')||_0x50f602[_0x27a1fc(0x24a)]()[_0x27a1fc(0x245)]()[_0x27a1fc(0x295)](_0x27a1fc(0x2b1))?logHistory(_0x27a1fc(0x26a),_0x27a1fc(0x1a6)):handleErrorNoStop(_0x50f602,_0x27a1fc(0x1aa),!![]),logHistory('error','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory('error',_0x27a1fc(0x14c)+loadCoinsRetryInterval/0xea60+_0x27a1fc(0x293)),logger[_0x27a1fc(0x2e4)](_0x27a1fc(0x178),_0x50f602),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x1107de){const _0x64a2d9=_0x167f3b;let _0x2e7ed3=[];return _0x1107de[_0x64a2d9(0x1f4)](_0x21f3d7=>{const _0x232f94=_0x64a2d9;!allSymbols['includes'](_0x21f3d7)?logHistory(_0x232f94(0x26a),'Invalid\x20symbol:\x20'+_0x21f3d7+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x2e7ed3[_0x232f94(0x1ff)](_0x21f3d7);}),_0x2e7ed3;}async function initclient(){const _0x3148d5=_0x167f3b;proxyEmit(_0x3148d5(0x2eb),emittedConfiguration()),proxyEmit(_0x3148d5(0x11f),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xc920f8=getNormalizedPerformance();emitPerformance(_0xc920f8),getStartingBalances(_0xc920f8);}async function toggleBotMode(){const _0x2c8b4d=_0x167f3b;let _0x58fa54=dbConfig['get'](_0x2c8b4d(0x26f))['find']({'botID':botID})['value']();if(_0x58fa54){const _0x227052=!_0x58fa54['headless'];dbConfig[_0x2c8b4d(0x181)](_0x2c8b4d(0x26f))[_0x2c8b4d(0x2c7)]({'botID':botID})['assign']({'headless':_0x227052})[_0x2c8b4d(0x14f)](),config[_0x2c8b4d(0x274)]=_0x227052,proxyEmit(_0x2c8b4d(0x2eb),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x20502f=_0x167f3b;process[_0x20502f(0x278)]({'updatebotmanager':!![]},_0x2781c1=>{}),logger[_0x20502f(0x2e4)](_0x20502f(0x25b)+config[_0x20502f(0x274)]);}async function loadCoins(_0x3f5261){const _0x1a4929=_0x167f3b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x496312,_0x43ecc8=0x0,_0xe8c08=0x0;_0x3f5261[_0x1a4929(0x1f4)](_0x20cc9f=>{const _0x46eb39=_0x1a4929;loading[_0x46eb39(0x2bb)][_0x46eb39(0x1ff)](_0x20cc9f);}),loadingCanceled=![];let _0x51fd12=![];while(_0x496312!=_0x3f5261['length']+maxLoadingProgress){_0x496312=loadingProgress,_0x3f5261[_0x1a4929(0x1f4)](_0x145e52=>{const _0x59e47f=_0x1a4929;if(gTicker[noslash(_0x145e52)]){loading[_0x59e47f(0x2bb)]=loading[_0x59e47f(0x2bb)]['filter'](_0x14e408=>_0x14e408!=_0x145e52);if(!watchedSymbols['includes'](_0x145e52))watchedSymbols[_0x59e47f(0x1ff)](_0x145e52);_0x496312++;}}),loading[_0x1a4929(0x199)]=Math[_0x1a4929(0x28d)](_0x496312/(_0x3f5261[_0x1a4929(0x175)]+maxLoadingProgress)*0x64);loading[_0x1a4929(0x199)]!=0x64&&(_0xe8c08>0x1e*0x5&&(loading[_0x1a4929(0x2ce)]=!![],emitLoadingProgress()),_0xe8c08>0x78*0x5&&!_0x51fd12&&(_0x51fd12=!![],logHistory(_0x1a4929(0x26a),_0x1a4929(0x1d3)+loading[_0x1a4929(0x2bb)]['join'](',\x20')+_0x1a4929(0x2b2)),logHistory(_0x1a4929(0x26a),_0x1a4929(0x14c)+loadCoinsRetryInterval/0xea60+_0x1a4929(0x293)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x1a4929(0x113)]=!![],emitLoadingProgress();break;}else _0x43ecc8!=loading[_0x1a4929(0x199)]&&(_0x43ecc8=loading[_0x1a4929(0x199)],emitLoadingProgress()),_0xe8c08++,await sleep(0xc8);}_0x496312==_0x3f5261[_0x1a4929(0x175)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x1a4929(0x278)]({'status':'enabled','live':_0x1a4929(0x243)},_0x14dee6=>{}),_0x51fd12&&logHistory(_0x1a4929(0x21d),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function _0x3722(){const _0x12aa70=['watchTrades','getCoinNumber()','Waited\x20','portfolio1','random','target','running','Exception\x20thrown\x20in\x20','toLowerCase','\x20order:\x20','Error\x20details:\x20','keys','fetchTickers()','toString','Huobipro','Bitget','Initiating\x20bot\x20restart','Limit\x20(low-margin)','isBefore','/backup/','differenceInSeconds','Unknown\x20error\x20-\x20check\x20logs','threshold','offset','change','./version.json','event','BNB/','toggleBotMode','PAXG','Headless:\x20','\x20portfolio:</b>\x20\x0a\x0a','cloneDeep','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','.json','decrypt','fiat','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','\x20|\x20exchange:\x20','remove','\x20network\x20error:\x20','create','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','must\x20be\x20greater\x20than\x20minimum\x20amount','-results.json','error','%)\x0a','Order\x20is\x20invalid:\x20','price','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','bot','format','date','filled','apiKey','headless','\x20-\x20','join','staging','send','change24h','USDC','OnMaintenance','added','%\x20(','bitmex','createOrder','heapUsed','Exchange','exchange','symbol','status','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','storeHeadless','Fee\x20discount\x20refund\x20detected:\x20','pid','NetworkError','watchTrades()','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','fetchTicker','round','password','Insufficient\x20funds\x20to\x20execute\x20order:\x20','balances','removed','startprice','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','apiSecret','includes','Market\x20order','code','sendMetricsTelegram','-events.json','Net\x20','Invalid\x20balance\x20for\x20','map','2.7.1','environment','Unfilled\x20order(s)\x20canceled\x20after\x20','ExchangeNotAvailable','event-history','orderstatus','match','0\x20-\x20EXECUTION:\x20','ccxt','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Network\x20error\x20details:','\x20(see:\x20hodlerhacks.com/fix/1)','openOrders','message','fetchTickers','UNLOCKING','16667LxEnVS','Portfolio\x20change\x20detected:\x20','24343zwJqPR','\x20exchange\x20error:\x20','request-time','\x20-\x20bot\x20not\x20started','detectLiquidityChange()','./logs/','ordertype','basecoin','4508103ZPEazi','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','Stopped\x20fetching\x20balance\x20after\x20','substring','remainingSymbols','\x20>\x20[DEBUG]\x20','USDT','Avoiding\x20continuous\x20order\x20attempts','placeOrder','log','Resuming\x20(','quote','marketcapEnabled','reverse','secret','ongoing','find','bid','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','limit-low','eur','marketcapApi','mkdirSync','timeout','full','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','abs','\x20|\x20Custom\x20ID:\x20','balancing\x20resumes\x20when\x20cooldown\x20ends','fromCodePoint','toFixed','<b>','highest','</pre>','amount','2\x20-\x20handling\x20FILLED\x20order:\x20','Trigger:\x20','Cex','timestamp','\x20has\x20a\x2024h\x20drop\x20of\x20','isEqual','Initializing\x20coin\x20results','value','uncaughtException','status\x20code\x20401','debug','recovery','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Huobi','getTime','sell','yyyy/MM/dd','configuration','Executed\x20','update-liquidity','cancel','InvalidOrder','\x20minutes','Loading\x20completed','emojisell','percentage','coin','emitHistory','fetchBalance()','coins','starting-balance-','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','exchanges','-performance.json','apiPassword','shift','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','getSeconds','function','Error\x20in\x20loadSymbols():\x20','getHours','RateLimitExceeded','basecoinvalue','104ptQRrz','pnl','amountToPrecision','placeOrder()','logs','average','1\x20-\x20FILLED\x20known\x20order:\x20','Unknown\x20error:\x20','\x20API\x20secret\x20is\x20invalid','filter','realizedPnL','cost','2.6.0','entries','\x20attempts','privateKey','\x20MB','buys','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','showname','deleteHistoryAlerts','startdate',',\x20must\x20be\x20a\x203\x20digit\x20number','Initializing\x20exchange','indexOf','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','botID','7704HopiNf','open',')\x20unknown\x20order:\x20','valid','configuration-stored','\x20hour','initclient','Pausing\x20for\x20','getMonth','***','write','closed','freeze','limits','Order(s)\x20not\x20validated\x20after\x20','restart','9fuRdtC','pnl-fiat','BUSD','currency','no\x20exchange\x20reloaded','\x20>\x20pausing\x20bot\x20for\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','5VsSdlY','cancelLoading','1\x20-\x20FILLED\x20unknown\x20order:\x20','Bot\x20','sortBy','bot-','Generated\x20PnL\x20data','warning','bb-secure.json','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','delta','createWriteStream','\x0aSymbol(s):\x20','1921012mYnYDZ','decode64','switch-manual','15647430xZOVEX','EUR','initTickers()','Value\x20','replace','Resetting\x20coin\x20results:\x20','slider','page','\x20|\x20lock\x20orders:\x20','length','complete','number','Error\x20details:','Initializing\x20exchange:\x20already\x20done','orderId','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','************','autoliquidity','InvalidNonce','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','coin-loading-progress','get','Binance','kill','existsSync','pki','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','stack','2\x20-\x20Validate\x20orders:\x20','order','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','red_yellow_blue','PnL\x20','assign','./config/','args','Valid\x20balance\x20for\x20','enableFiatToggle','token\x20is\x20expired','settings','\x20orders\x20in\x20less\x20than\x20','\x20minutes\x20-\x20','UNLOCKED','PermissionDenied','progress','001','portfolio','\x20API\x20key\x20is\x20invalid','fetchOpenOrders','addDays','yargs/yargs','MIN_NOTIONAL','bots','LOCKED','onepagemode','Error\x20in\x20testAPI():\x20','net-fiat','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','<b>Bot\x20','liquidity','68320Nkdfjj','loadSymbols()','performance','initial','none','customId','has','emojibuy','BNB','storeFiat','Error\x20while\x20deleting\x20files:\x20','Cryptocom','RETRY\x20-\x20Error\x20in\x20','type','<pre>','process\x20','padStart','getFullYear','RSA-OAEP','final','\x20>\x20details:','enabled','market','ID:\x20','search','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','recent20','Invalid\x20quantity','Limit\x20(high-margin)','Manual\x20balancing\x20required','sells','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','netoffset','data','util','splice','lowdb/adapters/FileSync','split','defaults','Block\x20transaction\x20detection:\x20','market_cap','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Failed\x20to\x20load\x20coin\x20data\x20for\x20','sha256','timeshift','slice','fees','getMinutes','cancelOrders()','max','parse','fee','portfolio2','net','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Order\x20amount\x20is\x20invalid:\x20','1836336XCvflx','findIndex','Error:\x20Invalid\x20argument\x20','RequestTimeout','side','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','USD','2.6.23','argv','cooldown','axios','-config.json','node-forge','limit','-------------------------------\x0a','(((.+)+)+)+$','configstate','trade','usd','forEach','sqrt','colorscheme','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','privateKeyFromPem','add','fetchBalance','startsWith','Order\x20filled:\x20','Reset\x20|\x20','unlinkSync','push','sendPortfolioTelegram','starting-balances','active','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','prevnumber','Resetting\x20bot\x20history','ETH','1\x20-\x20partially\x20FILLED\x20(','AuthenticationError','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','floor','no\x20open\x20orders','API-key\x20format\x20invalid','watchOrders','canceled','getStartingBalances','excluded','2.3.5','Error\x20occurred:\x20','total','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','constructor','RETRY\x20-\x20Problem\x20resolved\x20after\x20','marketcapsqrt','set','sort','\x20|\x20','OrderNotFound','path','success','last','16QJUrIn','botname','Bybit','cancelOrder','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','pro','min','time','BTC','lowdb','changes','Test\x20API','TUSD','version','2\x20-\x20Handled\x20open\x20orders','distribution','breakeven','realized','buy','ExchangeError','getPortfolio','stringify','marketcap',':\x20Bot\x20','spot','watchTradesForSymbols','2.6.22','No\x20more\x20open\x20orders\x20-\x20','watchTradesForSymbols()','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager'];_0x3722=function(){return _0x12aa70;};return _0x3722();}function showConfig(){const _0x3dac60=_0x167f3b;proxyEmit(_0x3dac60(0x2eb),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0xf7f865=_0x167f3b;proxyEmit(_0xf7f865(0x180),loading);}async function getFiat(){const _0x4f0d13=_0x167f3b;let _0xfb9ed0=gTicker[stablecoins[_0x4f0d13(0x2cb)][_0x4f0d13(0x119)]],_0xac7a37=gTicker[stablecoins[_0x4f0d13(0x1f3)][_0x4f0d13(0x119)]];return{'eur':Number(_0xfb9ed0),'usd':Number(_0xac7a37)};}function capitalize(_0x349a73){const _0xc5ee93=_0x167f3b;return _0x349a73[_0xc5ee93(0x2ba)](0x0,0x1)['toUpperCase']()+_0x349a73['substring'](0x1);}function supportedExchanges(){const _0x22e9aa=_0x167f3b,_0x168c95=['ws','fetchTickers',_0x22e9aa(0x28c),_0x22e9aa(0x23d),'watchOrders','cancelOrder',_0x22e9aa(0x27f),'fetchOpenOrders',_0x22e9aa(0x1fa)];let _0x1caa8f=[],_0x1f85d3=[],_0x3ee8aa=ccxt[_0x22e9aa(0x224)][_0x22e9aa(0x11f)];_0x3ee8aa[_0x22e9aa(0x1f4)](_0x109b3e=>{const _0xbce9b=_0x22e9aa;try{const _0x370d35=new ccxt[(_0xbce9b(0x224))][_0x109b3e]();_0x1f85d3['push'](_0x370d35);}catch(_0x7f8a50){}}),_0x1f85d3[_0x22e9aa(0x1f4)](_0x3722a1=>{const _0x351003=_0x22e9aa;let _0x24c9ba=0x0;_0x168c95[_0x351003(0x1f4)](_0x5182b8=>{const _0x5d9bc9=_0x351003;_0x5182b8 in _0x3722a1[_0x5d9bc9(0x1af)]&&_0x3722a1[_0x5d9bc9(0x1af)][_0x5182b8]&&_0x24c9ba++;}),_0x24c9ba==_0x168c95[_0x351003(0x175)]&&(!excludedExchanges[_0x351003(0x295)](_0x3722a1['id'])&&_0x1caa8f[_0x351003(0x1ff)](capitalize(_0x3722a1['id'])));});let _0x27c8ab=[];return _0x3ee8aa[_0x22e9aa(0x1f4)](_0x1e7196=>{const _0x3dc2f2=_0x22e9aa;_0x1e7196=capitalize(_0x1e7196);if(!_0x1caa8f[_0x3dc2f2(0x295)](_0x1e7196))_0x27c8ab[_0x3dc2f2(0x1ff)](_0x1e7196);}),_0x1caa8f;}function setStartDatePerformance(){const _0x577a99=_0x167f3b;if(config&&config['liquidity'][0x0]['changes'][_0x577a99(0x175)]!=0x0){const _0x35bfe3=config[_0x577a99(0x1a8)][0x0][_0x577a99(0x229)];dbPerformance[_0x577a99(0x181)](_0x577a99(0x1ca))[_0x577a99(0x2c7)]({'date':config['startdate']})['assign']({'coins':_0x35bfe3})[_0x577a99(0x14f)]();}}function calculatePnL(_0x209e53,_0x1dd75a,_0x26d864,_0x53eb4b,_0x494d8e,_0x42ab7e){const _0x474cfc=_0x167f3b;!_0x209e53[_0x474cfc(0x295)]('/'+config[_0x474cfc(0x2b6)])&&(_0x26d864=_0x26d864==_0x474cfc(0x231)?_0x474cfc(0x2e9):_0x474cfc(0x231));!_0x42ab7e[_0x1dd75a]&&(_0x42ab7e[_0x1dd75a]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x449786=0x0,_0x99dc6,_0x543324;if(_0x26d864=='buy')_0x543324=_0x42ab7e[_0x1dd75a][_0x474cfc(0x177)]*_0x42ab7e[_0x1dd75a]['breakeven']+_0x494d8e*_0x53eb4b,_0x42ab7e[_0x1dd75a]['number']+=_0x53eb4b,_0x42ab7e[_0x1dd75a][_0x474cfc(0x22f)]=_0x42ab7e[_0x1dd75a][_0x474cfc(0x177)]!=0x0?_0x543324/_0x42ab7e[_0x1dd75a]['number']:0x0,_0x42ab7e[_0x1dd75a][_0x474cfc(0x13b)]++;else _0x26d864=='sell'&&(_0x99dc6=Math[_0x474cfc(0x225)](_0x42ab7e[_0x1dd75a]['number'],_0x53eb4b),_0x449786=(_0x494d8e-_0x42ab7e[_0x1dd75a][_0x474cfc(0x22f)])*_0x99dc6,_0x543324=Math[_0x474cfc(0x1da)](_0x42ab7e[_0x1dd75a]['number']*_0x42ab7e[_0x1dd75a][_0x474cfc(0x22f)]-_0x99dc6*_0x42ab7e[_0x1dd75a][_0x474cfc(0x22f)],0x0),_0x42ab7e[_0x1dd75a][_0x474cfc(0x177)]-=_0x99dc6,_0x42ab7e[_0x1dd75a][_0x474cfc(0x22f)]=_0x42ab7e[_0x1dd75a][_0x474cfc(0x177)]!=0x0?_0x543324/_0x42ab7e[_0x1dd75a][_0x474cfc(0x177)]:0x0,_0x42ab7e[_0x1dd75a][_0x474cfc(0x134)]+=_0x449786,_0x42ab7e[_0x1dd75a][_0x474cfc(0x1c7)]++);return _0x449786;}async function generatePnL(){const _0x2a3adb=_0x167f3b;pnlGenerationNeeded=![],logger[_0x2a3adb(0x2e4)]('Generating\x20PnL\x20data');const _0xcf2116=dbLogs[_0x2a3adb(0x181)](_0x2a3adb(0x12e))[_0x2a3adb(0x2e1)]();let _0x5ce68d={},_0x56f8e5=0x0,_0x407468=0x0,_0x305ab0=config[_0x2a3adb(0x13f)];const _0x2c60dc=fns[_0x2a3adb(0x1db)](_0x305ab0,_0x2a3adb(0x2ea),new Date()),_0x20445b=new Date();let _0x1f017b=0x0;for(let _0x578f72=_0x2c60dc;!fns[_0x2a3adb(0x24f)](_0x20445b,_0x578f72);_0x578f72=fns[_0x2a3adb(0x19e)](_0x578f72,0x1)){const _0x33a139=fns['format'](_0x578f72,_0x2a3adb(0x2ea));while(_0x56f8e5<_0xcf2116['length']){const _0x3b1f72=new Date(_0xcf2116[_0x56f8e5][_0x2a3adb(0x226)]);if(fns['isBefore'](_0x3b1f72,_0x578f72))_0x56f8e5++;else{if(_0xcf2116[_0x56f8e5][_0x2a3adb(0x226)][_0x2a3adb(0x295)](_0x33a139)){const _0x4313dd=_0xcf2116[_0x56f8e5];if(_0x4313dd[_0x2a3adb(0x1b6)]===_0x2a3adb(0x189)&&(_0x4313dd[_0x2a3adb(0x257)][_0x2a3adb(0x295)]('Order\x20filled')||_0x4313dd[_0x2a3adb(0x257)]['includes'](_0x2a3adb(0x296)))){const _0x69c75=_0x4313dd[_0x2a3adb(0x257)][_0x2a3adb(0x2a3)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x69c75){const [,_0x47c992,_0xc6b0fa,_0x31d1a2,_0x413d30]=_0x69c75,_0x485775=_0x47c992[_0x2a3adb(0x295)]('/'+config[_0x2a3adb(0x2b6)])?_0x47c992[_0x2a3adb(0x1ce)]('/')[0x0]:_0x47c992[_0x2a3adb(0x1ce)]('/')[0x1],_0x16a119=calculatePnL(_0x47c992,_0x485775,_0xc6b0fa,parseFloat(_0x31d1a2),parseFloat(_0x413d30),_0x5ce68d);_0x407468+=_0x16a119;}}_0x56f8e5++;}else break;}}dbPerformance[_0x2a3adb(0x181)](_0x2a3adb(0x1ca))[_0x2a3adb(0x2c7)]({'date':_0x33a139})['assign']({'pnl':_0x407468})[_0x2a3adb(0x14f)]();}dbCoinResults[_0x2a3adb(0x218)](_0x2a3adb(0x11c),_0x5ce68d)[_0x2a3adb(0x14f)](),logger[_0x2a3adb(0x2e4)](_0x2a3adb(0x162));const _0x3db8bd=getNormalizedPerformance();emitPerformance(_0x3db8bd);}async function updatePnL(_0x2cad14){const _0x26f283=_0x167f3b,{symbol:_0x29567b,coin:_0x4315c9,amount:_0x159d0f,price:_0x4091d9,side:_0x1250ef,reverse:_0x12a29d}=_0x2cad14;let _0x4479fa=dbCoinResults['get'](_0x26f283(0x11c))[_0x26f283(0x2e1)]();const _0x151f30=calculatePnL(_0x29567b,_0x4315c9,_0x1250ef,_0x159d0f,_0x4091d9,_0x4479fa);dbCoinResults[_0x26f283(0x218)]('coins',_0x4479fa)[_0x26f283(0x14f)]();const _0xddeb87=getTimeStamp()[_0x26f283(0x1ce)]('\x20')[0x0];let _0x21ce21=dbPerformance[_0x26f283(0x181)](_0x26f283(0x1ca))[_0x26f283(0x2c7)]({'date':_0xddeb87})[_0x26f283(0x2e1)]();_0x21ce21?(_0x21ce21[_0x26f283(0x12b)]+=_0x151f30,dbPerformance[_0x26f283(0x181)]('data')[_0x26f283(0x2c7)]({'date':_0xddeb87})['assign'](_0x21ce21)[_0x26f283(0x14f)]()):await storePerformance();const _0x55a6c7=getNormalizedPerformance();emitPerformance(_0x55a6c7);}async function validate24hChanges(){const _0x228e42=_0x167f3b;for(const _0x15b36e of currentCoins){if(_0x15b36e[_0x228e42(0x119)]!=config[_0x228e42(0x2b6)]){let _0x47c5b1;_0x15b36e[_0x228e42(0x2c4)]?_0x47c5b1=formatResult((0x1/(gChange[_0x15b36e['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x47c5b1=gChange[_0x15b36e[_0x228e42(0x283)]],_0x47c5b1<config[_0x228e42(0x279)]&&(logHistory(_0x228e42(0x26a),_0x15b36e[_0x228e42(0x119)]+_0x228e42(0x2de)+_0x47c5b1+'%'),logHistory(_0x228e42(0x26a),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x228e42(0x26a),_0x228e42(0x11e)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x234ce9,_0x271bf2){const _0x334c17=_0x167f3b;if(!_0x234ce9)return!![];const _0x2cf288=_0x271bf2[_0x334c17(0x1ce)]('.'),_0x3c139e=_0x234ce9[_0x334c17(0x1ce)]('.');for(var _0x5bf796=0x0;_0x5bf796<_0x3c139e[_0x334c17(0x175)];_0x5bf796++){const _0x46b42c=~~_0x3c139e[_0x5bf796],_0x34eac8=~~_0x2cf288[_0x5bf796];if(_0x46b42c<_0x34eac8)return!![];if(_0x46b42c>_0x34eac8)return![];}return![];}async function oneTimeMigration(){const _0x4768a6=_0x167f3b;let _0x26704a=dbLogs[_0x4768a6(0x181)]('version')[_0x4768a6(0x2e1)]();if(isOlderVersion(_0x26704a,'2.3.5')){let _0xe6eb67=[];const _0x13f9d1=dbLogs[_0x4768a6(0x181)](_0x4768a6(0x12e))['value']();_0x13f9d1['forEach'](_0x1761ba=>{const _0x4c65d3=_0x4768a6;_0xe6eb67[_0x4c65d3(0x1ff)]({'time':_0x1761ba[_0x4c65d3(0x226)],'type':_0x1761ba[_0x4c65d3(0x1b6)],'event':_0x1761ba['event']});}),dbLogs[_0x4768a6(0x181)](_0x4768a6(0x12e))[_0x4768a6(0x18e)](_0xe6eb67)[_0x4768a6(0x14f)]();}let _0x5fdc1=dbConfig[_0x4768a6(0x181)](_0x4768a6(0x22c))[_0x4768a6(0x2e1)]();if(isOlderVersion(_0x5fdc1,'2.3.5')){let _0x817244=dbConfig[_0x4768a6(0x181)](_0x4768a6(0x26f))[_0x4768a6(0x2c7)]({'botID':botID})[_0x4768a6(0x2e1)]();if(_0x817244){let _0x58f188=[];_0x817244[_0x4768a6(0x19b)][_0x4768a6(0x1f4)](_0x5ac729=>{const _0x222ce1=_0x4768a6;_0x58f188[_0x222ce1(0x1ff)]({'coin':_0x5ac729[_0x222ce1(0x119)],'number':_0x5ac729['startnumber'],'price':_0x5ac729[_0x222ce1(0x292)]}),delete _0x5ac729['startnumber'],delete _0x5ac729['startprice'];});if(_0x58f188['length']!==0x0)fs['writeFile'](configbackuppath+(_0x4768a6(0x11d)+botID+_0x4768a6(0x25f)),JSON[_0x4768a6(0x234)](_0x58f188,null,0x4),function(_0x153b8b){if(_0x153b8b){}});const _0x4bc76e=(_0x5c82e9,_0x53df05)=>{const _0x7a600b=_0x4768a6;let _0x56de1e=[];_0x53df05['forEach'](_0x5c1734=>{const _0x42d866=_0x250b,_0x372c27=_0x5c82e9['find'](_0x3ad3e2=>_0x3ad3e2[_0x42d866(0x119)]==_0x5c1734['coin']);if(!_0x372c27)_0x56de1e['push'](_0x5c1734);});let _0xcadc9c=[];return _0x5c82e9[_0x7a600b(0x1f4)](_0x1c048b=>{const _0x2f6fb6=_0x7a600b,_0x55192a=_0x53df05[_0x2f6fb6(0x2c7)](_0x10ed3a=>_0x10ed3a['coin']==_0x1c048b[_0x2f6fb6(0x119)]);if(!_0x55192a||_0x55192a[_0x2f6fb6(0x177)]==0x0&&_0x1c048b[_0x2f6fb6(0x177)]!=0x0)_0xcadc9c[_0x2f6fb6(0x1ff)](_0x1c048b);}),{'missingDay1':_0x56de1e,'notInDay2':_0xcadc9c};},_0x2dfc88=dbPerformance[_0x4768a6(0x181)]('data')['cloneDeep']()[_0x4768a6(0x2e1)]();if(_0x2dfc88[_0x4768a6(0x175)]>0x1){const {missingDay1:_0x507c8b,notInDay2:_0x1e1d10}=_0x4bc76e(_0x58f188,_0x2dfc88[0x1]['coins']);_0x58f188=[..._0x58f188,..._0x507c8b],_0x1e1d10[_0x4768a6(0x1f4)](_0x299b96=>{const _0x3a1de6=_0x4768a6;let _0x57ef0d=_0x58f188[_0x3a1de6(0x1e2)](_0x1a690b=>_0x1a690b['coin']==_0x299b96[_0x3a1de6(0x119)]);_0x57ef0d!=-0x1&&_0x58f188[_0x3a1de6(0x1cc)](_0x57ef0d,0x1);});}_0x58f188[_0x4768a6(0x219)]((_0x59b52c,_0x239f15)=>_0x59b52c[_0x4768a6(0x119)]>_0x239f15['coin']?0x1:_0x239f15[_0x4768a6(0x119)]>_0x59b52c['coin']?-0x1:0x0);let _0x40d186=[{'date':_0x817244['startdate'],'changes':_0x58f188}];_0x2dfc88[_0x4768a6(0x175)]>0x2&&_0x2dfc88[_0x4768a6(0x1f4)]((_0x55283a,_0x266ff6)=>{const _0x1667da=_0x4768a6;if(_0x266ff6>0x0&&_0x266ff6<_0x2dfc88[_0x1667da(0x175)]-0x1){const {missingDay1:_0x21f2f9,notInDay2:_0x5e1cd0}=_0x4bc76e(_0x2dfc88[_0x266ff6][_0x1667da(0x11c)],_0x2dfc88[_0x266ff6+0x1][_0x1667da(0x11c)]);_0x58f188=[],(_0x21f2f9[_0x1667da(0x175)]!=0x0||_0x5e1cd0[_0x1667da(0x175)]!=0x0)&&(_0x21f2f9['length']!=0x0&&_0x58f188[_0x1667da(0x1ff)](..._0x21f2f9),_0x5e1cd0['length']!=0x0&&(_0x5e1cd0[_0x1667da(0x1f4)](_0x2a291d=>{const _0x1d2b4b=_0x1667da;_0x2a291d[_0x1d2b4b(0x177)]=-_0x2a291d[_0x1d2b4b(0x177)];}),_0x58f188[_0x1667da(0x1ff)](..._0x5e1cd0)),_0x58f188['sort']((_0x3c9b87,_0x26aefe)=>_0x3c9b87['coin']>_0x26aefe['coin']?0x1:_0x26aefe['coin']>_0x3c9b87[_0x1667da(0x119)]?-0x1:0x0),_0x40d186[_0x1667da(0x1ff)]({'date':_0x2dfc88[_0x266ff6+0x1][_0x1667da(0x271)],'changes':_0x58f188}));}}),dbConfig['get'](_0x4768a6(0x26f))['find']({'botID':botID})[_0x4768a6(0x18e)]({..._0x817244,'liquidity':_0x40d186})[_0x4768a6(0x14f)]();}}if(isOlderVersion(_0x5fdc1,_0x4768a6(0x136))){let _0x233a8b=dbConfig['get'](_0x4768a6(0x26f))[_0x4768a6(0x2c7)]({'botID':botID})['value']();if(_0x233a8b){const _0x55f1af=_0x233a8b[_0x4768a6(0x282)],_0x3e82fe=_0x55f1af?capitalize(_0x55f1af):_0x4768a6(0x182);dbConfig[_0x4768a6(0x181)](_0x4768a6(0x26f))[_0x4768a6(0x2c7)]({'botID':botID})[_0x4768a6(0x18e)]({'exchange':_0x3e82fe})[_0x4768a6(0x14f)]();}}if(isOlderVersion(_0x5fdc1,_0x4768a6(0x239))){let _0x1bb7f7=dbConfig['get'](_0x4768a6(0x26f))[_0x4768a6(0x2c7)]({'botID':botID})['value']();if(_0x1bb7f7){const _0x26ee23=_0x1bb7f7[_0x4768a6(0x2c3)],_0x29c88d=_0x26ee23?_0x4768a6(0x235):![];dbConfig[_0x4768a6(0x181)](_0x4768a6(0x26f))[_0x4768a6(0x2c7)]({'botID':botID})['assign']({'marketcapEnabled':_0x29c88d})['write']();}}if(isOlderVersion(_0x5fdc1,_0x4768a6(0x1e8))){let _0x2769c1=dbConfig['get'](_0x4768a6(0x26f))[_0x4768a6(0x2c7)]({'botID':botID})[_0x4768a6(0x2e1)]();if(_0x2769c1){const _0x10379b=_0x2769c1[_0x4768a6(0x17d)],_0x15d1ad=_0x10379b?_0x4768a6(0x112):![];dbConfig[_0x4768a6(0x181)](_0x4768a6(0x26f))[_0x4768a6(0x2c7)]({'botID':botID})['assign']({'autoliquidity':_0x15d1ad})[_0x4768a6(0x14f)]();}}let _0x26e826=dbPerformance['get'](_0x4768a6(0x22c))[_0x4768a6(0x2e1)]();isOlderVersion(_0x26e826,_0x4768a6(0x211))&&setStartDatePerformance();let _0x1b526f=dbCoinResults['get'](_0x4768a6(0x22c))['value']();if(isOlderVersion(_0x1b526f,_0x4768a6(0x29d))){let _0x5cc2e8=dbCoinResults[_0x4768a6(0x181)](_0x4768a6(0x11c))[_0x4768a6(0x2e1)]();if(_0x5cc2e8[_0x4768a6(0x175)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x3f028=_0x167f3b;dbConfig[_0x3f028(0x218)](_0x3f028(0x22c),serverversion)[_0x3f028(0x14f)](),dbPerformance[_0x3f028(0x218)](_0x3f028(0x22c),serverversion)[_0x3f028(0x14f)](),dbLogs['set']('version',serverversion)[_0x3f028(0x14f)](),dbCoinResults['set'](_0x3f028(0x22c),serverversion)['write']();}function getConfiguration(_0x335f94){const _0x280f52=_0x167f3b;let _0x22ae05=dbConfig[_0x280f52(0x181)](_0x280f52(0x26f))[_0x280f52(0x2c7)]({'botID':_0x335f94})['value']();if(_0x22ae05){let _0x3de393=![];typeof _0x22ae05[_0x280f52(0x253)]=='string'&&(_0x22ae05={..._0x22ae05,'threshold':Number(_0x22ae05[_0x280f52(0x253)])},_0x3de393=!![]),_0x22ae05[_0x280f52(0x279)]==undefined&&(_0x22ae05={..._0x22ae05,'change24h':-0x14},_0x3de393=!![]),_0x22ae05[_0x280f52(0x261)]==undefined&&(_0x22ae05={..._0x22ae05,'fiat':'USD'},_0x3de393=!![]),_0x22ae05['onepagemode']==undefined&&(_0x22ae05={..._0x22ae05,'onepagemode':settings[_0x280f52(0x1a3)]},_0x3de393=!![]),_0x22ae05[_0x280f52(0x1f6)]==undefined&&(_0x22ae05={..._0x22ae05,'colorscheme':_0x280f52(0x18c)},_0x3de393=!![]),_0x22ae05['autoliquidity']==undefined&&(_0x22ae05={..._0x22ae05,'autoliquidity':_0x280f52(0x112)},_0x3de393=!![]),_0x22ae05[_0x280f52(0x2cc)]==undefined&&(_0x22ae05={..._0x22ae05,'marketcapApi':settings[_0x280f52(0x2cc)]?!![]:![]},_0x3de393=!![]),_0x22ae05[_0x280f52(0x2c3)]==undefined&&(_0x22ae05={..._0x22ae05,'marketcapEnabled':![]},_0x3de393=!![]),_0x3de393&&(_0x22ae05={'botID':_0x22ae05[_0x280f52(0x144)],'exchange':_0x22ae05['exchange'],'apiKey':_0x22ae05[_0x280f52(0x273)],'apiSecret':_0x22ae05[_0x280f52(0x294)],'apiPassword':_0x22ae05[_0x280f52(0x121)],'basecoin':_0x22ae05[_0x280f52(0x2b6)],'botname':_0x22ae05[_0x280f52(0x220)],'showname':_0x22ae05[_0x280f52(0x13d)],'threshold':_0x22ae05[_0x280f52(0x253)],'ordertype':_0x22ae05[_0x280f52(0x2b5)],'timeout':_0x22ae05[_0x280f52(0x2ce)],'fiat':_0x22ae05[_0x280f52(0x261)],'startdate':_0x22ae05['startdate'],'recreate':_0x22ae05['recreate'],'timeshift':_0x22ae05[_0x280f52(0x1d5)],'onepagemode':_0x22ae05['onepagemode'],'headless':_0x22ae05[_0x280f52(0x274)],'cooldown':_0x22ae05['cooldown'],'change24h':_0x22ae05[_0x280f52(0x279)],'emojibuy':_0x22ae05['emojibuy'],'emojisell':_0x22ae05[_0x280f52(0x117)],'colorscheme':_0x22ae05[_0x280f52(0x1f6)],'marketcapApi':_0x22ae05['marketcapApi'],'marketcapEnabled':_0x22ae05[_0x280f52(0x2c3)],'portfolio':_0x22ae05[_0x280f52(0x19b)],'autoliquidity':_0x22ae05[_0x280f52(0x17d)],'liquidity':_0x22ae05[_0x280f52(0x1a8)],'openOrders':_0x22ae05[_0x280f52(0x2a9)]},dbConfig[_0x280f52(0x181)]('bot')[_0x280f52(0x264)]()['write'](),dbConfig[_0x280f52(0x181)](_0x280f52(0x26f))['push'](_0x22ae05)[_0x280f52(0x14f)]());}else _0x22ae05={'botID':_0x335f94,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x280f52(0x15f)+_0x335f94,'showname':![],'threshold':0x3,'ordertype':_0x280f52(0x1bf),'timeout':0x14,'fiat':_0x280f52(0x1e7),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x280f52(0x1d5)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x280f52(0x18c),'marketcapApi':settings[_0x280f52(0x2cc)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x280f52(0x112),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x22ae05;}function emittedConfiguration(){const _0x4cd6fa=_0x167f3b;let _0x406e0c;if(config[_0x4cd6fa(0x273)]=='')_0x406e0c={...config,'configstate':_0x4cd6fa(0x1ac)};else config[_0x4cd6fa(0x273)]=='***'?_0x406e0c={...config,'configstate':_0x4cd6fa(0x2e5)}:(_0x406e0c={...config,'apiKey':_0x4cd6fa(0x17c),'apiSecret':_0x4cd6fa(0x17c)},config['apiPassword']&&(_0x406e0c[_0x4cd6fa(0x121)]=_0x4cd6fa(0x17c)));return _0x406e0c[_0x4cd6fa(0x192)]=enableFiatToggle,_0x406e0c;}function getSettings(){const _0x576e9b=_0x167f3b;return dbSettings['get'](_0x576e9b(0x194))['value']();}function getSecure(){const _0x7e8ef4=_0x167f3b;return dbSecure[_0x7e8ef4(0x181)]('secure')[_0x7e8ef4(0x2e1)]()||{};}function updateTimeshift(_0x5247b7){const _0x46302e=_0x167f3b;let _0x55b8bd=dbConfig[_0x46302e(0x181)](_0x46302e(0x26f))['find']({'botID':botID})['value']();_0x55b8bd&&dbConfig['get'](_0x46302e(0x26f))['find']({'botID':botID})[_0x46302e(0x18e)]({'timeshift':_0x5247b7})[_0x46302e(0x14f)](),config[_0x46302e(0x1d5)]=_0x5247b7,proxyEmit(_0x46302e(0x2eb),emittedConfiguration());}function updateOnepagemode(_0x25bab7){const _0x426bef=_0x167f3b;let _0x23e363=dbConfig[_0x426bef(0x181)]('bot')['find']({'botID':botID})[_0x426bef(0x2e1)]();_0x23e363&&dbConfig[_0x426bef(0x181)]('bot')[_0x426bef(0x2c7)]({'botID':botID})[_0x426bef(0x18e)]({'onepagemode':_0x25bab7})[_0x426bef(0x14f)](),config['onepagemode']=_0x25bab7,proxyEmit(_0x426bef(0x2eb),emittedConfiguration());}function updateMarketcapApi(_0x46702d){const _0x3e2555=_0x167f3b,_0x3c8269=_0x46702d?!![]:![];let _0x4201e4=dbConfig[_0x3e2555(0x181)]('bot')[_0x3e2555(0x2c7)]({'botID':botID})[_0x3e2555(0x2e1)]();_0x4201e4&&dbConfig[_0x3e2555(0x181)](_0x3e2555(0x26f))['find']({'botID':botID})['assign']({'marketcapApi':_0x3c8269})[_0x3e2555(0x14f)](),config[_0x3e2555(0x2cc)]=_0x3c8269,getMarketCap(),proxyEmit(_0x3e2555(0x2eb),emittedConfiguration());}async function storeConfiguration(_0x3de76d){const _0x51907a=_0x167f3b;logger[_0x51907a(0x2e4)]('Saving\x20configuration');let _0x28d829=![];_0x3de76d['configstate']&&(_0x3de76d['configstate']==_0x51907a(0x2e5)&&(_0x28d829=!![]),delete _0x3de76d[_0x51907a(0x1f1)]);if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x30c032=![],_0x175909=![],_0x292ac3=[];_0x3de76d[_0x51907a(0x19b)]['forEach'](_0x507246=>{const _0x343051=_0x51907a;if(!_0x507246[_0x343051(0x210)]&&_0x507246['coin']!=_0x3de76d['basecoin'])_0x292ac3[_0x343051(0x1ff)](_0x507246[_0x343051(0x283)]);}),_0x292ac3[_0x51907a(0x1f4)](_0x2cc05b=>{const _0x34a1f1=_0x51907a,_0x24e175=currentCoins['find'](_0x3bcd73=>_0x3bcd73[_0x34a1f1(0x283)]==_0x2cc05b);!_0x24e175&&(_0x30c032=!![]);}),currentCoins[_0x51907a(0x1f4)](_0x59d8a1=>{const _0x10d4d9=_0x51907a;if(_0x59d8a1['coin']!=config[_0x10d4d9(0x2b6)]){const _0x46b4a8=_0x292ac3[_0x10d4d9(0x2c7)](_0x25359f=>_0x25359f==_0x59d8a1[_0x10d4d9(0x283)]);!_0x46b4a8&&(_0x30c032=!![]);}}),_0x3de76d[_0x51907a(0x19b)][_0x51907a(0x1f4)](_0x38fdeb=>{const _0x184545=_0x51907a,_0x1faa19=config[_0x184545(0x19b)][_0x184545(0x2c7)](_0xc8e9bd=>_0xc8e9bd[_0x184545(0x119)]==_0x38fdeb[_0x184545(0x119)]);if(_0x1faa19&&_0x38fdeb['offset']!=_0x1faa19[_0x184545(0x254)])_0x175909=!![];});let _0x46ac93=dbConfig['get'](_0x51907a(0x26f))[_0x51907a(0x2c7)]({'botID':botID})[_0x51907a(0x2e1)]();_0x3de76d={..._0x3de76d,'apiKey':decryptRSA(secure[_0x51907a(0x139)],_0x3de76d[_0x51907a(0x273)]),'apiSecret':decryptRSA(secure['privateKey'],_0x3de76d['apiSecret'])};_0x3de76d[_0x51907a(0x121)]&&(_0x3de76d['apiPassword']=decryptRSA(secure[_0x51907a(0x139)],_0x3de76d['apiPassword']));let _0x4b02e9=![];if(_0x46ac93){_0x3de76d[_0x51907a(0x273)]=='************'?_0x3de76d['apiKey']=config[_0x51907a(0x273)]:_0x4b02e9=!![];_0x3de76d[_0x51907a(0x294)]==_0x51907a(0x17c)?_0x3de76d['apiSecret']=config[_0x51907a(0x294)]:_0x4b02e9=!![];if(_0x3de76d[_0x51907a(0x121)]==_0x51907a(0x17c))_0x3de76d['apiPassword']=config[_0x51907a(0x121)];else{if(_0x3de76d[_0x51907a(0x121)])_0x4b02e9=!![];}dbConfig[_0x51907a(0x181)]('bot')[_0x51907a(0x2c7)]({'botID':botID})[_0x51907a(0x18e)](_0x3de76d)['write']();}else dbConfig[_0x51907a(0x181)](_0x51907a(0x26f))[_0x51907a(0x1ff)](_0x3de76d)['write'](),_0x4b02e9=!![],process[_0x51907a(0x278)]({'status':_0x51907a(0x1be),'live':_0x51907a(0x243)},_0x40bdbf=>{});process[_0x51907a(0x278)]({'botname':_0x3de76d[_0x51907a(0x220)]},_0x1c7431=>{}),config={..._0x3de76d},updateBotManager(),proxyEmit(_0x51907a(0x149)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x4b02e9)!_0x46ac93||_0x28d829?await reset(!![]):getBalances();else _0x30c032||_0x175909?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x5be41d){const _0x271bb1=_0x167f3b,_0x2d1c92={...config,'headless':_0x5be41d['headless']};let _0x2b05d7=dbConfig[_0x271bb1(0x181)](_0x271bb1(0x26f))[_0x271bb1(0x2c7)]({'botID':botID})[_0x271bb1(0x2e1)]();_0x2b05d7&&dbConfig[_0x271bb1(0x181)]('bot')[_0x271bb1(0x2c7)]({'botID':botID})[_0x271bb1(0x18e)](_0x2d1c92)[_0x271bb1(0x14f)](),config={..._0x2d1c92},updateBotManager(),proxyEmit(_0x271bb1(0x2eb),emittedConfiguration());}async function storeFiat(_0x689116){const _0x4e9e9f=_0x167f3b,_0xdfd603={...config,'fiat':_0x689116};let _0x183b4a=dbConfig[_0x4e9e9f(0x181)](_0x4e9e9f(0x26f))[_0x4e9e9f(0x2c7)]({'botID':botID})['value']();_0x183b4a&&dbConfig['get'](_0x4e9e9f(0x26f))[_0x4e9e9f(0x2c7)]({'botID':botID})[_0x4e9e9f(0x18e)](_0xdfd603)['write'](),config={..._0xdfd603},proxyEmit(_0x4e9e9f(0x2eb),emittedConfiguration());}function resetHistory(){const _0x203693=_0x167f3b;logger[_0x203693(0x2cf)](_0x203693(0x205));try{if(fs[_0x203693(0x184)](path[_0x203693(0x276)](configpath,_0x203693(0x161)+botID+_0x203693(0x299))))fs[_0x203693(0x1fe)](path[_0x203693(0x276)](configpath,_0x203693(0x161)+botID+'-events.json'));if(fs['existsSync'](path[_0x203693(0x276)](configpath,_0x203693(0x161)+botID+_0x203693(0x120))))fs[_0x203693(0x1fe)](path[_0x203693(0x276)](configpath,_0x203693(0x161)+botID+_0x203693(0x120)));if(fs[_0x203693(0x184)](path['join'](configpath,_0x203693(0x161)+botID+_0x203693(0x269))))fs[_0x203693(0x1fe)](path[_0x203693(0x276)](configpath,_0x203693(0x161)+botID+_0x203693(0x269)));}catch(_0x45ce43){if(_0x45ce43)logger[_0x203693(0x2cf)](_0x203693(0x1b3),_0x45ce43);}const _0x19b22e=getDate();let _0x2f0288=[];currentCoins[_0x203693(0x1f4)](_0x11a931=>{const _0x8b71aa=_0x203693;_0x2f0288[_0x8b71aa(0x1ff)]({'coin':_0x11a931[_0x8b71aa(0x119)],'number':_0x11a931[_0x8b71aa(0x177)],'price':_0x11a931[_0x8b71aa(0x21e)]});});let _0x57dc81=dbConfig[_0x203693(0x181)](_0x203693(0x26f))['find']({'botID':botID})['value']();_0x57dc81&&(dbConfig[_0x203693(0x181)]('bot')[_0x203693(0x2c7)]({'botID':botID})['assign']({'liquidity':[{'date':_0x19b22e,'changes':_0x2f0288}]})['write'](),config[_0x203693(0x1a8)]=[]),restartBot(!![]);}function noslash(_0x15c64a){const _0x43c6da=_0x167f3b;return _0x15c64a[_0x43c6da(0x170)]('/','');}function updateHighestFee(_0x3f798c){const _0x5845e8=_0x167f3b;if(_0x3f798c[_0x5845e8(0x2c4)]){let _0x21277e={'filled':_0x3f798c[_0x5845e8(0x272)]*_0x3f798c[_0x5845e8(0x26d)],'amount':_0x3f798c[_0x5845e8(0x272)]*_0x3f798c[_0x5845e8(0x26d)],'side':_0x3f798c[_0x5845e8(0x1e5)]=='sell'?'buy':_0x5845e8(0x2e9),'price':0x1/_0x3f798c[_0x5845e8(0x26d)]};_0x3f798c={..._0x3f798c,..._0x21277e};}const _0x4008a3=defaultFee*_0x3f798c[_0x5845e8(0x272)]*_0x3f798c[_0x5845e8(0x26d)];lastFees[_0x5845e8(0x1c3)][_0x5845e8(0x175)]===0x14&&lastFees[_0x5845e8(0x1c3)][_0x5845e8(0x122)](),lastFees[_0x5845e8(0x1c3)][_0x5845e8(0x1ff)](_0x4008a3),lastFees[_0x5845e8(0x2d7)]=Math['max'](...lastFees[_0x5845e8(0x1c3)]);}async function updateNumberCoinsCcxt(_0x2dd2c8){const _0x34d924=_0x167f3b;logger['debug'](_0x34d924(0x2a4)+_0x2dd2c8[_0x34d924(0x283)]+_0x34d924(0x21a)+_0x2dd2c8[_0x34d924(0x284)]+_0x34d924(0x21a)+_0x2dd2c8['filled']+'\x20/\x20'+_0x2dd2c8[_0x34d924(0x2d9)]+_0x34d924(0x21a)+_0x2dd2c8['id']);let _0x358cac=_0x2dd2c8[_0x34d924(0x284)],_0x4aba3e=![];currentCoins[_0x34d924(0x1f4)](_0x132746=>{const _0x3afd35=_0x34d924;_0x132746[_0x3afd35(0x283)]==_0x2dd2c8[_0x3afd35(0x283)]&&(_0x4aba3e=!![]);});if(!_0x4aba3e)return;const _0x5dfcfe=currentCoins['find'](_0x2951aa=>_0x2951aa[_0x34d924(0x283)]==_0x2dd2c8[_0x34d924(0x283)]),_0xed033b=_0x5dfcfe[_0x34d924(0x119)],_0x4e94fa=_0x235966=>{const _0x1974a8=_0x34d924,_0x4e03c9=currentCoins[_0x1974a8(0x2c7)](_0x35d508=>_0x35d508[_0x1974a8(0x283)]==_0x2dd2c8[_0x1974a8(0x283)]);if(_0x4e03c9)_0x4e03c9[_0x1974a8(0x2a2)]=_0x235966;};let _0x788b25=![];for(const _0x41f772 of lastOrders){const _0x4cd01a=0x64,_0x302cdf=0x1388;let _0x2baa7e=0x0;while(!_0x41f772[_0x34d924(0x17a)]&&_0x2baa7e*_0x4cd01a<_0x302cdf){_0x2baa7e++,await sleep(_0x4cd01a);}if(_0x2baa7e>0x0)logger[_0x34d924(0x2e4)](_0x34d924(0x23f)+_0x2baa7e*_0x4cd01a/0x3e8+_0x34d924(0x262));_0x41f772[_0x34d924(0x17a)]==_0x2dd2c8['id']&&(_0x788b25=!![]);}if(_0x358cac==_0x34d924(0x146)){_0x4e94fa('open');if(_0x2dd2c8['filled']>0x0&&_0x2dd2c8[_0x34d924(0x272)]<_0x2dd2c8['amount']){if(_0x788b25){setBlockTransactionDetection(!![]),logger[_0x34d924(0x2e4)](_0x34d924(0x207)+_0x2dd2c8[_0x34d924(0x272)]+')\x20known\x20order:\x20'+_0x2dd2c8['id']);const _0x51be7a=await getCoins(balanceUpdateDelay,undefined,undefined,_0xed033b);[currentCoins,currentCoinsAll]=_0x51be7a,setBlockTransactionDetection(![]);}else logger['debug'](_0x34d924(0x207)+_0x2dd2c8['filled']+_0x34d924(0x147)+_0x2dd2c8['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x358cac==_0x34d924(0x20e)){_0x4e94fa(_0x34d924(0x20e)),lastOrders=lastOrders['filter'](_0x2e5c7e=>_0x2e5c7e[_0x34d924(0x283)]!=_0x2dd2c8['symbol']);const _0x3c8b89=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3c8b89,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x358cac==_0x34d924(0x150)){if(lastOrders)for(const _0x42827a of lastOrders){if(_0x42827a[_0x34d924(0x17a)]==_0x2dd2c8['id']){logger[_0x34d924(0x2e4)](_0x34d924(0x130)+_0x2dd2c8['id']),_0x788b25=!![];if(_0x42827a[_0x34d924(0x272)]==0x0){setBlockTransactionDetection(!![]),logger[_0x34d924(0x2e4)](_0x34d924(0x2da)+_0x2dd2c8['id']);if(_0x2dd2c8[_0x34d924(0x12f)])_0x42827a[_0x34d924(0x26d)]=_0x2dd2c8[_0x34d924(0x12f)];else{if(_0x2dd2c8[_0x34d924(0x26d)])_0x42827a[_0x34d924(0x26d)]=_0x2dd2c8[_0x34d924(0x26d)];else{}}_0x42827a[_0x34d924(0x272)]=_0x2dd2c8[_0x34d924(0x272)],updateHighestFee(_0x42827a);const _0x3d481b=await getCoins(balanceUpdateDelay,undefined,undefined,_0xed033b);[currentCoins,currentCoinsAll]=_0x3d481b,setBlockTransactionDetection(![]),await validateOrders(),_0x4e94fa(_0x34d924(0x272)),_0x42827a['fee']={'currency':_0x2dd2c8[_0x34d924(0x1dc)]?_0x2dd2c8[_0x34d924(0x1dc)][_0x34d924(0x158)]:null,'cost':_0x2dd2c8['fee']?_0x2dd2c8[_0x34d924(0x1dc)][_0x34d924(0x135)]:0x0},await updatePnL(_0x42827a);}}}!_0x788b25&&(logger[_0x34d924(0x2e4)](_0x34d924(0x15e)+_0x2dd2c8['id']),_0x4e94fa(_0x34d924(0x272)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x315c0a=JSON['parse'](lastBalances[_0x34d924(0x19b)]);const _0x431a0e=_0x315c0a['find'](_0x3ecbfe=>_0x3ecbfe[_0x34d924(0x283)]==_0x2dd2c8[_0x34d924(0x283)]);if(_0x431a0e){if(_0x358cac=='open')_0x431a0e[_0x34d924(0x2a2)]=_0x431a0e[_0x34d924(0x2a2)]=='filled'?_0x34d924(0x272):'open';else{if(_0x358cac==_0x34d924(0x20e))_0x431a0e[_0x34d924(0x2a2)]=_0x431a0e[_0x34d924(0x2a2)]==_0x34d924(0x272)?_0x34d924(0x272):_0x34d924(0x20e);else _0x358cac==_0x34d924(0x150)&&(_0x431a0e[_0x34d924(0x2a2)]=_0x34d924(0x272));}}lastBalances={...lastBalances,'portfolio':JSON[_0x34d924(0x234)](_0x315c0a)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x30e328=_0x167f3b;await getOpenOrders();let _0x6c2a5c=![];currentCoins[_0x30e328(0x1f4)](_0x5045fc=>{const _0x198d80=_0x30e328;_0x6c2a5c=allOpenOrders[_0x198d80(0x2c7)](_0x3d06ef=>_0x3d06ef[_0x198d80(0x283)]==_0x5045fc[_0x198d80(0x283)]),_0x5045fc[_0x198d80(0x2a2)]=_0x6c2a5c?_0x198d80(0x146):_0x198d80(0x1ad);});}async function fetchBalance(_0x350adc=!![]){const _0x310e0f=_0x167f3b;let _0x39d95d,_0x40c4af;try{return _0x39d95d=await exchange[_0x310e0f(0x1fa)](),_0x40c4af=_0x39d95d['total'],_0x40c4af;}catch(_0x3ad35a){return!_0x350adc?handleErrorNoStop(_0x3ad35a,_0x310e0f(0x11b)):await handleError(_0x3ad35a,_0x310e0f(0x11b)),![];}}async function getCoins(_0x48b41d=0x0,_0x1aad45=!![],_0x33ea10=config[_0x167f3b(0x2b6)],_0x23ddd9){const _0x40b1c0=_0x167f3b;let _0x586460=[],_0x22f2ec=[],_0x284408=[],_0x52786e;if(_0x48b41d)await sleep(_0x48b41d);if(botPaused)return[currentCoins,currentCoinsAll];let _0x2b8355=![],_0x3f5eb8=0x0,_0xf0790d,_0x1f93bc;_0x23ddd9&&(_0xf0790d=currentCoins['find'](_0x54f483=>_0x54f483[_0x40b1c0(0x119)]==_0x23ddd9),_0xf0790d&&(_0x1f93bc=_0xf0790d['prevnumber'],delete _0xf0790d['prevnumber']));while(!_0x2b8355){_0x52786e=await fetchBalance(_0x1aad45);if(_0x52786e){if(_0x23ddd9){if(_0x52786e[_0x23ddd9]!=_0x1f93bc)logger['debug'](_0x40b1c0(0x191)+_0x23ddd9+':\x20'+_0x52786e[_0x23ddd9]+'\x20('+_0x1f93bc+')'),_0x2b8355=!![];else{logger['debug'](_0x40b1c0(0x29b)+_0x23ddd9+':\x20'+_0x52786e[_0x23ddd9]+'\x20('+_0x1f93bc+')'),_0x3f5eb8++;if(_0x3f5eb8<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x40b1c0(0x2e4)](_0x40b1c0(0x2b9)+_0x3f5eb8+_0x40b1c0(0x138));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x20eb10,_0xbd3950]of Object['entries'](_0x52786e)){_0x284408[_0x40b1c0(0x1ff)](_0x20eb10);}config['portfolio']['forEach'](_0x2f6a79=>{const _0x57141a=_0x40b1c0;!_0x284408[_0x57141a(0x295)](_0x2f6a79['coin'])&&(_0x52786e[_0x2f6a79[_0x57141a(0x119)]]=0x0);});if(_0x33ea10=='')for(const [_0x3188f2,_0x536918]of Object[_0x40b1c0(0x137)](_0x52786e)){_0x536918!=0x0&&_0x586460[_0x40b1c0(0x1ff)]({'coin':_0x3188f2});}else for(const [_0x569f93,_0x4e6fec]of Object[_0x40b1c0(0x137)](_0x52786e)){const _0x1d1782=config[_0x40b1c0(0x19b)][_0x40b1c0(0x2c7)](_0x1bc56c=>_0x1bc56c[_0x40b1c0(0x119)]==_0x569f93),_0x5700c8=_0x569f93+'/'+_0x33ea10,_0x1b299f=_0x33ea10+'/'+_0x569f93,_0x3ad99e=currentCoins[_0x40b1c0(0x2c7)](_0x51eeb8=>_0x51eeb8['coin']==_0x569f93);if((_0x4e6fec!=0x0||_0x1d1782)&&(allSymbols[_0x40b1c0(0x295)](_0x5700c8)||_0x569f93==_0x33ea10))_0x3ad99e?_0x586460['push']({..._0x3ad99e,'number':Math[_0x40b1c0(0x1da)](_0x4e6fec+(_0x1d1782&&_0x1d1782[_0x40b1c0(0x254)]||0x0),0x0)}):_0x586460['push']({'coin':_0x569f93,'symbol':_0x5700c8,'reverse':![],'number':Math[_0x40b1c0(0x1da)](_0x4e6fec+(_0x1d1782&&_0x1d1782[_0x40b1c0(0x254)]||0x0),0x0),'orderstatus':'none'});else{if((_0x4e6fec!=0x0||_0x1d1782)&&allSymbols[_0x40b1c0(0x295)](_0x1b299f))_0x3ad99e?_0x586460[_0x40b1c0(0x1ff)]({..._0x3ad99e,'number':Math[_0x40b1c0(0x1da)](_0x4e6fec+(_0x1d1782&&_0x1d1782[_0x40b1c0(0x254)]||0x0),0x0)}):_0x586460[_0x40b1c0(0x1ff)]({'coin':_0x569f93,'symbol':_0x1b299f,'reverse':!![],'number':Math['max'](_0x4e6fec+(_0x1d1782&&_0x1d1782['offset']||0x0),0x0),'orderstatus':_0x40b1c0(0x1ad)});else _0x1d1782&&_0x586460[_0x40b1c0(0x1ff)]({'coin':_0x1d1782[_0x40b1c0(0x119)],'symbol':_0x1d1782[_0x40b1c0(0x283)],'reverse':_0x1d1782[_0x40b1c0(0x2c4)],'number':0x0,'orderstatus':_0x40b1c0(0x1ad)});}}return _0x586460[_0x40b1c0(0x219)]((_0xeede04,_0x39bd66)=>_0xeede04[_0x40b1c0(0x166)]<_0x39bd66[_0x40b1c0(0x166)]?0x1:_0x39bd66[_0x40b1c0(0x166)]<_0xeede04[_0x40b1c0(0x166)]?-0x1:0x0),_0x22f2ec=cloneDeep(_0x586460),_0x586460=_0x586460[_0x40b1c0(0x133)](_0x2eb843=>{const _0x36922a=_0x40b1c0,_0x120456=config[_0x36922a(0x19b)][_0x36922a(0x2c7)](_0x161f01=>_0x161f01[_0x36922a(0x119)]==_0x2eb843['coin']);return _0x120456&&!_0x120456[_0x36922a(0x210)];}),[_0x586460,_0x22f2ec];}async function getCoinNumber(_0x59ff0f){const _0x5f2571=_0x167f3b;let _0x544b2f;try{const _0x5e01c0=await exchange[_0x5f2571(0x1fa)]();_0x544b2f=_0x5e01c0[_0x5f2571(0x213)][_0x59ff0f];}catch(_0x646705){await handleError(_0x646705,_0x5f2571(0x23e));}return _0x544b2f;}async function getOpenOrders(){const _0x5a1d68=_0x167f3b;let _0x116e59;allOpenOrders=[];try{for(const _0x538283 of config[_0x5a1d68(0x19b)]){!_0x538283[_0x5a1d68(0x210)]&&_0x538283['coin']!=config[_0x5a1d68(0x2b6)]&&(_0x116e59=await exchange[_0x5a1d68(0x19d)](_0x538283[_0x5a1d68(0x283)]),_0x116e59[_0x5a1d68(0x175)]>0x0&&allOpenOrders[_0x5a1d68(0x1ff)](_0x116e59[0x0]));}}catch(_0x25698a){await handleError(_0x25698a,'getOpenOrders()');}}async function handleOpenOrders(_0x29c24a=0x0){const _0x3185f6=_0x167f3b;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x29c24a==0x0?(logger[_0x3185f6(0x2e4)]('1\x20-\x20Handle\x20open\x20orders'),_0x29c24a++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3185f6(0x2e4)](_0x3185f6(0x22d)),validateOrders(_0x3185f6(0x20b))));}async function testAPI(_0x38e46e){const _0x367590=_0x167f3b;logger['debug'](_0x367590(0x22a));const _0x127b9d=ccxt[_0x367590(0x224)][_0x38e46e['exchange'][_0x367590(0x245)]()],_0x28008=new _0x127b9d({'apiKey':_0x38e46e['apiKey'],'secret':_0x38e46e[_0x367590(0x294)],'options':{'defaultType':_0x367590(0x237)}});if(_0x38e46e[_0x367590(0x121)])_0x28008[_0x367590(0x28e)]=_0x38e46e[_0x367590(0x121)];try{await _0x28008[_0x367590(0x1fa)]();}catch(_0x2dec1c){logger[_0x367590(0x2e4)](_0x367590(0x1a4)+_0x2dec1c[_0x367590(0x24a)]());throw _0x2dec1c;}}function cloneDeep(_0x1114cb){const _0x4415d8=_0x167f3b;return JSON[_0x4415d8(0x1db)](JSON[_0x4415d8(0x234)](_0x1114cb));}async function getPortfolio(_0x3e0dba){const _0x1d3685=_0x167f3b;let _0x20bfbc=[],_0x252cd7=[],_0x31b42c=[],_0x4381d7;_0x3e0dba[_0x1d3685(0x273)]=decryptRSA(secure[_0x1d3685(0x139)],_0x3e0dba['apiKey']),_0x3e0dba[_0x1d3685(0x294)]=decryptRSA(secure[_0x1d3685(0x139)],_0x3e0dba['apiSecret']);if(_0x3e0dba[_0x1d3685(0x121)])_0x3e0dba[_0x1d3685(0x121)]=decryptRSA(secure[_0x1d3685(0x139)],_0x3e0dba[_0x1d3685(0x121)]);if(_0x3e0dba[_0x1d3685(0x273)]!=='************'||_0x3e0dba['apiSecret']!==_0x1d3685(0x17c)||_0x3e0dba['apiPassword']&&_0x3e0dba[_0x1d3685(0x121)]!==_0x1d3685(0x17c)){if(config[_0x1d3685(0x282)]){if(_0x3e0dba[_0x1d3685(0x273)]==_0x1d3685(0x17c))_0x3e0dba['apiKey']=config['apiKey'];if(_0x3e0dba[_0x1d3685(0x294)]==_0x1d3685(0x17c))_0x3e0dba[_0x1d3685(0x294)]=config[_0x1d3685(0x294)];if(_0x3e0dba[_0x1d3685(0x121)]==_0x1d3685(0x17c))_0x3e0dba[_0x1d3685(0x121)]=config[_0x1d3685(0x121)];}try{if(_0x3e0dba['testApi'])await testAPI(_0x3e0dba);}catch(_0x5e32a5){if(_0x5e32a5[_0x1d3685(0x24a)]()['includes'](_0x1d3685(0x208))){logHistory('error',_0x1d3685(0x2c9)),logHistory(_0x1d3685(0x26a),'Error\x20details:\x20'+_0x5e32a5[_0x1d3685(0x24a)]()),proxyEmit(_0x1d3685(0x240),![]);return;}else{if(_0x5e32a5[_0x1d3685(0x24a)]()[_0x1d3685(0x295)](_0x1d3685(0x198))){logHistory(_0x1d3685(0x26a),_0x1d3685(0x1f7)),logHistory(_0x1d3685(0x26a),_0x1d3685(0x247)+_0x5e32a5[_0x1d3685(0x24a)]()),proxyEmit(_0x1d3685(0x240),![]);return;}else{logHistory(_0x1d3685(0x26a),_0x1d3685(0x212)+_0x5e32a5[_0x1d3685(0x24a)]()),logger[_0x1d3685(0x2e4)](_0x1d3685(0x178),_0x5e32a5),proxyEmit(_0x1d3685(0x240),![]);return;}}}exchange?updateExchange(_0x3e0dba[_0x1d3685(0x273)],_0x3e0dba[_0x1d3685(0x294)],_0x3e0dba[_0x1d3685(0x121)]):await initExchange(_0x3e0dba[_0x1d3685(0x282)],_0x3e0dba['apiKey'],_0x3e0dba[_0x1d3685(0x294)],_0x3e0dba[_0x1d3685(0x121)]);await loadSymbols();const _0x213b07=await getCoins(0x0,![],_0x3e0dba[_0x1d3685(0x2b6)]);_0x31b42c=cloneDeep(_0x213b07[0x1]);}else{const _0x1a87a1=await getCoins();_0x31b42c=cloneDeep(_0x1a87a1[0x1]);}if(_0x3e0dba[_0x1d3685(0x2b6)]=='')proxyEmit(_0x1d3685(0x240),!![]),proxyEmit(_0x1d3685(0x1dd),_0x31b42c);else{_0x31b42c['forEach'](_0x461732=>{const _0x3d063f=_0x1d3685;if(_0x461732[_0x3d063f(0x119)]!=_0x3e0dba['basecoin']&&allSymbols[_0x3d063f(0x295)](_0x461732[_0x3d063f(0x283)]))_0x20bfbc[_0x3d063f(0x1ff)](_0x461732[_0x3d063f(0x283)]);});if(_0x20bfbc['length']==0x0)logHistory(_0x1d3685(0x26a),_0x1d3685(0x1c2));else{try{_0x252cd7=await getTickers(_0x20bfbc);}catch(_0x352ff6){logHistory('error',_0x1d3685(0x252)),logger[_0x1d3685(0x2e4)](_0x1d3685(0x178),_0x352ff6),proxyEmit('portfolio1',![]);return;}_0x31b42c[_0x1d3685(0x1f4)](_0x23a59a=>{const _0x2d46a6=_0x1d3685;_0x23a59a[_0x2d46a6(0x119)]!=_0x3e0dba[_0x2d46a6(0x2b6)]?_0x252cd7[_0x23a59a['symbol']]?_0x4381d7=_0x23a59a[_0x2d46a6(0x2c4)]?0x1/_0x252cd7[_0x23a59a[_0x2d46a6(0x283)]]['last']:_0x252cd7[_0x23a59a['symbol']]['last']:_0x4381d7=0x0:_0x4381d7=0x1,_0x23a59a[_0x2d46a6(0x26d)]=formatResult(_0x4381d7,0x8);}),await getMarketCap(_0x31b42c),proxyEmit('portfolio1',!![]),proxyEmit(_0x1d3685(0x1dd),_0x31b42c);}}}function truncateTradeAmount(_0x5b776e,_0x57bc6a){const _0x33c81a=_0x167f3b;let _0x409e1f=0x0;try{_0x409e1f=exchange[_0x33c81a(0x12c)](_0x5b776e,_0x57bc6a);}catch(_0x4d6c03){}return _0x409e1f;}function checkMinimums(_0x2ad35c){const _0x2f8813=_0x167f3b;let _0x127755=!![];const _0xacd294=!_0x2ad35c[_0x2f8813(0x2c4)]?markets[_0x2ad35c[_0x2f8813(0x283)]][_0x2f8813(0x152)]['amount'][_0x2f8813(0x225)]:markets[_0x2ad35c['symbol']][_0x2f8813(0x152)]['cost'][_0x2f8813(0x225)],_0x3cdfca=!_0x2ad35c['reverse']?markets[_0x2ad35c['symbol']][_0x2f8813(0x152)][_0x2f8813(0x135)]['min']:markets[_0x2ad35c[_0x2f8813(0x283)]][_0x2f8813(0x152)][_0x2f8813(0x2d9)][_0x2f8813(0x225)],_0x2d0e39=truncateTradeAmount(_0x2ad35c[_0x2f8813(0x283)],_0x2ad35c[_0x2f8813(0x1f2)]);_0x2ad35c[_0x2f8813(0x1f2)]=_0x2d0e39;if(Math[_0x2f8813(0x2d1)](_0x2d0e39)<_0xacd294)_0x127755=![];if(Math[_0x2f8813(0x2d1)](_0x2d0e39)*_0x2ad35c[_0x2f8813(0x21e)]<_0x3cdfca)_0x127755=![];if(_0x2ad35c[_0x2f8813(0x1e5)]==_0x2f8813(0x2e9)){let _0x2c60d8=config['portfolio']['find'](_0x1b1870=>_0x1b1870[_0x2f8813(0x119)]==_0x2ad35c[_0x2f8813(0x119)]);if(_0x2c60d8['offset']>0x0){if(Math['abs'](_0x2d0e39)>_0x2ad35c['number']-_0x2c60d8[_0x2f8813(0x254)])_0x127755=![];}else{if(Math['abs'](_0x2d0e39)>_0x2ad35c[_0x2f8813(0x177)])_0x127755=![];}}if(_0x2ad35c[_0x2f8813(0x1e5)]==_0x2f8813(0x231)){let _0x279750=config[_0x2f8813(0x19b)][_0x2f8813(0x2c7)](_0x2bfbb6=>_0x2bfbb6[_0x2f8813(0x119)]==config[_0x2f8813(0x2b6)]),_0x400f23=currentCoins['find'](_0x35bed1=>_0x35bed1['coin']==config[_0x2f8813(0x2b6)]);if(_0x279750[_0x2f8813(0x254)]>0x0){if(Math['abs'](_0x2d0e39)*_0x2ad35c[_0x2f8813(0x21e)]>_0x400f23[_0x2f8813(0x177)]-_0x279750[_0x2f8813(0x254)])_0x127755=![];}else{if(Math[_0x2f8813(0x2d1)](_0x2d0e39)*_0x2ad35c[_0x2f8813(0x21e)]>_0x400f23['number'])_0x127755=![];}}return _0x127755;}async function getBalances(_0x227405=!![]){const _0x5c17a5=_0x167f3b;if(botPaused)return;let _0x374ab4=0x0,_0x332e04;const _0x4255e5=config[_0x5c17a5(0x253)];if(config['headless']&&config[_0x5c17a5(0x279)]<0x0)await validate24hChanges();currentCoins[_0x5c17a5(0x1f4)](_0x71b5bb=>{const _0x472904=_0x5c17a5;if(_0x71b5bb[_0x472904(0x119)]!=config[_0x472904(0x2b6)]){let _0x519211=gTicker[noslash(_0x71b5bb[_0x472904(0x283)])];_0x332e04=_0x71b5bb[_0x472904(0x2c4)]?0x1/_0x519211:_0x519211;}else _0x332e04=0x1;let _0x70b716=_0x71b5bb['number']*_0x332e04;_0x374ab4+=_0x70b716,_0x71b5bb[_0x472904(0x21e)]=formatResult(Number(_0x332e04),0x8),_0x71b5bb['value']=_0x70b716;}),currentCoins['forEach'](_0x45ae28=>{const _0x47a23b=_0x5c17a5;let _0x373827=config['portfolio'][_0x47a23b(0x2c7)](_0xc92a6d=>_0xc92a6d[_0x47a23b(0x119)]==_0x45ae28[_0x47a23b(0x119)]),_0x10e796=Number(_0x373827[_0x47a23b(0x22e)]),_0xb11873=_0x45ae28[_0x47a23b(0x2e1)]/_0x374ab4*0x64,_0x759f91=_0x10e796*_0x374ab4/0x64/_0x45ae28[_0x47a23b(0x21e)]-_0x45ae28['number'];_0x45ae28[_0x47a23b(0x22e)]=formatResult(_0xb11873,0x3),_0x45ae28[_0x47a23b(0x242)]=formatResult(_0x10e796,0x3),_0x45ae28['trade']=formatResult(_0x759f91,0x8),_0x45ae28[_0x47a23b(0x1e5)]='',_0x45ae28[_0x47a23b(0x148)]=![];if(_0x45ae28[_0x47a23b(0x119)]!=config[_0x47a23b(0x2b6)]){if(_0x45ae28[_0x47a23b(0x22e)]>_0x10e796)_0x45ae28[_0x47a23b(0x1e5)]=_0x47a23b(0x2e9),_0x45ae28[_0x47a23b(0x148)]=checkMinimums(_0x45ae28);else _0x45ae28[_0x47a23b(0x22e)]<_0x10e796&&(_0x45ae28[_0x47a23b(0x1e5)]=_0x47a23b(0x231),_0x45ae28[_0x47a23b(0x148)]=checkMinimums(_0x45ae28));}_0x45ae28[_0x47a23b(0x166)]=_0x45ae28[_0x47a23b(0x22e)]/_0x45ae28[_0x47a23b(0x242)]-0x1;if(_0x45ae28[_0x47a23b(0x2a2)]==_0x47a23b(0x272)||_0x45ae28[_0x47a23b(0x2a2)]==_0x47a23b(0x20e))_0x45ae28[_0x47a23b(0x2a2)]='none';}),currentCoins['sort']((_0x5e6df8,_0x20d42b)=>_0x5e6df8[_0x5c17a5(0x166)]<_0x20d42b[_0x5c17a5(0x166)]?0x1:_0x20d42b[_0x5c17a5(0x166)]<_0x5e6df8[_0x5c17a5(0x166)]?-0x1:0x0);const _0x49afa2=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x49afa2[_0x5c17a5(0x2cb)],'usd':_0x49afa2[_0x5c17a5(0x1f3)],'portfolio':JSON[_0x5c17a5(0x234)](currentCoins),'threshold':_0x4255e5},proxyEmit(_0x5c17a5(0x290),{'serverversion':serverversion,'balances':lastBalances});if(_0x227405){if(config[_0x5c17a5(0x274)])headlessMode({'portfolio':currentCoins,'threshold':_0x4255e5});else lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x4255e5});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x391830=getNormalizedPerformance();getStartingBalances(_0x391830),emitPerformance(_0x391830);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x44d9c5=_0x167f3b;let _0x203e1e=dbCoinResults[_0x44d9c5(0x181)]('coins')['value'](),_0x2e3c7d=0x0;return Object[_0x44d9c5(0x137)](_0x203e1e)[_0x44d9c5(0x1f4)](([_0x4d00de,_0x1e34a1])=>{_0x2e3c7d+=_0x1e34a1['realizedPnL'];}),_0x2e3c7d;}async function storePerformance(){const _0x30262e=_0x167f3b;if(!lastBalances)return;let _0x191a6c=[],_0x40da68;const _0xa0a267=getPnL();let _0x5ce3ff=JSON['parse'](lastBalances[_0x30262e(0x19b)]);_0x5ce3ff[_0x30262e(0x219)]((_0x1d1a36,_0x16c13b)=>_0x1d1a36[_0x30262e(0x119)]>_0x16c13b[_0x30262e(0x119)]?0x1:_0x16c13b[_0x30262e(0x119)]>_0x1d1a36[_0x30262e(0x119)]?-0x1:0x0),_0x5ce3ff['forEach'](_0x10496d=>{const _0xf2009a=_0x30262e;let _0x47674c={'coin':_0x10496d[_0xf2009a(0x119)],'number':_0x10496d[_0xf2009a(0x177)],'price':_0x10496d[_0xf2009a(0x21e)]};_0x191a6c['push'](_0x47674c);});const _0x45960d=await getFiat(),_0x25df0a=getTimeStamp()[_0x30262e(0x1ce)]('\x20')[0x0],_0x1e69f3=dbPerformance[_0x30262e(0x181)](_0x30262e(0x1ca))['find']({'date':_0x25df0a})[_0x30262e(0x2e1)]();_0x40da68={'date':_0x25df0a,'eur':_0x45960d[_0x30262e(0x2cb)],'usd':_0x45960d[_0x30262e(0x1f3)],'coins':_0x191a6c,'pnl':_0xa0a267},_0x1e69f3?_0x40da68[_0x30262e(0x271)]!=config[_0x30262e(0x13f)]&&dbPerformance[_0x30262e(0x181)](_0x30262e(0x1ca))[_0x30262e(0x2c7)]({'date':_0x25df0a})[_0x30262e(0x18e)](_0x40da68)[_0x30262e(0x14f)]():dbPerformance['get'](_0x30262e(0x1ca))['push'](_0x40da68)[_0x30262e(0x14f)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3d32cb=_0x167f3b;let _0x4c96e1=[];if(dbPerformance['has'](_0x3d32cb(0x1ca))['value']()){let _0x4b5452=dbPerformance[_0x3d32cb(0x181)]('data')[_0x3d32cb(0x25d)]()['filter'](_0x15def5=>{const _0x570e53=_0x3d32cb;if(_0x15def5[_0x570e53(0x11c)]['length']==0x0)return![];else return!![];})[_0x3d32cb(0x160)](_0x3d32cb(0x271))[_0x3d32cb(0x2e1)](),_0x4b3182=[...config[_0x3d32cb(0x1a8)]];_0x4b3182[_0x3d32cb(0x219)]((_0x27150e,_0x39db37)=>_0x27150e[_0x3d32cb(0x271)]>_0x39db37[_0x3d32cb(0x271)]?-0x1:_0x39db37[_0x3d32cb(0x271)]>_0x27150e[_0x3d32cb(0x271)]?0x1:0x0);let _0x5a20b3=0x1,_0x2fb248=[],_0x6869b2=0x0;_0x4b5452['slice']()[_0x3d32cb(0x2c4)]()[_0x3d32cb(0x1f4)]((_0x5bdfaf,_0x3f1133)=>{const _0x4137a3=_0x3d32cb;if(_0x4b3182[_0x6869b2]){if(_0x4b5452[_0x4b5452[_0x4137a3(0x175)]-_0x3f1133]&&_0x4b3182[_0x6869b2][_0x4137a3(0x271)]==_0x4b5452[_0x4b5452[_0x4137a3(0x175)]-_0x3f1133][_0x4137a3(0x271)]){if(_0x3f1133<_0x4b5452[_0x4137a3(0x175)]){let _0x3bb66d=0x0,_0x3f47ea=0x0;_0x4b5452[_0x4b5452[_0x4137a3(0x175)]-_0x3f1133][_0x4137a3(0x11c)]['forEach'](_0x217b6d=>{const _0x2aa913=_0x4137a3;_0x3f47ea+=_0x217b6d[_0x2aa913(0x177)]*_0x217b6d[_0x2aa913(0x26d)];}),_0x4b3182[_0x6869b2][_0x4137a3(0x229)]['forEach'](_0x17584e=>{const _0x4d6848=_0x4137a3;_0x3bb66d+=_0x17584e[_0x4d6848(0x177)]*_0x17584e[_0x4d6848(0x26d)];}),_0x5a20b3*=_0x3bb66d/(_0x3f47ea-_0x3bb66d)+0x1;}_0x6869b2++;}}let _0x115ad9=0x0;_0x5bdfaf[_0x4137a3(0x11c)][_0x4137a3(0x1f4)](_0xf6e9d3=>{_0x115ad9+=_0xf6e9d3['number']*_0xf6e9d3['price'];}),_0x2fb248[_0x4b5452[_0x4137a3(0x175)]-_0x3f1133-0x1]=_0x115ad9*(_0x5a20b3-0x1);});let _0x11a655=[];_0x4b3182=[...config[_0x3d32cb(0x1a8)]]||[];let _0x401db3=0x0;_0x6869b2=0x0,_0x4b5452['forEach']((_0x4cb526,_0x250e25)=>{const _0x1f1b98=_0x3d32cb;if(_0x4b3182[_0x6869b2]){const _0x594f4e=fns[_0x1f1b98(0x1db)](_0x4b3182[_0x6869b2][_0x1f1b98(0x271)],_0x1f1b98(0x2ea),new Date()),_0x189551=fns[_0x1f1b98(0x1db)](_0x4cb526['date'],_0x1f1b98(0x2ea),new Date());if(fns[_0x1f1b98(0x2df)](_0x594f4e,_0x189551)){let _0x1e6675=0x0;_0x4b3182[_0x6869b2][_0x1f1b98(0x229)][_0x1f1b98(0x1f4)](_0x339357=>{const _0x1ce267=_0x1f1b98;!_0x11a655[_0x339357['coin']]?_0x11a655[_0x339357[_0x1ce267(0x119)]]=_0x339357[_0x1ce267(0x177)]:(_0x1e6675=_0x11a655[_0x339357[_0x1ce267(0x119)]],_0x11a655[_0x339357['coin']]+=_0x339357[_0x1ce267(0x177)]);const _0x64c1cd=_0x4cb526[_0x1ce267(0x11c)][_0x1ce267(0x2c7)](_0x6a1fcc=>_0x6a1fcc[_0x1ce267(0x119)]==_0x339357[_0x1ce267(0x119)]);(!_0x64c1cd||_0x64c1cd['number']==0x0)&&(_0x401db3+=(-_0x339357[_0x1ce267(0x177)]-_0x1e6675)*_0x339357[_0x1ce267(0x26d)]);}),_0x6869b2++;}}_0x4cb526[_0x1f1b98(0x11c)]['forEach']((_0x461259,_0x370602)=>{const _0x531fdc=_0x1f1b98;_0x11a655[_0x461259[_0x531fdc(0x119)]]&&(_0x461259[_0x531fdc(0x1ac)]=_0x11a655[_0x461259[_0x531fdc(0x119)]]);}),_0x4c96e1['push']({'date':_0x4cb526['date'],'eur':_0x4cb526[_0x1f1b98(0x2cb)],'usd':_0x4cb526[_0x1f1b98(0x1f3)],'offset':_0x2fb248[_0x250e25],'netoffset':_0x401db3,'coins':_0x4cb526[_0x1f1b98(0x11c)],'pnl':_0x4cb526['pnl']});});}return _0x4c96e1;}function emitPerformance(_0x2857bb){const _0x21dfe1=_0x167f3b;_0x2857bb[_0x21dfe1(0x175)]!==0x0?(proxyEmit(_0x21dfe1(0x1ab),_0x2857bb),lastPerformanceEmitted=getDate()):proxyEmit(_0x21dfe1(0x1ab),[]);}function getPerf(_0xff73f6,_0x48939c){const _0x4ab3bc=_0x167f3b;let _0x3d16cb=0x0,_0xf89bb=0x0,_0x3c5357=0x0;_0xff73f6[_0x4ab3bc(0x11c)][_0x4ab3bc(0x1f4)](_0x459b28=>{const _0x242f18=_0x4ab3bc;_0x3d16cb+=_0x459b28[_0x242f18(0x177)]*_0x459b28['price'];});_0x48939c&&(_0x3d16cb+=_0xff73f6[_0x4ab3bc(0x254)]);if(config[_0x4ab3bc(0x2b6)]===_0x4ab3bc(0x227)||config[_0x4ab3bc(0x2b6)]===_0x4ab3bc(0x206)||config['basecoin']===_0x4ab3bc(0x25a))_0xf89bb=_0x3d16cb*_0xff73f6['eur'],_0x3c5357=_0x3d16cb*_0xff73f6[_0x4ab3bc(0x1f3)];else{if(usdBasecoins['includes'](config['basecoin']))_0xf89bb=_0x3d16cb*_0xff73f6[_0x4ab3bc(0x2cb)]/_0xff73f6[_0x4ab3bc(0x1f3)],_0x3c5357=_0x3d16cb;else config[_0x4ab3bc(0x2b6)]===_0x4ab3bc(0x16d)&&(_0xf89bb=_0x3d16cb,_0x3c5357=_0x3d16cb*_0xff73f6[_0x4ab3bc(0x1f3)]/_0xff73f6[_0x4ab3bc(0x2cb)]);}return[_0x3d16cb,_0xf89bb,_0x3c5357];}function CurrencyFactor(_0x9a97e9,_0x384596,_0x54417a){const _0x2cc12a=_0x167f3b;let _0x4c2191;if(_0x384596==='BTC'||_0x384596==='ETH'||_0x384596===_0x2cc12a(0x25a))_0x4c2191=_0x54417a==='EUR'?_0x9a97e9['eur']:_0x9a97e9[_0x2cc12a(0x1f3)];else{if(usdBasecoins[_0x2cc12a(0x295)](_0x384596))_0x4c2191=_0x54417a===_0x2cc12a(0x16d)?_0x9a97e9['eur']/_0x9a97e9[_0x2cc12a(0x1f3)]:0x1;else _0x384596==='EUR'&&(_0x4c2191=_0x54417a==='EUR'?0x1:_0x9a97e9['usd']/_0x9a97e9['eur']);}return _0x4c2191;}function getKPIs(_0x57c55c,_0x2dd65e=_0x167f3b(0x16d)){const _0x4b46fe=_0x167f3b,_0x3f158f=config[_0x4b46fe(0x2b6)],_0x32da6a=lastBalances,_0x1d960e=currentCoins,_0x291daa=getNormalizedPerformance(),_0x12c004=CurrencyFactor(_0x32da6a,config[_0x4b46fe(0x2b6)],_0x2dd65e);let _0x409af5=0x0;_0x1d960e['forEach'](_0x330e7d=>{const _0x45c66d=_0x4b46fe;_0x409af5+=_0x330e7d[_0x45c66d(0x177)]*_0x330e7d[_0x45c66d(0x21e)];});_0x57c55c[_0x4b46fe(0x295)](_0x4b46fe(0x261))&&(_0x409af5*=_0x12c004);let _0x23b175;if(_0x409af5!==0x0){if(_0x57c55c===_0x4b46fe(0x2b6)||_0x57c55c===_0x4b46fe(0x261)){if(_0x57c55c==='basecoin')_0x23b175=(_0x409af5/startingBalances[_0x4b46fe(0x2b6)]-0x1)*0x64;else{if(_0x2dd65e==='EUR')_0x23b175=(_0x409af5/startingBalances[_0x4b46fe(0x2cb)]-0x1)*0x64;else _0x23b175=(_0x409af5/startingBalances[_0x4b46fe(0x1f3)]-0x1)*0x64;}}if(_0x57c55c['includes'](_0x4b46fe(0x1de))){let _0x13dddf=0x0;if(startingBalances[_0x4b46fe(0x11c)])_0x1d960e[_0x4b46fe(0x1f4)](_0x5af3db=>{const _0x498db3=_0x4b46fe;let _0x4d2cbe=startingBalances[_0x498db3(0x11c)][_0x498db3(0x2c7)](_0x493b29=>_0x493b29[_0x498db3(0x119)]===_0x5af3db[_0x498db3(0x119)]);if(_0x4d2cbe&&_0x4d2cbe[_0x498db3(0x119)]&&_0x5af3db['number']!==0x0)_0x13dddf+=_0x4d2cbe['number']*_0x5af3db[_0x498db3(0x21e)];});let _0x339457=0x0;if(_0x291daa[_0x4b46fe(0x175)]!==0x0){let _0x4e6579=_0x291daa[_0x291daa[_0x4b46fe(0x175)]-0x1];_0x339457=_0x4e6579[_0x4b46fe(0x1c9)];}_0x13dddf-=_0x339457;let _0x311589;_0x57c55c==='net-basecoin'&&(_0x311589=startingBalances[_0x4b46fe(0x2b6)]),_0x57c55c===_0x4b46fe(0x1a5)&&(_0x311589=_0x2dd65e===_0x4b46fe(0x16d)?startingBalances['eur']:startingBalances[_0x4b46fe(0x1f3)],_0x13dddf*=_0x12c004),_0x23b175=(_0x409af5-_0x13dddf)/_0x311589*0x64,_0x409af5=_0x409af5-_0x13dddf;}if(_0x57c55c[_0x4b46fe(0x295)]('pnl')){if(_0x291daa[_0x4b46fe(0x175)]!==0x0&&_0x1d960e['length']!==0x0){let _0x413f32,_0x63d7be=_0x291daa[_0x291daa['length']-0x1]['pnl'];_0x57c55c[_0x4b46fe(0x295)](_0x4b46fe(0x261))?(_0x413f32=_0x2dd65e===_0x4b46fe(0x16d)?startingBalances[_0x4b46fe(0x2cb)]:startingBalances[_0x4b46fe(0x1f3)],_0x63d7be*=CurrencyFactor(_0x32da6a,_0x3f158f,_0x2dd65e)):_0x413f32=startingBalances[_0x4b46fe(0x2b6)],_0x23b175=_0x63d7be/_0x413f32*0x64,_0x409af5=_0x63d7be;}}if(_0x23b175){if(_0x23b175<0x64)_0x23b175=_0x23b175[_0x4b46fe(0x2d5)](0x2);else{if(_0x23b175<0x3e8)_0x23b175=_0x23b175['toFixed'](0x1);else _0x23b175=_0x23b175[_0x4b46fe(0x2d5)](0x0);}}else _0x23b175=Number('0')[_0x4b46fe(0x2d5)](0x2);if(_0x409af5){if(Math[_0x4b46fe(0x2d1)](_0x409af5)<0.000001)_0x409af5=_0x409af5[_0x4b46fe(0x2d5)](0x2);else{if(Math[_0x4b46fe(0x2d1)](_0x409af5)<0.1)_0x409af5=_0x409af5['toFixed'](0x6);else{if(Math[_0x4b46fe(0x2d1)](_0x409af5)<0x1)_0x409af5=_0x409af5[_0x4b46fe(0x2d5)](0x5);else{if(Math['abs'](_0x409af5)<0xa)_0x409af5=_0x409af5[_0x4b46fe(0x2d5)](0x4);else{if(Math['abs'](_0x409af5)<0x64)_0x409af5=_0x409af5[_0x4b46fe(0x2d5)](0x3);else{if(Math[_0x4b46fe(0x2d1)](_0x409af5)<0x3e8)_0x409af5=_0x409af5[_0x4b46fe(0x2d5)](0x2);else _0x409af5=_0x409af5['toFixed'](0x2);}}}}}}else _0x409af5=Number('0')[_0x4b46fe(0x2d5)](0x2);}else _0x23b175=Number('0')[_0x4b46fe(0x2d5)](0x2);if(_0x23b175>=0x0)_0x23b175='+'+_0x23b175;return{'value':_0x409af5,'change':_0x23b175};}async function getStartingBalances(_0x44e913,_0x237698=!![]){const _0x2d85b8=_0x167f3b;if(_0x44e913[_0x2d85b8(0x175)]!==0x0){const [_0x1f6959,_0x7e264c,_0x385b78]=getPerf(_0x44e913[0x0],!![]);let _0x5d33f3=[];config['portfolio'][_0x2d85b8(0x1f4)](_0x156486=>{const _0x5becd4=_0x2d85b8;let _0x1d561d=0x0,_0x34df1e;config['liquidity'][_0x5becd4(0x1f4)](_0x3523f1=>{const _0x37db85=_0x5becd4;let _0x1ac312=_0x3523f1[_0x37db85(0x229)][_0x37db85(0x2c7)](_0x26f41a=>_0x26f41a[_0x37db85(0x119)]==_0x156486[_0x37db85(0x119)]);if(_0x1ac312){_0x1d561d+=_0x1ac312[_0x37db85(0x177)];if(!_0x34df1e)_0x34df1e=_0x1ac312[_0x37db85(0x26d)];}}),_0x5d33f3[_0x5becd4(0x1ff)]({'coin':_0x156486[_0x5becd4(0x119)],'number':_0x1d561d,'initialprice':_0x34df1e});});const _0x537ca0={'basecoin':_0x1f6959,'eur':_0x7e264c,'usd':_0x385b78,'coins':_0x5d33f3};if(_0x237698)proxyEmit(_0x2d85b8(0x201),_0x537ca0);startingBalances=_0x537ca0;}}function headlessMode(_0x2dc168){const _0x4a8c1d=_0x167f3b;let _0x52653e=_0x2dc168[_0x4a8c1d(0x19b)],_0x2d5df8=_0x2dc168[_0x4a8c1d(0x253)],_0x3a9597=[];for(let _0x5625cc of _0x52653e){if(_0x5625cc[_0x4a8c1d(0x119)]!=config[_0x4a8c1d(0x2b6)]){if(_0x5625cc[_0x4a8c1d(0x166)]>=_0x2d5df8/0x64){if(_0x5625cc[_0x4a8c1d(0x148)])_0x3a9597['push'](_0x5625cc);}else{if(_0x5625cc[_0x4a8c1d(0x166)]<=-_0x2d5df8/0x64){if(_0x5625cc[_0x4a8c1d(0x148)])_0x3a9597[_0x4a8c1d(0x1ff)](_0x5625cc);}}}}_0x3a9597[_0x4a8c1d(0x175)]>0x0&&placeOrder(_0x3a9597);}function notifyBalance(_0xdb8262){const _0x420199=_0x167f3b;let _0x12a87c=_0xdb8262['portfolio'],_0x27cd96=_0xdb8262[_0x420199(0x253)],_0x52e419=[];for(let _0x5c2666 of _0x12a87c){if(_0x5c2666[_0x420199(0x119)]!=config[_0x420199(0x2b6)]){if(_0x5c2666[_0x420199(0x166)]>=_0x27cd96/0x64){if(_0x5c2666[_0x420199(0x148)])_0x52e419[_0x420199(0x1ff)](_0x5c2666);}else{if(_0x5c2666['delta']<=-_0x27cd96/0x64){if(_0x5c2666[_0x420199(0x148)])_0x52e419[_0x420199(0x1ff)](_0x5c2666);}}}}if(_0x52e419[_0x420199(0x175)]>0x0){let _0x1fbaf7=_0x52e419[_0x420199(0x29c)](_0x5278ad=>_0x5278ad[_0x420199(0x119)]);_0x1fbaf7['sort']();let _0x417c88=_0x1fbaf7[_0x420199(0x276)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x420199(0x1c6));lastCoinsToBalance=_0x417c88;}}function symbolToCoin(_0x80ec86){const _0x1ecb0f=_0x167f3b;let _0x487435;if(_0x80ec86[_0x1ecb0f(0x295)]('/'+config[_0x1ecb0f(0x2b6)]))_0x487435=_0x80ec86[_0x1ecb0f(0x170)]('/'+config[_0x1ecb0f(0x2b6)],'');if(_0x80ec86[_0x1ecb0f(0x295)](config['basecoin']+'/'))_0x487435=_0x80ec86['replace'](config[_0x1ecb0f(0x2b6)]+'/','');return _0x487435;}function setLockOrders(_0x34cc17){const _0x1e21d2=_0x167f3b;lockOrders=_0x34cc17,logger[_0x1e21d2(0x2e4)]('Set\x20lock\x20orders\x20to:\x20'+Object['keys'](ORDERS)[lockOrders]);}async function unlockOrders(_0x2649c0=![]){const _0x11fe54=_0x167f3b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x11fe54(0x1a2)]){setLockOrders(ORDERS[_0x11fe54(0x2ac)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x2649c0){const _0x5eea41=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5eea41,setBlockTransactionDetection(![]);}validateOrdersState=_0x11fe54(0x1ac),persistOpenOrders([]),setLockOrders(ORDERS[_0x11fe54(0x197)]);}}async function validateOrders(_0x442cac){const _0x30da16=_0x167f3b;if(_0x442cac)validateOrdersState=_0x442cac;logger[_0x30da16(0x2e4)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x30da16(0x174)+Object[_0x30da16(0x248)](ORDERS)[lockOrders]);let _0x2c2d6c=[],_0x1a314b=config['ordertype']==_0x30da16(0x1bf)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x30da16(0x2ce)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x30da16(0x2e4)](_0x30da16(0x188)+validateOrdersState);for(let _0x32a34b=lastOrders[_0x30da16(0x175)]-0x1;_0x32a34b>=0x0;_0x32a34b--){let _0x566335=lastOrders[_0x32a34b],_0x365f64=![];_0x566335[_0x30da16(0x272)]>0x0&&(_0x365f64=!![]),_0x2c2d6c[_0x30da16(0x1ff)](_0x365f64),_0x365f64&&config[_0x30da16(0x2b5)]!=_0x30da16(0x1bf)&&logHistory('order',_0x30da16(0x1fc)+_0x566335[_0x30da16(0x283)]+'\x20'+_0x566335[_0x30da16(0x1e5)]+'\x20#'+formatResult(_0x566335[_0x30da16(0x272)],0x8)+'\x20@'+formatResult(_0x566335[_0x30da16(0x26d)],0x8)),_0x365f64&&lastOrders[_0x30da16(0x1cc)](_0x32a34b,0x1);}persistOpenOrders(lastOrders);const _0x158d08=coolingDown?_0x30da16(0x2d3):'balancing\x20resumed';if(validateOrdersState=='initial'){validateOrdersState=_0x30da16(0x2c6);if(_0x2c2d6c[_0x30da16(0x295)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x30da16(0x2c6)){if(_0x2c2d6c[_0x30da16(0x295)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x30da16(0x1bc))_0x2c2d6c[_0x30da16(0x295)](![])&&(config[_0x30da16(0x2b5)]==_0x30da16(0x1bf)?logHistory(_0x30da16(0x21d),_0x30da16(0x153)+Math[_0x30da16(0x28d)](_0x1a314b*validateOrderInterval/0xea60)+_0x30da16(0x196)+_0x158d08):(await cancelOrders(),logHistory(_0x30da16(0x21d),_0x30da16(0x29f)+Math[_0x30da16(0x28d)](_0x1a314b*validateOrderInterval/0xea60)+_0x30da16(0x196)+_0x158d08))),await unlockOrders(!![]);else{if(validateOrdersState==_0x30da16(0x20b)){if(config['ordertype']!=_0x30da16(0x1bf))logHistory('success',_0x30da16(0x23a)+_0x158d08);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x2b451c=_0x167f3b;lastOrders[_0x2b451c(0x1f4)](async _0x4cb9e2=>{const _0x55c9d3=_0x2b451c;try{const _0x4801df=await exchange[_0x55c9d3(0x222)](_0x4cb9e2['orderId'],_0x4cb9e2[_0x55c9d3(0x283)]);}catch(_0x28d44f){if(_0x28d44f[_0x55c9d3(0x24a)]()[_0x55c9d3(0x295)](_0x55c9d3(0x21b))){}else await handleError(_0x28d44f,_0x55c9d3(0x1d9));}});}async function initCoinResults(_0x585a97){const _0x297d21=_0x167f3b;_0x585a97?logger[_0x297d21(0x2e4)](_0x297d21(0x171)+_0x585a97):logger[_0x297d21(0x2e4)](_0x297d21(0x2e0)),config[_0x297d21(0x19b)][_0x297d21(0x1f4)](_0x841164=>{const _0x7aca2=_0x297d21;if(!_0x841164[_0x7aca2(0x210)]&&_0x841164[_0x7aca2(0x119)]!=config[_0x7aca2(0x2b6)]){const _0x4d5092=currentCoins[_0x7aca2(0x2c7)](_0x71d674=>_0x71d674[_0x7aca2(0x119)]==_0x841164[_0x7aca2(0x119)]),_0x134b9a=gTicker[noslash(_0x841164[_0x7aca2(0x283)])];let _0x2a587a=_0x4d5092?_0x4d5092[_0x7aca2(0x177)]:null,_0x1e5faa=_0x841164['reverse']?0x1/_0x134b9a:_0x134b9a,_0x14e097;config[_0x7aca2(0x1a8)][_0x7aca2(0x1f4)](_0x3db45c=>{const _0xa593fa=_0x7aca2;!_0x14e097&&(_0x14e097=_0x3db45c[_0xa593fa(0x229)]['find'](_0x49cd4f=>_0x49cd4f[_0xa593fa(0x119)]==_0x841164[_0xa593fa(0x119)]),_0x14e097&&(_0x2a587a=_0x14e097[_0xa593fa(0x177)],_0x1e5faa=_0x14e097[_0xa593fa(0x26d)]));});let _0x5947bd=dbCoinResults['get'](_0x7aca2(0x11c))[_0x7aca2(0x2c7)]({'coin':_0x841164[_0x7aca2(0x119)]})[_0x7aca2(0x2e1)]();if(!_0x5947bd){const _0x36ca25={'coin':_0x841164[_0x7aca2(0x119)],'number':_0x2a587a,'breakeven':_0x1e5faa,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x7aca2(0x181)](_0x7aca2(0x11c))[_0x7aca2(0x1ff)](_0x36ca25)['write']();}else{if(_0x585a97&&_0x841164[_0x7aca2(0x119)]==_0x585a97){const _0x34094c={'coin':_0x841164[_0x7aca2(0x119)],'number':_0x2a587a,'breakeven':_0x1e5faa,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x7aca2(0x11c))[_0x7aca2(0x2c7)]({'coin':_0x841164[_0x7aca2(0x119)]})[_0x7aca2(0x18e)](_0x34094c)[_0x7aca2(0x14f)]();}}}});}async function updateCoinResults(_0x213eec,_0x44c9a0=![]){const _0x8d41d5=_0x167f3b;let _0x23ff21,_0xf8d73b,_0x4aa544,_0x56593b,_0x702048,_0x2920f6,_0x106f38=dbCoinResults[_0x8d41d5(0x181)]('coins')['find']({'coin':_0x213eec[_0x8d41d5(0x119)]})['value'](),_0x4f68ff=![];_0x106f38&&Object[_0x8d41d5(0x137)](_0x106f38)[_0x8d41d5(0x1f4)](([_0x40f23c,_0x4d1a2b])=>{if(_0x4d1a2b==null)_0x4f68ff=!![];});(!_0x106f38||_0x4f68ff)&&(await initCoinResults(_0x213eec['coin']),_0x106f38=dbCoinResults[_0x8d41d5(0x181)]('coins')[_0x8d41d5(0x2c7)]({'coin':_0x213eec[_0x8d41d5(0x119)]})[_0x8d41d5(0x2e1)]());_0x213eec[_0x8d41d5(0x2c4)]&&(_0x2920f6={'filled':_0x213eec[_0x8d41d5(0x272)]*_0x213eec[_0x8d41d5(0x26d)],'amount':_0x213eec['filled']*_0x213eec[_0x8d41d5(0x26d)],'side':_0x213eec['side']==_0x8d41d5(0x2e9)?_0x8d41d5(0x231):_0x8d41d5(0x2e9),'price':0x1/_0x213eec[_0x8d41d5(0x26d)]},_0x213eec={..._0x213eec,..._0x2920f6});_0x44c9a0?_0xf8d73b=_0x213eec[_0x8d41d5(0x1e5)]==_0x8d41d5(0x231)?_0x106f38['number']+_0x213eec[_0x8d41d5(0x272)]:_0x106f38[_0x8d41d5(0x177)]-_0x213eec[_0x8d41d5(0x272)]:_0xf8d73b=await getCoinNumber(_0x213eec[_0x8d41d5(0x119)]);if(_0x213eec[_0x8d41d5(0x1dc)]&&_0x213eec[_0x8d41d5(0x1dc)][_0x8d41d5(0x158)]==config[_0x8d41d5(0x2b6)])_0x23ff21=Number(_0x213eec[_0x8d41d5(0x1dc)][_0x8d41d5(0x135)]);else{if(_0x213eec['fee']&&_0x213eec[_0x8d41d5(0x1dc)]['currency']==_0x8d41d5(0x1b1)&&!_0x44c9a0&&config[_0x8d41d5(0x2b6)]!='PAXG')_0x23ff21=Number(_0x213eec['fee']['cost'])*gTicker['BNB'+config[_0x8d41d5(0x2b6)]];else _0x23ff21=defaultFee*_0x213eec[_0x8d41d5(0x272)]*_0x213eec['price'];}_0x213eec[_0x8d41d5(0x1e5)]==_0x8d41d5(0x231)?(_0x4aa544=_0xf8d73b!=0x0?(_0x106f38[_0x8d41d5(0x22f)]*_0x106f38[_0x8d41d5(0x177)]+_0x213eec[_0x8d41d5(0x26d)]*(_0xf8d73b-_0x106f38[_0x8d41d5(0x177)])+_0x23ff21)/_0xf8d73b:0x0,_0x56593b=_0x106f38[_0x8d41d5(0x230)]):(_0x4aa544=_0xf8d73b!=0x0?(_0x106f38[_0x8d41d5(0x22f)]*_0x106f38['number']-_0x213eec['price']*(_0x106f38[_0x8d41d5(0x177)]-_0xf8d73b)+_0x23ff21)/_0xf8d73b:0x0,_0x56593b=_0x106f38[_0x8d41d5(0x230)]+(_0x213eec[_0x8d41d5(0x26d)]-_0x106f38[_0x8d41d5(0x22f)])*_0x213eec[_0x8d41d5(0x272)]);_0x702048=(_0x213eec[_0x8d41d5(0x26d)]-_0x4aa544-_0x23ff21/_0x213eec[_0x8d41d5(0x272)])*_0xf8d73b;let _0xd7d106={'coin':_0x213eec[_0x8d41d5(0x119)],'number':_0xf8d73b,'breakeven':formatResult(_0x4aa544,0x8),'realized':formatResult(_0x56593b,0x8),'unrealized':formatResult(_0x702048,0x8),'fees':formatResult(_0x106f38[_0x8d41d5(0x1d7)]+_0x23ff21,0x8),'sells':_0x213eec[_0x8d41d5(0x1e5)]=='sell'?_0x106f38[_0x8d41d5(0x1c7)]+0x1:_0x106f38['sells'],'buys':_0x213eec['side']==_0x8d41d5(0x231)?_0x106f38['buys']+0x1:_0x106f38[_0x8d41d5(0x13b)]};dbCoinResults['get']('coins')[_0x8d41d5(0x2c7)]({'coin':_0x213eec[_0x8d41d5(0x119)]})[_0x8d41d5(0x18e)](_0xd7d106)[_0x8d41d5(0x14f)]();if(!_0x44c9a0){if(_0x213eec[_0x8d41d5(0x1dc)]&&_0x213eec[_0x8d41d5(0x1dc)][_0x8d41d5(0x158)]==_0x8d41d5(0x1b1)){const _0x3e2bde=currentCoins[_0x8d41d5(0x2c7)](_0x2fbad3=>_0x2fbad3[_0x8d41d5(0x119)]==_0x8d41d5(0x1b1));if(_0x3e2bde){let _0xdf0866=dbCoinResults[_0x8d41d5(0x181)](_0x8d41d5(0x11c))[_0x8d41d5(0x2c7)]({'coin':_0x8d41d5(0x1b1)})[_0x8d41d5(0x2e1)]();_0xd7d106={..._0xdf0866,'number':_0x3e2bde[_0x8d41d5(0x177)]},dbCoinResults[_0x8d41d5(0x181)](_0x8d41d5(0x11c))['find']({'coin':'BNB'})['assign'](_0xd7d106)[_0x8d41d5(0x14f)]();}}}}async function placeOrder(_0x32c925){const _0x5b40c6=_0x167f3b,_0x5a2454=config['ordertype']==_0x5b40c6(0x1bf)?'market':_0x5b40c6(0x1ee);if(lockOrders==ORDERS[_0x5b40c6(0x197)]&&!coolingDown){setLockOrders(ORDERS['LOCKED']);while(transactionDetectionOngoing){await sleep(0x64);}logger['debug']('Placing\x20order\x20for:\x20'+_0x32c925['map'](_0x3bc9ca=>_0x3bc9ca[_0x5b40c6(0x119)])[_0x5b40c6(0x276)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState='initial';let _0x237c22=![];lastOrders=[];const _0x14f854=config['threshold'];for(const _0xb33aa4 of _0x32c925){let _0x7cdffd,_0x2807b0,_0x124e17,_0x51ae57,_0xd407d8,_0x2a8ecd=_0xb33aa4[_0x5b40c6(0x283)];logger[_0x5b40c6(0x2e4)](_0x5b40c6(0x2db)+_0xb33aa4[_0x5b40c6(0x119)]+'\x20'+_0xb33aa4['number']+'\x20'+_0xb33aa4[_0x5b40c6(0x21e)]+'\x20'+_0xb33aa4[_0x5b40c6(0x22e)]+'%\x20'+_0xb33aa4[_0x5b40c6(0x242)]+'%\x20'+(0x64*_0xb33aa4[_0x5b40c6(0x166)])['toFixed'](0x2)+_0x5b40c6(0x27d)+_0x14f854[_0x5b40c6(0x2d5)](0x2)+'%)');const _0x55beb7=currentCoins['find'](_0x2f6a72=>_0x2f6a72[_0x5b40c6(0x119)]==_0xb33aa4[_0x5b40c6(0x119)]);_0x55beb7&&(_0x55beb7[_0x5b40c6(0x204)]=_0xb33aa4[_0x5b40c6(0x177)]);try{const _0x537d19=await exchange[_0x5b40c6(0x28c)](_0x2a8ecd);_0x7cdffd=_0xb33aa4['reverse']?0x1/_0xb33aa4['last']:_0xb33aa4[_0x5b40c6(0x21e)],_0x2807b0=_0x537d19[_0x5b40c6(0x2c8)],_0x124e17=_0x537d19['ask'];_0xb33aa4[_0x5b40c6(0x2c4)]?(_0x51ae57=_0xb33aa4[_0x5b40c6(0x1e5)]==_0x5b40c6(0x231)?'sell':'buy',_0xd407d8=Math[_0x5b40c6(0x2d1)](_0xb33aa4[_0x5b40c6(0x1f2)])/_0x7cdffd):(_0x51ae57=_0xb33aa4[_0x5b40c6(0x1e5)],_0xd407d8=Math[_0x5b40c6(0x2d1)](_0xb33aa4[_0x5b40c6(0x1f2)]));_0x5a2454==_0x5b40c6(0x1ee)&&(config[_0x5b40c6(0x2b5)]=='limit-high'&&(_0x7cdffd=_0x51ae57==_0x5b40c6(0x231)?_0x2807b0:_0x124e17),config[_0x5b40c6(0x2b5)]==_0x5b40c6(0x2ca)&&(_0x7cdffd=_0x51ae57==_0x5b40c6(0x231)?_0x124e17:_0x2807b0));_0xd407d8=formatResult(_0xd407d8,0x8),_0x7cdffd=formatResult(_0x7cdffd,0x8);const _0x3cbc4b=_0x51ae57==_0x5b40c6(0x2e9)?config[_0x5b40c6(0x117)]?String[_0x5b40c6(0x2d4)]('0x'+config[_0x5b40c6(0x117)])+'\x20':'':config[_0x5b40c6(0x1b0)]?String[_0x5b40c6(0x2d4)]('0x'+config[_0x5b40c6(0x1b0)])+'\x20':'',_0x328b87=_0x5a2454=='market'?'Market':config[_0x5b40c6(0x2b5)]=='limit-high'?_0x5b40c6(0x1c5):_0x5b40c6(0x24e),_0x469dc7=(Math[_0x5b40c6(0x20a)](Math[_0x5b40c6(0x241)]()*0x35a4e900)+0x5f5e100)[_0x5b40c6(0x24a)]();lastOrders[_0x5b40c6(0x1ff)]({'customId':_0x469dc7,'symbol':_0x2a8ecd,'coin':_0xb33aa4[_0x5b40c6(0x119)],'amount':_0xd407d8,'price':_0x7cdffd,'side':_0x51ae57,'reverse':_0xb33aa4[_0x5b40c6(0x2c4)],'filled':0x0});let _0x9255e9;_0x5a2454==_0x5b40c6(0x1bf)?_0x51ae57==_0x5b40c6(0x231)&&['Bybit',_0x5b40c6(0x24c),_0x5b40c6(0x2dc),_0x5b40c6(0x2e7),_0x5b40c6(0x24b)][_0x5b40c6(0x295)](config[_0x5b40c6(0x282)])?_0x9255e9=await exchange[_0x5b40c6(0x27f)](_0x2a8ecd,_0x5a2454,_0x51ae57,_0xd407d8,_0x7cdffd):_0x9255e9=await exchange[_0x5b40c6(0x27f)](_0x2a8ecd,_0x5a2454,_0x51ae57,_0xd407d8,undefined):_0x9255e9=await exchange[_0x5b40c6(0x27f)](_0x2a8ecd,_0x5a2454,_0x51ae57,_0xd407d8,_0x7cdffd);const _0x1b9d8b=lastOrders[_0x5b40c6(0x175)]-0x1;if(_0x1b9d8b>=0x0&&lastOrders[_0x1b9d8b][_0x5b40c6(0x1ae)]==_0x469dc7){lastOrders[_0x1b9d8b][_0x5b40c6(0x17a)]=_0x9255e9['id'];if(_0x9255e9[_0x5b40c6(0x2d9)])lastOrders[_0x1b9d8b]['amount']=_0x9255e9[_0x5b40c6(0x2d9)];if(_0x9255e9[_0x5b40c6(0x26d)])lastOrders[_0x1b9d8b][_0x5b40c6(0x26d)]=_0x9255e9[_0x5b40c6(0x26d)];lastOrders[_0x1b9d8b][_0x5b40c6(0x1dc)]=_0x9255e9[_0x5b40c6(0x1dc)];}if(_0x9255e9[_0x5b40c6(0x2d9)])_0xd407d8=_0x9255e9[_0x5b40c6(0x2d9)];if(_0x9255e9[_0x5b40c6(0x26d)])_0x7cdffd=_0x9255e9['price'];if(_0x5a2454==_0x5b40c6(0x1bf))logHistory(_0x5b40c6(0x189),''+_0x3cbc4b+_0x328b87+_0x5b40c6(0x246)+_0x2a8ecd+'\x20'+_0x51ae57+'\x20#'+formatResult(_0xd407d8,0x8)+'\x20@'+formatResult(_0x7cdffd,0x8));else logHistory(_0x5b40c6(0x189),''+_0x3cbc4b+_0x328b87+_0x5b40c6(0x246)+_0x2a8ecd+'\x20'+_0x51ae57+'\x20#'+formatResult(_0xd407d8,0x8)+'\x20@'+formatResult(_0x7cdffd,0x8));logger['debug'](_0x5b40c6(0x1c0)+_0x9255e9['id']+_0x5b40c6(0x2d2)+_0x469dc7);if(config[_0x5b40c6(0x1ea)]!=0x0){let _0xfdea9c=null;if(cooldownTracker[_0x5b40c6(0x175)]==config[_0x5b40c6(0x1ea)]-0x1)_0xfdea9c=cooldownTracker[_0x5b40c6(0x122)]();const _0x5adc9e=getTimeStamp();cooldownTracker['push'](_0x5adc9e);if(_0xfdea9c){const _0x4d4d1c=fns[_0x5b40c6(0x251)](new Date(_0x5adc9e),new Date(_0xfdea9c));if(_0x4d4d1c<cooldownInterval){logHistory(_0x5b40c6(0x26a),_0x5b40c6(0x111)+config[_0x5b40c6(0x1ea)]+_0x5b40c6(0x195)+cooldownInterval/0x3c+_0x5b40c6(0x15b)+cooldownPeriod/(0xe10*0x3e8)+_0x5b40c6(0x14a)),coolingDown=!![];break;}}}}catch(_0x1113ef){if(_0x1113ef[_0x5b40c6(0x24a)]()['includes'](_0x5b40c6(0x1a0)))lastOrders=lastOrders[_0x5b40c6(0x133)](_0x3f75b9=>_0x3f75b9[_0x5b40c6(0x283)]!=_0x2a8ecd),logHistory(_0x5b40c6(0x26a),_0x5b40c6(0x25e)+_0x2a8ecd),_0x237c22=!![];else{if(_0x1113ef['toString']()['includes'](_0x5b40c6(0x1c4)))lastOrders=lastOrders[_0x5b40c6(0x133)](_0x561c57=>_0x561c57['symbol']!=_0x2a8ecd),logHistory(_0x5b40c6(0x26a),_0x5b40c6(0x1e0)+_0x2a8ecd),_0x237c22=!![];else{if(_0x1113ef['toString']()[_0x5b40c6(0x295)](_0x5b40c6(0x114)))lastOrders=lastOrders[_0x5b40c6(0x133)](_0x35f3a9=>_0x35f3a9['symbol']!=_0x2a8ecd),logHistory(_0x5b40c6(0x26a),_0x5b40c6(0x26c)+_0x2a8ecd),logger[_0x5b40c6(0x2e4)](_0x1113ef),_0x237c22=!![];else _0x1113ef['toString']()[_0x5b40c6(0x295)](_0x5b40c6(0x268))?(lastOrders=lastOrders['filter'](_0x384f60=>_0x384f60[_0x5b40c6(0x283)]!=_0x2a8ecd),logHistory('error',_0x5b40c6(0x25e)+_0x2a8ecd),_0x237c22=!![]):(lastOrders=lastOrders['filter'](_0x270950=>_0x270950[_0x5b40c6(0x283)]!=_0x2a8ecd),await handleError(_0x1113ef,_0x5b40c6(0x12d),_0x2a8ecd));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5b40c6(0x175)]>0x0){const _0x5512ca=config['ordertype']==_0x5b40c6(0x1bf)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2e5b87=_0x5b40c6;validateOrders(_0x2e5b87(0x1bc));},_0x5512ca);}else unlockOrders();_0x237c22&&config[_0x5b40c6(0x274)]&&(logHistory(_0x5b40c6(0x26a),_0x5b40c6(0x2be)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5b40c6(0x21d),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x5b40c6(0x274)]&&logHistory(_0x5b40c6(0x26a),_0x5b40c6(0x1d2));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x5b40c6(0x274)]&&(config[_0x5b40c6(0x2b5)]==_0x5b40c6(0x1bf)?logHistory('error',_0x5b40c6(0x143)):logHistory(_0x5b40c6(0x26a),_0x5b40c6(0x165))));}}function persistOpenOrders(_0x3dccd7){const _0x4ba957=_0x167f3b,_0x18bbf3={...config,'openOrders':_0x3dccd7};let _0x415558=dbConfig[_0x4ba957(0x181)]('bot')[_0x4ba957(0x2c7)]({'botID':botID})[_0x4ba957(0x2e1)]();_0x415558&&dbConfig['get'](_0x4ba957(0x26f))[_0x4ba957(0x2c7)]({'botID':botID})['assign'](_0x18bbf3)[_0x4ba957(0x14f)]();}function restoreOrders(){const _0x22731e=_0x167f3b;let _0xdc73f0;config[_0x22731e(0x2a9)]&&allOpenOrders[_0x22731e(0x1f4)](_0x1d7e47=>{const _0x3cd375=_0x22731e,_0x3f1a9e=config[_0x3cd375(0x2a9)][_0x3cd375(0x2c7)](_0x7146d2=>_0x7146d2['orderId']==_0x1d7e47['id']);_0x3f1a9e&&(lastOrders['push'](_0x3f1a9e),_0xdc73f0=_0x1d7e47[_0x3cd375(0x2dd)]);});if(lastOrders['length']>0x0){setLockOrders(ORDERS[_0x22731e(0x1a2)]),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x60a609=new Date()[_0x22731e(0x2e8)](),_0x4ddb6f=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x22731e(0x2ce)]*0x3c*0x3e8;if(_0xdc73f0+_0x4ddb6f>_0x60a609){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xf50755=_0x22731e;validateOrders(_0xf50755(0x1bc));},_0xdc73f0+_0x4ddb6f-_0x60a609);}else validateOrders(_0x22731e(0x1bc));}}async function sendMetricsTelegram(){const _0x5daad3=_0x167f3b;if(!coinsLoaded){process['send']({'telegrammsg':_0x5daad3(0x28b)},_0x4f48dc=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x1e0da1='';if(config[_0x5daad3(0x13d)])_0x1e0da1=_0x5daad3(0x2d6)+config[_0x5daad3(0x220)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x1e0da1=_0x5daad3(0x1a7)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x42a542=config[_0x5daad3(0x2b6)],_0x26880c=config['fiat'],_0xe310c3=getKPIs('basecoin'),_0x39779e=getKPIs(_0x5daad3(0x261),_0x26880c),_0x3f83bf=getKPIs('net-basecoin'),_0x2ff151=getKPIs(_0x5daad3(0x1a5),_0x26880c),_0x51771e=getKPIs('pnl-basecoin'),_0x1b8b3d=getKPIs(_0x5daad3(0x156),_0x26880c);_0x42a542[_0x5daad3(0x295)](_0x26880c)?(_0x1e0da1+=_0x5daad3(0x1b7),_0x1e0da1+=_0x5daad3(0x16f)+_0x42a542+':\x20'+_0xe310c3['value']+'\x20('+_0xe310c3[_0x5daad3(0x255)]+_0x5daad3(0x26b),_0x1e0da1+='Net\x20'+_0x42a542+':\x20'+_0x3f83bf['value']+'\x20('+_0x3f83bf[_0x5daad3(0x255)]+_0x5daad3(0x26b),_0x1e0da1+=_0x5daad3(0x18d)+_0x42a542+':\x20'+_0x51771e[_0x5daad3(0x2e1)]+'\x20('+_0x51771e['change']+'%)\x0a',_0x1e0da1+=_0x5daad3(0x2d8)):(_0x1e0da1+='<pre>',_0x1e0da1+=_0x5daad3(0x16f)+_0x42a542+':\x20'+_0xe310c3[_0x5daad3(0x2e1)]+'\x20('+_0xe310c3[_0x5daad3(0x255)]+_0x5daad3(0x26b),_0x1e0da1+=_0x5daad3(0x16f)+_0x26880c+':\x20'+_0x39779e[_0x5daad3(0x2e1)]+'\x20('+_0x39779e[_0x5daad3(0x255)]+_0x5daad3(0x26b),_0x1e0da1+=_0x5daad3(0x29a)+_0x42a542+':\x20'+_0x3f83bf[_0x5daad3(0x2e1)]+'\x20('+_0x3f83bf[_0x5daad3(0x255)]+_0x5daad3(0x26b),_0x1e0da1+=_0x5daad3(0x29a)+_0x26880c+':\x20'+_0x2ff151['value']+'\x20('+_0x2ff151[_0x5daad3(0x255)]+_0x5daad3(0x26b),_0x1e0da1+='PnL\x20'+_0x42a542+':\x20'+_0x51771e[_0x5daad3(0x2e1)]+'\x20('+_0x51771e[_0x5daad3(0x255)]+'%)\x0a',_0x1e0da1+=_0x5daad3(0x18d)+_0x26880c+':\x20'+_0x1b8b3d[_0x5daad3(0x2e1)]+'\x20('+_0x1b8b3d[_0x5daad3(0x255)]+_0x5daad3(0x26b),_0x1e0da1+='</pre>'),process[_0x5daad3(0x278)]({'telegrammsg':_0x1e0da1},_0x22bf99=>{});}async function sendPortfolioTelegram(){const _0x3b1477=_0x167f3b;if(!coinsLoaded||!currentCoins[0x0][_0x3b1477(0x22e)]){process['send']({'telegrammsg':_0x3b1477(0x28b)},_0x2b5beb=>{});return;}let _0x2dfffc='';if(config[_0x3b1477(0x13d)])_0x2dfffc=_0x3b1477(0x2d6)+config[_0x3b1477(0x220)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x2dfffc=_0x3b1477(0x1a7)+botID+_0x3b1477(0x25c);_0x2dfffc+=_0x3b1477(0x1b7),_0x2dfffc+=_0x3b1477(0x1ef),_0x2dfffc+=_0x3b1477(0x17f),_0x2dfffc+=_0x3b1477(0x1ef),currentCoins[_0x3b1477(0x1f4)](_0x22e1da=>{const _0x4ebab8=_0x3b1477;_0x2dfffc+=_0x22e1da[_0x4ebab8(0x119)]['padEnd'](0x7)+'|\x20'+formatPad(_0x22e1da['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x22e1da['target'],0x2,0x6)+'|\x20'+formatPad(_0x22e1da[_0x4ebab8(0x166)]*0x64,0x2,0x6)+'\x0a';}),_0x2dfffc+='</pre>',process[_0x3b1477(0x278)]({'telegrammsg':_0x2dfffc},_0x713ab1=>{});}function formatPad(_0x1c6c8e,_0x9fc054,_0xbf1a2e){const _0x58eb8a=_0x167f3b,_0x4c8991=formatResultString(_0x1c6c8e,_0x9fc054);return _0x4c8991?_0x4c8991['padStart'](_0xbf1a2e):''[_0x58eb8a(0x1b9)](_0xbf1a2e);}function logHistory(_0x5eb56f,_0x2ce2f4,_0x5e4e50=''){const _0x565de9=_0x167f3b;logger[_0x565de9(0x2cf)](''+_0x2ce2f4);let _0x2f03a6={'time':getTimeStamp(),'type':_0x5eb56f,'event':_0x2ce2f4};dbLogs['get'](_0x565de9(0x12e))[_0x565de9(0x1ff)](_0x2f03a6)['write']();if(_0x5e4e50=='')_0x5e4e50=_0x2ce2f4;proxyEmit(_0x565de9(0x257),{'log':_0x2f03a6,'summary':_0x5e4e50}),process[_0x565de9(0x278)]({'telegram':{..._0x2f03a6,'botname':config[_0x565de9(0x220)],'showname':config[_0x565de9(0x13d)]}},_0x4552a9=>{});}function emitHistory(_0x2f4bd5={}){const _0x56d00e=_0x167f3b;Object[_0x56d00e(0x248)](_0x2f4bd5)[_0x56d00e(0x175)]==0x0&&(_0x2f4bd5={'type':[_0x56d00e(0x189),'event'],'event':'','page':0x1});if(_0x2f4bd5[_0x56d00e(0x1b6)][_0x56d00e(0x295)]('event'))_0x2f4bd5['type']['splice'](_0x2f4bd5[_0x56d00e(0x1b6)]['indexOf']('event'),0x1,_0x56d00e(0x26a),_0x56d00e(0x163),_0x56d00e(0x21d));if(dbLogs[_0x56d00e(0x1af)]('logs')[_0x56d00e(0x2e1)]()){let _0x19fe05=dbLogs[_0x56d00e(0x181)]('logs')[_0x56d00e(0x133)](_0x3519a0=>{const _0x337275=_0x56d00e;if(_0x2f4bd5[_0x337275(0x1b6)][_0x337275(0x175)]==0x0)return![];else return _0x2f4bd5[_0x337275(0x1b6)][_0x337275(0x295)](_0x3519a0[_0x337275(0x1b6)]);})[_0x56d00e(0x133)](_0x2f9ee6=>{const _0xad6a3c=_0x56d00e;if(_0x2f4bd5[_0xad6a3c(0x257)]=='')return!![];else return _0x2f9ee6[_0xad6a3c(0x257)]['toLowerCase']()[_0xad6a3c(0x295)](_0x2f4bd5[_0xad6a3c(0x257)]['toLowerCase']());})[_0x56d00e(0x160)](_0x56d00e(0x226)),_0x3e1349=_0x19fe05['value']()[_0x56d00e(0x175)];_0x19fe05=_0x19fe05[_0x56d00e(0x2c4)]()[_0x56d00e(0x1d6)]((_0x2f4bd5['page']-0x1)*logPageSize,_0x2f4bd5[_0x56d00e(0x173)]*logPageSize-0x1)[_0x56d00e(0x2c4)]()[_0x56d00e(0x2e1)](),proxyEmit(_0x56d00e(0x2a1),{'logs':_0x19fe05,'total':_0x3e1349});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5887e4){const _0x471748=_0x167f3b;if(dbLogs[_0x471748(0x1af)](_0x471748(0x12e))['value']()){const _0x1c4205=dbLogs[_0x471748(0x181)](_0x471748(0x12e))['sortBy']('time')[_0x471748(0x133)](_0x493637=>{const _0x2ed012=_0x471748;return _0x493637[_0x2ed012(0x1b6)]=='order';})[_0x471748(0x2e1)]();dbLogs['get'](_0x471748(0x12e))['remove']()[_0x471748(0x14f)](),dbLogs[_0x471748(0x181)](_0x471748(0x12e))[_0x471748(0x18e)](_0x1c4205)[_0x471748(0x14f)](),emitHistory(_0x5887e4);}}async function pauseBot(_0x3a4898=pauseBotIntervalShort,_0x48fe97,_0x4a3631,_0x37713a=![]){const _0xd98327=_0x167f3b,_0x170289=new Date()['getTime']();if(!lastErrorShown||_0x170289-lastErrorShown>=_0x3a4898){lastErrorShown=_0x170289;if(!lastBotPause)lastBotPause=_0x170289,consecutivePauses=0x1;else{if(_0x170289-lastBotPause-_0x3a4898<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x37713a){logHistory(_0xd98327(0x26a),_0x48fe97+_0xd98327(0x209)),await killBot();return;}else logHistory(_0xd98327(0x26a),_0x48fe97+pauseBotMsg),_0x3a4898=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x170289;}_0x4a3631?logger[_0xd98327(0x2e4)]('('+consecutivePauses+')\x20'+_0x48fe97+_0xd98327(0x1bd),_0x4a3631):logger[_0xd98327(0x2e4)]('('+consecutivePauses+')\x20'+_0x48fe97);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x3a4898),botPaused=![],_0x3a4898==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x31a87a=_0x167f3b;botPaused=!![],await sleep(0x3e8),process[_0x31a87a(0x278)]({'stop':_0x31a87a(0x183)},_0x50359c=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x498211,_0x141501,_0x23ee9c=![]){const _0x142d8c=_0x167f3b;if(botPaused)return;let _0x49986;const _0xfa04ea=config[_0x142d8c(0x282)]||_0x142d8c(0x281);if(_0x141501)logger[_0x142d8c(0x2e4)](_0x142d8c(0x244)+_0x141501);const _0x4d4e9f=()=>{const _0x310049=_0x142d8c;loading[_0x310049(0x26a)]=!![],emitLoadingProgress();};if(_0x498211[_0x142d8c(0x24a)]()[_0x142d8c(0x295)](_0x142d8c(0x20c)))logHistory(_0x142d8c(0x26a),_0xfa04ea+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x4d4e9f();else{if(_0x498211[_0x142d8c(0x24a)]()['includes'](_0x142d8c(0x203)))logHistory(_0x142d8c(0x26a),_0xfa04ea+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x4d4e9f();else{if(_0x498211[_0x142d8c(0x24a)]()[_0x142d8c(0x295)](_0x142d8c(0x208)))config['apiPassword']?_0x49986=_0xfa04ea+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x49986=_0xfa04ea+_0x142d8c(0x1c8),logHistory(_0x142d8c(0x26a),_0x49986+_0x142d8c(0x2a8)),_0x4d4e9f();else{if(_0x498211[_0x142d8c(0x24a)]()['includes'](_0x142d8c(0x198)))logHistory(_0x142d8c(0x26a),_0xfa04ea+_0x142d8c(0x13c)),_0x4d4e9f();else{if(!_0x23ee9c)await handleError(_0x498211,null);}}}}}async function handleError(_0x34f14e,_0x140773,_0x5ea32c=''){const _0x41b108=_0x167f3b;if(botPaused)return;let _0x5e6f0a;const _0x2c24ca=config['exchange']||_0x41b108(0x281);if(_0x140773)logger[_0x41b108(0x2e4)](_0x41b108(0x244)+_0x140773);if(_0x34f14e['toString']()[_0x41b108(0x295)]('DDoSProtection'))_0x5e6f0a=_0x2c24ca+_0x41b108(0x1df),await pauseBot(undefined,_0x5e6f0a,_0x34f14e);else{if(_0x34f14e['toString']()[_0x41b108(0x295)](_0x41b108(0x128)))_0x5e6f0a=_0x2c24ca+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x5e6f0a,_0x34f14e);else{if(_0x34f14e[_0x41b108(0x24a)]()['includes'](_0x41b108(0x2a0))||_0x34f14e['toString']()[_0x41b108(0x295)](_0x41b108(0x27b)))_0x5e6f0a=_0x2c24ca+_0x41b108(0x186),await pauseBot(undefined,_0x5e6f0a,_0x34f14e[_0x41b108(0x24a)]());else{if(_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x295)](_0x41b108(0x1e4)))_0x5e6f0a=_0x2c24ca+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x5e6f0a,_0x34f14e['toString']());else{if(_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x295)](_0x41b108(0x223)))_0x5e6f0a=_0x2c24ca+_0x41b108(0x2b8),await pauseBot(undefined,_0x5e6f0a,_0x34f14e[_0x41b108(0x24a)]());else{if(_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x245)]()['includes'](_0x41b108(0x2dd))||_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x245)]()['includes'](_0x41b108(0x2b1)))_0x5e6f0a=_0x41b108(0x1a6),await pauseBot(undefined,_0x5e6f0a,_0x34f14e['toString']());else{if(_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x295)](_0x41b108(0x17e)))_0x5e6f0a=_0x2c24ca+_0x41b108(0x214),await pauseBot(undefined,_0x5e6f0a,_0x34f14e[_0x41b108(0x24a)]());else{if(_0x34f14e instanceof ccxt[_0x41b108(0x289)])_0x5e6f0a=_0x2c24ca+_0x41b108(0x265)+_0x34f14e['toString'](),logger[_0x41b108(0x2e4)](_0x41b108(0x2a7),_0x34f14e),await pauseBot(undefined,_0x5e6f0a,_0x34f14e);else{if(_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x295)](_0x41b108(0x20c)))logHistory(_0x41b108(0x26a),_0x2c24ca+_0x41b108(0x19c)),logHistory(_0x41b108(0x26a),_0x41b108(0x267)),await killBot();else{if(_0x34f14e['toString']()[_0x41b108(0x295)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x41b108(0x26a),_0x2c24ca+_0x41b108(0x132)),logHistory(_0x41b108(0x26a),_0x41b108(0x267)),await killBot();else{if(_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x295)](_0x41b108(0x208))&&_0x34f14e[_0x41b108(0x24a)]()[_0x41b108(0x295)](_0x41b108(0x193)))_0x5e6f0a=_0x2c24ca+_0x41b108(0x17b),await pauseBot(undefined,_0x5e6f0a,_0x34f14e,!![]);else{if(_0x34f14e[_0x41b108(0x24a)]()['includes']('AuthenticationError'))config[_0x41b108(0x121)]?_0x5e6f0a=_0x2c24ca+_0x41b108(0x123):_0x5e6f0a=_0x2c24ca+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory('error',_0x5e6f0a),logHistory('error',_0x41b108(0x267)),await killBot();else{if(_0x34f14e['toString']()[_0x41b108(0x295)](_0x41b108(0x198)))logHistory(_0x41b108(0x26a),_0x2c24ca+_0x41b108(0x2e6)),logHistory(_0x41b108(0x26a),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x34f14e[_0x41b108(0x24a)]()['includes']('InsufficientFunds'))logHistory(_0x41b108(0x26a),_0x41b108(0x28f)+_0x5ea32c),logger[_0x41b108(0x2e4)](_0x41b108(0x178),_0x34f14e);else{if(_0x34f14e instanceof ccxt[_0x41b108(0x232)]){_0x5e6f0a=_0x2c24ca+_0x41b108(0x2b0)+_0x34f14e[_0x41b108(0x24a)]();if(_0x5ea32c)_0x5e6f0a+=_0x41b108(0x168)+_0x5ea32c;await pauseBot(undefined,_0x5e6f0a,_0x34f14e);}else{_0x5e6f0a=_0x41b108(0x131)+_0x34f14e[_0x41b108(0x24a)]();if(_0x5ea32c)_0x5e6f0a+=_0x41b108(0x168)+_0x5ea32c;await pauseBot(undefined,_0x5e6f0a);}}}}}}}}}}}}}}}}function decryptRSA(_0x21c883,_0x32010e){const _0x26e35c=_0x167f3b,_0x27e5b6=forge[_0x26e35c(0x185)][_0x26e35c(0x1f8)](_0x21c883),_0x2974fc=_0x27e5b6[_0x26e35c(0x260)](forge[_0x26e35c(0x1cb)][_0x26e35c(0x16a)](_0x32010e),_0x26e35c(0x1bb),{'md':forge['md'][_0x26e35c(0x1d4)][_0x26e35c(0x266)](),'mgf1':{'md':forge['md'][_0x26e35c(0x1d4)]['create']()}});return _0x2974fc;}async function withRetry(_0x58ad04,_0x50dd69){const _0x473005=_0x167f3b;let _0x18e5d6=![],_0x35a102=0x0,_0x4f88c6,_0x517058;while(_0x35a102<maxRetries){try{_0x4f88c6=await _0x50dd69();break;}catch(_0x570326){_0x517058=_0x570326,!_0x18e5d6?(_0x18e5d6=!![],logger[_0x473005(0x2e4)](_0x473005(0x1b5)+_0x58ad04+':',_0x570326[_0x473005(0x24a)]())):await sleep(retryInterval);}_0x35a102++;}if(_0x35a102==0x0)return _0x4f88c6;if(_0x35a102>=maxRetries)throw _0x517058;else return logger[_0x473005(0x2e4)](_0x473005(0x216)+_0x35a102+_0x473005(0x138)),_0x4f88c6;}function formatResult(_0x13cc19,_0x2623bb){const _0x2806c2=_0x167f3b;return parseFloat(_0x13cc19[_0x2806c2(0x2d5)](_0x2623bb));}function formatResultTruncate(_0x12d182,_0x50e6f5){const _0x1b608b=_0x167f3b;let _0x2ce109=formatResultString(_0x12d182,0xa),_0x4110f1=_0x2ce109[_0x1b608b(0x142)]('.');return _0x4110f1!=-0x1&&(_0x2ce109=_0x2ce109['slice'](0x0,_0x4110f1+_0x50e6f5+0x1)),Number(_0x2ce109);}function formatResultString(_0xea7730,_0x2f14a7){const _0x2fbeba=_0x167f3b;let _0x1bdc19;if(!(''+_0xea7730)[_0x2fbeba(0x295)]('e'))_0x1bdc19=+(Math[_0x2fbeba(0x28d)](_0xea7730+'e+'+_0x2f14a7)+'e-'+_0x2f14a7);else{let _0x5481b9=(''+_0xea7730)[_0x2fbeba(0x1ce)]('e'),_0x3bb630='';+_0x5481b9[0x1]+_0x2f14a7>0x0&&(_0x3bb630='+'),_0x1bdc19=+(Math[_0x2fbeba(0x28d)](+_0x5481b9[0x0]+'e'+_0x3bb630+(+_0x5481b9[0x1]+_0x2f14a7))+'e-'+_0x2f14a7);}return Number(_0x1bdc19)[_0x2fbeba(0x2d5)](_0x2f14a7);}function getServerTime(){const _0x4cbd70=_0x167f3b,_0x3422ed=new Date();return _0x3422ed[_0x4cbd70(0x1ba)]()+'/'+(_0x3422ed[_0x4cbd70(0x14d)]()+0x1)['toString']()[_0x4cbd70(0x1b9)](0x2,'0')+'/'+_0x3422ed['getDate']()[_0x4cbd70(0x24a)]()['padStart'](0x2,'0')+'\x20'+_0x3422ed[_0x4cbd70(0x127)]()['toString']()['padStart'](0x2,'0')+':'+_0x3422ed[_0x4cbd70(0x1d8)]()[_0x4cbd70(0x24a)]()[_0x4cbd70(0x1b9)](0x2,'0')+':'+_0x3422ed['getSeconds']()[_0x4cbd70(0x24a)]()[_0x4cbd70(0x1b9)](0x2,'0');}function getTimeStamp(){const _0x383548=_0x167f3b,_0x1c4a41=shiftedTime();return _0x1c4a41[_0x383548(0x1ba)]()+'/'+(_0x1c4a41[_0x383548(0x14d)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x1c4a41['getDate']()[_0x383548(0x24a)]()[_0x383548(0x1b9)](0x2,'0')+'\x20'+_0x1c4a41[_0x383548(0x127)]()[_0x383548(0x24a)]()[_0x383548(0x1b9)](0x2,'0')+':'+_0x1c4a41['getMinutes']()[_0x383548(0x24a)]()[_0x383548(0x1b9)](0x2,'0')+':'+_0x1c4a41[_0x383548(0x124)]()[_0x383548(0x24a)]()['padStart'](0x2,'0');}function getDate(){const _0x4bb24e=_0x167f3b,_0x62f460=shiftedTime();return _0x62f460[_0x4bb24e(0x1ba)]()+'/'+(_0x62f460[_0x4bb24e(0x14d)]()+0x1)[_0x4bb24e(0x24a)]()[_0x4bb24e(0x1b9)](0x2,'0')+'/'+_0x62f460['getDate']()[_0x4bb24e(0x24a)]()['padStart'](0x2,'0');}function getHour(){const _0x2857ce=_0x167f3b,_0x1c5d6c=shiftedTime();return _0x1c5d6c['getHours']()[_0x2857ce(0x24a)]()[_0x2857ce(0x1b9)](0x2,'0');}function sleep(_0x1a5e59){return new Promise(_0x676ed4=>setTimeout(_0x676ed4,_0x1a5e59));}function shiftedTime(){const _0x436214=_0x167f3b,_0x32c058=new Date();let _0x448cf6=_0x32c058;if(config&&config['timeshift']!==0x0)_0x448cf6=fns[_0x436214(0x1f9)](_0x32c058,{'hours':config[_0x436214(0x1d5)]});return _0x448cf6;}function timer(_0x3fc731){const _0x3b418c=_0x167f3b,_0x3e5489=new Date();!lasttime?console['log'](getTimeStamp()+':\x20timer\x20>',_0x3fc731,_0x3e5489):console[_0x3b418c(0x2c0)](getTimeStamp()+':\x20timer\x20>',_0x3fc731,(_0x3e5489-lasttime)/0x3e8),lasttime=_0x3e5489;}