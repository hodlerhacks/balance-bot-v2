const _0x24769d=_0x2e44;(function(_0x7ec6de,_0x492db7){const _0x1370d5=_0x2e44,_0x280806=_0x7ec6de();while(!![]){try{const _0x5c42b6=-parseInt(_0x1370d5(0x206))/0x1*(parseInt(_0x1370d5(0x2c5))/0x2)+-parseInt(_0x1370d5(0x2e8))/0x3+parseInt(_0x1370d5(0x225))/0x4*(-parseInt(_0x1370d5(0x323))/0x5)+parseInt(_0x1370d5(0x2ff))/0x6+-parseInt(_0x1370d5(0x25c))/0x7+parseInt(_0x1370d5(0x279))/0x8*(parseInt(_0x1370d5(0x2da))/0x9)+parseInt(_0x1370d5(0x1fb))/0xa;if(_0x5c42b6===_0x492db7)break;else _0x280806['push'](_0x280806['shift']());}catch(_0x3f5446){_0x280806['push'](_0x280806['shift']());}}}(_0x2037,0x840c7));const _0x1de861=function(){let _0x12807d=!![];return function(_0x16a5ba,_0x4bb14f){const _0x20d9dc=_0x12807d?function(){if(_0x4bb14f){const _0x28c0b3=_0x4bb14f['apply'](_0x16a5ba,arguments);return _0x4bb14f=null,_0x28c0b3;}}:function(){};return _0x12807d=![],_0x20d9dc;};}(),_0x37824e=_0x1de861(this,function(){const _0x34d709=_0x2e44;return _0x37824e[_0x34d709(0x314)]()['search'](_0x34d709(0x213))[_0x34d709(0x314)]()[_0x34d709(0x2e3)](_0x37824e)['search'](_0x34d709(0x213));});_0x37824e();'use strict';const ccxt=require('ccxt'),low=require(_0x24769d(0x19e)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x24769d(0x1e2)),forge=require(_0x24769d(0x254)),util=require('util'),argv=require(_0x24769d(0x229))(process[_0x24769d(0x205)][_0x24769d(0x1a2)](0x2))[_0x24769d(0x205)],path=require('path'),axios=require(_0x24769d(0x1a3));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x24769d(0x2fe),_0x24769d(0x271),_0x24769d(0x362),_0x24769d(0x2d2),_0x24769d(0x289),_0x24769d(0x267)],excludedExchanges=[_0x24769d(0x1cd)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x24769d(0x1dd)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x24769d(0x1c6)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x24769d(0x2d5)+pauseBotInterval/0xea60+_0x24769d(0x24f),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;function _0x2e44(_0x4e4f14,_0x296020){const _0x52051d=_0x2037();return _0x2e44=function(_0x37824e,_0x1de861){_0x37824e=_0x37824e-0x19e;let _0x2037f6=_0x52051d[_0x37824e];return _0x2037f6;},_0x2e44(_0x4e4f14,_0x296020);}const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x24769d(0x1ff))[_0x24769d(0x2f1)],environment=require('./version.json')[_0x24769d(0x26b)]||'production',botID=process[_0x24769d(0x205)][0x2]||_0x24769d(0x350),pattern=/^[0-9]{3}$/;!pattern[_0x24769d(0x1ac)](botID)&&(console[_0x24769d(0x20d)](_0x24769d(0x223)+botID+_0x24769d(0x326)),killBot());const userID=process[_0x24769d(0x205)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x24769d(0x305),logspath=userID?_0x24769d(0x2ed)+userID+'/':_0x24769d(0x2ed),loggerfile=fs[_0x24769d(0x28c)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x24769d(0x34c)](configpath)&&fs['mkdirSync'](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x24769d(0x31e)+botID+_0x24769d(0x287),logfile=configpath+_0x24769d(0x31e)+botID+'-events.json',performancefile=configpath+_0x24769d(0x31e)+botID+_0x24769d(0x304),coinresultsfile=configpath+_0x24769d(0x31e)+botID+'-results.json',settingsfile=configpath+_0x24769d(0x34d),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x24769d(0x34f),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x24769d(0x202)]({'logs':[],'version':serverversion})[_0x24769d(0x26e)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x24769d(0x202)]({'data':[],'version':serverversion})[_0x24769d(0x26e)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x24769d(0x202)]({'bot':[],'version':serverversion})[_0x24769d(0x26e)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x24769d(0x202)]({'coins':[],'version':serverversion})[_0x24769d(0x26e)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x129e98=>{const _0x1d866d=_0x24769d;console[_0x1d866d(0x20d)](_0x129e98);},'simple':_0x58c33e=>{const _0x4ce41b=_0x24769d;console['log'](_0x58c33e),loggerfile[_0x4ce41b(0x26e)](util[_0x4ce41b(0x230)](_0x58c33e)+'\x0a');},'full':async(_0x31d13d,_0x2eeab6='')=>{const _0x43cdf1=_0x24769d;let _0x1c8cd9;if(config[_0x43cdf1(0x2a1)])_0x1c8cd9=getTimeStamp()+':\x20'+config['botname']+_0x43cdf1(0x21a)+_0x31d13d;else _0x1c8cd9=getTimeStamp()+_0x43cdf1(0x33b)+botID+_0x43cdf1(0x21a)+_0x31d13d;console[_0x43cdf1(0x20d)](_0x1c8cd9),loggerfile['write'](util[_0x43cdf1(0x230)](_0x1c8cd9)+'\x0a'),_0x2eeab6&&(console['log'](_0x2eeab6),loggerfile[_0x43cdf1(0x26e)](util[_0x43cdf1(0x230)](_0x2eeab6)+'\x0a'));},'debug':async(_0x450d85,_0x5a2726='')=>{const _0x57edf8=_0x24769d;let _0x3e1798;if(config[_0x57edf8(0x2a1)])_0x3e1798=getTimeStamp()+':\x20'+config[_0x57edf8(0x29e)]+'\x20>\x20[DEBUG]\x20'+_0x450d85;else _0x3e1798=getTimeStamp()+_0x57edf8(0x33b)+botID+'\x20>\x20[DEBUG]\x20'+_0x450d85;if(debugging)console['log'](_0x3e1798);loggerfile[_0x57edf8(0x26e)](util[_0x57edf8(0x230)](_0x3e1798)+'\x0a');if(_0x5a2726){if(debugging)console[_0x57edf8(0x20d)](_0x5a2726);loggerfile[_0x57edf8(0x26e)](util[_0x57edf8(0x230)](_0x5a2726)+'\x0a');}}};process['on']('uncaughtException',function(_0x29bbbc){const _0x4d1ab8=_0x24769d;handleError(_0x29bbbc,_0x4d1ab8(0x248));});settings[_0x24769d(0x364)]!=config[_0x24769d(0x364)]&&updateTimeshift(settings[_0x24769d(0x364)]);settings[_0x24769d(0x2cd)]!=config[_0x24769d(0x2cd)]&&updateOnepagemode(settings[_0x24769d(0x2cd)]);(settings[_0x24769d(0x2cc)]&&!config[_0x24769d(0x2cc)]||!settings[_0x24769d(0x2cc)]&&config[_0x24769d(0x2cc)])&&updateMarketcapApi(settings[_0x24769d(0x2cc)]);process['send']({'started':'running'},_0x1bbaac=>{}),initializeProcessListeners();function proxyEmit(_0x130920,_0x179ee0=null){process['send']({'function':_0x130920,'args':_0x179ee0},_0x20e950=>{});}function initializeProcessListeners(){process['on']('message',_0x3a26b2=>{const _0x392b2e=_0x2e44;switch(Object[_0x392b2e(0x299)](_0x3a26b2)[0x0]){case _0x392b2e(0x364):_0x3a26b2[_0x392b2e(0x364)]!=undefined&&(settings[_0x392b2e(0x364)]=_0x3a26b2[_0x392b2e(0x364)],updateTimeshift(settings[_0x392b2e(0x364)]));break;case'onepagemode':_0x3a26b2[_0x392b2e(0x2cd)]!=undefined&&(settings[_0x392b2e(0x2cd)]=_0x3a26b2[_0x392b2e(0x2cd)],updateOnepagemode(settings['onepagemode']));break;case _0x392b2e(0x2cc):_0x3a26b2['marketcapApi']!=undefined&&(settings[_0x392b2e(0x2cc)]=_0x3a26b2[_0x392b2e(0x2cc)],updateMarketcapApi(settings['marketcapApi']));break;case _0x392b2e(0x2f3):_0x3a26b2[_0x392b2e(0x2f3)]!=undefined&&(bots=JSON['parse'](_0x3a26b2[_0x392b2e(0x2f3)]),proxyEmit(_0x392b2e(0x2f3),bots));break;case _0x392b2e(0x257):switch(_0x3a26b2[_0x392b2e(0x257)]){case _0x392b2e(0x329):initclient();break;case _0x392b2e(0x1d6):toggleBotMode();break;case'emitHistory':emitHistory(_0x3a26b2['args']);break;case _0x392b2e(0x19f):deleteHistoryAlerts(_0x3a26b2['args']);break;case _0x392b2e(0x24c):getPortfolio(_0x3a26b2[_0x392b2e(0x219)]);break;case _0x392b2e(0x2b9):storeConfiguration(_0x3a26b2[_0x392b2e(0x219)]);break;case _0x392b2e(0x215):storeHeadless(_0x3a26b2[_0x392b2e(0x219)]);break;case _0x392b2e(0x2bd):storeFiat(_0x3a26b2['args']);break;case'resetHistory':resetHistory();break;case _0x392b2e(0x317):getStartingBalances(getNormalizedPerformance());break;case _0x392b2e(0x1dc):placeOrder(_0x3a26b2[_0x392b2e(0x219)]);break;case _0x392b2e(0x276):cancelLoading();break;case _0x392b2e(0x2fb):showConfig();break;case _0x392b2e(0x26d):sendMetricsTelegram();break;case _0x392b2e(0x333):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x757eea=![]){const _0x5874eb=_0x24769d;logger[_0x5874eb(0x353)]('Reset\x20|\x20'+(_0x757eea?_0x5874eb(0x1af):_0x5874eb(0x1d3))+_0x5874eb(0x295)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x757eea)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5874eb(0x1a0)]!=''&&config[_0x5874eb(0x1a0)]!='***'){loadingProgress=0x0;_0x757eea&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x5874eb(0x235),emittedConfiguration()),initialPerformanceStored=![]);const _0x16b8c4=await getCoins();[currentCoins,currentCoinsAll]=_0x16b8c4,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x5874eb(0x1df)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x5874eb(0x1cf)]==0x0&&allOpenOrders[_0x5874eb(0x1cf)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x52ffc7=![]){const _0x2688e1=_0x24769d;logger[_0x2688e1(0x353)](_0x2688e1(0x2c8)+(_0x52ffc7?'quick':'complete')+')\x20|\x20exchange:\x20'+config[_0x2688e1(0x1e6)]);if(pidBalances)clearTimeout(pidBalances);if(_0x52ffc7){getBalances();return;}coinsLoaded=![];if(config[_0x2688e1(0x1a0)]!=''&&config[_0x2688e1(0x1a0)]!=_0x2688e1(0x322)){loadingProgress=0x1;const _0xba3409=await getCoins();[currentCoins,currentCoinsAll]=_0xba3409,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x2688e1(0x353)](_0x2688e1(0x1df)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2688e1(0x1cf)]==0x0&&allOpenOrders[_0x2688e1(0x1cf)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x2a4e96){const _0x3c140c=_0x24769d;let _0x287624=![];if(_0x2a4e96)_0x287624=!![];let _0x177cd5;_0x287624?_0x177cd5=_0x2a4e96['map'](_0x41a778=>_0x41a778['coin']):_0x177cd5=currentCoinsAll['map'](_0x5760a9=>_0x5760a9[_0x3c140c(0x336)]);if(!config['marketcapApi']||!_0x287624&&!config[_0x3c140c(0x2a3)]||_0x177cd5[_0x3c140c(0x1cf)]==0x0)return;let _0x273fe8=null;try{_0x273fe8=await axios[_0x3c140c(0x31c)](_0x3c140c(0x348),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x3c140c(0x2cc)]},'params':{'symbol':_0x177cd5['toString']()}});}catch(_0x39beb8){_0x273fe8=null,_0x39beb8[_0x3c140c(0x314)]()[_0x3c140c(0x275)](_0x3c140c(0x246))?(config[_0x3c140c(0x2cc)]=![],updateConfig(),proxyEmit(_0x3c140c(0x235),emittedConfiguration()),logHistory('error','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x3c140c(0x1c2),_0x3c140c(0x283)+schedulerInterval/(0x3c*0x3e8)+_0x3c140c(0x24f)),logger[_0x3c140c(0x353)](_0x3c140c(0x2c4),_0x39beb8[_0x3c140c(0x314)]()+'\x20-\x20'+_0x39beb8[_0x3c140c(0x325)]));}if(_0x273fe8){let _0x20d795=0x0;const _0x3f0987=_0x273fe8[_0x3c140c(0x2fc)];_0x177cd5[_0x3c140c(0x252)](_0x41bdb5=>{const _0x1dd8af=_0x3c140c;if(_0x3f0987[_0x1dd8af(0x2fc)][_0x41bdb5][0x0])_0x20d795+=_0x3f0987[_0x1dd8af(0x2fc)][_0x41bdb5][0x0][_0x1dd8af(0x2c9)][_0x1dd8af(0x2fe)][_0x1dd8af(0x274)];}),_0x177cd5[_0x3c140c(0x252)](_0x35c6d7=>{const _0x283323=_0x3c140c,_0x24cc17=_0x3f0987[_0x283323(0x2fc)][_0x35c6d7][0x0]?_0x3f0987['data'][_0x35c6d7][0x0]['quote'][_0x283323(0x2fe)][_0x283323(0x274)]:0x0;if(_0x287624){const _0x27bc3c=_0x2a4e96[_0x283323(0x306)](_0x3e2d1d=>_0x3e2d1d[_0x283323(0x336)]==_0x35c6d7);_0x27bc3c&&(_0x27bc3c['marketcap']=_0x24cc17);}else{const _0x452f11=currentCoins[_0x283323(0x306)](_0x4405ce=>_0x4405ce[_0x283323(0x336)]==_0x35c6d7);_0x452f11&&(_0x452f11['marketcap']=_0x24cc17);const _0x5aa0fb=currentCoinsAll[_0x283323(0x306)](_0xac675e=>_0xac675e[_0x283323(0x336)]==_0x35c6d7);_0x5aa0fb&&(_0x5aa0fb[_0x283323(0x285)]=_0x24cc17);}}),!_0x287624&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x5ab14d=_0x24769d,_0x240af0=0x2;let _0x418abc=0x0,_0x1a8004=0x0,_0x29f72e=0x0,_0x4b526e=0x0,_0x72703c=0x0;config[_0x5ab14d(0x261)][_0x5ab14d(0x252)](_0x125ff2=>{const _0x42dce3=_0x5ab14d;if(!_0x125ff2['excluded']){_0x29f72e++,_0x418abc+=_0x125ff2[_0x42dce3(0x310)];if(_0x125ff2[_0x42dce3(0x310)]===-0x1){_0x418abc++;const _0x1f28fc=currentCoinsAll['find'](_0x6b9a0d=>_0x6b9a0d[_0x42dce3(0x336)]==_0x125ff2[_0x42dce3(0x336)]);_0x1f28fc&&(_0x4b526e+=_0x1f28fc[_0x42dce3(0x285)],_0x72703c+=Math[_0x42dce3(0x1d8)](_0x1f28fc[_0x42dce3(0x285)]));}if(_0x125ff2['slider']!==-0x1)_0x1a8004++;}});let _0x1a1f09;const _0x3053a4=0x64-_0x418abc,_0x4595b0=_0x29f72e-_0x1a8004;_0x1a1f09=_0x4595b0===0x0?_0x418abc:Math[_0x5ab14d(0x209)](0x64,_0x418abc),config[_0x5ab14d(0x261)][_0x5ab14d(0x252)](_0x29e031=>{const _0x1cf0c5=_0x5ab14d,_0x1e37dd=currentCoinsAll[_0x1cf0c5(0x306)](_0x2489bf=>_0x2489bf[_0x1cf0c5(0x336)]==_0x29e031[_0x1cf0c5(0x336)]);_0x1e37dd&&(_0x29e031[_0x1cf0c5(0x285)]=_0x1e37dd[_0x1cf0c5(0x285)]);if(!_0x29e031[_0x1cf0c5(0x1b0)]){if(_0x1a1f09<=0x64){if(_0x29e031['slider']===-0x1){if(_0x4b526e!==0x0&&config[_0x1cf0c5(0x2a3)]){if(_0x1e37dd){if(config[_0x1cf0c5(0x2a3)]==_0x1cf0c5(0x285))_0x29e031[_0x1cf0c5(0x2b5)]=(_0x3053a4/(_0x4b526e/_0x1e37dd[_0x1cf0c5(0x285)]))[_0x1cf0c5(0x204)](_0x240af0);else config[_0x1cf0c5(0x2a3)]=='marketcapsqrt'&&(_0x29e031[_0x1cf0c5(0x2b5)]=(_0x3053a4/(_0x72703c/Math[_0x1cf0c5(0x1d8)](_0x1e37dd['marketcap'])))[_0x1cf0c5(0x204)](_0x240af0));}}}}}}),updateConfig();}function updateConfig(){const _0x2f8019=_0x24769d;let _0x892914=dbConfig[_0x2f8019(0x31c)](_0x2f8019(0x2a6))[_0x2f8019(0x306)]({'botID':botID})[_0x2f8019(0x2e1)]();_0x892914&&dbConfig['get'](_0x2f8019(0x2a6))[_0x2f8019(0x306)]({'botID':botID})['assign'](config)[_0x2f8019(0x26e)]();}function logMemory(){const _0x2f893f=_0x24769d;if(environment!=_0x2f893f(0x259))return;const _0x1996f3=process[_0x2f893f(0x349)]()['heapUsed']/0x400/0x400;logger[_0x2f893f(0x353)](_0x2f893f(0x233)+process[_0x2f893f(0x29a)]+'\x20uses\x20'+formatResult(_0x1996f3,0x1)+'\x20MB');}async function startScheduler(){const _0x3170ba=_0x24769d,_0x3dc551=shiftedTime()[_0x3170ba(0x1e5)]();getMarketCap(),loadSymbols(),_0x3dc551==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x26ade0=![]){const _0x27e4fe=_0x24769d;logger[_0x27e4fe(0x353)](_0x27e4fe(0x1d2));if(!_0x26ade0)while(lockOrders!=ORDERS[_0x27e4fe(0x1c6)]||coolingDown){await sleep(0x3e8);}process[_0x27e4fe(0x320)]({'stop':_0x27e4fe(0x327)},_0x367c84=>{});}async function initExchange(_0x32f187=config[_0x24769d(0x1e6)],_0x39e3c1=config[_0x24769d(0x1a0)],_0x41e218=config[_0x24769d(0x2fa)],_0xc7bb7c=config['apiPassword']){const _0x3c946f=_0x24769d;if(exchange){logger[_0x3c946f(0x353)](_0x3c946f(0x31d));return;}logger['debug']('Initializing\x20exchange');!supportedExchanges()[_0x3c946f(0x275)](_0x32f187)&&(logHistory(_0x3c946f(0x1c2),_0x3c946f(0x1d0)+_0x32f187+_0x3c946f(0x357)),killBot());const _0x215998=ccxt['pro'][_0x32f187[_0x3c946f(0x27e)]()];exchange=new _0x215998({'apiKey':_0x39e3c1,'secret':_0x41e218,'options':{'defaultType':_0x3c946f(0x328)}});if(_0xc7bb7c)exchange[_0x3c946f(0x1f9)]=_0xc7bb7c;}function updateExchange(_0x230aba,_0x2f18eb,_0x53e3d2=null){const _0x2330e6=_0x24769d;exchange[_0x2330e6(0x1a0)]=_0x230aba,exchange[_0x2330e6(0x2fa)]=_0x2f18eb,exchange[_0x2330e6(0x2e5)]=_0x53e3d2,logger[_0x2330e6(0x353)](_0x2330e6(0x332));}function setStableCoins(){const _0x5d658a=_0x24769d;let _0x2bb6ae=config[_0x5d658a(0x359)]==_0x5d658a(0x26c)?_0x5d658a(0x26c):config['basecoin']=='PAXG'?_0x5d658a(0x1ad):_0x5d658a(0x293),_0x3e745b=allSymbols[_0x5d658a(0x275)](_0x2bb6ae+'/USD')?_0x5d658a(0x2fe):allSymbols[_0x5d658a(0x275)](_0x2bb6ae+'/USDT')?'USDT':_0x5d658a(0x265),_0x3f4dfb=allSymbols[_0x5d658a(0x275)](_0x2bb6ae+_0x5d658a(0x2b0))?'EUR':_0x3e745b;enableFiatToggle=!![],_0x3e745b==_0x5d658a(0x265)&&(enableFiatToggle=![],storeFiat(_0x5d658a(0x265))),_0x3f4dfb!='EUR'&&(enableFiatToggle=![],storeFiat('USD')),stablecoins={'eur':{'coin':''+_0x2bb6ae+_0x3f4dfb,'symbol':_0x2bb6ae+'/'+_0x3f4dfb},'usd':{'coin':''+_0x2bb6ae+_0x3e745b,'symbol':_0x2bb6ae+'/'+_0x3e745b}};}async function initwsCcxt(){const _0x50164d=_0x24769d;initCycle++;const _0x29cbdc=initCycle;let _0x203fef=[];config[_0x50164d(0x261)][_0x50164d(0x252)](_0x41b028=>{const _0x1664f=_0x50164d;if(!_0x41b028[_0x1664f(0x1b0)]&&_0x41b028[_0x1664f(0x336)]!=config[_0x1664f(0x359)])_0x203fef['push'](_0x41b028['symbol']);});if(!_0x203fef[_0x50164d(0x275)](stablecoins['eur'][_0x50164d(0x25e)]))_0x203fef[_0x50164d(0x2b3)](stablecoins[_0x50164d(0x1d7)][_0x50164d(0x25e)]);if(!_0x203fef[_0x50164d(0x275)](stablecoins[_0x50164d(0x1c9)]['symbol']))_0x203fef[_0x50164d(0x2b3)](stablecoins[_0x50164d(0x1c9)][_0x50164d(0x25e)]);if(config[_0x50164d(0x1e6)][_0x50164d(0x1fc)](_0x50164d(0x346))&&config[_0x50164d(0x359)]!=_0x50164d(0x1ad)){if(!_0x203fef['includes']('BNB/'+config[_0x50164d(0x359)]))_0x203fef[_0x50164d(0x2b3)](_0x50164d(0x321)+config[_0x50164d(0x359)]);}loadCoins(_0x203fef),_0x203fef=validateSymbols(_0x203fef);const _0x33f9af=async _0x178ff9=>{const _0x312405=_0x50164d;let _0x1dcb31;try{const _0x132e64=await getTickers(_0x178ff9);Object[_0x312405(0x1ce)](_0x132e64)[_0x312405(0x252)](_0x18e3ec=>{const _0x18a78e=_0x312405;_0x1dcb31=_0x18e3ec[0x1]['symbol'],gTicker[noslash(_0x1dcb31)]=_0x18e3ec[0x1]['last'],gChange[_0x1dcb31]=_0x18e3ec[0x1][_0x18a78e(0x208)];});}catch(_0x5effa4){await handleError(_0x5effa4,_0x312405(0x351),_0x1dcb31);}},_0x3a2007=async _0x4143ff=>{const _0x4909b3=_0x50164d;while(initCycle==_0x29cbdc){if(!botPaused)try{const _0x83fac1=await exchange['watchTrades'](_0x4143ff);gTicker[noslash(_0x83fac1[0x0][_0x4909b3(0x25e)])]=_0x83fac1[0x0][_0x4909b3(0x2a0)];}catch(_0x24de44){if(!exchangeStopped)await handleError(_0x24de44,'watchTrades()',_0x4143ff);}else await sleep(0x64);}},_0x1971d1=async _0x32dd6e=>{const _0x5955df=_0x50164d;while(initCycle==_0x29cbdc){if(!botPaused)try{const _0x2c212=await exchange['watchTradesForSymbols'](_0x32dd6e),_0x23c4a9=_0x2c212[_0x5955df(0x210)]();gTicker[noslash(_0x23c4a9[_0x5955df(0x25e)])]=_0x23c4a9[_0x5955df(0x2a0)];}catch(_0x55fc2b){if(!exchangeStopped)await handleError(_0x55fc2b,_0x5955df(0x1ed),_0x32dd6e[_0x5955df(0x314)]());}else await sleep(0x64);}},_0x3f1f57=async _0x3b3c90=>{const _0x145839=_0x50164d;while(initCycle==_0x29cbdc){if(!botPaused){let _0x253911;try{await sleep(0x3c*0x3e8);const _0x2d12c5=await getTickers(_0x3b3c90);Object[_0x145839(0x1ce)](_0x2d12c5)['forEach'](_0x36d837=>{const _0x19b346=_0x145839;_0x253911=_0x36d837[0x1][_0x19b346(0x25e)],gChange[_0x253911]=_0x36d837[0x1][_0x19b346(0x208)];});}catch(_0x3ad024){if(!exchangeStopped)await handleError(_0x3ad024,_0x145839(0x296),_0x253911);}}else await sleep(0x64);}},_0x18d475=async _0x4eb947=>{const _0x1139a8=_0x50164d;while(initCycle==_0x29cbdc){if(!botPaused)try{const _0x3a303f=await exchange['watchOrders'](_0x4eb947);initCycle==_0x29cbdc&&_0x3a303f[_0x1139a8(0x252)](_0x443e52=>{updateNumberCoinsCcxt(_0x443e52);});}catch(_0x4ae9c0){if(!exchangeStopped)await handleError(_0x4ae9c0,_0x1139a8(0x1a8));}else await sleep(0x64);}};_0x33f9af(_0x203fef),_0x3f1f57(_0x203fef),exchange[_0x50164d(0x301)]['watchTradesForSymbols']&&!(config[_0x50164d(0x1e6)]==_0x50164d(0x2d6)&&_0x203fef[_0x50164d(0x1cf)]>0xa)?_0x1971d1(_0x203fef):_0x203fef['forEach'](_0x532411=>{_0x3a2007(_0x532411);}),_0x203fef[_0x50164d(0x252)](_0x186ebb=>{_0x18d475(_0x186ebb);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x6830bb){const _0xed5d86=_0x24769d;let _0x2106e9={};try{if(config[_0xed5d86(0x1e6)]!=_0xed5d86(0x23c))_0x2106e9=await exchange['fetchTickers'](_0x6830bb);else for(const _0x4f6b88 of _0x6830bb){const _0x64a80e=await exchange[_0xed5d86(0x1b5)](_0x4f6b88);_0x2106e9[_0x4f6b88]=_0x64a80e;}return _0x2106e9;}catch(_0x14d073){throw _0x14d073;}}function setBlockTransactionDetection(_0x5dd31f){const _0x4e890a=_0x24769d;blockTransactionDetection=_0x5dd31f,logger[_0x4e890a(0x353)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0xcd0567=0x0){const _0x120bb7=_0x24769d;transactionDetectionOngoing=!![];try{const _0x1db678=await getCoins(_0xcd0567),[_0x1d6e2e,_0x997c6d]=_0x1db678;let _0x29c27c=[];currentCoins[_0x120bb7(0x252)](_0x22133e=>{const _0x45752d=_0x120bb7,_0x4cb3ec=_0x1d6e2e['find'](_0x577e5b=>_0x577e5b[_0x45752d(0x336)]==_0x22133e[_0x45752d(0x336)]);if(_0x4cb3ec){if(_0x22133e['number']!=_0x4cb3ec[_0x45752d(0x29d)]){let _0x22a07a;if(_0x22133e[_0x45752d(0x336)]!=config[_0x45752d(0x359)]){const _0x285a80=gTicker[noslash(_0x22133e[_0x45752d(0x25e)])];_0x22a07a=_0x22133e['reverse']?0x1/_0x285a80:_0x285a80;}else _0x22a07a=0x1;_0x29c27c[_0x45752d(0x2b3)]({'coin':_0x22133e['coin'],'symbol':_0x22133e[_0x45752d(0x25e)],'price':_0x22a07a,'number':Number(formatResult(_0x4cb3ec[_0x45752d(0x29d)]-_0x22133e['number'],0x8)),'basecoinvalue':_0x22a07a*(_0x4cb3ec[_0x45752d(0x29d)]-_0x22133e[_0x45752d(0x29d)])});}}});if(_0x29c27c['length']>0x0&&!blockTransactionDetection){for(const _0x9cef46 of _0x29c27c){if(config[_0x120bb7(0x2a5)]){logger[_0x120bb7(0x353)](_0x120bb7(0x31f)+_0x9cef46['basecoinvalue']+_0x120bb7(0x2b1)+lastFees[_0x120bb7(0x216)]);if(lastFees[_0x120bb7(0x216)]==0x0||Math[_0x120bb7(0x2db)](_0x9cef46[_0x120bb7(0x24a)])>lastFees[_0x120bb7(0x216)]*0x3){if(config[_0x120bb7(0x2a5)]=='update-liquidity'){delete _0x9cef46[_0x120bb7(0x25e)],delete _0x9cef46[_0x120bb7(0x24a)];let _0x1b5b66=[],_0x58a1d9=[...config[_0x120bb7(0x1f6)]]||[],_0x3e3c80=config[_0x120bb7(0x1f6)];_0x58a1d9[_0x120bb7(0x1a1)]((_0x6b149,_0x452b69)=>_0x6b149[_0x120bb7(0x1e9)]>_0x452b69[_0x120bb7(0x1e9)]?-0x1:_0x452b69[_0x120bb7(0x1e9)]>_0x6b149[_0x120bb7(0x1e9)]?0x1:0x0);const _0x519007=getDate();if(_0x58a1d9[0x0]){const _0x8f0027=fns[_0x120bb7(0x272)](_0x58a1d9[0x0][_0x120bb7(0x1e9)],'yyyy/MM/dd',new Date()),_0x4dfa83=fns['parse'](_0x519007,_0x120bb7(0x1ea),new Date());if(fns[_0x120bb7(0x33d)](_0x8f0027,_0x4dfa83)){_0x1b5b66=_0x58a1d9[0x0][_0x120bb7(0x2a8)];const _0x5a0a84=_0x1b5b66[_0x120bb7(0x306)](_0x42e30a=>_0x42e30a['coin']==_0x9cef46[_0x120bb7(0x336)]);_0x5a0a84?(_0x5a0a84[_0x120bb7(0x29d)]+=_0x9cef46[_0x120bb7(0x29d)],_0x5a0a84[_0x120bb7(0x29d)]==0x0&&(_0x1b5b66=_0x1b5b66[_0x120bb7(0x34a)](_0xcb5722=>{const _0x5d0a27=_0x120bb7;return _0xcb5722[_0x5d0a27(0x336)]!=_0x9cef46[_0x5d0a27(0x336)];}))):_0x1b5b66[_0x120bb7(0x2b3)](_0x9cef46);const _0x1852b4=_0x3e3c80['find'](_0x314878=>_0x314878[_0x120bb7(0x1e9)]==_0x519007);_0x1852b4[_0x120bb7(0x2a8)]=_0x1b5b66;}else _0x3e3c80['push']({'date':_0x519007,'changes':[_0x9cef46]});}const _0x6eb3ea=_0x3e3c80[_0x120bb7(0x306)](_0x17d154=>_0x17d154[_0x120bb7(0x1e9)]==_0x519007);if(_0x6eb3ea){let _0xbc9a49=!![];_0x6eb3ea['changes'][_0x120bb7(0x252)](_0x4fcf5b=>{if(_0x4fcf5b['number']!=0x0)_0xbc9a49=![];}),_0xbc9a49&&(_0x3e3c80=_0x3e3c80[_0x120bb7(0x34a)](_0x58b57f=>{return _0x58b57f['date']!=_0x519007;}));}let _0x4abd28=dbConfig[_0x120bb7(0x31c)]('bot')[_0x120bb7(0x306)]({'botID':botID})[_0x120bb7(0x2e1)]();_0x4abd28&&(dbConfig[_0x120bb7(0x31c)](_0x120bb7(0x2a6))[_0x120bb7(0x306)]({'botID':botID})[_0x120bb7(0x308)]({'liquidity':_0x3e3c80})[_0x120bb7(0x26e)](),config[_0x120bb7(0x1f6)]=_0x3e3c80);logHistory(_0x120bb7(0x1e8),_0x120bb7(0x2b4)+Math[_0x120bb7(0x2db)](_0x9cef46[_0x120bb7(0x29d)])+'\x20'+_0x9cef46[_0x120bb7(0x336)]+'\x20'+(_0x9cef46[_0x120bb7(0x29d)]>0x0?_0x120bb7(0x27d):'removed')+_0x120bb7(0x2d0)),proxyEmit('configuration',emittedConfiguration());const _0x5ecd9f=getNormalizedPerformance();emitPerformance(_0x5ecd9f),getStartingBalances(_0x5ecd9f),logger[_0x120bb7(0x353)](_0x120bb7(0x338));}else config['autoliquidity']==_0x120bb7(0x35f)&&(config[_0x120bb7(0x1ae)]?(await storeHeadless({'headless':![]}),logHistory(_0x120bb7(0x1e8),_0x120bb7(0x2b4)+Math[_0x120bb7(0x2db)](_0x9cef46[_0x120bb7(0x29d)])+'\x20'+_0x9cef46[_0x120bb7(0x336)]+'\x20'+(_0x9cef46['number']>0x0?'added':'removed')+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0x120bb7(0x353)](_0x120bb7(0x2b4)+Math[_0x120bb7(0x2db)](_0x9cef46[_0x120bb7(0x29d)])+'\x20'+_0x9cef46[_0x120bb7(0x336)]+'\x20'+(_0x9cef46[_0x120bb7(0x29d)]>0x0?_0x120bb7(0x27d):_0x120bb7(0x20b))+_0x120bb7(0x342)));}else logger['debug']('Fee\x20discount\x20refund\x20detected:\x20'+Math['abs'](_0x9cef46[_0x120bb7(0x29d)])+'\x20'+_0x9cef46[_0x120bb7(0x336)]+'\x20'+(_0x9cef46['number']>0x0?_0x120bb7(0x27d):_0x120bb7(0x20b)));}else logger[_0x120bb7(0x353)]('Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x9cef46['number'])+'\x20'+_0x9cef46[_0x120bb7(0x336)]+'\x20'+(_0x9cef46[_0x120bb7(0x29d)]>0x0?_0x120bb7(0x27d):_0x120bb7(0x20b))+_0x120bb7(0x355));}currentCoins=_0x1d6e2e,currentCoinsAll=_0x997c6d;}}catch(_0x1058b3){if(!exchangeStopped)await handleError(_0x1058b3,_0x120bb7(0x220));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x12f7f7=_0x24769d;try{markets=await exchange['loadMarkets'](!![]),allSymbols=[],Object['entries'](markets)[_0x12f7f7(0x252)](_0x4dbbde=>{const _0x13254b=_0x12f7f7;_0x4dbbde[0x1][_0x13254b(0x1b4)]&&_0x4dbbde[0x1][_0x13254b(0x328)]&&allSymbols[_0x13254b(0x2b3)](_0x4dbbde[0x0]);});}catch(_0x21f6c4){markets?logger['debug']('Error\x20in\x20loadSymbols():\x20'+_0x21f6c4[_0x12f7f7(0x314)]()):(loading[_0x12f7f7(0x286)]=!![],emitLoadingProgress(),_0x21f6c4['toString']()[_0x12f7f7(0x27e)]()[_0x12f7f7(0x275)](_0x12f7f7(0x20f))||_0x21f6c4[_0x12f7f7(0x314)]()[_0x12f7f7(0x27e)]()[_0x12f7f7(0x275)](_0x12f7f7(0x2a7))?logHistory('error',_0x12f7f7(0x337)):handleErrorNoStop(_0x21f6c4,'loadSymbols()',!![]),logHistory(_0x12f7f7(0x1c2),_0x12f7f7(0x1b6)),logHistory(_0x12f7f7(0x1c2),_0x12f7f7(0x2f0)+loadCoinsRetryInterval/0xea60+_0x12f7f7(0x30a)),logger[_0x12f7f7(0x353)](_0x12f7f7(0x2c4),_0x21f6c4),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x4ff6f7){let _0x5a19fe=[];return _0x4ff6f7['forEach'](_0x17dc75=>{const _0xc5a8a8=_0x2e44;!allSymbols['includes'](_0x17dc75)?logHistory(_0xc5a8a8(0x1c2),_0xc5a8a8(0x291)+_0x17dc75+_0xc5a8a8(0x2cb)):_0x5a19fe[_0xc5a8a8(0x2b3)](_0x17dc75);}),_0x5a19fe;}async function initclient(){const _0xc7271a=_0x24769d;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0xc7271a(0x1cc),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1ed8be=getNormalizedPerformance();emitPerformance(_0x1ed8be),getStartingBalances(_0x1ed8be);}async function toggleBotMode(){const _0x125f3f=_0x24769d;let _0x287106=dbConfig[_0x125f3f(0x31c)](_0x125f3f(0x2a6))[_0x125f3f(0x306)]({'botID':botID})[_0x125f3f(0x2e1)]();if(_0x287106){const _0x451b78=!_0x287106[_0x125f3f(0x1ae)];dbConfig[_0x125f3f(0x31c)]('bot')[_0x125f3f(0x306)]({'botID':botID})[_0x125f3f(0x308)]({'headless':_0x451b78})['write'](),config[_0x125f3f(0x1ae)]=_0x451b78,proxyEmit(_0x125f3f(0x235),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x87c29=_0x24769d;process['send']({'updatebotmanager':!![]},_0x51d3a9=>{}),logger['debug'](_0x87c29(0x1d9)+config['headless']);}async function loadCoins(_0x3d901d){const _0x2152f9=_0x24769d;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x6f4619,_0x202809=0x0,_0x20d179=0x0;_0x3d901d[_0x2152f9(0x252)](_0x3a2881=>{const _0x2545c3=_0x2152f9;loading[_0x2545c3(0x335)][_0x2545c3(0x2b3)](_0x3a2881);}),loadingCanceled=![];let _0x2521f2=![];while(_0x6f4619!=_0x3d901d[_0x2152f9(0x1cf)]+maxLoadingProgress){_0x6f4619=loadingProgress,_0x3d901d[_0x2152f9(0x252)](_0x259b0f=>{const _0x485c85=_0x2152f9;if(gTicker[noslash(_0x259b0f)]){loading[_0x485c85(0x335)]=loading[_0x485c85(0x335)][_0x485c85(0x34a)](_0x58a683=>_0x58a683!=_0x259b0f);if(!watchedSymbols['includes'](_0x259b0f))watchedSymbols[_0x485c85(0x2b3)](_0x259b0f);_0x6f4619++;}}),loading[_0x2152f9(0x1c3)]=Math['round'](_0x6f4619/(_0x3d901d[_0x2152f9(0x1cf)]+maxLoadingProgress)*0x64);loading[_0x2152f9(0x1c3)]!=0x64&&(_0x20d179>0x1e*0x5&&(loading[_0x2152f9(0x365)]=!![],emitLoadingProgress()),_0x20d179>0x78*0x5&&!_0x2521f2&&(_0x2521f2=!![],logHistory(_0x2152f9(0x1c2),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x2152f9(0x335)]['join'](',\x20')+_0x2152f9(0x35d)),logHistory(_0x2152f9(0x1c2),_0x2152f9(0x2f0)+loadCoinsRetryInterval/0xea60+_0x2152f9(0x30a)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x202809!=loading['progress']&&(_0x202809=loading['progress'],emitLoadingProgress()),_0x20d179++,await sleep(0xc8);}_0x6f4619==_0x3d901d[_0x2152f9(0x1cf)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':'enabled','live':'running'},_0x2d22e0=>{}),_0x2521f2&&logHistory(_0x2152f9(0x1e8),_0x2152f9(0x339)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1adca8=_0x24769d;proxyEmit(_0x1adca8(0x235),{...emittedConfiguration(),'configstate':_0x1adca8(0x1b9)});}function emitLoadingProgress(){const _0x3da4b5=_0x24769d;proxyEmit(_0x3da4b5(0x24d),loading);}async function getFiat(){const _0x18e634=_0x24769d;let _0x52e4ce=gTicker[stablecoins[_0x18e634(0x1d7)][_0x18e634(0x336)]],_0x4d8d1e=gTicker[stablecoins[_0x18e634(0x1c9)][_0x18e634(0x336)]];return{'eur':Number(_0x52e4ce),'usd':Number(_0x4d8d1e)};}function capitalize(_0x568369){const _0x868b73=_0x24769d;return _0x568369[_0x868b73(0x1f7)](0x0,0x1)[_0x868b73(0x35c)]()+_0x568369['substring'](0x1);}function supportedExchanges(){const _0x42e8c5=_0x24769d,_0x16f378=['ws','fetchTickers',_0x42e8c5(0x1b5),_0x42e8c5(0x32d),_0x42e8c5(0x2f6),_0x42e8c5(0x2e7),_0x42e8c5(0x2bb),'fetchOpenOrders',_0x42e8c5(0x1d4)];let _0x313e5f=[],_0x39f22e=[],_0x3fa932=ccxt['pro'][_0x42e8c5(0x1cc)];_0x3fa932[_0x42e8c5(0x252)](_0x538600=>{const _0x51926b=_0x42e8c5;try{const _0x261268=new ccxt[(_0x51926b(0x245))][_0x538600]();_0x39f22e['push'](_0x261268);}catch(_0x3126f5){}}),_0x39f22e[_0x42e8c5(0x252)](_0x998d44=>{const _0x29e0cf=_0x42e8c5;let _0xae4003=0x0;_0x16f378[_0x29e0cf(0x252)](_0x251958=>{const _0x3059aa=_0x29e0cf;_0x251958 in _0x998d44['has']&&_0x998d44[_0x3059aa(0x301)][_0x251958]&&_0xae4003++;}),_0xae4003==_0x16f378[_0x29e0cf(0x1cf)]&&(!excludedExchanges[_0x29e0cf(0x275)](_0x998d44['id'])&&_0x313e5f['push'](capitalize(_0x998d44['id'])));});let _0x5e2a89=[];return _0x3fa932[_0x42e8c5(0x252)](_0x1f5c32=>{const _0x200e2e=_0x42e8c5;_0x1f5c32=capitalize(_0x1f5c32);if(!_0x313e5f[_0x200e2e(0x275)](_0x1f5c32))_0x5e2a89[_0x200e2e(0x2b3)](_0x1f5c32);}),_0x313e5f;}function setStartDatePerformance(){const _0x113658=_0x24769d;if(config&&config[_0x113658(0x1f6)][0x0][_0x113658(0x2a8)][_0x113658(0x1cf)]!=0x0){const _0xf51120=config['liquidity'][0x0][_0x113658(0x2a8)];dbPerformance[_0x113658(0x31c)](_0x113658(0x2fc))[_0x113658(0x306)]({'date':config[_0x113658(0x288)]})[_0x113658(0x308)]({'coins':_0xf51120})[_0x113658(0x26e)]();}}async function recreateCoinResults(){const _0x8012b0=_0x24769d;recreationNeeded=![];let _0x339f33,_0x23f9dd=[];try{for(const _0x28d850 of currentCoins){if(_0x28d850[_0x8012b0(0x336)]!=config['basecoin']){let _0x4dc798=0x0,_0x2917dd,_0x5eeb73;_0x339f33=await getAllEventOrders(_0x28d850[_0x8012b0(0x25e)]);if(_0x339f33[_0x8012b0(0x1cf)]>0x0)_0x339f33[_0x8012b0(0x252)](_0x30732d=>{const _0xfb1af9=_0x8012b0,_0x47e2fe=_0x28d850[_0xfb1af9(0x25e)]['includes'](config[_0xfb1af9(0x359)]+'/');_0x23f9dd[_0xfb1af9(0x2b3)]({'datetime':_0x30732d[_0xfb1af9(0x2d8)],'coin':_0x28d850[_0xfb1af9(0x336)],'symbol':_0x28d850[_0xfb1af9(0x25e)],'side':_0x30732d[_0xfb1af9(0x28b)],'reverse':_0x47e2fe,'amount':formatResult(_0x30732d[_0xfb1af9(0x2dd)],0x8),'filled':formatResult(_0x30732d[_0xfb1af9(0x2dd)],0x8),'price':formatResult(_0x30732d[_0xfb1af9(0x2a0)],0x8)}),_0x4dc798=_0x30732d[_0xfb1af9(0x28b)]==_0xfb1af9(0x278)?_0x4dc798+_0x30732d[_0xfb1af9(0x2dd)]:_0x4dc798-_0x30732d[_0xfb1af9(0x2dd)];if(!_0x5eeb73)_0x5eeb73=_0x30732d[_0xfb1af9(0x2a0)];});_0x2917dd=_0x28d850[_0x8012b0(0x29d)]-_0x4dc798;let _0x2deaf2;config['liquidity'][_0x8012b0(0x252)](_0x3418bc=>{const _0x228c5d=_0x8012b0;!_0x2deaf2&&(_0x2deaf2=_0x3418bc['changes'][_0x228c5d(0x306)](_0x4d6c13=>_0x4d6c13['coin']==_0x28d850[_0x228c5d(0x336)]),_0x2deaf2&&(_0x2917dd=_0x2deaf2[_0x228c5d(0x29d)],_0x5eeb73=_0x2deaf2[_0x228c5d(0x2a0)]));});let _0x2805cd=dbCoinResults[_0x8012b0(0x31c)](_0x8012b0(0x2dc))[_0x8012b0(0x306)]({'coin':_0x28d850[_0x8012b0(0x336)]})['value']();_0x2805cd={'coin':_0x28d850[_0x8012b0(0x336)],'number':_0x2917dd,'breakeven':_0x5eeb73,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x8012b0(0x31c)](_0x8012b0(0x2dc))[_0x8012b0(0x306)]({'coin':_0x28d850[_0x8012b0(0x336)]})[_0x8012b0(0x308)](_0x2805cd)[_0x8012b0(0x26e)]();}}_0x23f9dd['sort']((_0x5c0206,_0xc43d6e)=>_0x5c0206['datetime']>_0xc43d6e[_0x8012b0(0x2d8)]?0x1:_0xc43d6e[_0x8012b0(0x2d8)]>_0x5c0206[_0x8012b0(0x2d8)]?-0x1:0x0);let _0x12ac55=0x0;for(let _0x4e3b6d of _0x23f9dd){await updateCoinResults(_0x4e3b6d,!![]);}}catch(_0x292a2b){await handleError(_0x292a2b,_0x8012b0(0x315));}}async function getAllEventOrders(_0x5d2217){const _0x504cda=_0x24769d;let _0x1323b6=[],_0x509940=dbLogs[_0x504cda(0x31c)](_0x504cda(0x2f5))[_0x504cda(0x34a)](_0x5bdfec=>{const _0x1ab2ea=_0x504cda,_0x5436fe=_0x5bdfec[_0x1ab2ea(0x1d5)][_0x1ab2ea(0x27e)]();return _0x5436fe[_0x1ab2ea(0x275)](_0x5d2217['toLowerCase']())&&(_0x5436fe[_0x1ab2ea(0x275)](_0x1ab2ea(0x236))&&_0x5436fe[_0x1ab2ea(0x275)]('order')||_0x5436fe['includes']('filled')&&_0x5436fe[_0x1ab2ea(0x275)](_0x1ab2ea(0x2e0)));})[_0x504cda(0x1be)](_0x504cda(0x1da))[_0x504cda(0x2e1)]();return _0x509940['forEach'](_0x3f14f8=>{const _0x504f4d=_0x504cda,_0x3d7e50=_0x3f14f8[_0x504f4d(0x1d5)][_0x504f4d(0x275)](_0x504f4d(0x2ec))?_0x504f4d(0x2ec):_0x504f4d(0x278),_0x174a01=/#([0-9]|\.)+\s/i,_0x5059bc=Number(_0x174a01[_0x504f4d(0x23f)](_0x3f14f8['event'])[0x0][_0x504f4d(0x1a2)](0x1)),_0x182d91=/@([0-9]|\.)+$/i,_0x3ac24e=Number(_0x182d91[_0x504f4d(0x23f)](_0x3f14f8[_0x504f4d(0x1d5)])[0x0][_0x504f4d(0x1a2)](0x1));_0x1323b6['push']({'datetime':_0x3f14f8[_0x504f4d(0x1da)],'coin':symbolToCoin(_0x5d2217),'symbol':_0x5d2217,'side':_0x3d7e50,'amount':_0x5059bc,'filled':_0x5059bc,'price':_0x3ac24e});}),_0x1323b6;}async function validate24hChanges(){const _0x471577=_0x24769d;for(const _0x5a742a of currentCoins){if(_0x5a742a[_0x471577(0x336)]!=config[_0x471577(0x359)]){let _0xef3239;_0x5a742a[_0x471577(0x2b8)]?_0xef3239=formatResult((0x1/(gChange[_0x5a742a[_0x471577(0x25e)]]/0x64+0x1)-0x1)*0x64,0x3):_0xef3239=gChange[_0x5a742a[_0x471577(0x25e)]],_0xef3239<config[_0x471577(0x226)]&&(logHistory(_0x471577(0x1c2),_0x5a742a[_0x471577(0x336)]+_0x471577(0x2df)+_0xef3239+'%'),logHistory(_0x471577(0x1c2),_0x471577(0x1f3)),logHistory(_0x471577(0x1c2),_0x471577(0x25a)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x984f88,_0x1ba0fc){const _0x45f4af=_0x24769d;if(!_0x984f88)return!![];const _0x4e523c=_0x1ba0fc['split']('.'),_0x5cc76b=_0x984f88['split']('.');for(var _0x456c22=0x0;_0x456c22<_0x5cc76b[_0x45f4af(0x1cf)];_0x456c22++){const _0x7b17e6=~~_0x5cc76b[_0x456c22],_0x4fdfb2=~~_0x4e523c[_0x456c22];if(_0x7b17e6<_0x4fdfb2)return!![];if(_0x7b17e6>_0x4fdfb2)return![];}return![];}async function oneTimeMigration(){const _0x445a24=_0x24769d;let _0x4795cd=dbLogs[_0x445a24(0x31c)](_0x445a24(0x2f1))[_0x445a24(0x2e1)]();if(isOlderVersion(_0x4795cd,_0x445a24(0x302))){let _0xcc7075=[];const _0x434b7d=dbLogs['get'](_0x445a24(0x2f5))[_0x445a24(0x2e1)]();_0x434b7d[_0x445a24(0x252)](_0x5660b7=>{const _0x493329=_0x445a24;_0xcc7075['push']({'time':_0x5660b7['time'],'type':_0x5660b7[_0x493329(0x300)],'event':_0x5660b7[_0x493329(0x1d5)]});}),dbLogs[_0x445a24(0x31c)](_0x445a24(0x2f5))['assign'](_0xcc7075)[_0x445a24(0x26e)]();}let _0x5837c4=dbConfig[_0x445a24(0x31c)](_0x445a24(0x2f1))['value']();if(isOlderVersion(_0x5837c4,_0x445a24(0x302))){let _0x315dd8=dbConfig['get'](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})[_0x445a24(0x2e1)]();if(_0x315dd8){let _0x16471f=[];_0x315dd8[_0x445a24(0x261)][_0x445a24(0x252)](_0x65b3aa=>{const _0x12f6fc=_0x445a24;_0x16471f[_0x12f6fc(0x2b3)]({'coin':_0x65b3aa[_0x12f6fc(0x336)],'number':_0x65b3aa[_0x12f6fc(0x1c1)],'price':_0x65b3aa[_0x12f6fc(0x2e6)]}),delete _0x65b3aa[_0x12f6fc(0x1c1)],delete _0x65b3aa[_0x12f6fc(0x2e6)];});if(_0x16471f[_0x445a24(0x1cf)]!==0x0)fs[_0x445a24(0x2f2)](configbackuppath+(_0x445a24(0x361)+botID+_0x445a24(0x2e9)),JSON[_0x445a24(0x1f0)](_0x16471f,null,0x4),function(_0x27e7d0){if(_0x27e7d0){}});const _0x55801e=(_0x3aa3a5,_0x19bd2a)=>{const _0x1c4fa2=_0x445a24;let _0x49fc8e=[];_0x19bd2a['forEach'](_0x4c6452=>{const _0x329b52=_0x2e44,_0x467f03=_0x3aa3a5[_0x329b52(0x306)](_0x152630=>_0x152630[_0x329b52(0x336)]==_0x4c6452[_0x329b52(0x336)]);if(!_0x467f03)_0x49fc8e[_0x329b52(0x2b3)](_0x4c6452);});let _0x13186b=[];return _0x3aa3a5[_0x1c4fa2(0x252)](_0x46342b=>{const _0x21e0f8=_0x1c4fa2,_0x3fd409=_0x19bd2a[_0x21e0f8(0x306)](_0x346204=>_0x346204['coin']==_0x46342b[_0x21e0f8(0x336)]);if(!_0x3fd409||_0x3fd409[_0x21e0f8(0x29d)]==0x0&&_0x46342b[_0x21e0f8(0x29d)]!=0x0)_0x13186b[_0x21e0f8(0x2b3)](_0x46342b);}),{'missingDay1':_0x49fc8e,'notInDay2':_0x13186b};},_0x45b139=dbPerformance['get'](_0x445a24(0x2fc))[_0x445a24(0x253)]()[_0x445a24(0x2e1)]();if(_0x45b139[_0x445a24(0x1cf)]>0x1){const {missingDay1:_0x39a115,notInDay2:_0x1be6d2}=_0x55801e(_0x16471f,_0x45b139[0x1][_0x445a24(0x2dc)]);_0x16471f=[..._0x16471f,..._0x39a115],_0x1be6d2['forEach'](_0x4d37d0=>{const _0x33bedb=_0x445a24;let _0x5cf0f5=_0x16471f[_0x33bedb(0x200)](_0x52a847=>_0x52a847['coin']==_0x4d37d0[_0x33bedb(0x336)]);_0x5cf0f5!=-0x1&&_0x16471f[_0x33bedb(0x324)](_0x5cf0f5,0x1);});}_0x16471f[_0x445a24(0x1a1)]((_0x3e8fe1,_0x374c77)=>_0x3e8fe1['coin']>_0x374c77[_0x445a24(0x336)]?0x1:_0x374c77['coin']>_0x3e8fe1['coin']?-0x1:0x0);let _0x319ddf=[{'date':_0x315dd8['startdate'],'changes':_0x16471f}];_0x45b139[_0x445a24(0x1cf)]>0x2&&_0x45b139[_0x445a24(0x252)]((_0x55567b,_0x3cb3a4)=>{const _0x40d4da=_0x445a24;if(_0x3cb3a4>0x0&&_0x3cb3a4<_0x45b139[_0x40d4da(0x1cf)]-0x1){const {missingDay1:_0x50f9e1,notInDay2:_0x59dc72}=_0x55801e(_0x45b139[_0x3cb3a4]['coins'],_0x45b139[_0x3cb3a4+0x1][_0x40d4da(0x2dc)]);_0x16471f=[],(_0x50f9e1['length']!=0x0||_0x59dc72[_0x40d4da(0x1cf)]!=0x0)&&(_0x50f9e1[_0x40d4da(0x1cf)]!=0x0&&_0x16471f[_0x40d4da(0x2b3)](..._0x50f9e1),_0x59dc72['length']!=0x0&&(_0x59dc72[_0x40d4da(0x252)](_0xdb9f41=>{const _0xc04bb0=_0x40d4da;_0xdb9f41[_0xc04bb0(0x29d)]=-_0xdb9f41['number'];}),_0x16471f['push'](..._0x59dc72)),_0x16471f['sort']((_0x3c841b,_0x5d49dd)=>_0x3c841b['coin']>_0x5d49dd['coin']?0x1:_0x5d49dd[_0x40d4da(0x336)]>_0x3c841b['coin']?-0x1:0x0),_0x319ddf[_0x40d4da(0x2b3)]({'date':_0x45b139[_0x3cb3a4+0x1][_0x40d4da(0x1e9)],'changes':_0x16471f}));}}),dbConfig[_0x445a24(0x31c)](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})[_0x445a24(0x308)]({..._0x315dd8,'liquidity':_0x319ddf})[_0x445a24(0x26e)]();}}if(isOlderVersion(_0x5837c4,_0x445a24(0x1b8))){let _0x36a15b=dbConfig['get'](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})[_0x445a24(0x2e1)]();if(_0x36a15b){const _0x2c389d=_0x36a15b['exchange'],_0x5ef908=_0x2c389d?capitalize(_0x2c389d):'Binance';dbConfig[_0x445a24(0x31c)](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})[_0x445a24(0x308)]({'exchange':_0x5ef908})['write']();}}if(isOlderVersion(_0x5837c4,_0x445a24(0x27b))){let _0x43838=dbConfig[_0x445a24(0x31c)](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})['value']();if(_0x43838){const _0x39a554=_0x43838[_0x445a24(0x2a3)],_0x409854=_0x39a554?'marketcap':![];dbConfig[_0x445a24(0x31c)](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})['assign']({'marketcapEnabled':_0x409854})[_0x445a24(0x26e)]();}}if(isOlderVersion(_0x5837c4,_0x445a24(0x22d))){let _0x1cb6e4=dbConfig[_0x445a24(0x31c)](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})[_0x445a24(0x2e1)]();if(_0x1cb6e4){const _0x5e498f=_0x1cb6e4[_0x445a24(0x2a5)],_0x5aec53=_0x5e498f?_0x445a24(0x2af):![];dbConfig[_0x445a24(0x31c)](_0x445a24(0x2a6))[_0x445a24(0x306)]({'botID':botID})[_0x445a24(0x308)]({'autoliquidity':_0x5aec53})[_0x445a24(0x26e)]();}}let _0x16e594=dbPerformance[_0x445a24(0x31c)]('version')[_0x445a24(0x2e1)]();isOlderVersion(_0x16e594,_0x445a24(0x302))&&setStartDatePerformance();let _0x5c1564=dbCoinResults['get'](_0x445a24(0x2f1))[_0x445a24(0x2e1)]();if(isOlderVersion(_0x5c1564,_0x445a24(0x313))){let _0x560d1a=dbCoinResults[_0x445a24(0x31c)](_0x445a24(0x2dc))[_0x445a24(0x2e1)]();if(_0x560d1a[_0x445a24(0x1cf)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x4da18a=_0x24769d;dbConfig[_0x4da18a(0x343)](_0x4da18a(0x2f1),serverversion)[_0x4da18a(0x26e)](),dbPerformance['set'](_0x4da18a(0x2f1),serverversion)[_0x4da18a(0x26e)](),dbLogs[_0x4da18a(0x343)](_0x4da18a(0x2f1),serverversion)[_0x4da18a(0x26e)](),dbCoinResults[_0x4da18a(0x343)](_0x4da18a(0x2f1),serverversion)[_0x4da18a(0x26e)]();}function getConfiguration(_0x2fe96b){const _0xa2aeaf=_0x24769d;let _0x43a921=dbConfig['get'](_0xa2aeaf(0x2a6))[_0xa2aeaf(0x306)]({'botID':_0x2fe96b})['value']();if(_0x43a921){let _0xe8483b=![];typeof _0x43a921['threshold']==_0xa2aeaf(0x22a)&&(_0x43a921={..._0x43a921,'threshold':Number(_0x43a921['threshold'])},_0xe8483b=!![]),_0x43a921['change24h']==undefined&&(_0x43a921={..._0x43a921,'change24h':-0x14},_0xe8483b=!![]),_0x43a921[_0xa2aeaf(0x318)]==undefined&&(_0x43a921={..._0x43a921,'fiat':_0xa2aeaf(0x2fe)},_0xe8483b=!![]),_0x43a921['onepagemode']==undefined&&(_0x43a921={..._0x43a921,'onepagemode':settings[_0xa2aeaf(0x2cd)]},_0xe8483b=!![]),_0x43a921[_0xa2aeaf(0x1e3)]==undefined&&(_0x43a921={..._0x43a921,'colorscheme':_0xa2aeaf(0x2a4)},_0xe8483b=!![]),_0x43a921['autoliquidity']==undefined&&(_0x43a921={..._0x43a921,'autoliquidity':'update-liquidity'},_0xe8483b=!![]),_0x43a921[_0xa2aeaf(0x2cc)]==undefined&&(_0x43a921={..._0x43a921,'marketcapApi':settings['marketcapApi']?!![]:![]},_0xe8483b=!![]),_0x43a921[_0xa2aeaf(0x2a3)]==undefined&&(_0x43a921={..._0x43a921,'marketcapEnabled':![]},_0xe8483b=!![]),_0xe8483b&&(_0x43a921={'botID':_0x43a921['botID'],'exchange':_0x43a921['exchange'],'apiKey':_0x43a921['apiKey'],'apiSecret':_0x43a921[_0xa2aeaf(0x2fa)],'apiPassword':_0x43a921[_0xa2aeaf(0x2e5)],'basecoin':_0x43a921['basecoin'],'botname':_0x43a921[_0xa2aeaf(0x29e)],'showname':_0x43a921[_0xa2aeaf(0x2a1)],'threshold':_0x43a921[_0xa2aeaf(0x207)],'ordertype':_0x43a921[_0xa2aeaf(0x1a7)],'timeout':_0x43a921[_0xa2aeaf(0x365)],'fiat':_0x43a921['fiat'],'startdate':_0x43a921[_0xa2aeaf(0x288)],'recreate':_0x43a921[_0xa2aeaf(0x294)],'timeshift':_0x43a921[_0xa2aeaf(0x364)],'onepagemode':_0x43a921[_0xa2aeaf(0x2cd)],'headless':_0x43a921[_0xa2aeaf(0x1ae)],'cooldown':_0x43a921[_0xa2aeaf(0x27c)],'change24h':_0x43a921['change24h'],'emojibuy':_0x43a921[_0xa2aeaf(0x30d)],'emojisell':_0x43a921[_0xa2aeaf(0x2c0)],'colorscheme':_0x43a921['colorscheme'],'marketcapApi':_0x43a921[_0xa2aeaf(0x2cc)],'marketcapEnabled':_0x43a921[_0xa2aeaf(0x2a3)],'portfolio':_0x43a921[_0xa2aeaf(0x261)],'autoliquidity':_0x43a921[_0xa2aeaf(0x2a5)],'liquidity':_0x43a921[_0xa2aeaf(0x1f6)],'openOrders':_0x43a921['openOrders']},dbConfig[_0xa2aeaf(0x31c)](_0xa2aeaf(0x2a6))['remove']()[_0xa2aeaf(0x26e)](),dbConfig[_0xa2aeaf(0x31c)](_0xa2aeaf(0x2a6))[_0xa2aeaf(0x2b3)](_0x43a921)[_0xa2aeaf(0x26e)]());}else _0x43a921={'botID':_0x2fe96b,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0xa2aeaf(0x221)+_0x2fe96b,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0xa2aeaf(0x364)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0xa2aeaf(0x2a4),'marketcapApi':settings[_0xa2aeaf(0x2cc)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0xa2aeaf(0x2af),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x43a921;}function emittedConfiguration(){const _0x57a387=_0x24769d;let _0xd9c9f;if(config['apiKey']=='')_0xd9c9f={...config,'configstate':'initial'};else config[_0x57a387(0x1a0)]==_0x57a387(0x322)?_0xd9c9f={...config,'configstate':'recovery'}:(_0xd9c9f={...config,'apiKey':_0x57a387(0x2b7),'apiSecret':_0x57a387(0x2b7)},config['apiPassword']&&(_0xd9c9f[_0x57a387(0x2e5)]='************'));return _0xd9c9f[_0x57a387(0x2f9)]=enableFiatToggle,_0xd9c9f;}function getSettings(){const _0xb17adc=_0x24769d;return dbSettings[_0xb17adc(0x31c)]('settings')[_0xb17adc(0x2e1)]();}function getSecure(){const _0x887ac4=_0x24769d;return dbSecure[_0x887ac4(0x31c)](_0x887ac4(0x2b6))[_0x887ac4(0x2e1)]()||{};}function updateTimeshift(_0x2e770c){const _0xe3a0f8=_0x24769d;let _0x2d4db4=dbConfig[_0xe3a0f8(0x31c)](_0xe3a0f8(0x2a6))[_0xe3a0f8(0x306)]({'botID':botID})['value']();_0x2d4db4&&dbConfig[_0xe3a0f8(0x31c)](_0xe3a0f8(0x2a6))['find']({'botID':botID})['assign']({'timeshift':_0x2e770c})[_0xe3a0f8(0x26e)](),config[_0xe3a0f8(0x364)]=_0x2e770c,proxyEmit(_0xe3a0f8(0x235),emittedConfiguration());}function updateOnepagemode(_0x49bc18){const _0x4318ef=_0x24769d;let _0x47b13c=dbConfig[_0x4318ef(0x31c)]('bot')[_0x4318ef(0x306)]({'botID':botID})[_0x4318ef(0x2e1)]();_0x47b13c&&dbConfig['get'](_0x4318ef(0x2a6))[_0x4318ef(0x306)]({'botID':botID})[_0x4318ef(0x308)]({'onepagemode':_0x49bc18})[_0x4318ef(0x26e)](),config[_0x4318ef(0x2cd)]=_0x49bc18,proxyEmit(_0x4318ef(0x235),emittedConfiguration());}function updateMarketcapApi(_0x2f4960){const _0x4eabc5=_0x24769d,_0x2f707c=_0x2f4960?!![]:![];let _0x2f2798=dbConfig['get'](_0x4eabc5(0x2a6))[_0x4eabc5(0x306)]({'botID':botID})['value']();_0x2f2798&&dbConfig[_0x4eabc5(0x31c)](_0x4eabc5(0x2a6))[_0x4eabc5(0x306)]({'botID':botID})['assign']({'marketcapApi':_0x2f707c})['write'](),config[_0x4eabc5(0x2cc)]=_0x2f707c,getMarketCap(),proxyEmit(_0x4eabc5(0x235),emittedConfiguration());}function _0x2037(){const _0x28433b=['<b>Bot\x20','isEqual','\x20(see:\x20hodlerhacks.com/fix/1)','ExchangeNotAvailable','Test\x20API','limit-high','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','set','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Binance','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','memoryUsage','filter','random','existsSync','bb-settings.json','Placing\x20order\x20for:\x20','/backup/','001','initTickers()','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','debug','no\x20open\x20orders','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','<pre>','\x20exchange','Invalid\x20balance\x20for\x20','basecoin','currency','decrypt','toUpperCase','\x20-\x20bot\x20not\x20started','Huobi','switch-manual','\x20value','starting-balance-','TUSD','fees','timeshift','timeout','lowdb','deleteHistoryAlerts','apiKey','sort','slice','axios','add','NetworkError','fee','ordertype','watchOrders()','performance','Set\x20lock\x20orders\x20to:\x20','<b>','test','PAXG','headless','exchange\x20reload','excluded','LOCKED','trade','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','active','fetchTicker','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','-------------------------------\x0a','2.6.0','loading-canceled','Error\x20while\x20deleting\x20files:\x20','buys','1\x20-\x20Validate\x20orders:\x20','\x20API\x20secret\x20is\x20invalid','sortBy','offset','balancing\x20resumed','startnumber','error','progress','Cooldown\x20ended\x20-\x20balancing\x20resumed','indexOf','UNLOCKED','split','getMonth','usd','1\x20-\x20FILLED\x20unknown\x20order:\x20','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','exchanges','bitmex','entries','length','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','1\x20-\x20partially\x20FILLED\x20(','Initiating\x20bot\x20restart','no\x20exchange\x20reloaded','fetchBalance','event','toggleBotMode','eur','sqrt','Headless:\x20','time','cost','placeOrder','freeze','full','Loading\x20completed','\x20:\x20','fetchOpenOrders','date-fns','colorscheme','getFullYear','getHours','exchange','\x20attempts','success','date','yyyy/MM/dd','limit','API-key\x20format\x20invalid','watchTradesForSymbols()','limits','1\x20-\x20Handle\x20open\x20orders','stringify','pki','join','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','bid','sells','liquidity','substring','Unknown\x20error\x20-\x20check\x20logs','password','decode64','26145190hFgaCA','startsWith','RETRY\x20-\x20Error\x20in\x20','realized','./version.json','findIndex','Market','defaults','enabled','toFixed','argv','23kRjtfb','threshold','percentage','max','token\x20is\x20expired','removed','none','log','map','timestamp','pop','RateLimitExceeded','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','(((.+)+)+)+$','%\x20(','storeHeadless','highest','RSA-OAEP','Huobipro','args','\x20>\x20','getMinutes','-results.json','closed','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','fromCodePoint','detectLiquidityChange()','Bot\x20','net-fiat','Error:\x20Invalid\x20argument\x20','\x20order:\x20','24dDpNPZ','change24h','openOrders','kill','yargs/yargs','string','\x20orders\x20in\x20less\x20than\x20','open','2.6.23','PermissionDenied','portfolio2','format','netoffset','Exception\x20thrown\x20in\x20','process\x20','rightTxt','configuration','market','\x20|\x20lock\x20orders:\x20','padStart','\x20network\x20error:\x20','\x20minutes\x20-\x20','final','Cryptocom','ongoing','DDoSProtection','exec','-events.json','Order\x20filled:\x20','balancing\x20resumes\x20when\x20cooldown\x20ends','\x0aSymbol(s):\x20','privateKey','pro','status\x20code\x20401','RequestTimeout','uncaughtException','page','basecoinvalue','Exchange','getPortfolio','coin-loading-progress','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20minutes','unlinkSync','round','forEach','cloneDeep','node-forge','leftTxt','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','function','shift','staging','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','UNLOCKING','2612743YRGPnv','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','symbol','create','2\x20-\x20Handled\x20open\x20orders','portfolio','Net\x20effect','recent20','Limit\x20(low-margin)','EUR','canceled','USDP','last','Resetting\x20coin\x20results:\x20','balances','environment','ETH','sendMetricsTelegram','write','Resetting\x20bot\x20history','getCoinNumber()','BUSD','parse','change','market_cap','includes','cancelLoading','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','buy','97256UMznfg','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','2.6.22','cooldown','added','toLowerCase',')\x20known\x20order:\x20','breakeven','\x20|\x20','padEnd','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','must\x20be\x20greater\x20than\x20minimum\x20amount','marketcap','cancel','-config.json','startdate','USDC','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','side','createWriteStream','InvalidNonce','portfolio1','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','fetchBalance()','Invalid\x20symbol:\x20','orderstatus','BTC','recreate','\x20|\x20exchange:\x20','fetchTickers()','Initializing\x20coin\x20results','\x20portfolio:</b>\x20\x0a\x0a','keys','pid','replace','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','number','botname','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','price','showname','\x20metrics:</b>\x20\x0a\x0a','marketcapEnabled','red_yellow_blue','autoliquidity','bot','request-time','changes','Order\x20amount\x20is\x20invalid:\x20','orderId','delta','Invalid\x20quantity','OnMaintenance','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','update-liquidity','/EUR','\x20|\x20highest\x20fee:\x20','\x20API\x20key\x20is\x20invalid','push','Portfolio\x20change\x20detected:\x20','distribution','secure','************','reverse','storeConfiguration','event-history','createOrder','getDate','storeFiat','Error\x20details:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','emojisell','warning','Trigger:\x20','floor','Error\x20details:','74874YOuTrS','MIN_NOTIONAL','differenceInSeconds','Resuming\x20(','quote','prevnumber','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','marketcapApi','onepagemode','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','2\x20-\x20handling\x20FILLED\x20order:\x20','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','amountToPrecision','USDT',')\x20unknown\x20order:\x20','net-basecoin','\x20>\x20pausing\x20bot\x20for\x20','Bybit','InvalidOrder','datetime','BNB','234UquCKl','abs','coins','filled','ask','\x20has\x20a\x2024h\x20drop\x20of\x20','order','value','initial','constructor','\x20exchange\x20error:\x20','apiPassword','startprice','cancelOrder','2286510HaRlWt','.json','valid','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','sell','./logs/','target','Network\x20error\x20details:','Pausing\x20for\x20','version','writeFile','bots','min','logs','watchOrders','\x20/\x20','ExchangeError','enableFiatToggle','apiSecret','showConfig','data','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','USD','1504176ehezcH','type','has','2.3.5','customId','-performance.json','./config/','find',':\x20timer\x20>','assign','cancelOrders()','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','configuration-stored','AuthenticationError','emojibuy','\x20>\x20details:','util','slider','recovery','placeOrder()','2.5.0','toString','recreateCoinResults()','getSeconds','getStartingBalances','fiat','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','RETRY\x20-\x20Problem\x20resolved\x20after\x20','amount','get','Initializing\x20exchange:\x20already\x20done','bot-','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','send','BNB/','***','536630XAJFNJ','splice','code',',\x20must\x20be\x20a\x203\x20digit\x20number','restart','spot','initclient','configstate','running','ID:\x20','watchTrades','Executed\x20','testApi','getTime','Order(s)\x20not\x20validated\x20after\x20','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','sendPortfolioTelegram','average','remainingSymbols','coin','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','sha256',':\x20Bot\x20'];_0x2037=function(){return _0x28433b;};return _0x2037();}async function storeConfiguration(_0x2c716d){const _0x1c6c53=_0x24769d;logger['debug']('Saving\x20configuration');let _0x54f4bf=![];_0x2c716d[_0x1c6c53(0x32a)]&&(_0x2c716d['configstate']==_0x1c6c53(0x311)&&(_0x54f4bf=!![]),delete _0x2c716d[_0x1c6c53(0x32a)]);if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x5803df=![],_0x4795d1=![],_0x35b811=[];_0x2c716d[_0x1c6c53(0x261)][_0x1c6c53(0x252)](_0x4a1d08=>{const _0x160808=_0x1c6c53;if(!_0x4a1d08['excluded']&&_0x4a1d08[_0x160808(0x336)]!=_0x2c716d[_0x160808(0x359)])_0x35b811[_0x160808(0x2b3)](_0x4a1d08[_0x160808(0x25e)]);}),_0x35b811[_0x1c6c53(0x252)](_0x3e8eea=>{const _0x101271=_0x1c6c53,_0x499849=currentCoins[_0x101271(0x306)](_0x4c62e0=>_0x4c62e0[_0x101271(0x25e)]==_0x3e8eea);!_0x499849&&(_0x5803df=!![]);}),currentCoins[_0x1c6c53(0x252)](_0x42c843=>{const _0x839602=_0x1c6c53;if(_0x42c843['coin']!=config['basecoin']){const _0x55a29d=_0x35b811[_0x839602(0x306)](_0x304180=>_0x304180==_0x42c843[_0x839602(0x25e)]);!_0x55a29d&&(_0x5803df=!![]);}}),_0x2c716d[_0x1c6c53(0x261)][_0x1c6c53(0x252)](_0x9eb5d1=>{const _0x58ac9c=_0x1c6c53,_0x244f7d=config[_0x58ac9c(0x261)][_0x58ac9c(0x306)](_0x4c21cd=>_0x4c21cd[_0x58ac9c(0x336)]==_0x9eb5d1[_0x58ac9c(0x336)]);if(_0x244f7d&&_0x9eb5d1[_0x58ac9c(0x1bf)]!=_0x244f7d[_0x58ac9c(0x1bf)])_0x4795d1=!![];});let _0x3a9d6f=dbConfig['get'](_0x1c6c53(0x2a6))['find']({'botID':botID})[_0x1c6c53(0x2e1)]();_0x2c716d={..._0x2c716d,'apiKey':decryptRSA(secure['privateKey'],_0x2c716d[_0x1c6c53(0x1a0)]),'apiSecret':decryptRSA(secure[_0x1c6c53(0x244)],_0x2c716d[_0x1c6c53(0x2fa)])};_0x2c716d[_0x1c6c53(0x2e5)]&&(_0x2c716d[_0x1c6c53(0x2e5)]=decryptRSA(secure['privateKey'],_0x2c716d[_0x1c6c53(0x2e5)]));let _0x2f72ea=![];if(_0x3a9d6f){_0x2c716d[_0x1c6c53(0x1a0)]==_0x1c6c53(0x2b7)?_0x2c716d[_0x1c6c53(0x1a0)]=config[_0x1c6c53(0x1a0)]:_0x2f72ea=!![];_0x2c716d['apiSecret']==_0x1c6c53(0x2b7)?_0x2c716d[_0x1c6c53(0x2fa)]=config[_0x1c6c53(0x2fa)]:_0x2f72ea=!![];if(_0x2c716d['apiPassword']==_0x1c6c53(0x2b7))_0x2c716d['apiPassword']=config[_0x1c6c53(0x2e5)];else{if(_0x2c716d[_0x1c6c53(0x2e5)])_0x2f72ea=!![];}dbConfig['get'](_0x1c6c53(0x2a6))[_0x1c6c53(0x306)]({'botID':botID})[_0x1c6c53(0x308)](_0x2c716d)[_0x1c6c53(0x26e)]();}else dbConfig[_0x1c6c53(0x31c)](_0x1c6c53(0x2a6))[_0x1c6c53(0x2b3)](_0x2c716d)[_0x1c6c53(0x26e)](),_0x2f72ea=!![],process['send']({'status':_0x1c6c53(0x203),'live':_0x1c6c53(0x32b)},_0x36f7d4=>{});process['send']({'botname':_0x2c716d[_0x1c6c53(0x29e)]},_0x1aff97=>{}),config={..._0x2c716d},updateBotManager(),proxyEmit(_0x1c6c53(0x30b)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x2f72ea)!_0x3a9d6f||_0x54f4bf?await reset(!![]):getBalances();else _0x5803df||_0x4795d1?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x5e0aeb){const _0x182c6e=_0x24769d,_0x395ac4={...config,'headless':_0x5e0aeb[_0x182c6e(0x1ae)]};let _0x12c963=dbConfig[_0x182c6e(0x31c)](_0x182c6e(0x2a6))[_0x182c6e(0x306)]({'botID':botID})[_0x182c6e(0x2e1)]();_0x12c963&&dbConfig[_0x182c6e(0x31c)](_0x182c6e(0x2a6))['find']({'botID':botID})[_0x182c6e(0x308)](_0x395ac4)[_0x182c6e(0x26e)](),config={..._0x395ac4},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x465970){const _0x42f6fb=_0x24769d,_0x3c9ea6={...config,'fiat':_0x465970};let _0x5b5fe7=dbConfig[_0x42f6fb(0x31c)](_0x42f6fb(0x2a6))[_0x42f6fb(0x306)]({'botID':botID})[_0x42f6fb(0x2e1)]();_0x5b5fe7&&dbConfig[_0x42f6fb(0x31c)](_0x42f6fb(0x2a6))[_0x42f6fb(0x306)]({'botID':botID})['assign'](_0x3c9ea6)['write'](),config={..._0x3c9ea6},proxyEmit(_0x42f6fb(0x235),emittedConfiguration());}function resetHistory(){const _0x40e125=_0x24769d;logger[_0x40e125(0x1de)](_0x40e125(0x26f));try{if(fs[_0x40e125(0x34c)](path[_0x40e125(0x1f2)](configpath,_0x40e125(0x31e)+botID+'-events.json')))fs[_0x40e125(0x250)](path['join'](configpath,'bot-'+botID+_0x40e125(0x240)));if(fs[_0x40e125(0x34c)](path[_0x40e125(0x1f2)](configpath,_0x40e125(0x31e)+botID+_0x40e125(0x304))))fs[_0x40e125(0x250)](path[_0x40e125(0x1f2)](configpath,_0x40e125(0x31e)+botID+'-performance.json'));if(fs[_0x40e125(0x34c)](path[_0x40e125(0x1f2)](configpath,_0x40e125(0x31e)+botID+_0x40e125(0x21c))))fs[_0x40e125(0x250)](path[_0x40e125(0x1f2)](configpath,_0x40e125(0x31e)+botID+'-results.json'));}catch(_0x1be836){if(_0x1be836)logger['full'](_0x40e125(0x1ba),_0x1be836);}const _0x14786e=getDate();let _0x21f3d6=[];currentCoins[_0x40e125(0x252)](_0x3704f5=>{const _0xd68e72=_0x40e125;_0x21f3d6[_0xd68e72(0x2b3)]({'coin':_0x3704f5[_0xd68e72(0x336)],'number':_0x3704f5[_0xd68e72(0x29d)],'price':_0x3704f5[_0xd68e72(0x268)]});});let _0x53bc84=dbConfig[_0x40e125(0x31c)](_0x40e125(0x2a6))[_0x40e125(0x306)]({'botID':botID})[_0x40e125(0x2e1)]();_0x53bc84&&(dbConfig['get'](_0x40e125(0x2a6))[_0x40e125(0x306)]({'botID':botID})[_0x40e125(0x308)]({'liquidity':[{'date':_0x14786e,'changes':_0x21f3d6}]})['write'](),config[_0x40e125(0x1f6)]=[]),restartBot(!![]);}function noslash(_0x473a08){const _0x34ca44=_0x24769d;return _0x473a08[_0x34ca44(0x29b)]('/','');}function updateHighestFee(_0x10e250){const _0x230b83=_0x24769d;if(_0x10e250[_0x230b83(0x2b8)]){let _0x558770={'filled':_0x10e250[_0x230b83(0x2dd)]*_0x10e250[_0x230b83(0x2a0)],'amount':_0x10e250['filled']*_0x10e250[_0x230b83(0x2a0)],'side':_0x10e250['side']==_0x230b83(0x2ec)?_0x230b83(0x278):'sell','price':0x1/_0x10e250['price']};_0x10e250={..._0x10e250,..._0x558770};}const _0x11b892=defaultFee*_0x10e250['filled']*_0x10e250['price'];lastFees[_0x230b83(0x263)][_0x230b83(0x1cf)]===0x14&&lastFees['recent20'][_0x230b83(0x258)](),lastFees[_0x230b83(0x263)][_0x230b83(0x2b3)](_0x11b892),lastFees[_0x230b83(0x216)]=Math[_0x230b83(0x209)](...lastFees[_0x230b83(0x263)]);}async function updateNumberCoinsCcxt(_0x165e81){const _0x15f7a2=_0x24769d;logger[_0x15f7a2(0x353)]('0\x20-\x20EXECUTION:\x20'+_0x165e81[_0x15f7a2(0x25e)]+'\x20|\x20'+_0x165e81['status']+_0x15f7a2(0x281)+_0x165e81['filled']+_0x15f7a2(0x2f7)+_0x165e81['amount']+_0x15f7a2(0x281)+_0x165e81['id']);let _0x2a6fca=_0x165e81['status'],_0x307c54=![];currentCoins[_0x15f7a2(0x252)](_0x481af2=>{const _0x4d01d4=_0x15f7a2;_0x481af2[_0x4d01d4(0x25e)]==_0x165e81[_0x4d01d4(0x25e)]&&(_0x307c54=!![]);});if(!_0x307c54)return;const _0x2cb29f=currentCoins[_0x15f7a2(0x306)](_0x3de505=>_0x3de505[_0x15f7a2(0x25e)]==_0x165e81['symbol']),_0x2f51f4=_0x2cb29f[_0x15f7a2(0x336)],_0x8a2c7d=_0x40a8b4=>{const _0x8cb5c=_0x15f7a2,_0x29bb56=currentCoins[_0x8cb5c(0x306)](_0xcac544=>_0xcac544[_0x8cb5c(0x25e)]==_0x165e81[_0x8cb5c(0x25e)]);if(_0x29bb56)_0x29bb56[_0x8cb5c(0x292)]=_0x40a8b4;};let _0x3a8f49=![];for(const _0x2e282a of lastOrders){const _0x214953=0x64,_0x20e3e0=0x1388;let _0xb73bec=0x0;while(!_0x2e282a[_0x15f7a2(0x2aa)]&&_0xb73bec*_0x214953<_0x20e3e0){_0xb73bec++,await sleep(_0x214953);}if(_0xb73bec>0x0)logger[_0x15f7a2(0x353)]('Waited\x20'+_0xb73bec*_0x214953/0x3e8+_0x15f7a2(0x344));_0x2e282a['orderId']==_0x165e81['id']&&(_0x3a8f49=!![]);}if(_0x2a6fca=='open'){_0x8a2c7d(_0x15f7a2(0x22c));if(_0x165e81[_0x15f7a2(0x2dd)]>0x0&&_0x165e81[_0x15f7a2(0x2dd)]<_0x165e81[_0x15f7a2(0x31b)]){if(_0x3a8f49){setBlockTransactionDetection(!![]),logger[_0x15f7a2(0x353)](_0x15f7a2(0x1d1)+_0x165e81[_0x15f7a2(0x2dd)]+_0x15f7a2(0x27f)+_0x165e81['id']);const _0x215083=await getCoins(balanceUpdateDelay,undefined,undefined,_0x2f51f4);[currentCoins,currentCoinsAll]=_0x215083,setBlockTransactionDetection(![]);}else logger[_0x15f7a2(0x353)]('1\x20-\x20partially\x20FILLED\x20('+_0x165e81[_0x15f7a2(0x2dd)]+_0x15f7a2(0x2d3)+_0x165e81['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x2a6fca=='canceled'){_0x8a2c7d(_0x15f7a2(0x266)),lastOrders=lastOrders[_0x15f7a2(0x34a)](_0x304bf5=>_0x304bf5[_0x15f7a2(0x25e)]!=_0x165e81['symbol']);const _0xe73b98=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xe73b98,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x2a6fca=='closed'){if(lastOrders)for(const _0x11821e of lastOrders){if(_0x11821e['orderId']==_0x165e81['id']){logger[_0x15f7a2(0x353)]('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x165e81['id']),_0x3a8f49=!![];if(_0x11821e['filled']==0x0){setBlockTransactionDetection(!![]),logger[_0x15f7a2(0x353)](_0x15f7a2(0x2cf)+_0x165e81['id']);if(_0x165e81[_0x15f7a2(0x334)])_0x11821e['price']=_0x165e81[_0x15f7a2(0x334)];else{if(_0x165e81[_0x15f7a2(0x2a0)])_0x11821e[_0x15f7a2(0x2a0)]=_0x165e81[_0x15f7a2(0x2a0)];else{}}_0x11821e[_0x15f7a2(0x2dd)]=_0x165e81[_0x15f7a2(0x2dd)],updateHighestFee(_0x11821e);const _0x5890f5=await getCoins(balanceUpdateDelay,undefined,undefined,_0x2f51f4);[currentCoins,currentCoinsAll]=_0x5890f5,setBlockTransactionDetection(![]),await validateOrders(),_0x8a2c7d(_0x15f7a2(0x2dd)),_0x11821e[_0x15f7a2(0x1a6)]={'currency':_0x165e81[_0x15f7a2(0x1a6)]?_0x165e81[_0x15f7a2(0x1a6)][_0x15f7a2(0x35a)]:null,'cost':_0x165e81[_0x15f7a2(0x1a6)]?_0x165e81[_0x15f7a2(0x1a6)][_0x15f7a2(0x1db)]:0x0},await updateCoinResults(_0x11821e);}}}!_0x3a8f49&&(logger['debug'](_0x15f7a2(0x1ca)+_0x165e81['id']),_0x8a2c7d(_0x15f7a2(0x2dd)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x559129=JSON['parse'](lastBalances[_0x15f7a2(0x261)]);const _0x5ecfb2=_0x559129[_0x15f7a2(0x306)](_0x47fa9d=>_0x47fa9d[_0x15f7a2(0x25e)]==_0x165e81['symbol']);if(_0x5ecfb2){if(_0x2a6fca==_0x15f7a2(0x22c))_0x5ecfb2[_0x15f7a2(0x292)]=_0x5ecfb2[_0x15f7a2(0x292)]==_0x15f7a2(0x2dd)?_0x15f7a2(0x2dd):_0x15f7a2(0x22c);else{if(_0x2a6fca=='canceled')_0x5ecfb2['orderstatus']=_0x5ecfb2[_0x15f7a2(0x292)]==_0x15f7a2(0x2dd)?'filled':_0x15f7a2(0x266);else _0x2a6fca==_0x15f7a2(0x21d)&&(_0x5ecfb2['orderstatus']=_0x15f7a2(0x2dd));}}lastBalances={...lastBalances,'portfolio':JSON[_0x15f7a2(0x1f0)](_0x559129)},proxyEmit(_0x15f7a2(0x26a),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x101e0c=_0x24769d;await getOpenOrders();let _0x237eef=![];currentCoins[_0x101e0c(0x252)](_0x1d2501=>{const _0x112451=_0x101e0c;_0x237eef=allOpenOrders[_0x112451(0x306)](_0x17a6e9=>_0x17a6e9[_0x112451(0x25e)]==_0x1d2501['symbol']),_0x1d2501['orderstatus']=_0x237eef?_0x112451(0x22c):_0x112451(0x20c);});}async function fetchBalance(_0x39d102=!![]){const _0x3eaece=_0x24769d;let _0xcd4fe8,_0x140cf4;try{return _0xcd4fe8=await exchange[_0x3eaece(0x1d4)](),_0x140cf4=_0xcd4fe8['total'],_0x140cf4;}catch(_0x53a430){return!_0x39d102?handleErrorNoStop(_0x53a430,'fetchBalance()'):await handleError(_0x53a430,_0x3eaece(0x290)),![];}}async function getCoins(_0x1a6835=0x0,_0x429f6f=!![],_0x905d30=config[_0x24769d(0x359)],_0x4a9f56){const _0x17d6ea=_0x24769d;let _0x18a490=[],_0x1257df=[],_0x708ffb=[],_0x3214e8;if(_0x1a6835)await sleep(_0x1a6835);if(botPaused)return[currentCoins,currentCoinsAll];let _0x192646=![],_0x4ebb68=0x0,_0x1096e2,_0xce5d7a;_0x4a9f56&&(_0x1096e2=currentCoins['find'](_0x568c79=>_0x568c79['coin']==_0x4a9f56),_0x1096e2&&(_0xce5d7a=_0x1096e2[_0x17d6ea(0x2ca)],delete _0x1096e2['prevnumber']));while(!_0x192646){_0x3214e8=await fetchBalance(_0x429f6f);if(_0x3214e8){if(_0x4a9f56){if(_0x3214e8[_0x4a9f56]!=_0xce5d7a)logger[_0x17d6ea(0x353)]('Valid\x20balance\x20for\x20'+_0x4a9f56+':\x20'+_0x3214e8[_0x4a9f56]+'\x20('+_0xce5d7a+')'),_0x192646=!![];else{logger[_0x17d6ea(0x353)](_0x17d6ea(0x358)+_0x4a9f56+':\x20'+_0x3214e8[_0x4a9f56]+'\x20('+_0xce5d7a+')'),_0x4ebb68++;if(_0x4ebb68<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x17d6ea(0x353)]('Stopped\x20fetching\x20balance\x20after\x20'+_0x4ebb68+'\x20attempts');break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x5c3562,_0x3dbabb]of Object[_0x17d6ea(0x1ce)](_0x3214e8)){_0x708ffb[_0x17d6ea(0x2b3)](_0x5c3562);}config[_0x17d6ea(0x261)]['forEach'](_0x4b0c90=>{const _0x5052db=_0x17d6ea;!_0x708ffb['includes'](_0x4b0c90[_0x5052db(0x336)])&&(_0x3214e8[_0x4b0c90[_0x5052db(0x336)]]=0x0);});if(_0x905d30=='')for(const [_0x5e1530,_0x5f49fb]of Object[_0x17d6ea(0x1ce)](_0x3214e8)){_0x5f49fb!=0x0&&_0x18a490[_0x17d6ea(0x2b3)]({'coin':_0x5e1530});}else for(const [_0x411c25,_0x40fd2a]of Object[_0x17d6ea(0x1ce)](_0x3214e8)){const _0x762e15=config['portfolio'][_0x17d6ea(0x306)](_0xe675e6=>_0xe675e6[_0x17d6ea(0x336)]==_0x411c25),_0x5de482=_0x411c25+'/'+_0x905d30,_0x197479=_0x905d30+'/'+_0x411c25,_0x515b40=currentCoins[_0x17d6ea(0x306)](_0x2ff0c1=>_0x2ff0c1[_0x17d6ea(0x336)]==_0x411c25);if((_0x40fd2a!=0x0||_0x762e15)&&(allSymbols['includes'](_0x5de482)||_0x411c25==_0x905d30))_0x515b40?_0x18a490[_0x17d6ea(0x2b3)]({..._0x515b40,'number':Math[_0x17d6ea(0x209)](_0x40fd2a+(_0x762e15&&_0x762e15['offset']||0x0),0x0)}):_0x18a490[_0x17d6ea(0x2b3)]({'coin':_0x411c25,'symbol':_0x5de482,'reverse':![],'number':Math[_0x17d6ea(0x209)](_0x40fd2a+(_0x762e15&&_0x762e15[_0x17d6ea(0x1bf)]||0x0),0x0),'orderstatus':_0x17d6ea(0x20c)});else{if((_0x40fd2a!=0x0||_0x762e15)&&allSymbols[_0x17d6ea(0x275)](_0x197479))_0x515b40?_0x18a490[_0x17d6ea(0x2b3)]({..._0x515b40,'number':Math[_0x17d6ea(0x209)](_0x40fd2a+(_0x762e15&&_0x762e15['offset']||0x0),0x0)}):_0x18a490[_0x17d6ea(0x2b3)]({'coin':_0x411c25,'symbol':_0x197479,'reverse':!![],'number':Math['max'](_0x40fd2a+(_0x762e15&&_0x762e15[_0x17d6ea(0x1bf)]||0x0),0x0),'orderstatus':_0x17d6ea(0x20c)});else _0x762e15&&_0x18a490[_0x17d6ea(0x2b3)]({'coin':_0x762e15['coin'],'symbol':_0x762e15[_0x17d6ea(0x25e)],'reverse':_0x762e15[_0x17d6ea(0x2b8)],'number':0x0,'orderstatus':_0x17d6ea(0x20c)});}}return _0x18a490[_0x17d6ea(0x1a1)]((_0x5914e0,_0x243bb6)=>_0x5914e0[_0x17d6ea(0x2ab)]<_0x243bb6[_0x17d6ea(0x2ab)]?0x1:_0x243bb6[_0x17d6ea(0x2ab)]<_0x5914e0[_0x17d6ea(0x2ab)]?-0x1:0x0),_0x1257df=cloneDeep(_0x18a490),_0x18a490=_0x18a490[_0x17d6ea(0x34a)](_0x49755c=>{const _0x3936b1=_0x17d6ea,_0x30fb99=config[_0x3936b1(0x261)]['find'](_0x5d402a=>_0x5d402a[_0x3936b1(0x336)]==_0x49755c[_0x3936b1(0x336)]);return _0x30fb99&&!_0x30fb99[_0x3936b1(0x1b0)];}),[_0x18a490,_0x1257df];}async function getCoinNumber(_0x4ec952){const _0x28e0c9=_0x24769d;let _0x3d1d2b;try{const _0x3d908c=await exchange['fetchBalance']();_0x3d1d2b=_0x3d908c['total'][_0x4ec952];}catch(_0x7a78cd){await handleError(_0x7a78cd,_0x28e0c9(0x270));}return _0x3d1d2b;}async function getOpenOrders(){const _0x58a515=_0x24769d;let _0x35b523;allOpenOrders=[];try{for(const _0x39f69a of config[_0x58a515(0x261)]){!_0x39f69a[_0x58a515(0x1b0)]&&_0x39f69a[_0x58a515(0x336)]!=config['basecoin']&&(_0x35b523=await exchange[_0x58a515(0x1e1)](_0x39f69a[_0x58a515(0x25e)]),_0x35b523[_0x58a515(0x1cf)]>0x0&&allOpenOrders['push'](_0x35b523[0x0]));}}catch(_0x1c2872){await handleError(_0x1c2872,'getOpenOrders()');}}async function handleOpenOrders(_0x3d9d10=0x0){const _0x5f13b9=_0x24769d;allOpenOrders[_0x5f13b9(0x1cf)]==0x0&&lockOrders==ORDERS[_0x5f13b9(0x1b1)]&&allOrdersPlaced&&(_0x3d9d10==0x0?(logger[_0x5f13b9(0x353)](_0x5f13b9(0x1ef)),_0x3d9d10++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x5f13b9(0x353)](_0x5f13b9(0x260)),validateOrders(_0x5f13b9(0x354))));}async function testAPI(_0x3e86ab){const _0x2ffe74=_0x24769d;logger['debug'](_0x2ffe74(0x340));const _0x1b59a7=ccxt[_0x2ffe74(0x245)][_0x3e86ab[_0x2ffe74(0x1e6)][_0x2ffe74(0x27e)]()],_0x581d6b=new _0x1b59a7({'apiKey':_0x3e86ab[_0x2ffe74(0x1a0)],'secret':_0x3e86ab['apiSecret'],'options':{'defaultType':_0x2ffe74(0x328)}});if(_0x3e86ab[_0x2ffe74(0x2e5)])_0x581d6b[_0x2ffe74(0x1f9)]=_0x3e86ab[_0x2ffe74(0x2e5)];try{await _0x581d6b[_0x2ffe74(0x1d4)]();}catch(_0x58e119){logger[_0x2ffe74(0x353)]('Error\x20in\x20testAPI():\x20'+_0x58e119[_0x2ffe74(0x314)]());throw _0x58e119;}}function cloneDeep(_0x33417f){const _0x1062c0=_0x24769d;return JSON[_0x1062c0(0x272)](JSON[_0x1062c0(0x1f0)](_0x33417f));}async function getPortfolio(_0x4edba5){const _0x1cf018=_0x24769d;let _0x319087=[],_0x1018f1=[],_0x2de94d=[],_0x303866;_0x4edba5[_0x1cf018(0x1a0)]=decryptRSA(secure['privateKey'],_0x4edba5['apiKey']),_0x4edba5[_0x1cf018(0x2fa)]=decryptRSA(secure['privateKey'],_0x4edba5[_0x1cf018(0x2fa)]);if(_0x4edba5[_0x1cf018(0x2e5)])_0x4edba5[_0x1cf018(0x2e5)]=decryptRSA(secure['privateKey'],_0x4edba5['apiPassword']);if(_0x4edba5[_0x1cf018(0x1a0)]!==_0x1cf018(0x2b7)||_0x4edba5['apiSecret']!==_0x1cf018(0x2b7)||_0x4edba5['apiPassword']&&_0x4edba5[_0x1cf018(0x2e5)]!==_0x1cf018(0x2b7)){if(config[_0x1cf018(0x1e6)]){if(_0x4edba5[_0x1cf018(0x1a0)]==_0x1cf018(0x2b7))_0x4edba5[_0x1cf018(0x1a0)]=config['apiKey'];if(_0x4edba5['apiSecret']==_0x1cf018(0x2b7))_0x4edba5['apiSecret']=config[_0x1cf018(0x2fa)];if(_0x4edba5[_0x1cf018(0x2e5)]==_0x1cf018(0x2b7))_0x4edba5['apiPassword']=config['apiPassword'];}try{if(_0x4edba5[_0x1cf018(0x32f)])await testAPI(_0x4edba5);}catch(_0x2fd5c3){if(_0x2fd5c3[_0x1cf018(0x314)]()[_0x1cf018(0x275)](_0x1cf018(0x30c))){logHistory(_0x1cf018(0x1c2),'Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x1cf018(0x1c2),_0x1cf018(0x2be)+_0x2fd5c3[_0x1cf018(0x314)]()),proxyEmit(_0x1cf018(0x28e),![]);return;}else{if(_0x2fd5c3['toString']()[_0x1cf018(0x275)](_0x1cf018(0x22e))){logHistory('error',_0x1cf018(0x24e)),logHistory(_0x1cf018(0x1c2),_0x1cf018(0x2be)+_0x2fd5c3['toString']()),proxyEmit(_0x1cf018(0x28e),![]);return;}else{logHistory(_0x1cf018(0x1c2),'Error\x20occurred:\x20'+_0x2fd5c3['toString']()),logger[_0x1cf018(0x353)]('Error\x20details:',_0x2fd5c3),proxyEmit('portfolio1',![]);return;}}}exchange?updateExchange(_0x4edba5[_0x1cf018(0x1a0)],_0x4edba5[_0x1cf018(0x2fa)],_0x4edba5[_0x1cf018(0x2e5)]):await initExchange(_0x4edba5['exchange'],_0x4edba5[_0x1cf018(0x1a0)],_0x4edba5[_0x1cf018(0x2fa)],_0x4edba5[_0x1cf018(0x2e5)]);await loadSymbols();const _0x3a0c88=await getCoins(0x0,![],_0x4edba5[_0x1cf018(0x359)]);_0x2de94d=cloneDeep(_0x3a0c88[0x1]);}else{const _0x5c63bd=await getCoins();_0x2de94d=cloneDeep(_0x5c63bd[0x1]);}if(_0x4edba5[_0x1cf018(0x359)]=='')proxyEmit(_0x1cf018(0x28e),!![]),proxyEmit(_0x1cf018(0x22f),_0x2de94d);else{_0x2de94d['forEach'](_0x166dc9=>{const _0x4f3fb7=_0x1cf018;if(_0x166dc9['coin']!=_0x4edba5[_0x4f3fb7(0x359)]&&allSymbols[_0x4f3fb7(0x275)](_0x166dc9[_0x4f3fb7(0x25e)]))_0x319087['push'](_0x166dc9[_0x4f3fb7(0x25e)]);});if(_0x319087[_0x1cf018(0x1cf)]==0x0)logHistory(_0x1cf018(0x1c2),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x1018f1=await getTickers(_0x319087);}catch(_0x389485){logHistory(_0x1cf018(0x1c2),_0x1cf018(0x1f8)),logger[_0x1cf018(0x353)](_0x1cf018(0x2c4),_0x389485),proxyEmit(_0x1cf018(0x28e),![]);return;}_0x2de94d[_0x1cf018(0x252)](_0x3d5b49=>{const _0x45b899=_0x1cf018;_0x3d5b49['coin']!=_0x4edba5['basecoin']?_0x1018f1[_0x3d5b49[_0x45b899(0x25e)]]?_0x303866=_0x3d5b49[_0x45b899(0x2b8)]?0x1/_0x1018f1[_0x3d5b49[_0x45b899(0x25e)]][_0x45b899(0x268)]:_0x1018f1[_0x3d5b49['symbol']][_0x45b899(0x268)]:_0x303866=0x0:_0x303866=0x1,_0x3d5b49[_0x45b899(0x2a0)]=formatResult(_0x303866,0x8);}),await getMarketCap(_0x2de94d),proxyEmit(_0x1cf018(0x28e),!![]),proxyEmit(_0x1cf018(0x22f),_0x2de94d);}}}function truncateTradeAmount(_0x2d7a9e,_0x3cf25b){const _0x333c20=_0x24769d;let _0x24c965=0x0;try{_0x24c965=exchange[_0x333c20(0x2d1)](_0x2d7a9e,_0x3cf25b);}catch(_0x4ccd08){}return _0x24c965;}function checkMinimums(_0x1f719c){const _0x571df4=_0x24769d;let _0x57ef11=!![];const _0x6645ae=!_0x1f719c[_0x571df4(0x2b8)]?markets[_0x1f719c[_0x571df4(0x25e)]][_0x571df4(0x1ee)][_0x571df4(0x31b)]['min']:markets[_0x1f719c[_0x571df4(0x25e)]][_0x571df4(0x1ee)][_0x571df4(0x1db)]['min'],_0x146cdb=!_0x1f719c[_0x571df4(0x2b8)]?markets[_0x1f719c[_0x571df4(0x25e)]][_0x571df4(0x1ee)][_0x571df4(0x1db)][_0x571df4(0x2f4)]:markets[_0x1f719c[_0x571df4(0x25e)]]['limits'][_0x571df4(0x31b)][_0x571df4(0x2f4)],_0x364516=truncateTradeAmount(_0x1f719c[_0x571df4(0x25e)],_0x1f719c[_0x571df4(0x1b2)]);_0x1f719c[_0x571df4(0x1b2)]=_0x364516;if(Math[_0x571df4(0x2db)](_0x364516)<_0x6645ae)_0x57ef11=![];if(Math['abs'](_0x364516)*_0x1f719c[_0x571df4(0x268)]<_0x146cdb)_0x57ef11=![];if(_0x1f719c[_0x571df4(0x28b)]==_0x571df4(0x2ec)){let _0x2b50ae=config[_0x571df4(0x261)][_0x571df4(0x306)](_0xc309a8=>_0xc309a8['coin']==_0x1f719c['coin']);if(_0x2b50ae['offset']>0x0){if(Math['abs'](_0x364516)>_0x1f719c['number']-_0x2b50ae['offset'])_0x57ef11=![];}else{if(Math[_0x571df4(0x2db)](_0x364516)>_0x1f719c[_0x571df4(0x29d)])_0x57ef11=![];}}if(_0x1f719c[_0x571df4(0x28b)]==_0x571df4(0x278)){let _0x4c48ff=config['portfolio'][_0x571df4(0x306)](_0x9ee61d=>_0x9ee61d[_0x571df4(0x336)]==config[_0x571df4(0x359)]),_0x3a56b7=currentCoins[_0x571df4(0x306)](_0x18918d=>_0x18918d['coin']==config[_0x571df4(0x359)]);if(_0x4c48ff[_0x571df4(0x1bf)]>0x0){if(Math[_0x571df4(0x2db)](_0x364516)*_0x1f719c[_0x571df4(0x268)]>_0x3a56b7[_0x571df4(0x29d)]-_0x4c48ff[_0x571df4(0x1bf)])_0x57ef11=![];}else{if(Math[_0x571df4(0x2db)](_0x364516)*_0x1f719c[_0x571df4(0x268)]>_0x3a56b7[_0x571df4(0x29d)])_0x57ef11=![];}}return _0x57ef11;}async function getBalances(_0x2aa502=!![]){const _0x546dae=_0x24769d;if(botPaused)return;let _0x14cd97=0x0,_0x1befa5;const _0x70f7ba=config[_0x546dae(0x207)];if(config[_0x546dae(0x1ae)]&&config[_0x546dae(0x226)]<0x0)await validate24hChanges();currentCoins[_0x546dae(0x252)](_0x220796=>{const _0x1056d5=_0x546dae;if(_0x220796[_0x1056d5(0x336)]!=config[_0x1056d5(0x359)]){let _0x3010aa=gTicker[noslash(_0x220796[_0x1056d5(0x25e)])];_0x1befa5=_0x220796[_0x1056d5(0x2b8)]?0x1/_0x3010aa:_0x3010aa;}else _0x1befa5=0x1;let _0x8805f3=_0x220796[_0x1056d5(0x29d)]*_0x1befa5;_0x14cd97+=_0x8805f3,_0x220796[_0x1056d5(0x268)]=formatResult(Number(_0x1befa5),0x8),_0x220796[_0x1056d5(0x2e1)]=_0x8805f3;}),currentCoins[_0x546dae(0x252)](_0x51fce7=>{const _0x519405=_0x546dae;let _0x15340a=config[_0x519405(0x261)][_0x519405(0x306)](_0x1e16cb=>_0x1e16cb[_0x519405(0x336)]==_0x51fce7[_0x519405(0x336)]),_0x2ad8c2=Number(_0x15340a[_0x519405(0x2b5)]),_0x103ce4=_0x51fce7[_0x519405(0x2e1)]/_0x14cd97*0x64,_0x558814=_0x2ad8c2*_0x14cd97/0x64/_0x51fce7[_0x519405(0x268)]-_0x51fce7[_0x519405(0x29d)];_0x51fce7[_0x519405(0x2b5)]=formatResult(_0x103ce4,0x3),_0x51fce7[_0x519405(0x2ee)]=formatResult(_0x2ad8c2,0x3),_0x51fce7[_0x519405(0x1b2)]=formatResult(_0x558814,0x8),_0x51fce7[_0x519405(0x28b)]='',_0x51fce7[_0x519405(0x2ea)]=![];if(_0x51fce7['coin']!=config[_0x519405(0x359)]){if(_0x51fce7['distribution']>_0x2ad8c2)_0x51fce7[_0x519405(0x28b)]=_0x519405(0x2ec),_0x51fce7[_0x519405(0x2ea)]=checkMinimums(_0x51fce7);else _0x51fce7['distribution']<_0x2ad8c2&&(_0x51fce7[_0x519405(0x28b)]=_0x519405(0x278),_0x51fce7[_0x519405(0x2ea)]=checkMinimums(_0x51fce7));}_0x51fce7[_0x519405(0x2ab)]=_0x51fce7[_0x519405(0x2b5)]/_0x51fce7[_0x519405(0x2ee)]-0x1;if(_0x51fce7[_0x519405(0x292)]=='filled'||_0x51fce7[_0x519405(0x292)]==_0x519405(0x266))_0x51fce7['orderstatus']=_0x519405(0x20c);}),currentCoins[_0x546dae(0x1a1)]((_0x5cd158,_0x5f09e1)=>_0x5cd158[_0x546dae(0x2ab)]<_0x5f09e1['delta']?0x1:_0x5f09e1[_0x546dae(0x2ab)]<_0x5cd158['delta']?-0x1:0x0);const _0x7ef42b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x7ef42b[_0x546dae(0x1d7)],'usd':_0x7ef42b[_0x546dae(0x1c9)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x70f7ba},proxyEmit(_0x546dae(0x26a),{'serverversion':serverversion,'balances':lastBalances});if(_0x2aa502){if(config[_0x546dae(0x1ae)])headlessMode({'portfolio':currentCoins,'threshold':_0x70f7ba});else lockOrders==ORDERS[_0x546dae(0x1c6)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x70f7ba});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x3402e1=getNormalizedPerformance();getStartingBalances(_0x3402e1),emitPerformance(_0x3402e1);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5d22e5=_0x24769d;if(!lastBalances)return;let _0x9047ea=[],_0x4bce0d,_0x4e19a4=JSON[_0x5d22e5(0x272)](lastBalances['portfolio']);_0x4e19a4[_0x5d22e5(0x1a1)]((_0x96d4ca,_0x5e6ec2)=>_0x96d4ca[_0x5d22e5(0x336)]>_0x5e6ec2['coin']?0x1:_0x5e6ec2[_0x5d22e5(0x336)]>_0x96d4ca['coin']?-0x1:0x0),_0x4e19a4[_0x5d22e5(0x252)](_0x369262=>{const _0xeb83d=_0x5d22e5;let _0x35a775={'coin':_0x369262['coin'],'number':_0x369262[_0xeb83d(0x29d)],'price':_0x369262[_0xeb83d(0x268)]};_0x9047ea[_0xeb83d(0x2b3)](_0x35a775);});const _0x56411c=await getFiat();_0x4bce0d={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x56411c[_0x5d22e5(0x1d7)],'usd':_0x56411c[_0x5d22e5(0x1c9)],'coins':_0x9047ea};let _0x23632b=dbPerformance['get'](_0x5d22e5(0x2fc))[_0x5d22e5(0x306)]({'date':_0x4bce0d[_0x5d22e5(0x1e9)]})[_0x5d22e5(0x2e1)]();_0x23632b?_0x4bce0d['date']!=config[_0x5d22e5(0x288)]&&dbPerformance[_0x5d22e5(0x31c)](_0x5d22e5(0x2fc))[_0x5d22e5(0x306)]({'date':_0x4bce0d[_0x5d22e5(0x1e9)]})['assign'](_0x4bce0d)['write']():dbPerformance[_0x5d22e5(0x31c)](_0x5d22e5(0x2fc))['push'](_0x4bce0d)[_0x5d22e5(0x26e)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x38a205=_0x24769d;let _0x49dd5e=[];if(dbPerformance[_0x38a205(0x301)](_0x38a205(0x2fc))[_0x38a205(0x2e1)]()){let _0x4b3c23=dbPerformance[_0x38a205(0x31c)](_0x38a205(0x2fc))[_0x38a205(0x253)]()[_0x38a205(0x34a)](_0x30d652=>{const _0x51f60c=_0x38a205;if(_0x30d652[_0x51f60c(0x2dc)][_0x51f60c(0x1cf)]==0x0)return![];else return!![];})[_0x38a205(0x1be)]('date')[_0x38a205(0x2e1)](),_0x23bf95=[...config[_0x38a205(0x1f6)]];_0x23bf95['sort']((_0xb5bb28,_0x1ee7a4)=>_0xb5bb28[_0x38a205(0x1e9)]>_0x1ee7a4['date']?-0x1:_0x1ee7a4['date']>_0xb5bb28['date']?0x1:0x0);let _0x41c4e7=0x1,_0x3b9edf=[],_0x14ef19=0x0;_0x4b3c23[_0x38a205(0x1a2)]()[_0x38a205(0x2b8)]()['forEach']((_0x200f29,_0x56b33c)=>{const _0x22a136=_0x38a205;if(_0x23bf95[_0x14ef19]){if(_0x4b3c23[_0x4b3c23['length']-_0x56b33c]&&_0x23bf95[_0x14ef19]['date']==_0x4b3c23[_0x4b3c23[_0x22a136(0x1cf)]-_0x56b33c]['date']){if(_0x56b33c<_0x4b3c23[_0x22a136(0x1cf)]){let _0x17cd4f=0x0,_0x78fdc4=0x0;_0x4b3c23[_0x4b3c23[_0x22a136(0x1cf)]-_0x56b33c]['coins'][_0x22a136(0x252)](_0x3bb258=>{const _0x1de04e=_0x22a136;_0x78fdc4+=_0x3bb258[_0x1de04e(0x29d)]*_0x3bb258[_0x1de04e(0x2a0)];}),_0x23bf95[_0x14ef19]['changes']['forEach'](_0x10db3b=>{_0x17cd4f+=_0x10db3b['number']*_0x10db3b['price'];}),_0x41c4e7*=_0x17cd4f/(_0x78fdc4-_0x17cd4f)+0x1;}_0x14ef19++;}}let _0x1c38b2=0x0;_0x200f29[_0x22a136(0x2dc)][_0x22a136(0x252)](_0xdddde5=>{const _0x4199c4=_0x22a136;_0x1c38b2+=_0xdddde5[_0x4199c4(0x29d)]*_0xdddde5['price'];}),_0x3b9edf[_0x4b3c23[_0x22a136(0x1cf)]-_0x56b33c-0x1]=_0x1c38b2*(_0x41c4e7-0x1);});let _0x11aa55=[];_0x23bf95=[...config[_0x38a205(0x1f6)]]||[];let _0x3c2fb4=0x0;_0x14ef19=0x0,_0x4b3c23[_0x38a205(0x252)]((_0x242c84,_0x2f9609)=>{const _0x3cb2e9=_0x38a205;if(_0x23bf95[_0x14ef19]){const _0x157fd1=fns[_0x3cb2e9(0x272)](_0x23bf95[_0x14ef19][_0x3cb2e9(0x1e9)],_0x3cb2e9(0x1ea),new Date()),_0x19cb0c=fns['parse'](_0x242c84[_0x3cb2e9(0x1e9)],_0x3cb2e9(0x1ea),new Date());if(fns[_0x3cb2e9(0x33d)](_0x157fd1,_0x19cb0c)){let _0x178993=0x0;_0x23bf95[_0x14ef19][_0x3cb2e9(0x2a8)][_0x3cb2e9(0x252)](_0x36c513=>{const _0x3efbe4=_0x3cb2e9;!_0x11aa55[_0x36c513[_0x3efbe4(0x336)]]?_0x11aa55[_0x36c513[_0x3efbe4(0x336)]]=_0x36c513[_0x3efbe4(0x29d)]:(_0x178993=_0x11aa55[_0x36c513[_0x3efbe4(0x336)]],_0x11aa55[_0x36c513[_0x3efbe4(0x336)]]+=_0x36c513['number']);const _0x3d06a4=_0x242c84[_0x3efbe4(0x2dc)]['find'](_0x55be44=>_0x55be44[_0x3efbe4(0x336)]==_0x36c513[_0x3efbe4(0x336)]);(!_0x3d06a4||_0x3d06a4[_0x3efbe4(0x29d)]==0x0)&&(_0x3c2fb4+=(-_0x36c513[_0x3efbe4(0x29d)]-_0x178993)*_0x36c513[_0x3efbe4(0x2a0)]);}),_0x14ef19++;}}_0x242c84[_0x3cb2e9(0x2dc)][_0x3cb2e9(0x252)]((_0x336ea0,_0x13ce3b)=>{const _0x42e434=_0x3cb2e9;_0x11aa55[_0x336ea0[_0x42e434(0x336)]]&&(_0x336ea0[_0x42e434(0x2e2)]=_0x11aa55[_0x336ea0[_0x42e434(0x336)]]);}),_0x49dd5e[_0x3cb2e9(0x2b3)]({'date':_0x242c84[_0x3cb2e9(0x1e9)],'eur':_0x242c84[_0x3cb2e9(0x1d7)],'usd':_0x242c84[_0x3cb2e9(0x1c9)],'offset':_0x3b9edf[_0x2f9609],'netoffset':_0x3c2fb4,'coins':_0x242c84[_0x3cb2e9(0x2dc)]});});}return _0x49dd5e;}function emitPerformance(_0x32f28a){const _0x59341d=_0x24769d;_0x32f28a['length']!==0x0?(proxyEmit(_0x59341d(0x1a9),_0x32f28a),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x31ff35,_0x39e2e3){const _0x376c8e=_0x24769d;let _0x1435e8=0x0,_0x3e9822=0x0,_0x804a98=0x0;_0x31ff35[_0x376c8e(0x2dc)][_0x376c8e(0x252)](_0x2710ce=>{_0x1435e8+=_0x2710ce['number']*_0x2710ce['price'];});_0x39e2e3&&(_0x1435e8+=_0x31ff35['offset']);if(config[_0x376c8e(0x359)]==='BTC'||config[_0x376c8e(0x359)]===_0x376c8e(0x26c)||config[_0x376c8e(0x359)]==='PAXG')_0x3e9822=_0x1435e8*_0x31ff35[_0x376c8e(0x1d7)],_0x804a98=_0x1435e8*_0x31ff35[_0x376c8e(0x1c9)];else{if(usdBasecoins[_0x376c8e(0x275)](config[_0x376c8e(0x359)]))_0x3e9822=_0x1435e8*_0x31ff35['eur']/_0x31ff35[_0x376c8e(0x1c9)],_0x804a98=_0x1435e8;else config['basecoin']===_0x376c8e(0x265)&&(_0x3e9822=_0x1435e8,_0x804a98=_0x1435e8*_0x31ff35['usd']/_0x31ff35[_0x376c8e(0x1d7)]);}return[_0x1435e8,_0x3e9822,_0x804a98];}function getKPIs(_0x182dc8,_0x53769c=_0x24769d(0x265)){const _0x1832db=_0x24769d,_0x26345b=config['basecoin'],_0x28511a=lastBalances,_0x59e1fe=currentCoins,_0xdead9e=getNormalizedPerformance(),_0x34d597=_0x182dc8===_0x1832db(0x359)?_0x26345b:_0x182dc8==='fiat'||_0x182dc8===_0x1832db(0x222)?_0x53769c:'Net\x20'+_0x26345b,_0x266309=_0x182dc8===_0x1832db(0x2d4)?_0x1832db(0x262):_0x182dc8===_0x1832db(0x222)?_0x1832db(0x262):_0x34d597+_0x1832db(0x360),_0x9bee6b=_0x182dc8===_0x1832db(0x2d4)||_0x182dc8===_0x1832db(0x222)?_0x1832db(0x262):_0x34d597+'\x20change';let _0x502033=0x0;_0x59e1fe[_0x1832db(0x252)](_0x16228f=>{const _0x55e4cc=_0x1832db;_0x502033+=_0x16228f['number']*_0x16228f[_0x55e4cc(0x268)];});if(_0x182dc8===_0x1832db(0x318)||_0x182dc8==='net-fiat'){if(_0x26345b===_0x1832db(0x293)||_0x26345b===_0x1832db(0x26c)||_0x26345b===_0x1832db(0x1ad))_0x502033=_0x502033*(_0x53769c===_0x1832db(0x265)?_0x28511a[_0x1832db(0x1d7)]:_0x28511a[_0x1832db(0x1c9)]);else{if(usdBasecoins[_0x1832db(0x275)](_0x26345b))_0x502033=_0x502033*(_0x53769c==='EUR'?_0x28511a[_0x1832db(0x1d7)]/_0x28511a['usd']:0x1);else _0x26345b===_0x1832db(0x265)&&(_0x502033=_0x502033*(_0x53769c===_0x1832db(0x265)?0x1:_0x28511a[_0x1832db(0x1c9)]/_0x28511a['eur']));}}let _0xcfaaee;if(_0x502033!==0x0){if(_0x182dc8===_0x1832db(0x359))_0xcfaaee=(_0x502033/startingBalances[_0x1832db(0x359)]-0x1)*0x64;else{if(_0x53769c===_0x1832db(0x265))_0xcfaaee=(_0x502033/startingBalances[_0x1832db(0x1d7)]-0x1)*0x64;else _0xcfaaee=(_0x502033/startingBalances[_0x1832db(0x1c9)]-0x1)*0x64;}let _0x18c07b=0x0;if(startingBalances[_0x1832db(0x2dc)])_0x59e1fe['forEach'](_0xa0f489=>{const _0x5e97ce=_0x1832db;let _0x33bca6=startingBalances[_0x5e97ce(0x2dc)][_0x5e97ce(0x306)](_0x4f4d49=>_0x4f4d49[_0x5e97ce(0x336)]===_0xa0f489[_0x5e97ce(0x336)]);if(_0x33bca6&&_0x33bca6['coin']&&_0xa0f489[_0x5e97ce(0x29d)]!==0x0)_0x18c07b+=_0x33bca6[_0x5e97ce(0x29d)]*_0xa0f489[_0x5e97ce(0x268)];});let _0x10b7c1=0x0;if(_0xdead9e[_0x1832db(0x1cf)]!==0x0){let _0x703f5e=_0xdead9e[_0xdead9e['length']-0x1];_0x10b7c1=_0x703f5e[_0x1832db(0x231)];}_0x18c07b-=_0x10b7c1;_0x182dc8==='net-basecoin'&&(_0xcfaaee=(_0x502033-_0x18c07b)/startingBalances[_0x1832db(0x359)]*0x64,_0x502033=_0x502033-_0x18c07b);if(_0x182dc8===_0x1832db(0x222)){let _0x314194=_0x53769c===_0x1832db(0x265)?startingBalances['eur']:startingBalances['usd'];if(_0x26345b==='BTC'||_0x26345b===_0x1832db(0x26c)||_0x26345b===_0x1832db(0x1ad))_0x18c07b=_0x53769c===_0x1832db(0x265)?_0x18c07b*_0x28511a[_0x1832db(0x1d7)]:_0x18c07b*_0x28511a[_0x1832db(0x1c9)];else{if(usdBasecoins[_0x1832db(0x275)](_0x26345b))_0x18c07b=_0x53769c===_0x1832db(0x265)?_0x18c07b*_0x28511a[_0x1832db(0x1d7)]/_0x28511a[_0x1832db(0x1c9)]:_0x18c07b;else _0x26345b===_0x1832db(0x265)&&(_0x18c07b=_0x53769c===_0x1832db(0x265)?_0x18c07b:_0x18c07b*_0x28511a['usd']/_0x28511a[_0x1832db(0x1d7)]);}_0xcfaaee=(_0x502033-_0x18c07b)/_0x314194*0x64,_0x502033=_0x502033-_0x18c07b;}if(_0xcfaaee){if(_0xcfaaee<0x64)_0xcfaaee=_0xcfaaee[_0x1832db(0x204)](0x2);else{if(_0xcfaaee<0x3e8)_0xcfaaee=_0xcfaaee[_0x1832db(0x204)](0x1);else _0xcfaaee=_0xcfaaee['toFixed'](0x0);}}else _0xcfaaee=Number('0')['toFixed'](0x2);if(_0x502033){if(Math['abs'](_0x502033)<0.000001)_0x502033=_0x502033[_0x1832db(0x204)](0x2);else{if(Math[_0x1832db(0x2db)](_0x502033)<0.1)_0x502033=_0x502033[_0x1832db(0x204)](0x6);else{if(Math[_0x1832db(0x2db)](_0x502033)<0x1)_0x502033=_0x502033[_0x1832db(0x204)](0x5);else{if(Math[_0x1832db(0x2db)](_0x502033)<0xa)_0x502033=_0x502033[_0x1832db(0x204)](0x4);else{if(Math[_0x1832db(0x2db)](_0x502033)<0x64)_0x502033=_0x502033[_0x1832db(0x204)](0x3);else{if(Math[_0x1832db(0x2db)](_0x502033)<0x3e8)_0x502033=_0x502033[_0x1832db(0x204)](0x2);else _0x502033=_0x502033[_0x1832db(0x204)](0x2);}}}}}}else _0x502033=Number('0')[_0x1832db(0x204)](0x2);}else _0xcfaaee=Number('0')['toFixed'](0x2);return{'value':_0x502033,'change':_0xcfaaee,'leftTxt':_0x266309,'rightTxt':_0x9bee6b};}async function getStartingBalances(_0x1c8503,_0x12f733=!![]){const _0x4d0897=_0x24769d;if(_0x1c8503[_0x4d0897(0x1cf)]!==0x0){const [_0x25a8e5,_0x351a3c,_0x18a304]=getPerf(_0x1c8503[0x0],!![]);let _0xb7951f=[];config['portfolio'][_0x4d0897(0x252)](_0x53e53b=>{const _0x556f3d=_0x4d0897;let _0x5ac1ae=0x0,_0x300ab7;config['liquidity'][_0x556f3d(0x252)](_0x3aff61=>{const _0x2ed137=_0x556f3d;let _0x49f452=_0x3aff61[_0x2ed137(0x2a8)]['find'](_0x2a37b9=>_0x2a37b9['coin']==_0x53e53b[_0x2ed137(0x336)]);if(_0x49f452){_0x5ac1ae+=_0x49f452['number'];if(!_0x300ab7)_0x300ab7=_0x49f452['price'];}}),_0xb7951f[_0x556f3d(0x2b3)]({'coin':_0x53e53b['coin'],'number':_0x5ac1ae,'initialprice':_0x300ab7});});const _0x2839b0={'basecoin':_0x25a8e5,'eur':_0x351a3c,'usd':_0x18a304,'coins':_0xb7951f};if(_0x12f733)proxyEmit('starting-balances',_0x2839b0);startingBalances=_0x2839b0;}}function headlessMode(_0x36d2ed){const _0x5c4da2=_0x24769d;let _0x4886ab=_0x36d2ed[_0x5c4da2(0x261)],_0x51034b=_0x36d2ed[_0x5c4da2(0x207)],_0x212f8f=[];for(let _0x51282b of _0x4886ab){if(_0x51282b[_0x5c4da2(0x336)]!=config['basecoin']){if(_0x51282b[_0x5c4da2(0x2ab)]>=_0x51034b/0x64){if(_0x51282b[_0x5c4da2(0x2ea)])_0x212f8f['push'](_0x51282b);}else{if(_0x51282b[_0x5c4da2(0x2ab)]<=-_0x51034b/0x64){if(_0x51282b['valid'])_0x212f8f[_0x5c4da2(0x2b3)](_0x51282b);}}}}_0x212f8f[_0x5c4da2(0x1cf)]>0x0&&placeOrder(_0x212f8f);}function notifyBalance(_0x47383c){const _0x509f57=_0x24769d;let _0x39dd49=_0x47383c[_0x509f57(0x261)],_0x323782=_0x47383c[_0x509f57(0x207)],_0xfabf33=[];for(let _0x4e74d2 of _0x39dd49){if(_0x4e74d2['coin']!=config[_0x509f57(0x359)]){if(_0x4e74d2[_0x509f57(0x2ab)]>=_0x323782/0x64){if(_0x4e74d2[_0x509f57(0x2ea)])_0xfabf33[_0x509f57(0x2b3)](_0x4e74d2);}else{if(_0x4e74d2[_0x509f57(0x2ab)]<=-_0x323782/0x64){if(_0x4e74d2[_0x509f57(0x2ea)])_0xfabf33[_0x509f57(0x2b3)](_0x4e74d2);}}}}if(_0xfabf33['length']>0x0){let _0xa76367=_0xfabf33[_0x509f57(0x20e)](_0x332729=>_0x332729[_0x509f57(0x336)]);_0xa76367[_0x509f57(0x1a1)]();let _0x31cb1f=_0xa76367[_0x509f57(0x1f2)](',\x20');if(!lastCoinsToBalance)logHistory(_0x509f57(0x2c1),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x31cb1f;}}function symbolToCoin(_0xaadc6e){const _0x4145b1=_0x24769d;let _0x39eb6b;if(_0xaadc6e[_0x4145b1(0x275)]('/'+config[_0x4145b1(0x359)]))_0x39eb6b=_0xaadc6e[_0x4145b1(0x29b)]('/'+config['basecoin'],'');if(_0xaadc6e['includes'](config[_0x4145b1(0x359)]+'/'))_0x39eb6b=_0xaadc6e[_0x4145b1(0x29b)](config[_0x4145b1(0x359)]+'/','');return _0x39eb6b;}function setLockOrders(_0x35e11d){const _0x12c127=_0x24769d;lockOrders=_0x35e11d,logger[_0x12c127(0x353)](_0x12c127(0x1aa)+Object[_0x12c127(0x299)](ORDERS)[lockOrders]);}async function unlockOrders(_0x89ca96=![]){const _0x50f685=_0x24769d;if(allOrdersPlaced&&lockOrders==ORDERS[_0x50f685(0x1b1)]){setLockOrders(ORDERS[_0x50f685(0x25b)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x89ca96){const _0xba7dd0=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xba7dd0,setBlockTransactionDetection(![]);}validateOrdersState='initial',persistOpenOrders([]),setLockOrders(ORDERS[_0x50f685(0x1c6)]);}}async function validateOrders(_0x5aaf6d){const _0x4e759c=_0x24769d;if(_0x5aaf6d)validateOrdersState=_0x5aaf6d;logger['debug'](_0x4e759c(0x1bc)+validateOrdersState+_0x4e759c(0x237)+Object['keys'](ORDERS)[lockOrders]);let _0xf5541=[],_0x3c4a0c=config[_0x4e759c(0x1a7)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4e759c(0x365)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4e759c(0x1b1)])return;logger[_0x4e759c(0x353)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState);for(let _0x4b45c1=lastOrders['length']-0x1;_0x4b45c1>=0x0;_0x4b45c1--){let _0x28c907=lastOrders[_0x4b45c1],_0x35a320=![];_0x28c907[_0x4e759c(0x2dd)]>0x0&&(_0x35a320=!![]),_0xf5541[_0x4e759c(0x2b3)](_0x35a320),_0x35a320&&config[_0x4e759c(0x1a7)]!=_0x4e759c(0x236)&&logHistory(_0x4e759c(0x2e0),_0x4e759c(0x241)+_0x28c907[_0x4e759c(0x25e)]+'\x20'+_0x28c907['side']+'\x20#'+formatResult(_0x28c907[_0x4e759c(0x2dd)],0x8)+'\x20@'+formatResult(_0x28c907[_0x4e759c(0x2a0)],0x8)),_0x35a320&&lastOrders[_0x4e759c(0x324)](_0x4b45c1,0x1);}persistOpenOrders(lastOrders);const _0x2a99b9=coolingDown?_0x4e759c(0x242):_0x4e759c(0x1c0);if(validateOrdersState==_0x4e759c(0x2e2)){validateOrdersState=_0x4e759c(0x23d);if(_0xf5541[_0x4e759c(0x275)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x4e759c(0x23d)){if(_0xf5541[_0x4e759c(0x275)](![])){}else await unlockOrders();}else{if(validateOrdersState=='final')_0xf5541[_0x4e759c(0x275)](![])&&(config[_0x4e759c(0x1a7)]==_0x4e759c(0x236)?logHistory(_0x4e759c(0x1e8),_0x4e759c(0x331)+Math[_0x4e759c(0x251)](_0x3c4a0c*validateOrderInterval/0xea60)+_0x4e759c(0x23a)+_0x2a99b9):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x4e759c(0x251)](_0x3c4a0c*validateOrderInterval/0xea60)+_0x4e759c(0x23a)+_0x2a99b9))),await unlockOrders(!![]);else{if(validateOrdersState==_0x4e759c(0x354)){if(config[_0x4e759c(0x1a7)]!=_0x4e759c(0x236))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x2a99b9);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x3ade0f=_0x24769d;lastOrders[_0x3ade0f(0x252)](async _0x3b1a48=>{const _0xb8bd27=_0x3ade0f;try{const _0x13a272=await exchange[_0xb8bd27(0x2e7)](_0x3b1a48[_0xb8bd27(0x2aa)],_0x3b1a48[_0xb8bd27(0x25e)]);}catch(_0x340931){if(_0x340931[_0xb8bd27(0x314)]()['includes']('OrderNotFound')){}else await handleError(_0x340931,_0xb8bd27(0x309));}});}async function initCoinResults(_0x9c64bd){const _0x2f21b0=_0x24769d;_0x9c64bd?logger[_0x2f21b0(0x353)](_0x2f21b0(0x269)+_0x9c64bd):logger[_0x2f21b0(0x353)](_0x2f21b0(0x297)),config['portfolio'][_0x2f21b0(0x252)](_0x2bdb49=>{const _0x434bb2=_0x2f21b0;if(!_0x2bdb49[_0x434bb2(0x1b0)]&&_0x2bdb49[_0x434bb2(0x336)]!=config[_0x434bb2(0x359)]){const _0x5d029d=currentCoins[_0x434bb2(0x306)](_0x1ce105=>_0x1ce105[_0x434bb2(0x336)]==_0x2bdb49[_0x434bb2(0x336)]),_0x291d10=gTicker[noslash(_0x2bdb49[_0x434bb2(0x25e)])];let _0x33df62=_0x5d029d?_0x5d029d[_0x434bb2(0x29d)]:null,_0x1c399b=_0x2bdb49['reverse']?0x1/_0x291d10:_0x291d10,_0x1594d8;config[_0x434bb2(0x1f6)][_0x434bb2(0x252)](_0x2138a8=>{const _0x4a56d7=_0x434bb2;!_0x1594d8&&(_0x1594d8=_0x2138a8[_0x4a56d7(0x2a8)][_0x4a56d7(0x306)](_0x103427=>_0x103427[_0x4a56d7(0x336)]==_0x2bdb49[_0x4a56d7(0x336)]),_0x1594d8&&(_0x33df62=_0x1594d8['number'],_0x1c399b=_0x1594d8[_0x4a56d7(0x2a0)]));});let _0x46bf3c=dbCoinResults['get'](_0x434bb2(0x2dc))[_0x434bb2(0x306)]({'coin':_0x2bdb49[_0x434bb2(0x336)]})[_0x434bb2(0x2e1)]();if(!_0x46bf3c){const _0x1b7eb9={'coin':_0x2bdb49['coin'],'number':_0x33df62,'breakeven':_0x1c399b,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x434bb2(0x31c)]('coins')['push'](_0x1b7eb9)[_0x434bb2(0x26e)]();}else{if(_0x9c64bd&&_0x2bdb49['coin']==_0x9c64bd){const _0x39b74f={'coin':_0x2bdb49[_0x434bb2(0x336)],'number':_0x33df62,'breakeven':_0x1c399b,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x434bb2(0x31c)](_0x434bb2(0x2dc))['find']({'coin':_0x2bdb49['coin']})[_0x434bb2(0x308)](_0x39b74f)[_0x434bb2(0x26e)]();}}}});}async function updateCoinResults(_0x17e0e7,_0x520208=![]){const _0x41d596=_0x24769d;let _0x5ab77e,_0xadb065,_0x4b1082,_0x2cc110,_0x4d60cf,_0x4cbfe9,_0x5723a6=dbCoinResults[_0x41d596(0x31c)](_0x41d596(0x2dc))[_0x41d596(0x306)]({'coin':_0x17e0e7[_0x41d596(0x336)]})[_0x41d596(0x2e1)](),_0x2bfcde=![];_0x5723a6&&Object[_0x41d596(0x1ce)](_0x5723a6)['forEach'](([_0xddf7e9,_0x15556e])=>{if(_0x15556e==null)_0x2bfcde=!![];});(!_0x5723a6||_0x2bfcde)&&(await initCoinResults(_0x17e0e7[_0x41d596(0x336)]),_0x5723a6=dbCoinResults[_0x41d596(0x31c)](_0x41d596(0x2dc))[_0x41d596(0x306)]({'coin':_0x17e0e7[_0x41d596(0x336)]})[_0x41d596(0x2e1)]());_0x17e0e7[_0x41d596(0x2b8)]&&(_0x4cbfe9={'filled':_0x17e0e7[_0x41d596(0x2dd)]*_0x17e0e7[_0x41d596(0x2a0)],'amount':_0x17e0e7[_0x41d596(0x2dd)]*_0x17e0e7[_0x41d596(0x2a0)],'side':_0x17e0e7[_0x41d596(0x28b)]==_0x41d596(0x2ec)?_0x41d596(0x278):_0x41d596(0x2ec),'price':0x1/_0x17e0e7[_0x41d596(0x2a0)]},_0x17e0e7={..._0x17e0e7,..._0x4cbfe9});_0x520208?_0xadb065=_0x17e0e7[_0x41d596(0x28b)]==_0x41d596(0x278)?_0x5723a6[_0x41d596(0x29d)]+_0x17e0e7['filled']:_0x5723a6[_0x41d596(0x29d)]-_0x17e0e7['filled']:_0xadb065=await getCoinNumber(_0x17e0e7[_0x41d596(0x336)]);if(_0x17e0e7[_0x41d596(0x1a6)]&&_0x17e0e7[_0x41d596(0x1a6)]['currency']==config['basecoin'])_0x5ab77e=Number(_0x17e0e7[_0x41d596(0x1a6)][_0x41d596(0x1db)]);else{if(_0x17e0e7[_0x41d596(0x1a6)]&&_0x17e0e7[_0x41d596(0x1a6)]['currency']==_0x41d596(0x2d9)&&!_0x520208&&config[_0x41d596(0x359)]!=_0x41d596(0x1ad))_0x5ab77e=Number(_0x17e0e7[_0x41d596(0x1a6)]['cost'])*gTicker['BNB'+config['basecoin']];else _0x5ab77e=defaultFee*_0x17e0e7[_0x41d596(0x2dd)]*_0x17e0e7[_0x41d596(0x2a0)];}_0x17e0e7[_0x41d596(0x28b)]==_0x41d596(0x278)?(_0x4b1082=_0xadb065!=0x0?(_0x5723a6[_0x41d596(0x280)]*_0x5723a6[_0x41d596(0x29d)]+_0x17e0e7['price']*(_0xadb065-_0x5723a6['number'])+_0x5ab77e)/_0xadb065:0x0,_0x2cc110=_0x5723a6[_0x41d596(0x1fe)]):(_0x4b1082=_0xadb065!=0x0?(_0x5723a6[_0x41d596(0x280)]*_0x5723a6[_0x41d596(0x29d)]-_0x17e0e7['price']*(_0x5723a6[_0x41d596(0x29d)]-_0xadb065)+_0x5ab77e)/_0xadb065:0x0,_0x2cc110=_0x5723a6[_0x41d596(0x1fe)]+(_0x17e0e7[_0x41d596(0x2a0)]-_0x5723a6[_0x41d596(0x280)])*_0x17e0e7[_0x41d596(0x2dd)]);_0x4d60cf=(_0x17e0e7[_0x41d596(0x2a0)]-_0x4b1082-_0x5ab77e/_0x17e0e7[_0x41d596(0x2dd)])*_0xadb065;let _0x582c00={'coin':_0x17e0e7[_0x41d596(0x336)],'number':_0xadb065,'breakeven':formatResult(_0x4b1082,0x8),'realized':formatResult(_0x2cc110,0x8),'unrealized':formatResult(_0x4d60cf,0x8),'fees':formatResult(_0x5723a6[_0x41d596(0x363)]+_0x5ab77e,0x8),'sells':_0x17e0e7[_0x41d596(0x28b)]==_0x41d596(0x2ec)?_0x5723a6[_0x41d596(0x1f5)]+0x1:_0x5723a6['sells'],'buys':_0x17e0e7[_0x41d596(0x28b)]==_0x41d596(0x278)?_0x5723a6[_0x41d596(0x1bb)]+0x1:_0x5723a6[_0x41d596(0x1bb)]};dbCoinResults[_0x41d596(0x31c)]('coins')[_0x41d596(0x306)]({'coin':_0x17e0e7[_0x41d596(0x336)]})[_0x41d596(0x308)](_0x582c00)[_0x41d596(0x26e)]();if(!_0x520208){if(_0x17e0e7[_0x41d596(0x1a6)]&&_0x17e0e7['fee'][_0x41d596(0x35a)]==_0x41d596(0x2d9)){const _0x1a2ebb=currentCoins[_0x41d596(0x306)](_0x3c8e38=>_0x3c8e38[_0x41d596(0x336)]==_0x41d596(0x2d9));if(_0x1a2ebb){let _0x5a7ead=dbCoinResults[_0x41d596(0x31c)](_0x41d596(0x2dc))[_0x41d596(0x306)]({'coin':'BNB'})[_0x41d596(0x2e1)]();_0x582c00={..._0x5a7ead,'number':_0x1a2ebb[_0x41d596(0x29d)]},dbCoinResults[_0x41d596(0x31c)]('coins')[_0x41d596(0x306)]({'coin':_0x41d596(0x2d9)})[_0x41d596(0x308)](_0x582c00)[_0x41d596(0x26e)]();}}}}async function placeOrder(_0x3a02bd){const _0x1febc0=_0x24769d,_0x409ec7=config[_0x1febc0(0x1a7)]==_0x1febc0(0x236)?_0x1febc0(0x236):_0x1febc0(0x1eb);if(lockOrders==ORDERS[_0x1febc0(0x1c6)]&&!coolingDown){setLockOrders(ORDERS[_0x1febc0(0x1b1)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x1febc0(0x353)](_0x1febc0(0x34e)+_0x3a02bd[_0x1febc0(0x20e)](_0x2d2412=>_0x2d2412[_0x1febc0(0x336)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x1febc0(0x2e2);let _0x312ca4=![];lastOrders=[];const _0x400135=config[_0x1febc0(0x207)];for(const _0x6f848c of _0x3a02bd){let _0xfdfae8,_0x58cc7b,_0x3713c4,_0x2e1be5,_0x3e84df,_0x590c3b=_0x6f848c['symbol'];logger[_0x1febc0(0x353)](_0x1febc0(0x2c2)+_0x6f848c['coin']+'\x20'+_0x6f848c['number']+'\x20'+_0x6f848c['last']+'\x20'+_0x6f848c[_0x1febc0(0x2b5)]+'%\x20'+_0x6f848c[_0x1febc0(0x2ee)]+'%\x20'+(0x64*_0x6f848c['delta'])[_0x1febc0(0x204)](0x2)+_0x1febc0(0x214)+_0x400135[_0x1febc0(0x204)](0x2)+'%)');const _0x2e2fc5=currentCoins[_0x1febc0(0x306)](_0x215373=>_0x215373[_0x1febc0(0x336)]==_0x6f848c[_0x1febc0(0x336)]);_0x2e2fc5&&(_0x2e2fc5[_0x1febc0(0x2ca)]=_0x6f848c[_0x1febc0(0x29d)]);try{const _0x5599f3=await exchange['fetchTicker'](_0x590c3b);_0xfdfae8=_0x6f848c[_0x1febc0(0x2b8)]?0x1/_0x6f848c['last']:_0x6f848c[_0x1febc0(0x268)],_0x58cc7b=_0x5599f3[_0x1febc0(0x1f4)],_0x3713c4=_0x5599f3[_0x1febc0(0x2de)];_0x6f848c[_0x1febc0(0x2b8)]?(_0x2e1be5=_0x6f848c['side']==_0x1febc0(0x278)?_0x1febc0(0x2ec):'buy',_0x3e84df=Math[_0x1febc0(0x2db)](_0x6f848c['trade'])/_0xfdfae8):(_0x2e1be5=_0x6f848c[_0x1febc0(0x28b)],_0x3e84df=Math[_0x1febc0(0x2db)](_0x6f848c[_0x1febc0(0x1b2)]));_0x409ec7==_0x1febc0(0x1eb)&&(config[_0x1febc0(0x1a7)]==_0x1febc0(0x341)&&(_0xfdfae8=_0x2e1be5=='buy'?_0x58cc7b:_0x3713c4),config['ordertype']=='limit-low'&&(_0xfdfae8=_0x2e1be5==_0x1febc0(0x278)?_0x3713c4:_0x58cc7b));_0x3e84df=formatResult(_0x3e84df,0x8),_0xfdfae8=formatResult(_0xfdfae8,0x8);const _0x554361=_0x2e1be5==_0x1febc0(0x2ec)?config[_0x1febc0(0x2c0)]?String[_0x1febc0(0x21f)]('0x'+config[_0x1febc0(0x2c0)])+'\x20':'':config[_0x1febc0(0x30d)]?String[_0x1febc0(0x21f)]('0x'+config[_0x1febc0(0x30d)])+'\x20':'',_0x2a9e4f=_0x409ec7=='market'?_0x1febc0(0x201):config[_0x1febc0(0x1a7)]==_0x1febc0(0x341)?'Limit\x20(high-margin)':_0x1febc0(0x264),_0x2c1709=(Math[_0x1febc0(0x2c3)](Math[_0x1febc0(0x34b)]()*0x35a4e900)+0x5f5e100)[_0x1febc0(0x314)]();lastOrders['push']({'customId':_0x2c1709,'symbol':_0x590c3b,'coin':_0x6f848c[_0x1febc0(0x336)],'amount':_0x3e84df,'price':_0xfdfae8,'side':_0x2e1be5,'reverse':_0x6f848c[_0x1febc0(0x2b8)],'filled':0x0});if(_0x409ec7=='market')logHistory(_0x1febc0(0x2e0),''+_0x554361+_0x2a9e4f+_0x1febc0(0x224)+_0x590c3b+'\x20'+_0x2e1be5+'\x20#'+formatResult(_0x3e84df,0x8)+'\x20@'+formatResult(_0xfdfae8,0x8));else logHistory(_0x1febc0(0x2e0),''+_0x554361+_0x2a9e4f+'\x20order:\x20'+_0x590c3b+'\x20'+_0x2e1be5+'\x20#'+formatResult(_0x3e84df,0x8)+'\x20@'+formatResult(_0xfdfae8,0x8));let _0x4cd026;_0x409ec7==_0x1febc0(0x236)?_0x2e1be5==_0x1febc0(0x278)&&['Bybit','Bitget','Cex',_0x1febc0(0x35e),_0x1febc0(0x218)][_0x1febc0(0x275)](config[_0x1febc0(0x1e6)])?_0x4cd026=await exchange[_0x1febc0(0x2bb)](_0x590c3b,_0x409ec7,_0x2e1be5,_0x3e84df,_0xfdfae8):_0x4cd026=await exchange[_0x1febc0(0x2bb)](_0x590c3b,_0x409ec7,_0x2e1be5,_0x3e84df,undefined):_0x4cd026=await exchange['createOrder'](_0x590c3b,_0x409ec7,_0x2e1be5,_0x3e84df,_0xfdfae8);logger[_0x1febc0(0x353)](_0x1febc0(0x32c)+_0x4cd026['id']+'\x20|\x20Custom\x20ID:\x20'+_0x2c1709);const _0x2113fa=lastOrders['length']-0x1;if(_0x2113fa>=0x0&&lastOrders[_0x2113fa][_0x1febc0(0x303)]==_0x2c1709){lastOrders[_0x2113fa][_0x1febc0(0x2aa)]=_0x4cd026['id'];if(_0x4cd026[_0x1febc0(0x31b)])lastOrders[_0x2113fa][_0x1febc0(0x31b)]=_0x4cd026[_0x1febc0(0x31b)];if(_0x4cd026[_0x1febc0(0x2a0)])lastOrders[_0x2113fa][_0x1febc0(0x2a0)]=_0x4cd026[_0x1febc0(0x2a0)];lastOrders[_0x2113fa]['fee']=_0x4cd026[_0x1febc0(0x1a6)];}if(config[_0x1febc0(0x27c)]!=0x0){let _0x24409c=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x24409c=cooldownTracker[_0x1febc0(0x258)]();const _0x57db7e=getTimeStamp();cooldownTracker['push'](_0x57db7e);if(_0x24409c){const _0x3e09e1=fns[_0x1febc0(0x2c7)](new Date(_0x57db7e),new Date(_0x24409c));if(_0x3e09e1<cooldownInterval){logHistory(_0x1febc0(0x1c2),_0x1febc0(0x32e)+config[_0x1febc0(0x27c)]+_0x1febc0(0x22b)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x64c920){if(_0x64c920[_0x1febc0(0x314)]()[_0x1febc0(0x275)](_0x1febc0(0x2c6)))lastOrders=lastOrders[_0x1febc0(0x34a)](_0x275982=>_0x275982[_0x1febc0(0x25e)]!=_0x590c3b),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x590c3b),_0x312ca4=!![];else{if(_0x64c920[_0x1febc0(0x314)]()[_0x1febc0(0x275)](_0x1febc0(0x2ac)))lastOrders=lastOrders['filter'](_0x2d6377=>_0x2d6377[_0x1febc0(0x25e)]!=_0x590c3b),logHistory(_0x1febc0(0x1c2),_0x1febc0(0x2a9)+_0x590c3b),_0x312ca4=!![];else{if(_0x64c920[_0x1febc0(0x314)]()[_0x1febc0(0x275)](_0x1febc0(0x2d7)))lastOrders=lastOrders[_0x1febc0(0x34a)](_0x5454b9=>_0x5454b9['symbol']!=_0x590c3b),logHistory(_0x1febc0(0x1c2),'Order\x20is\x20invalid:\x20'+_0x590c3b),logger['debug'](_0x64c920),_0x312ca4=!![];else _0x64c920[_0x1febc0(0x314)]()[_0x1febc0(0x275)](_0x1febc0(0x284))?(lastOrders=lastOrders[_0x1febc0(0x34a)](_0x17c2b1=>_0x17c2b1['symbol']!=_0x590c3b),logHistory(_0x1febc0(0x1c2),_0x1febc0(0x345)+_0x590c3b),_0x312ca4=!![]):(lastOrders=lastOrders[_0x1febc0(0x34a)](_0xef6811=>_0xef6811['symbol']!=_0x590c3b),await handleError(_0x64c920,_0x1febc0(0x312),_0x590c3b));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x1febc0(0x1cf)]>0x0){const _0x36c207=config['ordertype']==_0x1febc0(0x236)?validateOrderTimeout*0x3c*0x3e8:config[_0x1febc0(0x365)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x429fcf=_0x1febc0;validateOrders(_0x429fcf(0x23b));},_0x36c207);}else unlockOrders();_0x312ca4&&config[_0x1febc0(0x1ae)]&&(logHistory('error','Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1febc0(0x1e8),_0x1febc0(0x1c4)));}else{if(coolingDown)!config[_0x1febc0(0x1ae)]&&logHistory(_0x1febc0(0x1c2),_0x1febc0(0x29c));else lockOrders!=ORDERS[_0x1febc0(0x1c6)]&&(!config['headless']&&(config['ordertype']==_0x1febc0(0x236)?logHistory('error',_0x1febc0(0x2ce)):logHistory(_0x1febc0(0x1c2),_0x1febc0(0x2bf))));}}function persistOpenOrders(_0x430aaf){const _0x43ad1d=_0x24769d,_0x15abbf={...config,'openOrders':_0x430aaf};let _0x366188=dbConfig[_0x43ad1d(0x31c)]('bot')[_0x43ad1d(0x306)]({'botID':botID})[_0x43ad1d(0x2e1)]();_0x366188&&dbConfig[_0x43ad1d(0x31c)](_0x43ad1d(0x2a6))[_0x43ad1d(0x306)]({'botID':botID})[_0x43ad1d(0x308)](_0x15abbf)[_0x43ad1d(0x26e)]();}function restoreOrders(){const _0x3b71cb=_0x24769d;let _0x501e41;config[_0x3b71cb(0x227)]&&allOpenOrders['forEach'](_0x2ab22e=>{const _0x57a269=_0x3b71cb,_0x2323dc=config[_0x57a269(0x227)][_0x57a269(0x306)](_0x274703=>_0x274703['orderId']==_0x2ab22e['id']);_0x2323dc&&(lastOrders['push'](_0x2323dc),_0x501e41=_0x2ab22e[_0x57a269(0x20f)]);});if(lastOrders['length']>0x0){setLockOrders(ORDERS['LOCKED']),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x1f88a7=new Date()[_0x3b71cb(0x330)](),_0x58f8ca=config[_0x3b71cb(0x1a7)]==_0x3b71cb(0x236)?validateOrderTimeout*0x3c*0x3e8:config[_0x3b71cb(0x365)]*0x3c*0x3e8;if(_0x501e41+_0x58f8ca>_0x1f88a7){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x378351=_0x3b71cb;validateOrders(_0x378351(0x23b));},_0x501e41+_0x58f8ca-_0x1f88a7);}else validateOrders(_0x3b71cb(0x23b));}}async function sendMetricsTelegram(){const _0x3ef0c0=_0x24769d;if(!coinsLoaded){process[_0x3ef0c0(0x320)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x3afd93=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x518c20='';if(config['showname'])_0x518c20=_0x3ef0c0(0x1ab)+config[_0x3ef0c0(0x29e)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x518c20=_0x3ef0c0(0x33c)+botID+_0x3ef0c0(0x2a2);const _0x4e2fa0=getKPIs(_0x3ef0c0(0x359)),_0x1347ad=getKPIs(_0x3ef0c0(0x318),config[_0x3ef0c0(0x318)]),_0x4cba2e=getKPIs(_0x3ef0c0(0x2d4)),_0x1d4acb=getKPIs(_0x3ef0c0(0x222),config[_0x3ef0c0(0x318)]);_0x518c20+=_0x3ef0c0(0x356),_0x518c20+=_0x4e2fa0[_0x3ef0c0(0x255)]+_0x3ef0c0(0x1e0)+_0x4e2fa0[_0x3ef0c0(0x2e1)]+'\x0a',_0x518c20+=_0x4e2fa0[_0x3ef0c0(0x234)]+':\x20'+_0x4e2fa0[_0x3ef0c0(0x273)]+'%\x0a',_0x518c20+=_0x1347ad[_0x3ef0c0(0x255)]+_0x3ef0c0(0x1e0)+_0x1347ad[_0x3ef0c0(0x2e1)]+'\x0a',_0x518c20+=_0x1347ad[_0x3ef0c0(0x234)]+':\x20'+_0x1347ad[_0x3ef0c0(0x273)]+'%\x0a',_0x518c20+=_0x4cba2e[_0x3ef0c0(0x255)]+':\x20'+_0x4cba2e[_0x3ef0c0(0x2e1)]+'\x20('+config['basecoin']+')\x0a',_0x518c20+=_0x4cba2e[_0x3ef0c0(0x234)]+':\x20'+_0x4cba2e['change']+_0x3ef0c0(0x214)+config[_0x3ef0c0(0x359)]+')\x0a',_0x518c20+=_0x1d4acb['leftTxt']+':\x20'+_0x1d4acb[_0x3ef0c0(0x2e1)]+'\x20('+config[_0x3ef0c0(0x318)]+')\x0a',_0x518c20+=_0x1d4acb[_0x3ef0c0(0x234)]+':\x20'+_0x1d4acb[_0x3ef0c0(0x273)]+_0x3ef0c0(0x214)+config[_0x3ef0c0(0x318)]+')\x0a',_0x518c20+='</pre>',process['send']({'telegrammsg':_0x518c20},_0x2b0cae=>{});}async function sendPortfolioTelegram(){const _0x1748a1=_0x24769d;if(!coinsLoaded||!currentCoins[0x0][_0x1748a1(0x2b5)]){process['send']({'telegrammsg':_0x1748a1(0x277)},_0x1c93e5=>{});return;}let _0x16be54='';if(config[_0x1748a1(0x2a1)])_0x16be54='<b>'+config[_0x1748a1(0x29e)]+_0x1748a1(0x298);else _0x16be54='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x16be54+=_0x1748a1(0x356),_0x16be54+='-------------------------------\x0a',_0x16be54+=_0x1748a1(0x319),_0x16be54+=_0x1748a1(0x1b7),currentCoins['forEach'](_0x59f884=>{const _0x2f8949=_0x1748a1;_0x16be54+=_0x59f884[_0x2f8949(0x336)][_0x2f8949(0x282)](0x7)+'|\x20'+formatPad(_0x59f884['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x59f884[_0x2f8949(0x2ee)],0x2,0x6)+'|\x20'+formatPad(_0x59f884['delta']*0x64,0x2,0x6)+'\x0a';}),_0x16be54+='</pre>',process[_0x1748a1(0x320)]({'telegrammsg':_0x16be54},_0x46fa42=>{});}function formatPad(_0x3fb75b,_0x58ce35,_0x340553){const _0x588325=_0x24769d,_0x4ddeac=formatResultString(_0x3fb75b,_0x58ce35);return _0x4ddeac?_0x4ddeac[_0x588325(0x238)](_0x340553):''[_0x588325(0x238)](_0x340553);}function logHistory(_0x927bc2,_0x43c3ca,_0x3e9671=''){const _0x5109a2=_0x24769d;logger['full'](''+_0x43c3ca);let _0x48f8ef={'time':getTimeStamp(),'type':_0x927bc2,'event':_0x43c3ca};dbLogs['get'](_0x5109a2(0x2f5))[_0x5109a2(0x2b3)](_0x48f8ef)['write']();if(_0x3e9671=='')_0x3e9671=_0x43c3ca;proxyEmit(_0x5109a2(0x1d5),{'log':_0x48f8ef,'summary':_0x3e9671}),process[_0x5109a2(0x320)]({'telegram':{..._0x48f8ef,'botname':config['botname'],'showname':config[_0x5109a2(0x2a1)]}},_0xf869fc=>{});}function emitHistory(_0x2aa77e={}){const _0x1af499=_0x24769d;Object[_0x1af499(0x299)](_0x2aa77e)[_0x1af499(0x1cf)]==0x0&&(_0x2aa77e={'type':[_0x1af499(0x2e0),'event'],'event':'','page':0x1});if(_0x2aa77e[_0x1af499(0x300)][_0x1af499(0x275)](_0x1af499(0x1d5)))_0x2aa77e['type']['splice'](_0x2aa77e[_0x1af499(0x300)]['indexOf'](_0x1af499(0x1d5)),0x1,_0x1af499(0x1c2),'warning','success');if(dbLogs['has'](_0x1af499(0x2f5))['value']()){let _0x3c6083=dbLogs[_0x1af499(0x31c)](_0x1af499(0x2f5))[_0x1af499(0x34a)](_0x4c98d3=>{const _0x370505=_0x1af499;if(_0x2aa77e[_0x370505(0x300)][_0x370505(0x1cf)]==0x0)return![];else return _0x2aa77e['type']['includes'](_0x4c98d3[_0x370505(0x300)]);})['filter'](_0x3a915a=>{const _0x2f3bc2=_0x1af499;if(_0x2aa77e[_0x2f3bc2(0x1d5)]=='')return!![];else return _0x3a915a[_0x2f3bc2(0x1d5)][_0x2f3bc2(0x27e)]()[_0x2f3bc2(0x275)](_0x2aa77e[_0x2f3bc2(0x1d5)][_0x2f3bc2(0x27e)]());})[_0x1af499(0x1be)](_0x1af499(0x1da)),_0x377622=_0x3c6083[_0x1af499(0x2e1)]()[_0x1af499(0x1cf)];_0x3c6083=_0x3c6083[_0x1af499(0x2b8)]()['slice']((_0x2aa77e[_0x1af499(0x249)]-0x1)*logPageSize,_0x2aa77e[_0x1af499(0x249)]*logPageSize-0x1)['reverse']()[_0x1af499(0x2e1)](),proxyEmit(_0x1af499(0x2ba),{'logs':_0x3c6083,'total':_0x377622});}else proxyEmit(_0x1af499(0x2ba),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x216cbe){const _0xce7455=_0x24769d;if(dbLogs[_0xce7455(0x301)](_0xce7455(0x2f5))['value']()){const _0x4f535b=dbLogs[_0xce7455(0x31c)](_0xce7455(0x2f5))[_0xce7455(0x1be)]('time')[_0xce7455(0x34a)](_0x5b0c93=>{const _0xa2f413=_0xce7455;return _0x5b0c93[_0xa2f413(0x300)]=='order';})[_0xce7455(0x2e1)]();dbLogs[_0xce7455(0x31c)](_0xce7455(0x2f5))['remove']()[_0xce7455(0x26e)](),dbLogs[_0xce7455(0x31c)](_0xce7455(0x2f5))['assign'](_0x4f535b)[_0xce7455(0x26e)](),emitHistory(_0x216cbe);}}async function pauseBot(_0x5d579d=pauseBotIntervalShort,_0x37b38e,_0x3b8893,_0x102272=![]){const _0x3daa4b=_0x24769d,_0x5b108b=new Date()['getTime']();if(!lastErrorShown||_0x5b108b-lastErrorShown>=_0x5d579d){lastErrorShown=_0x5b108b;if(!lastBotPause)lastBotPause=_0x5b108b,consecutivePauses=0x1;else{if(_0x5b108b-lastBotPause-_0x5d579d<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x102272){logHistory(_0x3daa4b(0x1c2),_0x37b38e+_0x3daa4b(0x2eb)),await killBot();return;}else logHistory(_0x3daa4b(0x1c2),_0x37b38e+pauseBotMsg),_0x5d579d=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x5b108b;}_0x3b8893?logger[_0x3daa4b(0x353)]('('+consecutivePauses+')\x20'+_0x37b38e+_0x3daa4b(0x30e),_0x3b8893):logger['debug']('('+consecutivePauses+')\x20'+_0x37b38e);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x5d579d),botPaused=![],_0x5d579d==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x21e97a=_0x24769d;botPaused=!![],await sleep(0x3e8),process[_0x21e97a(0x320)]({'stop':_0x21e97a(0x228)},_0x1ab1ad=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x37561c,_0x478925,_0x126124=![]){const _0xaa96bb=_0x24769d;if(botPaused)return;let _0x3feb42;const _0x10e907=config[_0xaa96bb(0x1e6)]||_0xaa96bb(0x24b);if(_0x478925)logger[_0xaa96bb(0x353)](_0xaa96bb(0x232)+_0x478925);const _0x526566=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x37561c[_0xaa96bb(0x314)]()[_0xaa96bb(0x275)](_0xaa96bb(0x1ec)))logHistory(_0xaa96bb(0x1c2),_0x10e907+_0xaa96bb(0x21e)),_0x526566();else{if(_0x37561c[_0xaa96bb(0x314)]()[_0xaa96bb(0x275)](_0xaa96bb(0x1b3)))logHistory(_0xaa96bb(0x1c2),_0x10e907+_0xaa96bb(0x29f)),_0x526566();else{if(_0x37561c['toString']()[_0xaa96bb(0x275)](_0xaa96bb(0x30c)))config[_0xaa96bb(0x2e5)]?_0x3feb42=_0x10e907+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x3feb42=_0x10e907+_0xaa96bb(0x27a),logHistory(_0xaa96bb(0x1c2),_0x3feb42+_0xaa96bb(0x33e)),_0x526566();else{if(_0x37561c[_0xaa96bb(0x314)]()['includes'](_0xaa96bb(0x22e)))logHistory(_0xaa96bb(0x1c2),_0x10e907+_0xaa96bb(0x2ae)),_0x526566();else{if(!_0x126124)await handleError(_0x37561c,null);}}}}}async function handleError(_0x57a623,_0x5be113,_0x554cb6=''){const _0x288dee=_0x24769d;if(botPaused)return;let _0x58bf54;const _0x32af0d=config[_0x288dee(0x1e6)]||_0x288dee(0x24b);if(_0x5be113)logger[_0x288dee(0x353)](_0x288dee(0x232)+_0x5be113);if(_0x57a623['toString']()[_0x288dee(0x275)](_0x288dee(0x23e)))_0x58bf54=_0x32af0d+_0x288dee(0x352),await pauseBot(undefined,_0x58bf54,_0x57a623);else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x211)))_0x58bf54=_0x32af0d+_0x288dee(0x256),await pauseBot(undefined,_0x58bf54,_0x57a623);else{if(_0x57a623['toString']()[_0x288dee(0x275)](_0x288dee(0x33f))||_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x2ad)))_0x58bf54=_0x32af0d+_0x288dee(0x347),await pauseBot(undefined,_0x58bf54,_0x57a623[_0x288dee(0x314)]());else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x247)))_0x58bf54=_0x32af0d+_0x288dee(0x2fd),await pauseBot(undefined,_0x58bf54,_0x57a623[_0x288dee(0x314)]());else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x212)))_0x58bf54=_0x32af0d+_0x288dee(0x1cb),await pauseBot(undefined,_0x58bf54,_0x57a623['toString']());else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x27e)]()[_0x288dee(0x275)]('timestamp')||_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x27e)]()['includes'](_0x288dee(0x2a7)))_0x58bf54=_0x288dee(0x337),await pauseBot(undefined,_0x58bf54,_0x57a623['toString']());else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x28d)))_0x58bf54=_0x32af0d+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',await pauseBot(undefined,_0x58bf54,_0x57a623[_0x288dee(0x314)]());else{if(_0x57a623 instanceof ccxt[_0x288dee(0x1a5)])_0x58bf54=_0x32af0d+_0x288dee(0x239)+_0x57a623['toString'](),logger['debug'](_0x288dee(0x2ef),_0x57a623),await pauseBot(undefined,_0x58bf54,_0x57a623);else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x1ec)))logHistory(_0x288dee(0x1c2),_0x32af0d+_0x288dee(0x2b2)),logHistory(_0x288dee(0x1c2),_0x288dee(0x28a)),await killBot();else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x1b3)))logHistory(_0x288dee(0x1c2),_0x32af0d+_0x288dee(0x1bd)),logHistory(_0x288dee(0x1c2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)]('AuthenticationError')&&_0x57a623['toString']()[_0x288dee(0x275)](_0x288dee(0x20a)))_0x58bf54=_0x32af0d+_0x288dee(0x28f),await pauseBot(undefined,_0x58bf54,_0x57a623,!![]);else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)]('AuthenticationError'))config[_0x288dee(0x2e5)]?_0x58bf54=_0x32af0d+_0x288dee(0x25d):_0x58bf54=_0x32af0d+_0x288dee(0x27a),logHistory(_0x288dee(0x1c2),_0x58bf54),logHistory(_0x288dee(0x1c2),_0x288dee(0x28a)),await killBot();else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)](_0x288dee(0x22e)))logHistory(_0x288dee(0x1c2),_0x32af0d+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x288dee(0x1c2),_0x288dee(0x28a)),await killBot();else{if(_0x57a623[_0x288dee(0x314)]()[_0x288dee(0x275)]('InsufficientFunds'))logHistory('error','Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x554cb6),logger['debug'](_0x288dee(0x2c4),_0x57a623);else{if(_0x57a623 instanceof ccxt[_0x288dee(0x2f8)]){_0x58bf54=_0x32af0d+_0x288dee(0x2e4)+_0x57a623[_0x288dee(0x314)]();if(_0x554cb6)_0x58bf54+=_0x288dee(0x243)+_0x554cb6;await pauseBot(undefined,_0x58bf54,_0x57a623);}else{_0x58bf54='Unknown\x20error:\x20'+_0x57a623[_0x288dee(0x314)]();if(_0x554cb6)_0x58bf54+=_0x288dee(0x243)+_0x554cb6;await pauseBot(undefined,_0x58bf54);}}}}}}}}}}}}}}}}function decryptRSA(_0x5cdb31,_0x53a042){const _0x126f8c=_0x24769d,_0x10ade2=forge[_0x126f8c(0x1f1)]['privateKeyFromPem'](_0x5cdb31),_0x20ec2d=_0x10ade2[_0x126f8c(0x35b)](forge[_0x126f8c(0x30f)][_0x126f8c(0x1fa)](_0x53a042),_0x126f8c(0x217),{'md':forge['md'][_0x126f8c(0x33a)][_0x126f8c(0x25f)](),'mgf1':{'md':forge['md'][_0x126f8c(0x33a)][_0x126f8c(0x25f)]()}});return _0x20ec2d;}async function withRetry(_0xa283da,_0x4f9ef2){const _0x164483=_0x24769d;let _0x3de9dc=![],_0x286e6d=0x0,_0x4096b5,_0x8282c2;while(_0x286e6d<maxRetries){try{_0x4096b5=await _0x4f9ef2();break;}catch(_0x134a28){_0x8282c2=_0x134a28,!_0x3de9dc?(_0x3de9dc=!![],logger[_0x164483(0x353)](_0x164483(0x1fd)+_0xa283da+':',_0x134a28['toString']())):await sleep(retryInterval);}_0x286e6d++;}if(_0x286e6d==0x0)return _0x4096b5;if(_0x286e6d>=maxRetries)throw _0x8282c2;else return logger['debug'](_0x164483(0x31a)+_0x286e6d+_0x164483(0x1e7)),_0x4096b5;}function formatResult(_0x3496f7,_0x58903f){const _0x3b09bf=_0x24769d;return parseFloat(_0x3496f7[_0x3b09bf(0x204)](_0x58903f));}function formatResultTruncate(_0x60c1c6,_0x28d46b){const _0x30b728=_0x24769d;let _0x334c30=formatResultString(_0x60c1c6,0xa),_0x4cc77f=_0x334c30[_0x30b728(0x1c5)]('.');return _0x4cc77f!=-0x1&&(_0x334c30=_0x334c30[_0x30b728(0x1a2)](0x0,_0x4cc77f+_0x28d46b+0x1)),Number(_0x334c30);}function formatResultString(_0x118fe1,_0x1e9106){const _0x204d87=_0x24769d;let _0x3dea21;if(!(''+_0x118fe1)[_0x204d87(0x275)]('e'))_0x3dea21=+(Math[_0x204d87(0x251)](_0x118fe1+'e+'+_0x1e9106)+'e-'+_0x1e9106);else{let _0x30202c=(''+_0x118fe1)[_0x204d87(0x1c7)]('e'),_0x203019='';+_0x30202c[0x1]+_0x1e9106>0x0&&(_0x203019='+'),_0x3dea21=+(Math[_0x204d87(0x251)](+_0x30202c[0x0]+'e'+_0x203019+(+_0x30202c[0x1]+_0x1e9106))+'e-'+_0x1e9106);}return Number(_0x3dea21)[_0x204d87(0x204)](_0x1e9106);}function getServerTime(){const _0x1b1518=_0x24769d,_0x3a9ab4=new Date();return _0x3a9ab4[_0x1b1518(0x1e4)]()+'/'+(_0x3a9ab4['getMonth']()+0x1)[_0x1b1518(0x314)]()[_0x1b1518(0x238)](0x2,'0')+'/'+_0x3a9ab4[_0x1b1518(0x2bc)]()[_0x1b1518(0x314)]()[_0x1b1518(0x238)](0x2,'0')+'\x20'+_0x3a9ab4[_0x1b1518(0x1e5)]()[_0x1b1518(0x314)]()['padStart'](0x2,'0')+':'+_0x3a9ab4['getMinutes']()[_0x1b1518(0x314)]()[_0x1b1518(0x238)](0x2,'0')+':'+_0x3a9ab4[_0x1b1518(0x316)]()[_0x1b1518(0x314)]()[_0x1b1518(0x238)](0x2,'0');}function getTimeStamp(){const _0x4864a3=_0x24769d,_0x18fa4d=shiftedTime();return _0x18fa4d[_0x4864a3(0x1e4)]()+'/'+(_0x18fa4d['getMonth']()+0x1)[_0x4864a3(0x314)]()[_0x4864a3(0x238)](0x2,'0')+'/'+_0x18fa4d[_0x4864a3(0x2bc)]()[_0x4864a3(0x314)]()[_0x4864a3(0x238)](0x2,'0')+'\x20'+_0x18fa4d[_0x4864a3(0x1e5)]()[_0x4864a3(0x314)]()[_0x4864a3(0x238)](0x2,'0')+':'+_0x18fa4d[_0x4864a3(0x21b)]()[_0x4864a3(0x314)]()[_0x4864a3(0x238)](0x2,'0')+':'+_0x18fa4d['getSeconds']()[_0x4864a3(0x314)]()['padStart'](0x2,'0');}function getDate(){const _0x5aef1a=_0x24769d,_0x340b7c=shiftedTime();return _0x340b7c[_0x5aef1a(0x1e4)]()+'/'+(_0x340b7c[_0x5aef1a(0x1c8)]()+0x1)['toString']()[_0x5aef1a(0x238)](0x2,'0')+'/'+_0x340b7c[_0x5aef1a(0x2bc)]()[_0x5aef1a(0x314)]()[_0x5aef1a(0x238)](0x2,'0');}function getHour(){const _0x4cedd6=_0x24769d,_0x23159f=shiftedTime();return _0x23159f[_0x4cedd6(0x1e5)]()[_0x4cedd6(0x314)]()[_0x4cedd6(0x238)](0x2,'0');}function sleep(_0x17dcaf){return new Promise(_0x207a7a=>setTimeout(_0x207a7a,_0x17dcaf));}function shiftedTime(){const _0x40c0ab=_0x24769d,_0x29ca84=new Date();let _0x48a3a4=_0x29ca84;if(config&&config[_0x40c0ab(0x364)]!==0x0)_0x48a3a4=fns[_0x40c0ab(0x1a4)](_0x29ca84,{'hours':config[_0x40c0ab(0x364)]});return _0x48a3a4;}function timer(_0x1039ee){const _0x7171a=_0x24769d,_0x58311e=new Date();!lasttime?console[_0x7171a(0x20d)](getTimeStamp()+_0x7171a(0x307),_0x1039ee,_0x58311e):console[_0x7171a(0x20d)](getTimeStamp()+_0x7171a(0x307),_0x1039ee,(_0x58311e-lasttime)/0x3e8),lasttime=_0x58311e;}