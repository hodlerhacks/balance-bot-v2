var utilStorage=function(e){var o="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,t="undefined";function r(e){return o[e]}function n(e,t){return o[e]=t,t}function a(e){n(e)}var l=f(),c=g,i=g;function u(e){return l?g(e,"",-1):a(e)}function f(){if(typeof l!==t)return l;try{g(t,"1"),l=-1!==document.cookie.indexOf(t),u(t)}catch(e){l=!1}return l}function g(e,o,a,c,i,u){if(typeof window!==t){var f=arguments.length>1;return l||(f?n(e,o):r(e)),f?document.cookie=e+"="+encodeURIComponent(o)+(a?"; expires="+new Date(+new Date+1e3*a).toUTCString()+(c?"; path="+c:"")+(i?"; domain="+i:"")+(u?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var s=v();function v(){if(typeof s!==t)return s;s=!0;try{typeof localStorage!==t&&typeof JSON!==t||(s=!1),localStorage.setItem(t,t),localStorage.removeItem(t)}catch(e){s=!1}return s}function p(e){return void 0===e}function m(e){var o=e;try{if("true"===(o=JSON.parse(e)))return!0;if("false"===o)return!1;if(function(e){if("object"!=typeof e||null===e)return!1;for(var o=e;null!==Object.getPrototypeOf(o);)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(e)===o}(o))return o;parseFloat(o)===o&&(o=parseFloat(o))}catch(e){}if(null!==o&&""!==o)return o}var S="any",b="localStorage",y="cookie",d="global",I=v(),O=f();function k(e,o){if(e){var t=L(o),n=!w(t),a=j(t)?m(localStorage.getItem(e)):void 0;if(n&&!p(a))return a;var l=A(t)?m(c(e)):void 0;if(n&&l)return l;var i=r(e);return n?i:{localStorage:a,cookie:l,global:i}}}function C(e,o,t){if(e&&!p(o)){var a={},l=L(t),u=JSON.stringify(o),f=!w(l);return j(l)&&(a.localStorage={location:b,current:o,previous:m(localStorage.getItem(e))},localStorage.setItem(e,u),f)?a.localStorage:A(l)&&(a.cookie={location:y,current:o,previous:m(c(e))},i(e,u),f)?a.cookie:(a.global={location:d,current:o,previous:r(e)},n(e,o),f?a.global:a)}}function h(e,o){if(e){var t=L(o),r=k(e,"*"),n={};return!p(r.localStorage)&&j(t)&&(localStorage.removeItem(e),n.localStorage=r.localStorage),!p(r.cookie)&&A(t)&&(u(e),n.cookie=r.cookie),!p(r.global)&&N(t,d)&&(a(e),n.global=r.global),n}}function L(e){return e?"string"==typeof e?e:e.storage:S}function j(e){return I&&N(e,b)}function A(e){return O&&N(e,y)}function w(e){return"*"===e||"all"===e}function N(e,o){return e===S||e===o||w(e)}var x={setItem:C,getItem:k,removeItem:h};return e.ALL="*",e.ANY=S,e.COOKIE=y,e.GLOBAL=d,e.LOCAL_STORAGE=b,e.default=x,e.getCookie=c,e.getItem=k,e.globalContext=o,e.hasCookies=f,e.hasLocalStorage=v,e.removeCookie=u,e.removeItem=h,e.setCookie=i,e.setItem=C,e}({});
//# sourceMappingURL=storage-utils.js.map
